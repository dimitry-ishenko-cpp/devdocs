  <div class="innertube"> <h2 id="module" class="title-link"> <div class="title-name">Module</div>  </h2> <div class="REFBODY module-body">snmpa</div> </div> <div class="innertube"> <h2 id="module-summary" class="title-link"> <div class="title-name">Module Summary</div>  </h2> <div class="REFBODY module-summary-body">Interface Functions to the SNMP toolkit agent</div> </div> <section class="description"><div class="innertube"> <h2 id="description" class="title-link"> <div class="title-name">Description</div>  </h2> <div class="REFBODY description-body" id="data_types">

<p>The module <code>snmpa</code> contains interface functions to the SNMP agent.</p>  </div> </div></section> <section class="innertube"><h2 id="data-types" class="title-link"> data types  </h2> <div class="REFBODY rb-3" id="add_agent_caps"> <pre data-language="erlang">oid() = [byte()] 
atl_type() = read | write | read_write
notification_delivery_info() = #snmpa_notification_delivery_info{}</pre> <p>The <code>oid()</code> type is used to represent an ASN.1 OBJECT IDENTIFIER. </p> <p>The record <code>snmpa_notification_delivery_info</code> contains the following fields: </p> <dl> <dt class="title-link"><strong><code>tag = term()</code></strong></dt> <dd> <p>A user defined identity representing this notification send operation.</p> </dd> <dt class="title-link"><strong><code>mod = module()</code></strong></dt> <dd> <p>A module implementing the <code><a href="snmpa_notification_delivery_info_receiver.html">snmpa_notification_delivery_info_receiver</a></code> behaviour. The info functions of this module will be called at various stages of delivery. </p> </dd> <dt class="title-link"><strong><code>extra = term()</code></strong></dt> <dd> <p>This is any extra info the user wants to have supplied when the functions in the callback module is called. </p> </dd> </dl>  </div></section> <div class="innertube"><h2 id="export" class="title-link"> <div class="title-name">Exports</div>  </h2></div> <div class="exports-body"> <article class="func"><div class="bold_code func-head"><h3 id="add_agent_caps-2" class="title-link">  <div class="title-name">add_agent_caps(SysORID, SysORDescr) -&gt; SysORIndex</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>SysORID = oid()</code><br> </div> <div class="REFTYPES rt-4"> <code>SysORDescr = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>SysORIndex = integer()</code><br> </div> </div> <div class="REFBODY rb-7" id="del_agent_caps"> <p>This function can be used to add an AGENT-CAPABILITY statement to the sysORTable in the agent. The table is defined in the SNMPv2-MIB.</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="del_agent_caps-1" class="title-link">  <div class="title-name">del_agent_caps(SysORIndex) -&gt; void()</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>SysORIndex = integer()</code><br> </div> </div> <div class="REFBODY rb-7" id="get_agent_caps"> <p>This function can be used to delete an AGENT-CAPABILITY statement to the sysORTable in the agent. This table is defined in the SNMPv2-MIB. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="get_agent_caps-0" class="title-link">  <div class="title-name">get_agent_caps() -&gt; [[SysORIndex, SysORID, SysORDescr, SysORUpTime]]</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>SysORIndex = integer()</code><br> </div> <div class="REFTYPES rt-4"> <code>SysORId = oid()</code><br> </div> <div class="REFTYPES rt-4"> <code>SysORDescr = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>SysORUpTime = integer()</code><br> </div> </div> <div class="REFBODY rb-7" id="get"> <p>Returns all AGENT-CAPABILITY statements in the sysORTable in the agent. This table is defined in the SNMPv2-MIB. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="get-2" class="title-link">  <div class="title-name">get(Agent, Vars) -&gt; Values | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="get-3" class="title-link">  <div class="title-name">get(Agent, Vars, Context) -&gt; Values | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Vars = [oid()]</code><br> </div> <div class="REFTYPES rt-4"> <code>Context = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Values = [term()]</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = {atom(), oid()}</code><br> </div> </div> <div class="REFBODY rb-7" id="get_next"> <p>Performs a GET operation on the agent. All loaded MIB objects are visible in this operation. The agent calls the corresponding instrumentation functions just as if it was a GET request coming from a manager. </p> <p>Note that the request specific parameters (such as <code><a href="#current_request_id">current_request_id</a></code>) are not accessible for the instrumentation functions if this function is used. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="get_next-2" class="title-link">  <div class="title-name">get_next(Agent, Vars) -&gt; Values | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="get_next-3" class="title-link">  <div class="title-name">get_next(Agent, Vars, Context) -&gt; Values | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Vars = [oid()]</code><br> </div> <div class="REFTYPES rt-4"> <code>Context = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Values = [{oid(), term()}]</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = {atom(), oid()}</code><br> </div> </div> <div class="REFBODY rb-7" id="backup"> <p>Performs a GET-NEXT operation on the agent. All loaded MIB objects are visible in this operation. The agent calls the corresponding instrumentation functions just as if it was a GET request coming from a manager. </p> <p>Note that the request specific parameters (such as <code>snmpa:current_request_id/0</code> are not accessible for the instrumentation functions if this function is used. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="backup-1" class="title-link">  <div class="title-name">backup(BackupDir) -&gt; ok | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="backup-2" class="title-link">  <div class="title-name">backup(Agent, BackupDir) -&gt; ok | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>BackupDir = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = backup_in_progress | term()</code><br> </div> </div> <div class="REFBODY rb-7" id="info"> <p>Backup persistent/permanent data handled by the agent (such as local-db, mib-data and vacm). </p> <p>Data stored by mnesia is not handled. </p> <p>BackupDir cannot be identical to DbDir. </p> <p>Simultaneous backup calls are <strong>not</strong> allowed. That is, two different processes cannot simultaneously successfully call this function. One of them will be first, and succeed. The second will fail with the error reason <code>backup_in_progress</code>. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="info-0" class="title-link">  <div class="title-name">info() -&gt; [{Key, Value}]</div> </h3></div> <div class="bold_code func-head"><h3 id="info-1" class="title-link">  <div class="title-name">info(Agent) -&gt; [{Key, Value}]</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> </div> <div class="REFBODY rb-7" id="load_mib"> <p>Returns a list (a dictionary) containing information about the agent. Information includes loaded MIBs, registered sub-agents, some information about the memory allocation. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="load_mib-1" class="title-link">  <div class="title-name">load_mib(Mib) -&gt; ok | {error, Reason}</div> <div class="title-since"><span class="since">OTP R16B02</span></div> </h3></div> <div class="bold_code func-head"><h3 id="load_mib-2" class="title-link">  <div class="title-name">load_mib(Agent, Mib) -&gt; ok | {error, Reason}</div> <div class="title-since"><span class="since">OTP R16B02</span></div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>MibName = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = already_loaded | term()</code><br> </div> </div> <div class="REFBODY rb-7" id="load_mibs"> <p>Load a single <code>Mib</code> into an agent. The <code>MibName</code> is the name of the Mib, including the path to where the compiled mib is found. For example: </p> <pre data-language="erlang">Dir = code:priv_dir(my_app) ++ "/mibs/",
snmpa:load_mib(snmp_master_agent, Dir ++ "MY-MIB").</pre>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="load_mibs-1" class="title-link">  <div class="title-name">load_mibs(Mibs) -&gt; ok | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="load_mibs-2" class="title-link">  <div class="title-name">load_mibs(Mibs, Force) -&gt; ok | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="load_mibs-2" class="title-link">  <div class="title-name">load_mibs(Agent, Mibs) -&gt; ok | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="load_mibs-3" class="title-link">  <div class="title-name">load_mibs(Agent, Mibs, Force) -&gt; ok | {error, Reason}</div> <div class="title-since"><span class="since">OTP R16B02</span></div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Mibs = [MibName]</code><br> </div> <div class="REFTYPES rt-4"> <code>Force = boolean()</code><br> </div> <div class="REFTYPES rt-4"> <code>MibName = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = {'load aborted at', MibName, InternalReason}</code><br> </div> <div class="REFTYPES rt-4"> <code>InternalReason = already_loaded | term()</code><br> </div> </div> <div class="REFBODY rb-7" id="unload_mib"> <p>Load <code>Mibs</code> into an agent. If the agent cannot load all MIBs (the default value of the <code>Force</code> argument is <code>false</code>), it will indicate where loading was aborted. The <code>MibName</code> is the name of the Mib, including the path to where the compiled mib is found. For example,</p> <pre data-language="erlang">Dir = code:priv_dir(my_app) ++ "/mibs/",
snmpa:load_mibs(snmp_master_agent, [Dir ++ "MY-MIB"]).</pre> <p>If <code>Force = true</code> then the agent will continue attempting to load each mib even after failing to load a previous mib. Use with care. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="unload_mib-1" class="title-link">  <div class="title-name">unload_mib(Mib) -&gt; ok | {error, Reason}</div> <div class="title-since"><span class="since">OTP R16B02</span></div> </h3></div> <div class="bold_code func-head"><h3 id="unload_mib-2" class="title-link">  <div class="title-name">unload_mib(Agent, Mib) -&gt; ok | {error, Reason}</div> <div class="title-since"><span class="since">OTP R16B02</span></div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>MibName = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = not_loaded | term()</code><br> </div> </div> <div class="REFBODY rb-7" id="unload_mibs"> <p>Unload a single <code>Mib</code> from an agent. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="unload_mibs-1" class="title-link">  <div class="title-name">unload_mibs(Mibs) -&gt; ok | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="unload_mibs-2" class="title-link">  <div class="title-name">unload_mibs(Mibs, Force) -&gt; ok | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="unload_mibs-2" class="title-link">  <div class="title-name">unload_mibs(Agent, Mibs) -&gt; ok | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="unload_mibs-3" class="title-link">  <div class="title-name">unload_mibs(Agent, Mibs, Force) -&gt; ok | {error, Reason}</div> <div class="title-since"><span class="since">OTP R16B02</span></div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Mibs = [MibName]</code><br> </div> <div class="REFTYPES rt-4"> <code>Force = boolean()</code><br> </div> <div class="REFTYPES rt-4"> <code>MibName = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = {'unload aborted at', MibName, InternalReason}</code><br> </div> <div class="REFTYPES rt-4"> <code>InternalReason = not_loaded | term()</code><br> </div> </div> <div class="REFBODY rb-7" id="which_mibs"> <p>Unload <code>Mibs</code> from an agent. If it cannot unload all MIBs (the default value of the <code>Force</code> argument is <code>false</code>), it will indicate where unloading was aborted. </p> <p>If <code>Force = true</code> then the agent will continue attempting to unload each mib even after failing to unload a previous mib. Use with care. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="which_mibs-0" class="title-link">  <div class="title-name">which_mibs() -&gt; Mibs</div> </h3></div> <div class="bold_code func-head"><h3 id="which_mibs-1" class="title-link">  <div class="title-name">which_mibs(Agent) -&gt; Mibs</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Mibs = [{MibName, MibFile}]</code><br> </div> <div class="REFTYPES rt-4"> <code>MibName = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>MibFile = string()</code><br> </div> </div> <div class="REFBODY rb-7" id="whereis_mib"> <p>Retrieve the list of all the mibs loaded into this agent. Default is the master agent. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="whereis_mib-1" class="title-link">  <div class="title-name">whereis_mib(MibName) -&gt; {ok, MibFile} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="whereis_mib-2" class="title-link">  <div class="title-name">whereis_mib(Agent, MibName) -&gt; {ok, MibFile} | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>MibName = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>MibFile = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = term()</code><br> </div> </div> <div class="REFBODY rb-7" id="current_address"> <p>Get the full path to the (compiled) mib-file. </p>     </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="current_request_id-0" class="title-link">  <div class="title-name">current_request_id() -&gt; {value, RequestId} | false</div> </h3></div> <div class="bold_code func-head"><h3 id="current_context-0" class="title-link">  <div class="title-name">current_context() -&gt; {value, Context} | false</div> </h3></div> <div class="bold_code func-head"><h3 id="current_community-0" class="title-link">  <div class="title-name">current_community() -&gt; {value, Community} | false</div> </h3></div> <div class="bold_code func-head"><h3 id="current_address-0" class="title-link">  <div class="title-name">current_address() -&gt; {value, Address} | false</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>RequestId = integer()</code><br> </div> <div class="REFTYPES rt-4"> <code>Context = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Community = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Address = term()</code><br> </div> </div> <div class="REFBODY rb-7" id="enum_to_int"> <p>Get the request-id, context, community and address of the request currently being processed by the agent. </p> <p>Note that these functions is intended to be called by the instrumentation functions and <strong>only</strong> if they are executed in the context of the agent process (e.g. it does not work if called from a spawned process).</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="enum_to_int-2" class="title-link">  <div class="title-name">enum_to_int(Name, Enum) -&gt; {value, Int} | false</div> </h3></div> <div class="bold_code func-head"><h3 id="enum_to_int-3" class="title-link">  <div class="title-name">enum_to_int(Db, Name, Enum) -&gt; {value, Int} | false</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Db = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>Name = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Enum = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Int = int()</code><br> </div> </div> <div class="REFBODY rb-7" id="int_to_enum"> <p>Converts the symbolic value <code>Enum</code> to the corresponding integer of the enumerated object or type <code>Name</code> in a MIB. The MIB must be loaded. </p> <p><code>false</code> is returned if the object or type is not defined in any loaded MIB, or if it does not define the symbolic value as enumerated. </p> <p><code>Db</code> is a reference to the symbolic store database (retrieved by a call to <code>get_symbolic_store_db/0</code>). </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="int_to_enum-2" class="title-link">  <div class="title-name">int_to_enum(Name, Int) -&gt; {value, Enum} | false</div> </h3></div> <div class="bold_code func-head"><h3 id="int_to_enum-3" class="title-link">  <div class="title-name">int_to_enum(Db, Name, Int) -&gt; {value, Enum} | false</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Db = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>Name = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Int = int()</code><br> </div> <div class="REFTYPES rt-4"> <code>Enum = atom()</code><br> </div> </div> <div class="REFBODY rb-7" id="name_to_oid"> <p>Converts the integer <code>Int</code> to the corresponding symbolic value of the enumerated object or type <code>Name</code> in a MIB. The MIB must be loaded. </p> <p><code>false</code> is returned if the object or type is not defined in any loaded MIB, or if it does not define the symbolic value as enumerated. </p> <p><code>Db</code> is a reference to the symbolic store database (retrieved by a call to <code>get_symbolic_store_db/0</code>). </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="name_to_oid-1" class="title-link">  <div class="title-name">name_to_oid(Name) -&gt; {value, oid()} | false</div> </h3></div> <div class="bold_code func-head"><h3 id="name_to_oid-2" class="title-link">  <div class="title-name">name_to_oid(Db, Name) -&gt; {value, oid()} | false</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Db = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>Name = atom()</code><br> </div> </div> <div class="REFBODY rb-7" id="oid_to_name"> <p>Looks up the OBJECT IDENTIFIER of a MIB object, given the symbolic name. Note, the OBJECT IDENTIFIER is given for the object, not for an instance. </p> <p><code>false</code> is returned if the object is not defined in any loaded MIB. </p> <p><code>Db</code> is a reference to the symbolic store database (retrieved by a call to <code>get_symbolic_store_db/0</code>). </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="oid_to_name-1" class="title-link">  <div class="title-name">oid_to_name(OID) -&gt; {value, Name} | false</div> </h3></div> <div class="bold_code func-head"><h3 id="oid_to_name-2" class="title-link">  <div class="title-name">oid_to_name(Db, OID) -&gt; {value, Name} | false</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Db = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>OID = oid()</code><br> </div> <div class="REFTYPES rt-4"> <code>Name = atom()</code><br> </div> </div> <div class="REFBODY rb-7" id="which_aliasnames"> <p>Looks up the symbolic name of a MIB object, given OBJECT IDENTIFIER. </p> <p><code>false</code> is returned if the object is not defined in any loaded MIB. </p> <p><code>Db</code> is a reference to the symbolic store database (retrieved by a call to <code>get_symbolic_store_db/0</code>). </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="which_aliasnames-0" class="title-link">  <div class="title-name">which_aliasnames() -&gt; Result</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Result = [atom()]</code><br> </div> </div> <div class="REFBODY rb-7" id="which_tables"> <p>Retrieve all alias-names known to the agent.</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="which_tables-0" class="title-link">  <div class="title-name">which_tables() -&gt; Result</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Result = [atom()]</code><br> </div> </div> <div class="REFBODY rb-7" id="which_transports"> <p>Retrieve all tables known to the agent.</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="which_transports-0" class="title-link">  <div class="title-name">which_transports() -&gt; Result</div> <div class="title-since"><span class="since">OTP 23.3</span></div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Result = [{TDomain, TAddress} | {TDomain, TAddress, Kind}]</code><br> </div> <div class="REFTYPES rt-4"> <code>TDomain = transportDomainUdpIpv4 | transportDomainUdpIpv6</code><br> </div> <div class="REFTYPES rt-4"> <code>TAddress = {IpAddr, IpPort}</code><br> </div> <div class="REFTYPES rt-4"> <code>IpAddr = inet:ip_address()</code><br> </div> <div class="REFTYPES rt-4"> <code>IpPort = pos_integer()</code><br> </div> <div class="REFTYPES rt-4"> <code>Kind = req_responder | trap_sender</code><br> </div> </div> <div class="REFBODY rb-7" id="which_variables"> <p>Retrieve all configured transports.</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="which_variables-0" class="title-link">  <div class="title-name">which_variables() -&gt; Result</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Result = [atom()]</code><br> </div> </div> <div class="REFBODY rb-7" id="which_notifications"> <p>Retrieve all variables known to the agent.</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="which_notifications-0" class="title-link">  <div class="title-name">which_notifications() -&gt; Result</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Result = [{Name, MibName, Info}]</code><br> </div> <div class="REFTYPES rt-4"> <code>Name = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>MibName = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Info = term()</code><br> </div> </div> <div class="REFBODY rb-7" id="log_to_txt"> <p>Retrieve all notifications (and traps) known to the agent.</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="log_to_txt-1" class="title-link">  <div class="title-name">log_to_txt(LogDir)</div> <div class="title-since"><span class="since">OTP R15B01</span></div> </h3></div> <div class="bold_code func-head"><h3 id="log_to_txt-2" class="title-link">  <div class="title-name">log_to_txt(LogDir, Block | Mibs)</div> </h3></div> <div class="bold_code func-head"><h3 id="log_to_txt-3" class="title-link">  <div class="title-name">log_to_txt(LogDir, Mibs, Block | OutFile) -&gt; ok | {ok, Cnt} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="log_to_txt-4" class="title-link">  <div class="title-name">log_to_txt(LogDir, Mibs, OutFile, Block | LogName) -&gt; ok | {ok, Cnt} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="log_to_txt-5" class="title-link">  <div class="title-name">log_to_txt(LogDir, Mibs, OutFile, LogName, Block | LogFile) -&gt; ok | {ok, Cnt} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="log_to_txt-6" class="title-link">  <div class="title-name">log_to_txt(LogDir, Mibs, OutFile, LogName, LogFile, Block | Start) -&gt; ok | {ok, Cnt} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="log_to_txt-7" class="title-link">  <div class="title-name">log_to_txt(LogDir, Mibs, OutFile, LogName, LogFile, Block, Start) -&gt; ok | {ok, Cnt} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="log_to_txt-7" class="title-link">  <div class="title-name">log_to_txt(LogDir, Mibs, OutFile, LogName, LogFile, Start, Stop) -&gt; ok | {ok, Cnt} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="log_to_txt-8" class="title-link">  <div class="title-name">log_to_txt(LogDir, Mibs, OutFile, LogName, LogFile, Block, Start, Stop) -&gt; ok | {ok, Cnt} | {error, Reason}</div> <div class="title-since"><span class="since">OTP R16B03</span></div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>LogDir = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Mibs = [MibName]</code><br> </div> <div class="REFTYPES rt-4"> <code>MibName = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Block = boolean()</code><br> </div> <div class="REFTYPES rt-4"> <code>OutFile = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>LogName = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>LogFile = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Start = Stop = null | calendar:datetime() | {local_time, calendar:datetime()} | {universal_time, calendar:datetime()}</code><br> </div> <div class="REFTYPES rt-4"> <code>Cnt = {NumOK, NumERR}</code><br> </div> <div class="REFTYPES rt-4"> <code>NumOK = non_neg_integer()</code><br> </div> <div class="REFTYPES rt-4"> <code>NumERR = pos_integer()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = disk_log_open_error() | file_open_error() | term()</code><br> </div> <div class="REFTYPES rt-4"> <code>disk_log_open_error() = {LogName, term()}</code><br> </div> <div class="REFTYPES rt-4"> <code>file_open_error() = {OutFile, term()}</code><br> </div> </div> <div class="REFBODY rb-7" id="log_to_io"> <p>Converts an Audit Trail Log to a readable text file. <code>OutFile</code> defaults to "./snmpa_log.txt". <code>LogName</code> defaults to "snmpa_log". <code>LogFile</code> defaults to "snmpa.log". </p> <p>The <code>Block</code> option indicates if the log should be blocked during conversion. This could be useful when converting large logs (when otherwise the log could wrap during conversion). Defaults to <code>true</code>. </p> <p>See <code><a href="snmp.html#log_to_txt">snmp:log_to_txt</a></code> for more info.</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="log_to_io-1" class="title-link">  <div class="title-name">log_to_io(LogDir) -&gt; ok | {ok, Cnt} | {error, Reason}</div> <div class="title-since"><span class="since">OTP R15B01</span></div> </h3></div> <div class="bold_code func-head"><h3 id="log_to_io-2" class="title-link">  <div class="title-name">log_to_io(LogDir, Block | Mibs) -&gt; ok | {ok, Cnt} | {error, Reason}</div> <div class="title-since"><span class="since">OTP R15B01</span></div> </h3></div> <div class="bold_code func-head"><h3 id="log_to_io-3" class="title-link">  <div class="title-name">log_to_io(LogDir, Mibs, Block | LogName) -&gt; ok | {ok, Cnt} | {error, Reason}</div> <div class="title-since"><span class="since">OTP R15B01</span></div> </h3></div> <div class="bold_code func-head"><h3 id="log_to_io-4" class="title-link">  <div class="title-name">log_to_io(LogDir, Mibs, LogName, Block | LogFile) -&gt; ok | {ok, Cnt} | {error, Reason}</div> <div class="title-since"><span class="since">OTP R15B01</span></div> </h3></div> <div class="bold_code func-head"><h3 id="log_to_io-5" class="title-link">  <div class="title-name">log_to_io(LogDir, Mibs, LogName, LogFile, Block | Start) -&gt; ok | {ok, Cnt} | {error, Reason}</div> <div class="title-since"><span class="since">OTP R15B01</span></div> </h3></div> <div class="bold_code func-head"><h3 id="log_to_io-6" class="title-link">  <div class="title-name">log_to_io(LogDir, Mibs, LogName, LogFile, Block, Start) -&gt; ok | {ok, Cnt} | {error, Reason}</div> <div class="title-since"><span class="since">OTP R15B01</span></div> </h3></div> <div class="bold_code func-head"><h3 id="log_to_io-6" class="title-link">  <div class="title-name">log_to_io(LogDir, Mibs, LogName, LogFile, Start, Stop) -&gt; ok | {ok, Cnt} | {error, Reason}</div> <div class="title-since"><span class="since">OTP R15B01</span></div> </h3></div> <div class="bold_code func-head"><h3 id="log_to_io-7" class="title-link">  <div class="title-name">log_to_io(LogDir, Mibs, LogName, LogFile, Block, Start, Stop) -&gt; ok | {ok, Cnt} | {error, Reason}</div> <div class="title-since"><span class="since">OTP R16B03</span></div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>LogDir = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Mibs = [MibName]</code><br> </div> <div class="REFTYPES rt-4"> <code>MibName = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Block = boolean()</code><br> </div> <div class="REFTYPES rt-4"> <code>LogName = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>LogFile = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Start = Stop = null | calendar:datetime() | {local_time, calendar:datetime()} | {universal_time, calendar:datetime()}</code><br> </div> <div class="REFTYPES rt-4"> <code>Cnt = {NumOK, NumERR}</code><br> </div> <div class="REFTYPES rt-4"> <code>NumOK = non_neg_integer()</code><br> </div> <div class="REFTYPES rt-4"> <code>NumERR = pos_integer()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = disk_log_open_error() | file_open_error() | term()</code><br> </div> <div class="REFTYPES rt-4"> <code>disk_log_open_error() = {LogName, term()}</code><br> </div> <div class="REFTYPES rt-4"> <code>file_open_error() = {OutFile, term()}</code><br> </div> </div> <div class="REFBODY rb-7" id="change_log_size"> <p>Converts an Audit Trail Log to a readable format and prints it on stdio. <code>LogName</code> defaults to "snmpa_log". <code>LogFile</code> defaults to "snmpa.log".</p> <p>The <code>Block</code> option indicates if the log should be blocked during conversion. This could be useful when converting large logs (when otherwise the log could wrap during conversion). Defaults to <code>true</code>. </p> <p>See <code><a href="snmp.html#log_to_io">snmp:log_to_io</a></code> for more info.</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="change_log_size-1" class="title-link">  <div class="title-name">change_log_size(NewSize) -&gt; ok | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>NewSize = {MaxBytes, MaxFiles}</code><br> </div> <div class="REFTYPES rt-4"> <code>MaxBytes = integer()</code><br> </div> <div class="REFTYPES rt-4"> <code>MaxFiles = integer()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = term()</code><br> </div> </div> <div class="REFBODY rb-7" id="set_log_type"> <p>Changes the log size of the Audit Trail Log. The application must be configured to use the audit trail log function. Please refer to disk_log(3) in Kernel Reference Manual for a description of how to change the log size. </p> <p>The change is permanent, as long as the log is not deleted. That means, the log size is remembered across reboots. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="set_log_type-1" class="title-link">  <div class="title-name">set_log_type(NewType) -&gt; {ok, OldType} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="set_log_type-2" class="title-link">  <div class="title-name">set_log_type(Agent, NewType) -&gt; {ok, OldType} | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>NewType = OldType = atl_type()</code><br> </div> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = term()</code><br> </div> </div> <div class="REFBODY rb-7" id="mib_of"> <p>Changes the run-time Audit Trail log type. </p> <p>Note that this has no effect on the application configuration as defined by configuration files, so a node restart will revert the config to whatever is in those files. </p> <p>This function is primarily useful in testing/debugging scenarios. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="mib_of-1" class="title-link">  <div class="title-name">mib_of(Oid) -&gt; {ok, MibName} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="mib_of-2" class="title-link">  <div class="title-name">mib_of(Agent, Oid) -&gt; {ok, MibName} | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Oid = oid()</code><br> </div> <div class="REFTYPES rt-4"> <code>MibName = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = term()</code><br> </div> </div> <div class="REFBODY rb-7" id="me_of"> <p>Finds the mib corresponding to the <code>Oid</code>. If it is a variable, the Oid must be &lt;Oid for var&gt;.0 and if it is a table, Oid must be &lt;table&gt;.&lt;entry&gt;.&lt;col&gt;.&lt;any&gt;</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="me_of-1" class="title-link">  <div class="title-name">me_of(Oid) -&gt; {ok, Me} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="me_of-2" class="title-link">  <div class="title-name">me_of(Agent, Oid) -&gt; {ok, Me} | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Oid = oid()</code><br> </div> <div class="REFTYPES rt-4"> <code>Me = #me{}</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = term()</code><br> </div> </div> <div class="REFBODY rb-7" id="invalidate_mibs_cache"> <p>Finds the mib entry corresponding to the <code>Oid</code>. If it is a variable, the Oid must be &lt;Oid for var&gt;.0 and if it is a table, Oid must be &lt;table&gt;.&lt;entry&gt;.&lt;col&gt;.&lt;any&gt;</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="invalidate_mibs_cache-0" class="title-link">  <div class="title-name">invalidate_mibs_cache() -&gt; void()</div> </h3></div> <div class="bold_code func-head"><h3 id="invalidate_mibs_cache-1" class="title-link">  <div class="title-name">invalidate_mibs_cache(Agent) -&gt; void()</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> </div> <div class="REFBODY rb-7" id="enable_mibs_cache"> <p>Invalidate the mib server cache. </p> <p>The entire contents of the cache will be deleted. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="enable_mibs_cache-0" class="title-link">  <div class="title-name">enable_mibs_cache() -&gt; void()</div> </h3></div> <div class="bold_code func-head"><h3 id="enable_mibs_cache-1" class="title-link">  <div class="title-name">enable_mibs_cache(Agent) -&gt; void()</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> </div> <div class="REFBODY rb-7" id="disable_mibs_cache"> <p>Enable the mib server cache. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="disable_mibs_cache-0" class="title-link">  <div class="title-name">disable_mibs_cache() -&gt; void()</div> </h3></div> <div class="bold_code func-head"><h3 id="disable_mibs_cache-1" class="title-link">  <div class="title-name">disable_mibs_cache(Agent) -&gt; void()</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> </div> <div class="REFBODY rb-7" id="which_mibs_cache_size"> <p>Disable the mib server cache. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="which_mibs_cache_size-0" class="title-link">  <div class="title-name">which_mibs_cache_size() -&gt; void()</div> <div class="title-since"><span class="since">OTP R14B</span></div> </h3></div> <div class="bold_code func-head"><h3 id="which_mibs_cache_size-1" class="title-link">  <div class="title-name">which_mibs_cache_size(Agent) -&gt; void()</div> <div class="title-since"><span class="since">OTP R14B</span></div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> </div> <div class="REFBODY rb-7" id="gc_mibs_cache"> <p>Retrieve the size of the mib server cache. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="gc_mibs_cache-0" class="title-link">  <div class="title-name">gc_mibs_cache() -&gt; {ok, NumElementsGCed} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="gc_mibs_cache-1" class="title-link">  <div class="title-name">gc_mibs_cache(Agent) -&gt; {ok, NumElementsGCed} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="gc_mibs_cache-1" class="title-link">  <div class="title-name">gc_mibs_cache(Age) -&gt; {ok, NumElementsGCed} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="gc_mibs_cache-2" class="title-link">  <div class="title-name">gc_mibs_cache(Agent, Age) -&gt; {ok, NumElementsGCed} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="gc_mibs_cache-2" class="title-link">  <div class="title-name">gc_mibs_cache(Age, GcLimit) -&gt; {ok, NumElementsGCed} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="gc_mibs_cache-3" class="title-link">  <div class="title-name">gc_mibs_cache(Agent, Age, GcLimit) -&gt; {ok, NumElementsGCed} | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Age = integer() &gt; 0</code><br> </div> <div class="REFTYPES rt-4"> <code>GcLimit = integer() &gt; 0 | infinity</code><br> </div> <div class="REFTYPES rt-4"> <code>NumElementsGCed = integer() &gt;= 0</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = term()</code><br> </div> </div> <div class="REFBODY rb-7" id="enable_mibs_cache_autogc"> <p>Perform mib server cache gc. </p> <p>Manually performs a mib server cache gc. This can be done regardless of the value of the <code>autogc</code> option. The <code>NumElementsGCed</code> value indicates how many elements where actually removed from the cache. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="enable_mibs_cache_autogc-0" class="title-link">  <div class="title-name">enable_mibs_cache_autogc() -&gt; void()</div> </h3></div> <div class="bold_code func-head"><h3 id="enable_mibs_cache_autogc-1" class="title-link">  <div class="title-name">enable_mibs_cache_autogc(Agent) -&gt; void()</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> </div> <div class="REFBODY rb-7" id="disable_mibs_cache_autogc"> <p>Enable automatic gc of the mib server cache. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="disable_mibs_cache_autogc-0" class="title-link">  <div class="title-name">disable_mibs_cache_autogc() -&gt; void()</div> </h3></div> <div class="bold_code func-head"><h3 id="disable_mibs_cache_autogc-1" class="title-link">  <div class="title-name">disable_mibs_cache_autogc(Agent) -&gt; void()</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> </div> <div class="REFBODY rb-7" id="update_mibs_cache_age"> <p>Disable automatic gc of the mib server cache. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="update_mibs_cache_age-1" class="title-link">  <div class="title-name">update_mibs_cache_age(NewAge) -&gt; ok | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="update_mibs_cache_age-2" class="title-link">  <div class="title-name">update_mibs_cache_age(Agent, NewAge) -&gt; ok | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>NewAge = integer() &gt; 0</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = term()</code><br> </div> </div> <div class="REFBODY rb-7" id="update_mibs_cache_gclimit"> <p>Change the mib server cache <code>age</code> property. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="update_mibs_cache_gclimit-1" class="title-link">  <div class="title-name">update_mibs_cache_gclimit(NewGcLimit) -&gt; ok | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="update_mibs_cache_gclimit-2" class="title-link">  <div class="title-name">update_mibs_cache_gclimit(Agent, NewGCLimit) -&gt; ok | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>NewGcLimit = integer() &gt; 0 | infinity</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = term()</code><br> </div> </div> <div class="REFBODY rb-7" id="register_notification_filter"> <p>Change the mib server cache <code>gclimit</code> property. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="register_notification_filter-3" class="title-link">  <div class="title-name">register_notification_filter(Id, Mod, Data) -&gt; ok | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="register_notification_filter-4" class="title-link">  <div class="title-name">register_notification_filter(Agent, Id, Mod, Data) -&gt; ok | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="register_notification_filter-4" class="title-link">  <div class="title-name">register_notification_filter(Id, Mod, Data, Where) -&gt; ok | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="register_notification_filter-5" class="title-link">  <div class="title-name">register_notification_filter(Agent, Id, Mod, Data, Where) -&gt; ok | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Id = filter_id()</code><br> </div> <div class="REFTYPES rt-4"> <code>filter_id() = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>Mod = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Data = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>Where = filter_position()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>filter_position() = first | last | {insert_before, filter_id()} | {insert_after, filter_id()}</code><br> </div> </div> <div class="REFBODY rb-7" id="unregister_notification_filter"> <p>Registers a notification filter. </p> <p><code>Mod</code> is a module implementing the <code>snmpa_notification_filter</code> behaviour.</p> <p><code>Data</code> will be passed on to the filter when calling the functions of the behaviour.</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="unregister_notification_filter-1" class="title-link">  <div class="title-name">unregister_notification_filter(Id) -&gt; ok | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="unregister_notification_filter-2" class="title-link">  <div class="title-name">unregister_notification_filter(Agent, Id) -&gt; ok | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Id = filter_id()</code><br> </div> <div class="REFTYPES rt-4"> <code>filter_id() = term()</code><br> </div> </div> <div class="REFBODY rb-7" id="which_notification_filter"> <p>Unregister a notification filter. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="which_notification_filter-0" class="title-link">  <div class="title-name">which_notification_filter() -&gt; Filters</div> </h3></div> <div class="bold_code func-head"><h3 id="which_notification_filter-1" class="title-link">  <div class="title-name">which_notification_filter(Agent) -&gt; Filters</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Filters = [filter_id()]</code><br> </div> <div class="REFTYPES rt-4"> <code>filter_id() = term()</code><br> </div> </div> <div class="REFBODY rb-7" id="set_request_limit"> <p>List all notification filters in an agent.</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="set_request_limit-1" class="title-link">  <div class="title-name">set_request_limit(NewLimit) -&gt; {ok, OldLimit} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="set_request_limit-2" class="title-link">  <div class="title-name">set_request_limit(Agent, NewLimit) -&gt; {ok, OldLimit} | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>NewLimit = OldLimit = infinity | integer() &gt;= 0</code><br> </div> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = term()</code><br> </div> </div> <div class="REFBODY rb-7" id="register_subagent"> <p>Changes the request limit. </p> <p>Note that this has no effect on the application configuration as defined by configuration files, so a node restart will revert the config to whatever is in those files. </p> <p>This function is primarily useful in load regulation scenarios. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="register_subagent-3" class="title-link">  <div class="title-name">register_subagent(Agent, SubTreeOid, Subagent) -&gt; ok | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>SubTreeOid = oid()</code><br> </div> <div class="REFTYPES rt-4"> <code>SubAgent = pid()</code><br> </div> </div> <div class="REFBODY rb-7" id="unregister_subagent"> <p>Registers a sub-agent under a sub-tree of another agent. </p> <p>It is easy to make mistakes when registering sub-agents and this activity should be done carefully. For example, a strange behaviour would result from the following configuration:</p> <pre data-language="erlang">
snmp_agent:register_subagent(MAPid,[1,2,3,4],SA1),
snmp_agent:register_subagent(SA1,[1,2,3], SA2).
        </pre> <p><code>SA2</code> will not get requests starting with object identifier <code>[1,2,3]</code> since <code>SA1</code> does not. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="unregister_subagent-2" class="title-link">  <div class="title-name">unregister_subagent(Agent, SubagentOidOrPid) -&gt; ok | {ok, SubAgentPid} | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>SubTreeOidorPid = oid() | pid()</code><br> </div> </div> <div class="REFBODY rb-7" id="send_notification2"> <p>Unregister a sub-agent. If the second argument is a pid, then that sub-agent will be unregistered from all trees in <code>Agent</code>. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="send_notification2-3" class="title-link">  <div class="title-name">send_notification2(Agent, Notification, SendOpts) -&gt; void()</div> <div class="title-since"><span class="since">OTP R14B03</span></div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Notification = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>SendOpts = [send_option()]</code><br> </div> <div class="REFTYPES rt-4"> <code>send_option() = {receiver, receiver()} | {name, notify_name()} | {context, context_name()} | {varbinds, varbinds()} | {local_engine_id, string()} | {extra, extra_info()}</code><br> </div> <div class="REFTYPES rt-4"> <code>receiver() = no_receiver | {tag(), tag_receiver()} | notification_delivery_info()</code><br> </div> <div class="REFTYPES rt-4"> <code>tag() = term(()</code><br> </div> <div class="REFTYPES rt-4"> <code>tag_receiver() = pid() | registered_name() | {Mod, Func, Args}</code><br> </div> <div class="REFTYPES rt-4"> <code>registered_name() = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Mod = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Func = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Args = list()</code><br> </div> <div class="REFTYPES rt-4"> <code>notify_name() = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>context_name() = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>varbinds() = [varbind()]</code><br> </div> <div class="REFTYPES rt-4"> <code>varbind() = {variable(), value()} | {{process_oid(), variable()}, value()} | {column(), row_index(), value()} |</code><br> </div> <div class="REFTYPES rt-4"> <code>variable() = aliasname() | oid()</code><br> </div> <div class="REFTYPES rt-4"> <code>aliasname() = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>process_oid() = keep (default) | truncate</code><br> </div> <div class="REFTYPES rt-4"> <code>value() = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>column() = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>row_index() = [int()]</code><br> </div> <div class="REFTYPES rt-4"> <code>extra_info() = term()</code><br> </div> </div> <div class="REFBODY rb-7" id="send_notification"> <p>Send the notification <code>Notification</code> to the management targets defined for notify-name (<code>name</code>) in the <code>snmpNotifyTable</code> in SNMP-NOTIFICATION-MIB from the specified <code>context</code>. </p> <p>If no <code>name</code> is specified (or if it is <code>""</code>), the notification is sent to all management targets. </p> <p>If no <code>context</code> is specified, the default context, <code>""</code>, is used. </p> <p>The send option <code>receiver</code> specifies where information about delivery of Inform-Requests should be sent. The agent sends Inform-Requests and waits for acknowledgments from the management targets. The <code>receiver</code> can have three values: </p> <ul> <li> <p><code>no_receiver</code> - No information is delivered. </p> </li> <li> <p><code>notification_delivery_info()</code> - The information is delivered via a function call according to this data. See the <code><a href="#data_types">DATA TYPES</a></code> section above for details. </p> </li> <li> <p><code>{tag(), tag_receiver()}</code> - The information is delivered either via messages or via a function call according to the value of <code>tag_receiver()</code>. </p> <p>Delivery is done differently depending on the value of <code>tag_receiver()</code>: </p> <ul> <li> <p><code>pid() | registered_name()</code> - The info will be delivered in the following messages: </p> <ul> <li> <p><code>{snmp_targets, tag(), Addresses}</code></p> <p>This informs the user which target addresses the notification was sent to. </p> </li> <li> <p><code>{snmp_notification, tag(), {got_response, Address}}</code></p> <p>This informs the user that this target address acknowledged the notification. </p> </li> <li> <p><code>{snmp_notification, tag(), {no_response, Address}}</code></p> <p>This informs the user that this target address did not acknowledge the notification. </p> </li> </ul> <p>The notification is sent as an Inform-Request to each target address in <code>Addresses</code> and if there are no targets for which an Inform-Request is sent, <code>Addresses</code> is the empty list <code>[]</code>. </p> <p>The <code>tag_receiver()</code> will first be sent the <code>snmp_targets</code> message, and then for each address in <code>Addresses</code> list, one of the two <code>snmp_notification</code> messages. </p> </li> <li> <p><code>{Mod, Func, Args}</code> - The info will be delivered via the function call: </p> <p><code>Mod:Func([Msg | Args])</code></p> <p>where <code>Msg</code> has the same content and purpose as the messages descrived above.</p> </li> </ul> </li> </ul> <p>The 'process oid' "tag" that can be provided with the variable name / oids is intended to be used for oid post processing. The value '<code>keep</code>', which is the default, leaves the oid as is. The value '<code>truncate</code>', will cause the oid to be "truncated". That is, any trailing ".0" will be removed. </p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>There is a way to exclude a varbind from the notification. In the normal <code>varbinds</code> list, providing the special value <code>'$ignore-oid'</code> (instead of a normal value) will exclude this varbind from the notification. </p> <p>A define for this has been added to the <code>snmp_types.hrl</code> include file, <code>NOTIFICATION_IGNORE_VB_VALUE</code>. </p> </div> </div> <div class="note"> <div class="label">Note</div> <div class="content">

<p>The <code>extra</code> info is not normally interpreted by the agent, instead it is passed through to the <code><a href="snmp_agent_netif.html">net-if</a></code> process. It is up to the implementor of that process to make use of this data. </p> <p>The version of net-if provided by this application makes no use of this data, with one exception: Any tuple containing the atom <code>snmpa_default_notification_extra_info</code> may be used by the agent and is therefore <strong>reserved</strong>. </p> <p>See the net-if incoming messages for sending a <code><a href="snmp_agent_netif.html#im_send_pdu"> trap</a></code> and <code><a href="snmp_agent_netif.html#im_send_pdu_req"> notification</a></code> for more info. </p> </div> </div>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="send_notification-3" class="title-link">  <div class="title-name">send_notification(Agent, Notification, Receiver)</div> </h3></div> <div class="bold_code func-head"><h3 id="send_notification-4" class="title-link">  <div class="title-name">send_notification(Agent, Notification, Receiver, Varbinds)</div> </h3></div> <div class="bold_code func-head"><h3 id="send_notification-5" class="title-link">  <div class="title-name">send_notification(Agent, Notification, Receiver, NotifyName, Varbinds)</div> </h3></div> <div class="bold_code func-head"><h3 id="send_notification-6" class="title-link">  <div class="title-name">send_notification(Agent, Notification, Receiver, NotifyName, ContextName, Varbinds) -&gt; void() </div> </h3></div> <div class="bold_code func-head"><h3 id="send_notification-7" class="title-link">  <div class="title-name">send_notification(Agent, Notification, Receiver, NotifyName, ContextName, Varbinds, LocalEngineID) -&gt; void() </div> <div class="title-since"><span class="since">OTP R14B</span></div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Notification = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Receiver = no_receiver | {Tag, Recv} | notification_delivery_info()</code><br> </div> <div class="REFTYPES rt-4"> <code>Tag = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>Recv = receiver()</code><br> </div> <div class="REFTYPES rt-4"> <code>receiver() = pid() | atom() | {Mod, Func, Args}</code><br> </div> <div class="REFTYPES rt-4"> <code>Mod = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Func = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Args = list()</code><br> </div> <div class="REFTYPES rt-4"> <code>NotifyName = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>ContextName = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Varbinds = varbinds()</code><br> </div> <div class="REFTYPES rt-4"> <code>varbinds() = [varbind()]</code><br> </div> <div class="REFTYPES rt-4"> <code>varbind() = {Variable, Value} | {Column, RowIndex, Value} | {OID, Value}</code><br> </div> <div class="REFTYPES rt-4"> <code>Variable = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Column = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>OID = oid()</code><br> </div> <div class="REFTYPES rt-4"> <code>Value = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>RowIndex = [int()]</code><br> </div> <div class="REFTYPES rt-4"> <code>LocalEngineID = string()</code><br> </div> </div> <div class="REFBODY rb-7" id="discovery"> <p>Sends the notification <code>Notification</code> to the management targets defined for <code>NotifyName</code> in the <code>snmpNotifyTable</code> in SNMP-NOTIFICATION-MIB from the specified context. </p> <p>If no <code>NotifyName</code> is specified (or if it is <code>""</code>), the notification is sent to all management targets (<code>Addresses</code> below). </p> <p>If no <code>ContextName</code> is specified, the default <code>""</code> context is used. </p> <p>The parameter <code>Receiver</code> specifies where information about delivery of Inform-Requests should be sent. The agent sends Inform-Requests and waits for acknowledgments from the managers. <code>Receiver</code> can have three values: </p> <ul> <li> <p><code>no_receiver</code> - No information is delivered. </p> </li> <li> <p><code>notification_delivery_info()</code> - The information is delivered via a function call according to this data. See the <code><a href="#data_types">DATA TYPES</a></code> section above for details. </p> </li> <li> <p><code>{Tag, Recv}</code> - The information is delivered either via messages or via a function call according to the value of <code>Recv</code>. </p> </li> </ul> <p>If <code>Receiver</code> has the value <code>{Tag, Recv}</code>, the delivery is done according to <code>Recv</code>: </p> <ul> <li> <p><code>pid() | atom()</code> - The info will be delivered in the following messages: </p> <ul> <li> <p><code>{snmp_targets, Tag, Addresses}</code></p> <p>This inform the user which target addresses the notification was sent to. </p> </li> <li> <p><code>{snmp_notification, Tag, {got_response, Address}}</code></p> <p>This informs the user that this target address acknowledged the notification. </p> </li> <li> <p><code>{snmp_notification, Tag, {no_response, Address}}</code></p> <p>This informs the user that this target address did not acknowledge notification. </p> </li> </ul> <p>The notification is sent as an Inform-Request to each target address in <code>Addresses</code> and if there are no targets for which an Inform-Request is sent, <code>Addresses</code> is the empty list <code>[]</code>. </p> <p>The <code>receiver</code> will first be sent the <code>snmp_targets</code> message, and then for each address in <code>Addresses</code> list, one of the two <code>snmp_notification</code> messages. </p> </li> <li> <p><code>{Mod, Func, Args}</code> - The info will be delivered via the function call: </p> <p><code>Mod:Func([Msg | Args])</code></p> <p>where <code>Msg</code> has the same content and purpose as the messages descrived above.</p> </li> </ul> <p><code>Address</code> is a management target address and <code>Addresses</code> is a list of management target addresses. They are defined as followes: </p> <pre data-language="erlang">
Addresses  = [address()]
Address    = address()
address()  = v1_address() | v3_address()
v1_address() = {TDomain, TAddress}
v3_address() = {{TDomain, TAddress}, V3MsgData}
TDomain    = tdoamin()
TAddress   = taddress()
tdomain()  = The oid of snmpUDPDomain 
             This is the only supported transport domain.
taddress() = [A1, A2, A3, A4, P1, P3]
             The 4 first bytes makes up the IP-address and the last 2,
             the UDP-port number.
V3MsgData  = v3_msg_data()
v3_msg_data() = term()
</pre> <p>If <code>Receiver</code> is a <code>notification_delivery_info()</code> record, then the information about the notification delivery will be delivered to the <code>receiver</code> via the callback functions defined by the <code><a href="snmpa_notification_delivery_info_receiver.html">snmpa_notification_delivery_info_receiver</a></code> behaviour according to the content of the <code>notification_delivery_info()</code> record. </p> <p>The optional argument <code>Varbinds</code> defines values for the objects in the notification. If no value is given for an object, the <code>Agent</code> performs a get-operation to retrieve the value. </p> <p><code>Varbinds</code> is a list of <code>Varbind</code>, where each <code>Varbind</code> is one of: </p> <ul> <li> <code>{Variable, Value}</code>, where <code>Variable</code> is the symbolic name of a scalar variable referred to in the notification specification. </li> <li> <code>{Column, RowIndex, Value}</code>, where <code>Column</code> is the symbolic name of a column variable. <code>RowIndex</code> is a list of indices for the specified element. If this is the case, the OBJECT IDENTIFIER sent in the notification is the <code>RowIndex</code> appended to the OBJECT IDENTIFIER for the table column. This is the OBJECT IDENTIFIER which specifies the element. </li> <li> <code>{OID, Value}</code>, where <code>OID</code> is the OBJECT IDENTIFIER for an instance of an object, scalar variable, or column variable. </li> </ul> <p>For example, to specify that <code>sysLocation</code> should have the value <code>"upstairs"</code> in the notification, we could use one of: </p> <ul> <li> <code>{sysLocation, "upstairs"}</code> or</li> <li> <code>{[1,3,6,1,2,1,1,6,0], "upstairs"}</code> or</li> <li> <code>{?sysLocation_instance, "upstairs"}</code> (provided that the generated <code>.hrl</code> file is included)</li> </ul> <p>If a variable in the notification is a table element, the <code>RowIndex</code> for the element must be given in the <code>Varbinds</code> list. In this case, the OBJECT IDENTIFIER sent in the notification is the OBJECT IDENTIFIER that identifies this element. This OBJECT IDENTIFIER could be used in a get operation later. </p> <p>This function is asynchronous, and does not return any information. If an error occurs, <code>user_err/2</code> of the error report module is called and the notification is discarded. </p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>Note that the use of the LocalEngineID argument is only intended for special cases, if the agent is to "emulate" multiple EngineIDs! By default, the agent uses the value of <code>SnmpEngineID</code> (see SNMP-FRAMEWORK-MIB). </p> </div> </div> <p><code>ExtraInfo</code> is not normally used in any way by the agent. It is intended to be passed along to the net-if process, which is a component that a user can implement themself. The users own net-if may then make use of ExtraInfo. The net-if provided with this application does not process ExtraInfo. </p> <p>There is one exception. <strong>Any</strong> tuple containing the atom <code>snmpa_default_notification_extra_info</code> will, in this context, be considered belonging to this application, and may be processed by the agent. </p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="discovery-2" class="title-link">  <div class="title-name">discovery(TargetName, Notification) -&gt; {ok, ManagerEngineID} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="discovery-3" class="title-link">  <div class="title-name">discovery(TargetName, Notification, Varbinds) -&gt; {ok, ManagerEngineID} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="discovery-3" class="title-link">  <div class="title-name">discovery(TargetName, Notification, DiscoHandler) -&gt; {ok, ManagerEngineID} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="discovery-4" class="title-link">  <div class="title-name">discovery(TargetName, Notification, ContextName, Varbinds) -&gt; {ok, ManagerEngineID} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="discovery-4" class="title-link">  <div class="title-name">discovery(TargetName, Notification, Varbinds, DiscoHandler) -&gt; {ok, ManagerEngineID} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="discovery-5" class="title-link">  <div class="title-name">discovery(TargetName, Notification, ContextName, Varbinds, DiscoHandler) -&gt; {ok, ManagerEngineID} | {error, Reason}</div> </h3></div> <div class="bold_code func-head"><h3 id="discovery-6" class="title-link">  <div class="title-name">discovery(TargetName, Notification, ContextName, Varbinds, DiscoHandler, ExtraInfo) -&gt; {ok, ManagerEngineID} | {error, Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>TargetName = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Notification = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>ContextName = string() (defaults to "")</code><br> </div> <div class="REFTYPES rt-4"> <code>Varbinds = varbinds()</code><br> </div> <div class="REFTYPES rt-4"> <code>varbinds() = [varbind()]</code><br> </div> <div class="REFTYPES rt-4"> <code>DiscoHandler = snmpa_discovery_handler()</code><br> </div> <div class="REFTYPES rt-4"> <code>ExtraInfo = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>snmpa_discovery_handler() = Module implementing the snmpa_discovery_handler behaviour</code><br> </div> <div class="REFTYPES rt-4"> <code>ManagerEngineID = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>varbind() = {Variable, Value} | {Column, RowIndex, Value} | {OID, Value}</code><br> </div> <div class="REFTYPES rt-4"> <code>Variable = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Column = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>OID = oid()</code><br> </div> <div class="REFTYPES rt-4"> <code>Value = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>RowIndex = [int()]</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = term()</code><br> </div> </div> <div class="REFBODY rb-7" id="convert_config"> <p>Initiate the discovery process with the manager identified by <code>TargetName</code> using the notification <code>Notification</code>. </p> <p>This function is synchronous, which means that it will return when the discovery process has been completed or failed. </p> <p>The <code>DiscoHandler</code> module is used during the discovery process. See <code><a href="snmpa_discovery_handler.html">discovery handler</a></code> for more info. </p> <p>The <code>ExtraInfo</code> argument is passed on to the callback functions of the <code>DiscoHandler</code>. </p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>If we are not at security-level <code>noAuthNoPriv</code>, this could be complicated, since the agent will then continue with stage 2, before which the usm-related updates must be done. </p>
</div> </div> <div class="note"> <div class="label">Note</div> <div class="content">

<p>The default discovery handler will require additional actions by the caller and the discovery will not work if the security-level is higher then <code>noAuthNoPriv</code>. </p>
</div> </div>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="convert_config-1" class="title-link">  <div class="title-name">convert_config(OldConfig) -&gt; AgentConfig</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>OldConfig = list()</code><br> </div> <div class="REFTYPES rt-4"> <code>AgentConfig = list()</code><br> </div> </div> <div class="REFBODY rb-7" id="restart_worker"> <p>This off-line utility function can be used to convert the old snmp application config (pre snmp-4.0) to the new snmp agent config (as of snmp-4.0).</p> <p>For information about the old config (<code>OldConfig</code>) see the OTP R9C documentation.</p> <p>For information about the current agent config (<code>AgentConfig</code>), see the <code><a href="snmp_config.html#configuration_params">Configuring the application</a></code> chapter of the SNMP user's guide.</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="restart_worker-0" class="title-link">  <div class="title-name">restart_worker() -&gt; void()</div> </h3></div> <div class="bold_code func-head"><h3 id="restart_worker-1" class="title-link">  <div class="title-name">restart_worker(Agent) -&gt; void()</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> </div> <div class="REFBODY rb-7" id="restart_set_worker"> <p>Restart the worker process of a multi-threaded agent.</p> <p>This is a utility function, that can be useful when e.g. debugging instrumentation functions.</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="restart_set_worker-0" class="title-link">  <div class="title-name">restart_set_worker() -&gt; void()</div> </h3></div> <div class="bold_code func-head"><h3 id="restart_set_worker-1" class="title-link">  <div class="title-name">restart_set_worker(Agent) -&gt; void()</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Agent = pid() | atom()</code><br> </div> </div> <div class="REFBODY rb-7" id="print_mib_info"> <p>Restart the set worker process of a multi-threaded agent.</p> <p>This is a utility function, that can be useful when e.g. debugging instrumentation functions.</p>  </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="print_mib_info-0" class="title-link">  <div class="title-name">print_mib_info() -&gt; void()</div> <div class="title-since"><span class="since">OTP R14B02</span></div> </h3></div> <div class="exports-tube"><div class="REFBODY rb-7" id="print_mib_tables"> <p>Prints the content of all the (snmp) tables and variables for all mibs handled by the snmp agent. </p>  </div></div></article><article class="func"><div class="bold_code func-head"><h3 id="print_mib_tables-0" class="title-link">  <div class="title-name">print_mib_tables() -&gt; void()</div> <div class="title-since"><span class="since">OTP R14B02</span></div> </h3></div> <div class="exports-tube"><div class="REFBODY rb-7" id="print_mib_variables"> <p>Prints the content of all the (snmp) tables for all mibs handled by the snmp agent. </p>  </div></div></article><article class="func"><div class="bold_code func-head"><h3 id="print_mib_variables-0" class="title-link">  <div class="title-name">print_mib_variables() -&gt; void()</div> <div class="title-since"><span class="since">OTP R14B02</span></div> </h3></div> <div class="exports-tube"><div class="REFBODY rb-7" id="verbosity"> <p>Prints the content of all the (snmp) variables for all mibs handled by the snmp agent. </p>  </div></div></article><article class="func"><div class="bold_code func-head"><h3 id="verbosity-2" class="title-link">  <div class="title-name">verbosity(Ref,Verbosity) -&gt; void()</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Ref = pid() | sub_agents | master_agent | net_if | mib_server | symbolic_store | note_store | local_db</code><br> </div> <div class="REFTYPES rt-4"> <code>Verbosity = verbosity() | {subagents, verbosity()}</code><br> </div> <div class="REFTYPES rt-4"> <code>verbosity() = silence | info | log | debug | trace</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Sets verbosity for the designated process. For the lowest verbosity <code>silence</code>, nothing is printed. The higher the verbosity, the more is printed. </p> </div> </div></article> </div> <section class="innertube"><h2 id="see-also" class="title-link"> <div class="title-name">See Also</div>  </h2> <div class="REFBODY rb-3"> <p>calendar(3), erlc(1) </p> </div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
