  <div class="innertube"> <h2 id="module" class="title-link"> <div class="title-name">Module</div>  </h2> <div class="REFBODY module-body">int</div> </div> <div class="innertube"> <h2 id="module-summary" class="title-link"> <div class="title-name">Module Summary</div>  </h2> <div class="REFBODY module-summary-body">Interpreter Interface.</div> </div> <section class="description"><div class="innertube"> <h2 id="description" class="title-link"> <div class="title-name">Description</div>  </h2> <div class="REFBODY description-body">

<p>The Erlang interpreter provides mechanisms for breakpoints and stepwise execution of code. It is primarily intended to be used by Debugger, see the User's Guide and <code><a href="debugger.html">debugger(3)</a></code>.</p> <p>The following can be done from the shell:</p> <ul> <li>Specify the modules to be interpreted.</li> <li>Specify breakpoints.</li> <li>Monitor the current status of all processes executing code in interpreted modules, also processes at other Erlang nodes. </li> </ul> <p>By <strong>attaching to</strong> a process executing interpreted code, it is possible to examine variable bindings and order stepwise execution. This is done by sending and receiving information to/from the process through a third process, called the meta process. You can implement your own attached process. See <code>int.erl</code> for available functions and <code>dbg_wx_trace.erl</code> for possible messages.</p> <p>The interpreter depends on the Kernel, STDLIB, and GS applications. This means that modules belonging to any of these applications are not allowed to be interpreted, as it could lead to a deadlock or emulator crash. This also applies to modules belonging to the Debugger application.</p> </div> </div></section> <section class="innertube"><h2 id="breakpoints" class="title-link"> <div class="title-name">Breakpoints</div>  </h2> <div class="REFBODY rb-3"> <p>Breakpoints are specified on a line basis. When a process executing code in an interpreted module reaches a breakpoint, it stops. This means that a breakpoint must be set at an executable line, that is, a code line containing an executable expression.</p> <p>A breakpoint has the following:</p> <ul> <li>A status, which is <strong>active</strong> or <strong>inactive</strong>. An inactive breakpoint is ignored.</li> <li>A trigger action. When a breakpoint is reached, the trigger action specifies if the breakpoint is to continue as active (<strong>enable</strong>), or to become inactive (<strong>disable</strong>), or to be removed (<strong>delete</strong>).</li> <li>Optionally an associated condition. A condition is a tuple <code>{Module,Name}</code>. When the breakpoint is reached, <code>Module:Name(Bindings)</code> is called. If it evaluates to <code>true</code>, execution stops. If it evaluates to <code>false</code>, the breakpoint is ignored. <code>Bindings</code> contains the current variable bindings. To retrieve the value for a specified variable, use <code>get_binding</code>.</li> </ul> <p>By default, a breakpoint is active, has trigger action <code>enable</code>, and has no associated condition. For details about breakpoints, see the User's Guide.</p> </div></section> <div class="innertube"><h2 id="export" class="title-link"> <div class="title-name">Exports</div>  </h2></div> <div class="exports-body"> <article class="func"><div class="bold_code func-head"><h3 id="i-1" class="title-link">  <div class="title-name">i(AbsModule) -&gt; {module,Module} | error</div> </h3></div> <div class="bold_code func-head"><h3 id="i-1" class="title-link">  <div class="title-name">i(AbsModules) -&gt; ok</div> </h3></div> <div class="bold_code func-head"><h3 id="ni-1" class="title-link">  <div class="title-name">ni(AbsModule) -&gt; {module,Module} | error</div> </h3></div> <div class="bold_code func-head"><h3 id="ni-1" class="title-link">  <div class="title-name">ni(AbsModules) -&gt; ok</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>AbsModules = [AbsModule]</code><br> </div> <div class="REFTYPES rt-4"> <code>AbsModule = Module | File | [Module | File]</code><br> </div> <div class="REFTYPES rt-4"> <code>Module = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>File = string()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Interprets the specified module(s). <code>i/1</code> interprets the module only at the current node. <code>ni/1</code> interprets the module at all known nodes.</p> <p>A module can be specified by its module name (atom) or filename.</p> <p>If specified by its module name, the object code <code>Module.beam</code> is searched for in the current path. The source code <code>Module.erl</code> is searched for first in the same directory as the object code, then in an <code>src</code> directory next to it.</p> <p>If specified by its filename, the filename can include a path and the <code>.erl</code> extension can be omitted. The object code <code>Module.beam</code> is searched for first in the same directory as the source code, then in an <code>ebin</code> directory next to it, and then in the current path.</p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>The interpreter requires both the source code and the object code. The object code <strong>must</strong> include debug information, that is, only modules compiled with option <code>debug_info</code> set can be interpreted.</p> </div> </div> <p>The functions returns <code>{module,Module}</code> if the module was interpreted, otherwise <code>error</code> is returned.</p> <p>The argument can also be a list of modules or filenames, in which case the function tries to interpret each module as specified earlier. The function then always returns <code>ok</code>, but prints some information to <code>stdout</code> if a module cannot be interpreted.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="n-1" class="title-link">  <div class="title-name">n(AbsModule) -&gt; ok</div> </h3></div> <div class="bold_code func-head"><h3 id="nn-1" class="title-link">  <div class="title-name">nn(AbsModule) -&gt; ok</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>AbsModule = Module | File | [Module | File]</code><br> </div> <div class="REFTYPES rt-4"> <code>Module = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>File = string()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Stops interpreting the specified module. <code>n/1</code> stops interpreting the module only at the current node. <code>nn/1</code> stops interpreting the module at all known nodes.</p> <p>As for <code>i/1</code> and <code>ni/1</code>, a module can be specified by its module name or filename.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="interpreted-0" class="title-link">  <div class="title-name">interpreted() -&gt; [Module]</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Module = atom()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Returns a list with all interpreted modules.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="file-1" class="title-link">  <div class="title-name">file(Module) -&gt; File | {error,not_loaded}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Module = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>File = string()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Returns the source code filename <code>File</code> for an interpreted module <code>Module</code>.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="interpretable-1" class="title-link">  <div class="title-name">interpretable(AbsModule) -&gt; true | {error,Reason}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>AbsModule = Module | File</code><br> </div> <div class="REFTYPES rt-4"> <code>Module = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>File = string()</code><br> </div> <div class="REFTYPES rt-4"> <code>Reason = no_src | no_beam | no_debug_info | badarg | {app,App}</code><br> </div> <div class="REFTYPES rt-4"> <code>App = atom()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Checks if a module can be interpreted. The module can be specified by its module name <code>Module</code> or its source filename <code>File</code>. If specified by a module name, the module is searched for in the code path.</p> <p>The function returns <code>true</code> if all of the following apply:</p> <ul> <li>Both source code and object code for the module is found.</li> <li>The module has been compiled with option <code>debug_info</code> set.</li> <li>The module does not belong to any of the applications Kernel, STDLIB, GS, or Debugger.</li> </ul> <p>The function returns <code>{error,Reason}</code> if the module cannot be interpreted. <code>Reason</code> can have the following values:</p> <dl> <dt class="title-link"><strong><code>no_src</code></strong></dt> <dd><p>No source code is found. It is assumed that the source code and object code are located either in the same directory, or in <code>src</code> and <code>ebin</code> directories next to each other.</p></dd> <dt class="title-link"><strong><code>no_beam</code></strong></dt> <dd><p>No object code is found. It is assumed that the source code and object code are located either in the same directory, or in <code>src</code> and <code>ebin</code> directories next to each other.</p></dd> <dt class="title-link"><strong><code>no_debug_info</code></strong></dt> <dd><p>The module has not been compiled with option <code>debug_info</code> set.</p></dd> <dt class="title-link"><strong><code>badarg</code></strong></dt> <dd><p><code>AbsModule</code> is not found. This could be because the specified file does not exist, or because <code>code:which/1</code> does not return a BEAM filename, which is the case not only for non-existing modules but also for modules that are preloaded or cover-compiled.</p></dd> <dt class="title-link"><strong><code>{app,App}</code></strong></dt> <dd><p><code>App</code> is <code>kernel</code>, <code>stdlib</code>, <code>gs</code>, or <code>debugger</code> if <code>AbsModule</code> belongs to one of these applications.</p></dd> </dl> <p>Notice that the function can return <code>true</code> for a module that in fact is not interpretable in the case where the module is marked as sticky or resides in a directory marked as sticky. The reason is that this is not discovered until the interpreter tries to load the module.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="auto_attach-0" class="title-link">  <div class="title-name">auto_attach() -&gt; false | {Flags,Function}</div> </h3></div> <div class="bold_code func-head"><h3 id="auto_attach-1" class="title-link">  <div class="title-name">auto_attach(false)</div> </h3></div> <div class="bold_code func-head"><h3 id="auto_attach-2" class="title-link">  <div class="title-name">auto_attach(Flags, Function)</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Flags = [init | break | exit]</code><br> </div> <div class="REFTYPES rt-4"> <code>Function = {Module,Name,Args}</code><br> </div> <div class="REFTYPES rt-4"> <code>Module = Name = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Args = [term()]</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Gets and sets when and how to attach automatically to a process executing code in interpreted modules. <code>false</code> means never attach automatically, this is the default. Otherwise automatic attach is defined by a list of flags and a function. The following flags can be specified:</p> <ul> <li> <code>init</code> - Attach when a process for the first time calls an interpreted function.</li> <li> <code>break</code> - Attach whenever a process reaches a breakpoint.</li> <li> <code>exit</code> - Attach when a process terminates.</li> </ul> <p>When the specified event occurs, the function <code>Function</code> is called as:</p> <pre data-language="erlang">
spawn(Module, Name, [Pid | Args])</pre> <p><code>Pid</code> is the pid of the process executing interpreted code.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="stack_trace-0" class="title-link">  <div class="title-name">stack_trace() -&gt; Flag</div> </h3></div> <div class="bold_code func-head"><h3 id="stack_trace-1" class="title-link">  <div class="title-name">stack_trace(Flag)</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Flag = all | no_tail | false</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Gets and sets how to save call frames in the stack. Saving call frames makes it possible to inspect the call chain of a process, and is also used to emulate the stack trace if an error (an exception of class error) occurs. The following flags can be specified:</p> <dl> <dt class="title-link"><strong><code>all</code></strong></dt> <dd> <p>Save information about all current calls, that is, function calls that have not yet returned a value.</p> </dd> <dt class="title-link"><strong><code>no_tail</code></strong></dt> <dd><p>Save information about current calls, but discard previous information when a tail recursive call is made. This option consumes less memory and can be necessary to use for processes with long lifetimes and many tail recursive calls. This is the default.</p></dd> <dt class="title-link"><strong><code>false</code></strong></dt> <dd><p>Save no information about current calls.</p></dd> </dl> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="break-2" class="title-link">  <div class="title-name">break(Module, Line) -&gt; ok | {error,break_exists}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Module = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Line = int()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Creates a breakpoint at <code>Line</code> in <code>Module</code>.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="delete_break-2" class="title-link">  <div class="title-name">delete_break(Module, Line) -&gt; ok</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Module = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Line = int()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Deletes the breakpoint at <code>Line</code> in <code>Module</code>.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="break_in-3" class="title-link">  <div class="title-name">break_in(Module, Name, Arity) -&gt; ok | {error,function_not_found}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Module = Name = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Arity = int()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Creates a breakpoint at the first line of every clause of function <code>Module:Name/Arity</code>.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="del_break_in-3" class="title-link">  <div class="title-name">del_break_in(Module, Name, Arity) -&gt; ok | {error,function_not_found}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Module = Name = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Arity = int()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Deletes the breakpoints at the first line of every clause of function <code>Module:Name/Arity</code>.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="no_break-0" class="title-link">  <div class="title-name">no_break() -&gt; ok</div> </h3></div> <div class="bold_code func-head"><h3 id="no_break-1" class="title-link">  <div class="title-name">no_break(Module) -&gt; ok</div> </h3></div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Deletes all breakpoints, or all breakpoints in <code>Module</code>.</p> </div></div></article><article class="func"><div class="bold_code func-head"><h3 id="disable_break-2" class="title-link">  <div class="title-name">disable_break(Module, Line) -&gt; ok</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Module = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Line = int()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Makes the breakpoint at <code>Line</code> in <code>Module</code> inactive.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="enable_break-2" class="title-link">  <div class="title-name">enable_break(Module, Line) -&gt; ok</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Module = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Line = int()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Makes the breakpoint at <code>Line</code> in <code>Module</code> active.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="action_at_break-3" class="title-link">  <div class="title-name">action_at_break(Module, Line, Action) -&gt; ok</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Module = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Line = int()</code><br> </div> <div class="REFTYPES rt-4"> <code>Action = enable | disable | delete</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Sets the trigger action of the breakpoint at <code>Line</code> in <code>Module</code> to <code>Action</code>.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="test_at_break-3" class="title-link">  <div class="title-name">test_at_break(Module, Line, Function) -&gt; ok</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Module = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Line = int()</code><br> </div> <div class="REFTYPES rt-4"> <code>Function = {Module,Name}</code><br> </div> <div class="REFTYPES rt-4"> <code>Name = atom()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Sets the conditional test of the breakpoint at <code>Line</code> in <code>Module</code> to <code>Function</code>. The function must fulfill the requirements specified in section <code><a href="#int_breakpoints">Breakpoints</a></code>.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="get_binding-2" class="title-link">  <div class="title-name">get_binding(Var, Bindings) -&gt; {value,Value} | unbound</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Var = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Bindings = term()</code><br> </div> <div class="REFTYPES rt-4"> <code>Value = term()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Retrieves the binding of <code>Var</code>. This function is intended to be used by the conditional function of a breakpoint.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="all_breaks-0" class="title-link">  <div class="title-name">all_breaks() -&gt; [Break]</div> </h3></div> <div class="bold_code func-head"><h3 id="all_breaks-1" class="title-link">  <div class="title-name">all_breaks(Module) -&gt; [Break]</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Break = {Point,Options}</code><br> </div> <div class="REFTYPES rt-4"> <code>Point = {Module,Line}</code><br> </div> <div class="REFTYPES rt-4"> <code>Module = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Line = int()</code><br> </div> <div class="REFTYPES rt-4"> <code>Options = [Status,Trigger,null,Cond|]</code><br> </div> <div class="REFTYPES rt-4"> <code>Status = active | inactive</code><br> </div> <div class="REFTYPES rt-4"> <code>Trigger = enable | disable | delete</code><br> </div> <div class="REFTYPES rt-4"> <code>Cond = null | Function</code><br> </div> <div class="REFTYPES rt-4"> <code>Function = {Module,Name}</code><br> </div> <div class="REFTYPES rt-4"> <code>Name = atom()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Gets all breakpoints, or all breakpoints in <code>Module</code>.</p> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="snapshot-0" class="title-link">  <div class="title-name">snapshot() -&gt; [Snapshot]</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Snapshot = {Pid, Function, Status, Info}</code><br> </div> <div class="REFTYPES rt-4"> <code>Pid = pid()</code><br> </div> <div class="REFTYPES rt-4"> <code>Function = {Module,Name,Args}</code><br> </div> <div class="REFTYPES rt-4"> <code>Module = Name = atom()</code><br> </div> <div class="REFTYPES rt-4"> <code>Args = [term()]</code><br> </div> <div class="REFTYPES rt-4"> <code>Status = idle | running | waiting | break | exit | no_conn</code><br> </div> <div class="REFTYPES rt-4"> <code>Info = {} | {Module,Line} | ExitReason</code><br> </div> <div class="REFTYPES rt-4"> <code>Line = int()</code><br> </div> <div class="REFTYPES rt-4"> <code>ExitReason = term()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Gets information about all processes executing interpreted code. </p> <ul> <li> <code>Pid</code> - Process identifier.</li> <li> <code>Function</code> - First interpreted function called by the process.</li> <li> <code>Status</code> - Current status of the process.</li> <li> <code>Info</code> - More information.</li> </ul> <p><code>Status</code> is one of the following:</p> <ul> <li> <code>idle</code> - The process is no longer executing interpreted code. <code>Info={}</code>.</li> <li> <code>running</code> - The process is running. <code>Info={}</code>. </li> <li> <code>waiting</code> - The process is waiting at a <code>receive</code>. <code>Info={}</code>.</li> <li> <code>break</code> - Process execution is stopped, normally at a breakpoint. <code>Info={Module,Line}</code>.</li> <li> <code>exit</code> - The process is terminated. <code>Info=ExitReason</code>.</li> <li> <code>no_conn</code> - The connection is down to the node where the process is running. <code>Info={}</code>.</li> </ul> </div> </div></article><article class="func"><div class="bold_code func-head"><h3 id="clear-0" class="title-link">  <div class="title-name">clear() -&gt; ok</div> </h3></div> <div class="exports-tube"><div class="REFBODY rb-7"> <p>Clears information about processes executing interpreted code by removing all information about terminated processes.</p> </div></div></article><article class="func"><div class="bold_code func-head"><h3 id="continue-1" class="title-link">  <div class="title-name">continue(Pid) -&gt; ok | {error,not_interpreted}</div> </h3></div> <div class="bold_code func-head"><h3 id="continue-3" class="title-link">  <div class="title-name">continue(X,Y,Z) -&gt; ok | {error,not_interpreted}</div> </h3></div> <div class="exports-tube"> <div class="REFBODY rb-5"> <h2 id="types" class="func-types-title">Types</h2> <div class="REFTYPES rt-4"> <code>Pid = pid()</code><br> </div> <div class="REFTYPES rt-4"> <code>X = Y = Z = int()</code><br> </div> </div> <div class="REFBODY rb-7"> <p>Resumes process execution for <code>Pid</code> or <code>c:pid(X,Y,Z)</code>.</p> </div> </div></article> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>
