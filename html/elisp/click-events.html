 <h4 class="subsection">Click Events</h4>    <p>When the user presses a mouse button and releases it at the same location, that generates a <em>click</em> event. Depending on how your window-system reports mouse-wheel events, turning the mouse wheel can generate either a mouse click or a mouse-wheel event. All mouse event share the same format: </p> <div class="example"> <pre class="example">(<var>event-type</var> <var>position</var> <var>click-count</var>)
</pre>
</div> <dl compact> <dt><var>event-type</var></dt> <dd>
<p>This is a symbol that indicates which mouse button was used. It is one of the symbols <code>mouse-1</code>, <code>mouse-2</code>, …, where the buttons are numbered left to right. For mouse-wheel event, it can be <code>wheel-up</code> or <code>wheel-down</code>. </p> <p>You can also use prefixes ‘<samp>A-</samp>’, ‘<samp>C-</samp>’, ‘<samp>H-</samp>’, ‘<samp>M-</samp>’, ‘<samp>S-</samp>’ and ‘<samp>s-</samp>’ for modifiers alt, control, hyper, meta, shift and super, just as you would with function keys. </p> <p>This symbol also serves as the event type of the event. Key bindings describe events by their types; thus, if there is a key binding for <code>mouse-1</code>, that binding would apply to all events whose <var>event-type</var> is <code>mouse-1</code>. </p> </dd> <dt><var>position</var></dt> <dd>
 <p>This is a <em>mouse position list</em> specifying where the mouse event occurred; see below for details. </p> </dd> <dt><var>click-count</var></dt> <dd><p>This is the number of rapid repeated presses so far of the same mouse button or the number of repeated turns of the wheel. See <a href="repeat-events.html">Repeat Events</a>. </p></dd> </dl> <p>To access the contents of a mouse position list in the <var>position</var> slot of a mouse event, you should typically use the functions documented in <a href="accessing-mouse.html">Accessing Mouse</a>. </p> <p>The explicit format of the list depends on where the event occurred. For clicks in the text area, mode line, header line, tab line, or in the fringe or marginal areas, the mouse position list has the form </p> <div class="example"> <pre class="example">(<var>window</var> <var>pos-or-area</var> (<var>x</var> . <var>y</var>) <var>timestamp</var>
 <var>object</var> <var>text-pos</var> (<var>col</var> . <var>row</var>)
 <var>image</var> (<var>dx</var> . <var>dy</var>) (<var>width</var> . <var>height</var>))
</pre>
</div> <p>The meanings of these list elements are as follows: </p> <dl compact> <dt><var>window</var></dt> <dd>
<p>The window in which the mouse event occurred. </p> </dd> <dt><var>pos-or-area</var></dt> <dd>
<p>The buffer position of the character clicked on in the text area; or, if the event was outside the text area, the window area where it occurred. It is one of the symbols <code>mode-line</code>, <code>header-line</code>, <code>tab-line</code>, <code>vertical-line</code>, <code>left-margin</code>, <code>right-margin</code>, <code>left-fringe</code>, or <code>right-fringe</code>. </p> <p>In one special case, <var>pos-or-area</var> is a list containing a symbol (one of the symbols listed above) instead of just the symbol. This happens after the imaginary prefix keys for the event are registered by Emacs. See <a href="key-sequence-input.html">Key Sequence Input</a>. </p> </dd> <dt>
<var>x</var>, <var>y</var>
</dt> <dd>
<p>The relative pixel coordinates of the event. For events in the text area of a window, the coordinate origin <code>(0 . 0)</code> is taken to be the top left corner of the text area. See <a href="window-sizes.html">Window Sizes</a>. For events in a mode line, header line or tab line, the coordinate origin is the top left corner of the window itself. For fringes, margins, and the vertical border, <var>x</var> does not have meaningful data. For fringes and margins, <var>y</var> is relative to the bottom edge of the header line. In all cases, the <var>x</var> and <var>y</var> coordinates increase rightward and downward respectively. </p> </dd> <dt><var>timestamp</var></dt> <dd>
<p>The time at which the event occurred, as an integer number of milliseconds since a system-dependent initial time. </p> </dd> <dt><var>object</var></dt> <dd>
<p>Either <code>nil</code>, which means the event occurred on buffer text, or a cons cell of the form (<var>string</var> . <var><span class="nolinebreak">string-pos</span></var>) if there is a string from a text property or an overlay at the event position. </p> <dl compact> <dt><var>string</var></dt> <dd>
<p>The string which was clicked on, including any properties. </p> </dd> <dt><var>string-pos</var></dt> <dd><p>The position in the string where the click occurred. </p></dd> </dl> </dd> <dt><var>text-pos</var></dt> <dd>
<p>For clicks on a marginal area or on a fringe, this is the buffer position of the first visible character in the corresponding line in the window. For clicks on the mode line, the header line or the tab line, this is <code>nil</code>. For other events, it is the buffer position closest to the click. </p> </dd> <dt>
<var>col</var>, <var>row</var>
</dt> <dd>
<p>These are the actual column and row coordinate numbers of the glyph under the <var>x</var>, <var>y</var> position. If <var>x</var> lies beyond the last column of actual text on its line, <var>col</var> is reported by adding fictional extra columns that have the default character width. Row 0 is taken to be the header line if the window has one, or Row 1 if the window also has the tab line, or the topmost row of the text area otherwise. Column 0 is taken to be the leftmost column of the text area for clicks on a window text area, or the leftmost mode line or header line column for clicks there. For clicks on fringes or vertical borders, these have no meaningful data. For clicks on margins, <var>col</var> is measured from the left edge of the margin area and <var>row</var> is measured from the top of the margin area. </p> </dd> <dt><var>image</var></dt> <dd>
<p>If there is an image at the click location, this is the image object as returned by <code>find-image</code> (see <a href="defining-images.html">Defining Images</a>); otherwise this is <code>nil</code>. </p> </dd> <dt>
<var>dx</var>, <var>dy</var>
</dt> <dd>
<p>These are the pixel coordinates of the click, relative to the top left corner of <var>object</var>, which is <code>(0 . 0)</code>. If <var>object</var> is <code>nil</code>, which stands for a buffer, the coordinates are relative to the top left corner of the character glyph clicked on. </p> </dd> <dt>
<var>width</var>, <var>height</var>
</dt> <dd><p>If the click is on a character, either from buffer text or from overlay or display string, these are the pixel width and height of that character’s glyph; otherwise they are dimensions of <var>object</var> clicked on. </p></dd> </dl> <p>For clicks on a scroll bar, <var>position</var> has this form: </p> <div class="example"> <pre class="example">(<var>window</var> <var>area</var> (<var>portion</var> . <var>whole</var>) <var>timestamp</var> <var>part</var>)
</pre>
</div> <dl compact> <dt><var>window</var></dt> <dd>
<p>The window whose scroll bar was clicked on. </p> </dd> <dt><var>area</var></dt> <dd>
<p>This is the symbol <code>vertical-scroll-bar</code>. </p> </dd> <dt><var>portion</var></dt> <dd>
<p>The number of pixels from the top of the scroll bar to the click position. On some toolkits, including GTK+, Emacs cannot extract this data, so the value is always <code>0</code>. </p> </dd> <dt><var>whole</var></dt> <dd>
<p>The total length, in pixels, of the scroll bar. On some toolkits, including GTK+, Emacs cannot extract this data, so the value is always <code>0</code>. </p> </dd> <dt><var>timestamp</var></dt> <dd>
<p>The time at which the event occurred, in milliseconds. On some toolkits, including GTK+, Emacs cannot extract this data, so the value is always <code>0</code>. </p> </dd> <dt><var>part</var></dt> <dd><p>The part of the scroll bar on which the click occurred. It is one of the symbols <code>handle</code> (the scroll bar handle), <code>above-handle</code> (the area above the handle), <code>below-handle</code> (the area below the handle), <code>up</code> (the up arrow at one end of the scroll bar), or <code>down</code> (the down arrow at one end of the scroll bar). </p></dd> </dl> <p>For clicks on the frame’s internal border (see <a href="frame-layout.html">Frame Layout</a>), the frame’s tool bar (see <a href="tool-bar.html">Tool Bar</a>) or tab bar, <var>position</var> has this form: </p> <div class="example"> <pre class="example"> (<var>frame</var> <var>part</var> (<var>X</var> . <var>Y</var>) <var>timestamp</var>)
</pre>
</div> <dl compact> <dt><var>frame</var></dt> <dd>
<p>The frame whose internal border or tool bar or tab bar was clicked on. </p> </dd> <dt><var>part</var></dt> <dd>
<p>The part of the frame which was clicked on. This can be one of the following: </p> <dl compact>  <dt><code>tool-bar</code></dt> <dd>
<p>The frame has a tool bar, and the event was in the tool-bar area. </p>  </dd> <dt><code>tab-bar</code></dt> <dd>
<p>The frame has a tab bar, and the event was in the tab-bar area. </p> </dd> <dt><code>left-edge</code></dt> <dt><code>top-edge</code></dt> <dt><code>right-edge</code></dt> <dt><code>bottom-edge</code></dt> <dd>
<p>The click was on the corresponding border at an offset of at least one canonical character from the border’s nearest corner. </p> </dd> <dt><code>top-left-corner</code></dt> <dt><code>top-right-corner</code></dt> <dt><code>bottom-right-corner</code></dt> <dt><code>bottom-left-corner</code></dt> <dd>
<p>The click was on the corresponding corner of the internal border. </p> </dd> <dt><code>nil</code></dt> <dd><p>The frame does not have an internal border, and the event was not on the tab bar or the tool bar. This usually happens on text-mode frames. This can also happen on GUI frames with internal border if the frame doesn’t have its <code>drag-internal-border</code> parameter (see <a href="mouse-dragging-parameters.html">Mouse Dragging Parameters</a>) set to a non-<code>nil</code> value. </p></dd> </dl> </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    Copyright &copy; 1990-1996, 1998-2022 Free Software Foundation, Inc. <br>Licensed under the GNU GPL license.<br>
    <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Click-Events.html" class="_attribution-link">https://www.gnu.org/software/emacs/manual/html_node/elisp/Click-Events.html</a>
  </p>
</div>
