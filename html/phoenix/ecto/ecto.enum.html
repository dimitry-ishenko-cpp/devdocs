<h1>   <span translate="no">Ecto.Enum</span>  </h1> <section id="moduledoc"> <p>A custom type that maps atoms to strings or integers.</p>
<p><a href="ecto.enum.html#content"><code class="inline">Ecto.Enum</code></a> must be used whenever you want to keep atom values in a field. Since atoms cannot be persisted to the database, <a href="ecto.enum.html#content"><code class="inline">Ecto.Enum</code></a> converts them to a string or an integer when writing to the database and converts them back to atoms when loading data. It can be used in your schemas as follows:</p>
<pre data-language="elixir"># Stored as strings
field :status, Ecto.Enum, values: [:foo, :bar, :baz]</pre>
<p>or</p>
<pre data-language="elixir"># Stored as integers
field :status, Ecto.Enum, values: [foo: 1, bar: 2, baz: 5]</pre>
<p>Therefore, the type to be used in your migrations for enum fields depend on the choice above. For the cases above, one would do, respectively:</p>
<pre data-language="elixir">add :status, :string</pre>
<p>or</p>
<pre data-language="elixir">add :status, :integer</pre>
<p>Some databases also support enum types, which you could use in combination with the above.</p>
<p>Composite types, such as <code class="inline">:array</code>, are also supported which allow selecting multiple values per record:</p>
<pre data-language="elixir">field :roles, {:array, Ecto.Enum}, values: [:author, :editor, :admin]</pre>
<p>Overall, <code class="inline">:values</code> must be a list of atoms or a keyword list. Values will be cast to atoms safely and only if the atom exists in the list (otherwise an error will be raised). Attempting to load any string/integer not represented by an atom in the list will be invalid.</p>
<p>The helper function <a href="#mappings/2"><code class="inline">mappings/2</code></a> returns the mappings for a given schema and field, which can be used in places like form drop-downs. For example, given the following schema:</p>
<pre data-language="elixir">defmodule EnumSchema do
  use Ecto.Schema

  schema "my_schema" do
    field :my_enum, Ecto.Enum, values: [:foo, :bar, :baz]
  end
end</pre>
<p>you can call <a href="#mappings/2"><code class="inline">mappings/2</code></a> like this:</p>
<pre data-language="elixir">Ecto.Enum.mappings(EnumSchema, :my_enum)
#=&gt; [foo: "foo", bar: "bar", baz: "baz"]</pre>
<p>If you want the values only, you can use <a href="#values/2"><code class="inline">Ecto.Enum.values/2</code></a>, and if you want the dump values only, you can use <a href="#dump_values/2"><code class="inline">Ecto.Enum.dump_values/2</code></a>.</p> </section> <section id="summary" class="details-list"> <h1 class="section-heading">  Summary </h1> <h2> Functions </h2>
<dl class="summary-functions summary">  <div class="summary-row"> <dt class="summary-signature"> <a href="#dump_values/2" translate="no">dump_values(schema, field)</a> </dt> <dd class="summary-synopsis"><p>Returns the possible dump values for a given schema and field</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#mappings/2" translate="no">mappings(schema, field)</a> </dt> <dd class="summary-synopsis"><p>Returns the mappings for a given schema and field</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#values/2" translate="no">values(schema, field)</a> </dt> <dd class="summary-synopsis"><p>Returns the possible values for a given schema and field</p></dd> </div> </dl> </section> <section id="functions" class="details-list"> <h1 class="section-heading">  Functions </h1> <div class="functions-list"> <section class="detail"> <h3 class="detail-header" id="dump_values/2">dump_values(schema, field)<a href="https://github.com/elixir-ecto/ecto/blob/v3.8.4/lib/ecto/enum.ex#L177" class="source">Source</a>
</h3> <section class="docstring"> <div class="specs"> <pre translate="no" data-language="elixir">@spec dump_values(module(), atom()) :: [String.t()] | [integer()]</pre> </div> <p>Returns the possible dump values for a given schema and field</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="mappings/2">mappings(schema, field)<a href="https://github.com/elixir-ecto/ecto/blob/v3.8.4/lib/ecto/enum.ex#L185" class="source">Source</a>
</h3> <section class="docstring"> <div class="specs"> <pre translate="no" data-language="elixir">@spec mappings(module(), atom()) :: Keyword.t()</pre> </div> <p>Returns the mappings for a given schema and field</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="values/2">values(schema, field)<a href="https://github.com/elixir-ecto/ecto/blob/v3.8.4/lib/ecto/enum.ex#L169" class="source">Source</a>
</h3> <section class="docstring"> <div class="specs"> <pre translate="no" data-language="elixir">@spec values(module(), atom()) :: [atom()]</pre> </div> <p>Returns the possible values for a given schema and field</p> </section> </section> </div> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2013 Plataformatec<br>&copy; 2020 Dashbit<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://hexdocs.pm/ecto/Ecto.Enum.html" class="_attribution-link">https://hexdocs.pm/ecto/Ecto.Enum.html</a>
  </p>
</div>
