<h1> <span translate="no">Phoenix.HTML.Form</span>   </h1> <section id="moduledoc"> <p>Helpers related to producing HTML forms.</p>
<p>The functions in this module can be used in three distinct scenarios:</p>
<ul>
<li><p>with changeset data - when information to populate the form comes from a changeset</p></li>
<li><p>with limited data - when a form is created without an underlying data layer. In this scenario, you can use the connection information (aka Plug.Conn.params) or pass the form values by hand</p></li>
<li><p>outside of a form - when the functions are used directly, outside of <code class="inline">form_for</code></p></li>
</ul>
<p>We will explore all three scenarios below.</p>
<h2 id="module-with-changeset-data" class="section-heading">  With changeset data </h2> <p>The entry point for defining forms in Phoenix is with the <a href="#form_for/4"><code class="inline">form_for/4</code></a> function. For this example, we will use <code class="inline">Ecto.Changeset</code>, which integrates nicely with Phoenix forms via the <code class="inline">phoenix_ecto</code> package.</p>
<p>Imagine you have the following action in your controller:</p>
<pre data-language="elixir">def new(conn, _params) do
  changeset = User.changeset(%User{})
  render conn, "new.html", changeset: changeset
end</pre>
<p>where <code class="inline">User.changeset/2</code> is defined as follows:</p>
<pre data-language="elixir">def changeset(user, params \\ %{}) do
  cast(user, params, [:name, :age])
end</pre>
<p>Now a <code class="inline">@changeset</code> assign is available in views which we can pass to the form:</p>
<pre data-language="elixir">&lt;%= form_for @changeset, Routes.user_path(@conn, :create), fn f -&gt; %&gt;
  &lt;label&gt;
    Name: &lt;%= text_input f, :name %&gt;
  &lt;/label&gt;

  &lt;label&gt;
    Age: &lt;%= select f, :age, 18..100 %&gt;
  &lt;/label&gt;

  &lt;%= submit "Submit" %&gt;
&lt;% end %&gt;</pre>
<p><a href="#form_for/4"><code class="inline">form_for/4</code></a> receives the <code class="inline">Ecto.Changeset</code> and converts it to a form, which is passed to the function as the argument <code class="inline">f</code>. All the remaining functions in this module receive the form and automatically generate the input fields, often by extracting information from the given changeset. For example, if the user had a default value for age set, it will automatically show up as selected in the form.</p>
<h3 id="module-a-note-on-errors" class="section-heading">  A note on <code class="inline">:errors</code> </h3> <p>If no action has been applied to the changeset or action was set to <code class="inline">:ignore</code>, no errors are shown on the form object even if the changeset has a non-empty <code class="inline">:errors</code> value.</p>
<p>This is useful for things like validation hints on form fields, e.g. an empty changeset for a new form. That changeset isn't valid, but we don't want to show errors until an actual user action has been performed.</p>
<p>Ecto automatically applies the action for you when you call Repo.insert/update/delete, but if you want to show errors manually you can also set the action yourself, either directly on the <code class="inline">Ecto.Changeset</code> struct field or by using <code class="inline">Ecto.Changeset.apply_action/2</code>.</p>
<h2 id="module-with-limited-data" class="section-heading">  With limited data </h2> <p><a href="#form_for/4"><code class="inline">form_for/4</code></a> expects as first argument any data structure that implements the <a href="phoenix.html.formdata.html"><code class="inline">Phoenix.HTML.FormData</code></a> protocol. By default, Phoenix implements this protocol for <a href="https://hexdocs.pm/plug/1.11.0/Plug.Conn.html"><code class="inline">Plug.Conn</code></a> and <a href="https://hexdocs.pm/elixir/Atom.html"><code class="inline">Atom</code></a>.</p>
<p>This is useful when you are creating forms that are not backed by any kind of data layer. Let's assume that we're submitting a form to the <code class="inline">:new</code> action in the <code class="inline">FooController</code>:</p>
<pre data-language="elixir">&lt;%= form_for @conn, Routes.foo_path(@conn, :new), [as: :foo], fn f -&gt; %&gt;
  &lt;%= text_input f, :for %&gt;
  &lt;%= submit "Search" %&gt;
&lt;% end %&gt;</pre>
<p><a href="#form_for/4"><code class="inline">form_for/4</code></a> uses the <a href="https://hexdocs.pm/plug/1.11.0/Plug.Conn.html"><code class="inline">Plug.Conn</code></a> to set input values from the request parameters.</p>
<p>Alternatively, if you don't have a connection, you can pass <code class="inline">:foo</code> as the form data source and explicitly pass the value for every input:</p>
<pre data-language="elixir">&lt;%= form_for :foo, Routes.foo_path(MyApp.Endpoint, :new), fn f -&gt; %&gt;
  &lt;%= text_input f, :for, value: "current value" %&gt;
  &lt;%= submit "Search" %&gt;
&lt;% end %&gt;</pre>
<h2 id="module-without-form-data" class="section-heading">  Without form data </h2> <p>Sometimes we may want to generate a <a href="#text_input/3"><code class="inline">text_input/3</code></a> or any other tag outside of a form. The functions in this module also support such usage by simply passing an atom as first argument instead of the form.</p>
<pre data-language="elixir">&lt;%= text_input :user, :name, value: "This is a prepopulated value" %&gt;</pre>
<h2 id="module-nested-inputs" class="section-heading">  Nested inputs </h2> <p>If your data layer supports embedding or nested associations, you can use <code class="inline">inputs_for</code> to attach nested data to the form.</p>
<p>Imagine the following Ecto schemas:</p>
<pre data-language="elixir">defmodule User do
  use Ecto.Schema

  schema "users" do
    field :name
    embeds_one :permalink, Permalink
  end
end

defmodule Permalink do
  use Ecto.Schema

  embedded_schema do
    field :url
  end
end</pre>
<p>In the form, you now can:</p>
<pre data-language="elixir">&lt;%= form_for @changeset, Routes.user_path(@conn, :create), fn f -&gt; %&gt;
  &lt;%= text_input f, :name %&gt;

  &lt;%= inputs_for f, :permalink, fn fp -&gt; %&gt;
    &lt;%= text_input fp, :url %&gt;
  &lt;% end %&gt;
&lt;% end %&gt;</pre>
<p>The default option can be given to populate the fields if none is given:</p>
<pre data-language="elixir">&lt;%= inputs_for f, :permalink, [default: %Permalink{title: "default"}], fn fp -&gt; %&gt;
  &lt;%= text_input fp, :url %&gt;
&lt;% end %&gt;</pre>
<p><a href="#inputs_for/4"><code class="inline">inputs_for/4</code></a> can be used to work with single entities or collections. When working with collections, <code class="inline">:prepend</code> and <code class="inline">:append</code> can be used to add entries to the collection stored in the changeset.</p>
<h2 id="module-csrf-protection" class="section-heading">  CSRF protection </h2> <p>The form generates a CSRF token by default. Your application should check this token on the server to avoid attackers from making requests on your server on behalf of other users. Phoenix by default checks this token.</p>
<p>When posting a form with a host in its address, such as "//host.com/path" instead of only "/path", Phoenix will include the host signature in the token and validate the token only if the accessed host is the same as the host in the token. This is to avoid tokens from leaking to third party applications. If this behaviour is problematic, you can generate a non-host specific token with <a href="https://hexdocs.pm/plug/1.11.0/Plug.CSRFProtection.html#get_csrf_token/0"><code class="inline">Plug.CSRFProtection.get_csrf_token/0</code></a> and pass it to the form generator via the <code class="inline">:csrf_token</code> option.</p>
<h2 id="module-phoenix-liveview-integration" class="section-heading">  Phoenix.LiveView integration </h2> <p>Phoenix.LiveView builds on top of this function to <a href="../phoenix_live_view/phoenix.liveview.helpers.html#form/1">provide a function component named <code class="inline">form</code></a>. Inside your HEEx templates, instead of doing this:</p>
<pre data-language="elixir">&lt;%= form_for @changeset, url, opts, fn f -&gt; %&gt;
  &lt;%= text_input f, :name %&gt;
&lt;% end %&gt;</pre>
<p>you should import <code class="inline">Phoenix.LiveView.Helpers</code> and then write:</p>
<pre data-language="elixir">&lt;.form let={f} for={@changeset}&gt;
  &lt;%= text_input f, :name %&gt;
&lt;/.form&gt;</pre> </section> <section id="summary" class="details-list"> <h1 class="section-heading">  Summary </h1> <h2> Types </h2>
<dl class="summary-types summary">  <div class="summary-row"> <dt class="summary-signature"> <a href="#t:field/0" translate="no">field()</a> </dt> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#t:t/0" translate="no">t()</a> </dt> </div> </dl> <h2> Functions </h2>
<dl class="summary-functions summary">  <div class="summary-row"> <dt class="summary-signature"> <a href="#__struct__/0" translate="no">%Phoenix.HTML.Form{}</a> </dt> <dd class="summary-synopsis"><p>Defines the Phoenix.HTML.Form struct.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#checkbox/3" translate="no">checkbox(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a checkbox.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#color_input/3" translate="no">color_input(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a color input.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#date_input/3" translate="no">date_input(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a date input.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#date_select/3" translate="no">date_select(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates select tags for date.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#datetime_local_input/3" translate="no">datetime_local_input(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a datetime-local input.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#datetime_select/3" translate="no">datetime_select(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates select tags for datetime.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#email_input/3" translate="no">email_input(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates an email input.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#file_input/3" translate="no">file_input(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a file input.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#form_for/3" translate="no">form_for(form_data, action, options)</a> <span class="deprecated" title="This functionality is deprecated in favor of form_for with a function">deprecated</span> </dt> <dd class="summary-synopsis"><p>Generates a form tag with a form builder <strong>without</strong> an anonymous function.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#form_for/4" translate="no">form_for(form_data, action, options \\ [], fun)</a> </dt> <dd class="summary-synopsis"><p>Generates a form tag with a form builder and an anonymous function.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#hidden_input/3" translate="no">hidden_input(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a hidden input.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#hidden_inputs_for/1" translate="no">hidden_inputs_for(form)</a> </dt> <dd class="summary-synopsis"><p>Generates hidden inputs for the given form.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#humanize/1" translate="no">humanize(atom)</a> </dt> <dd class="summary-synopsis"><p>Converts an attribute/form field into its humanize version.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#input_id/2" translate="no">input_id(name, field)</a> </dt> <dd class="summary-synopsis"><p>Returns an id of a corresponding form field.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#input_id/3" translate="no">input_id(name, field, value)</a> </dt> <dd class="summary-synopsis"><p>Returns an id of a corresponding form field and value attached to it.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#input_name/2" translate="no">input_name(form_or_name, field)</a> </dt> <dd class="summary-synopsis"><p>Returns a name of a corresponding form field.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#input_type/3" translate="no">input_type( form, field, mapping \\ %{ "email" =&gt; :email_input, "password" =&gt; :password_input, "search" =&gt; :search_input, "url" =&gt; :url_input } )</a> </dt> <dd class="summary-synopsis"><p>Gets the input type for a given field.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#input_validations/2" translate="no">input_validations(form, field)</a> </dt> <dd class="summary-synopsis"><p>Returns the HTML5 validations that would apply to the given field.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#input_value/2" translate="no">input_value(form, field)</a> </dt> <dd class="summary-synopsis"><p>Returns a value of a corresponding form field.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#inputs_for/2" translate="no">inputs_for(form, field)</a> </dt> <dd class="summary-synopsis"><p>Same as <code class="inline">inputs_for(form, field, [])</code>.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#inputs_for/3" translate="no">inputs_for(form, field, options)</a> </dt> <dd class="summary-synopsis"><p>Generate a new form builder for the given parameter in form <strong>without</strong> an anonymous function.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#inputs_for/4" translate="no">inputs_for(form, field, options \\ [], fun)</a> </dt> <dd class="summary-synopsis"><p>Generate a new form builder for the given parameter in form.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#label/1" translate="no">label(do_block)</a> </dt> <dd class="summary-synopsis"><p>Generates a label tag.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#label/2" translate="no">label(opts, field)</a> </dt> <dd class="summary-synopsis"><p>Generates a label tag for the given field.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#label/3" translate="no">label(form, field, text_or_do_block_or_attributes)</a> </dt> <dd class="summary-synopsis"><p>See <a href="#label/2"><code class="inline">label/2</code></a>.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#label/4" translate="no">label(form, field, text, do_block_or_attributes)</a> </dt> <dd class="summary-synopsis"><p>See <a href="#label/2"><code class="inline">label/2</code></a>.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#multiple_select/4" translate="no">multiple_select(form, field, options, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a select tag with the given <code class="inline">options</code>.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#number_input/3" translate="no">number_input(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a number input.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#options_for_select/2" translate="no">options_for_select(options, selected_values)</a> </dt> <dd class="summary-synopsis"><p>Returns options to be used inside a select.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#password_input/3" translate="no">password_input(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a password input.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#radio_button/4" translate="no">radio_button(form, field, value, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a radio button.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#range_input/3" translate="no">range_input(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a range input.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#reset/2" translate="no">reset(value, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a reset input to reset all the form fields to their original state.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#search_input/3" translate="no">search_input(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a search input.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#select/4" translate="no">select(form, field, options, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a select tag with the given <code class="inline">options</code>.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#submit/1" translate="no">submit(block_option)</a> </dt> <dd class="summary-synopsis"><p>Generates a submit button to send the form.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#submit/2" translate="no">submit(value, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a submit button to send the form.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#telephone_input/3" translate="no">telephone_input(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a telephone input.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#text_input/3" translate="no">text_input(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a text input.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#textarea/3" translate="no">textarea(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a textarea input.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#time_input/3" translate="no">time_input(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates a time input.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#time_select/3" translate="no">time_select(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates select tags for time.</p></dd> </div> <div class="summary-row"> <dt class="summary-signature"> <a href="#url_input/3" translate="no">url_input(form, field, opts \\ [])</a> </dt> <dd class="summary-synopsis"><p>Generates an url input.</p></dd> </div> </dl> </section> <section id="types" class="details-list"> <h1 class="section-heading">  Types </h1> <div class="types-list"> <section class="detail"> <h3 class="detail-header" id="t:field/0">field()<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L256" class="source">Source</a>
</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre translate="no" data-language="elixir">field() :: atom() | String.t()</pre> </div> </section> </section> <section class="detail"> <h3 class="detail-header" id="t:t/0">t()<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L242" class="source">Source</a>
</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre translate="no" data-language="elixir">t() :: %Phoenix.HTML.Form{
  action: nil | String.t(),
  data: %{required(field()) =&gt; term()},
  errors: Keyword.t(),
  hidden: Keyword.t(),
  id: String.t(),
  impl: module(),
  index: nil | non_neg_integer(),
  name: String.t(),
  options: Keyword.t(),
  params: %{required(binary()) =&gt; term()},
  source: Phoenix.HTML.FormData.t()
}</pre> </div> </section> </section> </div> </section> <section id="functions" class="details-list"> <h1 class="section-heading">  Functions </h1> <div class="functions-list"> <section class="detail"> <h3 class="detail-header" id="__struct__/0">%Phoenix.HTML.Form{}<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L230" class="source">Source</a>
</h3> <section class="docstring"> <p>Defines the Phoenix.HTML.Form struct.</p>
<p>Its fields are:</p>
<ul>
<li><p><code class="inline">:source</code> - the data structure given to <a href="#form_for/4"><code class="inline">form_for/4</code></a> that implements the form data protocol</p></li>
<li><p><code class="inline">:impl</code> - the module with the form data protocol implementation. This is used to avoid multiple protocol dispatches.</p></li>
<li><p><code class="inline">:id</code> - the id to be used when generating input fields</p></li>
<li><p><code class="inline">:index</code> - the index of the struct in the form</p></li>
<li><p><code class="inline">:name</code> - the name to be used when generating input fields</p></li>
<li><p><code class="inline">:data</code> - the field used to store lookup data</p></li>
<li><p><code class="inline">:params</code> - the parameters associated to this form in case they were sent as part of a previous request</p></li>
<li><p><code class="inline">:hidden</code> - a keyword list of fields that are required for submitting the form behind the scenes as hidden inputs</p></li>
<li><p><code class="inline">:options</code> - a copy of the options given when creating the form via <a href="#form_for/4"><code class="inline">form_for/4</code></a> without any form data specific key</p></li>
<li><p><code class="inline">:action</code> - the action the form is meant to submit to</p></li>
<li><p><code class="inline">:errors</code> - a keyword list of errors that associated with the form</p></li>
</ul> </section> </section> <section class="detail">  <h3 class="detail-header" id="checkbox/3">checkbox(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L1043" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a checkbox.</p>
<p>This function is useful for sending boolean values to the server.</p>
<h4 id="checkbox/3-examples" class="section-heading">  Examples </h4> <pre data-language="elixir"># Assuming form contains a User schema
checkbox(form, :famous)
#=&gt; &lt;input name="user[famous]" type="hidden" value="false"&gt;
#=&gt; &lt;input checked="checked" id="user_famous" name="user[famous]" type="checkbox" value="true"&gt;</pre>
<h4 id="checkbox/3-options" class="section-heading">  Options </h4> <ul>
<li><p><code class="inline">:checked_value</code> - the value to be sent when the checkbox is checked. Defaults to "true"</p></li>
<li><p><code class="inline">:hidden_input</code> - controls if this function will generate a hidden input to submit the unchecked value or not. Defaults to "true"</p></li>
<li><p><code class="inline">:unchecked_value</code> - the value to be sent when the checkbox is unchecked, Defaults to "false"</p></li>
<li><p><code class="inline">:value</code> - the value used to check if a checkbox is checked or unchecked. The default value is extracted from the form data if available</p></li>
</ul>
<p>All other options are forwarded to the underlying HTML tag.</p>
<h4 id="checkbox/3-hidden-fields" class="section-heading">  Hidden fields </h4> <p>Because an unchecked checkbox is not sent to the server, Phoenix automatically generates a hidden field with the unchecked_value <em>before</em> the checkbox field to ensure the <code class="inline">unchecked_value</code> is sent when the checkbox is not marked. Set <code class="inline">hidden_input</code> to false If you don't want to send values from unchecked checkbox to the server.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="color_input/3">color_input(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L728" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a color input.</p>
<p>Warning: this feature isn't available in all browsers. Check <code class="inline">http://caniuse.com/#feat=input-color</code> for further information.</p>
<p>See <a href="#text_input/3"><code class="inline">text_input/3</code></a> for example and docs.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="date_input/3">date_input(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L749" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a date input.</p>
<p>Warning: this feature isn't available in all browsers. Check <code class="inline">http://caniuse.com/#feat=input-datetime</code> for further information.</p>
<p>See <a href="#text_input/3"><code class="inline">text_input/3</code></a> for example and docs.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="date_select/3">date_select(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L1517" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates select tags for date.</p>
<p>Check <a href="#datetime_select/3"><code class="inline">datetime_select/3</code></a> for more information on options and supported values.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="datetime_local_input/3">datetime_local_input(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L761" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a datetime-local input.</p>
<p>Warning: this feature isn't available in all browsers. Check <code class="inline">http://caniuse.com/#feat=input-datetime</code> for further information.</p>
<p>See <a href="#text_input/3"><code class="inline">text_input/3</code></a> for example and docs.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="datetime_select/3">datetime_select(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L1498" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates select tags for datetime.</p>
<h4 id="datetime_select/3-examples" class="section-heading">  Examples </h4> <pre data-language="elixir"># Assuming form contains a User schema
datetime_select form, :born_at
#=&gt; &lt;select id="user_born_at_year" name="user[born_at][year]"&gt;...&lt;/select&gt; /
#=&gt; &lt;select id="user_born_at_month" name="user[born_at][month]"&gt;...&lt;/select&gt; /
#=&gt; &lt;select id="user_born_at_day" name="user[born_at][day]"&gt;...&lt;/select&gt; —
#=&gt; &lt;select id="user_born_at_hour" name="user[born_at][hour]"&gt;...&lt;/select&gt; :
#=&gt; &lt;select id="user_born_at_min" name="user[born_at][minute]"&gt;...&lt;/select&gt;</pre>
<p>If you want to include the seconds field (hidden by default), pass <code class="inline">second: []</code>:</p>
<pre data-language="elixir"># Assuming form contains a User schema
datetime_select form, :born_at, second: []</pre>
<p>If you want to configure the years range:</p>
<pre data-language="elixir"># Assuming form contains a User schema
datetime_select form, :born_at, year: [options: 1900..2100]</pre>
<p>You are also able to configure <code class="inline">:month</code>, <code class="inline">:day</code>, <code class="inline">:hour</code>, <code class="inline">:minute</code> and <code class="inline">:second</code>. All options given to those keys will be forwarded to the underlying select. See <a href="#select/4"><code class="inline">select/4</code></a> for more information.</p>
<p>For example, if you are using Phoenix with Gettext and you want to localize the list of months, you can pass <code class="inline">:options</code> to the <code class="inline">:month</code> key:</p>
<pre data-language="elixir"># Assuming form contains a User schema
datetime_select form, :born_at, month: [
  options: [
    {gettext("January"), "1"},
    {gettext("February"), "2"},
    {gettext("March"), "3"},
    {gettext("April"), "4"},
    {gettext("May"), "5"},
    {gettext("June"), "6"},
    {gettext("July"), "7"},
    {gettext("August"), "8"},
    {gettext("September"), "9"},
    {gettext("October"), "10"},
    {gettext("November"), "11"},
    {gettext("December"), "12"},
  ]
]</pre>
<p>You may even provide your own <code class="inline">localized_datetime_select/3</code> built on top of <a href="#datetime_select/3"><code class="inline">datetime_select/3</code></a>:</p>
<pre data-language="elixir">defp localized_datetime_select(form, field, opts \\ []) do
  opts =
    Keyword.put(opts, :month, options: [
      {gettext("January"), "1"},
      {gettext("February"), "2"},
      {gettext("March"), "3"},
      {gettext("April"), "4"},
      {gettext("May"), "5"},
      {gettext("June"), "6"},
      {gettext("July"), "7"},
      {gettext("August"), "8"},
      {gettext("September"), "9"},
      {gettext("October"), "10"},
      {gettext("November"), "11"},
      {gettext("December"), "12"},
    ])

  datetime_select(form, field, opts)
end</pre>
<h4 id="datetime_select/3-options" class="section-heading">  Options </h4> <ul>
<li><p><code class="inline">:value</code> - the value used to select a given option. The default value is extracted from the form data if available</p></li>
<li><p><code class="inline">:default</code> - the default value to use when none was given in <code class="inline">:value</code> and none is available in the form data</p></li>
<li><p><code class="inline">:year</code>, <code class="inline">:month</code>, <code class="inline">:day</code>, <code class="inline">:hour</code>, <code class="inline">:minute</code>, <code class="inline">:second</code> - options passed to the underlying select. See <a href="#select/4"><code class="inline">select/4</code></a> for more information. The available values can be given in <code class="inline">:options</code>.</p></li>
<li><p><code class="inline">:builder</code> - specify how the select can be build. It must be a function that receives a builder that should be invoked with the select name and a set of options. See builder below for more information.</p></li>
</ul>
<h4 id="datetime_select/3-builder" class="section-heading">  Builder </h4> <p>The generated datetime_select can be customized at will by providing a builder option. Here is an example from EEx:</p>
<pre data-language="elixir">&lt;%= datetime_select form, :born_at, builder: fn b -&gt; %&gt;
  Date: &lt;%= b.(:day, []) %&gt; / &lt;%= b.(:month, []) %&gt; / &lt;%= b.(:year, []) %&gt;
  Time: &lt;%= b.(:hour, []) %&gt; : &lt;%= b.(:minute, []) %&gt;
&lt;% end %&gt;</pre>
<p>Although we have passed empty lists as options (they are required), you could pass any option there and it would be given to the underlying select input.</p>
<p>In practice, we recommend you to create your own helper with your default builder:</p>
<pre data-language="elixir">def my_datetime_select(form, field, opts \\ []) do
  builder = fn b -&gt;
    assigns = %{b: b}

    ~H"""
    Date: &lt;%= @b.(:day, []) %&gt; / &lt;%= @b.(:month, []) %&gt; / &lt;%= @b.(:year, []) %&gt;
    Time: &lt;%= @b.(:hour, []) %&gt; : &lt;%= @b.(:minute, []) %&gt;
    """
  end

  datetime_select(form, field, [builder: builder] ++ opts)
end</pre>
<p>Then you are able to use your own datetime_select throughout your whole application.</p>
<h4 id="datetime_select/3-supported-date-values" class="section-heading">  Supported date values </h4> <p>The following values are supported as date:</p>
<ul>
<li>a map containing the <code class="inline">year</code>, <code class="inline">month</code> and <code class="inline">day</code> keys (either as strings or atoms)</li>
<li>a tuple with three elements: <code class="inline">{year, month, day}</code>
</li>
<li>a string in ISO 8601 format</li>
<li><code class="inline">nil</code></li>
</ul>
<h4 id="datetime_select/3-supported-time-values" class="section-heading">  Supported time values </h4> <p>The following values are supported as time:</p>
<ul>
<li>a map containing the <code class="inline">hour</code> and <code class="inline">minute</code> keys and an optional <code class="inline">second</code> key (either as strings or atoms)</li>
<li>a tuple with three elements: <code class="inline">{hour, min, sec}</code>
</li>
<li>a tuple with four elements: <code class="inline">{hour, min, sec, usec}</code>
</li>
<li><code class="inline">nil</code></li>
</ul> </section> </section> <section class="detail">  <h3 class="detail-header" id="email_input/3">email_input(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L661" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates an email input.</p>
<p>See <a href="#text_input/3"><code class="inline">text_input/3</code></a> for example and docs.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="file_input/3">file_input(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L881" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a file input.</p>
<p>It requires the given form to be configured with <code class="inline">multipart: true</code> when invoking <a href="#form_for/4"><code class="inline">form_for/4</code></a>, otherwise it fails with <a href="https://hexdocs.pm/elixir/ArgumentError.html"><code class="inline">ArgumentError</code></a>.</p>
<p>See <a href="#text_input/3"><code class="inline">text_input/3</code></a> for example and docs.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="form_for/3">form_for(form_data, action, options)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L315" class="source">Source</a>
</h3> <div class="deprecated"> This function is deprecated. This functionality is deprecated in favor of form_for with a function. </div> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre translate="no" data-language="elixir">form_for(Phoenix.HTML.FormData.t(), String.t(), Keyword.t()) :: t()</pre> <pre translate="no" data-language="elixir">form_for(Phoenix.HTML.FormData.t(), String.t(), (t() -&gt; Phoenix.HTML.unsafe())) ::
  Phoenix.HTML.safe()</pre> </div> <p>Generates a form tag with a form builder <strong>without</strong> an anonymous function.</p>
<p>This functionality exists mostly for integration with <code class="inline">Phoenix.LiveView</code> that replaces the anonymous function for explicit closing of the <code class="inline">&lt;form&gt;</code> tag:</p>
<pre data-language="elixir">&lt;%= f = form_for @changeset, Routes.user_path(@conn, :create), opts %&gt;
  Name: &lt;%= text_input f, :name %&gt;
&lt;/form&gt;</pre>
<p>See the <a href="#module-phoenix-liveview-integration">Phoenix.LiveView integration</a> section in module documentation for examples of using this function.</p>
<p>See <a href="#form_for/4"><code class="inline">form_for/4</code></a> for the available options.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="form_for/4">form_for(form_data, action, options \\ [], fun)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L360" class="source">Source</a>
</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre translate="no" data-language="elixir">form_for(
  Phoenix.HTML.FormData.t(),
  String.t(),
  Keyword.t(),
  (t() -&gt; Phoenix.HTML.unsafe())
) ::
  Phoenix.HTML.safe()</pre> </div> <p>Generates a form tag with a form builder and an anonymous function.</p>
<pre data-language="elixir">&lt;%= form_for @changeset, Routes.user_path(@conn, :create), fn f -&gt; %&gt;
  Name: &lt;%= text_input f, :name %&gt;
&lt;% end %&gt;</pre>
<p>See the module documentation for examples of using this function.</p>
<h4 id="form_for/4-options" class="section-heading">  Options </h4> <ul>
<li><p><code class="inline">:as</code> - the server side parameter in which all params for this form will be collected (i.e. <code class="inline">as: :user_params</code> would mean all fields for this form will be accessed as <code class="inline">conn.params.user_params</code> server side). Automatically inflected when a changeset is given.</p></li>
<li><p><code class="inline">:method</code> - the HTTP method. If the method is not "get" nor "post", an input tag with name <code class="inline">_method</code> is generated along-side the form tag. Defaults to "post".</p></li>
<li><p><code class="inline">:multipart</code> - when true, sets enctype to "multipart/form-data". Required when uploading files</p></li>
<li><p><code class="inline">:csrf_token</code> - for "post" requests, the form tag will automatically include an input tag with name <code class="inline">_csrf_token</code>. When set to false, this is disabled</p></li>
<li><p><code class="inline">:errors</code> - use this to manually pass a keyword list of errors to the form (for example from <code class="inline">conn.assigns[:errors]</code>). This option is only used when a connection is used as the form source and it will make the errors available under <code class="inline">f.errors</code></p></li>
<li><p><code class="inline">:id</code> - the ID of the form attribute. If an ID is given, all form inputs will also be prefixed by the given ID</p></li>
</ul>
<p>All other options will be passed as html attributes, such as <code class="inline">class: "foo"</code>.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="hidden_input/3">hidden_input(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L625" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a hidden input.</p>
<p>See <a href="#text_input/3"><code class="inline">text_input/3</code></a> for example and docs.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="hidden_inputs_for/1">hidden_inputs_for(form)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L633" class="source">Source</a>
</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre translate="no" data-language="elixir">hidden_inputs_for(t()) :: [Phoenix.HTML.safe()]</pre> </div> <p>Generates hidden inputs for the given form.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="humanize/1">humanize(atom)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L277" class="source">Source</a>
</h3> <section class="docstring"> <p>Converts an attribute/form field into its humanize version.</p>
<pre data-language="elixir">iex&gt; humanize(:username)
"Username"
iex&gt; humanize(:created_at)
"Created at"
iex&gt; humanize("user_id")
"User"</pre> </section> </section> <section class="detail"> <h3 class="detail-header" id="input_id/2">input_id(name, field)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L503" class="source">Source</a>
</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre translate="no" data-language="elixir">input_id(t() | atom(), field()) :: String.t()</pre> </div> <p>Returns an id of a corresponding form field.</p>
<p>The form should either be a <a href="phoenix.html.form.html#content"><code class="inline">Phoenix.HTML.Form</code></a> emitted by <code class="inline">form_for</code> or an atom.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="input_id/3">input_id(name, field, value)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L519" class="source">Source</a>
</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre translate="no" data-language="elixir">input_id(t() | atom(), field(), Phoenix.HTML.Safe.t()) :: String.t()</pre> </div> <p>Returns an id of a corresponding form field and value attached to it.</p>
<p>Useful for radio buttons and inputs like multiselect checkboxes.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="input_name/2">input_name(form_or_name, field)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L537" class="source">Source</a>
</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre translate="no" data-language="elixir">input_name(t() | atom(), field()) :: String.t()</pre> </div> <p>Returns a name of a corresponding form field.</p>
<p>The first argument should either be a <a href="phoenix.html.form.html#content"><code class="inline">Phoenix.HTML.Form</code></a> emitted by <code class="inline">form_for</code> or an atom.</p>
<h4 id="input_name/2-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">iex&gt; Phoenix.HTML.Form.input_name(:user, :first_name)
"user[first_name]"</pre> </section> </section> <section class="detail">  <h3 class="detail-header" id="input_type/3">input_type( form, field, mapping \\ %{ "email" =&gt; :email_input, "password" =&gt; :password_input, "search" =&gt; :search_input, "url" =&gt; :url_input } )<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L579" class="source">Source</a>
</h3> <section class="docstring"> <p>Gets the input type for a given field.</p>
<p>If the underlying input type is a <code class="inline">:text_field</code>, a mapping could be given to further inflect the input type based solely on the field name. The default mapping is:</p>
<pre data-language="elixir">%{"url"      =&gt; :url_input,
  "email"    =&gt; :email_input,
  "search"   =&gt; :search_input,
  "password" =&gt; :password_input}</pre> </section> </section> <section class="detail"> <h3 class="detail-header" id="input_validations/2">input_validations(form, field)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L552" class="source">Source</a>
</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre translate="no" data-language="elixir">input_validations(t(), field()) :: Keyword.t()</pre> </div> <p>Returns the HTML5 validations that would apply to the given field.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="input_value/2">input_value(form, field)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L478" class="source">Source</a>
</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre translate="no" data-language="elixir">input_value(t() | atom(), field()) :: term()</pre> </div> <p>Returns a value of a corresponding form field.</p>
<p>The <code class="inline">form</code> should either be a <a href="phoenix.html.form.html#content"><code class="inline">Phoenix.HTML.Form</code></a> emitted by <code class="inline">form_for</code> or an atom.</p>
<p>When a form is given, it will lookup for changes and then fallback to parameters and finally fallback to the default struct/map value.</p>
<p>Since the function looks up parameter values too, there is no guarantee that the value will have a certain type. For example, a boolean field will be sent as "false" as a parameter, and this function will return it as is. If you need to normalize the result of <code class="inline">input_value</code>, the best option is to call <code class="inline">html_escape</code> on it and compare the resulting string.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="inputs_for/2">inputs_for(form, field)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L369" class="source">Source</a>
</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre translate="no" data-language="elixir">inputs_for(t(), field()) :: [t()]</pre> </div> <p>Same as <code class="inline">inputs_for(form, field, [])</code>.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="inputs_for/3">inputs_for(form, field, options)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L396" class="source">Source</a>
</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre translate="no" data-language="elixir">inputs_for(t(), field(), Keyword.t()) :: [t()]</pre> <pre translate="no" data-language="elixir">inputs_for(t(), field(), (t() -&gt; Phoenix.HTML.unsafe())) :: Phoenix.HTML.safe()</pre> </div> <p>Generate a new form builder for the given parameter in form <strong>without</strong> an anonymous function.</p>
<p>This functionality exists mostly for integration with <code class="inline">Phoenix.LiveView</code> that replaces the anonymous function for returning the generated forms instead.</p>
<p>Keep in mind that this function does not generate hidden inputs automatically like <a href="#inputs_for/4"><code class="inline">inputs_for/4</code></a>. To generate them you need to explicit do it by yourself.</p>
<pre data-language="elixir">&lt;%= f = form_for @changeset, Routes.user_path(@conn, :create), opts %&gt;
  Name: &lt;%= text_input f, :name %&gt;

  &lt;%= for friend_form &lt;- inputs_for(f, :friends) do %&gt;
    # for generating hidden inputs.
    &lt;%= hidden_inputs_for(friend_form) %&gt;
    &lt;%= text_input friend_form, :name %&gt;
  &lt;% end %&gt;
&lt;/form&gt;</pre>
<p>See <a href="#inputs_for/4"><code class="inline">inputs_for/4</code></a> for the available options.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="inputs_for/4">inputs_for(form, field, options \\ [], fun)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L437" class="source">Source</a>
</h3> <section class="docstring"> <h4>Specs</h4> <div class="specs"> <pre translate="no" data-language="elixir">inputs_for(t(), field(), Keyword.t(), (t() -&gt; Phoenix.HTML.unsafe())) ::
  Phoenix.HTML.safe()</pre> </div> <p>Generate a new form builder for the given parameter in form.</p>
<p>See the module documentation for examples of using this function.</p>
<h4 id="inputs_for/4-options" class="section-heading">  Options </h4> <ul>
<li><p><code class="inline">:id</code> - the id to be used in the form, defaults to the concatenation of the given <code class="inline">field</code> to the parent form id</p></li>
<li><p><code class="inline">:as</code> - the name to be used in the form, defaults to the concatenation of the given <code class="inline">field</code> to the parent form name</p></li>
<li><p><code class="inline">:default</code> - the value to use if none is available</p></li>
<li><p><code class="inline">:prepend</code> - the values to prepend when rendering. This only applies if the field value is a list and no parameters were sent through the form.</p></li>
<li><p><code class="inline">:append</code> - the values to append when rendering. This only applies if the field value is a list and no parameters were sent through the form.</p></li>
<li><p><code class="inline">:skip_hidden</code> - skip the automatic rendering of hidden fields to allow for more tight control over the generated markup. You can access <code class="inline">form.hidden</code> to generate them manually within the supplied callback.</p></li>
</ul> </section> </section> <section class="detail"> <h3 class="detail-header" id="label/1">label(do_block)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L1680" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a label tag.</p>
<p>Useful when wrapping another input inside a label.</p>
<h4 id="label/1-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">label do
  radio_button :user, :choice, "Choice"
end
#=&gt; &lt;label&gt;...&lt;/label&gt;

label class: "control-label" do
  radio_button :user, :choice, "Choice"
end
#=&gt; &lt;label class="control-label"&gt;...&lt;/label&gt;</pre> </section> </section> <section class="detail"> <h3 class="detail-header" id="label/2">label(opts, field)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L1686" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a label tag for the given field.</p>
<p>The form should either be a <a href="phoenix.html.form.html#content"><code class="inline">Phoenix.HTML.Form</code></a> emitted by <code class="inline">form_for</code> or an atom.</p>
<p>All given options are forwarded to the underlying tag. A default value is provided for <code class="inline">for</code> attribute but can be overridden if you pass a value to the <code class="inline">for</code> option. Text content would be inferred from <code class="inline">field</code> if not specified as either a function argument or string value in a block.</p>
<p>To wrap a label around an input, see <a href="#label/1"><code class="inline">label/1</code></a>.</p>
<h4 id="label/2-examples" class="section-heading">  Examples </h4> <pre data-language="elixir"># Assuming form contains a User schema
label(form, :name, "Name")
#=&gt; &lt;label for="user_name"&gt;Name&lt;/label&gt;

label(:user, :email, "Email")
#=&gt; &lt;label for="user_email"&gt;Email&lt;/label&gt;

label(:user, :email)
#=&gt; &lt;label for="user_email"&gt;Email&lt;/label&gt;

label(:user, :email, class: "control-label")
#=&gt; &lt;label for="user_email" class="control-label"&gt;Email&lt;/label&gt;

label :user, :email do
  "E-mail Address"
end
#=&gt; &lt;label for="user_email"&gt;E-mail Address&lt;/label&gt;

label :user, :email, "E-mail Address", class: "control-label"
#=&gt; &lt;label class="control-label" for="user_email"&gt;E-mail Address&lt;/label&gt;

label :user, :email, class: "control-label" do
  "E-mail Address"
end
#=&gt; &lt;label class="control-label" for="user_email"&gt;E-mail Address&lt;/label&gt;</pre> </section> </section> <section class="detail"> <h3 class="detail-header" id="label/3">label(form, field, text_or_do_block_or_attributes)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L1740" class="source">Source</a>
</h3> <section class="docstring"> <p>See <a href="#label/2"><code class="inline">label/2</code></a>.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="label/4">label(form, field, text, do_block_or_attributes)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L1757" class="source">Source</a>
</h3> <section class="docstring"> <p>See <a href="#label/2"><code class="inline">label/2</code></a>.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="multiple_select/4">multiple_select(form, field, options, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L1345" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a select tag with the given <code class="inline">options</code>.</p>
<p>Values are expected to be an Enumerable containing two-item tuples (like maps and keyword lists) or any Enumerable where the element will be used both as key and value for the generated select.</p>
<h4 id="multiple_select/4-examples" class="section-heading">  Examples </h4> <pre data-language="elixir"># Assuming form contains a User schema
multiple_select(form, :roles, ["Admin": 1, "Power User": 2])
#=&gt; &lt;select id="user_roles" name="user[roles][]"&gt;
#=&gt;   &lt;option value="1"&gt;Admin&lt;/option&gt;
#=&gt;   &lt;option value="2"&gt;Power User&lt;/option&gt;
#=&gt; &lt;/select&gt;

multiple_select(form, :roles, ["Admin": 1, "Power User": 2], selected: [1])
#=&gt; &lt;select id="user_roles" name="user[roles][]"&gt;
#=&gt;   &lt;option value="1" selected="selected"&gt;Admin&lt;/option&gt;
#=&gt;   &lt;option value="2"&gt;Power User&lt;/option&gt;
#=&gt; &lt;/select&gt;</pre>
<p>When working with structs, associations and embeds, you will need to tell Phoenix how to extract the value out of the collection. For example, imagine <code class="inline">user.roles</code> is a list of <code class="inline">%Role{}</code> structs. You must call it as:</p>
<pre data-language="elixir">multiple_select(form, :roles, ["Admin": 1, "Power User": 2],
                selected: Enum.map(@user.roles, &amp;(&amp;1.id))</pre>
<p>The <code class="inline">:selected</code> option will mark the given IDs as selected unless the form is being resubmitted. When resubmitted, it uses the form params as values.</p>
<h4 id="multiple_select/4-options" class="section-heading">  Options </h4> <ul><li>
<code class="inline">:selected</code> - the default options to be marked as selected. The values on this list are ignored in case ids have been set as parameters.</li></ul>
<p>All other options are forwarded to the underlying HTML tag.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="number_input/3">number_input(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L670" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a number input.</p>
<p>See <a href="#text_input/3"><code class="inline">text_input/3</code></a> for example and docs.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="options_for_select/2">options_for_select(options, selected_values)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L1239" class="source">Source</a>
</h3> <section class="docstring"> <p>Returns options to be used inside a select.</p>
<p>This is useful when building the select by hand. It expects all options and one or more select values.</p>
<h4 id="options_for_select/2-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">options_for_select(["Admin": "admin", "User": "user"], "admin")
#=&gt; &lt;option value="admin" selected="selected"&gt;Admin&lt;/option&gt;
#=&gt; &lt;option value="user"&gt;User&lt;/option&gt;</pre>
<p>Groups are also supported:</p>
<pre data-language="elixir">options_for_select(["Europe": ["UK", "Sweden", "France"], ...], nil)
#=&gt; &lt;optgroup label="Europe"&gt;
#=&gt;   &lt;option&gt;UK&lt;/option&gt;
#=&gt;   &lt;option&gt;Sweden&lt;/option&gt;
#=&gt;   &lt;option&gt;France&lt;/option&gt;
#=&gt; &lt;/optgroup&gt;</pre> </section> </section> <section class="detail">  <h3 class="detail-header" id="password_input/3">password_input(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L683" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a password input.</p>
<p>For security reasons, the form data and parameter values are never re-used in <a href="#password_input/3"><code class="inline">password_input/3</code></a>. Pass the value explicitly if you would like to set one.</p>
<p>See <a href="#text_input/3"><code class="inline">text_input/3</code></a> for example and docs.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="radio_button/4">radio_button(form, field, value, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L988" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a radio button.</p>
<p>Invoke this function for each possible value you want to be sent to the server.</p>
<h4 id="radio_button/4-examples" class="section-heading">  Examples </h4> <pre data-language="elixir"># Assuming form contains a User schema
radio_button(form, :role, "admin")
#=&gt; &lt;input id="user_role_admin" name="user[role]" type="radio" value="admin"&gt;</pre>
<h4 id="radio_button/4-options" class="section-heading">  Options </h4> <p>All options are simply forwarded to the underlying HTML tag.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="range_input/3">range_input(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L737" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a range input.</p>
<p>See <a href="#text_input/3"><code class="inline">text_input/3</code></a> for example and docs.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="reset/2">reset(value, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L963" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a reset input to reset all the form fields to their original state.</p>
<p>All options are forwarded to the underlying input tag.</p>
<h4 id="reset/2-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">reset "Reset"
#=&gt; &lt;input type="reset" value="Reset"&gt;

reset "Reset", class: "btn"
#=&gt; &lt;input type="reset" value="Reset" class="btn"&gt;</pre> </section> </section> <section class="detail">  <h3 class="detail-header" id="search_input/3">search_input(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L707" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a search input.</p>
<p>See <a href="#text_input/3"><code class="inline">text_input/3</code></a> for example and docs.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="select/4">select(form, field, options, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L1182" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a select tag with the given <code class="inline">options</code>.</p>
<p><code class="inline">options</code> are expected to be an enumerable which will be used to generate each respective <code class="inline">option</code>. The enumerable may have:</p>
<ul>
<li><p>keyword lists - each keyword list is expected to have the keys <code class="inline">:key</code> and <code class="inline">:value</code>. Additional keys such as <code class="inline">:disabled</code> may be given to customize the option</p></li>
<li><p>two-item tuples - where the first element is an atom, string or integer to be used as the option label and the second element is an atom, string or integer to be used as the option value</p></li>
<li><p>atom, string or integer - which will be used as both label and value for the generated select</p></li>
</ul>
<h4 id="select/4-optgroups" class="section-heading">  Optgroups </h4> <p>If <code class="inline">options</code> is map or keyword list where the first element is a string, atom or integer and the second element is a list or a map, it is assumed the key will be wrapped in an <code class="inline">&lt;optgroup&gt;</code> and the value will be used to generate <code class="inline">&lt;options&gt;</code> nested under the group.</p>
<h4 id="select/4-examples" class="section-heading">  Examples </h4> <pre data-language="elixir"># Assuming form contains a User schema
select(form, :age, 0..120)
#=&gt; &lt;select id="user_age" name="user[age]"&gt;
#=&gt;   &lt;option value="0"&gt;0&lt;/option&gt;
#=&gt;   ...
#=&gt;   &lt;option value="120"&gt;120&lt;/option&gt;
#=&gt; &lt;/select&gt;

select(form, :role, ["Admin": "admin", "User": "user"])
#=&gt; &lt;select id="user_role" name="user[role]"&gt;
#=&gt;   &lt;option value="admin"&gt;Admin&lt;/option&gt;
#=&gt;   &lt;option value="user"&gt;User&lt;/option&gt;
#=&gt; &lt;/select&gt;

select(form, :role, [[key: "Admin", value: "admin", disabled: true],
                     [key: "User", value: "user"]])
#=&gt; &lt;select id="user_role" name="user[role]"&gt;
#=&gt;   &lt;option value="admin" disabled="disabled"&gt;Admin&lt;/option&gt;
#=&gt;   &lt;option value="user"&gt;User&lt;/option&gt;
#=&gt; &lt;/select&gt;</pre>
<p>You can also pass a prompt:</p>
<pre data-language="elixir">select(form, :role, ["Admin": "admin", "User": "user"], prompt: "Choose your role")
#=&gt; &lt;select id="user_role" name="user[role]"&gt;
#=&gt;   &lt;option value=""&gt;Choose your role&lt;/option&gt;
#=&gt;   &lt;option value="admin"&gt;Admin&lt;/option&gt;
#=&gt;   &lt;option value="user"&gt;User&lt;/option&gt;
#=&gt; &lt;/select&gt;</pre>
<p>And customize the prompt as any other entry:</p>
<pre data-language="elixir">select(form, :role, ["Admin": "admin", "User": "user"], prompt: [key: "Choose your role", disabled: true])
#=&gt; &lt;select id="user_role" name="user[role]"&gt;
#=&gt;   &lt;option value="" disabled=""&gt;Choose your role&lt;/option&gt;
#=&gt;   &lt;option value="admin"&gt;Admin&lt;/option&gt;
#=&gt;   &lt;option value="user"&gt;User&lt;/option&gt;
#=&gt; &lt;/select&gt;</pre>
<p>If you want to select an option that comes from the database, such as a manager for a given project, you may write:</p>
<pre data-language="elixir">select(form, :manager_id, Enum.map(@managers, &amp;{&amp;1.name, &amp;1.id}))
#=&gt; &lt;select id="manager_id" name="project[manager_id]"&gt;
#=&gt;   &lt;option value="1"&gt;Mary Jane&lt;/option&gt;
#=&gt;   &lt;option value="2"&gt;John Doe&lt;/option&gt;
#=&gt; &lt;/select&gt;</pre>
<p>Finally, if the values are a list or a map, we use the keys for grouping:</p>
<pre data-language="elixir">select(form, :country, ["Europe": ["UK", "Sweden", "France"]], ...)
#=&gt; &lt;select id="user_country" name="user[country]"&gt;
#=&gt;   &lt;optgroup label="Europe"&gt;
#=&gt;     &lt;option&gt;UK&lt;/option&gt;
#=&gt;     &lt;option&gt;Sweden&lt;/option&gt;
#=&gt;     &lt;option&gt;France&lt;/option&gt;
#=&gt;   &lt;/optgroup&gt;
#=&gt;   ...
#=&gt; &lt;/select&gt;</pre>
<h4 id="select/4-options" class="section-heading">  Options </h4> <ul>
<li><p><code class="inline">:prompt</code> - an option to include at the top of the options. It may be a string or a keyword list of attributes and the <code class="inline">:key</code></p></li>
<li><p><code class="inline">:selected</code> - the default value to use when none was sent as parameter</p></li>
</ul>
<p>Be aware that a <code class="inline">:multiple</code> option will not generate a correctly functioning multiple select element. Use <a href="#multiple_select/4"><code class="inline">multiple_select/4</code></a> instead.</p>
<p>All other options are forwarded to the underlying HTML tag.</p> </section> </section> <section class="detail"> <h3 class="detail-header" id="submit/1">submit(block_option)<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L913" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a submit button to send the form.</p>
<h4 id="submit/1-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">submit do: "Submit"
#=&gt; &lt;button type="submit"&gt;Submit&lt;/button&gt;</pre> </section> </section> <section class="detail"> <h3 class="detail-header" id="submit/2">submit(value, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L934" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a submit button to send the form.</p>
<p>All options are forwarded to the underlying button tag. When called with a <code class="inline">do:</code> block, the button tag options come first.</p>
<h4 id="submit/2-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">submit "Submit"
#=&gt; &lt;button type="submit"&gt;Submit&lt;/button&gt;

submit "Submit", class: "btn"
#=&gt; &lt;button class="btn" type="submit"&gt;Submit&lt;/button&gt;

submit [class: "btn"], do: "Submit"
#=&gt; &lt;button class="btn" type="submit"&gt;Submit&lt;/button&gt;</pre> </section> </section> <section class="detail">  <h3 class="detail-header" id="telephone_input/3">telephone_input(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L716" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a telephone input.</p>
<p>See <a href="#text_input/3"><code class="inline">text_input/3</code></a> for example and docs.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="text_input/3">text_input(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L616" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a text input.</p>
<p>The form should either be a <a href="phoenix.html.form.html#content"><code class="inline">Phoenix.HTML.Form</code></a> emitted by <code class="inline">form_for</code> or an atom.</p>
<p>All given options are forwarded to the underlying input, default values are provided for id, name and value if possible.</p>
<h4 id="text_input/3-examples" class="section-heading">  Examples </h4> <pre data-language="elixir"># Assuming form contains a User schema
text_input(form, :name)
#=&gt; &lt;input id="user_name" name="user[name]" type="text" value=""&gt;

text_input(:user, :name)
#=&gt; &lt;input id="user_name" name="user[name]" type="text" value=""&gt;</pre> </section> </section> <section class="detail">  <h3 class="detail-header" id="textarea/3">textarea(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L863" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a textarea input.</p>
<p>All given options are forwarded to the underlying input, default values are provided for id, name and textarea content if possible.</p>
<h4 id="textarea/3-examples" class="section-heading">  Examples </h4> <pre data-language="elixir"># Assuming form contains a User schema
textarea(form, :description)
#=&gt; &lt;textarea id="user_description" name="user[description]"&gt;&lt;/textarea&gt;</pre>
<h4 id="textarea/3-new-lines" class="section-heading">  New lines </h4> <p>Notice the generated textarea includes a new line after the opening tag. This is because the HTML spec says new lines after tags must be ignored and all major browser implementations do that.</p>
<p>So in order to avoid new lines provided by the user from being ignored when the form is resubmitted, we automatically add a new line before the text area value.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="time_input/3">time_input(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L800" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates a time input.</p>
<p>Warning: this feature isn't available in all browsers. Check <code class="inline">http://caniuse.com/#feat=input-datetime</code> for further information.</p>
<h4 id="time_input/3-options" class="section-heading">  Options </h4> <ul><li>
<code class="inline">:precision</code> - Allowed values: <code class="inline">:minute</code>, <code class="inline">:second</code>, <code class="inline">:millisecond</code>. Defaults to <code class="inline">:minute</code>.</li></ul>
<p>All other options are forwarded. See <a href="#text_input/3"><code class="inline">text_input/3</code></a> for example and docs.</p>
<h4 id="time_input/3-examples" class="section-heading">  Examples </h4> <pre data-language="elixir">time_input form, :time
#=&gt; &lt;input id="form_time" name="form[time]" type="time" value="23:00"&gt;

time_input form, :time, precision: :second
#=&gt; &lt;input id="form_time" name="form[time]" type="time" value="23:00:00"&gt;

time_input form, :time, precision: :millisecond
#=&gt; &lt;input id="form_time" name="form[time]" type="time" value="23:00:00.000"&gt;</pre> </section> </section> <section class="detail">  <h3 class="detail-header" id="time_select/3">time_select(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L1551" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates select tags for time.</p>
<p>Check <a href="#datetime_select/3"><code class="inline">datetime_select/3</code></a> for more information on options and supported values.</p> </section> </section> <section class="detail">  <h3 class="detail-header" id="url_input/3">url_input(form, field, opts \\ [])<a href="https://github.com/phoenixframework/phoenix_html/blob/v3.2.0/lib/phoenix_html/form.ex#L698" class="source">Source</a>
</h3> <section class="docstring"> <p>Generates an url input.</p>
<p>See <a href="#text_input/3"><code class="inline">text_input/3</code></a> for example and docs.</p> </section> </section> </div> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014 Chris McCord<br>Licensed under the MIT License.<br>
    <a href="https://hexdocs.pm/phoenix_html/Phoenix.HTML.Form.html" class="_attribution-link">https://hexdocs.pm/phoenix_html/Phoenix.HTML.Form.html</a>
  </p>
</div>
