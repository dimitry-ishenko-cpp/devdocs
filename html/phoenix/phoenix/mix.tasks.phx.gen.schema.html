<h1>   <span translate="no">mix phx.gen.schema</span>  </h1> <section id="moduledoc"> <p>Generates an Ecto schema and migration.</p>
<pre data-language="elixir">$ mix phx.gen.schema Blog.Post blog_posts title:string views:integer
</pre>
<p>The first argument is the schema module followed by its plural name (used as the table name).</p>
<p>The generated schema above will contain:</p>
<ul>
<li>a schema file in <code class="inline">lib/my_app/blog/post.ex</code>, with a <code class="inline">blog_posts</code> table</li>
<li>a migration file for the repository</li>
</ul>
<p>The generated migration can be skipped with <code class="inline">--no-migration</code>.</p>
<h2 id="module-contexts" class="section-heading">  Contexts </h2> <p>Your schemas can be generated and added to a separate OTP app. Make sure your configuration is properly setup or manually specify the context app with the <code class="inline">--context-app</code> option with the CLI.</p>
<p>Via config:</p>
<pre data-language="elixir">config :marketing_web, :generators, context_app: :marketing</pre>
<p>Via CLI:</p>
<pre data-language="elixir">$ mix phx.gen.schema Blog.Post blog_posts title:string views:integer --context-app marketing
</pre>
<h2 id="module-attributes" class="section-heading">  Attributes </h2> <p>The resource fields are given using <code class="inline">name:type</code> syntax where type are the types supported by Ecto. Omitting the type makes it default to <code class="inline">:string</code>:</p>
<pre data-language="elixir">$ mix phx.gen.schema Blog.Post blog_posts title views:integer
</pre>
<p>The following types are supported:</p>
<ul>
<li><p><code class="inline">:integer</code></p></li>
<li><p><code class="inline">:float</code></p></li>
<li><p><code class="inline">:decimal</code></p></li>
<li><p><code class="inline">:boolean</code></p></li>
<li><p><code class="inline">:map</code></p></li>
<li><p><code class="inline">:string</code></p></li>
<li><p><code class="inline">:array</code></p></li>
<li><p><code class="inline">:references</code></p></li>
<li><p><code class="inline">:text</code></p></li>
<li><p><code class="inline">:date</code></p></li>
<li><p><code class="inline">:time</code></p></li>
<li><p><code class="inline">:time_usec</code></p></li>
<li><p><code class="inline">:naive_datetime</code></p></li>
<li><p><code class="inline">:naive_datetime_usec</code></p></li>
<li><p><code class="inline">:utc_datetime</code></p></li>
<li><p><code class="inline">:utc_datetime_usec</code></p></li>
<li><p><code class="inline">:uuid</code></p></li>
<li><p><code class="inline">:binary</code></p></li>
<li><p><code class="inline">:enum</code></p></li>
<li><p><code class="inline">:datetime</code> - An alias for <code class="inline">:naive_datetime</code></p></li>
</ul>
<p>The generator also supports references, which we will properly associate the given column to the primary key column of the referenced table:</p>
<pre data-language="elixir">$ mix phx.gen.schema Blog.Post blog_posts title user_id:references:users
</pre>
<p>This will result in a migration with an <code class="inline">:integer</code> column of <code class="inline">:user_id</code> and create an index.</p>
<p>Furthermore an array type can also be given if it is supported by your database, although it requires the type of the underlying array element to be given too:</p>
<pre data-language="elixir">$ mix phx.gen.schema Blog.Post blog_posts tags:array:string
</pre>
<p>Unique columns can be automatically generated by using:</p>
<pre data-language="elixir">$ mix phx.gen.schema Blog.Post blog_posts title:unique unique_int:integer:unique
</pre>
<p>Redact columns can be automatically generated by using:</p>
<pre data-language="elixir">$ mix phx.gen.schema Accounts.Superhero superheroes secret_identity:redact password:string:redact
</pre>
<p>Ecto.Enum fields can be generated by using:</p>
<pre data-language="elixir">$ mix phx.gen.schema Blog.Post blog_posts title status:enum:unpublished:published:deleted
</pre>
<p>If no data type is given, it defaults to a string.</p>
<h2 id="module-table" class="section-heading">  table </h2> <p>By default, the table name for the migration and schema will be the plural name provided for the resource. To customize this value, a <code class="inline">--table</code> option may be provided. For example:</p>
<pre data-language="elixir">$ mix phx.gen.schema Blog.Post posts --table cms_posts
</pre>
<h2 id="module-binary_id" class="section-heading">  binary_id </h2> <p>Generated migration can use <code class="inline">binary_id</code> for schema's primary key and its references with option <code class="inline">--binary-id</code>.</p>
<h2 id="module-default-options" class="section-heading">  Default options </h2> <p>This generator uses default options provided in the <code class="inline">:generators</code> configuration of your application. These are the defaults:</p>
<pre data-language="elixir">config :your_app, :generators,
  migration: true,
  binary_id: false,
  sample_binary_id: "11111111-1111-1111-1111-111111111111"</pre>
<p>You can override those options per invocation by providing corresponding switches, e.g. <code class="inline">--no-binary-id</code> to use normal ids despite the default configuration or <code class="inline">--migration</code> to force generation of the migration.</p> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014 Chris McCord<br>Licensed under the MIT License.<br>
    <a href="https://hexdocs.pm/phoenix/Mix.Tasks.Phx.Gen.Schema.html" class="_attribution-link">https://hexdocs.pm/phoenix/Mix.Tasks.Phx.Gen.Schema.html</a>
  </p>
</div>
