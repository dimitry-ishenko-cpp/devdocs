<h1>   <span>Changelog for v1.6</span> </h1> <p>See the <a href="https://gist.github.com/chrismccord/2ab350f154235ad4a4d0f4de6decba7b">upgrade guide</a> to upgrade from Phoenix 1.5.x.</p>
<p>Phoenix v1.6 requires Elixir v1.9+.</p>
<h2 id="1-6-11-2022-07-11" class="section-heading">  1.6.11 (2022-07-11) </h2> <h3 id="javascript-client-enhancements" class="section-heading">  JavaScript Client Enhancements </h3> <ul><li>Add convenience for getting longpoll reference with <code class="inline">getLongPollTransport</code>
</li></ul>
<h3 id="javascript-client-bug-fixes" class="section-heading">  JavaScript Client Bug Fixes </h3> <ul>
<li>Cancel inflight longpoll requests on canceled longpoll session</li>
<li>Do not attempt to flush socket buffer when tearing down socket on <code class="inline">replaceTransport</code>
</li>
</ul>
<h2 id="1-6-10-2022-06-01" class="section-heading">  1.6.10 (2022-06-01) </h2> <h3 id="javascript-client-enhancements-1" class="section-heading">  JavaScript Client Enhancements </h3> <ul><li>Add <code class="inline">ping</code> function to socket</li></ul>
<h2 id="1-6-9-2022-05-16" class="section-heading">  1.6.9 (2022-05-16) </h2> <h3 id="bug-fixes" class="section-heading">  Bug Fixes </h3> <ul><li>[phx.gen.release] Fix generated .dockerignore comment</li></ul>
<h2 id="1-6-8-2022-05-06" class="section-heading">  1.6.8 (2022-05-06) </h2> <h3 id="bug-fixes-1" class="section-heading">  Bug Fixes </h3> <ul><li>[phx.gen.release] Fix Ecto check failing to find Ecto in certain cases</li></ul>
<h2 id="1-6-7-2022-04-14" class="section-heading">  1.6.7 (2022-04-14) </h2> <h3 id="enhancements" class="section-heading">  Enhancements </h3> <ul>
<li>[Endpoint] Add Endpoint init telemetry event</li>
<li>[Endpoint] Prioritize user :http configuration for ranch to fix inet_backend failing to be respected</li>
<li>[Logger] Support log_module in router metadata</li>
<li>[phx.gen.release] Don't handle assets in Docker when directory doesn't exist</li>
<li>[phx.gen.release] Skip generating migration files when ecto_sql is not installed</li>
</ul>
<h3 id="javascript-client-enhancements-2" class="section-heading">  JavaScript Client Enhancements </h3> <ul><li>Switch to .mjs files for ESM for better compatibility across build tools</li></ul>
<h3 id="javascript-client-bug-fixes-1" class="section-heading">  JavaScript Client Bug Fixes </h3> <ul><li>Fix LongPoll callbacks in JS client causing errors on connection close</li></ul>
<h2 id="1-6-6-2022-01-04" class="section-heading">  1.6.6 (2022-01-04) </h2> <h3 id="bug-fixes-2" class="section-heading">  Bug Fixes </h3> <ul><li>[Endpoint] Fix <code class="inline">check_origin: :conn</code> failing to match scheme</li></ul>
<h2 id="1-6-5-2021-12-16" class="section-heading">  1.6.5 (2021-12-16) </h2> <h3 id="enhancements-1" class="section-heading">  Enhancements </h3> <ul><li>[Endpoint] Support <code class="inline">check_origin: :conn</code> to enforce origin on the connection's host, port, and scheme</li></ul>
<h3 id="bug-fixes-3" class="section-heading">  Bug Fixes </h3> <ul><li>Fix LiveView upload testing errors caused by <a href="phoenix.channeltest.html"><code class="inline">Phoenix.ChannelTest</code></a>
</li></ul>
<h2 id="1-6-4-2021-12-08" class="section-heading">  1.6.4 (2021-12-08) </h2> <h3 id="bug-fixes-4" class="section-heading">  Bug Fixes </h3> <ul><li>Fix incorrect <code class="inline">phx.gen.release</code> output</li></ul>
<h2 id="1-6-3-2021-12-07" class="section-heading">  1.6.3 (2021-12-07) </h2> <h3 id="enhancements-2" class="section-heading">  Enhancements </h3> <ul>
<li>Add new <code class="inline">phx.gen.release</code> task for release and docker based deployments</li>
<li>Add <code class="inline">fullsweep_after</code> option to the websocket transport</li>
<li>Add <code class="inline">:force_watchers</code> option to <a href="phoenix.endpoint.html"><code class="inline">Phoenix.Endpoint</code></a> for running watchers even when web server is not started</li>
</ul>
<h3 id="bug-fixes-5" class="section-heading">  Bug Fixes </h3> <ul><li>Fix Endpoint <code class="inline">log: false</code> failing to disable logging</li></ul>
<h3 id="javascript-client-bug-fixes-2" class="section-heading">  JavaScript Client Bug Fixes </h3> <ul><li>Do not attempt to reconnect automatically if client gracefully closes connection</li></ul>
<h2 id="1-6-2-2021-10-08" class="section-heading">  1.6.2 (2021-10-08) </h2> <h3 id="bug-fixes-6" class="section-heading">  Bug Fixes </h3> <ul><li>[phx.new] Fix external flag to esbuild using incorrect syntax</li></ul>
<h2 id="1-6-1-2021-10-08" class="section-heading">  1.6.1 (2021-10-08) </h2> <h3 id="enhancements-3" class="section-heading">  Enhancements </h3> <ul>
<li>[phx.new] Add external flag to esbuild for fonts and image path loading</li>
<li>[phx.gen.auth] No longer set <code class="inline">argon2</code> as the default hash algorithm for <code class="inline">phx.gen.auth</code> in favor of bcrypt for performance reasons on smaller hardware</li>
</ul>
<h3 id="bug-fixes-7" class="section-heading">  Bug Fixes </h3> <ul><li>Fix race conditions logging debug duplicate channel joins when no duplicate existed</li></ul>
<h3 id="javascript-client-bug-fixes-3" class="section-heading">  JavaScript Client Bug Fixes </h3> <ul><li>Export commonjs modules for backwards compatibility</li></ul>
<h2 id="1-6-0-2021-09-24" class="section-heading">  1.6.0 (2021-09-24) 🚀 </h2> <h3 id="enhancements-4" class="section-heading">  Enhancements </h3> <ul><li>[ConnTest] Add <code class="inline">path_params/2</code> for retrieving router path parameters out of dynamically returned URLs.</li></ul>
<h3 id="javascript-client-bug-fixes-4" class="section-heading">  JavaScript Client Bug Fixes </h3> <ul><li>Fix LongPoll transport undefined readyState check</li></ul>
<h2 id="1-6-0-rc-1-2021-09-22" class="section-heading">  1.6.0-rc.1 (2021-09-22) </h2> <h3 id="enhancements-5" class="section-heading">  Enhancements </h3> <ul>
<li>[mix phx.gen.auth] Validate bcrypt passwords are no longer than 72 bytes</li>
<li>re-enable <code class="inline">phx.routes</code> task to support back to back invocations, such as for aliased mix route tasks</li>
<li>[mix phx.gen.html] Remove comma after <code class="inline">for={@changeset}</code> on <code class="inline">form.html.heex</code>
</li>
</ul>
<h3 id="javascript-client-bug-fixes-5" class="section-heading">  JavaScript Client Bug Fixes </h3> <ul><li>Fix messages for duplicate topic being dispatched to old channels</li></ul>
<h2 id="1-6-0-rc-0-2021-08-26" class="section-heading">  1.6.0-rc.0 (2021-08-26) </h2> <h3 id="enhancements-6" class="section-heading">  Enhancements </h3> <ul>
<li>[CodeReloader] Code reloading can now pick up changes to .beam files if they were compiled in a separate OS process than the Phoenix server</li>
<li>[Controller] Do not create compile-time dependency for <code class="inline">action_fallback</code>
</li>
<li>[Endpoint] Allow custom error response from socket handler</li>
<li>[Endpoint] Do not require a pubsub server in the socket (only inside channels)</li>
<li>[mix phx.digest.clean] Add <code class="inline">--all</code> flag to <a href="mix.tasks.phx.digest.clean.html"><code class="inline">mix phx.digest.clean</code></a>
</li>
<li>[mix phx.gen.auth] Add <a href="mix.tasks.phx.gen.auth.html"><code class="inline">mix phx.gen.auth</code></a> generator</li>
<li>[mix phx.gen.context] Support <code class="inline">enum</code> types and the <code class="inline">redact</code> option when declaring fields</li>
<li>[mix phx.gen.notifier] A new generator to build notifiers that by default deliver emails</li>
<li>[mix phx.new] Update <a href="mix.tasks.phx.new.html"><code class="inline">mix phx.new</code></a> to require Elixir v1.12 and use the new <code class="inline">config/runtime.exs</code>
</li>
<li>[mix phx.new] Set <code class="inline">plug_init_mode: :runtime</code> in generated <code class="inline">config/test.exs</code>
</li>
<li>[mix phx.new] Add description to Ecto telemetry metrics</li>
<li>[mix phx.new] Use <a href="https://hexdocs.pm/ecto_sql/3.8.1/Ecto.Adapters.SQL.Sandbox.html#start_owner!/2"><code class="inline">Ecto.Adapters.SQL.Sandbox.start_owner!/2</code></a> in generators - this approach provides proper shutdown semantics for apps using LiveView and Presence</li>
<li>[mix phx.new] Add <code class="inline">--install</code> and <code class="inline">--no-install</code> options to <code class="inline">phx.new</code>
</li>
<li>[mix phx.new] Add <code class="inline">--database sqlite3</code> option to <code class="inline">phx.new</code>
</li>
<li>[mix phx.new] Remove usage of Sass</li>
<li>[mix phx.new] New applications now depend on Swoosh to deliver emails</li>
<li>[mix phx.new] No longer generate a socket file by default, instead one can run <a href="mix.tasks.phx.gen.socket.html"><code class="inline">mix phx.gen.socket</code></a>
</li>
<li>[mix phx.new] No longer generates a home page using LiveView, instead one can run <a href="mix.tasks.phx.gen.live.html"><code class="inline">mix phx.gen.live</code></a>
</li>
<li>[mix phx.new] LiveView is now included by default. Passing <code class="inline">--no-live</code> will comment out lines in <code class="inline">app.js</code> and <code class="inline">Endpoint</code>
</li>
<li>[mix phx.server] Add <code class="inline">--open</code> flag</li>
<li>[Router] Do not add compile time deps in <code class="inline">pipe_through</code>
</li>
<li>[View] Extracted <a href="https://hexdocs.pm/phoenix_view/1.1.2/Phoenix.View.html"><code class="inline">Phoenix.View</code></a> into its own project to facilitate reuse</li>
</ul>
<h3 id="javascript-client-enhancements-3" class="section-heading">  JavaScript Client Enhancements </h3> <ul>
<li>Add new <code class="inline">replaceTransport</code> function to socket with extended <code class="inline">onError</code> API to allow simplified LongPoll fallback</li>
<li>Fire each event in a separate task for the LongPoll transport to fix ordering</li>
<li>Optimize presence syncing</li>
</ul>
<h3 id="bug-fixes-8" class="section-heading">  Bug fixes </h3> <ul>
<li>[Controller] Return normalized paths in <code class="inline">current_path/1</code> and <code class="inline">current_path/2</code>
</li>
<li>[mix phx.gen.live] Fix a bug where tests with <code class="inline">utc_datetime</code> and <code class="inline">boolean</code> fields did not pass out of the box</li>
</ul>
<h3 id="javascript-client-bug-fixes-6" class="section-heading">  JavaScript Client Bug fixes </h3> <ul>
<li>Bind to <code class="inline">beforeunload</code> instead of <code class="inline">unload</code> to solve Firefox connection issues</li>
<li>Fix presence onJoin including current metadata in new presence</li>
</ul>
<h3 id="deprecations" class="section-heading">  Deprecations </h3> <ul>
<li>[mix compile.phoenix] Adding the <code class="inline">:phoenix</code> compiler to your <code class="inline">mix.exs</code> (<code class="inline">compilers: [:phoenix] ++ Mix.compilers()</code>) is no longer required from Phoenix v1.6 forward if you are running on Elixir v1.11. Remove it from your <code class="inline">mix.exs</code> and you should gain faster compilation times too</li>
<li>[Endpoint] Phoenix now requires Cowboy v2.7+</li>
</ul>
<h3 id="breaking-changes" class="section-heading">  Breaking changes </h3> <ul><li>[View] <code class="inline">@view_module</code> and <code class="inline">@view_template</code> are no longer set. Use <a href="phoenix.controller.html#view_module/1"><code class="inline">Phoenix.Controller.view_module/1</code></a> and <a href="phoenix.controller.html#view_template/1"><code class="inline">Phoenix.Controller.view_template/1</code></a> respectively, or pass explicit assigns from <code class="inline">Phoenix.View.render</code>.</li></ul>
<h2 id="v1-5" class="section-heading">  v1.5 </h2> <p>The CHANGELOG for v1.5 releases can be found in the <a href="https://github.com/phoenixframework/phoenix/blob/v1.5/CHANGELOG.md">v1.5 branch</a>.</p> <div class="bottom-actions"> <div class="bottom-actions-item"> <a href="api-reference.html" class="bottom-actions-button" rel="prev"> <span class="subheader"> ← Previous Page </span> <span class="title"> API Reference </span> </a> </div> <div class="bottom-actions-item"> <a href="overview.html" class="bottom-actions-button" rel="next"> <span class="subheader"> Next Page → </span> <span class="title"> Overview </span> </a> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014 Chris McCord<br>Licensed under the MIT License.<br>
    <a href="https://hexdocs.pm/phoenix/changelog.html" class="_attribution-link">https://hexdocs.pm/phoenix/changelog.html</a>
  </p>
</div>
