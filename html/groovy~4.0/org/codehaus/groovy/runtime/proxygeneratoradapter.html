<h1>[Java] Class ProxyGeneratorAdapter</h1> <ul class="inheritance"> 

<li>org.codehaus.groovy.runtime.ProxyGeneratorAdapter </li>
</ul> <div class="description">     <pre data-language="groovy">public class ProxyGeneratorAdapter
extends org.objectweb.asm.ClassVisitor</pre> <p> A proxy generator responsible for mapping a map of closures to a class implementing a list of interfaces. For example, the following code: </p>
<pre data-language="groovy">
     abstract class Foo {
         abstract void bar();
         abstract void baz();
     }
     def dyn = [bar: { println 'hello' }, baz: { println 'world'}] as Foo
 </pre> will generate a proxy class which extends class <i>Foo</i> and delegates method calls to the provided closures. The generated proxy implements the <a href="../../../../groovy/lang/groovyobject.html" title="GroovyObject">GroovyObject</a> interface. Additionally, this proxy generator supports delegation to another object. In that case, if a method is defined both in the closure map and the delegate, the version from the map is preferred. This allows overriding methods from delegates with ease. Internally, the proxy generator makes use of ASM to generate bytecode, for improved performance as compared to the legacy proxy generation mechanism which made use of string templates. <dl>
<dt><b>Since:</b></dt>
<dd>2.0.0</dd>
</dl>   </div> <div class="summary">           <h2 id="constructor_summary">Constructor Summary</h2>  <table class="overviewSummary"> <caption>
<span>Constructors</span>
</caption> <tr> <th class="colFirst" scope="col">Constructor and description</th> </tr> <tr class="altColor"> <td class="colFirst"> <code><strong><a href="#ProxyGeneratorAdapter(Map,%20java.lang.Class,%20java.lang.Class,%20java.lang.ClassLoader,%20boolean,%20java.lang.Class)">ProxyGeneratorAdapter</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="Map">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a>&gt; closureMap, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="Class">Class</a> superClass, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="Class">Class</a>[] interfaces, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html" title="ClassLoader">ClassLoader</a> proxyLoader, boolean emptyBody, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="Class">Class</a> delegateClass)</code><br>Construct a proxy generator. </td> </tr> </table>       <h2 id="method_summary">Methods Summary</h2>  <table class="overviewSummary"> <caption>
<span>Methods</span>
</caption> <tr> <th class="colFirst" scope="col">Type Params</th> <th class="colLast" scope="col">Return Type</th> <th class="colLast" scope="col">Name and description</th> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="../../../../groovy/lang/groovyobject.html">GroovyObject</a></code></td> <td class="colLast">
<code><strong><a href="#delegatingProxy(java.lang.Object,%20Map,%20java.lang.Object)">delegatingProxy</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> delegate, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="Map">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a>&gt; map, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> constructorArgs)</code><br>
</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public static <a href="../../../../groovy/lang/closure.html">Closure</a></code></td> <td class="colLast">
<code><strong><a href="#ensureClosure(java.lang.Object)">ensureClosure</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> o)</code><br>Ensures that the provided object is wrapped into a closure if it's not a closure. </td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>protected org.objectweb.asm.MethodVisitor</code></td> <td class="colLast">
<code><strong><a href="#makeDelegateCall(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String,%20int)">makeDelegateCall</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> name, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> desc, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> signature, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a>[] exceptions, int accessFlags)</code><br>Generate a call to the delegate object.</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>protected org.objectweb.asm.MethodVisitor</code></td> <td class="colLast">
<code><strong><a href="#makeDelegateToClosureCall(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String,%20int)">makeDelegateToClosureCall</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> name, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> desc, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> signature, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a>[] exceptions, int accessFlags)</code><br>
</td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="../../../../groovy/lang/groovyobject.html">GroovyObject</a></code></td> <td class="colLast">
<code><strong><a href="#proxy(Map,%20java.lang.Object)">proxy</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="Map">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a>&gt; map, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> constructorArgs)</code><br>
</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public void</code></td> <td class="colLast">
<code><strong><a href="#visit(int,%20int,%20java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String)">visit</a></strong>(int version, int access, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> name, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> signature, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> superName, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a>[] interfaces)</code><br>
</td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public org.objectweb.asm.MethodVisitor</code></td> <td class="colLast">
<code><strong><a href="#visitMethod(int,%20java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String)">visitMethod</a></strong>(int access, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> name, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> desc, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> signature, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a>[] exceptions)</code><br>
</td> </tr> </table>    <h2 id="method_summary">Inherited Methods Summary</h2>  <table class="overviewSummary"> <caption>
<span>Inherited Methods</span>
</caption> <tr> <th class="colFirst" scope="col">Methods inherited from class</th> <th class="colLast" scope="col">Name</th> </tr> <tr class="altColor"> <td class="colFirst"><code>class org.objectweb.asm.ClassVisitor</code></td> <td class="colLast"><code>org.objectweb.asm.ClassVisitor#visit(int, int, java.lang.String, java.lang.String, java.lang.String, [Ljava.lang.String;), org.objectweb.asm.ClassVisitor#visitSource(java.lang.String, java.lang.String), org.objectweb.asm.ClassVisitor#visitMethod(int, java.lang.String, java.lang.String, java.lang.String, [Ljava.lang.String;), org.objectweb.asm.ClassVisitor#visitEnd(), org.objectweb.asm.ClassVisitor#visitField(int, java.lang.String, java.lang.String, java.lang.String, java.lang.Object), org.objectweb.asm.ClassVisitor#visitAnnotation(java.lang.String, boolean), org.objectweb.asm.ClassVisitor#visitModule(java.lang.String, int, java.lang.String), org.objectweb.asm.ClassVisitor#visitNestHost(java.lang.String), org.objectweb.asm.ClassVisitor#visitOuterClass(java.lang.String, java.lang.String, java.lang.String), org.objectweb.asm.ClassVisitor#visitTypeAnnotation(int, org.objectweb.asm.TypePath, java.lang.String, boolean), org.objectweb.asm.ClassVisitor#visitAttribute(org.objectweb.asm.Attribute), org.objectweb.asm.ClassVisitor#visitNestMember(java.lang.String), org.objectweb.asm.ClassVisitor#visitInnerClass(java.lang.String, java.lang.String, java.lang.String, int), org.objectweb.asm.ClassVisitor#visitRecordComponent(java.lang.String, java.lang.String, java.lang.String), org.objectweb.asm.ClassVisitor#visitPermittedSubclass(java.lang.String), org.objectweb.asm.ClassVisitor#wait(long, int), org.objectweb.asm.ClassVisitor#wait(), org.objectweb.asm.ClassVisitor#wait(long), org.objectweb.asm.ClassVisitor#equals(java.lang.Object), org.objectweb.asm.ClassVisitor#toString(), org.objectweb.asm.ClassVisitor#hashCode(), org.objectweb.asm.ClassVisitor#getClass(), org.objectweb.asm.ClassVisitor#notify(), org.objectweb.asm.ClassVisitor#notifyAll()</code></td> </tr> </table>      </div> <div class="details">      <h2 id="constructor_detail">Constructor Detail</h2>    <h3 id="ProxyGeneratorAdapter(Map, java.lang.Class, java.lang.Class, java.lang.ClassLoader, boolean, java.lang.Class)" class="constructor">public <strong>ProxyGeneratorAdapter</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="Map">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a>&gt; closureMap, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="Class">Class</a> superClass, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="Class">Class</a>[] interfaces, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html" title="ClassLoader">ClassLoader</a> proxyLoader, boolean emptyBody, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="Class">Class</a> delegateClass)</h3> <p> Construct a proxy generator. This generator is used when we need to create a proxy object for a class or an interface given a map of closures. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>closureMap</code> - the delegates implementations</dd>
<dd>
<code>superClass</code> - corresponding to the superclass class visitor</dd>
<dd>
<code>interfaces</code> - extra interfaces the proxy should implement</dd>
<dd>
<code>proxyLoader</code> - the class loader which should be used to load the generated proxy</dd>
<dd>
<code>delegateClass</code> - if not null, generate a delegate field with the corresponding class</dd>
<dd>
<code>emptyBody</code> - if set to true, the unimplemented abstract methods will receive an empty body instead of throwing an <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html" title="UnsupportedOperationException">UnsupportedOperationException</a>.</dd>
</dl>        <h2 id="method_detail">Method Detail</h2>    <h3 id="delegatingProxy(java.lang.Object, Map, java.lang.Object)" class="method">@<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/SuppressWarnings.html" title="SuppressWarnings">SuppressWarnings</a>("unchecked") public <a href="../../../../groovy/lang/groovyobject.html">GroovyObject</a> <strong>delegatingProxy</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> delegate, <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="Map">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a>&gt; map, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> constructorArgs)</h3>       <h3 id="ensureClosure(java.lang.Object)" class="method">@<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/SuppressWarnings.html" title="SuppressWarnings">SuppressWarnings</a>("unchecked") public static <a href="../../../../groovy/lang/closure.html">Closure</a> <strong>ensureClosure</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> o)</h3> <p> Ensures that the provided object is wrapped into a closure if it's not a closure. Do not trust IDEs, this method is used in bytecode. </p>      <h3 id="makeDelegateCall(java.lang.String, java.lang.String, java.lang.String, java.lang.String, int)" class="method">protected org.objectweb.asm.MethodVisitor <strong>makeDelegateCall</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> name, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> desc, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> signature, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a>[] exceptions, int accessFlags)</h3> <p> Generate a call to the delegate object. </p>      <h3 id="makeDelegateToClosureCall(java.lang.String, java.lang.String, java.lang.String, java.lang.String, int)" class="method">protected org.objectweb.asm.MethodVisitor <strong>makeDelegateToClosureCall</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> name, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> desc, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> signature, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a>[] exceptions, int accessFlags)</h3>       <h3 id="proxy(Map, java.lang.Object)" class="method">@<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/SuppressWarnings.html" title="SuppressWarnings">SuppressWarnings</a>("unchecked") public <a href="../../../../groovy/lang/groovyobject.html">GroovyObject</a> <strong>proxy</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="Map">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a>&gt; map, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a> constructorArgs)</h3>       <h3 id="visit(int, int, java.lang.String, java.lang.String, java.lang.String, java.lang.String)" class="method">@<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Override.html" title="Override">Override</a> public void <strong>visit</strong>(int version, int access, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> name, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> signature, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> superName, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a>[] interfaces)</h3>       <h3 id="visitMethod(int, java.lang.String, java.lang.String, java.lang.String, java.lang.String)" class="method">@<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Override.html" title="Override">Override</a> public org.objectweb.asm.MethodVisitor <strong>visitMethod</strong>(int access, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> name, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> desc, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> signature, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a>[] exceptions)</h3>        </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003-2022 The Apache Software Foundation<br>Licensed under the Apache license.<br>
    <a href="https://docs.groovy-lang.org/4.0.0/html/gapi/org/codehaus/groovy/runtime/ProxyGeneratorAdapter.html" class="_attribution-link">https://docs.groovy-lang.org/4.0.0/html/gapi/org/codehaus/groovy/runtime/ProxyGeneratorAdapter.html</a>
  </p>
</div>
