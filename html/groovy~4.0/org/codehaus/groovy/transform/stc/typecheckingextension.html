<h1>[Java] Class TypeCheckingExtension</h1> <ul class="inheritance"> 
<li>org.codehaus.groovy.transform.stc.TypeCheckingExtension </li>
</ul> <div class="description">     <pre data-language="groovy">public class TypeCheckingExtension
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a></pre> <p> This interface defines a high-level API for handling type checking errors. As a dynamic language and a platform for developing DSLs, the Groovy language provides a lot of means to supply custom bindings or methods that are not possible to find at compile time. However, it is still possible to help the compiler, for example by telling it what is the type of an unresolved property. For basic DSL type checking, implementing those methods would help the type checker and make it silent where it normally throws errors. </p>
<dl>
<dt><b>Since:</b></dt>
<dd>2.1.0</dd>
</dl>   </div> <div class="summary">        <h2 id="field_summary">Field Summary</h2>  <table class="overviewSummary"> <caption>
<span>Fields</span>
</caption> <tr> <th class="colFirst" scope="col">Modifiers</th> <th class="colLast" scope="col">Name</th> <th class="colLast" scope="col">Description</th> </tr> <tr class="altColor"> <td class="colFirst">
<code><strong>protected <a href="statictypecheckingvisitor.html">StaticTypeCheckingVisitor</a></strong></code> </td> <td class="colLast"><code><a href="#typeCheckingVisitor">typeCheckingVisitor</a></code></td> <td class="colLast"></td> </tr> </table>         <h2 id="constructor_summary">Constructor Summary</h2>  <table class="overviewSummary"> <caption>
<span>Constructors</span>
</caption> <tr> <th class="colFirst" scope="col">Constructor and description</th> </tr> <tr class="altColor"> <td class="colFirst"> <code><strong><a href="#TypeCheckingExtension(org.codehaus.groovy.transform.stc.StaticTypeCheckingVisitor)">TypeCheckingExtension</a></strong>(<a href="statictypecheckingvisitor.html">StaticTypeCheckingVisitor</a> typeCheckingVisitor)</code><br>
</td> </tr> </table>       <h2 id="method_summary">Methods Summary</h2>  <table class="overviewSummary"> <caption>
<span>Methods</span>
</caption> <tr> <th class="colFirst" scope="col">Type Params</th> <th class="colLast" scope="col">Return Type</th> <th class="colLast" scope="col">Name and description</th> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public void</code></td> <td class="colLast">
<code><strong><a href="#addStaticTypeError(java.lang.String,%20org.codehaus.groovy.ast.ASTNode)">addStaticTypeError</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> msg, <a href="../../ast/astnode.html">ASTNode</a> expr)</code><br>Adds a type checking error, which will be displayed to the user during compilation.</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public void</code></td> <td class="colLast">
<code><strong><a href="#afterMethodCall(org.codehaus.groovy.ast.expr.MethodCall)">afterMethodCall</a></strong>(<a href="../../ast/expr/methodcall.html">MethodCall</a> call)</code><br>Allows the extension to perform additional tasks after the type checker actually visits a method call. </td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public void</code></td> <td class="colLast">
<code><strong><a href="#afterVisitClass(org.codehaus.groovy.ast.ClassNode)">afterVisitClass</a></strong>(<a href="../../ast/classnode.html">ClassNode</a> node)</code><br>Allows the extension to perform additional tasks after the type checker actually visited a class node. </td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public void</code></td> <td class="colLast">
<code><strong><a href="#afterVisitMethod(org.codehaus.groovy.ast.MethodNode)">afterVisitMethod</a></strong>(<a href="../../ast/methodnode.html">MethodNode</a> node)</code><br>Allows the extension to perform additional tasks after the type checker actually visited a method node. </td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public boolean</code></td> <td class="colLast">
<code><strong><a href="#beforeMethodCall(org.codehaus.groovy.ast.expr.MethodCall)">beforeMethodCall</a></strong>(<a href="../../ast/expr/methodcall.html">MethodCall</a> call)</code><br>Allows the extension to perform additional tasks before the type checker actually visits a method call. </td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public boolean</code></td> <td class="colLast">
<code><strong><a href="#beforeVisitClass(org.codehaus.groovy.ast.ClassNode)">beforeVisitClass</a></strong>(<a href="../../ast/classnode.html">ClassNode</a> node)</code><br>Allows the extension to perform additional tasks before the type checker actually visits a class node. </td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public boolean</code></td> <td class="colLast">
<code><strong><a href="#beforeVisitMethod(org.codehaus.groovy.ast.MethodNode)">beforeVisitMethod</a></strong>(<a href="../../ast/methodnode.html">MethodNode</a> node)</code><br>Allows the extension to perform additional tasks before the type checker actually visits a method node. </td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="../../ast/classnode.html">ClassNode</a></code></td> <td class="colLast">
<code><strong><a href="#buildListType(org.codehaus.groovy.ast.ClassNode)">buildListType</a></strong>(<a href="../../ast/classnode.html">ClassNode</a> componentType)</code><br>Builds a parametrized class node for List, to represent List&lt;X&gt;</td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="../../ast/classnode.html">ClassNode</a></code></td> <td class="colLast">
<code><strong><a href="#buildMapType(org.codehaus.groovy.ast.ClassNode,%20org.codehaus.groovy.ast.ClassNode)">buildMapType</a></strong>(<a href="../../ast/classnode.html">ClassNode</a> keyType, <a href="../../ast/classnode.html">ClassNode</a> valueType)</code><br>Builds a parametrized class node representing the Map&lt;keyType,valueType&gt; type.</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="../../ast/classnode.html">ClassNode</a></code></td> <td class="colLast">
<code><strong><a href="#classNodeFor(java.lang.Class)">classNodeFor</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="Class">Class</a> type)</code><br>
</td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="../../ast/classnode.html">ClassNode</a></code></td> <td class="colLast">
<code><strong><a href="#classNodeFor(java.lang.String)">classNodeFor</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> type)</code><br>
</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public boolean</code></td> <td class="colLast">
<code><strong><a href="#existsProperty(org.codehaus.groovy.ast.expr.PropertyExpression,%20boolean)">existsProperty</a></strong>(<a href="../../ast/expr/propertyexpression.html">PropertyExpression</a> pexp, boolean checkForReadOnly)</code><br>
</td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public boolean</code></td> <td class="colLast">
<code><strong><a href="#existsProperty(org.codehaus.groovy.ast.expr.PropertyExpression,%20boolean,%20org.codehaus.groovy.ast.ClassCodeVisitorSupport)">existsProperty</a></strong>(<a href="../../ast/expr/propertyexpression.html">PropertyExpression</a> pexp, boolean checkForReadOnly, <a href="../../ast/classcodevisitorsupport.html">ClassCodeVisitorSupport</a> visitor)</code><br>
</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="../../ast/classnode.html">ClassNode</a></code></td> <td class="colLast">
<code><strong><a href="#extractStaticReceiver(org.codehaus.groovy.ast.expr.MethodCall)">extractStaticReceiver</a></strong>(<a href="../../ast/expr/methodcall.html">MethodCall</a> call)</code><br>Given a method call, first checks that it's a static method call, and if it is, returns the class node for the receiver. </td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public void</code></td> <td class="colLast">
<code><strong><a href="#finish()">finish</a></strong>()</code><br>Subclasses should implement this method if they need to perform additional checks after the type checker has finished its work. </td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="../../ast/classnode.html">ClassNode</a>[]</code></td> <td class="colLast">
<code><strong><a href="#getArgumentTypes(org.codehaus.groovy.ast.expr.ArgumentListExpression)">getArgumentTypes</a></strong>(<a href="../../ast/expr/argumentlistexpression.html">ArgumentListExpression</a> args)</code><br>
</td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="../../ast/methodnode.html">MethodNode</a></code></td> <td class="colLast">
<code><strong><a href="#getTargetMethod(org.codehaus.groovy.ast.expr.Expression)">getTargetMethod</a></strong>(<a href="../../ast/expr/expression.html">Expression</a> expression)</code><br>
</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="../../ast/classnode.html">ClassNode</a></code></td> <td class="colLast">
<code><strong><a href="#getType(org.codehaus.groovy.ast.ASTNode)">getType</a></strong>(<a href="../../ast/astnode.html">ASTNode</a> exp)</code><br>Returns the inferred type of an expression. </td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="List">List</a>&lt;<a href="../../ast/methodnode.html" title="MethodNode">MethodNode</a>&gt;</code></td> <td class="colLast">
<code><strong><a href="#handleAmbiguousMethods(List,%20org.codehaus.groovy.ast.expr.Expression)">handleAmbiguousMethods</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="List">List</a>&lt;<a href="../../ast/methodnode.html" title="MethodNode">MethodNode</a>&gt; nodes, <a href="../../ast/expr/expression.html">Expression</a> origin)</code><br>This method is called by the type checker before throwing an "ambiguous method" error, giving the chance to the extension to select the method properly. </td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public boolean</code></td> <td class="colLast">
<code><strong><a href="#handleIncompatibleAssignment(org.codehaus.groovy.ast.ClassNode,%20org.codehaus.groovy.ast.ClassNode,%20org.codehaus.groovy.ast.expr.Expression)">handleIncompatibleAssignment</a></strong>(<a href="../../ast/classnode.html">ClassNode</a> lhsType, <a href="../../ast/classnode.html">ClassNode</a> rhsType, <a href="../../ast/expr/expression.html">Expression</a> assignmentExpression)</code><br>This method is called by the type checker when an assignment is not allowed by the type checker. </td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public boolean</code></td> <td class="colLast">
<code><strong><a href="#handleIncompatibleReturnType(org.codehaus.groovy.ast.stmt.ReturnStatement,%20org.codehaus.groovy.ast.ClassNode)">handleIncompatibleReturnType</a></strong>(<a href="../../ast/stmt/returnstatement.html">ReturnStatement</a> returnStatement, <a href="../../ast/classnode.html">ClassNode</a> inferredReturnType)</code><br>Allows the extension to catch incompatible return types. </td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="List">List</a>&lt;<a href="../../ast/methodnode.html" title="MethodNode">MethodNode</a>&gt;</code></td> <td class="colLast">
<code><strong><a href="#handleMissingMethod(org.codehaus.groovy.ast.ClassNode,%20java.lang.String,%20org.codehaus.groovy.ast.expr.ArgumentListExpression,%20org.codehaus.groovy.ast.ClassNode,%20org.codehaus.groovy.ast.expr.MethodCall)">handleMissingMethod</a></strong>(<a href="../../ast/classnode.html">ClassNode</a> receiver, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> name, <a href="../../ast/expr/argumentlistexpression.html">ArgumentListExpression</a> argumentList, <a href="../../ast/classnode.html">ClassNode</a>[] argumentTypes, <a href="../../ast/expr/methodcall.html">MethodCall</a> call)</code><br>This method is called by the type checker when a method call cannot be resolved. </td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public boolean</code></td> <td class="colLast">
<code><strong><a href="#handleUnresolvedAttribute(org.codehaus.groovy.ast.expr.AttributeExpression)">handleUnresolvedAttribute</a></strong>(<a href="../../ast/expr/attributeexpression.html">AttributeExpression</a> aexp)</code><br>This method is called by the type checker when an attribute expression cannot be resolved (for example, when an attribute doesn't exist). </td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public boolean</code></td> <td class="colLast">
<code><strong><a href="#handleUnresolvedProperty(org.codehaus.groovy.ast.expr.PropertyExpression)">handleUnresolvedProperty</a></strong>(<a href="../../ast/expr/propertyexpression.html">PropertyExpression</a> pexp)</code><br>This method is called by the type checker when a property expression cannot be resolved (for example, when a property doesn't exist). </td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public boolean</code></td> <td class="colLast">
<code><strong><a href="#handleUnresolvedVariableExpression(org.codehaus.groovy.ast.expr.VariableExpression)">handleUnresolvedVariableExpression</a></strong>(<a href="../../ast/expr/variableexpression.html">VariableExpression</a> vexp)</code><br>This method is called by the type checker when a variable expression cannot be resolved. </td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public boolean</code></td> <td class="colLast">
<code><strong><a href="#isStaticMethodCallOnClass(org.codehaus.groovy.ast.expr.MethodCall,%20org.codehaus.groovy.ast.ClassNode)">isStaticMethodCallOnClass</a></strong>(<a href="../../ast/expr/methodcall.html">MethodCall</a> call, <a href="../../ast/classnode.html">ClassNode</a> receiver)</code><br>Given a method call, checks if it's a static method call and if it is, tells if the receiver matches the one supplied as an argument.</td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="../../ast/classnode.html">ClassNode</a></code></td> <td class="colLast">
<code><strong><a href="#lookupClassNodeFor(java.lang.String)">lookupClassNodeFor</a></strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> type)</code><br>Lookup a ClassNode by its name from the source unit</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public void</code></td> <td class="colLast">
<code><strong><a href="#onMethodSelection(org.codehaus.groovy.ast.expr.Expression,%20org.codehaus.groovy.ast.MethodNode)">onMethodSelection</a></strong>(<a href="../../ast/expr/expression.html">Expression</a> expression, <a href="../../ast/methodnode.html">MethodNode</a> target)</code><br>Allows the extension to listen to method selection events. </td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public <a href="../../ast/classnode.html">ClassNode</a></code></td> <td class="colLast">
<code><strong><a href="#parameterizedType(org.codehaus.groovy.ast.ClassNode,%20org.codehaus.groovy.ast.ClassNode)">parameterizedType</a></strong>(<a href="../../ast/classnode.html">ClassNode</a> baseType, <a href="../../ast/classnode.html">ClassNode</a> genericsTypeArguments)</code><br>
</td> </tr> <tr class="rowColor"> <td class="colFirst"></td> <td class="colLast"><code>public void</code></td> <td class="colLast">
<code><strong><a href="#setup()">setup</a></strong>()</code><br>Subclasses should implement this method whenever they need to perform special checks before the type checker starts working.</td> </tr> <tr class="altColor"> <td class="colFirst"></td> <td class="colLast"><code>public void</code></td> <td class="colLast">
<code><strong><a href="#storeType(org.codehaus.groovy.ast.expr.Expression,%20org.codehaus.groovy.ast.ClassNode)">storeType</a></strong>(<a href="../../ast/expr/expression.html">Expression</a> exp, <a href="../../ast/classnode.html">ClassNode</a> cn)</code><br>Stores an inferred type for an expression. </td> </tr> </table>    <h2 id="method_summary">Inherited Methods Summary</h2>  <table class="overviewSummary"> <caption>
<span>Inherited Methods</span>
</caption> <tr> <th class="colFirst" scope="col">Methods inherited from class</th> <th class="colLast" scope="col">Name</th> </tr> <tr class="altColor"> <td class="colFirst"><code>class <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="Object">Object</a></code></td> <td class="colLast"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,%20int)" title="wait">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="wait">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="wait">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="equals">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="toString">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="hashCode">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="getClass">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="notify">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="notifyAll">notifyAll</a></code></td> </tr> </table>      </div> <div class="details">      <h2 id="field_detail">Field Detail</h2>    <h3 id="typeCheckingVisitor" class="field">protected final <a href="statictypecheckingvisitor.html">StaticTypeCheckingVisitor</a> <strong>typeCheckingVisitor</strong>
</h3>         <h2 id="constructor_detail">Constructor Detail</h2>    <h3 id="TypeCheckingExtension(org.codehaus.groovy.transform.stc.StaticTypeCheckingVisitor)" class="constructor">public <strong>TypeCheckingExtension</strong>(<a href="statictypecheckingvisitor.html">StaticTypeCheckingVisitor</a> typeCheckingVisitor)</h3>         <h2 id="method_detail">Method Detail</h2>    <h3 id="addStaticTypeError(java.lang.String, org.codehaus.groovy.ast.ASTNode)" class="method">public void <strong>addStaticTypeError</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> msg, <a href="../../ast/astnode.html">ASTNode</a> expr)</h3> <p> Adds a type checking error, which will be displayed to the user during compilation. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>msg</code> - the message for the error</dd>
<dd>
<code>expr</code> - the expression which is the root cause of the error</dd>
</dl>      <h3 id="afterMethodCall(org.codehaus.groovy.ast.expr.MethodCall)" class="method">public void <strong>afterMethodCall</strong>(<a href="../../ast/expr/methodcall.html">MethodCall</a> call)</h3> <p> Allows the extension to perform additional tasks after the type checker actually visits a method call. Compared to a custom visitor, this method ensures that the node being visited is a node which would have been visited by the type checker. This is in particular important for nodes which are marked with <a href="../../../../../groovy/transform/typecheckingmode.html#SKIP" title="TypeCheckingMode.SKIP">TypeCheckingMode.SKIP</a>. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>call</code> - a method call, either a <a href="../../ast/expr/methodcallexpression.html" title="MethodCallExpression">MethodCallExpression</a>, <a href="../../ast/expr/staticmethodcallexpression.html" title="StaticMethodCallExpression">StaticMethodCallExpression</a>, or <a href="../../ast/expr/constructorcallexpression.html" title="ConstructorCallExpression">ConstructorCallExpression</a>
</dd>
</dl>      <h3 id="afterVisitClass(org.codehaus.groovy.ast.ClassNode)" class="method">public void <strong>afterVisitClass</strong>(<a href="../../ast/classnode.html">ClassNode</a> node)</h3> <p> Allows the extension to perform additional tasks after the type checker actually visited a class node. Compared to a custom visitor, this method ensures that the node being visited is a node which would have been visited by the type checker. This is in particular important for nodes which are marked with <a href="../../../../../groovy/transform/typecheckingmode.html#SKIP" title="TypeCheckingMode.SKIP">TypeCheckingMode.SKIP</a>. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>node</code> - a class node</dd>
</dl>      <h3 id="afterVisitMethod(org.codehaus.groovy.ast.MethodNode)" class="method">public void <strong>afterVisitMethod</strong>(<a href="../../ast/methodnode.html">MethodNode</a> node)</h3> <p> Allows the extension to perform additional tasks after the type checker actually visited a method node. Compared to a custom visitor, this method ensures that the node being visited is a node which would have been visited by the type checker. This is in particular important for nodes which are marked with <a href="../../../../../groovy/transform/typecheckingmode.html#SKIP" title="TypeCheckingMode.SKIP">TypeCheckingMode.SKIP</a>. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>node</code> - a method node</dd>
</dl>      <h3 id="beforeMethodCall(org.codehaus.groovy.ast.expr.MethodCall)" class="method">public boolean <strong>beforeMethodCall</strong>(<a href="../../ast/expr/methodcall.html">MethodCall</a> call)</h3> <p> Allows the extension to perform additional tasks before the type checker actually visits a method call. Compared to a custom visitor, this method ensures that the node being visited is a node which would have been visited by the type checker. This is in particular important for nodes which are marked with <a href="../../../../../groovy/transform/typecheckingmode.html#SKIP" title="TypeCheckingMode.SKIP">TypeCheckingMode.SKIP</a>. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>call</code> - a method call, either a <a href="../../ast/expr/methodcallexpression.html" title="MethodCallExpression">MethodCallExpression</a>, <a href="../../ast/expr/staticmethodcallexpression.html" title="StaticMethodCallExpression">StaticMethodCallExpression</a>, or <a href="../../ast/expr/constructorcallexpression.html" title="ConstructorCallExpression">ConstructorCallExpression</a>
</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>false if the type checker should visit the node, or true if this extension replaces what the type checker would do with the method call.</dd>
</dl>      <h3 id="beforeVisitClass(org.codehaus.groovy.ast.ClassNode)" class="method">public boolean <strong>beforeVisitClass</strong>(<a href="../../ast/classnode.html">ClassNode</a> node)</h3> <p> Allows the extension to perform additional tasks before the type checker actually visits a class node. Compared to a custom visitor, this method ensures that the node being visited is a node which would have been visited by the type checker. This is in particular important for nodes which are marked with <a href="../../../../../groovy/transform/typecheckingmode.html#SKIP" title="TypeCheckingMode.SKIP">TypeCheckingMode.SKIP</a>. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>node</code> - a class node</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>false if the type checker should visit the node, or true if this extension replaces what the type checker would do with the class.</dd>
</dl>      <h3 id="beforeVisitMethod(org.codehaus.groovy.ast.MethodNode)" class="method">public boolean <strong>beforeVisitMethod</strong>(<a href="../../ast/methodnode.html">MethodNode</a> node)</h3> <p> Allows the extension to perform additional tasks before the type checker actually visits a method node. Compared to a custom visitor, this method ensures that the node being visited is a node which would have been visited by the type checker. This is in particular important for nodes which are marked with <a href="../../../../../groovy/transform/typecheckingmode.html#SKIP" title="TypeCheckingMode.SKIP">TypeCheckingMode.SKIP</a>. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>node</code> - a method node</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>false if the type checker should visit the node, or true if this extension replaces what the type checker would do with the method.</dd>
</dl>      <h3 id="buildListType(org.codehaus.groovy.ast.ClassNode)" class="method">public <a href="../../ast/classnode.html">ClassNode</a> <strong>buildListType</strong>(<a href="../../ast/classnode.html">ClassNode</a> componentType)</h3> <p> Builds a parametrized class node for List, to represent List&lt;X&gt; </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>componentType</code> - the classnode for the component type of the list</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>a classnode representing List&lt;componentType&gt;</dd>
</dl>
<dl>
<dt><b>Since:</b></dt>
<dd>2.2.0</dd>
</dl>      <h3 id="buildMapType(org.codehaus.groovy.ast.ClassNode, org.codehaus.groovy.ast.ClassNode)" class="method">public <a href="../../ast/classnode.html">ClassNode</a> <strong>buildMapType</strong>(<a href="../../ast/classnode.html">ClassNode</a> keyType, <a href="../../ast/classnode.html">ClassNode</a> valueType)</h3> <p> Builds a parametrized class node representing the Map&lt;keyType,valueType&gt; type. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>keyType</code> - the classnode type of the key</dd>
<dd>
<code>valueType</code> - the classnode type of the value</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>a class node for Map&lt;keyType,valueType&gt;</dd>
</dl>
<dl>
<dt><b>Since:</b></dt>
<dd>2.2.0</dd>
</dl>      <h3 id="classNodeFor(java.lang.Class)" class="method">public <a href="../../ast/classnode.html">ClassNode</a> <strong>classNodeFor</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html" title="Class">Class</a> type)</h3>       <h3 id="classNodeFor(java.lang.String)" class="method">public <a href="../../ast/classnode.html">ClassNode</a> <strong>classNodeFor</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> type)</h3>       <h3 id="existsProperty(org.codehaus.groovy.ast.expr.PropertyExpression, boolean)" class="method">public boolean <strong>existsProperty</strong>(<a href="../../ast/expr/propertyexpression.html">PropertyExpression</a> pexp, boolean checkForReadOnly)</h3>       <h3 id="existsProperty(org.codehaus.groovy.ast.expr.PropertyExpression, boolean, org.codehaus.groovy.ast.ClassCodeVisitorSupport)" class="method">public boolean <strong>existsProperty</strong>(<a href="../../ast/expr/propertyexpression.html">PropertyExpression</a> pexp, boolean checkForReadOnly, <a href="../../ast/classcodevisitorsupport.html">ClassCodeVisitorSupport</a> visitor)</h3>       <h3 id="extractStaticReceiver(org.codehaus.groovy.ast.expr.MethodCall)" class="method">public <a href="../../ast/classnode.html">ClassNode</a> <strong>extractStaticReceiver</strong>(<a href="../../ast/expr/methodcall.html">MethodCall</a> call)</h3> <p> Given a method call, first checks that it's a static method call, and if it is, returns the class node for the receiver. For example, with the following code: Person.findAll { ... }, it would return the class node for <i>Person</i>. If it's not a static method call, returns null. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>call</code> - a method call</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>null if it's not a static method call, or the class node for the receiver instead.</dd>
</dl>      <h3 id="finish()" class="method">public void <strong>finish</strong>()</h3> <p> Subclasses should implement this method if they need to perform additional checks after the type checker has finished its work. This is particularly useful for situations where you need multiple passes. Some checks in that case may be deferred to the end, using this method. </p>      <h3 id="getArgumentTypes(org.codehaus.groovy.ast.expr.ArgumentListExpression)" class="method">public <a href="../../ast/classnode.html">ClassNode</a>[] <strong>getArgumentTypes</strong>(<a href="../../ast/expr/argumentlistexpression.html">ArgumentListExpression</a> args)</h3>       <h3 id="getTargetMethod(org.codehaus.groovy.ast.expr.Expression)" class="method">public <a href="../../ast/methodnode.html">MethodNode</a> <strong>getTargetMethod</strong>(<a href="../../ast/expr/expression.html">Expression</a> expression)</h3>       <h3 id="getType(org.codehaus.groovy.ast.ASTNode)" class="method">public <a href="../../ast/classnode.html">ClassNode</a> <strong>getType</strong>(<a href="../../ast/astnode.html">ASTNode</a> exp)</h3> <p> Returns the inferred type of an expression. Delegates to the type checker implementation. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>exp</code> - the expression for which we want to find the inferred type</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>the inferred type of the expression, as found by the type checker</dd>
</dl>      <h3 id="handleAmbiguousMethods(List, org.codehaus.groovy.ast.expr.Expression)" class="method">public <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="List">List</a>&lt;<a href="../../ast/methodnode.html" title="MethodNode">MethodNode</a>&gt; <strong>handleAmbiguousMethods</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="List">List</a>&lt;<a href="../../ast/methodnode.html" title="MethodNode">MethodNode</a>&gt; nodes, <a href="../../ast/expr/expression.html">Expression</a> origin)</h3> <p> This method is called by the type checker before throwing an "ambiguous method" error, giving the chance to the extension to select the method properly. This means that when this method is called, the "nodes" parameter contains at least two methods. If the returned list still contains at least two methods, then the type checker will throw an ambiguous method call error. If the returned method contains 1 element, then the type checker will not throw any error. It is invalid to return an empty list. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>nodes</code> - the list of ambiguous methods</dd>
<dd>
<code>origin</code> - the expression which originated the method selection process</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>a single element list of disambiguated selection, or more elements if still ambiguous. It is not allowed to return an empty list.</dd>
</dl>      <h3 id="handleIncompatibleAssignment(org.codehaus.groovy.ast.ClassNode, org.codehaus.groovy.ast.ClassNode, org.codehaus.groovy.ast.expr.Expression)" class="method">public boolean <strong>handleIncompatibleAssignment</strong>(<a href="../../ast/classnode.html">ClassNode</a> lhsType, <a href="../../ast/classnode.html">ClassNode</a> rhsType, <a href="../../ast/expr/expression.html">Expression</a> assignmentExpression)</h3> <p> This method is called by the type checker when an assignment is not allowed by the type checker. Extensions may override this method to allow such assignments where the type checker normally disallows them. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>lhsType</code> - the type of the left hand side of the assignment, as found by the type checker</dd>
<dd>
<code>rhsType</code> - the type of the right hand side of the assignment, as found by the type checker</dd>
<dd>
<code>assignmentExpression</code> - the assignment expression which triggered this call</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>
<code>boolean</code> false if the extension does not handle this assignment, true otherwise</dd>
</dl>      <h3 id="handleIncompatibleReturnType(org.codehaus.groovy.ast.stmt.ReturnStatement, org.codehaus.groovy.ast.ClassNode)" class="method">public boolean <strong>handleIncompatibleReturnType</strong>(<a href="../../ast/stmt/returnstatement.html">ReturnStatement</a> returnStatement, <a href="../../ast/classnode.html">ClassNode</a> inferredReturnType)</h3> <p> Allows the extension to catch incompatible return types. This event is called whenever the type checker finds that an inferred return type is incompatible with the declared return type of a method. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>returnStatement</code> - the statement that triggered the error</dd>
<dd>
<code>inferredReturnType</code> - the inferred return type for this statement</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>false if the extension doesn't handle the error, true otherwise</dd>
</dl>      <h3 id="handleMissingMethod(org.codehaus.groovy.ast.ClassNode, java.lang.String, org.codehaus.groovy.ast.expr.ArgumentListExpression, org.codehaus.groovy.ast.ClassNode, org.codehaus.groovy.ast.expr.MethodCall)" class="method">public <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="List">List</a>&lt;<a href="../../ast/methodnode.html" title="MethodNode">MethodNode</a>&gt; <strong>handleMissingMethod</strong>(<a href="../../ast/classnode.html">ClassNode</a> receiver, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> name, <a href="../../ast/expr/argumentlistexpression.html">ArgumentListExpression</a> argumentList, <a href="../../ast/classnode.html">ClassNode</a>[] argumentTypes, <a href="../../ast/expr/methodcall.html">MethodCall</a> call)</h3> <p> This method is called by the type checker when a method call cannot be resolved. Extensions may override this method to handle missing methods and prevent the type checker from throwing an error. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>receiver</code> - the type of the receiver</dd>
<dd>
<code>name</code> - the name of the called method</dd>
<dd>
<code>argumentList</code> - the list of arguments of the call</dd>
<dd>
<code>argumentTypes</code> - the types of the arguments of the call</dd>
<dd>
<code>call</code> - the method call itself, if needed</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>an empty list if the extension cannot resolve the method, or a list of potential methods if the extension finds candidates. This method must not return null.</dd>
</dl>      <h3 id="handleUnresolvedAttribute(org.codehaus.groovy.ast.expr.AttributeExpression)" class="method">public boolean <strong>handleUnresolvedAttribute</strong>(<a href="../../ast/expr/attributeexpression.html">AttributeExpression</a> aexp)</h3> <p> This method is called by the type checker when an attribute expression cannot be resolved (for example, when an attribute doesn't exist). It gives the extension a chance to resolve it. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>aexp</code> - the unresolved attribute</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>
<code>boolean</code> false if this extension doesn't resolve the attribute, true if it resolves the attribute.</dd>
</dl>      <h3 id="handleUnresolvedProperty(org.codehaus.groovy.ast.expr.PropertyExpression)" class="method">public boolean <strong>handleUnresolvedProperty</strong>(<a href="../../ast/expr/propertyexpression.html">PropertyExpression</a> pexp)</h3> <p> This method is called by the type checker when a property expression cannot be resolved (for example, when a property doesn't exist). It gives the extension a chance to resolve it. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>pexp</code> - the unresolved property</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>
<code>boolean</code> false if this extension doesn't resolve the property, true if it resolves the property.</dd>
</dl>      <h3 id="handleUnresolvedVariableExpression(org.codehaus.groovy.ast.expr.VariableExpression)" class="method">public boolean <strong>handleUnresolvedVariableExpression</strong>(<a href="../../ast/expr/variableexpression.html">VariableExpression</a> vexp)</h3> <p> This method is called by the type checker when a variable expression cannot be resolved. It gives the extension a chance to resolve it for the type checker. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>vexp</code> - the unresolved variable extension</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>
<code>boolean</code> false if the extension doesn't handle it, true if the extension handles this variable.</dd>
</dl>      <h3 id="isStaticMethodCallOnClass(org.codehaus.groovy.ast.expr.MethodCall, org.codehaus.groovy.ast.ClassNode)" class="method">public boolean <strong>isStaticMethodCallOnClass</strong>(<a href="../../ast/expr/methodcall.html">MethodCall</a> call, <a href="../../ast/classnode.html">ClassNode</a> receiver)</h3> <p> Given a method call, checks if it's a static method call and if it is, tells if the receiver matches the one supplied as an argument. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>call</code> - a method call</dd>
<dd>
<code>receiver</code> - a class node</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>true if the method call is a static method call on the receiver</dd>
</dl>      <h3 id="lookupClassNodeFor(java.lang.String)" class="method">public <a href="../../ast/classnode.html">ClassNode</a> <strong>lookupClassNodeFor</strong>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="String">String</a> type)</h3> <p> Lookup a ClassNode by its name from the source unit </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>type</code> - the name of the class whose ClassNode we want to lookup</dd>
</dl>
<dl>
<dt><b>Returns:</b></dt>
<dd>a ClassNode representing the class</dd>
</dl>      <h3 id="onMethodSelection(org.codehaus.groovy.ast.expr.Expression, org.codehaus.groovy.ast.MethodNode)" class="method">public void <strong>onMethodSelection</strong>(<a href="../../ast/expr/expression.html">Expression</a> expression, <a href="../../ast/methodnode.html">MethodNode</a> target)</h3> <p> Allows the extension to listen to method selection events. Given an expression, which may be a method call expression, a static method call expression, a pre/postfix expression, ..., if a corresponding method is found, this method is called. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>expression</code> - the expression for which a corresponding method has been found</dd>
<dd>
<code>target</code> - the method which has been chosen by the type checker</dd>
</dl>      <h3 id="parameterizedType(org.codehaus.groovy.ast.ClassNode, org.codehaus.groovy.ast.ClassNode)" class="method">public <a href="../../ast/classnode.html">ClassNode</a> <strong>parameterizedType</strong>(<a href="../../ast/classnode.html">ClassNode</a> baseType, <a href="../../ast/classnode.html">ClassNode</a> genericsTypeArguments)</h3>       <h3 id="setup()" class="method">public void <strong>setup</strong>()</h3> <p> Subclasses should implement this method whenever they need to perform special checks before the type checker starts working. </p>      <h3 id="storeType(org.codehaus.groovy.ast.expr.Expression, org.codehaus.groovy.ast.ClassNode)" class="method">public void <strong>storeType</strong>(<a href="../../ast/expr/expression.html">Expression</a> exp, <a href="../../ast/classnode.html">ClassNode</a> cn)</h3> <p> Stores an inferred type for an expression. Delegates to the type checker. </p>
<dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>exp</code> - the expression for which we want to store an inferred type</dd>
<dd>
<code>cn</code> - the type of the expression</dd>
</dl>       </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003-2022 The Apache Software Foundation<br>Licensed under the Apache license.<br>
    <a href="https://docs.groovy-lang.org/4.0.0/html/gapi/org/codehaus/groovy/transform/stc/TypeCheckingExtension.html" class="_attribution-link">https://docs.groovy-lang.org/4.0.0/html/gapi/org/codehaus/groovy/transform/stc/TypeCheckingExtension.html</a>
  </p>
</div>
