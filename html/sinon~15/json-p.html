<h1 class="post-title">JSON-P</h1>     <p>JSON-P doesnâ€™t use <code>XHR</code> requests, which is what the fake server is concerned with. A JSON-P request creates a script element and inserts it into the document.</p> <p>There is no sufficiently unobtrusive way to fake this automatically. The best option is to stub jQuery in this case:</p> <pre data-language="javascript">sinon.stub(jQuery, "ajax");
sinon.assert.calledOnce(jQuery.ajax);
</pre> <p>We could potentially have had the fake server detect <code>jQuery</code> and fake any calls to <code>jQuery.ajax</code> when JSON-P is used, but that felt like a compromise in the focus of the Sinon project compared to only documenting the above practice.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2022 Christian Johansen<br>Licensed under the BSD License.<br>
    <a href="https://sinonjs.org/releases/v15/json-p" class="_attribution-link">https://sinonjs.org/releases/v15/json-p</a>
  </p>
</div>
