<h1 class="break-words">Babel</h1>
<details><summary>Examples</summary><ul> <li><a href="https://github.com/vercel/next.js/tree/canary/examples/with-custom-babel-config" rel="noopener noreferrer" target="_blank">Customizing babel configuration</a></li> </ul></details> <p>Next.js includes the <code>next/babel</code> preset to your app, which includes everything needed to compile React applications and server-side code. But if you want to extend the default Babel configs, it's also possible.</p> <h2 id="adding-presets-and-plugins" data-docs-heading="">Adding Presets and Plugins     </h2> <p>To start, you only need to define a <code>.babelrc</code> file (or <code>babel.config.js</code>) in the root directory of your project. If such a file is found, it will be considered as the <em>source of truth</em>, and therefore it needs to define what Next.js needs as well, which is the <code>next/babel</code> preset.</p> <p>Here's an example <code>.babelrc</code> file:</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">{
  "presets": ["next/babel"],
  "plugins": []
}</pre></div> <p>You can <a href="https://github.com/vercel/next.js/blob/canary/packages/next/src/build/babel/preset.ts" rel="noopener noreferrer" target="_blank">take a look at this file</a> to learn about the presets included by <code>next/babel</code>.</p> <p>To add presets/plugins <strong>without configuring them</strong>, you can do it this way:</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">{
  "presets": ["next/babel"],
  "plugins": ["@babel/plugin-proposal-do-expressions"]
}</pre></div> <h2 id="customizing-presets-and-plugins" data-docs-heading="">Customizing Presets and Plugins     </h2> <p>To add presets/plugins <strong>with custom configuration</strong>, do it on the <code>next/babel</code> preset like so:</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">{
  "presets": [
    [
      "next/babel",
      {
        "preset-env": {},
        "transform-runtime": {},
        "styled-jsx": {},
        "class-properties": {}
      }
    ]
  ],
  "plugins": []
}</pre></div> <p>To learn more about the available options for each config, visit babel's <a href="https://babeljs.io/docs/" rel="noopener noreferrer nofollow" target="_blank">documentation</a> site.</p> <blockquote class="p-3 text-sm"> <p><strong>Good to know</strong>:</p> <ul> <li>Next.js uses the <a href="https://github.com/nodejs/release#release-schedule" rel="noopener noreferrer nofollow" target="_blank"><strong>current</strong> Node.js version</a> for server-side compilations.</li> <li>The <code>modules</code> option on <code>"preset-env"</code> should be kept to <code>false</code>, otherwise webpack code splitting is turned off.</li> </ul> </blockquote><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2024 Vercel, Inc.<br>Licensed under the MIT License.<br>
    <a href="https://nextjs.org/docs/pages/building-your-application/configuring/babel" class="_attribution-link">https://nextjs.org/docs/pages/building-your-application/configuring/babel</a>
  </p>
</div>
