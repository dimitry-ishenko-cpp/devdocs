<h1 class="break-words">Version 13</h1>
<h2 id="upgrading-from-12-to-13" data-docs-heading="">Upgrading from 12 to 13     </h2> <p>To update to Next.js version 13, run the following command using your preferred package manager:</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD code-block_hideLineNumbers__52YKH not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">npm i next@13 react@latest react-dom@latest eslint-config-next@13</pre></div> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD code-block_hideLineNumbers__52YKH not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">yarn add next@13 react@latest react-dom@latest eslint-config-next@13</pre></div> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD code-block_hideLineNumbers__52YKH not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">pnpm i next@13 react@latest react-dom@latest eslint-config-next@13</pre></div> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD code-block_hideLineNumbers__52YKH not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">bun add next@13 react@latest react-dom@latest eslint-config-next@13</pre></div> <blockquote class="p-3 text-sm"> <p><strong>Good to know:</strong> If you are using TypeScript, ensure you also upgrade <code>@types/react</code> and <code>@types/react-dom</code> to their latest versions.</p> </blockquote> <h3 id="v13-summary" data-docs-heading="">v13 Summary     </h3> <ul> <li>The <a href="../../../architecture/supported-browsers.html">Supported Browsers</a> have been changed to drop Internet Explorer and target modern browsers.</li> <li>The minimum Node.js version has been bumped from 12.22.0 to 16.14.0, since 12.x and 14.x have reached end-of-life.</li> <li>The minimum React version has been bumped from 17.0.2 to 18.2.0.</li> <li>The <code>swcMinify</code> configuration property was changed from <code>false</code> to <code>true</code>. See <a href="../../../architecture/nextjs-compiler.html">Next.js Compiler</a> for more info.</li> <li>The <code>next/image</code> import was renamed to <code>next/legacy/image</code>. The <code>next/future/image</code> import was renamed to <code>next/image</code>. A <a href="codemods.html#next-image-to-legacy-image">codemod is available</a> to safely and automatically rename your imports.</li> <li>The <code>next/link</code> child can no longer be <code>&lt;a&gt;</code>. Add the <code>legacyBehavior</code> prop to use the legacy behavior or remove the <code>&lt;a&gt;</code> to upgrade. A <a href="codemods.html#new-link">codemod is available</a> to automatically upgrade your code.</li> <li>The <code>target</code> configuration property has been removed and superseded by <a href="../../api-reference/next-config-js/output.html">Output File Tracing</a>.</li> </ul> <h2 id="migrating-shared-features" data-docs-heading="">Migrating shared features     </h2> <p>Next.js 13 introduces a new <a href="../../../app/building-your-application/routing.html"><code>app</code> directory</a> with new features and conventions. However, upgrading to Next.js 13 does <strong>not</strong> require using the new <a href="../../../app/building-your-application/routing.html#the-app-router"><code>app</code> directory</a>.</p> <p>You can continue using <code>pages</code> with new features that work in both directories, such as the updated <a href="#image-component">Image component</a>, <a href="#link-component">Link component</a>, <a href="#script-component">Script component</a>, and <a href="#font-optimization">Font optimization</a>.</p> <h3 id="image-component" data-docs-heading="">&lt;Image/&gt; Component     </h3> <p>Next.js 12 introduced many improvements to the Image Component with a temporary import: <code>next/future/image</code>. These improvements included less client-side JavaScript, easier ways to extend and style images, better accessibility, and native browser lazy loading.</p> <p>Starting in Next.js 13, this new behavior is now the default for <code>next/image</code>.</p> <p>There are two codemods to help you migrate to the new Image Component:</p> <ul> <li>
<a href="codemods.html#next-image-to-legacy-image">next-image-to-legacy-image</a>: This codemod will safely and automatically rename <code>next/image</code> imports to <code>next/legacy/image</code> to maintain the same behavior as Next.js 12. We recommend running this codemod to quickly update to Next.js 13 automatically.</li> <li>
<a href="codemods.html#next-image-experimental">next-image-experimental</a>: After running the previous codemod, you can optionally run this experimental codemod to upgrade <code>next/legacy/image</code> to the new <code>next/image</code>, which will remove unused props and add inline styles. Please note this codemod is experimental and only covers static usage (such as <code>&lt;Image src={img} layout="responsive" /&gt;</code>) but not dynamic usage (such as <code>&lt;Image {...props} /&gt;</code>).</li> </ul> <p>Alternatively, you can manually update by following the <a href="codemods.html#next-image-experimental">migration guide</a> and also see the <a href="../../api-reference/components/image-legacy.html#comparison">legacy comparison</a>.</p> <h3 id="link-component" data-docs-heading="">&lt;Link&gt; Component     </h3> <p>The <a href="../../api-reference/components/link.html"><code>&lt;Link&gt;</code> Component</a> no longer requires manually adding an <code>&lt;a&gt;</code> tag as a child. This behavior was added as an experimental option in <a href="https://nextjs.org/blog/next-12-2" rel="noopener noreferrer" target="_blank">version 12.2</a> and is now the default. In Next.js 13, <code>&lt;Link&gt;</code> always renders <code>&lt;a&gt;</code> and allows you to forward props to the underlying tag.</p> <p>For example:</p> <div class="code-block_wrapper__t6FCO not-prose">
<pre class="code-block_pre___OLfy" data-language="typescript">import Link from 'next/link'
 
// Next.js 12: `&lt;a&gt;` has to be nested otherwise it's excluded
&lt;Link href="/about.html"&gt;
  &lt;a&gt;About&lt;/a&gt;
&lt;/Link&gt;
 
// Next.js 13: `&lt;Link&gt;` always renders `&lt;a&gt;` under the hood
&lt;Link href="/about.html"&gt;
  About
&lt;/Link&gt;</pre>
</div> <p>To upgrade your links to Next.js 13, you can use the <a href="codemods.html#new-link"><code>new-link</code> codemod</a>.</p> <h3 id="script-component" data-docs-heading="">&lt;Script&gt; Component     </h3> <p>The behavior of <a href="../../api-reference/components/script.html"><code>next/script</code></a> has been updated to support both <code>pages</code> and <code>app</code>. If incrementally adopting <code>app</code>, read the <a href="../upgrading.html">upgrade guide</a>.</p> <h3 id="font-optimization" data-docs-heading="">Font Optimization     </h3> <p>Previously, Next.js helped you optimize fonts by inlining font CSS. Version 13 introduces the new <a href="../optimizing/fonts.html"><code>next/font</code></a> module which gives you the ability to customize your font loading experience while still ensuring great performance and privacy.</p> <p>See <a href="../optimizing/fonts.html">Optimizing Fonts</a> to learn how to use <code>next/font</code>.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2024 Vercel, Inc.<br>Licensed under the MIT License.<br>
    <a href="https://nextjs.org/docs/pages/building-your-application/upgrading/version-13" class="_attribution-link">https://nextjs.org/docs/pages/building-your-application/upgrading/version-13</a>
  </p>
</div>
