<h1 class="break-words">Static Site Generation (SSG)</h1>
<details><summary>Examples</summary><ul> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-wordpress" rel="noopener noreferrer" target="_blank">WordPress Example</a>(<a href="https://next-blog-wordpress.vercel.app" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/blog-starter" rel="noopener noreferrer" target="_blank">Blog Starter using markdown files</a> (<a href="https://next-blog-starter.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-datocms" rel="noopener noreferrer" target="_blank">DatoCMS Example</a> (<a href="https://next-blog-datocms.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-takeshape" rel="noopener noreferrer" target="_blank">TakeShape Example</a> (<a href="https://next-blog-takeshape.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-sanity" rel="noopener noreferrer" target="_blank">Sanity Example</a> (<a href="https://next-blog-sanity.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-prismic" rel="noopener noreferrer" target="_blank">Prismic Example</a> (<a href="https://next-blog-prismic.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-contentful" rel="noopener noreferrer" target="_blank">Contentful Example</a> (<a href="https://next-blog-contentful.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-strapi" rel="noopener noreferrer" target="_blank">Strapi Example</a> (<a href="https://next-blog-strapi.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-prepr" rel="noopener noreferrer" target="_blank">Prepr Example</a> (<a href="https://next-blog-prepr.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-agilitycms" rel="noopener noreferrer" target="_blank">Agility CMS Example</a> (<a href="https://next-blog-agilitycms.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-cosmic" rel="noopener noreferrer" target="_blank">Cosmic Example</a> (<a href="https://next-blog-cosmic.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-buttercms" rel="noopener noreferrer" target="_blank">ButterCMS Example</a> (<a href="https://next-blog-buttercms.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-storyblok" rel="noopener noreferrer" target="_blank">Storyblok Example</a> (<a href="https://next-blog-storyblok.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-graphcms" rel="noopener noreferrer" target="_blank">GraphCMS Example</a> (<a href="https://next-blog-graphcms.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-kontent-ai" rel="noopener noreferrer" target="_blank">Kontent Example</a> (<a href="https://next-blog-kontent.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-builder-io" rel="noopener noreferrer" target="_blank">Builder.io Example</a> (<a href="https://cms-builder-io.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-tina" rel="noopener noreferrer" target="_blank">TinaCMS Example</a> (<a href="https://cms-tina-example.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> <li><a href="https://static-tweet.vercel.app/" rel="noopener noreferrer nofollow" target="_blank">Static Tweet (Demo)</a></li> <li>
<a href="https://github.com/vercel/next.js/tree/canary/examples/cms-enterspeed" rel="noopener noreferrer" target="_blank">Enterspeed Example</a> (<a href="https://next-blog-demo.enterspeed.com/" rel="noopener noreferrer nofollow" target="_blank">Demo</a>)</li> </ul></details> <p>If a page uses <strong>Static Generation</strong>, the page HTML is generated at <strong>build time</strong>. That means in production, the page HTML is generated when you run <code>next build</code>. This HTML will then be reused on each request. It can be cached by a CDN.</p> <p>In Next.js, you can statically generate pages <strong>with or without data</strong>. Let's take a look at each case.</p> <h3 id="static-generation-without-data" data-docs-heading="">Static Generation without data     </h3> <p>By default, Next.js pre-renders pages using Static Generation without fetching data. Here's an example:</p> <div class="code-block_wrapper__t6FCO not-prose">
<pre class="code-block_pre___OLfy" data-language="typescript">function About() {
  return &lt;div&gt;About&lt;/div&gt;
}
 
export default About</pre>
</div> <p>Note that this page does not need to fetch any external data to be pre-rendered. In cases like this, Next.js generates a single HTML file per page during build time.</p> <h3 id="static-generation-with-data" data-docs-heading="">Static Generation with data     </h3> <p>Some pages require fetching external data for pre-rendering. There are two scenarios, and one or both might apply. In each case, you can use these functions that Next.js provides:</p> <ol> <li>Your page <strong>content</strong> depends on external data: Use <code>getStaticProps</code>.</li> <li>Your page <strong>paths</strong> depend on external data: Use <code>getStaticPaths</code> (usually in addition to <code>getStaticProps</code>).</li> </ol> <h4 id="scenario-1-your-page-content-depends-on-external-data" data-docs-heading="">Scenario 1: Your page content depends on external data     </h4> <p><strong>Example</strong>: Your blog page might need to fetch the list of blog posts from a CMS (content management system).</p> <div class="code-block_wrapper__t6FCO not-prose">
<pre class="code-block_pre___OLfy" data-language="typescript">// TODO: Need to fetch `posts` (by calling some API endpoint)
//       before this page can be pre-rendered.
export default function Blog({ posts }) {
  return (
    &lt;ul&gt;
      {posts.map((post) =&gt; (
        &lt;li&gt;{post.title}&lt;/li&gt;
      ))}
    &lt;/ul&gt;
  )
}</pre>
</div> <p>To fetch this data on pre-render, Next.js allows you to <code>export</code> an <code>async</code> function called <code>getStaticProps</code> from the same file. This function gets called at build time and lets you pass fetched data to the page's <code>props</code> on pre-render.</p> <div class="code-block_wrapper__t6FCO not-prose">
<pre class="code-block_pre___OLfy" data-language="typescript">export default function Blog({ posts }) {
  // Render posts...
}
 
// This function gets called at build time
export async function getStaticProps() {
  // Call an external API endpoint to get posts
  const res = await fetch('https://.../posts')
  const posts = await res.json()
 
  // By returning { props: { posts } }, the Blog component
  // will receive `posts` as a prop at build time
  return {
    props: {
      posts,
    },
  }
}</pre>
</div> <p>To learn more about how <code>getStaticProps</code> works, check out the <a href="../data-fetching/get-static-props.html">Data Fetching documentation</a>.</p> <h4 id="scenario-2-your-page-paths-depend-on-external-data" data-docs-heading="">Scenario 2: Your page paths depend on external data     </h4> <p>Next.js allows you to create pages with <strong>dynamic routes</strong>. For example, you can create a file called <code>pages/posts/[id].js</code> to show a single blog post based on <code>id</code>. This will allow you to show a blog post with <code>id: 1</code> when you access <code>posts/1</code>.</p> <blockquote class="p-3 text-sm"> <p>To learn more about dynamic routing, check the <a href="../routing/dynamic-routes.html">Dynamic Routing documentation</a>.</p> </blockquote> <p>However, which <code>id</code> you want to pre-render at build time might depend on external data.</p> <p><strong>Example</strong>: suppose that you've only added one blog post (with <code>id: 1</code>) to the database. In this case, you'd only want to pre-render <code>posts/1</code> at build time.</p> <p>Later, you might add the second post with <code>id: 2</code>. Then you'd want to pre-render <code>posts/2</code> as well.</p> <p>So your page <strong>paths</strong> that are pre-rendered depend on external data. To handle this, Next.js lets you <code>export</code> an <code>async</code> function called <code>getStaticPaths</code> from a dynamic page (<code>pages/posts/[id].js</code> in this case). This function gets called at build time and lets you specify which paths you want to pre-render.</p> <div class="code-block_wrapper__t6FCO not-prose">
<pre class="code-block_pre___OLfy" data-language="typescript">// This function gets called at build time
export async function getStaticPaths() {
  // Call an external API endpoint to get posts
  const res = await fetch('https://.../posts')
  const posts = await res.json()
 
  // Get the paths we want to pre-render based on posts
  const paths = posts.map((post) =&gt; ({
    params: { id: post.id },
  }))
 
  // We'll pre-render only these paths at build time.
  // { fallback: false } means other routes should 404.
  return { paths, fallback: false }
}</pre>
</div> <p>Also in <code>pages/posts/[id].js</code>, you need to export <code>getStaticProps</code> so that you can fetch the data about the post with this <code>id</code> and use it to pre-render the page:</p> <div class="code-block_wrapper__t6FCO not-prose">
<pre class="code-block_pre___OLfy" data-language="typescript">export default function Post({ post }) {
  // Render post...
}
 
export async function getStaticPaths() {
  // ...
}
 
// This also gets called at build time
export async function getStaticProps({ params }) {
  // params contains the post `id`.
  // If the route is like /posts/1, then params.id is 1
  const res = await fetch(`https://.../posts/${params.id}`)
  const post = await res.json()
 
  // Pass post data to the page via props
  return { props: { post } }
}</pre>
</div> <p>To learn more about how <code>getStaticPaths</code> works, check out the <a href="../data-fetching/get-static-paths.html">Data Fetching documentation</a>.</p> <h3 id="when-should-i-use-static-generation" data-docs-heading="">When should I use Static Generation?     </h3> <p>We recommend using <strong>Static Generation</strong> (with and without data) whenever possible because your page can be built once and served by CDN, which makes it much faster than having a server render the page on every request.</p> <p>You can use Static Generation for many types of pages, including:</p> <ul> <li>Marketing pages</li> <li>Blog posts and portfolios</li> <li>E-commerce product listings</li> <li>Help and documentation</li> </ul> <p>You should ask yourself: "Can I pre-render this page <strong>ahead</strong> of a user's request?" If the answer is yes, then you should choose Static Generation.</p> <p>On the other hand, Static Generation is <strong>not</strong> a good idea if you cannot pre-render a page ahead of a user's request. Maybe your page shows frequently updated data, and the page content changes on every request.</p> <p>In cases like this, you can do one of the following:</p> <ul> <li>Use Static Generation with <strong>Client-side data fetching:</strong> You can skip pre-rendering some parts of a page and then use client-side JavaScript to populate them. To learn more about this approach, check out the <a href="../data-fetching/client-side.html">Data Fetching documentation</a>.</li> <li>Use <strong>Server-Side Rendering:</strong> Next.js pre-renders a page on each request. It will be slower because the page cannot be cached by a CDN, but the pre-rendered page will always be up-to-date. We'll talk about this approach below.</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2024 Vercel, Inc.<br>Licensed under the MIT License.<br>
    <a href="https://nextjs.org/docs/pages/building-your-application/rendering/static-site-generation" class="_attribution-link">https://nextjs.org/docs/pages/building-your-application/rendering/static-site-generation</a>
  </p>
</div>
