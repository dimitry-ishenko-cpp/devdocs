<h1 class="break-words">generateViewport</h1>
<p>You can customize the initial viewport of the page with the static <code>viewport</code> object or the dynamic <code>generateViewport</code> function.</p> <blockquote class="p-3 text-sm"> <p><strong>Good to know</strong>:</p> <ul> <li>The <code>viewport</code> object and <code>generateViewport</code> function exports are <strong>only supported in Server Components</strong>.</li> <li>You cannot export both the <code>viewport</code> object and <code>generateViewport</code> function from the same route segment.</li> <li>If you're coming from migrating <code>metadata</code> exports, you can use <a href="../../building-your-application/upgrading/codemods.html#metadata-to-viewport-export">metadata-to-viewport-export codemod</a> to update your changes.</li> </ul> </blockquote> <h2 id="the-viewport-object" data-docs-heading="">The viewport object     </h2> <p>To define the viewport options, export a <code>viewport</code> object from a <code>layout.jsx</code> or <code>page.jsx</code> file.</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">import type { Viewport } from 'next'
 
export const viewport: Viewport = {
  themeColor: 'black',
}
 
export default function Page() {}</pre></div>  <h2 id="generateviewport-function" data-docs-heading="">generateViewport function     </h2> <p><code>generateViewport</code> should return a <a href="#viewport-fields"><code>Viewport</code> object</a> containing one or more viewport fields.</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">export function generateViewport({ params }) {
  return {
    themeColor: '...',
  }
}</pre></div>  <blockquote class="p-3 text-sm"> <p><strong>Good to know</strong>:</p> <ul> <li>If the viewport doesn't depend on runtime information, it should be defined using the static <a href="#the-viewport-object"><code>viewport</code> object</a> rather than <code>generateMetadata</code>.</li> </ul> </blockquote> <h2 id="viewport-fields" data-docs-heading="">Viewport Fields     </h2> <h3 id="themecolor" data-docs-heading="">themeColor     </h3> <p>Learn more about <a href="https://developer.mozilla.org/docs/Web/HTML/Element/meta/name/theme-color" rel="noopener noreferrer nofollow" target="_blank"><code>theme-color</code></a>.</p> <p><strong>Simple theme color</strong></p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">import type { Viewport } from 'next'
 
export const viewport: Viewport = {
  themeColor: 'black',
}</pre></div>  <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD code-block_hideLineNumbers__52YKH not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">&lt;meta name="theme-color" content="black" /&gt;</pre></div> <p><strong>With media attribute</strong></p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">import type { Viewport } from 'next'
 
export const viewport: Viewport = {
  themeColor: [
    { media: '(prefers-color-scheme: light)', color: 'cyan' },
    { media: '(prefers-color-scheme: dark)', color: 'black' },
  ],
}</pre></div>  <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">&lt;meta name="theme-color" media="(prefers-color-scheme: light)" content="cyan" /&gt;
&lt;meta name="theme-color" media="(prefers-color-scheme: dark)" content="black" /&gt;</pre></div> <h3 id="width-initialscale-maximumscale-and-userscalable" data-docs-heading="">width, initialScale, maximumScale and userScalable     </h3> <blockquote class="p-3 text-sm"> <p><strong>Good to know</strong>: The <code>viewport</code> meta tag is automatically set, and manual configuration is usually unnecessary as the default is sufficient. However, the information is provided for completeness.</p> </blockquote> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">import type { Viewport } from 'next'
 
export const viewport: Viewport = {
  width: 'device-width',
  initialScale: 1,
  maximumScale: 1,
  userScalable: false,
  // Also supported by less commonly used
  // interactiveWidget: 'resizes-visual',
}</pre></div>  <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">&lt;meta
  name="viewport"
  content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
/&gt;</pre></div> <h3 id="colorscheme" data-docs-heading="">colorScheme     </h3> <p>Learn more about <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta/name#:~:text=color%2Dscheme%3A%20specifies,of%20the%20following%3A" rel="noopener noreferrer nofollow" target="_blank"><code>color-scheme</code></a>.</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">import type { Viewport } from 'next'
 
export const viewport: Viewport = {
  colorScheme: 'dark',
}</pre></div>  <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD code-block_hideLineNumbers__52YKH not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">&lt;meta name="color-scheme" content="dark" /&gt;</pre></div> <h2 id="types" data-docs-heading="">Types     </h2> <p>You can add type safety to your viewport object by using the <code>Viewport</code> type. If you are using the <a href="../../building-your-application/configuring/typescript.html">built-in TypeScript plugin</a> in your IDE, you do not need to manually add the type, but you can still explicitly add it if you want.</p> <h3 id="viewport-object" data-docs-heading="">viewport object     </h3> <div class="code-block_wrapper__t6FCO not-prose">
<pre class="code-block_pre___OLfy" data-language="typescript">import type { Viewport } from 'next'
 
export const viewport: Viewport = {
  themeColor: 'black',
}</pre>
</div> <h3 id="generateviewport-function-1" data-docs-heading="">generateViewport function     </h3> <h4 id="regular-function" data-docs-heading="">Regular function     </h4> <div class="code-block_wrapper__t6FCO not-prose">
<pre class="code-block_pre___OLfy" data-language="typescript">import type { Viewport } from 'next'
 
export function generateViewport(): Viewport {
  return {
    themeColor: 'black',
  }
}</pre>
</div> <h4 id="with-segment-props" data-docs-heading="">With segment props     </h4> <div class="code-block_wrapper__t6FCO not-prose">
<pre class="code-block_pre___OLfy" data-language="typescript">import type { Viewport } from 'next'
 
type Props = {
  params: { id: string }
  searchParams: { [key: string]: string | string[] | undefined }
}
 
export function generateViewport({ params, searchParams }: Props): Viewport {
  return {
    themeColor: 'black',
  }
}
 
export default function Page({ params, searchParams }: Props) {}</pre>
</div> <h4 id="javascript-projects" data-docs-heading="">JavaScript Projects     </h4> <p>For JavaScript projects, you can use JSDoc to add type safety.</p> <div class="code-block_wrapper__t6FCO not-prose">
<pre class="code-block_pre___OLfy" data-language="typescript">/** @type {import("next").Viewport} */
export const viewport = {
  themeColor: 'black',
}</pre>
</div> <h2 id="version-history" data-docs-heading="">Version History     </h2> <div class="overflow-x-auto"><table class="w-full table-auto">
<thead><tr>
<th>Version</th>
<th>Changes</th>
</tr></thead>
<tbody><tr>
<td><code>v14.0.0</code></td>
<td>
<code>viewport</code> and <code>generateViewport</code> introduced.</td>
</tr></tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2024 Vercel, Inc.<br>Licensed under the MIT License.<br>
    <a href="https://nextjs.org/docs/app/api-reference/functions/generate-viewport" class="_attribution-link">https://nextjs.org/docs/app/api-reference/functions/generate-viewport</a>
  </p>
</div>
