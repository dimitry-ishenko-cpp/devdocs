<h1 class="break-words">instrumentation.js</h1>
<p>The <code>instrumentation.js|ts</code> file is used to integrate monitoring and logging tools into your application. This allows you to track the performance and behavior of your application, and to debug issues in production.</p> <p>To use it, place the file in the <strong>root</strong> of your application or inside a <a href="../../building-your-application/configuring/src-directory.html"><code>src</code> folder</a> if using one.</p> <h2 id="config-option" data-docs-heading="">Config Option     </h2> <p>Instrumentation is currently an experimental feature, to use the <code>instrumentation</code> file, you must explicitly opt-in by defining <a href="../next-config-js/instrumentationhook.html"><code>experimental.instrumentationHook = true;</code></a> in your <code>next.config.js</code>:</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">module.exports = {
  experimental: {
    instrumentationHook: true,
  },
}</pre></div> <h2 id="exports" data-docs-heading="">Exports     </h2> <h3 id="register-required" data-docs-heading="">register (required)     </h3> <p>The file exports a <code>register</code> function that is called <strong>once</strong> when a new Next.js server instance is initiated. <code>register</code> can be an async function.</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">import { registerOTel } from '@vercel/otel'
 
export function register() {
  registerOTel('next-app')
}</pre></div>  <h2 id="version-history" data-docs-heading="">Version History     </h2> <div class="overflow-x-auto"><table class="w-full table-auto">
<thead><tr>
<th>Version</th>
<th>Changes</th>
</tr></thead>
<tbody>
<tr>
<td><code>v14.0.4</code></td>
<td>Turbopack support for <code>instrumentation</code>
</td>
</tr>
<tr>
<td><code>v13.2.0</code></td>
<td>
<code>instrumentation</code> introduced as an experimental feature</td>
</tr>
</tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2024 Vercel, Inc.<br>Licensed under the MIT License.<br>
    <a href="https://nextjs.org/docs/app/api-reference/file-conventions/instrumentation" class="_attribution-link">https://nextjs.org/docs/app/api-reference/file-conventions/instrumentation</a>
  </p>
</div>
