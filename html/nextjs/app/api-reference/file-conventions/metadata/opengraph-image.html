<h1 class="break-words">opengraph-image and twitter-image</h1>
<p>The <code>opengraph-image</code> and <code>twitter-image</code> file conventions allow you to set Open Graph and Twitter images for a route segment.</p> <p>They are useful for setting the images that appear on social networks and messaging apps when a user shares a link to your site.</p> <p>There are two ways to set Open Graph and Twitter images:</p> <ul> <li><a href="#image-files-jpg-png-gif">Using image files (.jpg, .png, .gif)</a></li> <li><a href="#generate-images-using-code-js-ts-tsx">Using code to generate images (.js, .ts, .tsx)</a></li> </ul> <h2 id="image-files-jpg-png-gif" data-docs-heading="">Image files (.jpg, .png, .gif)     </h2> <p>Use an image file to set a route segment's shared image by placing an <code>opengraph-image</code> or <code>twitter-image</code> image file in the segment.</p> <p>Next.js will evaluate the file and automatically add the appropriate tags to your app's <code>&lt;head&gt;</code> element.</p> <div class="overflow-x-auto"><table class="w-full table-auto">
<thead><tr>
<th>File convention</th>
<th>Supported file types</th>
</tr></thead>
<tbody>
<tr>
<td><a href="#opengraph-image"><code>opengraph-image</code></a></td>
<td>
<code>.jpg</code>, <code>.jpeg</code>, <code>.png</code>, <code>.gif</code>
</td>
</tr>
<tr>
<td><a href="#twitter-image"><code>twitter-image</code></a></td>
<td>
<code>.jpg</code>, <code>.jpeg</code>, <code>.png</code>, <code>.gif</code>
</td>
</tr>
<tr>
<td><a href="#opengraph-imagealttxt"><code>opengraph-image.alt</code></a></td>
<td><code>.txt</code></td>
</tr>
<tr>
<td><a href="#twitter-imagealttxt"><code>twitter-image.alt</code></a></td>
<td><code>.txt</code></td>
</tr>
</tbody>
</table></div> <h3 id="opengraph-image" data-docs-heading="">opengraph-image     </h3> <p>Add an <code>opengraph-image.(jpg|jpeg|png|gif)</code> image file to any route segment.</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">&lt;meta property="og:image" content="&lt;generated&gt;" /&gt;
&lt;meta property="og:image:type" content="&lt;generated&gt;" /&gt;
&lt;meta property="og:image:width" content="&lt;generated&gt;" /&gt;
&lt;meta property="og:image:height" content="&lt;generated&gt;" /&gt;</pre></div> <h3 id="twitter-image" data-docs-heading="">twitter-image     </h3> <p>Add a <code>twitter-image.(jpg|jpeg|png|gif)</code> image file to any route segment.</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">&lt;meta name="twitter:image" content="&lt;generated&gt;" /&gt;
&lt;meta name="twitter:image:type" content="&lt;generated&gt;" /&gt;
&lt;meta name="twitter:image:width" content="&lt;generated&gt;" /&gt;
&lt;meta name="twitter:image:height" content="&lt;generated&gt;" /&gt;</pre></div> <h3 id="opengraph-imagealttxt" data-docs-heading="">opengraph-image.alt.txt     </h3> <p>Add an accompanying <code>opengraph-image.alt.txt</code> file in the same route segment as the <code>opengraph-image.(jpg|jpeg|png|gif)</code> image it's alt text.</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD code-block_hideLineNumbers__52YKH not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">About Acme</pre></div> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD code-block_hideLineNumbers__52YKH not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">&lt;meta property="og:image:alt" content="About Acme" /&gt;</pre></div> <h3 id="twitter-imagealttxt" data-docs-heading="">twitter-image.alt.txt     </h3> <p>Add an accompanying <code>twitter-image.alt.txt</code> file in the same route segment as the <code>twitter-image.(jpg|jpeg|png|gif)</code> image it's alt text.</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD code-block_hideLineNumbers__52YKH not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">About Acme</pre></div> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD code-block_hideLineNumbers__52YKH not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">&lt;meta property="twitter:image:alt" content="About Acme" /&gt;</pre></div> <h2 id="generate-images-using-code-js-ts-tsx" data-docs-heading="">Generate images using code (.js, .ts, .tsx)     </h2> <p>In addition to using <a href="#image-files-jpg-png-gif">literal image files</a>, you can programmatically <strong>generate</strong> images using code.</p> <p>Generate a route segment's shared image by creating an <code>opengraph-image</code> or <code>twitter-image</code> route that default exports a function.</p> <div class="overflow-x-auto"><table class="w-full table-auto">
<thead><tr>
<th>File convention</th>
<th>Supported file types</th>
</tr></thead>
<tbody>
<tr>
<td><code>opengraph-image</code></td>
<td>
<code>.js</code>, <code>.ts</code>, <code>.tsx</code>
</td>
</tr>
<tr>
<td><code>twitter-image</code></td>
<td>
<code>.js</code>, <code>.ts</code>, <code>.tsx</code>
</td>
</tr>
</tbody>
</table></div> <blockquote class="p-3 text-sm"> <p><strong>Good to know</strong></p> <ul> <li>By default, generated images are <a href="../../../building-your-application/rendering/server-components.html#static-rendering-default"><strong>statically optimized</strong></a> (generated at build time and cached) unless they use <a href="#">dynamic functions</a> or uncached data.</li> <li>You can generate multiple Images in the same file using <a href="../../functions/generate-image-metadata.html"><code>generateImageMetadata</code></a>.</li> </ul> </blockquote> <p>The easiest way to generate an image is to use the <a href="../../functions/image-response.html">ImageResponse</a> API from <code>next/og</code>.</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">import { ImageResponse } from 'next/og'
 
// Route segment config
export const runtime = 'edge'
 
// Image metadata
export const alt = 'About Acme'
export const size = {
  width: 1200,
  height: 630,
}
 
export const contentType = 'image/png'
 
// Image generation
export default async function Image() {
  // Font
  const interSemiBold = fetch(
    new URL('./Inter-SemiBold.ttf', import.meta.url)
  ).then((res) =&gt; res.arrayBuffer())
 
  return new ImageResponse(
    (
      // ImageResponse JSX element
      &lt;div
        style={{
          fontSize: 128,
          background: 'white',
          width: '100%',
          height: '100%',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
        }}
      &gt;
        About Acme
      &lt;/div&gt;
    ),
    // ImageResponse options
    {
      // For convenience, we can re-use the exported opengraph-image
      // size config to also set the ImageResponse's width and height.
      ...size,
      fonts: [
        {
          name: 'Inter',
          data: await interSemiBold,
          style: 'normal',
          weight: 400,
        },
      ],
    }
  )
}</pre></div>  <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">&lt;meta property="og:image" content="&lt;generated&gt;" /&gt;
&lt;meta property="og:image:alt" content="About Acme" /&gt;
&lt;meta property="og:image:type" content="image/png" /&gt;
&lt;meta property="og:image:width" content="1200" /&gt;
&lt;meta property="og:image:height" content="630" /&gt;</pre></div> <h3 id="props" data-docs-heading="">Props     </h3> <p>The default export function receives the following props:</p> <h4 id="params-optional" data-docs-heading="">params (optional)     </h4> <p>An object containing the <a href="../../../building-your-application/routing/dynamic-routes.html">dynamic route parameters</a> object from the root segment down to the segment <code>opengraph-image</code> or <code>twitter-image</code> is colocated in.</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">export default function Image({ params }: { params: { slug: string } }) {
  // ...
}</pre></div>  <div class="overflow-x-auto"><table class="w-full table-auto">
<thead><tr>
<th>Route</th>
<th>URL</th>
<th><code>params</code></th>
</tr></thead>
<tbody>
<tr>
<td><code>app/shop/opengraph-image.js</code></td>
<td><code>/shop</code></td>
<td><code>undefined</code></td>
</tr>
<tr>
<td><code>app/shop/[slug]/opengraph-image.js</code></td>
<td><code>/shop/1</code></td>
<td><code>{ slug: '1' }</code></td>
</tr>
<tr>
<td><code>app/shop/[tag]/[item]/opengraph-image.js</code></td>
<td><code>/shop/1/2</code></td>
<td><code>{ tag: '1', item: '2' }</code></td>
</tr>
<tr>
<td><code>app/shop/[...slug]/opengraph-image.js</code></td>
<td><code>/shop/1/2</code></td>
<td><code>{ slug: ['1', '2'] }</code></td>
</tr>
</tbody>
</table></div> <h3 id="returns" data-docs-heading="">Returns     </h3> <p>The default export function should return a <code>Blob</code> | <code>ArrayBuffer</code> | <code>TypedArray</code> | <code>DataView</code> | <code>ReadableStream</code> | <code>Response</code>.</p> <blockquote class="p-3 text-sm"> <p><strong>Good to know</strong>: <code>ImageResponse</code> satisfies this return type.</p> </blockquote> <h3 id="config-exports" data-docs-heading="">Config exports     </h3> <p>You can optionally configure the image's metadata by exporting <code>alt</code>, <code>size</code>, and <code>contentType</code> variables from <code>opengraph-image</code> or <code>twitter-image</code> route.</p> <div class="overflow-x-auto"><table class="w-full table-auto">
<thead><tr>
<th>Option</th>
<th>Type</th>
</tr></thead>
<tbody>
<tr>
<td><a href="#alt"><code>alt</code></a></td>
<td><code>string</code></td>
</tr>
<tr>
<td><a href="#size"><code>size</code></a></td>
<td><code>{ width: number; height: number }</code></td>
</tr>
<tr>
<td><a href="#contenttype"><code>contentType</code></a></td>
<td>
<code>string</code> - <a href="https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/MIME_types#image_types" rel="noopener noreferrer nofollow" target="_blank">image MIME type</a>
</td>
</tr>
</tbody>
</table></div> <h4 id="alt" data-docs-heading="">alt     </h4> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">export const alt = 'My images alt text'
 
export default function Image() {}</pre></div>  <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD code-block_hideLineNumbers__52YKH not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">&lt;meta property="og:image:alt" content="My images alt text" /&gt;</pre></div> <h4 id="size" data-docs-heading="">size     </h4> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">export const size = { width: 1200, height: 630 }
 
export default function Image() {}</pre></div>  <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">&lt;meta property="og:image:width" content="1200" /&gt;
&lt;meta property="og:image:height" content="630" /&gt;</pre></div> <h4 id="contenttype" data-docs-heading="">contentType     </h4> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">export const contentType = 'image/png'
 
export default function Image() {}</pre></div>  <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD code-block_hideLineNumbers__52YKH not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">&lt;meta property="og:image:type" content="image/png" /&gt;</pre></div> <h4 id="route-segment-config" data-docs-heading="">Route Segment Config     </h4> <p><code>opengraph-image</code> and <code>twitter-image</code> are specialized <a href="../../../building-your-application/routing/route-handlers.html">Route Handlers</a> that can use the same <a href="../route-segment-config.html">route segment configuration</a> options as Pages and Layouts.</p> <div class="overflow-x-auto"><table class="w-full table-auto">
<thead><tr>
<th>Option</th>
<th>Type</th>
<th>Default</th>
</tr></thead>
<tbody>
<tr>
<td><a href="../route-segment-config.html#dynamic"><code>dynamic</code></a></td>
<td><code>'auto' | 'force-dynamic' | 'error' | 'force-static'</code></td>
<td><code>'auto'</code></td>
</tr>
<tr>
<td><a href="../route-segment-config.html#revalidate"><code>revalidate</code></a></td>
<td><code>false | 'force-cache' | 0 | number</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><a href="../route-segment-config.html#runtime"><code>runtime</code></a></td>
<td><code>'nodejs' | 'edge'</code></td>
<td><code>'nodejs'</code></td>
</tr>
<tr>
<td><a href="../route-segment-config.html#preferredregion"><code>preferredRegion</code></a></td>
<td><code>'auto' | 'global' | 'home' | string | string[]</code></td>
<td><code>'auto'</code></td>
</tr>
</tbody>
</table></div> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">export const runtime = 'edge'
 
export default function Image() {}</pre></div>  <h3 id="examples" data-docs-heading="">Examples     </h3> <h4 id="using-external-data" data-docs-heading="">Using external data     </h4> <p>This example uses the <code>params</code> object and external data to generate the image.</p> <blockquote class="p-3 text-sm"> <p><strong>Good to know</strong>: By default, this generated image will be <a href="../../../building-your-application/rendering/server-components.html#static-rendering-default">statically optimized</a>. You can configure the individual <code>fetch</code> <a href="../../functions/fetch.html"><code>options</code></a> or route segments <a href="../route-segment-config.html#revalidate">options</a> to change this behavior.</p> </blockquote> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">import { ImageResponse } from 'next/og'
 
export const runtime = 'edge'
 
export const alt = 'About Acme'
export const size = {
  width: 1200,
  height: 630,
}
export const contentType = 'image/png'
 
export default async function Image({ params }: { params: { slug: string } }) {
  const post = await fetch(`https://.../posts/${params.slug}`).then((res) =&gt;
    res.json()
  )
 
  return new ImageResponse(
    (
      &lt;div
        style={{
          fontSize: 48,
          background: 'white',
          width: '100%',
          height: '100%',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
        }}
      &gt;
        {post.title}
      &lt;/div&gt;
    ),
    {
      ...size,
    }
  )
}</pre></div>  <h2 id="version-history" data-docs-heading="">Version History     </h2> <div class="overflow-x-auto"><table class="w-full table-auto">
<thead><tr>
<th>Version</th>
<th>Changes</th>
</tr></thead>
<tbody><tr>
<td><code>v13.3.0</code></td>
<td>
<code>opengraph-image</code> and <code>twitter-image</code> introduced.</td>
</tr></tbody>
</table></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2024 Vercel, Inc.<br>Licensed under the MIT License.<br>
    <a href="https://nextjs.org/docs/app/api-reference/file-conventions/metadata/opengraph-image" class="_attribution-link">https://nextjs.org/docs/app/api-reference/file-conventions/metadata/opengraph-image</a>
  </p>
</div>
