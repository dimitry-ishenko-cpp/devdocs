<h1 class="break-words">Pages and Layouts</h1>
<blockquote class="p-3 text-sm"> <p>We recommend reading the <a href="../routing.html">Routing Fundamentals</a> and <a href="defining-routes.html">Defining Routes</a> pages before continuing.</p> </blockquote> <p>The special files <a href="#layouts">layout.js</a>, <a href="#pages">page.js</a>, and <a href="#templates">template.js</a> allow you to create UI for a <a href="defining-routes.html#creating-routes">route</a>. This page will guide you through how and when to use these special files.</p> <h2 id="pages" data-docs-heading="">Pages     </h2> <p>A page is UI that is <strong>unique</strong> to a route. You can define a page by default exporting a component from a <code>page.js</code> file.</p> <p>For example, to create your <code>index</code> page, add the <code>page.js</code> file inside the <code>app</code> directory:</p> <figure><img alt="page.js special file" loading="lazy" width="1600" height="444" decoding="async" data-nimg="1" class="block rounded-md border border-gray-200 bg-gray-100 dark:hidden" style="color:transparent" srcset="/_next/image?url=%2Fdocs%2Flight%2Fpage-special-file.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2Fdocs%2Flight%2Fpage-special-file.png&amp;w=3840&amp;q=75 2x" src="https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Fpage-special-file.png&amp;w=3840&amp;q=75"><img alt="page.js special file" loading="lazy" width="1600" height="444" decoding="async" data-nimg="1" class="hidden rounded-md border border-gray-200 bg-gray-100 dark:block" style="color:transparent" srcset="/_next/image?url=%2Fdocs%2Fdark%2Fpage-special-file.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2Fdocs%2Fdark%2Fpage-special-file.png&amp;w=3840&amp;q=75 2x" src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Fpage-special-file.png&amp;w=3840&amp;q=75"></figure> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">// `app/page.tsx` is the UI for the `/` URL
export default function Page() {
  return &lt;h1&gt;Hello, Home page!&lt;/h1&gt;
}</pre></div>  <p>Then, to create further pages, create a new folder and add the <code>page.js</code> file inside it. For example, to create a page for the <code>/dashboard</code> route, create a new folder called <code>dashboard</code>, and add the <code>page.js</code> file inside it:</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">// `app/dashboard/page.tsx` is the UI for the `/dashboard` URL
export default function Page() {
  return &lt;h1&gt;Hello, Dashboard Page!&lt;/h1&gt;
}</pre></div>  <blockquote class="p-3 text-sm"> <p><strong>Good to know</strong>:</p> <ul> <li>The <code>.js</code>, <code>.jsx</code>, or <code>.tsx</code> file extensions can be used for Pages.</li> <li>A page is always the <a href="../routing.html#terminology">leaf</a> of the <a href="../routing.html#terminology">route subtree</a>.</li> <li>A <code>page.js</code> file is required to make a route segment publicly accessible.</li> <li>Pages are <a href="../rendering/server-components.html">Server Components</a> by default, but can be set to a <a href="../rendering/client-components.html">Client Component</a>.</li> <li>Pages can fetch data. View the <a href="../data-fetching.html">Data Fetching</a> section for more information.</li> </ul> </blockquote> <h2 id="layouts" data-docs-heading="">Layouts     </h2> <p>A layout is UI that is <strong>shared</strong> between multiple routes. On navigation, layouts preserve state, remain interactive, and do not re-render. Layouts can also be <a href="#nesting-layouts">nested</a>.</p> <p>You can define a layout by default exporting a React component from a <code>layout.js</code> file. The component should accept a <code>children</code> prop that will be populated with a child layout (if it exists) or a page during rendering.</p> <p>For example, the layout will be shared with the <code>/dashboard</code> and <code>/dashboard/settings</code> pages:</p> <figure><img alt="layout.js special file" loading="lazy" width="1600" height="606" decoding="async" data-nimg="1" class="block rounded-md border border-gray-200 bg-gray-100 dark:hidden" style="color:transparent" srcset="/_next/image?url=%2Fdocs%2Flight%2Flayout-special-file.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2Fdocs%2Flight%2Flayout-special-file.png&amp;w=3840&amp;q=75 2x" src="https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Flayout-special-file.png&amp;w=3840&amp;q=75"><img alt="layout.js special file" loading="lazy" width="1600" height="606" decoding="async" data-nimg="1" class="hidden rounded-md border border-gray-200 bg-gray-100 dark:block" style="color:transparent" srcset="/_next/image?url=%2Fdocs%2Fdark%2Flayout-special-file.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2Fdocs%2Fdark%2Flayout-special-file.png&amp;w=3840&amp;q=75 2x" src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Flayout-special-file.png&amp;w=3840&amp;q=75"></figure> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">export default function DashboardLayout({
  children, // will be a page or nested layout
}: {
  children: React.ReactNode
}) {
  return (
    &lt;section&gt;
      {/* Include shared UI here e.g. a header or sidebar */}
      &lt;nav&gt;&lt;/nav&gt;
 
      {children}
    &lt;/section&gt;
  )
}</pre></div>  <h3 id="root-layout-required" data-docs-heading="">Root Layout (Required)     </h3> <p>The root layout is defined at the top level of the <code>app</code> directory and applies to all routes. This layout is <strong>required</strong> and must contain <code>html</code> and <code>body</code> tags, allowing you to modify the initial HTML returned from the server.</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    &lt;html lang="en"&gt;
      &lt;body&gt;
        {/* Layout UI */}
        &lt;main&gt;{children}&lt;/main&gt;
      &lt;/body&gt;
    &lt;/html&gt;
  )
}</pre></div>  <h3 id="nesting-layouts" data-docs-heading="">Nesting Layouts     </h3> <p>By default, layouts in the folder hierarchy are <strong>nested</strong>, which means they wrap child layouts via their <code>children</code> prop. You can nest layouts by adding <code>layout.js</code> inside specific route segments (folders).</p> <p>For example, to create a layout for the <code>/dashboard</code> route, add a new <code>layout.js</code> file inside the <code>dashboard</code> folder:</p> <figure><img alt="Nested Layout" loading="lazy" width="1600" height="606" decoding="async" data-nimg="1" class="block rounded-md border border-gray-200 bg-gray-100 dark:hidden" style="color:transparent" srcset="/_next/image?url=%2Fdocs%2Flight%2Fnested-layout.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2Fdocs%2Flight%2Fnested-layout.png&amp;w=3840&amp;q=75 2x" src="https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Fnested-layout.png&amp;w=3840&amp;q=75"><img alt="Nested Layout" loading="lazy" width="1600" height="606" decoding="async" data-nimg="1" class="hidden rounded-md border border-gray-200 bg-gray-100 dark:block" style="color:transparent" srcset="/_next/image?url=%2Fdocs%2Fdark%2Fnested-layout.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2Fdocs%2Fdark%2Fnested-layout.png&amp;w=3840&amp;q=75 2x" src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Fnested-layout.png&amp;w=3840&amp;q=75"></figure> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return &lt;section&gt;{children}&lt;/section&gt;
}</pre></div>  <p>If you were to combine the two layouts above, the root layout (<code>app/layout.js</code>) would wrap the dashboard layout (<code>app/dashboard/layout.js</code>), which would wrap route segments inside <code>app/dashboard/*</code>.</p> <p>The two layouts would be nested as such:</p> <figure><img alt="Nested Layouts" loading="lazy" width="1600" height="1026" decoding="async" data-nimg="1" class="block rounded-md border border-gray-200 bg-gray-100 dark:hidden" style="color:transparent" srcset="/_next/image?url=%2Fdocs%2Flight%2Fnested-layouts-ui.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2Fdocs%2Flight%2Fnested-layouts-ui.png&amp;w=3840&amp;q=75 2x" src="https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Fnested-layouts-ui.png&amp;w=3840&amp;q=75"><img alt="Nested Layouts" loading="lazy" width="1600" height="1026" decoding="async" data-nimg="1" class="hidden rounded-md border border-gray-200 bg-gray-100 dark:block" style="color:transparent" srcset="/_next/image?url=%2Fdocs%2Fdark%2Fnested-layouts-ui.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2Fdocs%2Fdark%2Fnested-layouts-ui.png&amp;w=3840&amp;q=75 2x" src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Fnested-layouts-ui.png&amp;w=3840&amp;q=75"></figure> <blockquote class="p-3 text-sm"> <p><strong>Good to know</strong>:</p> <ul> <li>
<code>.js</code>, <code>.jsx</code>, or <code>.tsx</code> file extensions can be used for Layouts.</li> <li>Only the root layout can contain <code>&lt;html&gt;</code> and <code>&lt;body&gt;</code> tags.</li> <li>When a <code>layout.js</code> and <code>page.js</code> file are defined in the same folder, the layout will wrap the page.</li> <li>Layouts are <a href="../rendering/server-components.html">Server Components</a> by default but can be set to a <a href="../rendering/client-components.html">Client Component</a>.</li> <li>Layouts can fetch data. View the <a href="../data-fetching.html">Data Fetching</a> section for more information.</li> <li>Passing data between a parent layout and its children is not possible. However, you can fetch the same data in a route more than once, and React will <a href="../caching.html#request-memoization">automatically dedupe the requests</a> without affecting performance.</li> <li>Layouts do not have access to the route segments below itself. To access all route segments, you can use <a href="../../api-reference/functions/use-selected-layout-segment.html"><code>useSelectedLayoutSegment</code></a> or <a href="../../api-reference/functions/use-selected-layout-segments.html"><code>useSelectedLayoutSegments</code></a> in a Client Component.</li> <li>You can use <a href="route-groups.html">Route Groups</a> to opt specific route segments in and out of shared layouts.</li> <li>You can use <a href="route-groups.html">Route Groups</a> to create multiple root layouts. See an <a href="route-groups.html#creating-multiple-root-layouts">example here</a>.</li> <li>
<strong>Migrating from the <code>pages</code> directory:</strong> The root layout replaces the <a href="../../../pages/building-your-application/routing/custom-app.html"><code>_app.js</code></a> and <a href="../../../pages/building-your-application/routing/custom-document.html"><code>_document.js</code></a> files. <a href="../upgrading/app-router-migration.html#migrating-_documentjs-and-_appjs">View the migration guide</a>.</li> </ul> </blockquote> <h2 id="templates" data-docs-heading="">Templates     </h2> <p>Templates are similar to layouts in that they wrap each child layout or page. Unlike layouts that persist across routes and maintain state, templates create a new instance for each of their children on navigation. This means that when a user navigates between routes that share a template, a new instance of the component is mounted, DOM elements are recreated, state is <strong>not</strong> preserved, and effects are re-synchronized.</p> <p>There may be cases where you need those specific behaviors, and templates would be a more suitable option than layouts. For example:</p> <ul> <li>Features that rely on <code>useEffect</code> (e.g logging page views) and <code>useState</code> (e.g a per-page feedback form).</li> <li>To change the default framework behavior. For example, Suspense Boundaries inside layouts only show the fallback the first time the Layout is loaded and not when switching pages. For templates, the fallback is shown on each navigation.</li> </ul> <p>A template can be defined by exporting a default React component from a <code>template.js</code> file. The component should accept a <code>children</code> prop.</p> <figure><img alt="template.js special file" loading="lazy" width="1600" height="444" decoding="async" data-nimg="1" class="block rounded-md border border-gray-200 bg-gray-100 dark:hidden" style="color:transparent" srcset="/_next/image?url=%2Fdocs%2Flight%2Ftemplate-special-file.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2Fdocs%2Flight%2Ftemplate-special-file.png&amp;w=3840&amp;q=75 2x" src="https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Ftemplate-special-file.png&amp;w=3840&amp;q=75"><img alt="template.js special file" loading="lazy" width="1600" height="444" decoding="async" data-nimg="1" class="hidden rounded-md border border-gray-200 bg-gray-100 dark:block" style="color:transparent" srcset="/_next/image?url=%2Fdocs%2Fdark%2Ftemplate-special-file.png&amp;w=1920&amp;q=75 1x, /_next/image?url=%2Fdocs%2Fdark%2Ftemplate-special-file.png&amp;w=3840&amp;q=75 2x" src="https://nextjs.org/_next/image?url=%2Fdocs%2Fdark%2Ftemplate-special-file.png&amp;w=3840&amp;q=75"></figure> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">export default function Template({ children }: { children: React.ReactNode }) {
  return &lt;div&gt;{children}&lt;/div&gt;
}</pre></div>  <p>In terms of nesting, <code>template.js</code> is rendered between a layout and its children. Here's a simplified output:</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">&lt;Layout&gt;
  {/* Note that the template is given a unique key. */}
  &lt;Template key={routeParam}&gt;{children}&lt;/Template&gt;
&lt;/Layout&gt;</pre></div> <h2 id="metadata" data-docs-heading="">Metadata     </h2> <p>In the <code>app</code> directory, you can modify the <code>&lt;head&gt;</code> HTML elements such as <code>title</code> and <code>meta</code> using the <a href="../optimizing/metadata.html">Metadata APIs</a>.</p> <p>Metadata can be defined by exporting a <a href="../../api-reference/functions/generate-metadata.html#the-metadata-object"><code>metadata</code> object</a> or <a href="../../api-reference/functions/generate-metadata.html#generatemetadata-function"><code>generateMetadata</code> function</a> in a <a href="../../api-reference/file-conventions/layout.html"><code>layout.js</code></a> or <a href="../../api-reference/file-conventions/page.html"><code>page.js</code></a> file.</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">import { Metadata } from 'next'
 
export const metadata: Metadata = {
  title: 'Next.js',
}
 
export default function Page() {
  return '...'
}</pre></div>  <blockquote class="p-3 text-sm"> <p><strong>Good to know</strong>: You should <strong>not</strong> manually add <code>&lt;head&gt;</code> tags such as <code>&lt;title&gt;</code> and <code>&lt;meta&gt;</code> to root layouts. Instead, you should use the <a href="../../api-reference/functions/generate-metadata.html">Metadata API</a> which automatically handles advanced requirements such as streaming and de-duplicating <code>&lt;head&gt;</code> elements.</p> </blockquote> <p>Learn more about available metadata options in the <a href="../../api-reference/functions/generate-metadata.html">API reference</a></p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2024 Vercel, Inc.<br>Licensed under the MIT License.<br>
    <a href="https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts" class="_attribution-link">https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts</a>
  </p>
</div>
