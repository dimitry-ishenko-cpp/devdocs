<h1 class="break-words">Turbopack</h1>
<p><a href="https://turbo.build/pack" rel="noopener noreferrer" target="_blank">Turbopack</a> (beta) is an incremental bundler optimized for JavaScript and TypeScript, written in Rust, and built into Next.js.</p> <h2 id="usage" data-docs-heading="">Usage     </h2> <p>Turbopack can be used in Next.js in both the <code>pages</code> and <code>app</code> directories for faster local development. To enable Turbopack, use the <code>--turbo</code> flag when running the Next.js development server.</p> <div class="code-block_wrapper__t6FCO code-block_hasFileName__ezlBD not-prose"><pre class="code-block_pre___OLfy" data-language="typescript">{
  "scripts": {
    "dev": "next dev --turbo",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  }
}</pre></div> <h2 id="supported-features" data-docs-heading="">Supported features     </h2> <p>Turbopack in Next.js requires zero-configuration for most users and can be extended for more advanced use cases. To learn more about the currently supported features for Turbopack, view the <a href="../app/api-reference/next-config-js/turbo.html">API Reference</a>.</p> <h2 id="unsupported-features" data-docs-heading="">Unsupported features     </h2> <p>Turbopack currently only supports <code>next dev</code> and does not support <code>next build</code>. We are currently working on support for builds as we move closer towards stability.</p> <p>These features are currently not supported:</p> <ul> <li>
<a href="../app/api-reference/next-config-js/webpack.html"><code>webpack()</code></a> configuration in <code>next.config.js</code> <ul> <li>Turbopack replaces Webpack, this means that webpack configuration is not supported.</li> <li>To configure Turbopack, <a href="../app/api-reference/next-config-js/turbo.html">see the documentation</a>.</li> <li>A subset of <a href="../app/api-reference/next-config-js/turbo.html#webpack-loaders">Webpack loaders</a> are supported in Turbopack.</li> </ul> </li> <li>Babel (<code>.babelrc</code>) <ul> <li>Turbopack leverages the <a href="nextjs-compiler.html#why-swc">SWC</a> compiler for all transpilation and optimizations. This means that Babel is not included by default.</li> <li>If you have a <code>.babelrc</code> file, you might no longer need it because Next.js includes common Babel plugins as SWC transforms that can be enabled. You can read more about this in the <a href="docs/architecture/nextjs-compiler.html#supported-features">compiler documentation</a>.</li> <li>If you still need to use Babel after verifying your particular use case is not covered, you can leverage Turbopack's <a href="../app/api-reference/next-config-js/turbo.html#webpack-loaders">support for custom webpack loaders</a> to include <code>babel-loader</code>.</li> </ul> </li> <li>Creating a root layout automatically in App Router. <ul> <li>This behavior is currently not supported since it changes input files, instead, an error will be shown for you manually add a root layout in the desired location.</li> </ul> </li> <li>
<code>@next/font</code> (legacy font support). <ul> <li>
<code>@next/font</code> is deprecated in favor of <code>next/font</code>. <a href="../app/building-your-application/optimizing/fonts.html"><code>next/font</code></a> is fully supported with Turbopack.</li> </ul> </li> <li>
<code>new Worker('file', import.meta.url)</code>. <ul> <li>We are planning to implement this in the future.</li> </ul> </li> <li>
<a href="nextjs-compiler.html#relay">Relay transforms</a> <ul> <li>We are planning to implement this in the future.</li> </ul> </li> <li>
<code>experimental.nextScriptWorkers</code> <ul> <li>We are planning to implement this in the future.</li> </ul> </li> <li>
<a href="../pages/building-your-application/configuring/amp.html">AMP</a>. <ul> <li>We are currently not planning to support AMP in Next.js with Turbopack.</li> </ul> </li> <li>Yarn PnP <ul> <li>We are currently not planning to support Yarn PnP in Next.js with Turbopack.</li> </ul> </li> <li>
<a href="../app/api-reference/next-config-js/urlimports.html"><code>experimental.urlImports</code></a> <ul> <li>We are currently not planning to support <code>experimental.urlImports</code> in Next.js with Turbopack.</li> </ul> </li> </ul> <h2 id="generating-trace-files" data-docs-heading="">Generating Trace Files     </h2> <p>Trace files allow the Next.js team to investigate and improve performance metrics and memory usage. To generate a trace file, append <code>NEXT_TURBOPACK_TRACING=1</code> to the <code>next dev --turbo</code> command, this will generate a <code>.next/trace.log</code> file.</p> <p>When reporting issues related to Turbopack performance and memory usage, please include the trace file in your <a href="https://github.com/vercel/next.js" rel="noopener noreferrer" target="_blank">GitHub</a> issue.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2024 Vercel, Inc.<br>Licensed under the MIT License.<br>
    <a href="https://nextjs.org/docs/architecture/turbopack" class="_attribution-link">https://nextjs.org/docs/architecture/turbopack</a>
  </p>
</div>
