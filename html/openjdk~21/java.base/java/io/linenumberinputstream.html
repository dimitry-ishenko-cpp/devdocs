<h1 title="Class LineNumberInputStream" class="title">Class LineNumberInputStream</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../lang/object.html" title="class in java.lang">java.lang.Object</a> <div class="inheritance">
<a href="inputstream.html" title="class in java.io">java.io.InputStream</a> <div class="inheritance">
<a href="filterinputstream.html" title="class in java.io">java.io.FilterInputStream</a> <div class="inheritance">java.io.LineNumberInputStream</div> </div> </div> </div> <section class="class-description" id="class-description"> <dl class="notes"> <dt>All Implemented Interfaces:</dt> <dd>
<code><a href="closeable.html" title="interface in java.io">Closeable</a></code>, <code><a href="../lang/autocloseable.html" title="interface in java.lang">AutoCloseable</a></code>
</dd> </dl>  <pre class="lang-java" data-language="java">@Deprecated public class LineNumberInputStream extends FilterInputStream</pre> <div class="deprecation-block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">This class incorrectly assumes that bytes adequately represent characters. As of JDK 1.1, the preferred way to operate on character streams is via the new character-stream classes, which include a class for counting line numbers.</div> </div> <div class="block">This class is an input stream filter that provides the added functionality of keeping track of the current line number. <p> A line is a sequence of bytes ending with a carriage return character (<code>'\r'</code>), a newline character (<code>'\n'</code>), or a carriage return character followed immediately by a linefeed character. In all three cases, the line terminating character(s) are returned as a single newline character. </p>
<p> The line number begins at <code>0</code>, and is incremented by <code>1</code> when a <code>read</code> returns a newline character.</p>
</div> <dl class="notes"> <dt>Since:</dt> <dd>1.0</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="linenumberreader.html" title="class in java.io"><code>LineNumberReader</code></a></li> </ul> </dd> </dl> </section> <section class="summary"> <section class="field-summary" id="field-summary"> <h2>Field Summary</h2> <div class="inherited-list"> <h3 id="fields-inherited-from-class-java.io.FilterInputStream">Fields declared in class java.io.<a href="filterinputstream.html" title="class in java.io">FilterInputStream</a>
</h3> <code><a href="filterinputstream.html#in">in</a></code>
</div> </section><section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table two-column-summary">     <tr>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E(java.io.InputStream)" class="member-name-link">LineNumberInputStream</a><wbr>(<a href="inputstream.html" title="class in java.io">InputStream</a> in)</wbr></code></td>
<td> <div class="block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Constructs a newline number input stream that reads its input from the specified input stream.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                            <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#available()" class="member-name-link">available</a>()</code></td>
<td> <div class="block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Returns the number of bytes that can be read from this input stream without blocking.</div> </td>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#getLineNumber()" class="member-name-link">getLineNumber</a>()</code></td>
<td> <div class="block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Returns the current line number.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#mark(int)" class="member-name-link">mark</a><wbr>(int readlimit)</wbr></code></td>
<td> <div class="block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Marks the current position in this input stream.</div> </td>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#read()" class="member-name-link">read</a>()</code></td>
<td> <div class="block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Reads the next byte of data from this input stream.</div> </td>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#read(byte%5B%5D,int,int)" class="member-name-link">read</a><wbr>(byte[] b,
 int off,
 int len)</wbr></code></td>
<td> <div class="block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Reads up to <code>len</code> bytes of data from this input stream into an array of bytes.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#reset()" class="member-name-link">reset</a>()</code></td>
<td> <div class="block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Repositions this stream to the position at the time the <code>mark</code> method was last called on this input stream.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#setLineNumber(int)" class="member-name-link">setLineNumber</a><wbr>(int lineNumber)</wbr></code></td>
<td> <div class="block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Sets the line number to the specified argument.</div> </td>
</tr>
<tr>
<td><code>long</code></td>
<td><code><a href="#skip(long)" class="member-name-link">skip</a><wbr>(long n)</wbr></code></td>
<td> <div class="block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Skips over and discards <code>n</code> bytes of data from this input stream.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.io.FilterInputStream">Methods declared in class java.io.<a href="filterinputstream.html" title="class in java.io">FilterInputStream</a>
</h3> <code><a href="filterinputstream.html#close()">close</a>, <a href="filterinputstream.html#markSupported()">markSupported</a>, <a href="filterinputstream.html#read(byte%5B%5D)">read</a></code>
</div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.io.InputStream">Methods declared in class java.io.<a href="inputstream.html" title="class in java.io">InputStream</a>
</h3> <code><a href="inputstream.html#nullInputStream()">nullInputStream</a>, <a href="inputstream.html#readAllBytes()">readAllBytes</a>, <a href="inputstream.html#readNBytes(byte%5B%5D,int,int)">readNBytes</a>, <a href="inputstream.html#readNBytes(int)">readNBytes</a>, <a href="inputstream.html#skipNBytes(long)">skipNBytes</a>, <a href="inputstream.html#transferTo(java.io.OutputStream)">transferTo</a></code>
</div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../lang/object.html" title="class in java.lang">Object</a>
</h3> <code><a href="../lang/object.html#clone()">clone</a>, <a href="../lang/object.html#equals(java.lang.Object)">equals</a>, <a href="../lang/object.html#finalize()">finalize</a>, <a href="../lang/object.html#getClass()">getClass</a>, <a href="../lang/object.html#hashCode()">hashCode</a>, <a href="../lang/object.html#notify()">notify</a>, <a href="../lang/object.html#notifyAll()">notifyAll</a>, <a href="../lang/object.html#toString()">toString</a>, <a href="../lang/object.html#wait()">wait</a>, <a href="../lang/object.html#wait(long)">wait</a>, <a href="../lang/object.html#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;(java.io.InputStream)"> <h3>LineNumberInputStream</h3> <pre class="lang-java" data-language="java">public LineNumberInputStream(InputStream in)</pre> <div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Constructs a newline number input stream that reads its input from the specified input stream.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>in</code> - the underlying input stream.</dd> </dl> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="read()"> <h3>read</h3> <pre class="lang-java" data-language="java">public int read() throws IOException</pre> <div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Reads the next byte of data from this input stream. The value byte is returned as an <code>int</code> in the range <code>0</code> to <code>255</code>. If no byte is available because the end of the stream has been reached, the value <code>-1</code> is returned. This method blocks until input data is available, the end of the stream is detected, or an exception is thrown. <p> The <code>read</code> method of <code>LineNumberInputStream</code> calls the <code>read</code> method of the underlying input stream. It checks for carriage returns and newline characters in the input, and modifies the current line number as appropriate. A carriage-return character or a carriage return followed by a newline character are both converted into a single newline character.</p>
</div> <dl class="notes"> <dt>Overrides:</dt> <dd>
<code><a href="filterinputstream.html#read()">read</a></code> in class <code><a href="filterinputstream.html" title="class in java.io">FilterInputStream</a></code>
</dd> <dt>Returns:</dt> <dd>the next byte of data, or <code>-1</code> if the end of this stream is reached.</dd> <dt>Throws:</dt> <dd>
<code><a href="ioexception.html" title="class in java.io">IOException</a></code> - if an I/O error occurs.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="filterinputstream.html#in"><code>FilterInputStream.in</code></a></li> <li><a href="#getLineNumber()"><code>getLineNumber()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="read(byte[],int,int)"> <h3>read</h3> <pre class="lang-java" data-language="java">public int read(byte[] b, int off, int len) throws IOException</pre> <div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Reads up to <code>len</code> bytes of data from this input stream into an array of bytes. This method blocks until some input is available. <p> The <code>read</code> method of <code>LineNumberInputStream</code> repeatedly calls the <code>read</code> method of zero arguments to fill in the byte array.</p>
</div> <dl class="notes"> <dt>Overrides:</dt> <dd>
<code><a href="filterinputstream.html#read(byte%5B%5D,int,int)">read</a></code> in class <code><a href="filterinputstream.html" title="class in java.io">FilterInputStream</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>b</code> - the buffer into which the data is read.</dd> <dd>
<code>off</code> - the start offset of the data.</dd> <dd>
<code>len</code> - the maximum number of bytes read.</dd> <dt>Returns:</dt> <dd>the total number of bytes read into the buffer, or <code>-1</code> if there is no more data because the end of this stream has been reached.</dd> <dt>Throws:</dt> <dd>
<code><a href="ioexception.html" title="class in java.io">IOException</a></code> - if an I/O error occurs.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="#read()"><code>read()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="skip(long)"> <h3>skip</h3> <pre class="lang-java" data-language="java">public long skip(long n) throws IOException</pre> <div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Skips over and discards <code>n</code> bytes of data from this input stream. The <code>skip</code> method may, for a variety of reasons, end up skipping over some smaller number of bytes, possibly <code>0</code>. The actual number of bytes skipped is returned. If <code>n</code> is negative, no bytes are skipped. <p> The <code>skip</code> method of <code>LineNumberInputStream</code> creates a byte array and then repeatedly reads into it until <code>n</code> bytes have been read or the end of the stream has been reached.</p>
</div> <dl class="notes"> <dt>Overrides:</dt> <dd>
<code><a href="filterinputstream.html#skip(long)">skip</a></code> in class <code><a href="filterinputstream.html" title="class in java.io">FilterInputStream</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>n</code> - the number of bytes to be skipped.</dd> <dt>Returns:</dt> <dd>the actual number of bytes skipped.</dd> <dt>Throws:</dt> <dd>
<code><a href="ioexception.html" title="class in java.io">IOException</a></code> - if an I/O error occurs.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="filterinputstream.html#in"><code>FilterInputStream.in</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="setLineNumber(int)"> <h3>setLineNumber</h3> <pre class="lang-java" data-language="java">public void setLineNumber(int lineNumber)</pre> <div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Sets the line number to the specified argument.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>lineNumber</code> - the new line number.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="#getLineNumber()"><code>getLineNumber()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="getLineNumber()"> <h3>getLineNumber</h3> <pre class="lang-java" data-language="java">public int getLineNumber()</pre> <div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Returns the current line number.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the current line number.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="#setLineNumber(int)"><code>setLineNumber(int)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="available()"> <h3>available</h3> <pre class="lang-java" data-language="java">public int available() throws IOException</pre> <div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Returns the number of bytes that can be read from this input stream without blocking. <p> Note that if the underlying input stream is able to supply <i>k</i> input characters without blocking, the <code>LineNumberInputStream</code> can guarantee only to provide <i>k</i>/2 characters without blocking, because the <i>k</i> characters from the underlying input stream might consist of <i>k</i>/2 pairs of <code>'\r'</code> and <code>'\n'</code>, which are converted to just <i>k</i>/2 <code>'\n'</code> characters.</p>
</div> <dl class="notes"> <dt>Overrides:</dt> <dd>
<code><a href="filterinputstream.html#available()">available</a></code> in class <code><a href="filterinputstream.html" title="class in java.io">FilterInputStream</a></code>
</dd> <dt>Returns:</dt> <dd>the number of bytes that can be read from this input stream without blocking.</dd> <dt>Throws:</dt> <dd>
<code><a href="ioexception.html" title="class in java.io">IOException</a></code> - if an I/O error occurs.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="filterinputstream.html#in"><code>FilterInputStream.in</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="mark(int)"> <h3>mark</h3> <pre class="lang-java" data-language="java">public void mark(int readlimit)</pre> <div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Marks the current position in this input stream. A subsequent call to the <code>reset</code> method repositions this stream at the last marked position so that subsequent reads re-read the same bytes. <p> The <code>mark</code> method of <code>LineNumberInputStream</code> remembers the current line number in a private variable, and then calls the <code>mark</code> method of the underlying input stream.</p>
</div> <dl class="notes"> <dt>Overrides:</dt> <dd>
<code><a href="filterinputstream.html#mark(int)">mark</a></code> in class <code><a href="filterinputstream.html" title="class in java.io">FilterInputStream</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>readlimit</code> - the maximum limit of bytes that can be read before the mark position becomes invalid.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="filterinputstream.html#in"><code>FilterInputStream.in</code></a></li> <li><a href="#reset()"><code>reset()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="reset()"> <h3>reset</h3> <pre class="lang-java" data-language="java">public void reset() throws IOException</pre> <div class="deprecation-block"><span class="deprecated-label">Deprecated.</span></div> <div class="block">Repositions this stream to the position at the time the <code>mark</code> method was last called on this input stream. <p> The <code>reset</code> method of <code>LineNumberInputStream</code> resets the line number to be the line number at the time the <code>mark</code> method was called, and then calls the <code>reset</code> method of the underlying input stream. </p>
<p> Stream marks are intended to be used in situations where you need to read ahead a little to see what's in the stream. Often this is most easily done by invoking some general parser. If the stream is of the type handled by the parser, it just chugs along happily. If the stream is not of that type, the parser should toss an exception when it fails, which, if it happens within readlimit bytes, allows the outer code to reset the stream and try another parser.</p>
</div> <dl class="notes"> <dt>Overrides:</dt> <dd>
<code><a href="filterinputstream.html#reset()">reset</a></code> in class <code><a href="filterinputstream.html" title="class in java.io">FilterInputStream</a></code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="ioexception.html" title="class in java.io">IOException</a></code> - if an I/O error occurs.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="filterinputstream.html#in"><code>FilterInputStream.in</code></a></li> <li><a href="#mark(int)"><code>mark(int)</code></a></li> </ul> </dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/LineNumberInputStream.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/LineNumberInputStream.html</a>
  </p>
</div>
