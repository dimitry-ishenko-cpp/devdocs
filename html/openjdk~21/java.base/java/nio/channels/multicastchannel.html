<h1 title="Interface MulticastChannel" class="title">Interface MulticastChannel</h1> <section class="class-description" id="class-description"> <dl class="notes"> <dt>All Superinterfaces:</dt> <dd>
<code><a href="../../lang/autocloseable.html" title="interface in java.lang">AutoCloseable</a></code>, <code><a href="channel.html" title="interface in java.nio.channels">Channel</a></code>, <code><a href="../../io/closeable.html" title="interface in java.io">Closeable</a></code>, <code><a href="networkchannel.html" title="interface in java.nio.channels">NetworkChannel</a></code>
</dd> </dl> <dl class="notes"> <dt>All Known Implementing Classes:</dt> <dd><code><a href="datagramchannel.html" title="class in java.nio.channels">DatagramChannel</a></code></dd> </dl>  <pre class="lang-java" data-language="java">public interface MulticastChannel extends NetworkChannel</pre> <div class="block">A network channel that supports Internet Protocol (IP) multicasting. <p> IP multicasting is the transmission of IP datagrams to members of a <em>group</em> that is zero or more hosts identified by a single destination address. </p>
<p> In the case of a channel to an <a href="../../net/standardprotocolfamily.html#INET"><code>IPv4</code></a> socket, the underlying operating system optionally supports <a href="http://www.ietf.org/rfc/rfc2236.txt"> <i>RFC 2236: Internet Group Management Protocol, Version 2 (IGMPv2)</i></a>. When IGMPv2 is supported then the operating system may additionally support source filtering as specified by <a href="http://www.ietf.org/rfc/rfc3376.txt"> <i>RFC 3376: Internet Group Management Protocol, Version 3 (IGMPv3)</i></a>. For channels to an <a href="../../net/standardprotocolfamily.html#INET6"><code>IPv6</code></a> socket, the equivalent standards are <a href="http://www.ietf.org/rfc/rfc2710.txt"> <i>RFC 2710: Multicast Listener Discovery (MLD) for IPv6</i></a> and <a href="http://www.ietf.org/rfc/rfc3810.txt"> <i>RFC 3810: Multicast Listener Discovery Version 2 (MLDv2) for IPv6</i></a>. </p>
<p> The <a href="#join(java.net.InetAddress,java.net.NetworkInterface)"><code>join(InetAddress,NetworkInterface)</code></a> method is used to join a group and receive all multicast datagrams sent to the group. A channel may join several multicast groups and may join the same group on several <a href="../../net/networkinterface.html" title="class in java.net"><code>interfaces</code></a>. Membership is dropped by invoking the <a href="membershipkey.html#drop()"><code>drop</code></a> method on the returned <a href="membershipkey.html" title="class in java.nio.channels"><code>MembershipKey</code></a>. If the underlying platform supports source filtering then the <a href="membershipkey.html#block(java.net.InetAddress)"><code>block</code></a> and <a href="membershipkey.html#unblock(java.net.InetAddress)"><code>unblock</code></a> methods can be used to block or unblock multicast datagrams from particular source addresses. </p>
<p> The <a href="#join(java.net.InetAddress,java.net.NetworkInterface,java.net.InetAddress)"><code>join(InetAddress,NetworkInterface,InetAddress)</code></a> method is used to begin receiving datagrams sent to a group whose source address matches a given source address. This method throws <a href="../../lang/unsupportedoperationexception.html" title="class in java.lang"><code>UnsupportedOperationException</code></a> if the underlying platform does not support source filtering. Membership is <em>cumulative</em> and this method may be invoked again with the same group and interface to allow receiving datagrams from other source addresses. The method returns a <a href="membershipkey.html" title="class in java.nio.channels"><code>MembershipKey</code></a> that represents membership to receive datagrams from the given source address. Invoking the key's <a href="membershipkey.html#drop()"><code>drop</code></a> method drops membership so that datagrams from the source address can no longer be received. </p>
<h2 id="platform-dependencies-heading">Platform dependencies</h2> The multicast implementation is intended to map directly to the native multicasting facility. Consequently, the following items should be considered when developing an application that receives IP multicast datagrams: <ol> <li><p> The creation of the channel should specify the <a href="../../net/protocolfamily.html" title="interface in java.net"><code>ProtocolFamily</code></a> that corresponds to the address type of the multicast groups that the channel will join. There is no guarantee that a channel to a socket in one protocol family can join and receive multicast datagrams when the address of the multicast group corresponds to another protocol family. For example, it is implementation specific if a channel to an <a href="../../net/standardprotocolfamily.html#INET6"><code>IPv6</code></a> socket can join an <a href="../../net/standardprotocolfamily.html#INET"><code>IPv4</code></a> multicast group and receive multicast datagrams sent to the group. </p></li> <li><p> The channel's socket should be bound to the <a href="../../net/inetaddress.html#isAnyLocalAddress()"><code>wildcard</code></a> address. If the socket is bound to a specific address, rather than the wildcard address then it is implementation specific if multicast datagrams are received by the socket. </p></li> <li><p> The <a href="../../net/standardsocketoptions.html#SO_REUSEADDR"><code>SO_REUSEADDR</code></a> option should be enabled prior to <a href="networkchannel.html#bind(java.net.SocketAddress)"><code>binding</code></a> the socket. This is required to allow multiple members of the group to bind to the same address. </p></li> </ol> <p> <b>Usage Example:</b> </p>
<div class="snippet-container"> <pre class="lang-java" data-language="java"><code class="language-java">    // join multicast group on this interface, and also use this
    // interface for outgoing multicast datagrams
    NetworkInterface ni = NetworkInterface.getByName("hme0");

    DatagramChannel dc = DatagramChannel.open(StandardProtocolFamily.INET)
        .setOption(StandardSocketOptions.SO_REUSEADDR, true)
        .bind(new InetSocketAddress(5000))
        .setOption(StandardSocketOptions.IP_MULTICAST_IF, ni);

    InetAddress group = InetAddress.getByName("225.4.5.6");

    MembershipKey key = dc.join(group, ni);
</code></pre> </div> </div> <dl class="notes"> <dt>Since:</dt> <dd>1.7</dd> <dt>External Specifications</dt> <dd> <ul class="tag-list-long"> <li><a href="https://www.rfc-editor.org/info/rfc2236"><span id="RFC2236:InternetGroupManagementProtocol,Version2" class="search-tag-result">RFC 2236: Internet Group Management Protocol, Version 2</span></a></li> <li><a href="https://www.rfc-editor.org/info/rfc2710"><span id="RFC2710:MulticastListenerDiscovery(MLD)forIPv6" class="search-tag-result">RFC 2710: Multicast Listener Discovery (MLD) for IPv6</span></a></li> <li><a href="https://www.rfc-editor.org/info/rfc3376"><span id="RFC3376:InternetGroupManagementProtocol,Version3" class="search-tag-result">RFC 3376: Internet Group Management Protocol, Version 3</span></a></li> <li><a href="https://www.rfc-editor.org/info/rfc3810"><span id="RFC3810:MulticastListenerDiscoveryVersion2(MLDv2)forIPv6" class="search-tag-result">RFC 3810: Multicast Listener Discovery Version 2 (MLDv2) for IPv6</span></a></li> </ul> </dd> </dl> </section> <section class="summary"> <section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">             <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#close()" class="member-name-link">close</a>()</code></td>
<td> <div class="block">Closes this channel.</div> </td>
</tr>
<tr>
<td><code><a href="membershipkey.html" title="class in java.nio.channels">MembershipKey</a></code></td>
<td><code><a href="#join(java.net.InetAddress,java.net.NetworkInterface)" class="member-name-link">join</a><wbr>(<a href="../../net/inetaddress.html" title="class in java.net">InetAddress</a> group,
 <a href="../../net/networkinterface.html" title="class in java.net">NetworkInterface</a> interf)</wbr></code></td>
<td> <div class="block">Joins a multicast group to begin receiving all datagrams sent to the group, returning a membership key.</div> </td>
</tr>
<tr>
<td><code><a href="membershipkey.html" title="class in java.nio.channels">MembershipKey</a></code></td>
<td><code><a href="#join(java.net.InetAddress,java.net.NetworkInterface,java.net.InetAddress)" class="member-name-link">join</a><wbr>(<a href="../../net/inetaddress.html" title="class in java.net">InetAddress</a> group,
 <a href="../../net/networkinterface.html" title="class in java.net">NetworkInterface</a> interf,
 <a href="../../net/inetaddress.html" title="class in java.net">InetAddress</a> source)</wbr></code></td>
<td> <div class="block">Joins a multicast group to begin receiving datagrams sent to the group from a given source address.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.nio.channels.Channel">Methods declared in interface java.nio.channels.<a href="channel.html" title="interface in java.nio.channels">Channel</a>
</h3> <code><a href="channel.html#isOpen()">isOpen</a></code>
</div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.nio.channels.NetworkChannel">Methods declared in interface java.nio.channels.<a href="networkchannel.html" title="interface in java.nio.channels">NetworkChannel</a>
</h3> <code><a href="networkchannel.html#bind(java.net.SocketAddress)">bind</a>, <a href="networkchannel.html#getLocalAddress()">getLocalAddress</a>, <a href="networkchannel.html#getOption(java.net.SocketOption)">getOption</a>, <a href="networkchannel.html#setOption(java.net.SocketOption,T)">setOption</a>, <a href="networkchannel.html#supportedOptions()">supportedOptions</a></code>
</div> </section> </section> <section class="details"> <section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="close()"> <h3>close</h3> <pre class="lang-java" data-language="java">void close() throws IOException</pre> <div class="block">Closes this channel. <p> If the channel is a member of a multicast group then the membership is <a href="membershipkey.html#drop()"><code>dropped</code></a>. Upon return, the <a href="membershipkey.html" title="class in java.nio.channels"><code>membership-key</code></a> will be <a href="membershipkey.html#isValid()"><code>invalid</code></a>. </p>
<p> This method otherwise behaves exactly as specified by the <a href="channel.html" title="interface in java.nio.channels"><code>Channel</code></a> interface.</p>
</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="../../lang/autocloseable.html#close()">close</a></code> in interface <code><a href="../../lang/autocloseable.html" title="interface in java.lang">AutoCloseable</a></code>
</dd> <dt>Specified by:</dt> <dd>
<code><a href="channel.html#close()">close</a></code> in interface <code><a href="channel.html" title="interface in java.nio.channels">Channel</a></code>
</dd> <dt>Specified by:</dt> <dd>
<code><a href="../../io/closeable.html#close()">close</a></code> in interface <code><a href="../../io/closeable.html" title="interface in java.io">Closeable</a></code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../io/ioexception.html" title="class in java.io">IOException</a></code> - If an I/O error occurs</dd> </dl> </section><section class="detail" id="join(java.net.InetAddress,java.net.NetworkInterface)"> <h3>join</h3> <pre class="lang-java" data-language="java">MembershipKey join(InetAddress group, NetworkInterface interf) throws IOException</pre> <div class="block">Joins a multicast group to begin receiving all datagrams sent to the group, returning a membership key. <p> If this channel is currently a member of the group on the given interface to receive all datagrams then the membership key, representing that membership, is returned. Otherwise this channel joins the group and the resulting new membership key is returned. The resulting membership key is not <a href="membershipkey.html#sourceAddress()"><code>source-specific</code></a>. </p>
<p> A multicast channel may join several multicast groups, including the same group on more than one interface. An implementation may impose a limit on the number of groups that may be joined at the same time.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>group</code> - The multicast address to join</dd> <dd>
<code>interf</code> - The network interface on which to join the group</dd> <dt>Returns:</dt> <dd>The membership key</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/illegalargumentexception.html" title="class in java.lang">IllegalArgumentException</a></code> - If the group parameter is not a <a href="../../net/inetaddress.html#isMulticastAddress()"><code>multicast</code></a> address, or the group parameter is an address type that is not supported by this channel</dd> <dd>
<code><a href="../../lang/illegalstateexception.html" title="class in java.lang">IllegalStateException</a></code> - If the channel already has source-specific membership of the group on the interface</dd> <dd>
<code><a href="../../lang/unsupportedoperationexception.html" title="class in java.lang">UnsupportedOperationException</a></code> - If the channel's socket is not an Internet Protocol socket, or the platform does not support multicasting</dd> <dd>
<code><a href="closedchannelexception.html" title="class in java.nio.channels">ClosedChannelException</a></code> - If this channel is closed</dd> <dd>
<code><a href="../../io/ioexception.html" title="class in java.io">IOException</a></code> - If an I/O error occurs</dd> <dd>
<code><a href="../../lang/securityexception.html" title="class in java.lang">SecurityException</a></code> - If a security manager is set, and its <a href="../../lang/securitymanager.html#checkMulticast(java.net.InetAddress)"><code>checkMulticast</code></a> method denies access to the multicast group</dd> </dl> </section><section class="detail" id="join(java.net.InetAddress,java.net.NetworkInterface,java.net.InetAddress)"> <h3>join</h3> <pre class="lang-java" data-language="java">MembershipKey join(InetAddress group, NetworkInterface interf, InetAddress source) throws IOException</pre> <div class="block">Joins a multicast group to begin receiving datagrams sent to the group from a given source address. <p> If this channel is currently a member of the group on the given interface to receive datagrams from the given source address then the membership key, representing that membership, is returned. Otherwise this channel joins the group and the resulting new membership key is returned. The resulting membership key is <a href="membershipkey.html#sourceAddress()"><code>source-specific</code></a>. </p>
<p> Membership is <em>cumulative</em> and this method may be invoked again with the same group and interface to allow receiving datagrams sent by other source addresses to the group.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>group</code> - The multicast address to join</dd> <dd>
<code>interf</code> - The network interface on which to join the group</dd> <dd>
<code>source</code> - The source address</dd> <dt>Returns:</dt> <dd>The membership key</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/illegalargumentexception.html" title="class in java.lang">IllegalArgumentException</a></code> - If the group parameter is not a <a href="../../net/inetaddress.html#isMulticastAddress()"><code>multicast</code></a> address, the source parameter is not a unicast address, the group parameter is an address type that is not supported by this channel, or the source parameter is not the same address type as the group</dd> <dd>
<code><a href="../../lang/illegalstateexception.html" title="class in java.lang">IllegalStateException</a></code> - If the channel is currently a member of the group on the given interface to receive all datagrams</dd> <dd>
<code><a href="../../lang/unsupportedoperationexception.html" title="class in java.lang">UnsupportedOperationException</a></code> - If the channel's socket is not an Internet Protocol socket, or source filtering is not supported, or the platform does not support multicasting</dd> <dd>
<code><a href="closedchannelexception.html" title="class in java.nio.channels">ClosedChannelException</a></code> - If this channel is closed</dd> <dd>
<code><a href="../../io/ioexception.html" title="class in java.io">IOException</a></code> - If an I/O error occurs</dd> <dd>
<code><a href="../../lang/securityexception.html" title="class in java.lang">SecurityException</a></code> - If a security manager is set, and its <a href="../../lang/securitymanager.html#checkMulticast(java.net.InetAddress)"><code>checkMulticast</code></a> method denies access to the multicast group</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/channels/MulticastChannel.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/channels/MulticastChannel.html</a>
  </p>
</div>
