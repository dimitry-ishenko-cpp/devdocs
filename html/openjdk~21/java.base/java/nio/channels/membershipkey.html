<h1 title="Class MembershipKey" class="title">Class MembershipKey</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../lang/object.html" title="class in java.lang">java.lang.Object</a> <div class="inheritance">java.nio.channels.MembershipKey</div> </div> <section class="class-description" id="class-description">  <pre class="lang-java" data-language="java">public abstract class MembershipKey extends Object</pre> <div class="block">A token representing the membership of an Internet Protocol (IP) multicast group. <p> A membership key may represent a membership to receive all datagrams sent to the group, or it may be <em>source-specific</em>, meaning that it represents a membership that receives only datagrams from a specific source address. Whether or not a membership key is source-specific may be determined by invoking its <a href="#sourceAddress()"><code>sourceAddress</code></a> method. </p>
<p> A membership key is valid upon creation and remains valid until the membership is dropped by invoking the <a href="#drop()"><code>drop</code></a> method, or the channel is closed. The validity of the membership key may be tested by invoking its <a href="#isValid()"><code>isValid</code></a> method. </p>
<p> Where a membership key is not source-specific and the underlying operation system supports source filtering, then the <a href="#block(java.net.InetAddress)"><code>block</code></a> and <a href="#unblock(java.net.InetAddress)"><code>unblock</code></a> methods can be used to block or unblock multicast datagrams from particular source addresses.</p>
</div> <dl class="notes"> <dt>Since:</dt> <dd>1.7</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="multicastchannel.html" title="interface in java.nio.channels"><code>MulticastChannel</code></a></li> </ul> </dd> </dl> </section> <section class="summary"> <section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table three-column-summary">     <div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">MembershipKey</a>()</code></div>  <tr>
<th>Modifier</th>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code>protected </code></td>
<td> <div class="block">Initializes a new instance of this class.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                            <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>abstract <a href="membershipkey.html" title="class in java.nio.channels">MembershipKey</a></code></td>
<td><code><a href="#block(java.net.InetAddress)" class="member-name-link">block</a><wbr>(<a href="../../net/inetaddress.html" title="class in java.net">InetAddress</a> source)</wbr></code></td>
<td> <div class="block">Block multicast datagrams from the given source address.</div> </td>
</tr>
<tr>
<td><code>abstract <a href="multicastchannel.html" title="interface in java.nio.channels">MulticastChannel</a></code></td>
<td><code><a href="#channel()" class="member-name-link">channel</a>()</code></td>
<td> <div class="block">Returns the channel for which this membership key was created.</div> </td>
</tr>
<tr>
<td><code>abstract void</code></td>
<td><code><a href="#drop()" class="member-name-link">drop</a>()</code></td>
<td> <div class="block">Drop membership.</div> </td>
</tr>
<tr>
<td><code>abstract <a href="../../net/inetaddress.html" title="class in java.net">InetAddress</a></code></td>
<td><code><a href="#group()" class="member-name-link">group</a>()</code></td>
<td> <div class="block">Returns the multicast group for which this membership key was created.</div> </td>
</tr>
<tr>
<td><code>abstract boolean</code></td>
<td><code><a href="#isValid()" class="member-name-link">isValid</a>()</code></td>
<td> <div class="block">Tells whether or not this membership is valid.</div> </td>
</tr>
<tr>
<td><code>abstract <a href="../../net/networkinterface.html" title="class in java.net">NetworkInterface</a></code></td>
<td><code><a href="#networkInterface()" class="member-name-link">networkInterface</a>()</code></td>
<td> <div class="block">Returns the network interface for which this membership key was created.</div> </td>
</tr>
<tr>
<td><code>abstract <a href="../../net/inetaddress.html" title="class in java.net">InetAddress</a></code></td>
<td><code><a href="#sourceAddress()" class="member-name-link">sourceAddress</a>()</code></td>
<td> <div class="block">Returns the source address if this membership key is source-specific, or <code>null</code> if this membership is not source-specific.</div> </td>
</tr>
<tr>
<td><code>abstract <a href="membershipkey.html" title="class in java.nio.channels">MembershipKey</a></code></td>
<td><code><a href="#unblock(java.net.InetAddress)" class="member-name-link">unblock</a><wbr>(<a href="../../net/inetaddress.html" title="class in java.net">InetAddress</a> source)</wbr></code></td>
<td> <div class="block">Unblock multicast datagrams from the given source address that was previously blocked using the <a href="#block(java.net.InetAddress)"><code>block</code></a> method.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../lang/object.html" title="class in java.lang">Object</a>
</h3> <code><a href="../../lang/object.html#clone()">clone</a>, <a href="../../lang/object.html#equals(java.lang.Object)">equals</a>, <a href="../../lang/object.html#finalize()">finalize</a>, <a href="../../lang/object.html#getClass()">getClass</a>, <a href="../../lang/object.html#hashCode()">hashCode</a>, <a href="../../lang/object.html#notify()">notify</a>, <a href="../../lang/object.html#notifyAll()">notifyAll</a>, <a href="../../lang/object.html#toString()">toString</a>, <a href="../../lang/object.html#wait()">wait</a>, <a href="../../lang/object.html#wait(long)">wait</a>, <a href="../../lang/object.html#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;()"> <h3>MembershipKey</h3> <pre class="lang-java" data-language="java">protected MembershipKey()</pre> <div class="block">Initializes a new instance of this class.</div> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="isValid()"> <h3>isValid</h3> <pre class="lang-java" data-language="java">public abstract boolean isValid()</pre> <div class="block">Tells whether or not this membership is valid. <p> A multicast group membership is valid upon creation and remains valid until the membership is dropped by invoking the <a href="#drop()"><code>drop</code></a> method, or the channel is closed.</p>
</div> <dl class="notes"> <dt>Returns:</dt> <dd>
<code>true</code> if this membership key is valid, <code>false</code> otherwise</dd> </dl> </section><section class="detail" id="drop()"> <h3>drop</h3> <pre class="lang-java" data-language="java">public abstract void drop()</pre> <div class="block">Drop membership. <p> If the membership key represents a membership to receive all datagrams then the membership is dropped and the channel will no longer receive any datagrams sent to the group. If the membership key is source-specific then the channel will no longer receive datagrams sent to the group from that source address. </p>
<p> After membership is dropped it may still be possible to receive datagrams sent to the group. This can arise when datagrams are waiting to be received in the socket's receive buffer. After membership is dropped then the channel may <a href="multicastchannel.html#join(java.net.InetAddress,java.net.NetworkInterface)"><code>join</code></a> the group again in which case a new membership key is returned. </p>
<p> Upon return, this membership object will be <a href="#isValid()"><code>invalid</code></a>. If the multicast group membership is already invalid then invoking this method has no effect. Once a multicast group membership is invalid, it remains invalid forever.</p>
</div> </section><section class="detail" id="block(java.net.InetAddress)"> <h3>block</h3> <pre class="lang-java" data-language="java">public abstract MembershipKey block(InetAddress source) throws IOException</pre> <div class="block">Block multicast datagrams from the given source address. <p> If this membership key is not source-specific, and the underlying operating system supports source filtering, then this method blocks multicast datagrams from the given source address. If the given source address is already blocked then this method has no effect. After a source address is blocked it may still be possible to receive datagrams from that source. This can arise when datagrams are waiting to be received in the socket's receive buffer.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>source</code> - The source address to block</dd> <dt>Returns:</dt> <dd>This membership key</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/illegalargumentexception.html" title="class in java.lang">IllegalArgumentException</a></code> - If the <code>source</code> parameter is not a unicast address or is not the same address type as the multicast group</dd> <dd>
<code><a href="../../lang/illegalstateexception.html" title="class in java.lang">IllegalStateException</a></code> - If this membership key is source-specific or is no longer valid</dd> <dd>
<code><a href="../../lang/unsupportedoperationexception.html" title="class in java.lang">UnsupportedOperationException</a></code> - If the underlying operating system does not support source filtering</dd> <dd>
<code><a href="../../io/ioexception.html" title="class in java.io">IOException</a></code> - If an I/O error occurs</dd> </dl> </section><section class="detail" id="unblock(java.net.InetAddress)"> <h3>unblock</h3> <pre class="lang-java" data-language="java">public abstract MembershipKey unblock(InetAddress source)</pre> <div class="block">Unblock multicast datagrams from the given source address that was previously blocked using the <a href="#block(java.net.InetAddress)"><code>block</code></a> method.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>source</code> - The source address to unblock</dd> <dt>Returns:</dt> <dd>This membership key</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/illegalstateexception.html" title="class in java.lang">IllegalStateException</a></code> - If the given source address is not currently blocked or the membership key is no longer valid</dd> </dl> </section><section class="detail" id="channel()"> <h3>channel</h3> <pre class="lang-java" data-language="java">public abstract MulticastChannel channel()</pre> <div class="block">Returns the channel for which this membership key was created. This method will continue to return the channel even after the membership becomes <a href="#isValid()"><code>invalid</code></a>.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the channel</dd> </dl> </section><section class="detail" id="group()"> <h3>group</h3> <pre class="lang-java" data-language="java">public abstract InetAddress group()</pre> <div class="block">Returns the multicast group for which this membership key was created. This method will continue to return the group even after the membership becomes <a href="#isValid()"><code>invalid</code></a>.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the multicast group</dd> </dl> </section><section class="detail" id="networkInterface()"> <h3>networkInterface</h3> <pre class="lang-java" data-language="java">public abstract NetworkInterface networkInterface()</pre> <div class="block">Returns the network interface for which this membership key was created. This method will continue to return the network interface even after the membership becomes <a href="#isValid()"><code>invalid</code></a>.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the network interface</dd> </dl> </section><section class="detail" id="sourceAddress()"> <h3>sourceAddress</h3> <pre class="lang-java" data-language="java">public abstract InetAddress sourceAddress()</pre> <div class="block">Returns the source address if this membership key is source-specific, or <code>null</code> if this membership is not source-specific.</div> <dl class="notes"> <dt>Returns:</dt> <dd>The source address if this membership key is source-specific, otherwise <code>null</code>
</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/channels/MembershipKey.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/channels/MembershipKey.html</a>
  </p>
</div>
