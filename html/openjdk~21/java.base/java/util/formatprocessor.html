<h1 title="Class FormatProcessor" class="title">Class FormatProcessor</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../lang/object.html" title="class in java.lang">java.lang.Object</a> <div class="inheritance">java.util.FormatProcessor</div> </div> <section class="class-description" id="class-description"> <dl class="notes"> <dt>All Implemented Interfaces:</dt> <dd>
<code><a href="../lang/stringtemplate.processor.html" title="interface in java.lang">StringTemplate.Processor</a><sup><a href="../lang/stringtemplate.processor.html#preview-java.lang.StringTemplate.Processor">PREVIEW</a></sup>&lt;<a href="../lang/string.html" title="class in java.lang">String</a>,<wbr><a href="../lang/runtimeexception.html" title="class in java.lang">RuntimeException</a>&gt;</wbr></code>, <code><a href="../lang/stringtemplate.processor.linkage.html" title="interface in java.lang">StringTemplate.Processor.Linkage</a><sup><a href="../lang/stringtemplate.processor.linkage.html#preview-java.lang.StringTemplate.Processor.Linkage">PREVIEW</a></sup></code>
</dd> </dl>  <pre class="lang-java" data-language="java">public final class FormatProcessor extends Object implements StringTemplate.ProcessorPREVIEW&lt;String,RuntimeException&gt;, StringTemplate.Processor.LinkagePREVIEW</pre> <div class="preview-block" id="preview-java.util.FormatProcessor">
<span class="preview-label"><code>FormatProcessor</code> is a preview API of the Java platform.</span> <div class="preview-comment">Programs can only use <code>FormatProcessor</code> when preview features are enabled.</div> <div class="preview-comment">Preview features may be removed in a future release, or upgraded to permanent features of the Java platform.</div> </div> <div class="block">This <a href="../lang/stringtemplate.processor.html" title="interface in java.lang"><code>StringTemplate.Processor</code></a><sup><a href="../lang/stringtemplate.processor.html#preview-java.lang.StringTemplate.Processor">PREVIEW</a></sup> constructs a <a href="../lang/string.html" title="class in java.lang"><code>String</code></a> result using <a href="formatter.html" title="class in java.util"><code>Formatter</code></a> specifications and values found in the <a href="../lang/stringtemplate.html" title="interface in java.lang"><code>StringTemplate</code></a><sup><a href="../lang/stringtemplate.html#preview-java.lang.StringTemplate">PREVIEW</a></sup>. Unlike <a href="formatter.html" title="class in java.util"><code>Formatter</code></a>, <a href="formatprocessor.html" title="class in java.util"><code>FormatProcessor</code></a><sup><a href="#preview-java.util.FormatProcessor">PREVIEW</a></sup> uses the value from the embedded expression that immediately follows, without whitespace, the <a href="formatter.html#syntax">format specifier</a>. For example: <div class="snippet-container"> <pre class="lang-java" data-language="java"><code>FormatProcessor fmt = FormatProcessor.create(Locale.ROOT);
int x = 10;
int y = 20;
String result = fmt."%05d\{x} + %05d\{y} = %05d\{x + y}";
</code></pre> </div> In the above example, the value of <code>result</code> will be <code>"00010 + 00020 = 00030"</code>. <p> Embedded expressions without a preceeding format specifier, use <code>%s</code> by default. </p>
<div class="snippet-container"> <pre class="lang-java" data-language="java"><code>FormatProcessor fmt = FormatProcessor.create(Locale.ROOT);
int x = 10;
int y = 20;
String result1 = fmt."\{x} + \{y} = \{x + y}";
String result2 = fmt."%s\{x} + %s\{y} = %s\{x + y}";
</code></pre> </div> In the above example, the value of <code>result1</code> and <code>result2</code> will both be <code>"10 + 20 = 30"</code>. <p> The <a href="formatprocessor.html" title="class in java.util"><code>FormatProcessor</code></a><sup><a href="#preview-java.util.FormatProcessor">PREVIEW</a></sup> format specification used and exceptions thrown are the same as those of <a href="formatter.html" title="class in java.util"><code>Formatter</code></a>. </p>
<p> However, there are two significant differences related to the position of arguments. An explict <code>n$</code> and relative <code>&lt;</code> index will cause an exception due to a missing argument list. Whitespace appearing between the specification and the embedded expression will also cause an exception. </p>
<p> <a href="formatprocessor.html" title="class in java.util"><code>FormatProcessor</code></a><sup><a href="#preview-java.util.FormatProcessor">PREVIEW</a></sup> allows the use of different locales. For example: </p>
<div class="snippet-container"> <pre class="lang-java" data-language="java"><code>Locale locale = Locale.forLanguageTag("th-TH-u-nu-thai");
FormatProcessor thaiFMT = FormatProcessor.create(locale);
int x = 10;
int y = 20;
String result = thaiFMT."%4d\{x} + %4d\{y} = %5d\{x + y}";
</code></pre> </div> In the above example, the value of <code>result</code> will be <code>"  à¹à¹ +   à¹à¹ =    à¹à¹"</code>. <p> For day to day use, the predefined <a href="#FMT"><code>FMT</code></a> <a href="formatprocessor.html" title="class in java.util"><code>FormatProcessor</code></a><sup><a href="#preview-java.util.FormatProcessor">PREVIEW</a></sup> is available. <a href="#FMT"><code>FMT</code></a> is defined using the <a href="locale.html#ROOT"><code>Locale.ROOT</code></a>. Example: </p>
<div class="snippet-container"> <pre class="lang-java" data-language="java"><code>int x = 10;
int y = 20;
String result = <span class="bold">FMT</span>."0x%04x\{x} + 0x%04x\{y} = 0x%04x\{x + y}";
</code></pre> </div> In the above example, the value of <code>result</code> will be <code>"0x000a + 0x0014 = 0x001E"</code>.</div> <dl class="notes"> <dt>Since:</dt> <dd>21</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li>
<a href="../lang/stringtemplate.processor.html" title="interface in java.lang"><code>StringTemplate.Processor</code></a><sup><a href="../lang/stringtemplate.processor.html#preview-java.lang.StringTemplate.Processor">PREVIEW</a></sup>
</li> </ul> </dd> </dl> </section> <section class="summary"> <section class="nested-class-summary" id="nested-class-summary"> <h2>Nested Class Summary</h2> <div class="inherited-list"> <h2 id="nested-classes-inherited-from-class-java.lang.StringTemplate.Processor">Nested classes/interfaces declared in interface java.lang.<a href="../lang/stringtemplate.processor.html" title="interface in java.lang">StringTemplate.Processor</a><sup><a href="../lang/stringtemplate.processor.html#preview-java.lang.StringTemplate.Processor">PREVIEW</a></sup>
</h2> <code><a href="../lang/stringtemplate.processor.linkage.html" title="interface in java.lang">StringTemplate.Processor.Linkage</a><sup><a href="../lang/stringtemplate.processor.linkage.html#preview-java.lang.StringTemplate.Processor.Linkage">PREVIEW</a></sup></code>
</div> </section><section class="field-summary" id="field-summary"> <h2>Field Summary</h2>  <table class="summary-table three-column-summary">       <tr>
<th>Modifier and Type</th>
<th>Field</th>
<th>Description</th>
</tr>
<tr>
<td><code>static final <a href="formatprocessor.html" title="class in java.util">FormatProcessor</a><sup><a href="#preview-java.util.FormatProcessor">PREVIEW</a></sup></code></td>
<td><code><a href="#FMT" class="member-name-link">FMT</a></code></td>
<td> <div class="block">This predefined <a href="formatprocessor.html" title="class in java.util"><code>FormatProcessor</code></a><sup><a href="#preview-java.util.FormatProcessor">PREVIEW</a></sup> instance constructs a <a href="../lang/string.html" title="class in java.lang"><code>String</code></a> result using the Locale.ROOT <a href="locale.html" title="class in java.util"><code>Locale</code></a>.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">             <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>static <a href="formatprocessor.html" title="class in java.util">FormatProcessor</a><sup><a href="#preview-java.util.FormatProcessor">PREVIEW</a></sup></code></td>
<td><code><a href="#create(java.util.Locale)" class="member-name-link">create</a><wbr>(<a href="locale.html" title="class in java.util">Locale</a> locale)</wbr></code></td>
<td> <div class="block">Create a new <a href="formatprocessor.html" title="class in java.util"><code>FormatProcessor</code></a><sup><a href="#preview-java.util.FormatProcessor">PREVIEW</a></sup> using the specified locale.</div> </td>
</tr>
<tr>
<td><code><a href="../lang/invoke/methodhandle.html" title="class in java.lang.invoke">MethodHandle</a></code></td>
<td><code><a href="#linkage(java.util.List,java.lang.invoke.MethodType)" class="member-name-link">linkage</a><wbr>(<a href="list.html" title="interface in java.util">List</a>&lt;<a href="../lang/string.html" title="class in java.lang">String</a>&gt; fragments,
 <a href="../lang/invoke/methodtype.html" title="class in java.lang.invoke">MethodType</a> type)</wbr></code></td>
<td> <div class="block">Constructs a <a href="../lang/invoke/methodhandle.html" title="class in java.lang.invoke"><code>MethodHandle</code></a> that when supplied with the values from a <a href="../lang/stringtemplate.html" title="interface in java.lang"><code>StringTemplate</code></a><sup><a href="../lang/stringtemplate.html#preview-java.lang.StringTemplate">PREVIEW</a></sup> will produce a result equivalent to that provided by <a href="#process(java.lang.StringTemplate)"><code>process(StringTemplate)</code></a>.</div> </td>
</tr>
<tr>
<td><code>final <a href="../lang/string.html" title="class in java.lang">String</a></code></td>
<td><code><a href="#process(java.lang.StringTemplate)" class="member-name-link">process</a><wbr>(<a href="../lang/stringtemplate.html" title="interface in java.lang">StringTemplate</a><sup><a href="../lang/stringtemplate.html#preview-java.lang.StringTemplate">PREVIEW</a></sup> stringTemplate)</wbr></code></td>
<td> <div class="block">Constructs a <a href="../lang/string.html" title="class in java.lang"><code>String</code></a> based on the fragments, format specifications found in the fragments and values in the supplied <a href="../lang/stringtemplate.html" title="interface in java.lang"><code>StringTemplate</code></a><sup><a href="../lang/stringtemplate.html#preview-java.lang.StringTemplate">PREVIEW</a></sup> object.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../lang/object.html" title="class in java.lang">Object</a>
</h3> <code><a href="../lang/object.html#clone()">clone</a>, <a href="../lang/object.html#equals(java.lang.Object)">equals</a>, <a href="../lang/object.html#finalize()">finalize</a>, <a href="../lang/object.html#getClass()">getClass</a>, <a href="../lang/object.html#hashCode()">hashCode</a>, <a href="../lang/object.html#notify()">notify</a>, <a href="../lang/object.html#notifyAll()">notifyAll</a>, <a href="../lang/object.html#toString()">toString</a>, <a href="../lang/object.html#wait()">wait</a>, <a href="../lang/object.html#wait(long)">wait</a>, <a href="../lang/object.html#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="field-details" id="field-detail"> <h2>Field Details</h2>  </section><section class="detail" id="FMT"> <h3>FMT</h3> <pre class="lang-java" data-language="java">public static final FormatProcessorPREVIEW FMT</pre> <div class="block">This predefined <a href="formatprocessor.html" title="class in java.util"><code>FormatProcessor</code></a><sup><a href="#preview-java.util.FormatProcessor">PREVIEW</a></sup> instance constructs a <a href="../lang/string.html" title="class in java.lang"><code>String</code></a> result using the Locale.ROOT <a href="locale.html" title="class in java.util"><code>Locale</code></a>. See <a href="formatprocessor.html" title="class in java.util"><code>FormatProcessor</code></a><sup><a href="#preview-java.util.FormatProcessor">PREVIEW</a></sup> for more details. Example: <div class="snippet-container"> <pre class="lang-java" data-language="java"><code>int x = 10;
int y = 20;
String result = <span class="bold">FMT</span>."0x%04x\{x} + 0x%04x\{y} = 0x%04x\{x + y}";
</code></pre> </div> In the above example, the value of <code>result</code> will be <code>"0x000a + 0x0014 = 0x001E"</code>.</div> <dl class="notes"> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li>
<a href="formatprocessor.html" title="class in java.util"><code>FormatProcessor</code></a><sup><a href="#preview-java.util.FormatProcessor">PREVIEW</a></sup>
</li> </ul> </dd> </dl> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="create(java.util.Locale)"> <h3>create</h3> <pre class="lang-java" data-language="java">public static FormatProcessorPREVIEW create(Locale locale)</pre> <div class="block">Create a new <a href="formatprocessor.html" title="class in java.util"><code>FormatProcessor</code></a><sup><a href="#preview-java.util.FormatProcessor">PREVIEW</a></sup> using the specified locale.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>locale</code> - <a href="locale.html" title="class in java.util"><code>Locale</code></a> used to format</dd> <dt>Returns:</dt> <dd>a new instance of <a href="formatprocessor.html" title="class in java.util"><code>FormatProcessor</code></a><sup><a href="#preview-java.util.FormatProcessor">PREVIEW</a></sup>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if locale is null</dd> </dl> </section><section class="detail" id="process(java.lang.StringTemplate)"> <h3>process</h3> <pre class="lang-java" data-language="java">public final String process(StringTemplatePREVIEW stringTemplate)</pre> <div class="block">Constructs a <a href="../lang/string.html" title="class in java.lang"><code>String</code></a> based on the fragments, format specifications found in the fragments and values in the supplied <a href="../lang/stringtemplate.html" title="interface in java.lang"><code>StringTemplate</code></a><sup><a href="../lang/stringtemplate.html#preview-java.lang.StringTemplate">PREVIEW</a></sup> object. This method constructs a format string from the fragments, gathers up the values and evaluates the expression asif evaulating <code>new Formatter(locale).format(format, values).toString()</code>. <p> If an embedded expression is not immediately preceded by a specifier then a <code>%s</code> is inserted in the format.</p>
</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="../lang/stringtemplate.processor.html#process(java.lang.StringTemplate)">process</a></code> in interface <code><a href="../lang/stringtemplate.processor.html" title="interface in java.lang">StringTemplate.Processor</a><sup><a href="../lang/stringtemplate.processor.html#preview-java.lang.StringTemplate.Processor">PREVIEW</a></sup>&lt;<a href="../lang/string.html" title="class in java.lang">String</a>,<wbr><a href="../lang/runtimeexception.html" title="class in java.lang">RuntimeException</a>&gt;</wbr></code>
</dd> <dt>Parameters:</dt> <dd>
<code>stringTemplate</code> - a <a href="../lang/stringtemplate.html" title="interface in java.lang"><code>StringTemplate</code></a><sup><a href="../lang/stringtemplate.html#preview-java.lang.StringTemplate">PREVIEW</a></sup> instance</dd> <dt>Returns:</dt> <dd>constructed <a href="../lang/string.html" title="class in java.lang"><code>String</code></a>
</dd> <dt>Throws:</dt> <dd>
<code><a href="illegalformatexception.html" title="class in java.util">IllegalFormatException</a></code> - If a format specifier contains an illegal syntax, a format specifier that is incompatible with the given arguments, a specifier not followed immediately by an embedded expression or other illegal conditions. For specification of all possible formatting errors, see the <a href="formatter.html#detail">details</a> section of the formatter class specification.</dd> <dd>
<code><a href="../lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if stringTemplate is null</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="formatter.html" title="class in java.util"><code>Formatter</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="linkage(java.util.List,java.lang.invoke.MethodType)"> <h3>linkage</h3> <pre class="lang-java" data-language="java">public MethodHandle linkage(List&lt;String&gt; fragments, MethodType type)</pre> <div class="block">Constructs a <a href="../lang/invoke/methodhandle.html" title="class in java.lang.invoke"><code>MethodHandle</code></a> that when supplied with the values from a <a href="../lang/stringtemplate.html" title="interface in java.lang"><code>StringTemplate</code></a><sup><a href="../lang/stringtemplate.html#preview-java.lang.StringTemplate">PREVIEW</a></sup> will produce a result equivalent to that provided by <a href="#process(java.lang.StringTemplate)"><code>process(StringTemplate)</code></a>. This <a href="../lang/invoke/methodhandle.html" title="class in java.lang.invoke"><code>MethodHandle</code></a> is used by <a href="#FMT"><code>FMT</code></a> and the ilk to perform a more specialized composition of a result. This specialization is done by prescanning the fragments and value types of a <a href="../lang/stringtemplate.html" title="interface in java.lang"><code>StringTemplate</code></a><sup><a href="../lang/stringtemplate.html#preview-java.lang.StringTemplate">PREVIEW</a></sup>. <p> Process template expressions can be specialized when the processor is of type <a href="../lang/stringtemplate.processor.linkage.html" title="interface in java.lang"><code>StringTemplate.Processor.Linkage</code></a><sup><a href="../lang/stringtemplate.processor.linkage.html#preview-java.lang.StringTemplate.Processor.Linkage">PREVIEW</a></sup> and fetched from a static constant as is <a href="#FMT"><code>FMT</code></a> (<code>static final FormatProcessor</code>). </p>
<p> Other <a href="formatprocessor.html" title="class in java.util"><code>FormatProcessors</code></a><sup><a href="#preview-java.util.FormatProcessor">PREVIEW</a></sup> can be specialized when stored in a static final. For example: </p>
<div class="snippet-container"> <pre class="lang-java" data-language="java"><code>FormatProcessor THAI_FMT = FormatProcessor.create(Locale.forLanguageTag("th-TH-u-nu-thai"));
</code></pre> </div> <code>THAI_FMT</code> will now produce specialized <a href="../lang/invoke/methodhandle.html" title="class in java.lang.invoke"><code>MethodHandles</code></a> by way of <a href="#linkage(java.util.List,java.lang.invoke.MethodType)"><code>linkage(List, MethodType)</code></a>. See <a href="#process(java.lang.StringTemplate)"><code>process(StringTemplate)</code></a> for more information.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="../lang/stringtemplate.processor.linkage.html#linkage(java.util.List,java.lang.invoke.MethodType)">linkage</a></code> in interface <code><a href="../lang/stringtemplate.processor.linkage.html" title="interface in java.lang">StringTemplate.Processor.Linkage</a><sup><a href="../lang/stringtemplate.processor.linkage.html#preview-java.lang.StringTemplate.Processor.Linkage">PREVIEW</a></sup></code>
</dd> <dt>Parameters:</dt> <dd>
<code>fragments</code> - string template fragments</dd> <dd>
<code>type</code> - method type, includes the StringTemplate receiver as well as the value types</dd> <dt>Returns:</dt> <dd>
<a href="../lang/invoke/methodhandle.html" title="class in java.lang.invoke"><code>MethodHandle</code></a> for the processor applied to template</dd> <dt>Throws:</dt> <dd>
<code><a href="illegalformatexception.html" title="class in java.util">IllegalFormatException</a></code> - If a format specifier contains an illegal syntax, a format specifier that is incompatible with the given arguments, a specifier not followed immediately by an embedded expression or other illegal conditions. For specification of all possible formatting errors, see the <a href="formatter.html#detail">details</a> section of the formatter class specification.</dd> <dd>
<code><a href="../lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if fragments or type is null</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="formatter.html" title="class in java.util"><code>Formatter</code></a></li> </ul> </dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/FormatProcessor.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/FormatProcessor.html</a>
  </p>
</div>
