<h1 title="Class AtomicStampedReference" class="title">Class AtomicStampedReference&lt;V&gt;</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../../lang/object.html" title="class in java.lang">java.lang.Object</a> <div class="inheritance">java.util.concurrent.atomic.AtomicStampedReference&lt;V&gt;</div> </div> <section class="class-description" id="class-description"> <dl class="notes"> <dt>Type Parameters:</dt> <dd>
<code>V</code> - The type of object referred to by this reference</dd> </dl>  <pre class="lang-java" data-language="java">public class AtomicStampedReference&lt;V&gt; extends Object</pre> <div class="block">An <code>AtomicStampedReference</code> maintains an object reference along with an integer "stamp", that can be updated atomically. <p>Implementation note: This implementation maintains stamped references by creating internal objects representing "boxed" [reference, integer] pairs.</p>
</div> <dl class="notes"> <dt>Since:</dt> <dd>1.5</dd> </dl> </section> <section class="summary"> <section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table two-column-summary">     <tr>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E(V,int)" class="member-name-link">AtomicStampedReference</a><wbr>(<a href="atomicstampedreference.html" title="type parameter in AtomicStampedReference">V</a> initialRef,
 int initialStamp)</wbr></code></td>
<td> <div class="block">Creates a new <code>AtomicStampedReference</code> with the given initial values.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                         <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#attemptStamp(V,int)" class="member-name-link">attemptStamp</a><wbr>(<a href="atomicstampedreference.html" title="type parameter in AtomicStampedReference">V</a> expectedReference,
 int newStamp)</wbr></code></td>
<td> <div class="block">Atomically sets the value of the stamp to the given update value if the current reference is <code>==</code> to the expected reference.</div> </td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#compareAndSet(V,V,int,int)" class="member-name-link">compareAndSet</a><wbr>(<a href="atomicstampedreference.html" title="type parameter in AtomicStampedReference">V</a> expectedReference,
 <a href="atomicstampedreference.html" title="type parameter in AtomicStampedReference">V</a> newReference,
 int expectedStamp,
 int newStamp)</wbr></code></td>
<td> <div class="block">Atomically sets the value of both the reference and stamp to the given update values if the current reference is <code>==</code> to the expected reference and the current stamp is equal to the expected stamp.</div> </td>
</tr>
<tr>
<td><code><a href="atomicstampedreference.html" title="type parameter in AtomicStampedReference">V</a></code></td>
<td><code><a href="#get(int%5B%5D)" class="member-name-link">get</a><wbr>(int[] stampHolder)</wbr></code></td>
<td> <div class="block">Returns the current values of both the reference and the stamp.</div> </td>
</tr>
<tr>
<td><code><a href="atomicstampedreference.html" title="type parameter in AtomicStampedReference">V</a></code></td>
<td><code><a href="#getReference()" class="member-name-link">getReference</a>()</code></td>
<td> <div class="block">Returns the current value of the reference.</div> </td>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#getStamp()" class="member-name-link">getStamp</a>()</code></td>
<td> <div class="block">Returns the current value of the stamp.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#set(V,int)" class="member-name-link">set</a><wbr>(<a href="atomicstampedreference.html" title="type parameter in AtomicStampedReference">V</a> newReference,
 int newStamp)</wbr></code></td>
<td> <div class="block">Unconditionally sets the value of both the reference and stamp.</div> </td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#weakCompareAndSet(V,V,int,int)" class="member-name-link">weakCompareAndSet</a><wbr>(<a href="atomicstampedreference.html" title="type parameter in AtomicStampedReference">V</a> expectedReference,
 <a href="atomicstampedreference.html" title="type parameter in AtomicStampedReference">V</a> newReference,
 int expectedStamp,
 int newStamp)</wbr></code></td>
<td> <div class="block">Atomically sets the value of both the reference and stamp to the given update values if the current reference is <code>==</code> to the expected reference and the current stamp is equal to the expected stamp.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../../lang/object.html" title="class in java.lang">Object</a>
</h3> <code><a href="../../../lang/object.html#clone()">clone</a>, <a href="../../../lang/object.html#equals(java.lang.Object)">equals</a>, <a href="../../../lang/object.html#finalize()">finalize</a>, <a href="../../../lang/object.html#getClass()">getClass</a>, <a href="../../../lang/object.html#hashCode()">hashCode</a>, <a href="../../../lang/object.html#notify()">notify</a>, <a href="../../../lang/object.html#notifyAll()">notifyAll</a>, <a href="../../../lang/object.html#toString()">toString</a>, <a href="../../../lang/object.html#wait()">wait</a>, <a href="../../../lang/object.html#wait(long)">wait</a>, <a href="../../../lang/object.html#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;(V,int)"> <h3 id="&lt;init&gt;(java.lang.Object,int)">AtomicStampedReference</h3> <pre class="lang-java" data-language="java">public AtomicStampedReference(V initialRef, int initialStamp)</pre> <div class="block">Creates a new <code>AtomicStampedReference</code> with the given initial values.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>initialRef</code> - the initial reference</dd> <dd>
<code>initialStamp</code> - the initial stamp</dd> </dl> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="getReference()"> <h3>getReference</h3> <pre class="lang-java" data-language="java">public V getReference()</pre> <div class="block">Returns the current value of the reference.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the current value of the reference</dd> </dl> </section><section class="detail" id="getStamp()"> <h3>getStamp</h3> <pre class="lang-java" data-language="java">public int getStamp()</pre> <div class="block">Returns the current value of the stamp.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the current value of the stamp</dd> </dl> </section><section class="detail" id="get(int[])"> <h3>get</h3> <pre class="lang-java" data-language="java">public V get(int[] stampHolder)</pre> <div class="block">Returns the current values of both the reference and the stamp. Typical usage is <code>int[1] holder; ref = v.get(holder); </code>.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>stampHolder</code> - an array of size of at least one. On return, <code>stampHolder[0]</code> will hold the value of the stamp.</dd> <dt>Returns:</dt> <dd>the current value of the reference</dd> </dl> </section><section class="detail" id="weakCompareAndSet(V,V,int,int)"> <h3 id="weakCompareAndSet(java.lang.Object,java.lang.Object,int,int)">weakCompareAndSet</h3> <pre class="lang-java" data-language="java">public boolean weakCompareAndSet(V expectedReference, V newReference, int expectedStamp, int newStamp)</pre> <div class="block">Atomically sets the value of both the reference and stamp to the given update values if the current reference is <code>==</code> to the expected reference and the current stamp is equal to the expected stamp. This operation may fail spuriously and does not provide ordering guarantees, so is only rarely an appropriate alternative to <code>compareAndSet</code>.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>expectedReference</code> - the expected value of the reference</dd> <dd>
<code>newReference</code> - the new value for the reference</dd> <dd>
<code>expectedStamp</code> - the expected value of the stamp</dd> <dd>
<code>newStamp</code> - the new value for the stamp</dd> <dt>Returns:</dt> <dd>
<code>true</code> if successful</dd> </dl> </section><section class="detail" id="compareAndSet(V,V,int,int)"> <h3 id="compareAndSet(java.lang.Object,java.lang.Object,int,int)">compareAndSet</h3> <pre class="lang-java" data-language="java">public boolean compareAndSet(V expectedReference, V newReference, int expectedStamp, int newStamp)</pre> <div class="block">Atomically sets the value of both the reference and stamp to the given update values if the current reference is <code>==</code> to the expected reference and the current stamp is equal to the expected stamp.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>expectedReference</code> - the expected value of the reference</dd> <dd>
<code>newReference</code> - the new value for the reference</dd> <dd>
<code>expectedStamp</code> - the expected value of the stamp</dd> <dd>
<code>newStamp</code> - the new value for the stamp</dd> <dt>Returns:</dt> <dd>
<code>true</code> if successful</dd> </dl> </section><section class="detail" id="set(V,int)"> <h3 id="set(java.lang.Object,int)">set</h3> <pre class="lang-java" data-language="java">public void set(V newReference, int newStamp)</pre> <div class="block">Unconditionally sets the value of both the reference and stamp.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>newReference</code> - the new value for the reference</dd> <dd>
<code>newStamp</code> - the new value for the stamp</dd> </dl> </section><section class="detail" id="attemptStamp(V,int)"> <h3 id="attemptStamp(java.lang.Object,int)">attemptStamp</h3> <pre class="lang-java" data-language="java">public boolean attemptStamp(V expectedReference, int newStamp)</pre> <div class="block">Atomically sets the value of the stamp to the given update value if the current reference is <code>==</code> to the expected reference. Any given invocation of this operation may fail (return <code>false</code>) spuriously, but repeated invocation when the current value holds the expected value and no other thread is also attempting to set the value will eventually succeed.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>expectedReference</code> - the expected value of the reference</dd> <dd>
<code>newStamp</code> - the new value for the stamp</dd> <dt>Returns:</dt> <dd>
<code>true</code> if successful</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/atomic/AtomicStampedReference.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/atomic/AtomicStampedReference.html</a>
  </p>
</div>
