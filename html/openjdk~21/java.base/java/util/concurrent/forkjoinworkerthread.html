<h1 title="Class ForkJoinWorkerThread" class="title">Class ForkJoinWorkerThread</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../lang/object.html" title="class in java.lang">java.lang.Object</a> <div class="inheritance">
<a href="../../lang/thread.html" title="class in java.lang">java.lang.Thread</a> <div class="inheritance">java.util.concurrent.ForkJoinWorkerThread</div> </div> </div> <section class="class-description" id="class-description"> <dl class="notes"> <dt>All Implemented Interfaces:</dt> <dd><code><a href="../../lang/runnable.html" title="interface in java.lang">Runnable</a></code></dd> </dl>  <pre class="lang-java" data-language="java">public class ForkJoinWorkerThread extends Thread</pre> <div class="block">A thread managed by a <a href="forkjoinpool.html" title="class in java.util.concurrent"><code>ForkJoinPool</code></a>, which executes <a href="forkjointask.html" title="class in java.util.concurrent"><code>ForkJoinTask</code></a>s. This class is subclassable solely for the sake of adding functionality -- there are no overridable methods dealing with scheduling or execution. However, you can override initialization and termination methods surrounding the main task processing loop. If you do create such a subclass, you will also need to supply a custom <a href="forkjoinpool.forkjoinworkerthreadfactory.html" title="interface in java.util.concurrent"><code>ForkJoinPool.ForkJoinWorkerThreadFactory</code></a> to <a href="forkjoinpool.html#%3Cinit%3E(int,java.util.concurrent.ForkJoinPool.ForkJoinWorkerThreadFactory,java.lang.Thread.UncaughtExceptionHandler,boolean,int,int,int,java.util.function.Predicate,long,java.util.concurrent.TimeUnit)">use it</a> in a <code>ForkJoinPool</code>.</div> <dl class="notes"> <dt>Since:</dt> <dd>1.7</dd> </dl> </section> <section class="summary"> <section class="nested-class-summary" id="nested-class-summary"> <h2>Nested Class Summary</h2> <div class="inherited-list"> <h2 id="nested-classes-inherited-from-class-java.lang.Thread">Nested classes/interfaces declared in class java.lang.<a href="../../lang/thread.html" title="class in java.lang">Thread</a>
</h2> <code><a href="../../lang/thread.builder.html" title="interface in java.lang">Thread.Builder</a>, <a href="../../lang/thread.state.html" title="enum class in java.lang">Thread.State</a>, <a href="../../lang/thread.uncaughtexceptionhandler.html" title="interface in java.lang">Thread.UncaughtExceptionHandler</a></code>
</div> </section><section class="field-summary" id="field-summary"> <h2>Field Summary</h2> <div class="inherited-list"> <h3 id="fields-inherited-from-class-java.lang.Thread">Fields declared in class java.lang.<a href="../../lang/thread.html" title="class in java.lang">Thread</a>
</h3> <code><a href="../../lang/thread.html#MAX_PRIORITY">MAX_PRIORITY</a>, <a href="../../lang/thread.html#MIN_PRIORITY">MIN_PRIORITY</a>, <a href="../../lang/thread.html#NORM_PRIORITY">NORM_PRIORITY</a></code>
</div> </section><section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table three-column-summary">     <div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.lang.ThreadGroup,java.util.concurrent.ForkJoinPool,boolean)" class="member-name-link">ForkJoinWorkerThread</a><wbr>(<a href="../../lang/threadgroup.html" title="class in java.lang">ThreadGroup</a> group,
 <a href="forkjoinpool.html" title="class in java.util.concurrent">ForkJoinPool</a> pool,
 boolean preserveThreadLocals)</wbr></code></div>   <div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.util.concurrent.ForkJoinPool)" class="member-name-link">ForkJoinWorkerThread</a><wbr>(<a href="forkjoinpool.html" title="class in java.util.concurrent">ForkJoinPool</a> pool)</wbr></code></div>  <tr>
<th>Modifier</th>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code>protected </code></td>
<td> <div class="block">Creates a ForkJoinWorkerThread operating in the given thread group and pool, and with the given policy for preserving ThreadLocals.</div> </td>
</tr>
<tr>
<td><code>protected </code></td>
<td> <div class="block">Creates a ForkJoinWorkerThread operating in the given pool.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                      <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="forkjoinpool.html" title="class in java.util.concurrent">ForkJoinPool</a></code></td>
<td><code><a href="#getPool()" class="member-name-link">getPool</a>()</code></td>
<td> <div class="block">Returns the pool hosting this thread.</div> </td>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#getPoolIndex()" class="member-name-link">getPoolIndex</a>()</code></td>
<td> <div class="block">Returns the unique index number of this thread in its pool.</div> </td>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#getQueuedTaskCount()" class="member-name-link">getQueuedTaskCount</a>()</code></td>
<td> <div class="block">Returns a (non-negative) estimate of the number of tasks in the thread's queue.</div> </td>
</tr>
<tr>
<td><code>protected void</code></td>
<td><code><a href="#onStart()" class="member-name-link">onStart</a>()</code></td>
<td> <div class="block">Initializes internal state after construction but before processing any tasks.</div> </td>
</tr>
<tr>
<td><code>protected void</code></td>
<td><code><a href="#onTermination(java.lang.Throwable)" class="member-name-link">onTermination</a><wbr>(<a href="../../lang/throwable.html" title="class in java.lang">Throwable</a> exception)</wbr></code></td>
<td> <div class="block">Performs cleanup associated with termination of this worker thread.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#run()" class="member-name-link">run</a>()</code></td>
<td> <div class="block">This method is required to be public, but should never be called explicitly.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Thread">Methods declared in class java.lang.<a href="../../lang/thread.html" title="class in java.lang">Thread</a>
</h3> <code><a href="../../lang/thread.html#activeCount()">activeCount</a>, <a href="../../lang/thread.html#checkAccess()">checkAccess</a>, <a href="../../lang/thread.html#clone()">clone</a>, <a href="../../lang/thread.html#countStackFrames()">countStackFrames</a>, <a href="../../lang/thread.html#currentThread()">currentThread</a>, <a href="../../lang/thread.html#dumpStack()">dumpStack</a>, <a href="../../lang/thread.html#enumerate(java.lang.Thread%5B%5D)">enumerate</a>, <a href="../../lang/thread.html#getAllStackTraces()">getAllStackTraces</a>, <a href="../../lang/thread.html#getContextClassLoader()">getContextClassLoader</a>, <a href="../../lang/thread.html#getDefaultUncaughtExceptionHandler()">getDefaultUncaughtExceptionHandler</a>, <a href="../../lang/thread.html#getId()">getId</a>, <a href="../../lang/thread.html#getName()">getName</a>, <a href="../../lang/thread.html#getPriority()">getPriority</a>, <a href="../../lang/thread.html#getStackTrace()">getStackTrace</a>, <a href="../../lang/thread.html#getState()">getState</a>, <a href="../../lang/thread.html#getThreadGroup()">getThreadGroup</a>, <a href="../../lang/thread.html#getUncaughtExceptionHandler()">getUncaughtExceptionHandler</a>, <a href="../../lang/thread.html#holdsLock(java.lang.Object)">holdsLock</a>, <a href="../../lang/thread.html#interrupt()">interrupt</a>, <a href="../../lang/thread.html#interrupted()">interrupted</a>, <a href="../../lang/thread.html#isAlive()">isAlive</a>, <a href="../../lang/thread.html#isDaemon()">isDaemon</a>, <a href="../../lang/thread.html#isInterrupted()">isInterrupted</a>, <a href="../../lang/thread.html#isVirtual()">isVirtual</a>, <a href="../../lang/thread.html#join()">join</a>, <a href="../../lang/thread.html#join(long)">join</a>, <a href="../../lang/thread.html#join(long,int)">join</a>, <a href="../../lang/thread.html#join(java.time.Duration)">join</a>, <a href="../../lang/thread.html#ofPlatform()">ofPlatform</a>, <a href="../../lang/thread.html#ofVirtual()">ofVirtual</a>, <a href="../../lang/thread.html#onSpinWait()">onSpinWait</a>, <a href="../../lang/thread.html#resume()">resume</a>, <a href="../../lang/thread.html#setContextClassLoader(java.lang.ClassLoader)">setContextClassLoader</a>, <a href="../../lang/thread.html#setDaemon(boolean)">setDaemon</a>, <a href="../../lang/thread.html#setDefaultUncaughtExceptionHandler(java.lang.Thread.UncaughtExceptionHandler)">setDefaultUncaughtExceptionHandler</a>, <a href="../../lang/thread.html#setName(java.lang.String)">setName</a>, <a href="../../lang/thread.html#setPriority(int)">setPriority</a>, <a href="../../lang/thread.html#setUncaughtExceptionHandler(java.lang.Thread.UncaughtExceptionHandler)">setUncaughtExceptionHandler</a>, <a href="../../lang/thread.html#sleep(long)">sleep</a>, <a href="../../lang/thread.html#sleep(long,int)">sleep</a>, <a href="../../lang/thread.html#sleep(java.time.Duration)">sleep</a>, <a href="../../lang/thread.html#start()">start</a>, <a href="../../lang/thread.html#startVirtualThread(java.lang.Runnable)">startVirtualThread</a>, <a href="../../lang/thread.html#stop()">stop</a>, <a href="../../lang/thread.html#suspend()">suspend</a>, <a href="../../lang/thread.html#threadId()">threadId</a>, <a href="../../lang/thread.html#toString()">toString</a>, <a href="../../lang/thread.html#yield()">yield</a></code>
</div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../lang/object.html" title="class in java.lang">Object</a>
</h3> <code><a href="../../lang/object.html#equals(java.lang.Object)">equals</a>, <a href="../../lang/object.html#finalize()">finalize</a>, <a href="../../lang/object.html#getClass()">getClass</a>, <a href="../../lang/object.html#hashCode()">hashCode</a>, <a href="../../lang/object.html#notify()">notify</a>, <a href="../../lang/object.html#notifyAll()">notifyAll</a>, <a href="../../lang/object.html#wait()">wait</a>, <a href="../../lang/object.html#wait(long)">wait</a>, <a href="../../lang/object.html#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;(java.lang.ThreadGroup,java.util.concurrent.ForkJoinPool,boolean)"> <h3>ForkJoinWorkerThread</h3> <pre class="lang-java" data-language="java">protected ForkJoinWorkerThread(ThreadGroup group, ForkJoinPool pool, boolean preserveThreadLocals)</pre> <div class="block">Creates a ForkJoinWorkerThread operating in the given thread group and pool, and with the given policy for preserving ThreadLocals.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>group</code> - if non-null, the thread group for this thread. Otherwise, the thread group is chosen by the security manager if present, else set to the current thread's thread group.</dd> <dd>
<code>pool</code> - the pool this thread works in</dd> <dd>
<code>preserveThreadLocals</code> - if true, always preserve the values of ThreadLocal variables across tasks; otherwise they may be cleared.</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if pool is null</dd> <dt>Since:</dt> <dd>19</dd> </dl> </section><section class="detail" id="&lt;init&gt;(java.util.concurrent.ForkJoinPool)"> <h3>ForkJoinWorkerThread</h3> <pre class="lang-java" data-language="java">protected ForkJoinWorkerThread(ForkJoinPool pool)</pre> <div class="block">Creates a ForkJoinWorkerThread operating in the given pool.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>pool</code> - the pool this thread works in</dd> <dt>Throws:</dt> <dd>
<code><a href="../../lang/nullpointerexception.html" title="class in java.lang">NullPointerException</a></code> - if pool is null</dd> </dl> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="getPool()"> <h3>getPool</h3> <pre class="lang-java" data-language="java">public ForkJoinPool getPool()</pre> <div class="block">Returns the pool hosting this thread.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the pool</dd> </dl> </section><section class="detail" id="getPoolIndex()"> <h3>getPoolIndex</h3> <pre class="lang-java" data-language="java">public int getPoolIndex()</pre> <div class="block">Returns the unique index number of this thread in its pool. The returned value ranges from zero to the maximum number of threads (minus one) that may exist in the pool, and does not change during the lifetime of the thread. This method may be useful for applications that track status or collect results per-worker-thread rather than per-task.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the index number</dd> </dl> </section><section class="detail" id="getQueuedTaskCount()"> <h3>getQueuedTaskCount</h3> <pre class="lang-java" data-language="java">public int getQueuedTaskCount()</pre> <div class="block">Returns a (non-negative) estimate of the number of tasks in the thread's queue.</div> <dl class="notes"> <dt>Returns:</dt> <dd>a (non-negative) estimate of the number of tasks in the thread's queue</dd> <dt>Since:</dt> <dd>20</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="forkjoinpool.html#getQueuedTaskCount()"><code>ForkJoinPool.getQueuedTaskCount()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="onStart()"> <h3>onStart</h3> <pre class="lang-java" data-language="java">protected void onStart()</pre> <div class="block">Initializes internal state after construction but before processing any tasks. If you override this method, you must invoke <code>super.onStart()</code> at the beginning of the method. Initialization requires care: Most fields must have legal default values, to ensure that attempted accesses from other threads work correctly even before this thread starts processing tasks.</div> </section><section class="detail" id="onTermination(java.lang.Throwable)"> <h3>onTermination</h3> <pre class="lang-java" data-language="java">protected void onTermination(Throwable exception)</pre> <div class="block">Performs cleanup associated with termination of this worker thread. If you override this method, you must invoke <code>super.onTermination</code> at the end of the overridden method.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>exception</code> - the exception causing this thread to abort due to an unrecoverable error, or <code>null</code> if completed normally</dd> </dl> </section><section class="detail" id="run()"> <h3>run</h3> <pre class="lang-java" data-language="java">public void run()</pre> <div class="block">This method is required to be public, but should never be called explicitly. It performs the main run loop to execute <a href="forkjointask.html" title="class in java.util.concurrent"><code>ForkJoinTask</code></a>s.</div> <dl class="notes"> <dt>Specified by:</dt> <dd>
<code><a href="../../lang/runnable.html#run()">run</a></code> in interface <code><a href="../../lang/runnable.html" title="interface in java.lang">Runnable</a></code>
</dd> <dt>Overrides:</dt> <dd>
<code><a href="../../lang/thread.html#run()">run</a></code> in class <code><a href="../../lang/thread.html" title="class in java.lang">Thread</a></code>
</dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ForkJoinWorkerThread.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ForkJoinWorkerThread.html</a>
  </p>
</div>
