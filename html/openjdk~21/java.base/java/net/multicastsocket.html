<h1 title="Class MulticastSocket" class="title">Class MulticastSocket</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../lang/object.html" title="class in java.lang">java.lang.Object</a> <div class="inheritance">
<a href="datagramsocket.html" title="class in java.net">java.net.DatagramSocket</a> <div class="inheritance">java.net.MulticastSocket</div> </div> </div> <section class="class-description" id="class-description"> <dl class="notes"> <dt>All Implemented Interfaces:</dt> <dd>
<code><a href="../io/closeable.html" title="interface in java.io">Closeable</a></code>, <code><a href="../lang/autocloseable.html" title="interface in java.lang">AutoCloseable</a></code>
</dd> </dl>  <pre class="lang-java" data-language="java">public class MulticastSocket extends DatagramSocket</pre> <div class="block">A <code>MulticastSocket</code> is a datagram socket that is convenient for sending and receiving IP multicast datagrams. The <code>MulticastSocket</code> constructors create a socket with appropriate socket options enabled that make it suitable for receiving multicast datagrams. The <code>MulticastSocket</code> class additionally defines convenient setter and getter methods for socket options that are commonly used by multicasting applications. <p> Joining one or more multicast groups makes it possible to receive multicast datagrams sent to these groups. </p>
<p> An IPv4 multicast group is specified by a class D IP address and by a standard UDP port number. Class D IP addresses are in the range <code>224.0.0.0</code> to <code>239.255.255.255</code>, inclusive. The address 224.0.0.0 is reserved and should not be used. </p>
<p> One would join a multicast group by first creating a MulticastSocket with the desired port, then invoking the <code>joinGroup</code> method, specifying the group address and the network interface through which multicast datagrams will be received: </p>
<pre class="lang-java" data-language="java"><code>
 // join a Multicast group and send the group salutations
 ...
 String msg = "Hello";
 InetAddress mcastaddr = InetAddress.getByName("228.5.6.7");
 InetSocketAddress group = new InetSocketAddress(mcastaddr, 6789);
 NetworkInterface netIf = NetworkInterface.getByName("bge0");
 MulticastSocket s = new MulticastSocket(6789);

 s.joinGroup(new InetSocketAddress(mcastaddr, 0), netIf);
 byte[] msgBytes = msg.getBytes(StandardCharsets.UTF_8);
 DatagramPacket hi = new DatagramPacket(msgBytes, msgBytes.length, group);
 s.send(hi);
 // get their responses!
 byte[] buf = new byte[1000];
 DatagramPacket recv = new DatagramPacket(buf, buf.length);
 s.receive(recv);
 ...
 // OK, I'm done talking - leave the group...
 s.leaveGroup(group, netIf);
 </code></pre> When one sends a message to a multicast group, <b>all</b> subscribing recipients to that host and port receive the message (within the time-to-live range of the packet, see below). The socket needn't be a member of the multicast group to send messages to it. <p> When a socket subscribes to a multicast group/port, it receives datagrams sent by other hosts to the group/port, as do all other members of the group and port. A socket relinquishes membership in a group by the leaveGroup(SocketAddress mcastaddr, NetworkInterface netIf) method. <b>Multiple MulticastSockets</b> may subscribe to a multicast group and port concurrently, and they will all receive group datagrams. </p>
<p> The <code>DatagramSocket</code> and <code>MulticastSocket</code> classes define convenience methods to set and get several socket options. Like <code>DatagramSocket</code> this class also supports the <a href="datagramsocket.html#setOption(java.net.SocketOption,T)"><code>setOption</code></a> and <a href="datagramsocket.html#getOption(java.net.SocketOption)"><code>getOption</code></a> methods to set and query socket options. The set of supported socket options is defined in <a href="datagramsocket.html#SocketOptions"><code>DatagramSocket</code></a>. Additional (implementation specific) options may also be supported.</p>
</div> <dl class="notes"> <dt>API Note:</dt> <dd>
<a href="datagramsocket.html" title="class in java.net"><code>DatagramSocket</code></a> may be used directly for sending and receiving multicast datagrams. <a href="../nio/channels/datagramchannel.html" title="class in java.nio.channels"><code>DatagramChannel</code></a> implements the <a href="../nio/channels/multicastchannel.html" title="interface in java.nio.channels"><code>MulticastChannel</code></a> interface and provides an alternative API for sending and receiving multicast datagrams. The <a href="../nio/channels/multicastchannel.html" title="interface in java.nio.channels"><code>MulticastChannel</code></a> API supports both <a href="../nio/channels/multicastchannel.html#join(java.net.InetAddress,java.net.NetworkInterface)">any-source</a> and <a href="../nio/channels/multicastchannel.html#join(java.net.InetAddress,java.net.NetworkInterface,java.net.InetAddress)">source-specific</a> multicast. Consider using <a href="../nio/channels/datagramchannel.html" title="class in java.nio.channels"><code>DatagramChannel</code></a> for multicasting.</dd> <dt>Since:</dt> <dd>1.1</dd> </dl> </section> <section class="summary"> <section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table two-column-summary">         <tr>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E()" class="member-name-link">MulticastSocket</a>()</code></td>
<td> <div class="block">Constructs a multicast socket and binds it to any available port on the local host machine.</div> </td>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E(int)" class="member-name-link">MulticastSocket</a><wbr>(int port)</wbr></code></td>
<td> <div class="block">Constructs a multicast socket and binds it to the specified port on the local host machine.</div> </td>
</tr>
<tr>
<td><code><a href="#%3Cinit%3E(java.net.SocketAddress)" class="member-name-link">MulticastSocket</a><wbr>(<a href="socketaddress.html" title="class in java.net">SocketAddress</a> bindaddr)</wbr></code></td>
<td> <div class="block">Creates a multicast socket, bound to the specified local socket address.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                                                 <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code><a href="inetaddress.html" title="class in java.net">InetAddress</a></code></td>
<td><code><a href="#getInterface()" class="member-name-link">getInterface</a>()</code></td>
<td> <div class="block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">The network interface may not be uniquely identified by the InetAddress returned.</div> </div> </td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code><a href="#getLoopbackMode()" class="member-name-link">getLoopbackMode</a>()</code></td>
<td> <div class="block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">Use <a href="datagramsocket.html#getOption(java.net.SocketOption)"><code>DatagramSocket.getOption(SocketOption)</code></a> with <a href="standardsocketoptions.html#IP_MULTICAST_LOOP"><code>StandardSocketOptions.IP_MULTICAST_LOOP</code></a> instead.</div> </div> </td>
</tr>
<tr>
<td><code><a href="networkinterface.html" title="class in java.net">NetworkInterface</a></code></td>
<td><code><a href="#getNetworkInterface()" class="member-name-link">getNetworkInterface</a>()</code></td>
<td> <div class="block">Get the multicast network interface set for outgoing multicast datagrams sent from this socket.</div> </td>
</tr>
<tr>
<td><code>int</code></td>
<td><code><a href="#getTimeToLive()" class="member-name-link">getTimeToLive</a>()</code></td>
<td> <div class="block">Get the default time-to-live for multicast packets sent out on the socket.</div> </td>
</tr>
<tr>
<td><code>byte</code></td>
<td><code><a href="#getTTL()" class="member-name-link">getTTL</a>()</code></td>
<td> <div class="block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">use the <a href="#getTimeToLive()"><code>getTimeToLive()</code></a> method instead, which returns an <b>int</b> instead of a <b>byte</b>.</div> </div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#joinGroup(java.net.InetAddress)" class="member-name-link">joinGroup</a><wbr>(<a href="inetaddress.html" title="class in java.net">InetAddress</a> mcastaddr)</wbr></code></td>
<td> <div class="block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">This method does not accept the network interface on which to join the multicast group.</div> </div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#joinGroup(java.net.SocketAddress,java.net.NetworkInterface)" class="member-name-link">joinGroup</a><wbr>(<a href="socketaddress.html" title="class in java.net">SocketAddress</a> mcastaddr,
 <a href="networkinterface.html" title="class in java.net">NetworkInterface</a> netIf)</wbr></code></td>
<td> <div class="block">Joins a multicast group.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#leaveGroup(java.net.InetAddress)" class="member-name-link">leaveGroup</a><wbr>(<a href="inetaddress.html" title="class in java.net">InetAddress</a> mcastaddr)</wbr></code></td>
<td> <div class="block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">This method does not accept the network interface on which to leave the multicast group.</div> </div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#leaveGroup(java.net.SocketAddress,java.net.NetworkInterface)" class="member-name-link">leaveGroup</a><wbr>(<a href="socketaddress.html" title="class in java.net">SocketAddress</a> mcastaddr,
 <a href="networkinterface.html" title="class in java.net">NetworkInterface</a> netIf)</wbr></code></td>
<td> <div class="block">Leave a multicast group on a specified local interface.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#send(java.net.DatagramPacket,byte)" class="member-name-link">send</a><wbr>(<a href="datagrampacket.html" title="class in java.net">DatagramPacket</a> p,
 byte ttl)</wbr></code></td>
<td> <div class="block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">Use the following code or its equivalent instead:</div> </div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#setInterface(java.net.InetAddress)" class="member-name-link">setInterface</a><wbr>(<a href="inetaddress.html" title="class in java.net">InetAddress</a> inf)</wbr></code></td>
<td> <div class="block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">The InetAddress may not uniquely identify the network interface.</div> </div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#setLoopbackMode(boolean)" class="member-name-link">setLoopbackMode</a><wbr>(boolean disable)</wbr></code></td>
<td> <div class="block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">Use <a href="datagramsocket.html#setOption(java.net.SocketOption,T)"><code>DatagramSocket.setOption(SocketOption, Object)</code></a> with <a href="standardsocketoptions.html#IP_MULTICAST_LOOP"><code>StandardSocketOptions.IP_MULTICAST_LOOP</code></a> instead.</div> </div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#setNetworkInterface(java.net.NetworkInterface)" class="member-name-link">setNetworkInterface</a><wbr>(<a href="networkinterface.html" title="class in java.net">NetworkInterface</a> netIf)</wbr></code></td>
<td> <div class="block">Specify the network interface for outgoing multicast datagrams sent on this socket.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#setTimeToLive(int)" class="member-name-link">setTimeToLive</a><wbr>(int ttl)</wbr></code></td>
<td> <div class="block">Set the default time-to-live for multicast packets sent out on this <code>MulticastSocket</code> in order to control the scope of the multicasts.</div> </td>
</tr>
<tr>
<td><code>void</code></td>
<td><code><a href="#setTTL(byte)" class="member-name-link">setTTL</a><wbr>(byte ttl)</wbr></code></td>
<td> <div class="block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">use the <a href="#setTimeToLive(int)"><code>setTimeToLive(int)</code></a> method instead, which uses <b>int</b> instead of <b>byte</b> as the type for ttl.</div> </div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.net.DatagramSocket">Methods declared in class java.net.<a href="datagramsocket.html" title="class in java.net">DatagramSocket</a>
</h3> <code><a href="datagramsocket.html#bind(java.net.SocketAddress)">bind</a>, <a href="datagramsocket.html#close()">close</a>, <a href="datagramsocket.html#connect(java.net.InetAddress,int)">connect</a>, <a href="datagramsocket.html#connect(java.net.SocketAddress)">connect</a>, <a href="datagramsocket.html#disconnect()">disconnect</a>, <a href="datagramsocket.html#getBroadcast()">getBroadcast</a>, <a href="datagramsocket.html#getChannel()">getChannel</a>, <a href="datagramsocket.html#getInetAddress()">getInetAddress</a>, <a href="datagramsocket.html#getLocalAddress()">getLocalAddress</a>, <a href="datagramsocket.html#getLocalPort()">getLocalPort</a>, <a href="datagramsocket.html#getLocalSocketAddress()">getLocalSocketAddress</a>, <a href="datagramsocket.html#getOption(java.net.SocketOption)">getOption</a>, <a href="datagramsocket.html#getPort()">getPort</a>, <a href="datagramsocket.html#getReceiveBufferSize()">getReceiveBufferSize</a>, <a href="datagramsocket.html#getRemoteSocketAddress()">getRemoteSocketAddress</a>, <a href="datagramsocket.html#getReuseAddress()">getReuseAddress</a>, <a href="datagramsocket.html#getSendBufferSize()">getSendBufferSize</a>, <a href="datagramsocket.html#getSoTimeout()">getSoTimeout</a>, <a href="datagramsocket.html#getTrafficClass()">getTrafficClass</a>, <a href="datagramsocket.html#isBound()">isBound</a>, <a href="datagramsocket.html#isClosed()">isClosed</a>, <a href="datagramsocket.html#isConnected()">isConnected</a>, <a href="datagramsocket.html#receive(java.net.DatagramPacket)">receive</a>, <a href="datagramsocket.html#send(java.net.DatagramPacket)">send</a>, <a href="datagramsocket.html#setBroadcast(boolean)">setBroadcast</a>, <a href="datagramsocket.html#setDatagramSocketImplFactory(java.net.DatagramSocketImplFactory)">setDatagramSocketImplFactory</a>, <a href="datagramsocket.html#setOption(java.net.SocketOption,T)">setOption</a>, <a href="datagramsocket.html#setReceiveBufferSize(int)">setReceiveBufferSize</a>, <a href="datagramsocket.html#setReuseAddress(boolean)">setReuseAddress</a>, <a href="datagramsocket.html#setSendBufferSize(int)">setSendBufferSize</a>, <a href="datagramsocket.html#setSoTimeout(int)">setSoTimeout</a>, <a href="datagramsocket.html#setTrafficClass(int)">setTrafficClass</a>, <a href="datagramsocket.html#supportedOptions()">supportedOptions</a></code>
</div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../lang/object.html" title="class in java.lang">Object</a>
</h3> <code><a href="../lang/object.html#clone()">clone</a>, <a href="../lang/object.html#equals(java.lang.Object)">equals</a>, <a href="../lang/object.html#finalize()">finalize</a>, <a href="../lang/object.html#getClass()">getClass</a>, <a href="../lang/object.html#hashCode()">hashCode</a>, <a href="../lang/object.html#notify()">notify</a>, <a href="../lang/object.html#notifyAll()">notifyAll</a>, <a href="../lang/object.html#toString()">toString</a>, <a href="../lang/object.html#wait()">wait</a>, <a href="../lang/object.html#wait(long)">wait</a>, <a href="../lang/object.html#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;()"> <h3>MulticastSocket</h3> <pre class="lang-java" data-language="java">public MulticastSocket() throws IOException</pre> <div class="block">Constructs a multicast socket and binds it to any available port on the local host machine. The socket will be bound to the <a href="inetaddress.html#isAnyLocalAddress()"><code>wildcard</code></a> address. <p> If there is a security manager, its <code>checkListen</code> method is first called with 0 as its argument to ensure the operation is allowed. This could result in a SecurityException. </p>
<p> When the socket is created the <a href="datagramsocket.html#setReuseAddress(boolean)"><code>DatagramSocket.setReuseAddress(boolean)</code></a> method is called to enable the SO_REUSEADDR socket option.</p>
</div> <dl class="notes"> <dt>Throws:</dt> <dd>
<code><a href="../io/ioexception.html" title="class in java.io">IOException</a></code> - if an I/O exception occurs while creating the MulticastSocket</dd> <dd>
<code><a href="../lang/securityexception.html" title="class in java.lang">SecurityException</a></code> - if a security manager exists and its <code>checkListen</code> method doesn't allow the operation.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="../lang/securitymanager.html#checkListen(int)"><code>SecurityManager.checkListen(int)</code></a></li> <li><a href="datagramsocket.html#setReuseAddress(boolean)"><code>DatagramSocket.setReuseAddress(boolean)</code></a></li> <li><a href="datagramsocketimpl.html#setOption(java.net.SocketOption,T)"><code>DatagramSocketImpl.setOption(SocketOption, Object)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="&lt;init&gt;(int)"> <h3>MulticastSocket</h3> <pre class="lang-java" data-language="java">public MulticastSocket(int port) throws IOException</pre> <div class="block">Constructs a multicast socket and binds it to the specified port on the local host machine. The socket will be bound to the <a href="inetaddress.html#isAnyLocalAddress()"><code>wildcard</code></a> address. <p>If there is a security manager, its <code>checkListen</code> method is first called with the <code>port</code> argument as its argument to ensure the operation is allowed. This could result in a SecurityException. </p>
<p> When the socket is created the <a href="datagramsocket.html#setReuseAddress(boolean)"><code>DatagramSocket.setReuseAddress(boolean)</code></a> method is called to enable the SO_REUSEADDR socket option.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>port</code> - port to use</dd> <dt>Throws:</dt> <dd>
<code><a href="../io/ioexception.html" title="class in java.io">IOException</a></code> - if an I/O exception occurs while creating the MulticastSocket</dd> <dd>
<code><a href="../lang/securityexception.html" title="class in java.lang">SecurityException</a></code> - if a security manager exists and its <code>checkListen</code> method doesn't allow the operation.</dd> <dd>
<code><a href="../lang/illegalargumentexception.html" title="class in java.lang">IllegalArgumentException</a></code> - if port is <a href="datagramsocket.html#PortRange"> out of range.</a>
</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="../lang/securitymanager.html#checkListen(int)"><code>SecurityManager.checkListen(int)</code></a></li> <li><a href="datagramsocket.html#setReuseAddress(boolean)"><code>DatagramSocket.setReuseAddress(boolean)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="&lt;init&gt;(java.net.SocketAddress)"> <h3>MulticastSocket</h3> <pre class="lang-java" data-language="java">public MulticastSocket(SocketAddress bindaddr) throws IOException</pre> <div class="block">Creates a multicast socket, bound to the specified local socket address. <p> If the address is <code>null</code> an unbound socket will be created. </p>
<p>If there is a security manager, its <code>checkListen</code> method is first called with the SocketAddress port as its argument to ensure the operation is allowed. This could result in a SecurityException. </p>
<p> When the socket is created the <a href="datagramsocket.html#setReuseAddress(boolean)"><code>DatagramSocket.setReuseAddress(boolean)</code></a> method is called to enable the SO_REUSEADDR socket option.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>bindaddr</code> - Socket address to bind to, or <code>null</code> for an unbound socket.</dd> <dt>Throws:</dt> <dd>
<code><a href="../io/ioexception.html" title="class in java.io">IOException</a></code> - if an I/O exception occurs while creating the MulticastSocket</dd> <dd>
<code><a href="../lang/securityexception.html" title="class in java.lang">SecurityException</a></code> - if a security manager exists and its <code>checkListen</code> method doesn't allow the operation.</dd> <dt>Since:</dt> <dd>1.4</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="../lang/securitymanager.html#checkListen(int)"><code>SecurityManager.checkListen(int)</code></a></li> <li><a href="datagramsocket.html#setReuseAddress(boolean)"><code>DatagramSocket.setReuseAddress(boolean)</code></a></li> </ul> </dd> </dl> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="setTTL(byte)"> <h3>setTTL</h3> <pre class="lang-java" data-language="java">@Deprecated public void setTTL(byte ttl) throws IOException</pre> <div class="deprecation-block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">use the <a href="#setTimeToLive(int)"><code>setTimeToLive(int)</code></a> method instead, which uses <b>int</b> instead of <b>byte</b> as the type for ttl.</div> </div> <div class="block">Set the default time-to-live for multicast packets sent out on this <code>MulticastSocket</code> in order to control the scope of the multicasts. <p>The ttl is an <b>unsigned</b> 8-bit quantity, and so <b>must</b> be in the range <code>0 &lt;= ttl &lt;= 0xFF </code>.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>ttl</code> - the time-to-live</dd> <dt>Throws:</dt> <dd>
<code><a href="../io/ioexception.html" title="class in java.io">IOException</a></code> - if an I/O exception occurs while setting the default time-to-live value</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="#getTTL()"><code>getTTL()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="setTimeToLive(int)"> <h3>setTimeToLive</h3> <pre class="lang-java" data-language="java">public void setTimeToLive(int ttl) throws IOException</pre> <div class="block">Set the default time-to-live for multicast packets sent out on this <code>MulticastSocket</code> in order to control the scope of the multicasts. <p> The ttl <b>must</b> be in the range <code> 0 &lt;= ttl &lt;=
 255</code> or an <code>IllegalArgumentException</code> will be thrown. Multicast packets sent with a TTL of <code>0</code> are not transmitted on the network but may be delivered locally.</p>
</div> <dl class="notes"> <dt>API Note:</dt> <dd>This method is equivalent to calling <a href="datagramsocket.html#setOption(java.net.SocketOption,T)"><code>setOption(StandardSocketOptions.IP_MULTICAST_TTL, ttl)</code></a>.</dd> <dt>Parameters:</dt> <dd>
<code>ttl</code> - the time-to-live</dd> <dt>Throws:</dt> <dd>
<code><a href="../io/ioexception.html" title="class in java.io">IOException</a></code> - if an I/O exception occurs while setting the default time-to-live value</dd> <dt>Since:</dt> <dd>1.2</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="#getTimeToLive()"><code>getTimeToLive()</code></a></li> <li><a href="standardsocketoptions.html#IP_MULTICAST_TTL"><code>StandardSocketOptions.IP_MULTICAST_TTL</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="getTTL()"> <h3>getTTL</h3> <pre class="lang-java" data-language="java">@Deprecated public byte getTTL() throws IOException</pre> <div class="deprecation-block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">use the <a href="#getTimeToLive()"><code>getTimeToLive()</code></a> method instead, which returns an <b>int</b> instead of a <b>byte</b>.</div> </div> <div class="block">Get the default time-to-live for multicast packets sent out on the socket.</div> <dl class="notes"> <dt>Returns:</dt> <dd>the default time-to-live value</dd> <dt>Throws:</dt> <dd>
<code><a href="../io/ioexception.html" title="class in java.io">IOException</a></code> - if an I/O exception occurs while getting the default time-to-live value</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="#setTTL(byte)"><code>setTTL(byte)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="getTimeToLive()"> <h3>getTimeToLive</h3> <pre class="lang-java" data-language="java">public int getTimeToLive() throws IOException</pre> <div class="block">Get the default time-to-live for multicast packets sent out on the socket.</div> <dl class="notes"> <dt>API Note:</dt> <dd>This method is equivalent to calling <a href="datagramsocket.html#getOption(java.net.SocketOption)"><code>getOption(StandardSocketOptions.IP_MULTICAST_TTL)</code></a>.</dd> <dt>Returns:</dt> <dd>the default time-to-live value</dd> <dt>Throws:</dt> <dd>
<code><a href="../io/ioexception.html" title="class in java.io">IOException</a></code> - if an I/O exception occurs while getting the default time-to-live value</dd> <dt>Since:</dt> <dd>1.2</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="#setTimeToLive(int)"><code>setTimeToLive(int)</code></a></li> <li><a href="standardsocketoptions.html#IP_MULTICAST_TTL"><code>StandardSocketOptions.IP_MULTICAST_TTL</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="joinGroup(java.net.InetAddress)"> <h3>joinGroup</h3> <pre class="lang-java" data-language="java">@Deprecated(since="14") public void joinGroup(InetAddress mcastaddr) throws IOException</pre> <div class="deprecation-block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">This method does not accept the network interface on which to join the multicast group. Use <a href="#joinGroup(java.net.SocketAddress,java.net.NetworkInterface)"><code>joinGroup(SocketAddress, NetworkInterface)</code></a> instead.</div> </div> <div class="block">Joins a multicast group. Its behavior may be affected by <code>setInterface</code> or <code>setNetworkInterface</code>. <p>If there is a security manager, this method first calls its <code>checkMulticast</code> method with the <code>mcastaddr</code> argument as its argument.</p>
</div> <dl class="notes"> <dt>API Note:</dt> <dd>Calling this method is equivalent to calling <a href="#joinGroup(java.net.SocketAddress,java.net.NetworkInterface)"><code>joinGroup(new InetSocketAddress(mcastaddr, 0), null)</code></a>.</dd> <dt>Parameters:</dt> <dd>
<code>mcastaddr</code> - is the multicast address to join</dd> <dt>Throws:</dt> <dd>
<code><a href="../io/ioexception.html" title="class in java.io">IOException</a></code> - if there is an error joining, or when the address is not a multicast address, or the platform does not support multicasting</dd> <dd>
<code><a href="../lang/securityexception.html" title="class in java.lang">SecurityException</a></code> - if a security manager exists and its <code>checkMulticast</code> method doesn't allow the join.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="../lang/securitymanager.html#checkMulticast(java.net.InetAddress)"><code>SecurityManager.checkMulticast(InetAddress)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="leaveGroup(java.net.InetAddress)"> <h3>leaveGroup</h3> <pre class="lang-java" data-language="java">@Deprecated(since="14") public void leaveGroup(InetAddress mcastaddr) throws IOException</pre> <div class="deprecation-block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">This method does not accept the network interface on which to leave the multicast group. Use <a href="#leaveGroup(java.net.SocketAddress,java.net.NetworkInterface)"><code>leaveGroup(SocketAddress, NetworkInterface)</code></a> instead.</div> </div> <div class="block">Leave a multicast group. Its behavior may be affected by <code>setInterface</code> or <code>setNetworkInterface</code>. <p>If there is a security manager, this method first calls its <code>checkMulticast</code> method with the <code>mcastaddr</code> argument as its argument.</p>
</div> <dl class="notes"> <dt>API Note:</dt> <dd>Calling this method is equivalent to calling <a href="#leaveGroup(java.net.SocketAddress,java.net.NetworkInterface)"><code>leaveGroup(new InetSocketAddress(mcastaddr, 0), null)</code></a>.</dd> <dt>Parameters:</dt> <dd>
<code>mcastaddr</code> - is the multicast address to leave</dd> <dt>Throws:</dt> <dd>
<code><a href="../io/ioexception.html" title="class in java.io">IOException</a></code> - if there is an error leaving or when the address is not a multicast address.</dd> <dd>
<code><a href="../lang/securityexception.html" title="class in java.lang">SecurityException</a></code> - if a security manager exists and its <code>checkMulticast</code> method doesn't allow the operation.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="../lang/securitymanager.html#checkMulticast(java.net.InetAddress)"><code>SecurityManager.checkMulticast(InetAddress)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="joinGroup(java.net.SocketAddress,java.net.NetworkInterface)"> <h3>joinGroup</h3> <pre class="lang-java" data-language="java">public void joinGroup(SocketAddress mcastaddr, NetworkInterface netIf) throws IOException</pre> <div class="block">Joins a multicast group. <p> In order to join a multicast group, the caller should specify the IP address of the multicast group to join, and the local <a href="networkinterface.html" title="class in java.net">network interface</a> to receive multicast packets from. </p>
<ul> <li> The <code>mcastaddr</code> argument indicates the IP address of the multicast group to join. For historical reasons this is specified as a <code>SocketAddress</code>. The default implementation only supports <a href="inetsocketaddress.html" title="class in java.net"><code>InetSocketAddress</code></a> and the <a href="inetsocketaddress.html#getPort()"><code>port</code></a> information is ignored. </li> <li> The <code>netIf</code> argument specifies the local interface to receive multicast datagram packets, or <code>null</code> to defer to the interface set for outgoing multicast datagrams. If <code>null</code>, and no interface has been set, the behaviour is unspecified: any interface may be selected or the operation may fail with a <code>SocketException</code>. </li> </ul> <p> It is possible to call this method several times to join several different multicast groups, or join the same group in several different networks. However, if the socket is already a member of the group, an <a href="../io/ioexception.html" title="class in java.io"><code>IOException</code></a> will be thrown. </p>
<p>If there is a security manager, this method first calls its <code>checkMulticast</code> method with the <code>mcastaddr</code> argument as its argument.</p>
</div> <dl class="notes"> <dt>Overrides:</dt> <dd>
<code><a href="datagramsocket.html#joinGroup(java.net.SocketAddress,java.net.NetworkInterface)">joinGroup</a></code> in class <code><a href="datagramsocket.html" title="class in java.net">DatagramSocket</a></code>
</dd> <dt>Parameters:</dt> <dd>
<code>mcastaddr</code> - indicates the multicast address to join.</dd> <dd>
<code>netIf</code> - specifies the local interface to receive multicast datagram packets, or <code>null</code>.</dd> <dt>Throws:</dt> <dd>
<code><a href="../io/ioexception.html" title="class in java.io">IOException</a></code> - if there is an error joining, or when the address is not a multicast address, or the platform does not support multicasting</dd> <dd>
<code><a href="../lang/securityexception.html" title="class in java.lang">SecurityException</a></code> - if a security manager exists and its <code>checkMulticast</code> method doesn't allow the join.</dd> <dd>
<code><a href="../lang/illegalargumentexception.html" title="class in java.lang">IllegalArgumentException</a></code> - if mcastaddr is <code>null</code> or is a SocketAddress subclass not supported by this socket</dd> <dt>Since:</dt> <dd>1.4</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="../lang/securitymanager.html#checkMulticast(java.net.InetAddress)"><code>SecurityManager.checkMulticast(InetAddress)</code></a></li> <li><a href="../nio/channels/multicastchannel.html#join(java.net.InetAddress,java.net.NetworkInterface)"><code>MulticastChannel.join(InetAddress, NetworkInterface)</code></a></li> <li><a href="standardsocketoptions.html#IP_MULTICAST_IF"><code>StandardSocketOptions.IP_MULTICAST_IF</code></a></li> <li><a href="#setNetworkInterface(java.net.NetworkInterface)"><code>setNetworkInterface(NetworkInterface)</code></a></li> <li><a href="#setInterface(java.net.InetAddress)"><code>setInterface(InetAddress)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="leaveGroup(java.net.SocketAddress,java.net.NetworkInterface)"> <h3>leaveGroup</h3> <pre class="lang-java" data-language="java">public void leaveGroup(SocketAddress mcastaddr, NetworkInterface netIf) throws IOException</pre> <div class="block">Leave a multicast group on a specified local interface. <p>If there is a security manager, this method first calls its <code>checkMulticast</code> method with the <code>mcastaddr</code> argument as its argument.</p>
</div> <dl class="notes"> <dt>Overrides:</dt> <dd>
<code><a href="datagramsocket.html#leaveGroup(java.net.SocketAddress,java.net.NetworkInterface)">leaveGroup</a></code> in class <code><a href="datagramsocket.html" title="class in java.net">DatagramSocket</a></code>
</dd> <dt>API Note:</dt> <dd>The <code>mcastaddr</code> and <code>netIf</code> arguments should identify a multicast group that was previously <a href="datagramsocket.html#joinGroup(java.net.SocketAddress,java.net.NetworkInterface)">joined</a> by this <code>DatagramSocket</code>. <p> It is possible to call this method several times to leave multiple different multicast groups previously joined, or leave the same group previously joined in multiple different networks. However, if the socket is not a member of the specified group in the specified network, an <a href="../io/ioexception.html" title="class in java.io"><code>IOException</code></a> will be thrown.</p>
</dd> <dt>Parameters:</dt> <dd>
<code>mcastaddr</code> - is the multicast address to leave. This should contain the same IP address than that used for <a href="datagramsocket.html#joinGroup(java.net.SocketAddress,java.net.NetworkInterface)">joining</a> the group.</dd> <dd>
<code>netIf</code> - specifies the local interface or <code>null</code> to defer to the interface set for outgoing multicast datagrams. If <code>null</code>, and no interface has been set, the behaviour is unspecified: any interface may be selected or the operation may fail with a <code>SocketException</code>.</dd> <dt>Throws:</dt> <dd>
<code><a href="../io/ioexception.html" title="class in java.io">IOException</a></code> - if there is an error leaving or when the address is not a multicast address.</dd> <dd>
<code><a href="../lang/securityexception.html" title="class in java.lang">SecurityException</a></code> - if a security manager exists and its <code>checkMulticast</code> method doesn't allow the operation.</dd> <dd>
<code><a href="../lang/illegalargumentexception.html" title="class in java.lang">IllegalArgumentException</a></code> - if mcastaddr is <code>null</code> or is a SocketAddress subclass not supported by this socket.</dd> <dt>Since:</dt> <dd>1.4</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="../lang/securitymanager.html#checkMulticast(java.net.InetAddress)"><code>SecurityManager.checkMulticast(InetAddress)</code></a></li> <li><a href="#joinGroup(java.net.SocketAddress,java.net.NetworkInterface)"><code>joinGroup(SocketAddress, NetworkInterface)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="setInterface(java.net.InetAddress)"> <h3>setInterface</h3> <pre class="lang-java" data-language="java">@Deprecated(since="14") public void setInterface(InetAddress inf) throws SocketException</pre> <div class="deprecation-block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">The InetAddress may not uniquely identify the network interface. Use <a href="#setNetworkInterface(java.net.NetworkInterface)"><code>setNetworkInterface(NetworkInterface)</code></a> instead.</div> </div> <div class="block">Set the multicast network interface used by methods whose behavior would be affected by the value of the network interface. Useful for multihomed hosts.</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>inf</code> - the InetAddress</dd> <dt>Throws:</dt> <dd>
<code><a href="socketexception.html" title="class in java.net">SocketException</a></code> - if there is an error in the underlying protocol, such as a TCP error.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="#getInterface()"><code>getInterface()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="getInterface()"> <h3>getInterface</h3> <pre class="lang-java" data-language="java">@Deprecated(since="14") public InetAddress getInterface() throws SocketException</pre> <div class="deprecation-block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">The network interface may not be uniquely identified by the InetAddress returned. Use <a href="#getNetworkInterface()"><code>getNetworkInterface()</code></a> instead.</div> </div> <div class="block">Retrieve the address of the network interface used for multicast packets.</div> <dl class="notes"> <dt>Returns:</dt> <dd>An <code>InetAddress</code> representing the address of the network interface used for multicast packets, or if no interface has been set, an <code>InetAddress</code> representing any local address.</dd> <dt>Throws:</dt> <dd>
<code><a href="socketexception.html" title="class in java.net">SocketException</a></code> - if there is an error in the underlying protocol, such as a TCP error.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="#setInterface(java.net.InetAddress)"><code>setInterface(java.net.InetAddress)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="setNetworkInterface(java.net.NetworkInterface)"> <h3>setNetworkInterface</h3> <pre class="lang-java" data-language="java">public void setNetworkInterface(NetworkInterface netIf) throws SocketException</pre> <div class="block">Specify the network interface for outgoing multicast datagrams sent on this socket.</div> <dl class="notes"> <dt>API Note:</dt> <dd>This method is equivalent to calling <a href="datagramsocket.html#setOption(java.net.SocketOption,T)"><code>setOption(StandardSocketOptions.IP_MULTICAST_IF, netIf)</code></a>.</dd> <dt>Parameters:</dt> <dd>
<code>netIf</code> - the interface</dd> <dt>Throws:</dt> <dd>
<code><a href="socketexception.html" title="class in java.net">SocketException</a></code> - if there is an error in the underlying protocol, such as a TCP error.</dd> <dt>Since:</dt> <dd>1.4</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="#getNetworkInterface()"><code>getNetworkInterface()</code></a></li> <li><a href="standardsocketoptions.html#IP_MULTICAST_IF"><code>StandardSocketOptions.IP_MULTICAST_IF</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="getNetworkInterface()"> <h3>getNetworkInterface</h3> <pre class="lang-java" data-language="java">public NetworkInterface getNetworkInterface() throws SocketException</pre> <div class="block">Get the multicast network interface set for outgoing multicast datagrams sent from this socket.</div> <dl class="notes"> <dt>API Note:</dt> <dd>When an interface is set, this method is equivalent to calling <a href="datagramsocket.html#getOption(java.net.SocketOption)"><code>getOption(StandardSocketOptions.IP_MULTICAST_IF)</code></a>.</dd> <dt>Returns:</dt> <dd>The multicast <code>NetworkInterface</code> currently set. A placeholder NetworkInterface is returned when there is no interface set; it has a single InetAddress to represent any local address.</dd> <dt>Throws:</dt> <dd>
<code><a href="socketexception.html" title="class in java.net">SocketException</a></code> - if there is an error in the underlying protocol, such as a TCP error.</dd> <dt>Since:</dt> <dd>1.4</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="#setNetworkInterface(java.net.NetworkInterface)"><code>setNetworkInterface(NetworkInterface)</code></a></li> <li><a href="standardsocketoptions.html#IP_MULTICAST_IF"><code>StandardSocketOptions.IP_MULTICAST_IF</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="setLoopbackMode(boolean)"> <h3>setLoopbackMode</h3> <pre class="lang-java" data-language="java">@Deprecated(since="14") public void setLoopbackMode(boolean disable) throws SocketException</pre> <div class="deprecation-block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">Use <a href="datagramsocket.html#setOption(java.net.SocketOption,T)"><code>DatagramSocket.setOption(SocketOption, Object)</code></a> with <a href="standardsocketoptions.html#IP_MULTICAST_LOOP"><code>StandardSocketOptions.IP_MULTICAST_LOOP</code></a> instead. The loopback mode is enabled by default, <code>MulticastSocket.setOption(StandardSocketOptions.IP_MULTICAST_LOOP, false)</code> disables it.</div> </div> <div class="block">Disable/Enable local loopback of multicast datagrams. The option is used by the platform's networking code as a hint for setting whether multicast data will be looped back to the local socket. <p>Because this option is a hint, applications that want to verify what loopback mode is set to should call <a href="#getLoopbackMode()"><code>getLoopbackMode()</code></a></p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>disable</code> - <code>true</code> to disable the LoopbackMode</dd> <dt>Throws:</dt> <dd>
<code><a href="socketexception.html" title="class in java.net">SocketException</a></code> - if an error occurs while setting the value</dd> <dt>Since:</dt> <dd>1.4</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="#getLoopbackMode()"><code>getLoopbackMode()</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="getLoopbackMode()"> <h3>getLoopbackMode</h3> <pre class="lang-java" data-language="java">@Deprecated(since="14") public boolean getLoopbackMode() throws SocketException</pre> <div class="deprecation-block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">Use <a href="datagramsocket.html#getOption(java.net.SocketOption)"><code>DatagramSocket.getOption(SocketOption)</code></a> with <a href="standardsocketoptions.html#IP_MULTICAST_LOOP"><code>StandardSocketOptions.IP_MULTICAST_LOOP</code></a> instead.</div> </div> <div class="block">Get the setting for local loopback of multicast datagrams.</div> <dl class="notes"> <dt>Returns:</dt> <dd>true if the LoopbackMode has been disabled</dd> <dt>Throws:</dt> <dd>
<code><a href="socketexception.html" title="class in java.net">SocketException</a></code> - if an error occurs while getting the value</dd> <dt>Since:</dt> <dd>1.4</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="#setLoopbackMode(boolean)"><code>setLoopbackMode(boolean)</code></a></li> </ul> </dd> </dl> </section><section class="detail" id="send(java.net.DatagramPacket,byte)"> <h3>send</h3> <pre class="lang-java" data-language="java">@Deprecated public void send(DatagramPacket p, byte ttl) throws IOException</pre> <div class="deprecation-block">
<span class="deprecated-label">Deprecated.</span> <div class="deprecation-comment">Use the following code or its equivalent instead: <pre class="lang-java" data-language="java"><code>  ......
  int ttl = mcastSocket.getOption(StandardSocketOptions.IP_MULTICAST_TTL);
  mcastSocket.setOption(StandardSocketOptions.IP_MULTICAST_TTL, newttl);
  mcastSocket.send(p);
  mcastSocket.setOption(StandardSocketOptions.IP_MULTICAST_TTL, ttl);
  ......</code></pre>
</div> </div> <div class="block">Sends a datagram packet to the destination, with a TTL (time-to-live) other than the default for the socket. This method need only be used in instances where a particular TTL is desired; otherwise it is preferable to set a TTL once on the socket, and use that default TTL for all packets. This method does <b>not </b> alter the default TTL for the socket. Its behavior may be affected by <code>setInterface</code>. <p>If there is a security manager, this method first performs some security checks. First, if <code>p.getAddress().isMulticastAddress()</code> is true, this method calls the security manager's <code>checkMulticast</code> method with <code>p.getAddress()</code> and <code>ttl</code> as its arguments. If the evaluation of that expression is false, this method instead calls the security manager's <code>checkConnect</code> method with arguments <code>p.getAddress().getHostAddress()</code> and <code>p.getPort()</code>. Each call to a security manager method could result in a SecurityException if the operation is not allowed.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>p</code> - is the packet to be sent. The packet should contain the destination multicast ip address and the data to be sent. One does not need to be the member of the group to send packets to a destination multicast address.</dd> <dd>
<code>ttl</code> - optional time to live for multicast packet. default ttl is 1.</dd> <dt>Throws:</dt> <dd>
<code><a href="../io/ioexception.html" title="class in java.io">IOException</a></code> - is raised if an error occurs i.e error while setting ttl.</dd> <dd>
<code><a href="../lang/securityexception.html" title="class in java.lang">SecurityException</a></code> - if a security manager exists and its <code>checkMulticast</code> or <code>checkConnect</code> method doesn't allow the send.</dd> <dd>
<code><a href="portunreachableexception.html" title="class in java.net">PortUnreachableException</a></code> - may be thrown if the socket is connected to a currently unreachable destination. Note, there is no guarantee that the exception will be thrown.</dd> <dd>
<code><a href="../lang/illegalargumentexception.html" title="class in java.lang">IllegalArgumentException</a></code> - if the socket is connected, and connected address and packet address differ, or if the socket is not connected and the packet address is not set or if its port is out of range.</dd> <dt>See Also:</dt> <dd> <ul class="tag-list-long"> <li><a href="datagramsocket.html#send(java.net.DatagramPacket)"><code>DatagramSocket.send(java.net.DatagramPacket)</code></a></li> <li><a href="datagramsocket.html#receive(java.net.DatagramPacket)"><code>DatagramSocket.receive(java.net.DatagramPacket)</code></a></li> <li><a href="../lang/securitymanager.html#checkMulticast(java.net.InetAddress,byte)"><code>SecurityManager.checkMulticast(java.net.InetAddress, byte)</code></a></li> <li><a href="../lang/securitymanager.html#checkConnect(java.lang.String,int)"><code>SecurityManager.checkConnect(java.lang.String, int)</code></a></li> </ul> </dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/MulticastSocket.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/net/MulticastSocket.html</a>
  </p>
</div>
