<h1 title="Class Event" class="title">Class Event</h1> <div class="inheritance" title="Inheritance Tree">
<a href="../../../java.base/java/lang/object.html" title="class in java.lang">java.lang.Object</a> <div class="inheritance">jdk.jfr.Event</div> </div> <section class="class-description" id="class-description">  <pre class="lang-java" data-language="java">public abstract class Event extends Object</pre> <div class="block">Base class for events, to be subclassed in order to define events and their fields. <p> The following example shows how to implement an <code>Event</code> class. </p>
<div class="snippet-container"> <pre class="lang-java" data-language="java"><code class="language-java">public class Example {

    @Label("Hello World")
    @Description("Helps programmer getting started")
    static class HelloWorld extends Event {
        @Label("Message")
        String message;
    }

    public static void main(String... args) {
        HelloWorld event = new HelloWorld();
        event.message = "hello, world!";
        event.commit();
    }
}
</code></pre> </div> <p> After an event is allocated and its field members are populated, it can be written to the Flight Recorder system by using the <a href="#commit()"><code>commit()</code></a> method. </p>
<p> By default, an event is enabled. To disable an event annotate the <a href="event.html" title="class in jdk.jfr"><code>Event</code></a> class with <code>@Enabled(false)</code>. </p>
<p> Supported field types are the Java primitives: <code>boolean</code>, <code>char</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code>, <code>float</code>, and <code>double</code>. Supported reference types are: <code>String</code>, <code>Thread</code> and <code>Class</code>. Arrays, enums, and other reference types are silently ignored and not included. Fields that are of the supported types can be excluded by using the transient modifier. Static fields, even of the supported types, are not included. </p>
<p> Tools can visualize data in a meaningful way when annotations are used (for example, <code>Label</code>, <code>Description</code>, and <code>Timespan</code>). Annotations applied to an <a href="event.html" title="class in jdk.jfr"><code>Event</code></a> class or its fields are included if they are present (indirectly, directly, or associated), have the <code>MetadataDefinition</code> annotation, and they do not contain enums, arrays, or classes. </p>
<p> Gathering data to store in an event can be expensive. The <a href="#shouldCommit()"><code>shouldCommit()</code></a> method can be used to verify whether an event instance would actually be written to the system when the <code>commit()</code> method is invoked. If <code>shouldCommit()</code> returns false, then those operations can be avoided.</p>
</div> <dl class="notes"> <dt>Since:</dt> <dd>9</dd> </dl> </section> <section class="summary"> <section class="constructor-summary" id="constructor-summary"> <h2>Constructor Summary</h2>  <table class="summary-table three-column-summary">     <div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">Event</a>()</code></div>  <tr>
<th>Modifier</th>
<th>Constructor</th>
<th>Description</th>
</tr>
<tr>
<td><code>protected </code></td>
<td> <div class="block">Sole constructor, for invocation by subclass constructors, typically implicit.</div> </td>
</tr>
</table> </section><section class="method-summary" id="method-summary"> <h2>Method Summary</h2> <div id="method-summary-table">  <div id="method-summary-table.tabpanel" role="tabpanel"> <table class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">                      <tr>
<th>Modifier and Type</th>
<th>Method</th>
<th>Description</th>
</tr>
<tr>
<td><code>final void</code></td>
<td><code><a href="#begin()" class="member-name-link">begin</a>()</code></td>
<td> <div class="block">Starts the timing of this event.</div> </td>
</tr>
<tr>
<td><code>final void</code></td>
<td><code><a href="#commit()" class="member-name-link">commit</a>()</code></td>
<td> <div class="block">Writes the field values, time stamp, and event duration to the Flight Recorder system.</div> </td>
</tr>
<tr>
<td><code>final void</code></td>
<td><code><a href="#end()" class="member-name-link">end</a>()</code></td>
<td> <div class="block">Ends the timing of this event.</div> </td>
</tr>
<tr>
<td><code>final boolean</code></td>
<td><code><a href="#isEnabled()" class="member-name-link">isEnabled</a>()</code></td>
<td> <div class="block">Returns <code>true</code> if at least one recording is running, and the enabled setting for this event is set to <code>true</code>, otherwise <code>false</code> is returned.</div> </td>
</tr>
<tr>
<td><code>final void</code></td>
<td><code><a href="#set(int,java.lang.Object)" class="member-name-link">set</a><wbr>(int index,
 <a href="../../../java.base/java/lang/object.html" title="class in java.lang">Object</a> value)</wbr></code></td>
<td> <div class="block">Sets a field value.</div> </td>
</tr>
<tr>
<td><code>final boolean</code></td>
<td><code><a href="#shouldCommit()" class="member-name-link">shouldCommit</a>()</code></td>
<td> <div class="block">Returns <code>true</code> if the enabled setting for this event is set to <code>true</code> and if the duration is within the threshold for the event, <code>false</code> otherwise.</div> </td>
</tr>
</table> </div> </div> <div class="inherited-list"> <h3 id="methods-inherited-from-class-java.lang.Object">Methods declared in class java.lang.<a href="../../../java.base/java/lang/object.html" title="class in java.lang">Object</a>
</h3> <code><a href="../../../java.base/java/lang/object.html#clone()">clone</a>, <a href="../../../java.base/java/lang/object.html#equals(java.lang.Object)">equals</a>, <a href="../../../java.base/java/lang/object.html#finalize()">finalize</a>, <a href="../../../java.base/java/lang/object.html#getClass()">getClass</a>, <a href="../../../java.base/java/lang/object.html#hashCode()">hashCode</a>, <a href="../../../java.base/java/lang/object.html#notify()">notify</a>, <a href="../../../java.base/java/lang/object.html#notifyAll()">notifyAll</a>, <a href="../../../java.base/java/lang/object.html#toString()">toString</a>, <a href="../../../java.base/java/lang/object.html#wait()">wait</a>, <a href="../../../java.base/java/lang/object.html#wait(long)">wait</a>, <a href="../../../java.base/java/lang/object.html#wait(long,int)">wait</a></code>
</div> </section> </section> <section class="details"> <section class="constructor-details" id="constructor-detail"> <h2>Constructor Details</h2>  </section><section class="detail" id="&lt;init&gt;()"> <h3>Event</h3> <pre class="lang-java" data-language="java">protected Event()</pre> <div class="block">Sole constructor, for invocation by subclass constructors, typically implicit.</div> </section><section class="method-details" id="method-detail"> <h2>Method Details</h2>  </section><section class="detail" id="begin()"> <h3>begin</h3> <pre class="lang-java" data-language="java">public final void begin()</pre> <div class="block">Starts the timing of this event.</div> </section><section class="detail" id="end()"> <h3>end</h3> <pre class="lang-java" data-language="java">public final void end()</pre> <div class="block">Ends the timing of this event. The <code>end</code> method must be invoked after the <code>begin</code> method.</div> </section><section class="detail" id="commit()"> <h3>commit</h3> <pre class="lang-java" data-language="java">public final void commit()</pre> <div class="block">Writes the field values, time stamp, and event duration to the Flight Recorder system. <p> If the event starts with an invocation of the <code>begin</code> method, but does not end with an explicit invocation of the <code>end</code> method, then the event ends when the <code>commit</code> method is invoked.</p>
</div> </section><section class="detail" id="isEnabled()"> <h3>isEnabled</h3> <pre class="lang-java" data-language="java">public final boolean isEnabled()</pre> <div class="block">Returns <code>true</code> if at least one recording is running, and the enabled setting for this event is set to <code>true</code>, otherwise <code>false</code> is returned.</div> <dl class="notes"> <dt>Returns:</dt> <dd>
<code>true</code> if event is enabled, <code>false</code> otherwise</dd> </dl> </section><section class="detail" id="shouldCommit()"> <h3>shouldCommit</h3> <pre class="lang-java" data-language="java">public final boolean shouldCommit()</pre> <div class="block">Returns <code>true</code> if the enabled setting for this event is set to <code>true</code> and if the duration is within the threshold for the event, <code>false</code> otherwise. The threshold is the minimum threshold for all running recordings.</div> <dl class="notes"> <dt>Returns:</dt> <dd>
<code>true</code> if the event can be written to the Flight Recorder system, <code>false</code> otherwise</dd> </dl> </section><section class="detail" id="set(int,java.lang.Object)"> <h3>set</h3> <pre class="lang-java" data-language="java">public final void set(int index, Object value)</pre> <div class="block">Sets a field value. <p> Applicable only if the event is dynamically defined using the <code>EventFactory</code> class. </p>
<p> The supplied <code>index</code> corresponds to the index of the <a href="valuedescriptor.html" title="class in jdk.jfr"><code>ValueDescriptor</code></a> object passed to the factory method of the <code>EventFactory</code> class.</p>
</div> <dl class="notes"> <dt>Parameters:</dt> <dd>
<code>index</code> - the index of the field that is passed to <a href="eventfactory.html#create(java.util.List,java.util.List)"><code>EventFactory.create(java.util.List, java.util.List)</code></a>
</dd> <dd>
<code>value</code> - value to set, can be <code>null</code>
</dd> <dt>Throws:</dt> <dd>
<code><a href="../../../java.base/java/lang/unsupportedoperationexception.html" title="class in java.lang">UnsupportedOperationException</a></code> - if it's not a dynamically generated event</dd> <dd>
<code><a href="../../../java.base/java/lang/indexoutofboundsexception.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>index</code> is less than <code>0</code> or greater than or equal to the number of fields specified for the event</dd> <dt>See Also:</dt> <dd> <ul class="tag-list"> <li><a href="eventtype.html#getFields()"><code>EventType.getFields()</code></a></li> <li><a href="eventfactory.html" title="class in jdk.jfr"><code>EventFactory</code></a></li> </ul> </dd> </dl> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993, 2023, Oracle and/or its affiliates. All rights reserved.<br>Documentation extracted from Debian's OpenJDK Development Kit package.<br>Licensed under the GNU General Public License, version 2, with the Classpath Exception.<br>Various third party code in OpenJDK is licensed under different licenses (see Debian package).<br>Java and OpenJDK are trademarks or registered trademarks of Oracle and/or its affiliates.<br>
    <a href="https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jfr/jdk/jfr/Event.html" class="_attribution-link">https://docs.oracle.com/en/java/javase/21/docs/api/jdk.jfr/jdk/jfr/Event.html</a>
  </p>
</div>
