<h1>SchemaNumber</h1>

<div class="api-content">
<h3 id="SchemaNumber()">SchemaNumber()</h3>
<h5>Parameters:</h5>
<ul class="params">
<li class="param">
<code>key</code> <span class="method-type">«String»</span> </li>
<li class="param">
<code>options</code> <span class="method-type">«Object»</span> </li>
</ul>
<h5>Inherits:</h5>
<ul><li><span class="method-type"><a href="schematype.html">«SchemaType»</a></span></li></ul>
<div>
<p>Number SchemaType constructor.</p> </div>
<h3 id="SchemaNumber.checkRequired()">SchemaNumber.checkRequired()</h3>
<h5>Parameters:</h5>
<ul class="params"><li class="param">
<code>fn</code> <span class="method-type">«Function»</span> </li></ul>
<h5>Returns:</h5>
<ul><li>
<span class="method-type">«Function»</span> </li></ul>
<h5>Type:</h5>
<ul><li><span class="method-type">«property»</span></li></ul>
<div>
<p>Override the function the required validator uses to check whether a string passes the <code>required</code> check.</p> </div>
<h3 id="SchemaNumber.get()">SchemaNumber.get()</h3>
<h5>Parameters:</h5>
<ul class="params"><li class="param">
<code>getter</code> <span class="method-type">«Function»</span> </li></ul>
<h5>Returns:</h5>
<ul><li>
<span class="method-type">«this»</span> </li></ul>
<h5>Type:</h5>
<ul><li><span class="method-type">«property»</span></li></ul>
<div>
<p>Attaches a getter for all Number instances.</p> <h4 id="example"> <a href="#example"> Example: </a> </h4> <pre data-language="javascript"><span class="hljs-comment">// Make all numbers round down</span>
mongoose.<span class="hljs-property">Number</span>.<span class="hljs-title function_">get</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">v</span>) { <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(v); });

<span class="hljs-keyword">const</span> <span class="hljs-title class_">Model</span> = mongoose.<span class="hljs-title function_">model</span>(<span class="hljs-string">'Test'</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Schema</span>({ <span class="hljs-attr">test</span>: <span class="hljs-title class_">Number</span> }));
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Model</span>({ <span class="hljs-attr">test</span>: <span class="hljs-number">3.14</span> }).<span class="hljs-property">test</span>; <span class="hljs-comment">// 3</span>
</pre> </div>
<h3 id="SchemaNumber.get()">SchemaNumber.get()</h3>
<h5>Parameters:</h5>
<ul class="params"><li class="param">
<code>caster</code> <span class="method-type">«Function»</span> </li></ul>
<h5>Returns:</h5>
<ul><li>
<span class="method-type">«Function»</span> </li></ul>
<h5>Type:</h5>
<ul><li><span class="method-type">«property»</span></li></ul>
<div>
<p>Get/set the function used to cast arbitrary values to numbers.</p> <h4 id="example"> <a href="#example"> Example: </a> </h4> <pre data-language="javascript"><span class="hljs-comment">// Make Mongoose cast empty strings '' to 0 for paths declared as numbers</span>
<span class="hljs-keyword">const</span> original = mongoose.<span class="hljs-property">Number</span>.<span class="hljs-title function_">cast</span>();
mongoose.<span class="hljs-property">Number</span>.<span class="hljs-title function_">cast</span>(<span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (v === <span class="hljs-string">''</span>) { <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; }
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">original</span>(v);
});

<span class="hljs-comment">// Or disable casting entirely</span>
mongoose.<span class="hljs-property">Number</span>.<span class="hljs-title function_">cast</span>(<span class="hljs-literal">false</span>);
</pre> </div>
<h3 id="SchemaNumber.prototype.checkRequired()">SchemaNumber.prototype.checkRequired()</h3>
<h5>Parameters:</h5>
<ul class="params">
<li class="param">
<code>value</code> <span class="method-type">«Any»</span> </li>
<li class="param">
<code>doc</code> <span class="method-type">«Document»</span> </li>
</ul>
<h5>Returns:</h5>
<ul><li>
<span class="method-type">«Boolean»</span> </li></ul>
<div>
<p>Check if the given value satisfies a required validator.</p> </div>
<h3 id="SchemaNumber.prototype.enum()">SchemaNumber.prototype.enum()</h3>
<h5>Parameters:</h5>
<ul class="params">
<li class="param">
<code>values</code> <span class="method-type">«Array»</span> allowed values </li>
<li class="param">
<code>[message]</code> <span class="method-type">«String»</span> optional custom error message </li>
</ul>
<h5>Returns:</h5>
<ul><li>
<span class="method-type">«SchemaType»</span> this</li></ul>
<h5>See:</h5>
<ul><li><span class="method-type"><a href="error.html#Error.messages">Customized Error Messages</a></span></li></ul>
<div>
<p>Sets a enum validator</p> <h4 id="example"> <a href="#example"> Example: </a> </h4> <pre data-language="javascript"><span class="hljs-keyword">const</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Schema</span>({ <span class="hljs-attr">n</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>, <span class="hljs-attr">enum</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>] });
<span class="hljs-keyword">const</span> M = db.<span class="hljs-title function_">model</span>(<span class="hljs-string">'M'</span>, s);

<span class="hljs-keyword">const</span> m = <span class="hljs-keyword">new</span> <span class="hljs-title function_">M</span>({ <span class="hljs-attr">n</span>: <span class="hljs-number">4</span> });
<span class="hljs-keyword">await</span> m.<span class="hljs-title function_">save</span>(); <span class="hljs-comment">// throws validation error</span>

m.<span class="hljs-property">n</span> = <span class="hljs-number">3</span>;
<span class="hljs-keyword">await</span> m.<span class="hljs-title function_">save</span>(); <span class="hljs-comment">// succeeds</span>
</pre> </div>
<h3 id="SchemaNumber.prototype.max()">SchemaNumber.prototype.max()</h3>
<h5>Parameters:</h5>
<ul class="params">
<li class="param">
<code>maximum</code> <span class="method-type">«Number»</span> number </li>
<li class="param">
<code>[message]</code> <span class="method-type">«String»</span> optional custom error message </li>
</ul>
<h5>Returns:</h5>
<ul><li>
<span class="method-type">«SchemaType»</span> this</li></ul>
<h5>See:</h5>
<ul><li><span class="method-type"><a href="error.html#Error.messages">Customized Error Messages</a></span></li></ul>
<div>
<p>Sets a maximum number validator.</p> <h4 id="example"> <a href="#example"> Example: </a> </h4> <pre data-language="javascript"><span class="hljs-keyword">const</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Schema</span>({ <span class="hljs-attr">n</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">10</span> })
<span class="hljs-keyword">const</span> M = db.<span class="hljs-title function_">model</span>(<span class="hljs-string">'M'</span>, s)
<span class="hljs-keyword">const</span> m = <span class="hljs-keyword">new</span> <span class="hljs-title function_">M</span>({ <span class="hljs-attr">n</span>: <span class="hljs-number">11</span> })
m.<span class="hljs-title function_">save</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err) <span class="hljs-comment">// validator error</span>
  m.<span class="hljs-property">n</span> = <span class="hljs-number">10</span>;
  m.<span class="hljs-title function_">save</span>() <span class="hljs-comment">// success</span>
})

<span class="hljs-comment">// custom error messages</span>
<span class="hljs-comment">// We can also use the special {MAX} token which will be replaced with the invalid value</span>
<span class="hljs-keyword">const</span> max = [<span class="hljs-number">10</span>, <span class="hljs-string">'The value of path `{PATH}` ({VALUE}) exceeds the limit ({MAX}).'</span>];
<span class="hljs-keyword">const</span> schema = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Schema</span>({ <span class="hljs-attr">n</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>, <span class="hljs-attr">max</span>: max })
<span class="hljs-keyword">const</span> M = mongoose.<span class="hljs-title function_">model</span>(<span class="hljs-string">'Measurement'</span>, schema);
<span class="hljs-keyword">const</span> s= <span class="hljs-keyword">new</span> <span class="hljs-title function_">M</span>({ <span class="hljs-attr">n</span>: <span class="hljs-number">4</span> });
s.<span class="hljs-title function_">validate</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">String</span>(err)) <span class="hljs-comment">// ValidationError: The value of path `n` (4) exceeds the limit (10).</span>
})
</pre> </div>
<h3 id="SchemaNumber.prototype.min()">SchemaNumber.prototype.min()</h3>
<h5>Parameters:</h5>
<ul class="params">
<li class="param">
<code>value</code> <span class="method-type">«Number»</span> minimum number </li>
<li class="param">
<code>[message]</code> <span class="method-type">«String»</span> optional custom error message </li>
</ul>
<h5>Returns:</h5>
<ul><li>
<span class="method-type">«SchemaType»</span> this</li></ul>
<h5>See:</h5>
<ul><li><span class="method-type"><a href="error.html#Error.messages">Customized Error Messages</a></span></li></ul>
<div>
<p>Sets a minimum number validator.</p> <h4 id="example"> <a href="#example"> Example: </a> </h4> <pre data-language="javascript"><span class="hljs-keyword">const</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Schema</span>({ <span class="hljs-attr">n</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>, <span class="hljs-attr">min</span>: <span class="hljs-number">10</span> })
<span class="hljs-keyword">const</span> M = db.<span class="hljs-title function_">model</span>(<span class="hljs-string">'M'</span>, s)
<span class="hljs-keyword">const</span> m = <span class="hljs-keyword">new</span> <span class="hljs-title function_">M</span>({ <span class="hljs-attr">n</span>: <span class="hljs-number">9</span> })
m.<span class="hljs-title function_">save</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err) <span class="hljs-comment">// validator error</span>
  m.<span class="hljs-property">n</span> = <span class="hljs-number">10</span>;
  m.<span class="hljs-title function_">save</span>() <span class="hljs-comment">// success</span>
})

<span class="hljs-comment">// custom error messages</span>
<span class="hljs-comment">// We can also use the special {MIN} token which will be replaced with the invalid value</span>
<span class="hljs-keyword">const</span> min = [<span class="hljs-number">10</span>, <span class="hljs-string">'The value of path `{PATH}` ({VALUE}) is beneath the limit ({MIN}).'</span>];
<span class="hljs-keyword">const</span> schema = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Schema</span>({ <span class="hljs-attr">n</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>, <span class="hljs-attr">min</span>: min })
<span class="hljs-keyword">const</span> M = mongoose.<span class="hljs-title function_">model</span>(<span class="hljs-string">'Measurement'</span>, schema);
<span class="hljs-keyword">const</span> s= <span class="hljs-keyword">new</span> <span class="hljs-title function_">M</span>({ <span class="hljs-attr">n</span>: <span class="hljs-number">4</span> });
s.<span class="hljs-title function_">validate</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">String</span>(err)) <span class="hljs-comment">// ValidationError: The value of path `n` (4) is beneath the limit (10).</span>
})
</pre> </div>
<h3 id="SchemaNumber.schemaName">SchemaNumber.schemaName</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«property»</span></li></ul>
<div>
<p>This schema type's name, to defend against minifiers that mangle function names.</p> </div>
<h3 id="SchemaNumber.set()">SchemaNumber.set()</h3>
<h5>Parameters:</h5>
<ul class="params">
<li class="param">
<code>option</code> <span class="method-type">«String»</span> The option you'd like to set the value for </li>
<li class="param">
<code>value</code> <span class="method-type">«Any»</span> value for option </li>
</ul>
<h5>Returns:</h5>
<ul><li>
<span class="method-type">«undefined,void»</span> </li></ul>
<h5>Type:</h5>
<ul><li><span class="method-type">«property»</span></li></ul>
<div>
<p>Sets a default option for all Number instances.</p> <h4 id="example"> <a href="#example"> Example: </a> </h4> <pre data-language="javascript"><span class="hljs-comment">// Make all numbers have option `min` equal to 0.</span>
mongoose.<span class="hljs-property">Schema</span>.<span class="hljs-property">Number</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'min'</span>, <span class="hljs-number">0</span>);

<span class="hljs-keyword">const</span> <span class="hljs-title class_">Order</span> = mongoose.<span class="hljs-title function_">model</span>(<span class="hljs-string">'Order'</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Schema</span>({ <span class="hljs-attr">amount</span>: <span class="hljs-title class_">Number</span> }));
<span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>({ <span class="hljs-attr">amount</span>: -<span class="hljs-number">10</span> }).<span class="hljs-title function_">validateSync</span>().<span class="hljs-property">errors</span>.<span class="hljs-property">amount</span>.<span class="hljs-property">message</span>; <span class="hljs-comment">// Path `amount` must be larger than 0.</span>
</pre> </div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 LearnBoost<br>Licensed under the MIT License.<br>
    <a href="https://mongoosejs.com/docs/api/schemanumber.html" class="_attribution-link">https://mongoosejs.com/docs/api/schemanumber.html</a>
  </p>
</div>
