<h1>SchemaTypeOptions</h1>

<div class="api-content">
<h3 id="SchemaTypeOptions()">SchemaTypeOptions()</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«constructor»</span></li></ul>
<div>
<p>The options defined on a schematype.</p> <h4 id="example"> <a href="#example"> Example: </a> </h4> <pre data-language="javascript"><span class="hljs-keyword">const</span> schema = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Schema</span>({ <span class="hljs-attr">name</span>: <span class="hljs-title class_">String</span> });
schema.<span class="hljs-title function_">path</span>(<span class="hljs-string">'name'</span>).<span class="hljs-property">options</span> <span class="hljs-keyword">instanceof</span> mongoose.<span class="hljs-property">SchemaTypeOptions</span>; <span class="hljs-comment">// true</span>
</pre> </div>
<h3 id="SchemaTypeOptions.prototype.cast">SchemaTypeOptions.prototype.cast</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«String»</span></li></ul>
<div>
<p>Allows overriding casting logic for this individual path. If a string, the given string overwrites Mongoose's default cast error message.</p> <h4 id="example"> <a href="#example"> Example: </a> </h4> <pre data-language="javascript"><span class="hljs-keyword">const</span> schema = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Schema</span>({
  <span class="hljs-attr">num</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
    <span class="hljs-attr">cast</span>: <span class="hljs-string">'{VALUE} is not a valid number'</span>
  }
});

<span class="hljs-comment">// Throws 'CastError: "bad" is not a valid number'</span>
schema.<span class="hljs-title function_">path</span>(<span class="hljs-string">'num'</span>).<span class="hljs-title function_">cast</span>(<span class="hljs-string">'bad'</span>);

<span class="hljs-keyword">const</span> <span class="hljs-title class_">Model</span> = mongoose.<span class="hljs-title function_">model</span>(<span class="hljs-string">'Test'</span>, schema);
<span class="hljs-keyword">const</span> doc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Model</span>({ <span class="hljs-attr">num</span>: <span class="hljs-string">'fail'</span> });
<span class="hljs-keyword">const</span> err = doc.<span class="hljs-title function_">validateSync</span>();

err.<span class="hljs-property">errors</span>[<span class="hljs-string">'num'</span>]; <span class="hljs-comment">// 'CastError: "fail" is not a valid number'</span>
</pre> </div>
<h3 id="SchemaTypeOptions.prototype.default">SchemaTypeOptions.prototype.default</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«Function|Any»</span></li></ul>
<div>
<p>The default value for this path. If a function, Mongoose executes the function and uses the return value as the default.</p> </div>
<h3 id="SchemaTypeOptions.prototype.immutable">SchemaTypeOptions.prototype.immutable</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«Function|Boolean»</span></li></ul>
<div>
<p>If <a href="https://masteringjs.io/tutorials/fundamentals/truthy">truthy</a>, Mongoose will disallow changes to this path once the document is saved to the database for the first time. Read more about <a href="https://thecodebarbarian.com/whats-new-in-mongoose-5-6-immutable-properties.html">immutability in Mongoose here</a>.</p> </div>
<h3 id="SchemaTypeOptions.prototype.index">SchemaTypeOptions.prototype.index</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«Boolean|Number|Object»</span></li></ul>
<div>
<p>If <a href="https://masteringjs.io/tutorials/fundamentals/truthy">truthy</a>, Mongoose will build an index on this path when the model is compiled.</p> </div>
<h3 id="SchemaTypeOptions.prototype.ref">SchemaTypeOptions.prototype.ref</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«Function|String»</span></li></ul>
<div>
<p>The model that <code>populate()</code> should use if populating this path.</p> </div>
<h3 id="SchemaTypeOptions.prototype.ref">SchemaTypeOptions.prototype.ref</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«Function|String»</span></li></ul>
<div>
<p>The path in the document that <code>populate()</code> should use to find the model to use.</p> </div>
<h3 id="SchemaTypeOptions.prototype.required">SchemaTypeOptions.prototype.required</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«Function|Boolean»</span></li></ul>
<div>
<p>If true, attach a required validator to this path, which ensures this path cannot be set to a nullish value. If a function, Mongoose calls the function and only checks for nullish values if the function returns a truthy value.</p> </div>
<h3 id="SchemaTypeOptions.prototype.select">SchemaTypeOptions.prototype.select</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«Boolean|Number»</span></li></ul>
<div>
<p>Whether to include or exclude this path by default when loading documents using <code>find()</code>, <code>findOne()</code>, etc.</p> </div>
<h3 id="SchemaTypeOptions.prototype.sparse">SchemaTypeOptions.prototype.sparse</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«Boolean|Number»</span></li></ul>
<div>
<p>If <a href="https://masteringjs.io/tutorials/fundamentals/truthy">truthy</a>, Mongoose will build a sparse index on this path.</p> </div>
<h3 id="SchemaTypeOptions.prototype.text">SchemaTypeOptions.prototype.text</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«Boolean|Number|Object»</span></li></ul>
<div>
<p>If <a href="https://masteringjs.io/tutorials/fundamentals/truthy">truthy</a>, Mongoose will build a text index on this path.</p> </div>
<h3 id="SchemaTypeOptions.prototype.transform">SchemaTypeOptions.prototype.transform</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«Function»</span></li></ul>
<div>
<p>Define a transform function for this individual schema type. Only called when calling <code>toJSON()</code> or <code>toObject()</code>.</p> <h4 id="example"> <a href="#example"> Example: </a> </h4> <pre data-language="javascript"><span class="hljs-keyword">const</span> schema = <span class="hljs-title class_">Schema</span>({
  <span class="hljs-attr">myDate</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Date</span>,
    <span class="hljs-attr">transform</span>: <span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> v.<span class="hljs-title function_">getFullYear</span>()
  }
});
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Model</span> = mongoose.<span class="hljs-title function_">model</span>(<span class="hljs-string">'Test'</span>, schema);

<span class="hljs-keyword">const</span> doc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Model</span>({ <span class="hljs-attr">myDate</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-string">'2019/06/01'</span>) });
doc.<span class="hljs-property">myDate</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>; <span class="hljs-comment">// true</span>

<span class="hljs-keyword">const</span> res = doc.<span class="hljs-title function_">toObject</span>({ <span class="hljs-attr">transform</span>: <span class="hljs-literal">true</span> });
res.<span class="hljs-property">myDate</span>; <span class="hljs-comment">// 2019</span>
</pre> </div>
<h3 id="SchemaTypeOptions.prototype.type">SchemaTypeOptions.prototype.type</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«Function|String|Object»</span></li></ul>
<div>
<p>The type to cast this path to.</p> </div>
<h3 id="SchemaTypeOptions.prototype.unique">SchemaTypeOptions.prototype.unique</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«Boolean|Number»</span></li></ul>
<div>
<p>If <a href="https://masteringjs.io/tutorials/fundamentals/truthy">truthy</a>, Mongoose will build a unique index on this path when the model is compiled. <a href="../validation.html#the-unique-option-is-not-a-validator">The <code>unique</code> option is <strong>not</strong> a validator</a>.</p> </div>
<h3 id="SchemaTypeOptions.prototype.validate">SchemaTypeOptions.prototype.validate</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«Function|Object»</span></li></ul>
<div>
<p>Function or object describing how to validate this schematype.</p> </div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 LearnBoost<br>Licensed under the MIT License.<br>
    <a href="https://mongoosejs.com/docs/api/schematypeoptions.html" class="_attribution-link">https://mongoosejs.com/docs/api/schematypeoptions.html</a>
  </p>
</div>
