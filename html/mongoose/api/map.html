<h1>Map</h1>

<div class="api-content">
<h3 id="MongooseMap.prototype.$isMongooseMap">MongooseMap.prototype.$isMongooseMap</h3>
<h5>Type:</h5>
<ul><li><span class="method-type">«property»</span></li></ul>
<div>
<p>Set to <code>true</code> for all Mongoose map instances</p> </div>
<h3 id="MongooseMap.prototype.clear()">MongooseMap.prototype.clear()</h3>
<div>
<p>Overwrites native Map's <code>clear()</code> function to support change tracking.</p> </div>
<h3 id="MongooseMap.prototype.delete()">MongooseMap.prototype.delete()</h3>
<div>
<p>Overwrites native Map's <code>delete()</code> function to support change tracking.</p> </div>
<h3 id="MongooseMap.prototype.get()">MongooseMap.prototype.get()</h3>
<div>
<p>Overwrites native Map's <code>get()</code> function to support Mongoose getters.</p> </div>
<h3 id="MongooseMap.prototype.set()">MongooseMap.prototype.set()</h3>
<div>
<p>Overwrites native Map's <code>set()</code> function to support setters, <code>populate()</code>, and change tracking. Note that Mongoose maps <em>only</em> support strings and ObjectIds as keys.</p> <h4 id="example"> <a href="#example"> Example: </a> </h4> <pre data-language="javascript">doc.<span class="hljs-property">myMap</span>.<span class="hljs-title function_">set</span>(<span class="hljs-string">'test'</span>, <span class="hljs-number">42</span>); <span class="hljs-comment">// works</span>
doc.<span class="hljs-property">myMap</span>.<span class="hljs-title function_">set</span>({ <span class="hljs-attr">obj</span>: <span class="hljs-number">42</span> }, <span class="hljs-number">42</span>); <span class="hljs-comment">// Throws "Mongoose maps only support string keys"</span>
</pre> </div>
<h3 id="MongooseMap.prototype.toBSON()">MongooseMap.prototype.toBSON()</h3>
<div>
<p>Converts this map to a native JavaScript Map so the MongoDB driver can serialize it.</p> </div>
<h3 id="MongooseMap.prototype.toJSON()">MongooseMap.prototype.toJSON()</h3>
<h5>Parameters:</h5>
<ul class="params">
<li class="param">
<code>[options]</code> <span class="method-type">«Object»</span> </li>
<ul style="margin-top: 0.5em"><li>
<code>[options.flattenMaps=false]</code> <span class="method-type">«Boolean»</span> set to <code>true</code> to convert the map to a POJO rather than a native JavaScript map </li></ul>
</ul>
<div>
<p>Converts this map to a native JavaScript Map for <code>JSON.stringify()</code>. Set the <code>flattenMaps</code> option to convert this map to a POJO instead.</p> <h4 id="example"> <a href="#example"> Example: </a> </h4> <pre data-language="javascript">doc.<span class="hljs-property">myMap</span>.<span class="hljs-title function_">toJSON</span>() <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>; <span class="hljs-comment">// true</span>
doc.<span class="hljs-property">myMap</span>.<span class="hljs-title function_">toJSON</span>({ <span class="hljs-attr">flattenMaps</span>: <span class="hljs-literal">true</span> }) <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>; <span class="hljs-comment">// false</span>
</pre> </div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010 LearnBoost<br>Licensed under the MIT License.<br>
    <a href="https://mongoosejs.com/docs/api/map.html" class="_attribution-link">https://mongoosejs.com/docs/api/map.html</a>
  </p>
</div>
