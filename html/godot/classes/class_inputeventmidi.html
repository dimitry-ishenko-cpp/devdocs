<section id="inputeventmidi"> <h1 id="class-inputeventmidi">InputEventMIDI</h1> <p><strong>Inherits:</strong> <a href="class_inputevent.html#class-inputevent"><span class="std std-ref">InputEvent</span></a> <strong>&lt;</strong> <a href="class_resource.html#class-resource"><span class="std std-ref">Resource</span></a> <strong>&lt;</strong> <a href="class_refcounted.html#class-refcounted"><span class="std std-ref">RefCounted</span></a> <strong>&lt;</strong> <a href="class_object.html#class-object"><span class="std std-ref">Object</span></a></p> <p>Represents a MIDI message from a MIDI device, such as a musical keyboard.</p> <section class="classref-introduction-group" id="description"> <h2>Description</h2> <p>InputEventMIDI stores information about messages from <a href="https://en.wikipedia.org/wiki/MIDI">MIDI</a> (Musical Instrument Digital Interface) devices. These may include musical keyboards, synthesizers, and drum machines.</p> <p>MIDI messages can be received over a 5-pin MIDI connector or over USB. If your device supports both be sure to check the settings in the device to see which output it is using.</p> <p>By default, Godot does not detect MIDI devices. You need to call <a href="class_os.html#class-os-method-open-midi-inputs"><span class="std std-ref">OS.open_midi_inputs</span></a>, first. You can check which devices are detected with <a href="class_os.html#class-os-method-get-connected-midi-inputs"><span class="std std-ref">OS.get_connected_midi_inputs</span></a>, and close the connection with <a href="class_os.html#class-os-method-close-midi-inputs"><span class="std std-ref">OS.close_midi_inputs</span></a>.</p> <div class="sphinx-tabs docutils container"> <strong>GDScript</strong><pre data-language="gdscript">func _ready():
    OS.open_midi_inputs()
    print(OS.get_connected_midi_inputs())

func _input(input_event):
    if input_event is InputEventMIDI:
        _print_midi_info(input_event)

func _print_midi_info(midi_event):
    print(midi_event)
    print("Channel ", midi_event.channel)
    print("Message ", midi_event.message)
    print("Pitch ", midi_event.pitch)
    print("Velocity ", midi_event.velocity)
    print("Instrument ", midi_event.instrument)
    print("Pressure ", midi_event.pressure)
    print("Controller number: ", midi_event.controller_number)
    print("Controller value: ", midi_event.controller_value)
</pre> <strong>C#</strong><pre data-language="csharp">public override void _Ready()
{
    OS.OpenMidiInputs();
    GD.Print(OS.GetConnectedMidiInputs());
}

public override void _Input(InputEvent inputEvent)
{
    if (inputEvent is InputEventMidi midiEvent)
    {
        PrintMIDIInfo(midiEvent);
    }
}

private void PrintMIDIInfo(InputEventMidi midiEvent)
{
    GD.Print(midiEvent);
    GD.Print($"Channel {midiEvent.Channel}");
    GD.Print($"Message {midiEvent.Message}");
    GD.Print($"Pitch {midiEvent.Pitch}");
    GD.Print($"Velocity {midiEvent.Velocity}");
    GD.Print($"Instrument {midiEvent.Instrument}");
    GD.Print($"Pressure {midiEvent.Pressure}");
    GD.Print($"Controller number: {midiEvent.ControllerNumber}");
    GD.Print($"Controller value: {midiEvent.ControllerValue}");
}
</pre> </div> <p><strong>Note:</strong> Godot does not support MIDI output, so there is no way to emit MIDI messages from Godot. Only MIDI input is supported.</p> </section> <section class="classref-introduction-group" id="tutorials"> <h2>Tutorials</h2> <ul class="simple"> <li><a href="https://www.midi.org/specifications-old/item/table-2-expanded-messages-list-status-bytes">MIDI Message Status Byte List</a></li> <li><a href="https://en.wikipedia.org/wiki/General_MIDI#Program_change_events">Wikipedia General MIDI Instrument List</a></li> <li><a href="https://en.wikipedia.org/wiki/Piano_key_frequencies#List">Wikipedia Piano Key Frequencies List</a></li> </ul> </section> <section class="classref-reftable-group" id="properties"> <h2>Properties</h2> <table class="colwidths-auto docutils align-default">  <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-inputeventmidi-property-channel"><span class="std std-ref">channel</span></a></p></td> <td><p><code>0</code></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-inputeventmidi-property-controller-number"><span class="std std-ref">controller_number</span></a></p></td> <td><p><code>0</code></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-inputeventmidi-property-controller-value"><span class="std std-ref">controller_value</span></a></p></td> <td><p><code>0</code></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-inputeventmidi-property-instrument"><span class="std std-ref">instrument</span></a></p></td> <td><p><code>0</code></p></td> </tr> <tr>
<td><p><a href="class_%40globalscope.html#enum-globalscope-midimessage"><span class="std std-ref">MIDIMessage</span></a></p></td> <td><p><a href="#class-inputeventmidi-property-message"><span class="std std-ref">message</span></a></p></td> <td><p><code>0</code></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-inputeventmidi-property-pitch"><span class="std std-ref">pitch</span></a></p></td> <td><p><code>0</code></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-inputeventmidi-property-pressure"><span class="std std-ref">pressure</span></a></p></td> <td><p><code>0</code></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-inputeventmidi-property-velocity"><span class="std std-ref">velocity</span></a></p></td> <td><p><code>0</code></p></td> </tr>  </table> </section>  <section class="classref-descriptions-group" id="property-descriptions"> <h2>Property Descriptions</h2> <h3 id="class-inputeventmidi-property-channel">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> channel = <code>0</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_channel</strong> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value <strong>)</strong>
</li> <li>
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> <strong>get_channel</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>The MIDI channel of this message, ranging from <code>0</code> to <code>15</code>. MIDI channel <code>9</code> is reserved for percussion instruments.</p>  <h3 id="class-inputeventmidi-property-controller-number">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> controller_number = <code>0</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_controller_number</strong> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value <strong>)</strong>
</li> <li>
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> <strong>get_controller_number</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>The unique number of the controller, if <a href="#class-inputeventmidi-property-message"><span class="std std-ref">message</span></a> is <a href="class_%40globalscope.html#class-globalscope-constant-midi-message-control-change"><span class="std std-ref">@GlobalScope.MIDI_MESSAGE_CONTROL_CHANGE</span></a>, otherwise this is <code>0</code>. This value can be used to identify sliders for volume, balance, and panning, as well as switches and pedals on the MIDI device. See the <a href="https://en.wikipedia.org/wiki/General_MIDI#Controller_events">General MIDI specification</a> for a small list.</p>  <h3 id="class-inputeventmidi-property-controller-value">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> controller_value = <code>0</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_controller_value</strong> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value <strong>)</strong>
</li> <li>
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> <strong>get_controller_value</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>The value applied to the controller. If <a href="#class-inputeventmidi-property-message"><span class="std std-ref">message</span></a> is <a href="class_%40globalscope.html#class-globalscope-constant-midi-message-control-change"><span class="std std-ref">@GlobalScope.MIDI_MESSAGE_CONTROL_CHANGE</span></a>, this value ranges from <code>0</code> to <code>127</code>, otherwise it is <code>0</code>. See also <a href="#class-inputeventmidi-property-controller-value"><span class="std std-ref">controller_value</span></a>.</p>  <h3 id="class-inputeventmidi-property-instrument">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> instrument = <code>0</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_instrument</strong> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value <strong>)</strong>
</li> <li>
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> <strong>get_instrument</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>The instrument (also called <em>program</em> or <em>preset</em>) used on this MIDI message. This value ranges from <code>0</code> to <code>127</code>.</p> <p>To see what each value means, refer to the <a href="https://en.wikipedia.org/wiki/General_MIDI#Program_change_events">General MIDI's instrument list</a>. Keep in mind that the list is off by 1 because it does not begin from 0. A value of <code>0</code> corresponds to the acoustic grand piano.</p>  <h3 id="class-inputeventmidi-property-message">
<a href="class_%40globalscope.html#enum-globalscope-midimessage"><span class="std std-ref">MIDIMessage</span></a> message = <code>0</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_message</strong> <strong>(</strong> <a href="class_%40globalscope.html#enum-globalscope-midimessage"><span class="std std-ref">MIDIMessage</span></a> value <strong>)</strong>
</li> <li>
<a href="class_%40globalscope.html#enum-globalscope-midimessage"><span class="std std-ref">MIDIMessage</span></a> <strong>get_message</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>Represents the type of MIDI message (see the <a href="class_%40globalscope.html#enum-globalscope-midimessage"><span class="std std-ref">MIDIMessage</span></a> enum).</p> <p>For more information, see the <a href="https://www.midi.org/specifications-old/item/table-2-expanded-messages-list-status-bytes">MIDI message status byte list chart</a>.</p>  <h3 id="class-inputeventmidi-property-pitch">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> pitch = <code>0</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_pitch</strong> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value <strong>)</strong>
</li> <li>
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> <strong>get_pitch</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>The pitch index number of this MIDI message. This value ranges from <code>0</code> to <code>127</code>.</p> <p>On a piano, the <strong>middle C</strong> is <code>60</code>, followed by a <strong>C-sharp</strong> (<code>61</code>), then a <strong>D</strong> (<code>62</code>), and so on. Each octave is split in offsets of 12. See the "MIDI note number" column of the <a href="https://en.wikipedia.org/wiki/Piano_key_frequencies">piano key frequency chart</a> a full list.</p>  <h3 id="class-inputeventmidi-property-pressure">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> pressure = <code>0</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_pressure</strong> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value <strong>)</strong>
</li> <li>
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> <strong>get_pressure</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>The strength of the key being pressed. This value ranges from <code>0</code> to <code>127</code>.</p> <p><strong>Note:</strong> For many devices, this value is always <code>0</code>. Other devices such as musical keyboards may simulate pressure by changing the <a href="#class-inputeventmidi-property-velocity"><span class="std std-ref">velocity</span></a>, instead.</p>  <h3 id="class-inputeventmidi-property-velocity">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> velocity = <code>0</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_velocity</strong> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value <strong>)</strong>
</li> <li>
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> <strong>get_velocity</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>The velocity of the MIDI message. This value ranges from <code>0</code> to <code>127</code>. For a musical keyboard, this corresponds to how quickly the key was pressed, and is rarely above <code>110</code> in practice.</p> <p><strong>Note:</strong> Some MIDI devices may send a <a href="class_%40globalscope.html#class-globalscope-constant-midi-message-note-on"><span class="std std-ref">@GlobalScope.MIDI_MESSAGE_NOTE_ON</span></a> message with <code>0</code> velocity and expect it to be treated the same as a <a href="class_%40globalscope.html#class-globalscope-constant-midi-message-note-off"><span class="std std-ref">@GlobalScope.MIDI_MESSAGE_NOTE_OFF</span></a> message. If necessary, this can be handled with a few lines of code:</p> <pre data-language="gdscript">func _input(event):
    if event is InputEventMIDI:
        if event.message == MIDI_MESSAGE_NOTE_ON and event.velocity &gt; 0:
            print("Note pressed!")
</pre> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014&ndash;present Juan Linietsky, Ariel Manzur and the Godot community<br>Licensed under the Creative Commons Attribution Unported License v3.0.<br>
    <a href="https://docs.godotengine.org/en/4.2/classes/class_inputeventmidi.html" class="_attribution-link">https://docs.godotengine.org/en/4.2/classes/class_inputeventmidi.html</a>
  </p>
</div>
