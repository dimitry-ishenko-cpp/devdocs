<section id="audioeffectcapture"> <h1 id="class-audioeffectcapture">AudioEffectCapture</h1> <p><strong>Inherits:</strong> <a href="class_audioeffect.html#class-audioeffect"><span class="std std-ref">AudioEffect</span></a> <strong>&lt;</strong> <a href="class_resource.html#class-resource"><span class="std std-ref">Resource</span></a> <strong>&lt;</strong> <a href="class_refcounted.html#class-refcounted"><span class="std std-ref">RefCounted</span></a> <strong>&lt;</strong> <a href="class_object.html#class-object"><span class="std std-ref">Object</span></a></p> <p>Captures audio from an audio bus in real-time.</p> <section class="classref-introduction-group" id="description"> <h2>Description</h2> <p>AudioEffectCapture is an AudioEffect which copies all audio frames from the attached audio effect bus into its internal ring buffer.</p> <p>Application code should consume these audio frames from this ring buffer using <a href="#class-audioeffectcapture-method-get-buffer"><span class="std std-ref">get_buffer</span></a> and process it as needed, for example to capture data from an <a href="class_audiostreammicrophone.html#class-audiostreammicrophone"><span class="std std-ref">AudioStreamMicrophone</span></a>, implement application-defined effects, or to transmit audio over the network. When capturing audio data from a microphone, the format of the samples will be stereo 32-bit floating point PCM.</p> <p><strong>Note:</strong> <a href="class_projectsettings.html#class-projectsettings-property-audio-driver-enable-input"><span class="std std-ref">ProjectSettings.audio/driver/enable_input</span></a> must be <code>true</code> for audio input to work. See also that setting's description for caveats related to permissions and operating system privacy settings.</p> </section> <section class="classref-introduction-group" id="tutorials"> <h2>Tutorials</h2> <ul class="simple"> <li><a href="https://docs.godotengine.org/en/4.2/tutorials/audio/audio_buses.html"><span class="doc">Audio buses</span></a></li> <li><a href="https://github.com/godotengine/godot-demo-projects/tree/master/audio/mic_record">Audio Mic Record Demo</a></li> </ul> </section> <section class="classref-reftable-group" id="properties"> <h2>Properties</h2> <table class="colwidths-auto docutils align-default">  <tr>
<td><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a></p></td> <td><p><a href="#class-audioeffectcapture-property-buffer-length"><span class="std std-ref">buffer_length</span></a></p></td> <td><p><code>0.1</code></p></td> </tr>  </table> </section> <section class="classref-reftable-group" id="methods"> <h2>Methods</h2> <table class="colwidths-auto docutils align-default">  <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-audioeffectcapture-method-can-get-buffer"><span class="std std-ref">can_get_buffer</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> frames <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-audioeffectcapture-method-clear-buffer"><span class="std std-ref">clear_buffer</span></a> <strong>(</strong> <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_packedvector2array.html#class-packedvector2array"><span class="std std-ref">PackedVector2Array</span></a></p></td> <td><p><a href="#class-audioeffectcapture-method-get-buffer"><span class="std std-ref">get_buffer</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> frames <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-audioeffectcapture-method-get-buffer-length-frames"><span class="std std-ref">get_buffer_length_frames</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-audioeffectcapture-method-get-discarded-frames"><span class="std std-ref">get_discarded_frames</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-audioeffectcapture-method-get-frames-available"><span class="std std-ref">get_frames_available</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-audioeffectcapture-method-get-pushed-frames"><span class="std std-ref">get_pushed_frames</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr>  </table> </section>  <section class="classref-descriptions-group" id="property-descriptions"> <h2>Property Descriptions</h2> <h3 id="class-audioeffectcapture-property-buffer-length">
<a href="class_float.html#class-float"><span class="std std-ref">float</span></a> buffer_length = <code>0.1</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_buffer_length</strong> <strong>(</strong> <a href="class_float.html#class-float"><span class="std std-ref">float</span></a> value <strong>)</strong>
</li> <li>
<a href="class_float.html#class-float"><span class="std std-ref">float</span></a> <strong>get_buffer_length</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>Length of the internal ring buffer, in seconds. Setting the buffer length will have no effect if already initialized.</p> </section>  <section class="classref-descriptions-group" id="method-descriptions"> <h2>Method Descriptions</h2> <h3 id="class-audioeffectcapture-method-can-get-buffer">
<a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> can_get_buffer ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> frames ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns <code>true</code> if at least <code>frames</code> audio frames are available to read in the internal ring buffer.</p>  <h3 id="class-audioeffectcapture-method-clear-buffer">void clear_buffer ( )</h3> <p>Clears the internal ring buffer.</p>  <h3 id="class-audioeffectcapture-method-get-buffer">
<a href="class_packedvector2array.html#class-packedvector2array"><span class="std std-ref">PackedVector2Array</span></a> get_buffer ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> frames )</h3> <p>Gets the next <code>frames</code> audio samples from the internal ring buffer.</p> <p>Returns a <a href="class_packedvector2array.html#class-packedvector2array"><span class="std std-ref">PackedVector2Array</span></a> containing exactly <code>frames</code> audio samples if available, or an empty <a href="class_packedvector2array.html#class-packedvector2array"><span class="std std-ref">PackedVector2Array</span></a> if insufficient data was available.</p>  <h3 id="class-audioeffectcapture-method-get-buffer-length-frames">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> get_buffer_length_frames ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the total size of the internal ring buffer in frames.</p>  <h3 id="class-audioeffectcapture-method-get-discarded-frames">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> get_discarded_frames ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the number of audio frames discarded from the audio bus due to full buffer.</p>  <h3 id="class-audioeffectcapture-method-get-frames-available">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> get_frames_available ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the number of frames available to read using <a href="#class-audioeffectcapture-method-get-buffer"><span class="std std-ref">get_buffer</span></a>.</p>  <h3 id="class-audioeffectcapture-method-get-pushed-frames">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> get_pushed_frames ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the number of audio frames inserted from the audio bus.</p> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014&ndash;present Juan Linietsky, Ariel Manzur and the Godot community<br>Licensed under the Creative Commons Attribution Unported License v3.0.<br>
    <a href="https://docs.godotengine.org/en/4.2/classes/class_audioeffectcapture.html" class="_attribution-link">https://docs.godotengine.org/en/4.2/classes/class_audioeffectcapture.html</a>
  </p>
</div>
