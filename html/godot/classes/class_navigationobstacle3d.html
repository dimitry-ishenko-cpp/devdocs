<section id="navigationobstacle3d"> <h1 id="class-navigationobstacle3d">NavigationObstacle3D</h1> <p><strong>Inherits:</strong> <a href="class_node3d.html#class-node3d"><span class="std std-ref">Node3D</span></a> <strong>&lt;</strong> <a href="class_node.html#class-node"><span class="std std-ref">Node</span></a> <strong>&lt;</strong> <a href="class_object.html#class-object"><span class="std std-ref">Object</span></a></p> <p>3D Obstacle used in navigation to constrain avoidance controlled agents outside or inside an area.</p> <section class="classref-introduction-group" id="description"> <h2>Description</h2> <p>3D Obstacle used in navigation to constrain avoidance controlled agents outside or inside an area. The obstacle needs a navigation map and outline vertices defined to work correctly.</p> <p>If the obstacle's vertices are winded in clockwise order, avoidance agents will be pushed in by the obstacle, otherwise, avoidance agents will be pushed out. Outlines must not cross or overlap.</p> <p>Obstacles are <strong>not</strong> a replacement for a (re)baked navigation mesh. Obstacles <strong>don't</strong> change the resulting path from the pathfinding, obstacles only affect the navigation avoidance agent movement by altering the suggested velocity of the avoidance agent.</p> <p>Obstacles using vertices can warp to a new position but should not moved every frame as each move requires a rebuild of the avoidance map.</p> </section> <section class="classref-introduction-group" id="tutorials"> <h2>Tutorials</h2> <ul class="simple"> <li><a href="https://docs.godotengine.org/en/4.2/tutorials/navigation/navigation_using_navigationobstacles.html"><span class="doc">Using NavigationObstacles</span></a></li> </ul> </section> <section class="classref-reftable-group" id="properties"> <h2>Properties</h2> <table class="colwidths-auto docutils align-default">  <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-navigationobstacle3d-property-avoidance-enabled"><span class="std std-ref">avoidance_enabled</span></a></p></td> <td><p><code>true</code></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-navigationobstacle3d-property-avoidance-layers"><span class="std std-ref">avoidance_layers</span></a></p></td> <td><p><code>1</code></p></td> </tr> <tr>
<td><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a></p></td> <td><p><a href="#class-navigationobstacle3d-property-height"><span class="std std-ref">height</span></a></p></td> <td><p><code>1.0</code></p></td> </tr> <tr>
<td><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a></p></td> <td><p><a href="#class-navigationobstacle3d-property-radius"><span class="std std-ref">radius</span></a></p></td> <td><p><code>0.0</code></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-navigationobstacle3d-property-use-3d-avoidance"><span class="std std-ref">use_3d_avoidance</span></a></p></td> <td><p><code>false</code></p></td> </tr> <tr>
<td><p><a href="class_vector3.html#class-vector3"><span class="std std-ref">Vector3</span></a></p></td> <td><p><a href="#class-navigationobstacle3d-property-velocity"><span class="std std-ref">velocity</span></a></p></td> <td><p><code>Vector3(0, 0, 0)</code></p></td> </tr> <tr>
<td><p><a href="class_packedvector3array.html#class-packedvector3array"><span class="std std-ref">PackedVector3Array</span></a></p></td> <td><p><a href="#class-navigationobstacle3d-property-vertices"><span class="std std-ref">vertices</span></a></p></td> <td><p><code>PackedVector3Array()</code></p></td> </tr>  </table> </section> <section class="classref-reftable-group" id="methods"> <h2>Methods</h2> <table class="colwidths-auto docutils align-default">  <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-navigationobstacle3d-method-get-avoidance-layer-value"><span class="std std-ref">get_avoidance_layer_value</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer_number <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a></p></td> <td><p><a href="#class-navigationobstacle3d-method-get-navigation-map"><span class="std std-ref">get_navigation_map</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a></p></td> <td><p><a href="#class-navigationobstacle3d-method-get-rid"><span class="std std-ref">get_rid</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-navigationobstacle3d-method-set-avoidance-layer-value"><span class="std std-ref">set_avoidance_layer_value</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer_number, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> value <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-navigationobstacle3d-method-set-navigation-map"><span class="std std-ref">set_navigation_map</span></a> <strong>(</strong> <a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> navigation_map <strong>)</strong></p></td> </tr>  </table> </section>  <section class="classref-descriptions-group" id="property-descriptions"> <h2>Property Descriptions</h2> <h3 id="class-navigationobstacle3d-property-avoidance-enabled">
<a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> avoidance_enabled = <code>true</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_avoidance_enabled</strong> <strong>(</strong> <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> value <strong>)</strong>
</li> <li>
<a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> <strong>get_avoidance_enabled</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>If <code>true</code> the obstacle affects avoidance using agents.</p>  <h3 id="class-navigationobstacle3d-property-avoidance-layers">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> avoidance_layers = <code>1</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_avoidance_layers</strong> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value <strong>)</strong>
</li> <li>
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> <strong>get_avoidance_layers</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>A bitfield determining the avoidance layers for this obstacle. Agents with a matching bit on the their avoidance mask will avoid this obstacle.</p>  <h3 id="class-navigationobstacle3d-property-height">
<a href="class_float.html#class-float"><span class="std std-ref">float</span></a> height = <code>1.0</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_height</strong> <strong>(</strong> <a href="class_float.html#class-float"><span class="std std-ref">float</span></a> value <strong>)</strong>
</li> <li>
<a href="class_float.html#class-float"><span class="std std-ref">float</span></a> <strong>get_height</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>Sets the obstacle height used in 2D avoidance. 2D avoidance using agent's ignore obstacles that are below or above them.</p>  <h3 id="class-navigationobstacle3d-property-radius">
<a href="class_float.html#class-float"><span class="std std-ref">float</span></a> radius = <code>0.0</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_radius</strong> <strong>(</strong> <a href="class_float.html#class-float"><span class="std std-ref">float</span></a> value <strong>)</strong>
</li> <li>
<a href="class_float.html#class-float"><span class="std std-ref">float</span></a> <strong>get_radius</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>Sets the avoidance radius for the obstacle.</p>  <h3 id="class-navigationobstacle3d-property-use-3d-avoidance">
<a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> use_3d_avoidance = <code>false</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_use_3d_avoidance</strong> <strong>(</strong> <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> value <strong>)</strong>
</li> <li>
<a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> <strong>get_use_3d_avoidance</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>If <code>true</code> the obstacle affects 3D avoidance using agent's with obstacle <a href="#class-navigationobstacle3d-property-radius"><span class="std std-ref">radius</span></a>.</p> <p>If <code>false</code> the obstacle affects 2D avoidance using agent's with both obstacle <a href="#class-navigationobstacle3d-property-vertices"><span class="std std-ref">vertices</span></a> as well as obstacle <a href="#class-navigationobstacle3d-property-radius"><span class="std std-ref">radius</span></a>.</p>  <h3 id="class-navigationobstacle3d-property-velocity">
<a href="class_vector3.html#class-vector3"><span class="std std-ref">Vector3</span></a> velocity = <code>Vector3(0, 0, 0)</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_velocity</strong> <strong>(</strong> <a href="class_vector3.html#class-vector3"><span class="std std-ref">Vector3</span></a> value <strong>)</strong>
</li> <li>
<a href="class_vector3.html#class-vector3"><span class="std std-ref">Vector3</span></a> <strong>get_velocity</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>Sets the wanted velocity for the obstacle so other agent's can better predict the obstacle if it is moved with a velocity regularly (every frame) instead of warped to a new position. Does only affect avoidance for the obstacles <a href="#class-navigationobstacle3d-property-radius"><span class="std std-ref">radius</span></a>. Does nothing for the obstacles static vertices.</p>  <h3 id="class-navigationobstacle3d-property-vertices">
<a href="class_packedvector3array.html#class-packedvector3array"><span class="std std-ref">PackedVector3Array</span></a> vertices = <code>PackedVector3Array()</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_vertices</strong> <strong>(</strong> <a href="class_packedvector3array.html#class-packedvector3array"><span class="std std-ref">PackedVector3Array</span></a> value <strong>)</strong>
</li> <li>
<a href="class_packedvector3array.html#class-packedvector3array"><span class="std std-ref">PackedVector3Array</span></a> <strong>get_vertices</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>The outline vertices of the obstacle. If the vertices are winded in clockwise order agents will be pushed in by the obstacle, else they will be pushed out. Outlines can not be crossed or overlap. Should the vertices using obstacle be warped to a new position agent's can not predict this movement and may get trapped inside the obstacle.</p> </section>  <section class="classref-descriptions-group" id="method-descriptions"> <h2>Method Descriptions</h2> <h3 id="class-navigationobstacle3d-method-get-avoidance-layer-value">
<a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> get_avoidance_layer_value ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer_number ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns whether or not the specified layer of the <a href="#class-navigationobstacle3d-property-avoidance-layers"><span class="std std-ref">avoidance_layers</span></a> bitmask is enabled, given a <code>layer_number</code> between 1 and 32.</p>  <h3 id="class-navigationobstacle3d-method-get-navigation-map">
<a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> get_navigation_map ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the <a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> of the navigation map for this NavigationObstacle node. This function returns always the map set on the NavigationObstacle node and not the map of the abstract obstacle on the NavigationServer. If the obstacle map is changed directly with the NavigationServer API the NavigationObstacle node will not be aware of the map change. Use <a href="#class-navigationobstacle3d-method-set-navigation-map"><span class="std std-ref">set_navigation_map</span></a> to change the navigation map for the NavigationObstacle and also update the obstacle on the NavigationServer.</p>  <h3 id="class-navigationobstacle3d-method-get-rid">
<a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> get_rid ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the <a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> of this obstacle on the <a href="class_navigationserver3d.html#class-navigationserver3d"><span class="std std-ref">NavigationServer3D</span></a>.</p>  <h3 id="class-navigationobstacle3d-method-set-avoidance-layer-value">void set_avoidance_layer_value ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer_number, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> value )</h3> <p>Based on <code>value</code>, enables or disables the specified layer in the <a href="#class-navigationobstacle3d-property-avoidance-layers"><span class="std std-ref">avoidance_layers</span></a> bitmask, given a <code>layer_number</code> between 1 and 32.</p>  <h3 id="class-navigationobstacle3d-method-set-navigation-map">void set_navigation_map ( <a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> navigation_map )</h3> <p>Sets the <a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> of the navigation map this NavigationObstacle node should use and also updates the <code>obstacle</code> on the NavigationServer.</p> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014&ndash;present Juan Linietsky, Ariel Manzur and the Godot community<br>Licensed under the Creative Commons Attribution Unported License v3.0.<br>
    <a href="https://docs.godotengine.org/en/4.2/classes/class_navigationobstacle3d.html" class="_attribution-link">https://docs.godotengine.org/en/4.2/classes/class_navigationobstacle3d.html</a>
  </p>
</div>
