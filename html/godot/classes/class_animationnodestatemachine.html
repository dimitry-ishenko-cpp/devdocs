<h1 id="class-animationnodestatemachine">AnimationNodeStateMachine</h1> <p><strong>Inherits:</strong> <a href="class_animationrootnode.html#class-animationrootnode"><span class="std std-ref">AnimationRootNode</span></a> <strong>&lt;</strong> <a href="class_animationnode.html#class-animationnode"><span class="std std-ref">AnimationNode</span></a> <strong>&lt;</strong> <a href="class_resource.html#class-resource"><span class="std std-ref">Resource</span></a> <strong>&lt;</strong> <a href="class_reference.html#class-reference"><span class="std std-ref">Reference</span></a> <strong>&lt;</strong> <a href="class_object.html#class-object"><span class="std std-ref">Object</span></a></p> <p>State machine for control of animations.</p> <section id="description"> <h2>Description</h2> <p>Contains multiple nodes representing animation states, connected in a graph. Node transitions can be configured to happen automatically or via code, using a shortest-path algorithm. Retrieve the <a href="class_animationnodestatemachineplayback.html#class-animationnodestatemachineplayback"><span class="std std-ref">AnimationNodeStateMachinePlayback</span></a> object from the <a href="class_animationtree.html#class-animationtree"><span class="std std-ref">AnimationTree</span></a> node to control it programmatically.</p> <p><strong>Example:</strong></p> <pre data-language="gdscript">var state_machine = $AnimationTree.get("parameters/playback")
state_machine.travel("some_state")
</pre> </section> <section id="tutorials"> <h2>Tutorials</h2> <ul class="simple"> <li><a href="https://docs.godotengine.org/en/3.5/tutorials/animation/animation_tree.html"><span class="doc">Using AnimationTree</span></a></li> </ul> </section> <section id="methods"> <h2>Methods</h2> <table class="docutils align-default">   <tr>
<td><p>void</p></td> <td><p><a href="#class-animationnodestatemachine-method-add-node"><span class="std std-ref">add_node</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name, <a href="class_animationnode.html#class-animationnode"><span class="std std-ref">AnimationNode</span></a> node, <a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a> position=Vector2( 0, 0 ) <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-animationnodestatemachine-method-add-transition"><span class="std std-ref">add_transition</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> from, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> to, <a href="class_animationnodestatemachinetransition.html#class-animationnodestatemachinetransition"><span class="std std-ref">AnimationNodeStateMachineTransition</span></a> transition <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a></p></td> <td><p><a href="#class-animationnodestatemachine-method-get-end-node"><span class="std std-ref">get_end_node</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a></p></td> <td><p><a href="#class-animationnodestatemachine-method-get-graph-offset"><span class="std std-ref">get_graph_offset</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_animationnode.html#class-animationnode"><span class="std std-ref">AnimationNode</span></a></p></td> <td><p><a href="#class-animationnodestatemachine-method-get-node"><span class="std std-ref">get_node</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a></p></td> <td><p><a href="#class-animationnodestatemachine-method-get-node-name"><span class="std std-ref">get_node_name</span></a> <strong>(</strong> <a href="class_animationnode.html#class-animationnode"><span class="std std-ref">AnimationNode</span></a> node <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a></p></td> <td><p><a href="#class-animationnodestatemachine-method-get-node-position"><span class="std std-ref">get_node_position</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a></p></td> <td><p><a href="#class-animationnodestatemachine-method-get-start-node"><span class="std std-ref">get_start_node</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_animationnodestatemachinetransition.html#class-animationnodestatemachinetransition"><span class="std std-ref">AnimationNodeStateMachineTransition</span></a></p></td> <td><p><a href="#class-animationnodestatemachine-method-get-transition"><span class="std std-ref">get_transition</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-animationnodestatemachine-method-get-transition-count"><span class="std std-ref">get_transition_count</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a></p></td> <td><p><a href="#class-animationnodestatemachine-method-get-transition-from"><span class="std std-ref">get_transition_from</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a></p></td> <td><p><a href="#class-animationnodestatemachine-method-get-transition-to"><span class="std std-ref">get_transition_to</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-animationnodestatemachine-method-has-node"><span class="std std-ref">has_node</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-animationnodestatemachine-method-has-transition"><span class="std std-ref">has_transition</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> from, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> to <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-animationnodestatemachine-method-remove-node"><span class="std std-ref">remove_node</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-animationnodestatemachine-method-remove-transition"><span class="std std-ref">remove_transition</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> from, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> to <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-animationnodestatemachine-method-remove-transition-by-index"><span class="std std-ref">remove_transition_by_index</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-animationnodestatemachine-method-rename-node"><span class="std std-ref">rename_node</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> new_name <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-animationnodestatemachine-method-replace-node"><span class="std std-ref">replace_node</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name, <a href="class_animationnode.html#class-animationnode"><span class="std std-ref">AnimationNode</span></a> node <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-animationnodestatemachine-method-set-end-node"><span class="std std-ref">set_end_node</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-animationnodestatemachine-method-set-graph-offset"><span class="std std-ref">set_graph_offset</span></a> <strong>(</strong> <a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a> offset <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-animationnodestatemachine-method-set-node-position"><span class="std std-ref">set_node_position</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name, <a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a> position <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-animationnodestatemachine-method-set-start-node"><span class="std std-ref">set_start_node</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name <strong>)</strong></p></td> </tr>  </table> </section> <section id="method-descriptions"> <h2>Method Descriptions</h2> <h3 id="class-animationnodestatemachine-method-add-node"><p>void add_node ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name, <a href="class_animationnode.html#class-animationnode"><span class="std std-ref">AnimationNode</span></a> node, <a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a> position=Vector2( 0, 0 ) )</p></h3> <p>Adds a new node to the graph. The <code>position</code> is used for display in the editor.</p>  <h3 id="class-animationnodestatemachine-method-add-transition"><p>void add_transition ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> from, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> to, <a href="class_animationnodestatemachinetransition.html#class-animationnodestatemachinetransition"><span class="std std-ref">AnimationNodeStateMachineTransition</span></a> transition )</p></h3> <p>Adds a transition between the given nodes.</p>  <h3 id="class-animationnodestatemachine-method-get-end-node"><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a> get_end_node ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns the graph's end node.</p>  <h3 id="class-animationnodestatemachine-method-get-graph-offset"><p><a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a> get_graph_offset ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns the draw offset of the graph. Used for display in the editor.</p>  <h3 id="class-animationnodestatemachine-method-get-node"><p><a href="class_animationnode.html#class-animationnode"><span class="std std-ref">AnimationNode</span></a> get_node ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns the animation node with the given name.</p>  <h3 id="class-animationnodestatemachine-method-get-node-name"><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a> get_node_name ( <a href="class_animationnode.html#class-animationnode"><span class="std std-ref">AnimationNode</span></a> node ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns the given animation node's name.</p>  <h3 id="class-animationnodestatemachine-method-get-node-position"><p><a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a> get_node_position ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns the given node's coordinates. Used for display in the editor.</p>  <h3 id="class-animationnodestatemachine-method-get-start-node"><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a> get_start_node ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns the graph's end node.</p>  <h3 id="class-animationnodestatemachine-method-get-transition"><p><a href="class_animationnodestatemachinetransition.html#class-animationnodestatemachinetransition"><span class="std std-ref">AnimationNodeStateMachineTransition</span></a> get_transition ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns the given transition.</p>  <h3 id="class-animationnodestatemachine-method-get-transition-count"><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a> get_transition_count ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns the number of connections in the graph.</p>  <h3 id="class-animationnodestatemachine-method-get-transition-from"><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a> get_transition_from ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns the given transition's start node.</p>  <h3 id="class-animationnodestatemachine-method-get-transition-to"><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a> get_transition_to ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns the given transition's end node.</p>  <h3 id="class-animationnodestatemachine-method-has-node"><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> has_node ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns <code>true</code> if the graph contains the given node.</p>  <h3 id="class-animationnodestatemachine-method-has-transition"><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> has_transition ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> from, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> to ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns <code>true</code> if there is a transition between the given nodes.</p>  <h3 id="class-animationnodestatemachine-method-remove-node"><p>void remove_node ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name )</p></h3> <p>Deletes the given node from the graph.</p>  <h3 id="class-animationnodestatemachine-method-remove-transition"><p>void remove_transition ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> from, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> to )</p></h3> <p>Deletes the transition between the two specified nodes.</p>  <h3 id="class-animationnodestatemachine-method-remove-transition-by-index"><p>void remove_transition_by_index ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx )</p></h3> <p>Deletes the given transition by index.</p>  <h3 id="class-animationnodestatemachine-method-rename-node"><p>void rename_node ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> new_name )</p></h3> <p>Renames the given node.</p>  <h3 id="class-animationnodestatemachine-method-replace-node"><p>void replace_node ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name, <a href="class_animationnode.html#class-animationnode"><span class="std std-ref">AnimationNode</span></a> node )</p></h3> <p>Replaces the node and keeps its transitions unchanged.</p>  <h3 id="class-animationnodestatemachine-method-set-end-node"><p>void set_end_node ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name )</p></h3> <p>Sets the given node as the graph end point.</p>  <h3 id="class-animationnodestatemachine-method-set-graph-offset"><p>void set_graph_offset ( <a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a> offset )</p></h3> <p>Sets the draw offset of the graph. Used for display in the editor.</p>  <h3 id="class-animationnodestatemachine-method-set-node-position"><p>void set_node_position ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name, <a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a> position )</p></h3> <p>Sets the node's coordinates. Used for display in the editor.</p>  <h3 id="class-animationnodestatemachine-method-set-start-node"><p>void set_start_node ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name )</p></h3> <p>Sets the given node as the graph start point.</p> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014&ndash;2022 Juan Linietsky, Ariel Manzur, Godot Engine contributors<br>Licensed under the MIT License.<br>
    <a href="https://docs.godotengine.org/en/3.5/classes/class_animationnodestatemachine.html" class="_attribution-link">https://docs.godotengine.org/en/3.5/classes/class_animationnodestatemachine.html</a>
  </p>
</div>
