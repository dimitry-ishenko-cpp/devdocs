<section id="tilemap"> <h1 id="class-tilemap">TileMap</h1> <p><strong>Inherits:</strong> <a href="class_node2d.html#class-node2d"><span class="std std-ref">Node2D</span></a> <strong>&lt;</strong> <a href="class_canvasitem.html#class-canvasitem"><span class="std std-ref">CanvasItem</span></a> <strong>&lt;</strong> <a href="class_node.html#class-node"><span class="std std-ref">Node</span></a> <strong>&lt;</strong> <a href="class_object.html#class-object"><span class="std std-ref">Object</span></a></p> <p>Node for 2D tile-based maps.</p> <section class="classref-introduction-group" id="description"> <h2>Description</h2> <p>Node for 2D tile-based maps. Tilemaps use a <a href="class_tileset.html#class-tileset"><span class="std std-ref">TileSet</span></a> which contain a list of tiles which are used to create grid-based maps. A TileMap may have several layers, layouting tiles on top of each other.</p> <p>For performance reasons, all TileMap updates are batched at the end of a frame. Notably, this means that scene tiles from a <a href="class_tilesetscenescollectionsource.html#class-tilesetscenescollectionsource"><span class="std std-ref">TileSetScenesCollectionSource</span></a> may be initialized after their parent. This is only queued when inside the scene tree.</p> <p>To force an update earlier on, call <a href="#class-tilemap-method-update-internals"><span class="std std-ref">update_internals</span></a>.</p> </section> <section class="classref-introduction-group" id="tutorials"> <h2>Tutorials</h2> <ul class="simple"> <li><a href="https://docs.godotengine.org/en/4.2/tutorials/2d/using_tilemaps.html"><span class="doc">Using Tilemaps</span></a></li> <li><a href="https://godotengine.org/asset-library/asset/120">2D Platformer Demo</a></li> <li><a href="https://godotengine.org/asset-library/asset/112">2D Isometric Demo</a></li> <li><a href="https://godotengine.org/asset-library/asset/111">2D Hexagonal Demo</a></li> <li><a href="https://godotengine.org/asset-library/asset/519">2D Navigation Astar Demo</a></li> <li><a href="https://godotengine.org/asset-library/asset/520">2D Role Playing Game Demo</a></li> <li><a href="https://godotengine.org/asset-library/asset/113">2D Kinematic Character Demo</a></li> </ul> </section> <section class="classref-reftable-group" id="properties"> <h2>Properties</h2> <table class="colwidths-auto docutils align-default">  <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-tilemap-property-collision-animatable"><span class="std std-ref">collision_animatable</span></a></p></td> <td><p><code>false</code></p></td> </tr> <tr>
<td><p><a href="#enum-tilemap-visibilitymode"><span class="std std-ref">VisibilityMode</span></a></p></td> <td><p><a href="#class-tilemap-property-collision-visibility-mode"><span class="std std-ref">collision_visibility_mode</span></a></p></td> <td><p><code>0</code></p></td> </tr> <tr>
<td><p><a href="#enum-tilemap-visibilitymode"><span class="std std-ref">VisibilityMode</span></a></p></td> <td><p><a href="#class-tilemap-property-navigation-visibility-mode"><span class="std std-ref">navigation_visibility_mode</span></a></p></td> <td><p><code>0</code></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-tilemap-property-rendering-quadrant-size"><span class="std std-ref">rendering_quadrant_size</span></a></p></td> <td><p><code>16</code></p></td> </tr> <tr>
<td><p><a href="class_tileset.html#class-tileset"><span class="std std-ref">TileSet</span></a></p></td> <td><p><a href="#class-tilemap-property-tile-set"><span class="std std-ref">tile_set</span></a></p></td> <td></td> </tr>  </table> </section> <section class="classref-reftable-group" id="methods"> <h2>Methods</h2> <table class="colwidths-auto docutils align-default">  <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-private-method-tile-data-runtime-update"><span class="std std-ref">_tile_data_runtime_update</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords, <a href="class_tiledata.html#class-tiledata"><span class="std std-ref">TileData</span></a> tile_data <strong>)</strong> <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-tilemap-private-method-use-tile-data-runtime-update"><span class="std std-ref">_use_tile_data_runtime_update</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords <strong>)</strong> <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-add-layer"><span class="std std-ref">add_layer</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> to_position <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-clear"><span class="std std-ref">clear</span></a> <strong>(</strong> <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-clear-layer"><span class="std std-ref">clear_layer</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-erase-cell"><span class="std std-ref">erase_cell</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-fix-invalid-tiles"><span class="std std-ref">fix_invalid_tiles</span></a> <strong>(</strong> <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-force-update"><span class="std std-ref">force_update</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer=-1 <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-tilemap-method-get-cell-alternative-tile"><span class="std std-ref">get_cell_alternative_tile</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> use_proxies=false <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a></p></td> <td><p><a href="#class-tilemap-method-get-cell-atlas-coords"><span class="std std-ref">get_cell_atlas_coords</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> use_proxies=false <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-tilemap-method-get-cell-source-id"><span class="std std-ref">get_cell_source_id</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> use_proxies=false <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_tiledata.html#class-tiledata"><span class="std std-ref">TileData</span></a></p></td> <td><p><a href="#class-tilemap-method-get-cell-tile-data"><span class="std std-ref">get_cell_tile_data</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> use_proxies=false <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a></p></td> <td><p><a href="#class-tilemap-method-get-coords-for-body-rid"><span class="std std-ref">get_coords_for_body_rid</span></a> <strong>(</strong> <a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> body <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-tilemap-method-get-layer-for-body-rid"><span class="std std-ref">get_layer_for_body_rid</span></a> <strong>(</strong> <a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> body <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_color.html#class-color"><span class="std std-ref">Color</span></a></p></td> <td><p><a href="#class-tilemap-method-get-layer-modulate"><span class="std std-ref">get_layer_modulate</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a></p></td> <td><p><a href="#class-tilemap-method-get-layer-name"><span class="std std-ref">get_layer_name</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a></p></td> <td><p><a href="#class-tilemap-method-get-layer-navigation-map"><span class="std std-ref">get_layer_navigation_map</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-tilemap-method-get-layer-y-sort-origin"><span class="std std-ref">get_layer_y_sort_origin</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-tilemap-method-get-layer-z-index"><span class="std std-ref">get_layer_z_index</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-tilemap-method-get-layers-count"><span class="std std-ref">get_layers_count</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a></p></td> <td><p><a href="#class-tilemap-method-get-navigation-map"><span class="std std-ref">get_navigation_map</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a></p></td> <td><p><a href="#class-tilemap-method-get-neighbor-cell"><span class="std std-ref">get_neighbor_cell</span></a> <strong>(</strong> <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords, <a href="class_tileset.html#enum-tileset-cellneighbor"><span class="std std-ref">CellNeighbor</span></a> neighbor <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_tilemappattern.html#class-tilemappattern"><span class="std std-ref">TileMapPattern</span></a></p></td> <td><p><a href="#class-tilemap-method-get-pattern"><span class="std std-ref">get_pattern</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i[]</span></a> coords_array <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i[]</span></a></p></td> <td><p><a href="#class-tilemap-method-get-surrounding-cells"><span class="std std-ref">get_surrounding_cells</span></a> <strong>(</strong> <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i[]</span></a></p></td> <td><p><a href="#class-tilemap-method-get-used-cells"><span class="std std-ref">get_used_cells</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i[]</span></a></p></td> <td><p><a href="#class-tilemap-method-get-used-cells-by-id"><span class="std std-ref">get_used_cells_by_id</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> source_id=-1, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> atlas_coords=Vector2i(-1, -1), <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> alternative_tile=-1 <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_rect2i.html#class-rect2i"><span class="std std-ref">Rect2i</span></a></p></td> <td><p><a href="#class-tilemap-method-get-used-rect"><span class="std std-ref">get_used_rect</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-tilemap-method-is-layer-enabled"><span class="std std-ref">is_layer_enabled</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-tilemap-method-is-layer-navigation-enabled"><span class="std std-ref">is_layer_navigation_enabled</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-tilemap-method-is-layer-y-sort-enabled"><span class="std std-ref">is_layer_y_sort_enabled</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a></p></td> <td><p><a href="#class-tilemap-method-local-to-map"><span class="std std-ref">local_to_map</span></a> <strong>(</strong> <a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a> local_position <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a></p></td> <td><p><a href="#class-tilemap-method-map-pattern"><span class="std std-ref">map_pattern</span></a> <strong>(</strong> <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> position_in_tilemap, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords_in_pattern, <a href="class_tilemappattern.html#class-tilemappattern"><span class="std std-ref">TileMapPattern</span></a> pattern <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a></p></td> <td><p><a href="#class-tilemap-method-map-to-local"><span class="std std-ref">map_to_local</span></a> <strong>(</strong> <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> map_position <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-move-layer"><span class="std std-ref">move_layer</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> to_position <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-notify-runtime-tile-data-update"><span class="std std-ref">notify_runtime_tile_data_update</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer=-1 <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-remove-layer"><span class="std std-ref">remove_layer</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-set-cell"><span class="std std-ref">set_cell</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> source_id=-1, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> atlas_coords=Vector2i(-1, -1), <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> alternative_tile=0 <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-set-cells-terrain-connect"><span class="std std-ref">set_cells_terrain_connect</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i[]</span></a> cells, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> terrain_set, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> terrain, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> ignore_empty_terrains=true <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-set-cells-terrain-path"><span class="std std-ref">set_cells_terrain_path</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i[]</span></a> path, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> terrain_set, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> terrain, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> ignore_empty_terrains=true <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-set-layer-enabled"><span class="std std-ref">set_layer_enabled</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> enabled <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-set-layer-modulate"><span class="std std-ref">set_layer_modulate</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_color.html#class-color"><span class="std std-ref">Color</span></a> modulate <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-set-layer-name"><span class="std std-ref">set_layer_name</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-set-layer-navigation-enabled"><span class="std std-ref">set_layer_navigation_enabled</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> enabled <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-set-layer-navigation-map"><span class="std std-ref">set_layer_navigation_map</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> map <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-set-layer-y-sort-enabled"><span class="std std-ref">set_layer_y_sort_enabled</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> y_sort_enabled <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-set-layer-y-sort-origin"><span class="std std-ref">set_layer_y_sort_origin</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> y_sort_origin <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-set-layer-z-index"><span class="std std-ref">set_layer_z_index</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> z_index <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-set-navigation-map"><span class="std std-ref">set_navigation_map</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> map <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-set-pattern"><span class="std std-ref">set_pattern</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> position, <a href="class_tilemappattern.html#class-tilemappattern"><span class="std std-ref">TileMapPattern</span></a> pattern <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-tilemap-method-update-internals"><span class="std std-ref">update_internals</span></a> <strong>(</strong> <strong>)</strong></p></td> </tr>  </table> </section>  <section class="classref-descriptions-group" id="signals"> <h2>Signals</h2> <h3 id="class-tilemap-signal-changed">changed ( )</h3> <p>Emitted when the <a href="class_tileset.html#class-tileset"><span class="std std-ref">TileSet</span></a> of this TileMap changes.</p> </section>  <section class="classref-descriptions-group" id="enumerations"> <h2>Enumerations</h2> <h3 id="enum-tilemap-visibilitymode">enum VisibilityMode:</h3> <h3 id="class-tilemap-constant-visibility-mode-default">
<a href="#enum-tilemap-visibilitymode"><span class="std std-ref">VisibilityMode</span></a> VISIBILITY_MODE_DEFAULT = <code>0</code>
</h3> <p>Use the debug settings to determine visibility.</p> <h3 id="class-tilemap-constant-visibility-mode-force-hide">
<a href="#enum-tilemap-visibilitymode"><span class="std std-ref">VisibilityMode</span></a> VISIBILITY_MODE_FORCE_HIDE = <code>2</code>
</h3> <p>Always hide.</p> <h3 id="class-tilemap-constant-visibility-mode-force-show">
<a href="#enum-tilemap-visibilitymode"><span class="std std-ref">VisibilityMode</span></a> VISIBILITY_MODE_FORCE_SHOW = <code>1</code>
</h3> <p>Always show.</p> </section>  <section class="classref-descriptions-group" id="property-descriptions"> <h2>Property Descriptions</h2> <h3 id="class-tilemap-property-collision-animatable">
<a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> collision_animatable = <code>false</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_collision_animatable</strong> <strong>(</strong> <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> value <strong>)</strong>
</li> <li>
<a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> <strong>is_collision_animatable</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>If enabled, the TileMap will see its collisions synced to the physics tick and change its collision type from static to kinematic. This is required to create TileMap-based moving platform.</p> <p><strong>Note:</strong> Enabling <a href="#class-tilemap-property-collision-animatable"><span class="std std-ref">collision_animatable</span></a> may have a small performance impact, only do it if the TileMap is moving and has colliding tiles.</p>  <h3 id="class-tilemap-property-collision-visibility-mode">
<a href="#enum-tilemap-visibilitymode"><span class="std std-ref">VisibilityMode</span></a> collision_visibility_mode = <code>0</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_collision_visibility_mode</strong> <strong>(</strong> <a href="#enum-tilemap-visibilitymode"><span class="std std-ref">VisibilityMode</span></a> value <strong>)</strong>
</li> <li>
<a href="#enum-tilemap-visibilitymode"><span class="std std-ref">VisibilityMode</span></a> <strong>get_collision_visibility_mode</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>Show or hide the TileMap's collision shapes. If set to <a href="#class-tilemap-constant-visibility-mode-default"><span class="std std-ref">VISIBILITY_MODE_DEFAULT</span></a>, this depends on the show collision debug settings.</p>  <h3 id="class-tilemap-property-navigation-visibility-mode">
<a href="#enum-tilemap-visibilitymode"><span class="std std-ref">VisibilityMode</span></a> navigation_visibility_mode = <code>0</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_navigation_visibility_mode</strong> <strong>(</strong> <a href="#enum-tilemap-visibilitymode"><span class="std std-ref">VisibilityMode</span></a> value <strong>)</strong>
</li> <li>
<a href="#enum-tilemap-visibilitymode"><span class="std std-ref">VisibilityMode</span></a> <strong>get_navigation_visibility_mode</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>Show or hide the TileMap's navigation meshes. If set to <a href="#class-tilemap-constant-visibility-mode-default"><span class="std std-ref">VISIBILITY_MODE_DEFAULT</span></a>, this depends on the show navigation debug settings.</p>  <h3 id="class-tilemap-property-rendering-quadrant-size">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> rendering_quadrant_size = <code>16</code>
</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_rendering_quadrant_size</strong> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> value <strong>)</strong>
</li> <li>
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> <strong>get_rendering_quadrant_size</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>The TileMap's quadrant size. A quadrant is a group of tiles to be drawn together on a single canvas item, for optimization purposes. <a href="#class-tilemap-property-rendering-quadrant-size"><span class="std std-ref">rendering_quadrant_size</span></a> defines the length of a square's side, in the map's coordinate system, that forms the quadrant. Thus, the default quandrant size groups together <code>16 * 16 = 256</code> tiles.</p> <p>The quadrant size does not apply on Y-sorted layers, as tiles are be grouped by Y position instead in that case.</p> <p><strong>Note:</strong> As quadrants are created according to the map's coordinate system, the quadrant's "square shape" might not look like square in the TileMap's local coordinate system.</p>  <h3 id="class-tilemap-property-tile-set">
<a href="class_tileset.html#class-tileset"><span class="std std-ref">TileSet</span></a> tile_set</h3> <ul class="classref-property-setget simple"> <li>void <strong>set_tileset</strong> <strong>(</strong> <a href="class_tileset.html#class-tileset"><span class="std std-ref">TileSet</span></a> value <strong>)</strong>
</li> <li>
<a href="class_tileset.html#class-tileset"><span class="std std-ref">TileSet</span></a> <strong>get_tileset</strong> <strong>(</strong> <strong>)</strong>
</li> </ul> <p>The assigned <a href="class_tileset.html#class-tileset"><span class="std std-ref">TileSet</span></a>.</p> </section>  <section class="classref-descriptions-group" id="method-descriptions"> <h2>Method Descriptions</h2> <h3 id="class-tilemap-private-method-tile-data-runtime-update">void _tile_data_runtime_update ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords, <a href="class_tiledata.html#class-tiledata"><span class="std std-ref">TileData</span></a> tile_data ) <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr>
</h3> <p>Called with a TileData object about to be used internally by the TileMap, allowing its modification at runtime.</p> <p>This method is only called if <a href="#class-tilemap-private-method-use-tile-data-runtime-update"><span class="std std-ref">_use_tile_data_runtime_update</span></a> is implemented and returns <code>true</code> for the given tile <code>coords</code> and <code>layer</code>.</p> <p><strong>Warning:</strong> The <code>tile_data</code> object's sub-resources are the same as the one in the TileSet. Modifying them might impact the whole TileSet. Instead, make sure to duplicate those resources.</p> <p><strong>Note:</strong> If the properties of <code>tile_data</code> object should change over time, use <a href="#class-tilemap-method-notify-runtime-tile-data-update"><span class="std std-ref">notify_runtime_tile_data_update</span></a> to notify the TileMap it needs an update.</p>  <h3 id="class-tilemap-private-method-use-tile-data-runtime-update">
<a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> _use_tile_data_runtime_update ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords ) <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr>
</h3> <p>Should return <code>true</code> if the tile at coordinates <code>coords</code> on layer <code>layer</code> requires a runtime update.</p> <p><strong>Warning:</strong> Make sure this function only return <code>true</code> when needed. Any tile processed at runtime without a need for it will imply a significant performance penalty.</p> <p><strong>Note:</strong> If the result of this function should changed, use <a href="#class-tilemap-method-notify-runtime-tile-data-update"><span class="std std-ref">notify_runtime_tile_data_update</span></a> to notify the TileMap it needs an update.</p>  <h3 id="class-tilemap-method-add-layer">void add_layer ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> to_position )</h3> <p>Adds a layer at the given position <code>to_position</code> in the array. If <code>to_position</code> is negative, the position is counted from the end, with <code>-1</code> adding the layer at the end of the array.</p>  <h3 id="class-tilemap-method-clear">void clear ( )</h3> <p>Clears all cells.</p>  <h3 id="class-tilemap-method-clear-layer">void clear_layer ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer )</h3> <p>Clears all cells on the given layer.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-erase-cell">void erase_cell ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords )</h3> <p>Erases the cell on layer <code>layer</code> at coordinates <code>coords</code>.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-fix-invalid-tiles">void fix_invalid_tiles ( )</h3> <p>Clears cells that do not exist in the tileset.</p>  <h3 id="class-tilemap-method-force-update">void force_update ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer=-1 )</h3> <p><em>Deprecated.</em> See <a href="#class-tilemap-method-notify-runtime-tile-data-update"><span class="std std-ref">notify_runtime_tile_data_update</span></a> and <a href="#class-tilemap-method-update-internals"><span class="std std-ref">update_internals</span></a>.</p>  <h3 id="class-tilemap-method-get-cell-alternative-tile">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> get_cell_alternative_tile ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> use_proxies=false ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the tile alternative ID of the cell on layer <code>layer</code> at <code>coords</code>. If <code>use_proxies</code> is <code>false</code>, ignores the <a href="class_tileset.html#class-tileset"><span class="std std-ref">TileSet</span></a>'s tile proxies, returning the raw alternative identifier. See <a href="class_tileset.html#class-tileset-method-map-tile-proxy"><span class="std std-ref">TileSet.map_tile_proxy</span></a>.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-get-cell-atlas-coords">
<a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> get_cell_atlas_coords ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> use_proxies=false ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the tile atlas coordinates ID of the cell on layer <code>layer</code> at coordinates <code>coords</code>. If <code>use_proxies</code> is <code>false</code>, ignores the <a href="class_tileset.html#class-tileset"><span class="std std-ref">TileSet</span></a>'s tile proxies, returning the raw alternative identifier. See <a href="class_tileset.html#class-tileset-method-map-tile-proxy"><span class="std std-ref">TileSet.map_tile_proxy</span></a>.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-get-cell-source-id">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> get_cell_source_id ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> use_proxies=false ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the tile source ID of the cell on layer <code>layer</code> at coordinates <code>coords</code>. Returns <code>-1</code> if the cell does not exist.</p> <p>If <code>use_proxies</code> is <code>false</code>, ignores the <a href="class_tileset.html#class-tileset"><span class="std std-ref">TileSet</span></a>'s tile proxies, returning the raw alternative identifier. See <a href="class_tileset.html#class-tileset-method-map-tile-proxy"><span class="std std-ref">TileSet.map_tile_proxy</span></a>.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-get-cell-tile-data">
<a href="class_tiledata.html#class-tiledata"><span class="std std-ref">TileData</span></a> get_cell_tile_data ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> use_proxies=false ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the <a href="class_tiledata.html#class-tiledata"><span class="std std-ref">TileData</span></a> object associated with the given cell, or <code>null</code> if the cell does not exist or is not a <a href="class_tilesetatlassource.html#class-tilesetatlassource"><span class="std std-ref">TileSetAtlasSource</span></a>.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p> <p>If <code>use_proxies</code> is <code>false</code>, ignores the <a href="class_tileset.html#class-tileset"><span class="std std-ref">TileSet</span></a>'s tile proxies, returning the raw alternative identifier. See <a href="class_tileset.html#class-tileset-method-map-tile-proxy"><span class="std std-ref">TileSet.map_tile_proxy</span></a>.</p> <pre data-language="gdscript">func get_clicked_tile_power():
    var clicked_cell = tile_map.local_to_map(tile_map.get_local_mouse_position())
    var data = tile_map.get_cell_tile_data(0, clicked_cell)
    if data:
        return data.get_custom_data("power")
    else:
        return 0
</pre>  <h3 id="class-tilemap-method-get-coords-for-body-rid">
<a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> get_coords_for_body_rid ( <a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> body )</h3> <p>Returns the coordinates of the tile for given physics body RID. Such RID can be retrieved from <a href="class_kinematiccollision2d.html#class-kinematiccollision2d-method-get-collider-rid"><span class="std std-ref">KinematicCollision2D.get_collider_rid</span></a>, when colliding with a tile.</p>  <h3 id="class-tilemap-method-get-layer-for-body-rid">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> get_layer_for_body_rid ( <a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> body )</h3> <p>Returns the tilemap layer of the tile for given physics body RID. Such RID can be retrieved from <a href="class_kinematiccollision2d.html#class-kinematiccollision2d-method-get-collider-rid"><span class="std std-ref">KinematicCollision2D.get_collider_rid</span></a>, when colliding with a tile.</p>  <h3 id="class-tilemap-method-get-layer-modulate">
<a href="class_color.html#class-color"><span class="std std-ref">Color</span></a> get_layer_modulate ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns a TileMap layer's modulate.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-get-layer-name">
<a href="class_string.html#class-string"><span class="std std-ref">String</span></a> get_layer_name ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns a TileMap layer's name.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-get-layer-navigation-map">
<a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> get_layer_navigation_map ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the <a href="class_navigationserver2d.html#class-navigationserver2d"><span class="std std-ref">NavigationServer2D</span></a> navigation map <a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> currently assigned to the specified TileMap <code>layer</code>.</p> <p>By default the TileMap uses the default <a href="class_world2d.html#class-world2d"><span class="std std-ref">World2D</span></a> navigation map for the first TileMap layer. For each additional TileMap layer a new navigation map is created for the additional layer.</p> <p>In order to make <a href="class_navigationagent2d.html#class-navigationagent2d"><span class="std std-ref">NavigationAgent2D</span></a> switch between TileMap layer navigation maps use <a href="class_navigationagent2d.html#class-navigationagent2d-method-set-navigation-map"><span class="std std-ref">NavigationAgent2D.set_navigation_map</span></a> with the navigation map received from <a href="#class-tilemap-method-get-layer-navigation-map"><span class="std std-ref">get_layer_navigation_map</span></a>.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-get-layer-y-sort-origin">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> get_layer_y_sort_origin ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns a TileMap layer's Y sort origin.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-get-layer-z-index">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> get_layer_z_index ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns a TileMap layer's Z-index value.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-get-layers-count">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> get_layers_count ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the number of layers in the TileMap.</p>  <h3 id="class-tilemap-method-get-navigation-map">
<a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> get_navigation_map ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>See <a href="#class-tilemap-method-get-layer-navigation-map"><span class="std std-ref">get_layer_navigation_map</span></a>.</p>  <h3 id="class-tilemap-method-get-neighbor-cell">
<a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> get_neighbor_cell ( <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords, <a href="class_tileset.html#enum-tileset-cellneighbor"><span class="std std-ref">CellNeighbor</span></a> neighbor ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the neighboring cell to the one at coordinates <code>coords</code>, identified by the <code>neighbor</code> direction. This method takes into account the different layouts a TileMap can take.</p>  <h3 id="class-tilemap-method-get-pattern">
<a href="class_tilemappattern.html#class-tilemappattern"><span class="std std-ref">TileMapPattern</span></a> get_pattern ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i[]</span></a> coords_array )</h3> <p>Creates a new <a href="class_tilemappattern.html#class-tilemappattern"><span class="std std-ref">TileMapPattern</span></a> from the given layer and set of cells.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-get-surrounding-cells">
<a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i[]</span></a> get_surrounding_cells ( <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords )</h3> <p>Returns the list of all neighbourings cells to the one at <code>coords</code>.</p>  <h3 id="class-tilemap-method-get-used-cells">
<a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i[]</span></a> get_used_cells ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns a <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> array with the positions of all cells containing a tile in the given layer. A cell is considered empty if its source identifier equals -1, its atlas coordinates identifiers is <code>Vector2(-1, -1)</code> and its alternative identifier is -1.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-get-used-cells-by-id">
<a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i[]</span></a> get_used_cells_by_id ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> source_id=-1, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> atlas_coords=Vector2i(-1, -1), <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> alternative_tile=-1 ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns a <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> array with the positions of all cells containing a tile in the given layer. Tiles may be filtered according to their source (<code>source_id</code>), their atlas coordinates (<code>atlas_coords</code>) or alternative id (<code>alternative_tile</code>).</p> <p>If a parameter has its value set to the default one, this parameter is not used to filter a cell. Thus, if all parameters have their respective default value, this method returns the same result as <a href="#class-tilemap-method-get-used-cells"><span class="std std-ref">get_used_cells</span></a>.</p> <p>A cell is considered empty if its source identifier equals -1, its atlas coordinates identifiers is <code>Vector2(-1, -1)</code> and its alternative identifier is -1.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-get-used-rect">
<a href="class_rect2i.html#class-rect2i"><span class="std std-ref">Rect2i</span></a> get_used_rect ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns a rectangle enclosing the used (non-empty) tiles of the map, including all layers.</p>  <h3 id="class-tilemap-method-is-layer-enabled">
<a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> is_layer_enabled ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns if a layer is enabled.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-is-layer-navigation-enabled">
<a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> is_layer_navigation_enabled ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns if a layer's built-in navigation regions generation is enabled.</p>  <h3 id="class-tilemap-method-is-layer-y-sort-enabled">
<a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> is_layer_y_sort_enabled ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns if a layer Y-sorts its tiles.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-local-to-map">
<a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> local_to_map ( <a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a> local_position ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the map coordinates of the cell containing the given <code>local_position</code>. If <code>local_position</code> is in global coordinates, consider using <a href="class_node2d.html#class-node2d-method-to-local"><span class="std std-ref">Node2D.to_local</span></a> before passing it to this method. See also <a href="#class-tilemap-method-map-to-local"><span class="std std-ref">map_to_local</span></a>.</p>  <h3 id="class-tilemap-method-map-pattern">
<a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> map_pattern ( <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> position_in_tilemap, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords_in_pattern, <a href="class_tilemappattern.html#class-tilemappattern"><span class="std std-ref">TileMapPattern</span></a> pattern )</h3> <p>Returns for the given coordinate <code>coords_in_pattern</code> in a <a href="class_tilemappattern.html#class-tilemappattern"><span class="std std-ref">TileMapPattern</span></a> the corresponding cell coordinates if the pattern was pasted at the <code>position_in_tilemap</code> coordinates (see <a href="#class-tilemap-method-set-pattern"><span class="std std-ref">set_pattern</span></a>). This mapping is required as in half-offset tile shapes, the mapping might not work by calculating <code>position_in_tile_map + coords_in_pattern</code>.</p>  <h3 id="class-tilemap-method-map-to-local">
<a href="class_vector2.html#class-vector2"><span class="std std-ref">Vector2</span></a> map_to_local ( <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> map_position ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the centered position of a cell in the TileMap's local coordinate space. To convert the returned value into global coordinates, use <a href="class_node2d.html#class-node2d-method-to-global"><span class="std std-ref">Node2D.to_global</span></a>. See also <a href="#class-tilemap-method-local-to-map"><span class="std std-ref">local_to_map</span></a>.</p> <p><strong>Note:</strong> This may not correspond to the visual position of the tile, i.e. it ignores the <a href="class_tiledata.html#class-tiledata-property-texture-origin"><span class="std std-ref">TileData.texture_origin</span></a> property of individual tiles.</p>  <h3 id="class-tilemap-method-move-layer">void move_layer ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> to_position )</h3> <p>Moves the layer at index <code>layer</code> to the given position <code>to_position</code> in the array.</p>  <h3 id="class-tilemap-method-notify-runtime-tile-data-update">void notify_runtime_tile_data_update ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer=-1 )</h3> <p>Notifies the TileMap node that calls to <a href="#class-tilemap-private-method-use-tile-data-runtime-update"><span class="std std-ref">_use_tile_data_runtime_update</span></a> or <a href="#class-tilemap-private-method-tile-data-runtime-update"><span class="std std-ref">_tile_data_runtime_update</span></a> will lead to different results. This will thus trigger a TileMap update.</p> <p>If <code>layer</code> is provided, only notifies changes for the given layer. Providing the <code>layer</code> argument (when applicable) is usually preferred for performance reasons.</p> <p><strong>Warning:</strong> Updating the TileMap is computationally expensive and may impact performance. Try to limit the number of calls to this function to avoid unnecessary update.</p> <p><strong>Note:</strong> This does not trigger a direct update of the TileMap, the update will be done at the end of the frame as usual (unless you call <a href="#class-tilemap-method-update-internals"><span class="std std-ref">update_internals</span></a>).</p>  <h3 id="class-tilemap-method-remove-layer">void remove_layer ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer )</h3> <p>Removes the layer at index <code>layer</code>.</p>  <h3 id="class-tilemap-method-set-cell">void set_cell ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> coords, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> source_id=-1, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> atlas_coords=Vector2i(-1, -1), <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> alternative_tile=0 )</h3> <p>Sets the tile identifiers for the cell on layer <code>layer</code> at coordinates <code>coords</code>. Each tile of the <a href="class_tileset.html#class-tileset"><span class="std std-ref">TileSet</span></a> is identified using three parts:</p> <ul class="simple"> <li>The source identifier <code>source_id</code> identifies a <a href="class_tilesetsource.html#class-tilesetsource"><span class="std std-ref">TileSetSource</span></a> identifier. See <a href="class_tileset.html#class-tileset-method-set-source-id"><span class="std std-ref">TileSet.set_source_id</span></a>,</li> <li>The atlas coordinates identifier <code>atlas_coords</code> identifies a tile coordinates in the atlas (if the source is a <a href="class_tilesetatlassource.html#class-tilesetatlassource"><span class="std std-ref">TileSetAtlasSource</span></a>). For <a href="class_tilesetscenescollectionsource.html#class-tilesetscenescollectionsource"><span class="std std-ref">TileSetScenesCollectionSource</span></a> it should always be <code>Vector2i(0, 0)</code>),</li> <li>The alternative tile identifier <code>alternative_tile</code> identifies a tile alternative in the atlas (if the source is a <a href="class_tilesetatlassource.html#class-tilesetatlassource"><span class="std std-ref">TileSetAtlasSource</span></a>), and the scene for a <a href="class_tilesetscenescollectionsource.html#class-tilesetscenescollectionsource"><span class="std std-ref">TileSetScenesCollectionSource</span></a>.</li> </ul> <p>If <code>source_id</code> is set to <code>-1</code>, <code>atlas_coords</code> to <code>Vector2i(-1, -1)</code> or <code>alternative_tile</code> to <code>-1</code>, the cell will be erased. An erased cell gets <strong>all</strong> its identifiers automatically set to their respective invalid values, namely <code>-1</code>, <code>Vector2i(-1, -1)</code> and <code>-1</code>.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-set-cells-terrain-connect">void set_cells_terrain_connect ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i[]</span></a> cells, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> terrain_set, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> terrain, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> ignore_empty_terrains=true )</h3> <p>Update all the cells in the <code>cells</code> coordinates array so that they use the given <code>terrain</code> for the given <code>terrain_set</code>. If an updated cell has the same terrain as one of its neighboring cells, this function tries to join the two. This function might update neighboring tiles if needed to create correct terrain transitions.</p> <p>If <code>ignore_empty_terrains</code> is true, empty terrains will be ignored when trying to find the best fitting tile for the given terrain constraints.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p> <p><strong>Note:</strong> To work correctly, this method requires the TileMap's TileSet to have terrains set up with all required terrain combinations. Otherwise, it may produce unexpected results.</p>  <h3 id="class-tilemap-method-set-cells-terrain-path">void set_cells_terrain_path ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i[]</span></a> path, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> terrain_set, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> terrain, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> ignore_empty_terrains=true )</h3> <p>Update all the cells in the <code>path</code> coordinates array so that they use the given <code>terrain</code> for the given <code>terrain_set</code>. The function will also connect two successive cell in the path with the same terrain. This function might update neighboring tiles if needed to create correct terrain transitions.</p> <p>If <code>ignore_empty_terrains</code> is true, empty terrains will be ignored when trying to find the best fitting tile for the given terrain constraints.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p> <p><strong>Note:</strong> To work correctly, this method requires the TileMap's TileSet to have terrains set up with all required terrain combinations. Otherwise, it may produce unexpected results.</p>  <h3 id="class-tilemap-method-set-layer-enabled">void set_layer_enabled ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> enabled )</h3> <p>Enables or disables the layer <code>layer</code>. A disabled layer is not processed at all (no rendering, no physics, etc...).</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-set-layer-modulate">void set_layer_modulate ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_color.html#class-color"><span class="std std-ref">Color</span></a> modulate )</h3> <p>Sets a layer's color. It will be multiplied by tile's color and TileMap's modulate.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-set-layer-name">void set_layer_name ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> name )</h3> <p>Sets a layer's name. This is mostly useful in the editor.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-set-layer-navigation-enabled">void set_layer_navigation_enabled ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> enabled )</h3> <p>Enables or disables a layer's built-in navigation regions generation. Disable this if you need to bake navigation regions from a TileMap using a <a href="class_navigationregion2d.html#class-navigationregion2d"><span class="std std-ref">NavigationRegion2D</span></a> node.</p>  <h3 id="class-tilemap-method-set-layer-navigation-map">void set_layer_navigation_map ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> map )</h3> <p>Assigns a <a href="class_navigationserver2d.html#class-navigationserver2d"><span class="std std-ref">NavigationServer2D</span></a> navigation map <a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> to the specified TileMap <code>layer</code>.</p> <p>By default the TileMap uses the default <a href="class_world2d.html#class-world2d"><span class="std std-ref">World2D</span></a> navigation map for the first TileMap layer. For each additional TileMap layer a new navigation map is created for the additional layer.</p> <p>In order to make <a href="class_navigationagent2d.html#class-navigationagent2d"><span class="std std-ref">NavigationAgent2D</span></a> switch between TileMap layer navigation maps use <a href="class_navigationagent2d.html#class-navigationagent2d-method-set-navigation-map"><span class="std std-ref">NavigationAgent2D.set_navigation_map</span></a> with the navigation map received from <a href="#class-tilemap-method-get-layer-navigation-map"><span class="std std-ref">get_layer_navigation_map</span></a>.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-set-layer-y-sort-enabled">void set_layer_y_sort_enabled ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> y_sort_enabled )</h3> <p>Enables or disables a layer's Y-sorting. If a layer is Y-sorted, the layer will behave as a CanvasItem node where each of its tile gets Y-sorted.</p> <p>Y-sorted layers should usually be on different Z-index values than not Y-sorted layers, otherwise, each of those layer will be Y-sorted as whole with the Y-sorted one. This is usually an undesired behavior.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-set-layer-y-sort-origin">void set_layer_y_sort_origin ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> y_sort_origin )</h3> <p>Sets a layer's Y-sort origin value. This Y-sort origin value is added to each tile's Y-sort origin value.</p> <p>This allows, for example, to fake a different height level on each layer. This can be useful for top-down view games.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-set-layer-z-index">void set_layer_z_index ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> z_index )</h3> <p>Sets a layers Z-index value. This Z-index is added to each tile's Z-index value.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-set-navigation-map">void set_navigation_map ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_rid.html#class-rid"><span class="std std-ref">RID</span></a> map )</h3> <p>See <a href="#class-tilemap-method-set-layer-navigation-map"><span class="std std-ref">set_layer_navigation_map</span></a>.</p>  <h3 id="class-tilemap-method-set-pattern">void set_pattern ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> layer, <a href="class_vector2i.html#class-vector2i"><span class="std std-ref">Vector2i</span></a> position, <a href="class_tilemappattern.html#class-tilemappattern"><span class="std std-ref">TileMapPattern</span></a> pattern )</h3> <p>Paste the given <a href="class_tilemappattern.html#class-tilemappattern"><span class="std std-ref">TileMapPattern</span></a> at the given <code>position</code> and <code>layer</code> in the tile map.</p> <p>If <code>layer</code> is negative, the layers are accessed from the last one.</p>  <h3 id="class-tilemap-method-update-internals">void update_internals ( )</h3> <p>Triggers a direct update of the TileMap. Usually, calling this function is not needed, as TileMap node updates automatically when one of its properties or cells is modified.</p> <p>However, for performance reasons, those updates are batched and delayed to the end of the frame. Calling this function will force the TileMap to update right away instead.</p> <p><strong>Warning:</strong> Updating the TileMap is computationally expensive and may impact performance. Try to limit the number of updates and how many tiles they impact.</p> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014&ndash;present Juan Linietsky, Ariel Manzur and the Godot community<br>Licensed under the Creative Commons Attribution Unported License v3.0.<br>
    <a href="https://docs.godotengine.org/en/4.2/classes/class_tilemap.html" class="_attribution-link">https://docs.godotengine.org/en/4.2/classes/class_tilemap.html</a>
  </p>
</div>
