<section id="videostreamplayback"> <h1 id="class-videostreamplayback">VideoStreamPlayback</h1> <p><strong>Inherits:</strong> <a href="class_resource.html#class-resource"><span class="std std-ref">Resource</span></a> <strong>&lt;</strong> <a href="class_refcounted.html#class-refcounted"><span class="std std-ref">RefCounted</span></a> <strong>&lt;</strong> <a href="class_object.html#class-object"><span class="std std-ref">Object</span></a></p> <p>Internal class used by <a href="class_videostream.html#class-videostream"><span class="std std-ref">VideoStream</span></a> to manage playback state when played from a <a href="class_videostreamplayer.html#class-videostreamplayer"><span class="std std-ref">VideoStreamPlayer</span></a>.</p> <section class="classref-introduction-group" id="description"> <h2>Description</h2> <p>This class is intended to be overridden by video decoder extensions with custom implementations of <a href="class_videostream.html#class-videostream"><span class="std std-ref">VideoStream</span></a>.</p> </section> <section class="classref-reftable-group" id="methods"> <h2>Methods</h2> <table class="colwidths-auto docutils align-default">  <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-videostreamplayback-private-method-get-channels"><span class="std std-ref">_get_channels</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a></p></td> <td><p><a href="#class-videostreamplayback-private-method-get-length"><span class="std std-ref">_get_length</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-videostreamplayback-private-method-get-mix-rate"><span class="std std-ref">_get_mix_rate</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_float.html#class-float"><span class="std std-ref">float</span></a></p></td> <td><p><a href="#class-videostreamplayback-private-method-get-playback-position"><span class="std std-ref">_get_playback_position</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_texture2d.html#class-texture2d"><span class="std std-ref">Texture2D</span></a></p></td> <td><p><a href="#class-videostreamplayback-private-method-get-texture"><span class="std std-ref">_get_texture</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-videostreamplayback-private-method-is-paused"><span class="std std-ref">_is_paused</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-videostreamplayback-private-method-is-playing"><span class="std std-ref">_is_playing</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-videostreamplayback-private-method-play"><span class="std std-ref">_play</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-videostreamplayback-private-method-seek"><span class="std std-ref">_seek</span></a> <strong>(</strong> <a href="class_float.html#class-float"><span class="std std-ref">float</span></a> time <strong>)</strong> <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-videostreamplayback-private-method-set-audio-track"><span class="std std-ref">_set_audio_track</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx <strong>)</strong> <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-videostreamplayback-private-method-set-paused"><span class="std std-ref">_set_paused</span></a> <strong>(</strong> <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> paused <strong>)</strong> <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-videostreamplayback-private-method-stop"><span class="std std-ref">_stop</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-videostreamplayback-private-method-update"><span class="std std-ref">_update</span></a> <strong>(</strong> <a href="class_float.html#class-float"><span class="std std-ref">float</span></a> delta <strong>)</strong> <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-videostreamplayback-method-mix-audio"><span class="std std-ref">mix_audio</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> num_frames, <a href="class_packedfloat32array.html#class-packedfloat32array"><span class="std std-ref">PackedFloat32Array</span></a> buffer=PackedFloat32Array(), <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> offset=0 <strong>)</strong></p></td> </tr>  </table> </section>  <section class="classref-descriptions-group" id="method-descriptions"> <h2>Method Descriptions</h2> <h3 id="class-videostreamplayback-private-method-get-channels">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> _get_channels ( ) <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the number of audio channels.</p>  <h3 id="class-videostreamplayback-private-method-get-length">
<a href="class_float.html#class-float"><span class="std std-ref">float</span></a> _get_length ( ) <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the video duration in seconds, if known, or 0 if unknown.</p>  <h3 id="class-videostreamplayback-private-method-get-mix-rate">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> _get_mix_rate ( ) <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the audio sample rate used for mixing.</p>  <h3 id="class-videostreamplayback-private-method-get-playback-position">
<a href="class_float.html#class-float"><span class="std std-ref">float</span></a> _get_playback_position ( ) <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Return the current playback timestamp. Called in response to the <a href="class_videostreamplayer.html#class-videostreamplayer-property-stream-position"><span class="std std-ref">VideoStreamPlayer.stream_position</span></a> getter.</p>  <h3 id="class-videostreamplayback-private-method-get-texture">
<a href="class_texture2d.html#class-texture2d"><span class="std std-ref">Texture2D</span></a> _get_texture ( ) <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Allocates a <a href="class_texture2d.html#class-texture2d"><span class="std std-ref">Texture2D</span></a> in which decoded video frames will be drawn.</p>  <h3 id="class-videostreamplayback-private-method-is-paused">
<a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> _is_paused ( ) <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the paused status, as set by <a href="#class-videostreamplayback-private-method-set-paused"><span class="std std-ref">_set_paused</span></a>.</p>  <h3 id="class-videostreamplayback-private-method-is-playing">
<a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> _is_playing ( ) <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr>
</h3> <p>Returns the playback state, as determined by calls to <a href="#class-videostreamplayback-private-method-play"><span class="std std-ref">_play</span></a> and <a href="#class-videostreamplayback-private-method-stop"><span class="std std-ref">_stop</span></a>.</p>  <h3 id="class-videostreamplayback-private-method-play">void _play ( ) <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr>
</h3> <p>Called in response to <a href="class_videostreamplayer.html#class-videostreamplayer-property-autoplay"><span class="std std-ref">VideoStreamPlayer.autoplay</span></a> or <a href="class_videostreamplayer.html#class-videostreamplayer-method-play"><span class="std std-ref">VideoStreamPlayer.play</span></a>. Note that manual playback may also invoke <a href="#class-videostreamplayback-private-method-stop"><span class="std std-ref">_stop</span></a> multiple times before this method is called. <a href="#class-videostreamplayback-private-method-is-playing"><span class="std std-ref">_is_playing</span></a> should return true once playing.</p>  <h3 id="class-videostreamplayback-private-method-seek">void _seek ( <a href="class_float.html#class-float"><span class="std std-ref">float</span></a> time ) <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr>
</h3> <p>Seeks to <code>time</code> seconds. Called in response to the <a href="class_videostreamplayer.html#class-videostreamplayer-property-stream-position"><span class="std std-ref">VideoStreamPlayer.stream_position</span></a> setter.</p>  <h3 id="class-videostreamplayback-private-method-set-audio-track">void _set_audio_track ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> idx ) <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr>
</h3> <p>Select the audio track <code>idx</code>. Called when playback starts, and in response to the <a href="class_videostreamplayer.html#class-videostreamplayer-property-audio-track"><span class="std std-ref">VideoStreamPlayer.audio_track</span></a> setter.</p>  <h3 id="class-videostreamplayback-private-method-set-paused">void _set_paused ( <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> paused ) <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr>
</h3> <p>Set the paused status of video playback. <a href="#class-videostreamplayback-private-method-is-paused"><span class="std std-ref">_is_paused</span></a> must return <code>paused</code>. Called in response to the <a href="class_videostreamplayer.html#class-videostreamplayer-property-paused"><span class="std std-ref">VideoStreamPlayer.paused</span></a> setter.</p>  <h3 id="class-videostreamplayback-private-method-stop">void _stop ( ) <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr>
</h3> <p>Stops playback. May be called multiple times before <a href="#class-videostreamplayback-private-method-play"><span class="std std-ref">_play</span></a>, or in response to <a href="class_videostreamplayer.html#class-videostreamplayer-method-stop"><span class="std std-ref">VideoStreamPlayer.stop</span></a>. <a href="#class-videostreamplayback-private-method-is-playing"><span class="std std-ref">_is_playing</span></a> should return false once stopped.</p>  <h3 id="class-videostreamplayback-private-method-update">void _update ( <a href="class_float.html#class-float"><span class="std std-ref">float</span></a> delta ) <abbr title="This method should typically be overridden by the user to have any effect.">virtual</abbr>
</h3> <p>Ticks video playback for <code>delta</code> seconds. Called every frame as long as <a href="#class-videostreamplayback-private-method-is-paused"><span class="std std-ref">_is_paused</span></a> and <a href="#class-videostreamplayback-private-method-is-playing"><span class="std std-ref">_is_playing</span></a> return true.</p>  <h3 id="class-videostreamplayback-method-mix-audio">
<a href="class_int.html#class-int"><span class="std std-ref">int</span></a> mix_audio ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> num_frames, <a href="class_packedfloat32array.html#class-packedfloat32array"><span class="std std-ref">PackedFloat32Array</span></a> buffer=PackedFloat32Array(), <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> offset=0 )</h3> <p>Render <code>num_frames</code> audio frames (of <a href="#class-videostreamplayback-private-method-get-channels"><span class="std std-ref">_get_channels</span></a> floats each) from <code>buffer</code>, starting from index <code>offset</code> in the array. Returns the number of audio frames rendered, or -1 on error.</p> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014&ndash;present Juan Linietsky, Ariel Manzur and the Godot community<br>Licensed under the Creative Commons Attribution Unported License v3.0.<br>
    <a href="https://docs.godotengine.org/en/4.2/classes/class_videostreamplayback.html" class="_attribution-link">https://docs.godotengine.org/en/4.2/classes/class_videostreamplayback.html</a>
  </p>
</div>
