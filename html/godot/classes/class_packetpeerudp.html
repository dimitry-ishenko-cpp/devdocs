<h1 id="class-packetpeerudp">PacketPeerUDP</h1> <p><strong>Inherits:</strong> <a href="class_packetpeer.html#class-packetpeer"><span class="std std-ref">PacketPeer</span></a> <strong>&lt;</strong> <a href="class_reference.html#class-reference"><span class="std std-ref">Reference</span></a> <strong>&lt;</strong> <a href="class_object.html#class-object"><span class="std std-ref">Object</span></a></p> <p>UDP packet peer.</p> <section id="description"> <h2>Description</h2> <p>UDP packet peer. Can be used to send raw UDP packets as well as <a href="class_variant.html#class-variant"><span class="std std-ref">Variant</span></a>s.</p> </section> <section id="methods"> <h2>Methods</h2> <table class="docutils align-default">   <tr>
<td><p>void</p></td> <td><p><a href="#class-packetpeerudp-method-close"><span class="std std-ref">close</span></a> <strong>(</strong> <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a></p></td> <td><p><a href="#class-packetpeerudp-method-connect-to-host"><span class="std std-ref">connect_to_host</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> host, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> port <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a></p></td> <td><p><a href="#class-packetpeerudp-method-get-packet-ip"><span class="std std-ref">get_packet_ip</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a></p></td> <td><p><a href="#class-packetpeerudp-method-get-packet-port"><span class="std std-ref">get_packet_port</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-packetpeerudp-method-is-connected-to-host"><span class="std std-ref">is_connected_to_host</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a></p></td> <td><p><a href="#class-packetpeerudp-method-is-listening"><span class="std std-ref">is_listening</span></a> <strong>(</strong> <strong>)</strong> <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></td> </tr> <tr>
<td><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a></p></td> <td><p><a href="#class-packetpeerudp-method-join-multicast-group"><span class="std std-ref">join_multicast_group</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> multicast_address, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> interface_name <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a></p></td> <td><p><a href="#class-packetpeerudp-method-leave-multicast-group"><span class="std std-ref">leave_multicast_group</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> multicast_address, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> interface_name <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a></p></td> <td><p><a href="#class-packetpeerudp-method-listen"><span class="std std-ref">listen</span></a> <strong>(</strong> <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> port, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> bind_address="*", <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> recv_buf_size=65536 <strong>)</strong></p></td> </tr> <tr>
<td><p>void</p></td> <td><p><a href="#class-packetpeerudp-method-set-broadcast-enabled"><span class="std std-ref">set_broadcast_enabled</span></a> <strong>(</strong> <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> enabled <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a></p></td> <td><p><a href="#class-packetpeerudp-method-set-dest-address"><span class="std std-ref">set_dest_address</span></a> <strong>(</strong> <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> host, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> port <strong>)</strong></p></td> </tr> <tr>
<td><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a></p></td> <td><p><a href="#class-packetpeerudp-method-wait"><span class="std std-ref">wait</span></a> <strong>(</strong> <strong>)</strong></p></td> </tr>  </table> </section> <section id="method-descriptions"> <h2>Method Descriptions</h2> <h3 id="class-packetpeerudp-method-close"><p>void close ( )</p></h3> <p>Closes the UDP socket the <code>PacketPeerUDP</code> is currently listening on.</p>  <h3 id="class-packetpeerudp-method-connect-to-host"><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a> connect_to_host ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> host, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> port )</p></h3> <p>Calling this method connects this UDP peer to the given <code>host</code>/<code>port</code> pair. UDP is in reality connectionless, so this option only means that incoming packets from different addresses are automatically discarded, and that outgoing packets are always sent to the connected address (future calls to <a href="#class-packetpeerudp-method-set-dest-address"><span class="std std-ref">set_dest_address</span></a> are not allowed). This method does not send any data to the remote peer, to do that, use <a href="class_packetpeer.html#class-packetpeer-method-put-var"><span class="std std-ref">PacketPeer.put_var</span></a> or <a href="class_packetpeer.html#class-packetpeer-method-put-packet"><span class="std std-ref">PacketPeer.put_packet</span></a> as usual. See also <a href="class_udpserver.html#class-udpserver"><span class="std std-ref">UDPServer</span></a>.</p> <p><strong>Note:</strong> Connecting to the remote peer does not help to protect from malicious attacks like IP spoofing, etc. Think about using an encryption technique like SSL or DTLS if you feel like your application is transferring sensitive information.</p>  <h3 id="class-packetpeerudp-method-get-packet-ip"><p><a href="class_string.html#class-string"><span class="std std-ref">String</span></a> get_packet_ip ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns the IP of the remote peer that sent the last packet(that was received with <a href="class_packetpeer.html#class-packetpeer-method-get-packet"><span class="std std-ref">PacketPeer.get_packet</span></a> or <a href="class_packetpeer.html#class-packetpeer-method-get-var"><span class="std std-ref">PacketPeer.get_var</span></a>).</p>  <h3 id="class-packetpeerudp-method-get-packet-port"><p><a href="class_int.html#class-int"><span class="std std-ref">int</span></a> get_packet_port ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns the port of the remote peer that sent the last packet(that was received with <a href="class_packetpeer.html#class-packetpeer-method-get-packet"><span class="std std-ref">PacketPeer.get_packet</span></a> or <a href="class_packetpeer.html#class-packetpeer-method-get-var"><span class="std std-ref">PacketPeer.get_var</span></a>).</p>  <h3 id="class-packetpeerudp-method-is-connected-to-host"><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> is_connected_to_host ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns <code>true</code> if the UDP socket is open and has been connected to a remote address. See <a href="#class-packetpeerudp-method-connect-to-host"><span class="std std-ref">connect_to_host</span></a>.</p>  <h3 id="class-packetpeerudp-method-is-listening"><p><a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> is_listening ( ) <abbr title="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbr></p></h3> <p>Returns whether this <code>PacketPeerUDP</code> is listening.</p>  <h3 id="class-packetpeerudp-method-join-multicast-group"><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a> join_multicast_group ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> multicast_address, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> interface_name )</p></h3> <p>Joins the multicast group specified by <code>multicast_address</code> using the interface identified by <code>interface_name</code>.</p> <p>You can join the same multicast group with multiple interfaces. Use <a href="class_ip.html#class-ip-method-get-local-interfaces"><span class="std std-ref">IP.get_local_interfaces</span></a> to know which are available.</p> <p><strong>Note:</strong> Some Android devices might require the <code>CHANGE_WIFI_MULTICAST_STATE</code> permission for multicast to work.</p>  <h3 id="class-packetpeerudp-method-leave-multicast-group"><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a> leave_multicast_group ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> multicast_address, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> interface_name )</p></h3> <p>Removes the interface identified by <code>interface_name</code> from the multicast group specified by <code>multicast_address</code>.</p>  <h3 id="class-packetpeerudp-method-listen"><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a> listen ( <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> port, <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> bind_address="*", <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> recv_buf_size=65536 )</p></h3> <p>Makes this <code>PacketPeerUDP</code> listen on the <code>port</code> binding to <code>bind_address</code> with a buffer size <code>recv_buf_size</code>.</p> <p>If <code>bind_address</code> is set to <code>"*"</code> (default), the peer will listen on all available addresses (both IPv4 and IPv6).</p> <p>If <code>bind_address</code> is set to <code>"0.0.0.0"</code> (for IPv4) or <code>"::"</code> (for IPv6), the peer will listen on all available addresses matching that IP type.</p> <p>If <code>bind_address</code> is set to any valid address (e.g. <code>"192.168.1.101"</code>, <code>"::1"</code>, etc), the peer will only listen on the interface with that addresses (or fail if no interface with the given address exists).</p>  <h3 id="class-packetpeerudp-method-set-broadcast-enabled"><p>void set_broadcast_enabled ( <a href="class_bool.html#class-bool"><span class="std std-ref">bool</span></a> enabled )</p></h3> <p>Enable or disable sending of broadcast packets (e.g. <code>set_dest_address("255.255.255.255", 4343)</code>. This option is disabled by default.</p> <p><strong>Note:</strong> Some Android devices might require the <code>CHANGE_WIFI_MULTICAST_STATE</code> permission and this option to be enabled to receive broadcast packets too.</p>  <h3 id="class-packetpeerudp-method-set-dest-address"><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a> set_dest_address ( <a href="class_string.html#class-string"><span class="std std-ref">String</span></a> host, <a href="class_int.html#class-int"><span class="std std-ref">int</span></a> port )</p></h3> <p>Sets the destination address and port for sending packets and variables. A hostname will be resolved using DNS if needed.</p> <p><strong>Note:</strong> <a href="#class-packetpeerudp-method-set-broadcast-enabled"><span class="std std-ref">set_broadcast_enabled</span></a> must be enabled before sending packets to a broadcast address (e.g. <code>255.255.255.255</code>).</p>  <h3 id="class-packetpeerudp-method-wait"><p><a href="class_%40globalscope.html#enum-globalscope-error"><span class="std std-ref">Error</span></a> wait ( )</p></h3> <p>Waits for a packet to arrive on the listening port. See <a href="#class-packetpeerudp-method-listen"><span class="std std-ref">listen</span></a>.</p> <p><strong>Note:</strong> <a href="#class-packetpeerudp-method-wait"><span class="std std-ref">wait</span></a> can't be interrupted once it has been called. This can be worked around by allowing the other party to send a specific "death pill" packet like this:</p> <pre data-language="gdscript"># Server
socket.set_dest_address("127.0.0.1", 789)
socket.put_packet("Time to stop".to_ascii())

# Client
while socket.wait() == OK:
    var data = socket.get_packet().get_string_from_ascii()
    if data == "Time to stop":
        return
</pre> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2014&ndash;2022 Juan Linietsky, Ariel Manzur, Godot Engine contributors<br>Licensed under the MIT License.<br>
    <a href="https://docs.godotengine.org/en/3.5/classes/class_packetpeerudp.html" class="_attribution-link">https://docs.godotengine.org/en/3.5/classes/class_packetpeerudp.html</a>
  </p>
</div>
