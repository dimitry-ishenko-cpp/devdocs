<header> <h1 class="my-3"> <span class="ancestors"><a href="module-ol_imagetile.html">ol/ImageTile</a>~</span>ImageTile </h1> <br>  </header> <article>  <h3 class="subsection-title">Extends</h3> <ul> <li><a href="module-ol_tile-tile.html">Tile</a></li> </ul> <h3 class="subsection-title">Methods</h3> <dl> <dt class=""> <div class="nameContainer inherited">  <h4 class="name" id="dispatchEvent"> dispatchEvent<span class="signature">(event)</span><span class="type-signature returnType">{boolean | undefined}</span> <span class="inherited"><a href="module-ol_events_target-target.html#dispatchEvent">inherited</a></span> </h4> <div class="tag-source"> <a href="https://github.com/openlayers/openlayers/blob/v10.4.0/src/ol/events/Target.js">events/Target.js</a>, <a href="https://github.com/openlayers/openlayers/blob/v10.4.0/src/ol/events/Target.js#L85">line 85</a> </div> </div> </dt> <dd class=""> <div class="description"> <p>Dispatches an event and calls all listeners listening for events of this type. The event parameter can either be a string or an Object with a <code>type</code> property.</p> </div> <table class="params"> <thead> <tr> <th>Name</th> <th>Type</th> <th class="last">Description</th> </tr> </thead> <tbody> <tr class=""> <td class="name"><code>event</code></td> <td class="type"> <span class="param-type"><a href="module-ol_events_event-baseevent.html">BaseEvent</a></span> | <span class="param-type">string</span> </td> <td class="description last"> <p>Event object.</p>
</td> </tr> </tbody> </table>  <h5>Returns:</h5> <code>false</code> if anyone called preventDefault on the event object or if any of the listeners returned false. <br> </dd> <dt class=""> <div class="nameContainer">  <h4 class="name" id="getImage"> getImage<span class="signature">()</span><span class="type-signature returnType">{HTMLCanvasElement | HTMLImageElement | HTMLVideoElement}</span> </h4> <div class="tag-source"> <a href="https://github.com/openlayers/openlayers/blob/v10.4.0/src/ol/ImageTile.js">ImageTile.js</a>, <a href="https://github.com/openlayers/openlayers/blob/v10.4.0/src/ol/ImageTile.js#L64">line 64</a> </div> </div> </dt> <dd class=""> <div class="description"> <p>Get the HTML image element for this tile (may be a Canvas, Image, or Video).</p> </div>  <h5>Returns:</h5> Image. <br> </dd> <dt class=""> <div class="nameContainer inherited">  <h4 class="name" id="getTileCoord"> getTileCoord<span class="signature">()</span><span class="type-signature returnType">{<a href="module-ol_tilecoord.html#~TileCoord">TileCoord</a>}</span> <span class="inherited"><a href="module-ol_tile-tile.html#getTileCoord">inherited</a></span> </h4> <div class="tag-source"> <a href="https://github.com/openlayers/openlayers/blob/v10.4.0/src/ol/Tile.js">Tile.js</a>, <a href="https://github.com/openlayers/openlayers/blob/v10.4.0/src/ol/Tile.js#L155">line 155</a> </div> </div> </dt> <dd class=""> <div class="description"> <p>Get the tile coordinate for this tile.</p> </div>  <h5>Returns:</h5> The tile coordinate. <br> </dd> <dt class=""> <div class="nameContainer">  <h4 class="name" id="load"> load<span class="signature">()</span> </h4> <div class="tag-source"> <a href="https://github.com/openlayers/openlayers/blob/v10.4.0/src/ol/ImageTile.js">ImageTile.js</a>, <a href="https://github.com/openlayers/openlayers/blob/v10.4.0/src/ol/ImageTile.js#L144">line 144</a> </div> </div> </dt> <dd class=""> <div class="description"> <p>Load the image or retry if loading previously failed. Loading is taken care of by the tile queue, and calling this method is only needed for preloading or for reloading in case of an error.</p> <p>To retry loading tiles on failed requests, use a custom <code>tileLoadFunction</code> that checks for error status codes and reloads only when the status code is 408, 429, 500, 502, 503 and 504, and only when not too many retries have been made already:</p> <pre class="prettyprint source lang-js" data-language="js">const retryCodes = [408, 429, 500, 502, 503, 504];
const retries = {};
source.setTileLoadFunction((tile, src) =&gt; {
  const image = tile.getImage();
  fetch(src)
    .then((response) =&gt; {
      if (retryCodes.includes(response.status)) {
        retries[src] = (retries[src] || 0) + 1;
        if (retries[src] &lt;= 3) {
          setTimeout(() =&gt; tile.load(), retries[src] * 1000);
        }
        return Promise.reject();
      }
      return response.blob();
    })
    .then((blob) =&gt; {
      const imageUrl = URL.createObjectURL(blob);
      image.src = imageUrl;
      setTimeout(() =&gt; URL.revokeObjectURL(imageUrl), 5000);
    })
    .catch(() =&gt; tile.setState(3)); // error
});</pre> </div>  </dd> <dt class=""> <div class="nameContainer inherited">  <h4 class="name" id="setState"> setState<span class="signature">(state)</span> <span class="inherited"><a href="module-ol_tile-tile.html#setState">inherited</a></span> </h4> <div class="tag-source"> <a href="https://github.com/openlayers/openlayers/blob/v10.4.0/src/ol/Tile.js">Tile.js</a>, <a href="https://github.com/openlayers/openlayers/blob/v10.4.0/src/ol/Tile.js#L174">line 174</a> </div> </div> </dt> <dd class=""> <div class="description"> <p>Sets the state of this tile. If you write your own <a href="module-ol_tile.html#~LoadFunction"><code>tileLoadFunction</code></a> , it is important to set the state correctly to <code>ERROR</code> when the tile cannot be loaded. Otherwise the tile cannot be removed from the tile queue and will block other requests.</p> </div> <table class="params"> <thead> <tr> <th>Name</th> <th>Type</th> <th class="last">Description</th> </tr> </thead> <tbody> <tr class=""> <td class="name"><code>state</code></td> <td class="type"> <span class="param-type"><a href="module-ol_tilestate.html">ol/TileState</a></span> </td> <td class="description last"> <p>State.</p>
</td> </tr> </tbody> </table>  </dd> </dl> </article><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005-present, OpenLayers Contributors All rights reserved.Licensed under the BSD 2-Clause License.<br>
    <a href="https://openlayers.org/en/latest/apidoc/module-ol_ImageTile-ImageTile.html" class="_attribution-link">https://openlayers.org/en/latest/apidoc/module-ol_ImageTile-ImageTile.html</a>
  </p>
</div>
