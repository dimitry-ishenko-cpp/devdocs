    <h1 id="firstHeading" class="firstHeading">std::valarray</h1>            <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th> Defined in header <code><a href="../header/valarray.html" title="cpp/header/valarray">&lt;valarray&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">template&lt; class T &gt;
class valarray;</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr>  </table> <p><code>std::valarray</code> is the class for representing and manipulating arrays of values. It supports element-wise mathematical operations and various forms of generalized subscript operators, slicing and indirect access.</p>
<h3 id="Notes"> Notes</h3> <p><code>std::valarray</code> and helper classes are defined to be free of certain forms of aliasing, thus allowing operations on these classes to be optimized similar to the effect of the keyword <a href="https://en.cppreference.com/w/c/language/restrict" title="c/language/restrict"><code>restrict</code></a> in the C programming language. In addition, functions and operators that take <code>valarray</code> arguments are allowed to return proxy objects to make it possible for the compiler to optimize an expression such as <code>v1 = a * v2 + v3;</code> as a single loop that executes <code>v1[i] = a * v2[i] + v3[i];</code> avoiding any temporaries or multiple passes. However, <a href="https://en.wikipedia.org/wiki/expression_templates" class="extiw" title="enwiki:expression templates">expression templates</a> make the same optimization technique available for any C++ container, and the majority of numeric libraries prefer expression templates to valarrays for flexibility. Some C++ standard library implementations use expression templates to implement efficient operations on <code>std::valarray</code> (e.g. GNU libstdc++ and LLVM libc++). Only rarely are valarrays optimized any further, as in e.g. <a rel="nofollow" class="external text" href="https://software.intel.com/en-us/node/684140">Intel Integrated Performance Primitives</a>.</p>
<h3 id="Template_parameters"> Template parameters</h3> <table class="t-par-begin"> <tr class="t-par"> <td> T </td> <td> - </td> <td> the type of the elements. The type must meet the <a href="../named_req/numerictype.html" title="cpp/named req/NumericType">NumericType</a> requirements </td>
</tr>
</table> <h3 id="Member_types"> Member types</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th> Member type </th> <th> Definition </th>
</tr> <tr class="t-dsc"> <td> <code>value_type</code> </td> <td> <code>T</code> </td>
</tr> </table> <h3 id="Member_functions"> Member functions</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="valarray/valarray.html" title="cpp/numeric/valarray/valarray"> <span class="t-lines"><span>(constructor)</span></span></a></div> </td> <td> constructs new numeric array <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/~valarray.html" title="cpp/numeric/valarray/~valarray"> <span class="t-lines"><span>(destructor)</span></span></a></div> </td> <td> destructs the numeric array <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/operator=.html" title="cpp/numeric/valarray/operator="> <span class="t-lines"><span>operator=</span></span></a></div> </td> <td> assigns the contents <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/operator_at.html" title="cpp/numeric/valarray/operator at"> <span class="t-lines"><span>operator[]</span></span></a></div> </td> <td> get/set valarray element, slice, or mask <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/operator_arith.html" title="cpp/numeric/valarray/operator arith"> <span class="t-lines"><span>operator+</span><span>operator-</span><span>operator~</span><span>operator!</span></span></a></div> </td> <td> applies a unary arithmetic operator to each element of the valarray <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/operator_arith2.html" title="cpp/numeric/valarray/operator arith2"> <span class="t-lines"><span>operator+=</span><span>operator-=</span><span>operator*=</span><span>operator/=</span><span>operator%=</span><span>operator&amp;=</span><span>operator|=</span><span>operator^=</span><span>operator&lt;&lt;=</span><span>operator&gt;&gt;=</span></span></a></div> </td> <td> applies compound assignment operator to each element of the valarray <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/swap.html" title="cpp/numeric/valarray/swap"> <span class="t-lines"><span>swap</span></span></a></div> </td> <td> swaps with another valarray <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/size.html" title="cpp/numeric/valarray/size"> <span class="t-lines"><span>size</span></span></a></div> </td> <td> returns the size of valarray <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/resize.html" title="cpp/numeric/valarray/resize"> <span class="t-lines"><span>resize</span></span></a></div> </td> <td> changes the size of valarray <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/sum.html" title="cpp/numeric/valarray/sum"> <span class="t-lines"><span>sum</span></span></a></div> </td> <td> calculates the sum of all elements <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/min.html" title="cpp/numeric/valarray/min"> <span class="t-lines"><span>min</span></span></a></div> </td> <td> returns the smallest element <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/max.html" title="cpp/numeric/valarray/max"> <span class="t-lines"><span>max</span></span></a></div> </td> <td> returns the largest element <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/shift.html" title="cpp/numeric/valarray/shift"> <span class="t-lines"><span>shift</span></span></a></div> </td> <td> zero-filling shift the elements of the valarray <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/cshift.html" title="cpp/numeric/valarray/cshift"> <span class="t-lines"><span>cshift</span></span></a></div> </td> <td> circular shift of the elements of the valarray <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/apply.html" title="cpp/numeric/valarray/apply"> <span class="t-lines"><span>apply</span></span></a></div> </td> <td> applies a function to every element of a valarray <br> <span class="t-mark">(public member function)</span>  </td>
</tr> </table> <h3 id="Non-member_functions"> Non-member functions</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="valarray/swap2.html" title="cpp/numeric/valarray/swap2"> <span class="t-lines"><span>std::swap<span class="t-dsc-small">(std::valarray)</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> specializes the <code><a href="../algorithm/swap.html" title="cpp/algorithm/swap">std::swap</a></code> algorithm <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/begin2.html" title="cpp/numeric/valarray/begin2"> <span class="t-lines"><span>std::begin<span class="t-dsc-small">(std::valarray)</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> overloads <code><a href="../iterator/begin.html" title="cpp/iterator/begin">std::begin</a></code> <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/end2.html" title="cpp/numeric/valarray/end2"> <span class="t-lines"><span>std::end<span class="t-dsc-small">(std::valarray)</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> specializes <code><a href="../iterator/end.html" title="cpp/iterator/end">std::end</a></code> <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/operator_arith3.html" title="cpp/numeric/valarray/operator arith3"> <span class="t-lines"><span>operator+</span><span>operator-</span><span>operator*</span><span>operator/</span><span>operator%</span><span>operator&amp;</span><span>operator|</span><span>operator^</span><span>operator&lt;&lt;</span><span>operator&gt;&gt;</span><span>operator&amp;&amp;</span><span>operator||</span></span></a></div> </td> <td> applies binary operators to each element of two valarrays, or a valarray and a value <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/operator_cmp.html" title="cpp/numeric/valarray/operator cmp"> <span class="t-lines"><span>operator==</span><span>operator!=</span><span>operator&lt;</span><span>operator&lt;=</span><span>operator&gt;</span><span>operator&gt;=</span></span></a></div> </td> <td> compares two valarrays or a valarray with a value <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/abs.html" title="cpp/numeric/valarray/abs"> <span class="t-lines"><span>abs<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code>abs</code> to each element of valarray <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr> <td colspan="2"> <h5 id="Exponential_functions">  Exponential functions </h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/exp.html" title="cpp/numeric/valarray/exp"> <span class="t-lines"><span>exp<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code><a href="math/exp.html" title="cpp/numeric/math/exp">std::exp</a></code> to each element of valarray <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/log.html" title="cpp/numeric/valarray/log"> <span class="t-lines"><span>log<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code><a href="math/log.html" title="cpp/numeric/math/log">std::log</a></code> to each element of valarray <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/log10.html" title="cpp/numeric/valarray/log10"> <span class="t-lines"><span>log10<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code><a href="math/log10.html" title="cpp/numeric/math/log10">std::log10</a></code> to each element of valarray <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr> <td colspan="2"> <h5 id="Power_functions">  Power functions </h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/pow.html" title="cpp/numeric/valarray/pow"> <span class="t-lines"><span>pow<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code><a href="math/pow.html" title="cpp/numeric/math/pow">std::pow</a></code> to two valarrays or a valarray and a value <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/sqrt.html" title="cpp/numeric/valarray/sqrt"> <span class="t-lines"><span>sqrt<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code><a href="math/sqrt.html" title="cpp/numeric/math/sqrt">std::sqrt</a></code> to each element of valarray <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr> <td colspan="2"> <h5 id="Trigonometric_functions">  Trigonometric functions </h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/sin.html" title="cpp/numeric/valarray/sin"> <span class="t-lines"><span>sin<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code><a href="math/sin.html" title="cpp/numeric/math/sin">std::sin</a></code> to each element of valarray <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/cos.html" title="cpp/numeric/valarray/cos"> <span class="t-lines"><span>cos<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code><a href="math/cos.html" title="cpp/numeric/math/cos">std::cos</a></code> to each element of valarray <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/tan.html" title="cpp/numeric/valarray/tan"> <span class="t-lines"><span>tan<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code><a href="math/tan.html" title="cpp/numeric/math/tan">std::tan</a></code> to each element of valarray <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/asin.html" title="cpp/numeric/valarray/asin"> <span class="t-lines"><span>asin<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code><a href="math/asin.html" title="cpp/numeric/math/asin">std::asin</a></code> to each element of valarray <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/acos.html" title="cpp/numeric/valarray/acos"> <span class="t-lines"><span>acos<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code><a href="math/acos.html" title="cpp/numeric/math/acos">std::acos</a></code> to each element of valarray <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/atan.html" title="cpp/numeric/valarray/atan"> <span class="t-lines"><span>atan<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code><a href="math/atan.html" title="cpp/numeric/math/atan">std::atan</a></code> to each element of valarray <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/atan2.html" title="cpp/numeric/valarray/atan2"> <span class="t-lines"><span>atan2<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code><a href="math/atan2.html" title="cpp/numeric/math/atan2">std::atan2</a></code> to a valarray and a value <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr> <td colspan="2"> <h5 id="Hyperbolic_functions">  Hyperbolic functions </h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/sinh.html" title="cpp/numeric/valarray/sinh"> <span class="t-lines"><span>sinh<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code><a href="math/sinh.html" title="cpp/numeric/math/sinh">std::sinh</a></code> to each element of valarray <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/cosh.html" title="cpp/numeric/valarray/cosh"> <span class="t-lines"><span>cosh<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code><a href="math/cosh.html" title="cpp/numeric/math/cosh">std::cosh</a></code> to each element of valarray <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/tanh.html" title="cpp/numeric/valarray/tanh"> <span class="t-lines"><span>tanh<span class="t-dsc-small">(std::valarray)</span></span></span></a></div> </td> <td> applies the function <code><a href="math/tanh.html" title="cpp/numeric/math/tanh">std::tanh</a></code> to each element of valarray <br> <span class="t-mark">(function template)</span>  </td>
</tr> </table> <h3 id="Helper_classes"> Helper classes</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="valarray/slice.html" title="cpp/numeric/valarray/slice"> <span class="t-lines"><span>slice</span></span></a></div> </td> <td> BLAS-like slice of a valarray: starting index, length, stride <br> <span class="t-mark">(class)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/slice_array.html" title="cpp/numeric/valarray/slice array"> <span class="t-lines"><span>slice_array</span></span></a></div> </td> <td> proxy to a subset of a valarray after applying a slice <br> <span class="t-mark">(class template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/gslice.html" title="cpp/numeric/valarray/gslice"> <span class="t-lines"><span>gslice</span></span></a></div> </td> <td> generalized slice of a valarray: starting index, set of lengths, set of strides <br> <span class="t-mark">(class)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/gslice_array.html" title="cpp/numeric/valarray/gslice array"> <span class="t-lines"><span>gslice_array</span></span></a></div> </td> <td> proxy to a subset of a valarray after applying a gslice <br> <span class="t-mark">(class template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/mask_array.html" title="cpp/numeric/valarray/mask array"> <span class="t-lines"><span>mask_array</span></span></a></div> </td> <td> proxy to a subset of a valarray after applying a boolean mask <code>operator[]</code> <br> <span class="t-mark">(class template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="valarray/indirect_array.html" title="cpp/numeric/valarray/indirect array"> <span class="t-lines"><span>indirect_array</span></span></a></div> </td> <td> proxy to a subset of a valarray after applying indirect <code>operator[]</code> <br> <span class="t-mark">(class template)</span>  </td>
</tr> </table> <h3 id="Deduction_guides.28since_C.2B.2B17.29"> <a href="valarray/deduction_guides.html" title="cpp/numeric/valarray/deduction guides">Deduction guides</a><span class="t-mark-rev t-since-cxx17">(since C++17)</span>
</h3> <h3 id="See_also"> See also</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="https://en.cppreference.com/w/cpp/experimental/simd/simd" title="cpp/experimental/simd/simd"> <span class="t-lines"><span>simd</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-parallelism-ts-2 t-mark-ts">(parallelism TS v2)</span></span></span></div> </td> <td> data-parallel vector type <br> <span class="t-mark">(class template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="https://en.cppreference.com/w/cpp/experimental/simd/simd_mask" title="cpp/experimental/simd/simd mask"> <span class="t-lines"><span>simd_mask</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-parallelism-ts-2 t-mark-ts">(parallelism TS v2)</span></span></span></div> </td> <td> data-parallel type with the element type bool <br> <span class="t-mark">(class template)</span>  </td>
</tr> </table>           <div class="_attribution">
  <p class="_attribution-p">
    &copy; cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="https://en.cppreference.com/w/cpp/numeric/valarray" class="_attribution-link">https://en.cppreference.com/w/cpp/numeric/valarray</a>
  </p>
</div>
