    <h1 id="firstHeading" class="firstHeading">std::ios_base::Init</h1>            <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">class Init;</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr>  </table> <p>This class is used to ensure that the default C++ streams (<code><a href="../cin.html" title="cpp/io/cin">std::cin</a></code>, <code><a href="../cout.html" title="cpp/io/cout">std::cout</a></code>, etc.) are properly initialized and destructed. The class tracks how many instances of it are created and initializes the C++ streams when the first instance is constructed as well as flushes the output streams when the last instance is destructed.</p>
<p>The header <a href="../../header/iostream.html" title="cpp/header/iostream"><code>&lt;iostream&gt;</code></a> behaves as if it defines (directly or indirectly) an instance of <code>std::ios_base::Init</code> with static storage duration: this makes it safe to access the standard I/O streams in the constructors and destructors of static objects with <a href="../../language/initialization.html#Dynamic_initialization" title="cpp/language/initialization">ordered initialization</a> (as long as <a href="../../header/iostream.html" title="cpp/header/iostream"><code>&lt;iostream&gt;</code></a> is included in the translation unit before these objects were defined).</p>
<table class="t-rev-begin"> <tr class="t-rev t-since-cxx23">
<td> <p>Each <a href="../../standard_library.html#Importing_modules" title="cpp/standard library">C++ library module</a> in a <a href="../../freestanding.html" title="cpp/freestanding">hosted implementation</a> behaves as if it contains an <a href="../../language/modules.html#Module_declarations" title="cpp/language/modules">interface unit</a> that defines an <a href="../../language/modules.html#Exporting_declarations_and_definitions" title="cpp/language/modules">unexported</a> <code>std::ios_base::Init</code> variable with <a href="../../language/initialization.html#Dynamic_initialization" title="cpp/language/initialization">ordered initialization</a>.</p>
<p>As a result, the definition of that variable is appearance-ordered before any declaration following the point of importation of a C++ library module. Whether such a definition exists is unobservable by a program that does not reference any of the standard iostream objects.</p>
</td> <td><span class="t-mark-rev t-since-cxx23">(since C++23)</span></td>
</tr> </table> <h3 id="Member_functions"> Member functions</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><span class="t-lines"><span>(constructor)</span></span></div> </td> <td> initializes the default C++ streams if they have not been created yet <br> <span class="t-mark">(public member function)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><span class="t-lines"><span>(destructor)</span></span></div> </td> <td> flushes the default C++ streams if <code>*this</code> is the last instance to be destroyed <br> <span class="t-mark">(public member function)</span> </td>
</tr> </table> <h3 id="Defect_reports"> Defect reports</h3> <p>The following behavior-changing defect reports were applied retroactively to previously published C++ standards.</p>
<table class="dsctable"> <tr> <th>DR </th> <th>Applied to </th> <th>Behavior as published </th> <th>Correct behavior </th>
</tr> <tr> <td>
<a rel="nofollow" class="external text" href="https://cplusplus.github.io/LWG/issue1123">LWG 1123</a> </td> <td>C++98 </td> <td>the behaviors of the constructor and the destructor<br>depend on an exposition-only static data member <code>init_cnt</code> </td> <td>removed the dependency </td>
</tr>
</table> <h3 id="See_also"> See also</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="../cin.html" title="cpp/io/cin"> <span class="t-lines"><span>cin</span><span>wcin</span></span></a></div> </td> <td> reads from the standard C input stream <code><a href="../c/std_streams.html" title="cpp/io/c/std streams">stdin</a></code><br><span class="t-mark">(global object)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../cout.html" title="cpp/io/cout"> <span class="t-lines"><span>cout</span><span>wcout</span></span></a></div> </td> <td> writes to the standard C output stream <code><a href="../c/std_streams.html" title="cpp/io/c/std streams">stdout</a></code><br><span class="t-mark">(global object)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../cerr.html" title="cpp/io/cerr"> <span class="t-lines"><span>cerr</span><span>wcerr</span></span></a></div> </td> <td> writes to the standard C error stream <code><a href="../c/std_streams.html" title="cpp/io/c/std streams">stderr</a></code>, unbuffered<br><span class="t-mark">(global object)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../clog.html" title="cpp/io/clog"> <span class="t-lines"><span>clog</span><span>wclog</span></span></a></div> </td> <td> writes to the standard C error stream <code><a href="../c/std_streams.html" title="cpp/io/c/std streams">stderr</a></code><br><span class="t-mark">(global object)</span> </td>
</tr> </table>           <div class="_attribution">
  <p class="_attribution-p">
    &copy; cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="https://en.cppreference.com/w/cpp/io/ios_base/Init" class="_attribution-link">https://en.cppreference.com/w/cpp/io/ios_base/Init</a>
  </p>
</div>
