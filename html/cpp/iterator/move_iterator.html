    <h1 id="firstHeading" class="firstHeading">std::move_iterator</h1>            <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th> Defined in header <code><a href="../header/iterator.html" title="cpp/header/iterator">&lt;iterator&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">template&lt; class Iter &gt;
class move_iterator;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx11">(since C++11)</span> </td> </tr>  </table> <p><code>std::move_iterator</code> is an iterator adaptor which behaves exactly like the underlying iterator (which must be at least a <a href="../named_req/inputiterator.html" title="cpp/named req/InputIterator">LegacyInputIterator</a><span class="t-rev-inl t-since-cxx20"><span> or model <a href="input_iterator.html" title="cpp/iterator/input iterator"><code>input_iterator</code></a></span><span><span class="t-mark-rev t-since-cxx20">(since C++20)</span></span></span><span class="t-rev-inl t-since-cxx23"><span>, or stronger iterator concept</span><span><span class="t-mark-rev t-since-cxx23">(since C++23)</span></span></span>), except that dereferencing converts the value returned by the underlying iterator into an rvalue. If this iterator is used as an input iterator, the effect is that the values are moved from, rather than copied from.</p>
<h3 id="Member_types"> Member types</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th> Member type </th> <th> Definition </th>
</tr> <tr class="t-dsc"> <td> <code>iterator_type</code> </td> <td> <code>Iter</code> </td>
</tr> <tr class="t-dsc"> <td> <code>iterator_category</code> </td> <td> <table class="t-rev-begin"> <tr class="t-rev t-until-cxx20">
<td> <p><code><a href="http://en.cppreference.com/w/cpp/iterator/iterator_traits"><span class="kw654">std::<span class="me2">iterator_traits</span></span></a><span class="sy1">&lt;</span>Iter<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">iterator_category</span></code></p>
</td> <td><span class="t-mark-rev t-until-cxx20">(until C++20)</span></td>
</tr> <tr class="t-rev t-since-cxx20">
<td> <p>If <code><a href="http://en.cppreference.com/w/cpp/iterator/iterator_traits"><span class="kw654">std::<span class="me2">iterator_traits</span></span></a><span class="sy1">&lt;</span>Iter<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">iterator_category</span></code> is valid and denotes a type:</p>
<ul>
<li> if <code><a href="http://en.cppreference.com/w/cpp/iterator/iterator_traits"><span class="kw654">std::<span class="me2">iterator_traits</span></span></a><span class="sy1">&lt;</span>Iter<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">iterator_category</span></code> models <code><a href="http://en.cppreference.com/w/cpp/concepts/derived_from"><span class="kw2933">std::<span class="me2">derived_from</span></span></a><span class="sy1">&lt;</span><a href="http://en.cppreference.com/w/cpp/iterator/iterator_tags"><span class="kw659">std::<span class="me2">random_access_iterator_tag</span></span></a><span class="sy1">&gt;</span></code>, member <code>iterator_category</code> is <code><a href="iterator_tags.html" title="cpp/iterator/iterator tags">std::random_access_iterator_tag</a></code>. </li>
<li> Otherwise, member <code>iterator_category</code> is the same type as <code><a href="http://en.cppreference.com/w/cpp/iterator/iterator_traits"><span class="kw654">std::<span class="me2">iterator_traits</span></span></a><span class="sy1">&lt;</span>Iter<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">iterator_category</span></code>. </li>
</ul> <p>Otherwise, there is no member <code>iterator_category</code>.</p>
</td> <td><span class="t-mark-rev t-since-cxx20">(since C++20)</span></td>
</tr> </table> </td>
</tr> <tr class="t-dsc"> <td> <code>iterator_concept</code> </td> <td> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx20 t-until-cxx23">
<td> <p><code><a href="iterator_tags.html" title="cpp/iterator/iterator tags">std::input_iterator_tag</a></code></p>
</td> <td>
<span class="t-mark-rev t-since-cxx20">(since C++20)</span><br><span class="t-mark-rev t-until-cxx23">(until C++23)</span>
</td>
</tr> <tr class="t-rev t-since-cxx23">
<td> <ul>
<li> <code><a href="iterator_tags.html" title="cpp/iterator/iterator tags">std::random_access_iterator_tag</a></code>, if <code>Iter</code> models<br><code><a href="random_access_iterator.html" title="cpp/iterator/random access iterator">std::random_access_iterator</a></code>. Otherwise, </li>
<li> <code><a href="iterator_tags.html" title="cpp/iterator/iterator tags">std::bidirectional_iterator_tag</a></code>, if <code>Iter</code> models<br><code><a href="bidirectional_iterator.html" title="cpp/iterator/bidirectional iterator">std::bidirectional_iterator</a></code>. Otherwise, </li>
<li> <code><a href="iterator_tags.html" title="cpp/iterator/iterator tags">std::forward_iterator_tag</a></code>, if <code>Iter</code> models<br><code><a href="forward_iterator.html" title="cpp/iterator/forward iterator">std::forward_iterator</a></code>. Otherwise, </li>
<li> <code><a href="iterator_tags.html" title="cpp/iterator/iterator tags">std::input_iterator_tag</a></code>. </li>
</ul> </td> <td><span class="t-mark-rev t-since-cxx23">(since C++23)</span></td>
</tr> </table> </td>
</tr> <tr class="t-dsc"> <td> <code>value_type</code> </td> <td> <table class="t-rev-begin"> <tr class="t-rev t-until-cxx20">
<td> <p><code><a href="http://en.cppreference.com/w/cpp/iterator/iterator_traits"><span class="kw654">std::<span class="me2">iterator_traits</span></span></a><span class="sy1">&lt;</span>Iter<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">value_type</span></code></p>
</td> <td><span class="t-mark-rev t-until-cxx20">(until C++20)</span></td>
</tr> <tr class="t-rev t-since-cxx20">
<td> <p><code><a href="http://en.cppreference.com/w/cpp/iterator/iter_t"><span class="kw2871">std::<span class="me2">iter_value_t</span></span></a><span class="sy1">&lt;</span>Iter<span class="sy1">&gt;</span></code></p>
</td> <td><span class="t-mark-rev t-since-cxx20">(since C++20)</span></td>
</tr> </table> </td>
</tr> <tr class="t-dsc"> <td> <code>difference_type</code> </td> <td> <table class="t-rev-begin"> <tr class="t-rev t-until-cxx20">
<td> <p><code><a href="http://en.cppreference.com/w/cpp/iterator/iterator_traits"><span class="kw654">std::<span class="me2">iterator_traits</span></span></a><span class="sy1">&lt;</span>Iter<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">difference_type</span></code></p>
</td> <td><span class="t-mark-rev t-until-cxx20">(until C++20)</span></td>
</tr> <tr class="t-rev t-since-cxx20">
<td> <p><code><a href="http://en.cppreference.com/w/cpp/iterator/iter_t"><span class="kw2874">std::<span class="me2">iter_difference_t</span></span></a><span class="sy1">&lt;</span>Iter<span class="sy1">&gt;</span></code></p>
</td> <td><span class="t-mark-rev t-since-cxx20">(since C++20)</span></td>
</tr> </table> </td>
</tr> <tr class="t-dsc"> <td> <code>pointer</code> </td> <td> <code>Iter</code> </td>
</tr> <tr class="t-dsc"> <td> <code>reference</code> </td> <td> <table class="t-rev-begin"> <tr class="t-rev t-until-cxx20">
<td> <p>If <code><a href="http://en.cppreference.com/w/cpp/iterator/iterator_traits"><span class="kw654">std::<span class="me2">iterator_traits</span></span></a><span class="sy1">&lt;</span>Iter<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">reference</span></code> is a reference, this is the rvalue reference version of the same type. Otherwise (such as if the wrapped iterator returns by value), this is <code><a href="http://en.cppreference.com/w/cpp/iterator/iterator_traits"><span class="kw654">std::<span class="me2">iterator_traits</span></span></a><span class="sy1">&lt;</span>Iter<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">reference</span></code> unchanged.</p>
</td> <td><span class="t-mark-rev t-until-cxx20">(until C++20)</span></td>
</tr> <tr class="t-rev t-since-cxx20">
<td> <p><code><a href="http://en.cppreference.com/w/cpp/iterator/iter_t"><span class="kw2873">std::<span class="me2">iter_rvalue_reference_t</span></span></a><span class="sy1">&lt;</span>Iter<span class="sy1">&gt;</span></code></p>
</td> <td><span class="t-mark-rev t-since-cxx20">(since C++20)</span></td>
</tr> </table> </td>
</tr> </table> <h3 id="Member_objects"> Member objects</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th> Member name </th> <th> Definition </th>
</tr> <tr class="t-dsc"> <td> <code><i>current</i></code> <span class="t-mark">(private)</span> </td> <td> the underlying iterator from which <a href="move_iterator/base.html" title="cpp/iterator/move iterator/base"><code>base()</code></a> copies <span class="t-rev-inl t-since-cxx20"><span>or moves</span><span><span class="t-mark-rev t-since-cxx20">(since C++20)</span></span></span><br><span class="t-mark t-mark-expos">(<span title="This definition is for illustration purposes only. An implementation does not need to define an entity in this manner. The name of this entity is unspecified.">exposition-only member object*</span>)</span> </td>
</tr> </table> <h3 id="Member_functions"> Member functions</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="move_iterator/move_iterator.html" title="cpp/iterator/move iterator/move iterator"> <span class="t-lines"><span>(constructor)</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> constructs a new iterator adaptor <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="move_iterator/operator=.html" title="cpp/iterator/move iterator/operator="> <span class="t-lines"><span>operator=</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> assigns another iterator adaptor <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="move_iterator/base.html" title="cpp/iterator/move iterator/base"> <span class="t-lines"><span>base</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> accesses the underlying iterator <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="move_iterator/operator*.html" title="cpp/iterator/move iterator/operator*"> <span class="t-lines"><span>operator*</span><span>operator-&gt;</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span><span><span class="t-mark-rev t-since-cxx11">(C++11)</span><span class="t-mark-rev t-deprecated-cxx20">(deprecated in C++20)</span></span></span></div> </td> <td> accesses the pointed-to element <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="move_iterator/operator_at.html" title="cpp/iterator/move iterator/operator at"> <span class="t-lines"><span>operator[]</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> accesses an element by index <br> <span class="t-mark">(public member function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="move_iterator/operator_arith.html" title="cpp/iterator/move iterator/operator arith"> <span class="t-lines"><span>operator++</span><span>operator++<span class="t-dsc-small">(int)</span></span><span>operator+=</span><span>operator+</span><span>operator--</span><span>operator--<span class="t-dsc-small">(int)</span></span><span>operator-=</span><span>operator-</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> advances or decrements the iterator <br> <span class="t-mark">(public member function)</span>  </td>
</tr> </table> <h3 id="Non-member_functions"> Non-member functions</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="move_iterator/operator_cmp.html" title="cpp/iterator/move iterator/operator cmp"> <span class="t-lines"><span>operator==</span><span>operator!=</span><span>operator&lt;</span><span>operator&lt;=</span><span>operator&gt;</span><span>operator&gt;=</span><span>operator&lt;=&gt;</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span><span><span class="t-mark-rev t-since-cxx11">(C++11)</span><span class="t-mark-rev t-until-cxx20">(removed in C++20)</span></span><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span><span><span class="t-mark-rev t-since-cxx20">(C++20)</span></span></span></div> </td> <td> compares the underlying iterators <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="move_iterator/operator_cmp2.html" title="cpp/iterator/move iterator/operator cmp2"> <span class="t-lines"><span>operator==<span class="t-dsc-small">(std::move_sentinel)</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">(C++20)</span></span></span></div> </td> <td> compares the underlying iterator and the underlying sentinel <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="move_iterator/operator_plus_.html" title="cpp/iterator/move iterator/operator+"> <span class="t-lines"><span>operator+</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> advances the iterator <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="move_iterator/operator-.html" title="cpp/iterator/move iterator/operator-"> <span class="t-lines"><span>operator-</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> computes the distance between two iterator adaptors <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="move_iterator/operator-2.html" title="cpp/iterator/move iterator/operator-2"> <span class="t-lines"><span>operator-<span class="t-dsc-small">(std::move_sentinel)</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">(C++20)</span></span></span></div> </td> <td> computes the distance between the underlying iterator and the underlying sentinel <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="move_iterator/iter_move.html" title="cpp/iterator/move iterator/iter move"> <span class="t-lines"><span>iter_move</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">(C++20)</span></span></span></div> </td> <td> casts the result of dereferencing the underlying iterator to its associated rvalue reference type <br> <span class="t-mark">(function)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="move_iterator/iter_swap.html" title="cpp/iterator/move iterator/iter swap"> <span class="t-lines"><span>iter_swap</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">(C++20)</span></span></span></div> </td> <td> swaps the objects pointed to by two underlying iterators <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="make_move_iterator.html" title="cpp/iterator/make move iterator"> <span class="t-lines"><span>make_move_iterator</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> creates a <code>std::move_iterator</code> of type inferred from the argument <br> <span class="t-mark">(function template)</span>  </td>
</tr> </table> <h3 id="Helper_templates"> Helper templates</h3> <table class="t-dcl-begin"> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">template&lt; class Iterator1, class Iterator2 &gt;
    requires (!std::sized_sentinel_for&lt;Iterator1, Iterator2&gt;)
constexpr bool disable_sized_sentinel_for&lt;
    std::move_iterator&lt;Iterator1&gt;,
    std::move_iterator&lt;Iterator2&gt;&gt; = true;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx20">(since C++20)</span> </td> </tr>  </table> <p>This partial specialization of <code>std::disable_sized_sentinel_for</code> prevents specializations of <code>move_iterator</code> from satisfying <a href="sized_sentinel_for.html" title="cpp/iterator/sized sentinel for"><code>sized_sentinel_for</code></a> if their underlying iterators do not satisfy the concept.</p>
<h3 id="Notes"> Notes</h3> <table class="wikitable ftm-begin ftm-has-value"> <tr> <th>
<a href="../utility/feature_test.html" title="cpp/utility/feature test">Feature-test</a> macro</th> <th>Value</th> <th><span title="Standard in which the feature is introduced">Std</span></th> <th>Feature </th>
</tr> <tr> <td><a href="../feature_test.html#cpp_lib_move_iterator_concept" title="cpp/feature test"><code>__cpp_lib_move_iterator_concept</code></a></td> <td><span class="nu0">202207L</span></td> <td><span class="t-mark">(C++23)</span></td> <td>Make <code>std::move_iterator&lt;T*&gt;</code> a random access iterator </td>
</tr>
</table> <h3 id="Example"> Example</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;algorithm&gt;
#include &lt;iomanip&gt;
#include &lt;iostream&gt;
#include &lt;iterator&gt;
#include &lt;numeric&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
 
int main()
{
    std::vector&lt;std::string&gt; v{"this", "_", "is", "_", "an", "_", "example"};
 
    auto print_v = [&amp;](auto const rem)
    {
        std::cout &lt;&lt; rem;
        for (const auto&amp; s : v)
            std::cout &lt;&lt; std::quoted(s) &lt;&lt; ' ';
        std::cout &lt;&lt; '\n';
    };
 
    print_v("Old contents of the vector: ");
 
    std::string concat = std::accumulate(std::make_move_iterator(v.begin()),
                                         std::make_move_iterator(v.end()),
                                         std::string());
 
    // An alternative that uses std::move_iterator directly could be:
    // using moviter_t = std::move_iterator&lt;std::vector&lt;std::string&gt;::iterator&gt;;
    // std::string concat = std::accumulate(moviter_t(v.begin()),
    //                                      moviter_t(v.end()),
    //                                      std::string());
 
    // Starting from C++17, which introduced class template argument deduction,
    // the constructor of std::move_iterator can be used directly without
    // template parameters in most cases:
    // std::string concat = std::accumulate(std::move_iterator(v.begin()),
    //                                      std::move_iterator(v.end()),
    //                                      std::string());
 
    print_v("New contents of the vector: ");
 
    std::cout &lt;&lt; "Concatenated as string: " &lt;&lt; std::quoted(concat) &lt;&lt; '\n';
}</pre></div> <p>Possible output:</p>
<div class="text source-text"><pre data-language="c">Old contents of the vector: "this" "_" "is" "_" "an" "_" "example"
New contents of the vector: "" "" "" "" "" "" ""
Concatenated as string: "this_is_an_example"</pre></div> </div> <h3 id="Defect_reports"> Defect reports</h3> <p>The following behavior-changing defect reports were applied retroactively to previously published C++ standards.</p>
<table class="dsctable"> <tr> <th>DR </th> <th>Applied to </th> <th>Behavior as published </th> <th>Correct behavior </th>
</tr> <tr> <td>
<a rel="nofollow" class="external text" href="https://cplusplus.github.io/LWG/issue2106">LWG 2106</a> </td> <td>C++11 </td> <td>dereferencing a <code>move_iterator</code> could return a dangling reference<br>if the dereferencing the underlying iterator returns a prvalue </td> <td>returns the object instead </td>
</tr> <tr> <td>
<a rel="nofollow" class="external text" href="https://cplusplus.github.io/LWG/issue3736">LWG 3736</a> </td> <td>C++20 </td> <td>
<code>move_iterator</code> is missing <code>disable_sized_sentinel_for</code> specialization </td> <td>added </td>
</tr> <tr> <td>
<a rel="nofollow" class="external text" href="https://wg21.link/P2259R1">P2259R1</a> </td> <td>C++20 </td> <td>member <code>iterator_category</code> was always defined </td> <td>defined only if<br><code><a href="http://en.cppreference.com/w/cpp/iterator/iterator_traits"><span class="kw654">std::<span class="me2">iterator_traits</span></span></a><span class="sy1">&lt;</span>Iter<span class="sy1">&gt;</span><span class="sy4">::</span><span class="me2">iterator_category</span></code> exists </td>
</tr>
</table> <h3 id="See_also"> See also</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="make_move_iterator.html" title="cpp/iterator/make move iterator"> <span class="t-lines"><span>make_move_iterator</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">(C++11)</span></span></span></div> </td> <td> creates a <code>std::move_iterator</code> of type inferred from the argument <br> <span class="t-mark">(function template)</span>  </td>
</tr> <tr class="t-dsc"> <td> <div><a href="move_sentinel.html" title="cpp/iterator/move sentinel"> <span class="t-lines"><span>move_sentinel</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">(C++20)</span></span></span></div> </td> <td> sentinel adaptor for use with <code>std::move_iterator</code> <br> <span class="t-mark">(class template)</span>  </td>
</tr> </table>           <div class="_attribution">
  <p class="_attribution-p">
    &copy; cppreference.com<br>Licensed under the Creative Commons Attribution-ShareAlike Unported License v3.0.<br>
    <a href="https://en.cppreference.com/w/cpp/iterator/move_iterator" class="_attribution-link">https://en.cppreference.com/w/cpp/iterator/move_iterator</a>
  </p>
</div>
