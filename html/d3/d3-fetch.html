<h1 dir="auto" id="d3-fetch">
d3-fetch</h1> <p dir="auto">This module provides convenient parsing on top of <a href="https://fetch.spec.whatwg.org/" rel="nofollow">Fetch</a>. For example, to load a text file:</p> <pre data-language="javascript">const text = await d3.text("/path/to/file.txt");
console.log(text); // Hello, world!</pre> <p dir="auto">To load and parse a CSV file:</p> <pre data-language="javascript">const data = await d3.csv("/path/to/file.csv");
console.log(data); // [{"Hello": "world"}, …]</pre> <p dir="auto">This module has built-in support for parsing <a href="#json">JSON</a>, <a href="#csv">CSV</a>, and <a href="#tsv">TSV</a>. You can parse additional formats by using <a href="#text">text</a> directly. (This module replaced <a href="d3-request.html">d3-request</a>.)</p> <h2 dir="auto" id="installing">
Installing</h2> <p dir="auto">If you use npm, <code>npm install d3-fetch</code>. You can also download the <a href="https://github.com/d3/d3-fetch/releases/latest">latest release on GitHub</a>. For vanilla HTML in modern browsers, import d3-fetch from Skypack:</p> <pre data-language="markup">&lt;script type="module"&gt;

import {csv} from "https://cdn.skypack.dev/d3-fetch@3";

csv("/path/to/file.csv").then((data) =&gt; {
  console.log(data); // [{"Hello": "world"}, …]
});

&lt;/script&gt;</pre> <p dir="auto">For legacy environments, you can load d3-fetch’s UMD bundle from an npm-based CDN such as jsDelivr; a <code>d3</code> global is exported:</p> <pre data-language="markup">&lt;script src="https://cdn.jsdelivr.net/npm/d3-fetch@3"&gt;&lt;/script&gt;
&lt;script&gt;

d3.csv("/path/to/file.csv").then((data) =&gt; {
  console.log(data); // [{"Hello": "world"}, …]
});

&lt;/script&gt;</pre> <h2 dir="auto" id="api-reference">
API Reference</h2> <h6 dir="auto" id="blob"> d3.<b>blob</b>(<i>input</i>[, <i>init</i>]) · <a href="https://github.com/d3/d3-fetch/blob/master/src/blob.js" title="Source" class="source">Source</a>
</h6> <p dir="auto">Fetches the binary file at the specified <em>input</em> URL as a Blob. If <em>init</em> is specified, it is passed along to the underlying call to <a href="https://fetch.spec.whatwg.org/#fetch-method" rel="nofollow">fetch</a>; see <a href="https://fetch.spec.whatwg.org/#requestinit" rel="nofollow">RequestInit</a> for allowed fields.</p> <h6 dir="auto" id="buffer"> d3.<b>buffer</b>(<i>input</i>[, <i>init</i>]) · <a href="https://github.com/d3/d3-fetch/blob/master/src/buffer.js" title="Source" class="source">Source</a>
</h6> <p dir="auto">Fetches the binary file at the specified <em>input</em> URL as an ArrayBuffer. If <em>init</em> is specified, it is passed along to the underlying call to <a href="https://fetch.spec.whatwg.org/#fetch-method" rel="nofollow">fetch</a>; see <a href="https://fetch.spec.whatwg.org/#requestinit" rel="nofollow">RequestInit</a> for allowed fields.</p> <h6 dir="auto" id="csv"> d3.<b>csv</b>(<i>input</i>[, <i>init</i>][, <i>row</i>]) · <a href="https://github.com/d3/d3-fetch/blob/master/src/dsv.js" title="Source" class="source">Source</a>
</h6> <p dir="auto">Equivalent to <a href="#dsv">d3.dsv</a> with the comma character as the delimiter.</p> <h6 dir="auto" id="dsv"> d3.<b>dsv</b>(<i>delimiter</i>, <i>input</i>[, <i>init</i>][, <i>row</i>]) · <a href="https://github.com/d3/d3-fetch/blob/master/src/dsv.js" title="Source" class="source">Source</a>
</h6> <p dir="auto">Fetches the <a href="d3-dsv.html">DSV</a> file at the specified <em>input</em> URL. If <em>init</em> is specified, it is passed along to the underlying call to <a href="https://fetch.spec.whatwg.org/#fetch-method" rel="nofollow">fetch</a>; see <a href="https://fetch.spec.whatwg.org/#requestinit" rel="nofollow">RequestInit</a> for allowed fields. An optional <em>row</em> conversion function may be specified to map and filter row objects to a more-specific representation; see <a href="d3-dsv.html#dsv_parse"><em>dsv</em>.parse</a> for details. For example:</p> <pre data-language="javascript">const data = await d3.dsv(",", "test.csv", (d) =&gt; {
  return {
    year: new Date(+d.Year, 0, 1), // convert "Year" column to Date
    make: d.Make,
    model: d.Model,
    length: +d.Length // convert "Length" column to number
  };
});</pre> <p dir="auto">If only one of <em>init</em> and <em>row</em> is specified, it is interpreted as the <em>row</em> conversion function if it is a function, and otherwise an <em>init</em> object.</p> <p dir="auto">See also <a href="#csv">d3.csv</a> and <a href="#tsv">d3.tsv</a>.</p> <h6 dir="auto" id="html"> d3.<b>html</b>(<i>input</i>[, <i>init</i>]) · <a href="https://github.com/d3/d3-fetch/blob/master/src/xml.js" title="Source" class="source">Source</a>
</h6> <p dir="auto">Fetches the file at the specified <em>input</em> URL as <a href="#text">text</a> and then <a href="https://developer.mozilla.org/docs/Web/API/DOMParser" rel="nofollow">parses it</a> as HTML. If <em>init</em> is specified, it is passed along to the underlying call to <a href="https://fetch.spec.whatwg.org/#fetch-method" rel="nofollow">fetch</a>; see <a href="https://fetch.spec.whatwg.org/#requestinit" rel="nofollow">RequestInit</a> for allowed fields.</p> <h6 dir="auto" id="image"> d3.<b>image</b>(<i>input</i>[, <i>init</i>]) · <a href="https://github.com/d3/d3-fetch/blob/master/src/image.js" title="Source" class="source">Source</a>
</h6> <p dir="auto">Fetches the image at the specified <em>input</em> URL. If <em>init</em> is specified, sets any additional properties on the image before loading. For example, to enable an anonymous <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image" rel="nofollow">cross-origin request</a>:</p> <pre data-language="javascript">const img = await d3.image("https://example.com/test.png", {crossOrigin: "anonymous"});</pre> <h6 dir="auto" id="json"> d3.<b>json</b>(<i>input</i>[, <i>init</i>]) · <a href="https://github.com/d3/d3-fetch/blob/master/src/json.js" title="Source" class="source">Source</a>
</h6> <p dir="auto">Fetches the <a href="http://json.org" rel="nofollow">JSON</a> file at the specified <em>input</em> URL. If <em>init</em> is specified, it is passed along to the underlying call to <a href="https://fetch.spec.whatwg.org/#fetch-method" rel="nofollow">fetch</a>; see <a href="https://fetch.spec.whatwg.org/#requestinit" rel="nofollow">RequestInit</a> for allowed fields. If the server returns a status code of <a href="https://developer.mozilla.org/docs/Web/HTTP/Status/204" rel="nofollow">204 No Content</a> or <a href="https://developer.mozilla.org/docs/Web/HTTP/Status/205" rel="nofollow">205 Reset Content</a>, the promise resolves to <code>undefined</code>.</p> <h6 dir="auto" id="svg"> d3.<b>svg</b>(<i>input</i>[, <i>init</i>]) · <a href="https://github.com/d3/d3-fetch/blob/master/src/xml.js" title="Source" class="source">Source</a>
</h6> <p dir="auto">Fetches the file at the specified <em>input</em> URL as <a href="#text">text</a> and then <a href="https://developer.mozilla.org/docs/Web/API/DOMParser" rel="nofollow">parses it</a> as SVG. If <em>init</em> is specified, it is passed along to the underlying call to <a href="https://fetch.spec.whatwg.org/#fetch-method" rel="nofollow">fetch</a>; see <a href="https://fetch.spec.whatwg.org/#requestinit" rel="nofollow">RequestInit</a> for allowed fields.</p> <h6 dir="auto" id="text"> d3.<b>text</b>(<i>input</i>[, <i>init</i>]) · <a href="https://github.com/d3/d3-fetch/blob/master/src/text.js" title="Source" class="source">Source</a>
</h6> <p dir="auto">Fetches the text file at the specified <em>input</em> URL. If <em>init</em> is specified, it is passed along to the underlying call to <a href="https://fetch.spec.whatwg.org/#fetch-method" rel="nofollow">fetch</a>; see <a href="https://fetch.spec.whatwg.org/#requestinit" rel="nofollow">RequestInit</a> for allowed fields.</p> <h6 dir="auto" id="tsv"> d3.<b>tsv</b>(<i>input</i>[, <i>init</i>][, <i>row</i>]) · <a href="https://github.com/d3/d3-fetch/blob/master/src/dsv.js" title="Source" class="source">Source</a>
</h6> <p dir="auto">Equivalent to <a href="#dsv">d3.dsv</a> with the tab character as the delimiter.</p> <h6 dir="auto" id="xml"> d3.<b>xml</b>(<i>input</i>[, <i>init</i>]) · <a href="https://github.com/d3/d3-fetch/blob/master/src/xml.js" title="Source" class="source">Source</a>
</h6> <p dir="auto">Fetches the file at the specified <em>input</em> URL as <a href="#text">text</a> and then <a href="https://developer.mozilla.org/docs/Web/API/DOMParser" rel="nofollow">parses it</a> as XML. If <em>init</em> is specified, it is passed along to the underlying call to <a href="https://fetch.spec.whatwg.org/#fetch-method" rel="nofollow">fetch</a>; see <a href="https://fetch.spec.whatwg.org/#requestinit" rel="nofollow">RequestInit</a> for allowed fields.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 Michael Bostock<br>Licensed under the BSD License.<br>
    <a href="https://github.com/d3/d3-fetch" class="_attribution-link">https://github.com/d3/d3-fetch</a>
  </p>
</div>
