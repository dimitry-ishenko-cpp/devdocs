<h1>Apache Module mod_lbmethod_bytraffic</h1>  <table class="module">
<tr>
<th>Description:</th>
<td>Weighted Traffic Counting load balancer scheduler algorithm for <code class="module"><a href="mod_proxy_balancer.html">mod_proxy_balancer</a></code>
</td>
</tr> <tr>
<th>Status:</th>
<td>Extension</td>
</tr> <tr>
<th>Module Identifier:</th>
<td>lbmethod_bytraffic_module</td>
</tr> <tr>
<th>Source File:</th>
<td>mod_lbmethod_bytraffic.c</td>
</tr> <tr>
<th>Compatibility:</th>
<td>Split off from <code class="module"><a href="mod_proxy_balancer.html">mod_proxy_balancer</a></code> in 2.3</td>
</tr>
</table> <h3>Summary</h3> <p>This module does not provide any configuration directives of its own. It requires the services of <code class="module"><a href="mod_proxy_balancer.html">mod_proxy_balancer</a></code>, and provides the <code>bytraffic</code> load balancing method.</p>     <h2 id="traffic">Weighted Traffic Counting Algorithm</h2> <p>Enabled via <code>lbmethod=bytraffic</code>, the idea behind this scheduler is very similar to the Request Counting method, with the following changes:</p> <p><dfn>lbfactor</dfn> is <em>how much traffic, in bytes, we want this worker to handle</em>. This is also a normalized value representing their "share" of the amount of work to be done, but instead of simply counting the number of requests, we take into account the amount of traffic this worker has either seen or produced.</p> <p>If a balancer is configured as follows:</p> <table>
<tr>
<th>worker</th> <th class="data">a</th> <th class="data">b</th> <th class="data">c</th>
</tr> <tr>
<th>lbfactor</th> <td class="data">1</td> <td class="data">2</td> <td class="data">1</td>
</tr> </table> <p>Then we mean that we want <var>b</var> to process twice the amount of bytes than <var>a</var> or <var>c</var> should. It does not necessarily mean that <var>b</var> would handle twice as many requests, but it would process twice the I/O. Thus, the size of the request and response are applied to the weighting and selection algorithm.</p> <p>Note: input and output bytes are weighted the same.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018 The Apache Software Foundation<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://httpd.apache.org/docs/2.4/en/mod/mod_lbmethod_bytraffic.html" class="_attribution-link">https://httpd.apache.org/docs/2.4/en/mod/mod_lbmethod_bytraffic.html</a>
  </p>
</div>
