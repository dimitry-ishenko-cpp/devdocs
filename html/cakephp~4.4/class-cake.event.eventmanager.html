<h1> Class EventManager  </h1> <div class="description"> <p>The event manager is responsible for keeping track of event listeners, passing the correct data to them, and firing them in the correct order, when associated events are triggered. You can create multiple instances of this object to manage local events or keep a single instance and pass it around to manage all events in your app.</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.event.html">Cake\Event</a><br> </div> <div class="section"> <h2>Property Summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="#%24_eventList">$_eventList</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Event\EventList|null</code></div> <div class="description"> <p>The event list object.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_generalManager">$_generalManager</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>Cake\Event\EventManager|null</code></div> <div class="description"> <p>The globally available instance, used for dispatching events attached from any scope</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_isGlobal">$_isGlobal</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Internal flag to distinguish a common manager from the singleton</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_listeners">$_listeners</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>List of listener callbacks associated to</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_trackEvents">$_trackEvents</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Enables automatic adding of events to the event list object if it is present.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24defaultPriority">$defaultPriority</a> <span class="attributes"> <span class="label">public</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>int</code></div> <div class="description"> <p>The default priority queue value for new, attached listeners</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#__debugInfo()">__debugInfo()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Debug friendly object properties.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_attachSubscriber()">_attachSubscriber()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Auxiliary function to attach all implemented callbacks of a Cake\Event\EventListenerInterface class instance as individual methods on this manager</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_callListener()">_callListener()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Calls a listener.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_detachSubscriber()">_detachSubscriber()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Auxiliary function to help detach all listeners provided by an object implementing EventListenerInterface</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_extractCallable()">_extractCallable()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Auxiliary function to extract and return a PHP callback type out of the callable definition from the return value of the <code>implementedEvents()</code> method on a {@link \Cake\Event\EventListenerInterface}</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#addEventToList()">addEventToList()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Adds an event to the list if the event list object is present.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#dispatch()">dispatch()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Dispatches a new event to all configured listeners</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getEventList()">getEventList()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the event list.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#instance()">instance()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Returns the globally available instance of a Cake\Event\EventManager this is used for dispatching events attached from outside the scope other managers were created. Usually for creating hook systems or inter-class communication</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#isTrackingEvents()">isTrackingEvents()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns whether this manager is set up to track events</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#listeners()">listeners()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns a list of all listeners for an eventKey in the order they should be called</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#matchingListeners()">matchingListeners()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the listeners matching a specified pattern</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#off()">off()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Remove a listener from the active listeners.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#on()">on()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Adds a new listener to an event.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#prioritisedListeners()">prioritisedListeners()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the listeners for the specified event key indexed by priority</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setEventList()">setEventList()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Enables the listing of dispatched events.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#trackEvents()">trackEvents()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Enables / disables event tracking at runtime.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#unsetEventList()">unsetEventList()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Disables the listing of dispatched events.</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="__debugInfo()"> __debugInfo()   <span class="label">public</span> </h3> <pre data-language="php">__debugInfo(): array&lt;string, mixed&gt;</pre> <div class="description detailed"> <p>Debug friendly object properties.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_attachSubscriber()"> _attachSubscriber()   <span class="label">protected</span> </h3> <pre data-language="php">_attachSubscriber(Cake\Event\EventListenerInterface $subscriber): void</pre> <div class="description detailed"> <p>Auxiliary function to attach all implemented callbacks of a Cake\Event\EventListenerInterface class instance as individual methods on this manager</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventListenerInterface</code> <var>$subscriber</var> </dt> <dd><p>Event listener.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_callListener()"> _callListener()   <span class="label">protected</span> </h3> <pre data-language="php">_callListener(callable $listener, Cake\Event\EventInterface $event): mixed</pre> <div class="description detailed"> <p>Calls a listener.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>callable</code> <var>$listener</var> </dt> <dd><p>The listener to trigger.</p></dd> <dt> <code>Cake\Event\EventInterface</code> <var>$event</var> </dt> <dd><p>Event instance.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_detachSubscriber()"> _detachSubscriber()   <span class="label">protected</span> </h3> <pre data-language="php">_detachSubscriber(Cake\Event\EventListenerInterface $subscriber, string|null $eventKey = null): void</pre> <div class="description detailed"> <p>Auxiliary function to help detach all listeners provided by an object implementing EventListenerInterface</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventListenerInterface</code> <var>$subscriber</var> </dt> <dd><p>the subscriber to be detached</p></dd> <dt> <code>string|null</code> <var>$eventKey</var> <span class="label">optional</span> </dt> <dd><p>optional event key name to unsubscribe the listener from</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_extractCallable()"> _extractCallable()   <span class="label">protected</span> </h3> <pre data-language="php">_extractCallable(array $function, Cake\Event\EventListenerInterface $object): array</pre> <div class="description detailed"> <p>Auxiliary function to extract and return a PHP callback type out of the callable definition from the return value of the <code>implementedEvents()</code> method on a {@link \Cake\Event\EventListenerInterface}</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$function</var> </dt> <dd><p>the array taken from a handler definition for an event</p></dd> <dt> <code>Cake\Event\EventListenerInterface</code> <var>$object</var> </dt> <dd><p>The handler object</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="addEventToList()"> addEventToList()   <span class="label">public</span> </h3> <pre data-language="php">addEventToList(Cake\Event\EventInterface $event): $this</pre> <div class="description detailed"> <p>Adds an event to the list if the event list object is present.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventInterface</code> <var>$event</var> </dt> <dd><p>An event to add to the list.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="dispatch()"> dispatch()   <span class="label">public</span> </h3> <pre data-language="php">dispatch(Cake\Event\EventInterface|string $event): Cake\Event\EventInterface</pre> <div class="description detailed"> <p>Dispatches a new event to all configured listeners</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventInterface|string</code> <var>$event</var> </dt>  </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Event\EventInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getEventList()"> getEventList()   <span class="label">public</span> </h3> <pre data-language="php">getEventList(): Cake\Event\EventList|null</pre> <div class="description detailed"> <p>Returns the event list.</p> <h4>Returns</h4> <div class="list"> <code>Cake\Event\EventList|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="instance()"> instance()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">instance(Cake\Event\EventManager|null $manager = null): Cake\Event\EventManager</pre> <div class="description detailed"> <p>Returns the globally available instance of a Cake\Event\EventManager this is used for dispatching events attached from outside the scope other managers were created. Usually for creating hook systems or inter-class communication</p> <p>If called with the first parameter, it will be set as the globally available instance</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventManager|null</code> <var>$manager</var> <span class="label">optional</span> </dt> <dd><p>Event manager instance.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Event\EventManager</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="isTrackingEvents()"> isTrackingEvents()   <span class="label">public</span> </h3> <pre data-language="php">isTrackingEvents(): bool</pre> <div class="description detailed"> <p>Returns whether this manager is set up to track events</p> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="listeners()"> listeners()   <span class="label">public</span> </h3> <pre data-language="php">listeners(string $eventKey): array</pre> <div class="description detailed"> <p>Returns a list of all listeners for an eventKey in the order they should be called</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$eventKey</var> </dt>  </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="matchingListeners()"> matchingListeners()   <span class="label">public</span> </h3> <pre data-language="php">matchingListeners(string $eventKeyPattern): array</pre> <div class="description detailed"> <p>Returns the listeners matching a specified pattern</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$eventKeyPattern</var> </dt> <dd><p>Pattern to match.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="off()"> off()   <span class="label">public</span> </h3> <pre data-language="php">off(Cake\Event\EventListenerInterface|callable|string $eventKey, Cake\Event\EventListenerInterface|callable|null $callable = null): $this</pre> <div class="description detailed"> <p>Remove a listener from the active listeners.</p> <p>Remove a EventListenerInterface entirely:</p> <pre data-language="php">$manager-&gt;off($listener);</pre> <p>Remove all listeners for a given event:</p> <pre data-language="php">$manager-&gt;off('My.event');</pre> <p>Remove a specific listener:</p> <pre data-language="php">$manager-&gt;off('My.event', $callback);</pre> <p>Remove a callback from all events:</p> <pre data-language="php">$manager-&gt;off($callback);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventListenerInterface|callable|string</code> <var>$eventKey</var> </dt>  <dt> <code>Cake\Event\EventListenerInterface|callable|null</code> <var>$callable</var> <span class="label">optional</span> </dt>  </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="on()"> on()   <span class="label">public</span> </h3> <pre data-language="php">on(Cake\Event\EventListenerInterface|string $eventKey, callable|array $options = [], callable|null $callable = null): $this</pre> <div class="description detailed"> <p>Adds a new listener to an event.</p> <p>A variadic interface to add listeners that emulates jQuery.on().</p> <p>Binding an EventListenerInterface:</p> <pre data-language="php">$eventManager-&gt;on($listener);</pre> <p>Binding with no options:</p> <pre data-language="php">$eventManager-&gt;on('Model.beforeSave', $callable);</pre> <p>Binding with options:</p> <pre data-language="php">$eventManager-&gt;on('Model.beforeSave', ['priority' =&gt; 90], $callable);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventListenerInterface|string</code> <var>$eventKey</var> </dt>  <dt> <code>callable|array</code> <var>$options</var> <span class="label">optional</span> </dt>  <dt> <code>callable|null</code> <var>$callable</var> <span class="label">optional</span> </dt>  </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="prioritisedListeners()"> prioritisedListeners()   <span class="label">public</span> </h3> <pre data-language="php">prioritisedListeners(string $eventKey): array</pre> <div class="description detailed"> <p>Returns the listeners for the specified event key indexed by priority</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$eventKey</var> </dt> <dd><p>Event key.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setEventList()"> setEventList()   <span class="label">public</span> </h3> <pre data-language="php">setEventList(Cake\Event\EventList $eventList): $this</pre> <div class="description detailed"> <p>Enables the listing of dispatched events.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventList</code> <var>$eventList</var> </dt> <dd><p>The event list object to use.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="trackEvents()"> trackEvents()   <span class="label">public</span> </h3> <pre data-language="php">trackEvents(bool $enabled): $this</pre> <div class="description detailed"> <p>Enables / disables event tracking at runtime.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>bool</code> <var>$enabled</var> </dt> <dd><p>True or false to enable / disable it.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="unsetEventList()"> unsetEventList()   <span class="label">public</span> </h3> <pre data-language="php">unsetEventList(): $this</pre> <div class="description detailed"> <p>Disables the listing of dispatched events.</p> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_eventList"> <var>$_eventList</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The event list object.</p> <h4>Type</h4> <div class="list"> <code>Cake\Event\EventList|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_generalManager"> <var>$_generalManager</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>The globally available instance, used for dispatching events attached from any scope</p> <h4>Type</h4> <div class="list"> <code>Cake\Event\EventManager|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_isGlobal"> <var>$_isGlobal</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Internal flag to distinguish a common manager from the singleton</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_listeners"> <var>$_listeners</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>List of listener callbacks associated to</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_trackEvents"> <var>$_trackEvents</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Enables automatic adding of events to the event list object if it is present.</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$defaultPriority"> <var>$defaultPriority</var>   <span class="label">public</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>The default priority queue value for new, attached listeners</p> <h4>Type</h4> <div class="list"> <code>int</code><br> </div> </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.Event.EventManager.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.Event.EventManager.html</a>
  </p>
</div>
