<h1> Class ContentTypeNegotiation  </h1> <div class="description"> <p>Negotiates the prefered content type from what the application provides and what the request has in its Accept header.</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.http.html">Cake\Http</a><br> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#acceptLanguage()">acceptLanguage()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Check if the request accepts a given language code.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#acceptedLanguages()">acceptedLanguages()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the normalized list of accepted languages</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#parseAccept()">parseAccept()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Parse Accept* headers with qualifier options.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#parseAcceptLanguage()">parseAcceptLanguage()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Parse the Accept-Language header</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#parseQualifiers()">parseQualifiers()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Parse a header value into preference =&gt; value mapping</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#preferredType()">preferredType()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the most preferred content type from a request.</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="acceptLanguage()"> acceptLanguage()   <span class="label">public</span> </h3> <pre data-language="php">acceptLanguage(Psr\Http\Message\RequestInterface $request, string $lang): bool</pre> <div class="description detailed"> <p>Check if the request accepts a given language code.</p> <p>Language codes in the request will be normalized to lower case and have <code>_</code> replaced with <code>-</code>.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Psr\Http\Message\RequestInterface</code> <var>$request</var> </dt> <dd><p>The request to read headers from.</p></dd> <dt> <code>string</code> <var>$lang</var> </dt> <dd><p>The language code to check.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="acceptedLanguages()"> acceptedLanguages()   <span class="label">public</span> </h3> <pre data-language="php">acceptedLanguages(Psr\Http\Message\RequestInterface $request): array&lt;string&gt;</pre> <div class="description detailed"> <p>Get the normalized list of accepted languages</p> <p>Language codes in the request will be normalized to lower case and have <code>_</code> replaced with <code>-</code>.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Psr\Http\Message\RequestInterface</code> <var>$request</var> </dt> <dd><p>The request to read headers from.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="parseAccept()"> parseAccept()   <span class="label">public</span> </h3> <pre data-language="php">parseAccept(Psr\Http\Message\RequestInterface $request): array&lt;string, array&lt;string&gt;&gt;</pre> <div class="description detailed"> <p>Parse Accept* headers with qualifier options.</p> <p>Only qualifiers will be extracted, any other accept extensions will be discarded as they are not frequently used.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Psr\Http\Message\RequestInterface</code> <var>$request</var> </dt> <dd><p>The request to get an accept from.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array&lt;string, array&lt;string&gt;&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="parseAcceptLanguage()"> parseAcceptLanguage()   <span class="label">public</span> </h3> <pre data-language="php">parseAcceptLanguage(Psr\Http\Message\RequestInterface $request): array&lt;string, array&lt;string&gt;&gt;</pre> <div class="description detailed"> <p>Parse the Accept-Language header</p> <p>Only qualifiers will be extracted, other extensions will be ignored as they are not frequently used.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Psr\Http\Message\RequestInterface</code> <var>$request</var> </dt> <dd><p>The request to get an accept from.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array&lt;string, array&lt;string&gt;&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="parseQualifiers()"> parseQualifiers()   <span class="label">protected</span> </h3> <pre data-language="php">parseQualifiers(string $header): array&lt;string, array&lt;string&gt;&gt;</pre> <div class="description detailed"> <p>Parse a header value into preference =&gt; value mapping</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$header</var> </dt> <dd><p>The header value to parse</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array&lt;string, array&lt;string&gt;&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="preferredType()"> preferredType()   <span class="label">public</span> </h3> <pre data-language="php">preferredType(Psr\Http\Message\RequestInterface $request, array&lt;string&gt; $choices = []): string|null</pre> <div class="description detailed"> <p>Get the most preferred content type from a request.</p> <p>Parse the Accept header preferences and return the most preferred type. If multiple types are tied in preference the first type of that preference value will be returned.</p> <p>You can expect null when the request has no Accept header.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Psr\Http\Message\RequestInterface</code> <var>$request</var> </dt> <dd><p>The request to use.</p></dd> <dt> <code>array&lt;string&gt;</code> <var>$choices</var> <span class="label">optional</span> </dt> <dd><p>The supported content type choices.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string|null</code><br> </div> </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.Http.ContentTypeNegotiation.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.Http.ContentTypeNegotiation.html</a>
  </p>
</div>
