<h1> Class ErrorHandlerMiddleware  </h1> <div class="description"> <p>Error handling middleware.</p> <p>Traps exceptions and converts them into HTML or content-type appropriate error pages using the CakePHP ExceptionRenderer.</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.error.middleware.html">Cake\Error\Middleware</a><br> </div> <div class="section"> <h2>Property Summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="#%24_config">$_config</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Runtime config</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_configInitialized">$_configInitialized</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Whether the config property has already been configured with defaults</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_defaultConfig">$_defaultConfig</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Default configuration values.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24errorHandler">$errorHandler</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Error\ErrorHandler|null</code></div> <div class="description"> <p>Error handler instance.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24exceptionTrap">$exceptionTrap</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Error\ExceptionTrap|null</code></div> <div class="description"> <p>ExceptionTrap instance</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#__construct()">__construct()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Constructor</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configDelete()">_configDelete()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Deletes a single config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configRead()">_configRead()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Reads a config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configWrite()">_configWrite()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Writes a config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#configShallow()">configShallow()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getConfig()">getConfig()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the config.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getConfigOrFail()">getConfigOrFail()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the config for this specific key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getErrorHandler()">getErrorHandler()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Get a error handler instance</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getExceptionTrap()">getExceptionTrap()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Get a exception trap instance</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#handleException()">handleException()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Handle an exception and generate an error response</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#handleInternalError()">handleInternalError()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Handle internal errors.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#handleRedirect()">handleRedirect()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Convert a redirect exception into a response.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#process()">process()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Wrap the remaining middleware with error handling.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setConfig()">setConfig()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the config.</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="__construct()"> __construct()   <span class="label">public</span> </h3> <pre data-language="php">__construct(Cake\Error\ErrorHandlerCake\Error\ExceptionTrap|array $errorHandler = [])</pre> <div class="description detailed"> <p>Constructor</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Error\ErrorHandlerCake\Error\ExceptionTrap|array</code> <var>$errorHandler</var> <span class="label">optional</span> </dt> <dd><p>The error handler instance or config array.</p></dd> </dl> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configDelete()"> _configDelete()   <span class="label">protected</span> </h3> <pre data-language="php">_configDelete(string $key): void</pre> <div class="description detailed"> <p>Deletes a single config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Key to delete.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configRead()"> _configRead()   <span class="label">protected</span> </h3> <pre data-language="php">_configRead(string|null $key): mixed</pre> <div class="description detailed"> <p>Reads a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> </dt> <dd><p>Key to read.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configWrite()"> _configWrite()   <span class="label">protected</span> </h3> <pre data-language="php">_configWrite(array&lt;string, mixed&gt;|string $key, mixed $value, string|bool $merge = false): void</pre> <div class="description detailed"> <p>Writes a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>Key to write to.</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>Value to write.</p></dd> <dt> <code>string|bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>True to merge recursively, 'shallow' for simple merge, false to overwrite, defaults to false.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="configShallow()"> configShallow()   <span class="label">public</span> </h3> <pre data-language="php">configShallow(array&lt;string, mixed&gt;|string $key, mixed|null $value = null): $this</pre> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;configShallow('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;configShallow('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;configShallow(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfig()"> getConfig()   <span class="label">public</span> </h3> <pre data-language="php">getConfig(string|null $key = null, mixed $default = null): mixed</pre> <div class="description detailed"> <p>Returns the config.</p> <h3>Usage</h3> <p>Reading the whole config:</p> <pre data-language="php">$this-&gt;getConfig();</pre> <p>Reading a specific value:</p> <pre data-language="php">$this-&gt;getConfig('key');</pre> <p>Reading a nested value:</p> <pre data-language="php">$this-&gt;getConfig('some.nested.key');</pre> <p>Reading with default value:</p> <pre data-language="php">$this-&gt;getConfig('some-key', 'default-value');</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>The key to get or null for the whole config.</p></dd> <dt> <code>mixed</code> <var>$default</var> <span class="label">optional</span> </dt> <dd><p>The return value when the key does not exist.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfigOrFail()"> getConfigOrFail()   <span class="label">public</span> </h3> <pre data-language="php">getConfigOrFail(string $key): mixed</pre> <div class="description detailed"> <p>Returns the config for this specific key.</p> <p>The config value for this key must exist, it can never be null.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>The key to get.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getErrorHandler()"> getErrorHandler()   <span class="label">protected</span> </h3> <pre data-language="php">getErrorHandler(): Cake\Error\ErrorHandler</pre> <div class="description detailed"> <p>Get a error handler instance</p> <h4>Returns</h4> <div class="list"> <code>Cake\Error\ErrorHandler</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getExceptionTrap()"> getExceptionTrap()   <span class="label">protected</span> </h3> <pre data-language="php">getExceptionTrap(): Cake\Error\ExceptionTrap</pre> <div class="description detailed"> <p>Get a exception trap instance</p> <h4>Returns</h4> <div class="list"> <code>Cake\Error\ExceptionTrap</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="handleException()"> handleException()   <span class="label">public</span> </h3> <pre data-language="php">handleException(Throwable $exception, Psr\Http\Message\ServerRequestInterface $request): Psr\Http\Message\ResponseInterface</pre> <div class="description detailed"> <p>Handle an exception and generate an error response</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Throwable</code> <var>$exception</var> </dt> <dd><p>The exception to handle.</p></dd> <dt> <code>Psr\Http\Message\ServerRequestInterface</code> <var>$request</var> </dt> <dd><p>The request.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Psr\Http\Message\ResponseInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="handleInternalError()"> handleInternalError()   <span class="label">protected</span> </h3> <pre data-language="php">handleInternalError(): Psr\Http\Message\ResponseInterface</pre> <div class="description detailed"> <p>Handle internal errors.</p> <h4>Returns</h4> <div class="list"> <code>Psr\Http\Message\ResponseInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="handleRedirect()"> handleRedirect()   <span class="label">public</span> </h3> <pre data-language="php">handleRedirect(Cake\Http\Exception\RedirectException $exception): Psr\Http\Message\ResponseInterface</pre> <div class="description detailed"> <p>Convert a redirect exception into a response.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Http\Exception\RedirectException</code> <var>$exception</var> </dt> <dd><p>The exception to handle</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Psr\Http\Message\ResponseInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="process()"> process()   <span class="label">public</span> </h3> <pre data-language="php">process(ServerRequestInterface $request, RequestHandlerInterface $handler): Psr\Http\Message\ResponseInterface</pre> <div class="description detailed"> <p>Wrap the remaining middleware with error handling.</p> <p>Processes an incoming server request in order to produce a response. If unable to produce the response itself, it may delegate to the provided request handler to do so.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>ServerRequestInterface</code> <var>$request</var> </dt> <dd><p>The request.</p></dd> <dt> <code>RequestHandlerInterface</code> <var>$handler</var> </dt> <dd><p>The request handler.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Psr\Http\Message\ResponseInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setConfig()"> setConfig()   <span class="label">public</span> </h3> <pre data-language="php">setConfig(array&lt;string, mixed&gt;|string $key, mixed|null $value = null, bool $merge = true): $this</pre> <div class="description detailed"> <p>Sets the config.</p> <h3>Usage</h3> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;setConfig('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;setConfig('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;setConfig(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> <dt> <code>bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>Whether to recursively merge or overwrite existing config, defaults to true.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> When trying to set a key that is invalid. </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_config"> <var>$_config</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Runtime config</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_configInitialized"> <var>$_configInitialized</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Whether the config property has already been configured with defaults</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_defaultConfig"> <var>$_defaultConfig</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Default configuration values.</p> <p>Ignored if contructor is passed an ExceptionTrap instance.</p> <p>Configuration keys and values are shared with <code>ExceptionTrap</code>. This class will pass its configuration onto the ExceptionTrap class if you are using the array style constructor.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$errorHandler"> <var>$errorHandler</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Error handler instance.</p> <h4>Type</h4> <div class="list"> <code>Cake\Error\ErrorHandler|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$exceptionTrap"> <var>$exceptionTrap</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>ExceptionTrap instance</p> <h4>Type</h4> <div class="list"> <code>Cake\Error\ExceptionTrap|null</code><br> </div> </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.Error.Middleware.ErrorHandlerMiddleware.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.Error.Middleware.ErrorHandlerMiddleware.html</a>
  </p>
</div>
