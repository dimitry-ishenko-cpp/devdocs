<h1> Class Entity  </h1> <div class="description"> <p>An entity represents a single result row from a repository. It exposes the methods for retrieving and storing properties associated in this row.</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.orm.html">Cake\ORM</a><br> </div> <div class="section"> <h2>Property Summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="#%24_accessible">$_accessible</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, bool&gt;</code></div> <div class="description"> <p>Map of fields in this entity that can be safely assigned, each field name points to a boolean indicating its status. An empty array means no fields are accessible</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_accessors">$_accessors</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>array&lt;string, array&lt;string, array&lt;string, string&gt;&gt;&gt;</code></div> <div class="description"> <p>Holds a cached list of getters/setters per class</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_dirty">$_dirty</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;bool&gt;</code></div> <div class="description"> <p>Holds a list of the fields that were modified or added after this object was originally created.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_errors">$_errors</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>List of errors per field as stored in this object.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_fields">$_fields</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Holds all fields and their values for this entity.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_hidden">$_hidden</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;</code></div> <div class="description"> <p>List of field names that should <strong>not</strong> be included in JSON or Array representations of this Entity.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_invalid">$_invalid</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>List of invalid fields and their data for errors upon validation/patching.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_new">$_new</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Indicates whether this entity is yet to be persisted. Entities default to assuming they are new. You can use Table::persisted() to set the new flag on an entity based on records in the database.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_original">$_original</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Holds all fields that have been changed and their original values for this entity.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_registryAlias">$_registryAlias</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>The alias of the repository this entity came from</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_virtual">$_virtual</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;</code></div> <div class="description"> <p>List of computed or virtual fields that <strong>should</strong> be included in JSON or array representations of this Entity. If a field is present in both _hidden and _virtual the field will <strong>not</strong> be in the array/JSON versions of the entity.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24id">$id</a> <span class="attributes"> <span class="label">public</span> <span class="label annotation">@property</span> </span> </div> <div class="property-type"><code>mixed</code></div> <div class="description"> <p>Alias for commonly used primary key.</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#__construct()">__construct()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Initializes the internal properties of this entity out of the keys in an array. The following list of options can be used:</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__debugInfo()">__debugInfo()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns an array that can be used to describe the internal state of this object.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__get()">__get()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Magic getter to access fields that have been set in this entity</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__isset()">__isset()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns whether this entity contains a field named $field and is not set to null.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__set()">__set()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Magic setter to add or edit a field in this entity</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__toString()">__toString()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns a string representation of this object in a human readable format.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__unset()">__unset()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Removes a field from this entity</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_accessor()">_accessor()</a> <span class="label">protected</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Fetch accessor method name Accessor methods (available or not) are cached in $_accessors</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_nestedErrors()">_nestedErrors()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Auxiliary method for getting errors in nested entities</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_readError()">_readError()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Read the error(s) from one or many objects.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_readHasErrors()">_readHasErrors()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Reads if there are errors for one or many objects.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#clean()">clean()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the entire entity as clean, which means that it will appear as no fields being modified or added at all. This is an useful call for an initial object hydration</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#extract()">extract()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns an array with the requested fields stored in this entity, indexed by field name</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#extractOriginal()">extractOriginal()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns an array with the requested original fields stored in this entity, indexed by field name.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#extractOriginalChanged()">extractOriginalChanged()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns an array with only the original fields stored in this entity, indexed by field name.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#get()">get()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the value of a field by name</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getAccessible()">getAccessible()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the raw accessible configuration for this entity. The <code>*</code> wildcard refers to all fields.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getDirty()">getDirty()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Gets the dirty fields.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getError()">getError()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns validation errors of a field</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getErrors()">getErrors()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns all validation errors.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getHidden()">getHidden()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Gets the hidden fields.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getInvalid()">getInvalid()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get a list of invalid fields and their data for errors upon validation/patching</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getInvalidField()">getInvalidField()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get a single value of an invalid field. Returns null if not set.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getOriginal()">getOriginal()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the value of an original field by name</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getOriginalValues()">getOriginalValues()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Gets all original values of the entity.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getSource()">getSource()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the alias of the repository from which this entity came from.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getVirtual()">getVirtual()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Gets the virtual fields on this entity.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getVisible()">getVisible()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Gets the list of visible fields.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#has()">has()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns whether this entity contains a field named $field that contains a non-null value.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#hasErrors()">hasErrors()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns whether this entity has errors.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#hasValue()">hasValue()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Checks that a field has a value.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#isAccessible()">isAccessible()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Checks if a field is accessible</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#isDirty()">isDirty()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Checks if the entity is dirty or if a single field of it is dirty.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#isEmpty()">isEmpty()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Checks that a field is empty</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#isNew()">isNew()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns whether this entity has already been persisted.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#jsonSerialize()">jsonSerialize()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the fields that will be serialized as JSON</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#offsetExists()">offsetExists()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Implements isset($entity);</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#offsetGet()">offsetGet()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Implements $entity[$offset];</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#offsetSet()">offsetSet()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Implements $entity[$offset] = $value;</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#offsetUnset()">offsetUnset()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Implements unset($result[$offset]);</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#set()">set()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets a single field inside this entity.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setAccess()">setAccess()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Stores whether a field value can be changed or set in this entity. The special field <code>*</code> can also be marked as accessible or protected, meaning that any other field specified before will take its value. For example <code>$entity-&gt;setAccess('*', true)</code> means that any field not specified already will be accessible by default.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setDirty()">setDirty()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the dirty status of a single field.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setError()">setError()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets errors for a single field</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setErrors()">setErrors()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets error messages to the entity</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setHidden()">setHidden()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets hidden fields.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setInvalid()">setInvalid()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Set fields as invalid and not patchable into the entity.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setInvalidField()">setInvalidField()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets a field as invalid and not patchable into the entity.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setNew()">setNew()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Set the status of this entity.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setSource()">setSource()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the source alias</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setVirtual()">setVirtual()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the virtual fields on this entity.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#toArray()">toArray()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns an array with all the fields that have been set to this entity</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#unset()">unset()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Removes a field or list of fields from this entity</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#unsetProperty()">unsetProperty()</a> <span class="label">public</span> <span class="label">deprecated</span> </h5> <div class="description detailed"> <p>Removes a field or list of fields from this entity</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="__construct()"> __construct()   <span class="label">public</span> </h3> <pre data-language="php">__construct(array&lt;string, mixed&gt; $properties = [], array&lt;string, mixed&gt; $options = [])</pre> <div class="description detailed"> <p>Initializes the internal properties of this entity out of the keys in an array. The following list of options can be used:</p> <ul> <li>useSetters: whether use internal setters for properties or not</li> <li>markClean: whether to mark all properties as clean after setting them</li> <li>markNew: whether this instance has not yet been persisted</li> <li>guard: whether to prevent inaccessible properties from being set (default: false)</li> <li>source: A string representing the alias of the repository this entity came from</li> </ul> <h3>Example:</h3> <pre data-language="php">$entity = new Entity(['id' =&gt; 1, 'name' =&gt; 'Andrew'])</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;</code> <var>$properties</var> <span class="label">optional</span> </dt> <dd><p>hash of properties to set in this entity</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>list of options to use when creating this entity</p></dd> </dl> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__debugInfo()"> __debugInfo()   <span class="label">public</span> </h3> <pre data-language="php">__debugInfo(): array&lt;string, mixed&gt;</pre> <div class="description detailed"> <p>Returns an array that can be used to describe the internal state of this object.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__get()"> __get()   <span class="label">public</span> </h3> <pre data-language="php">__get(string $field): mixed</pre> <div class="description detailed"> <p>Magic getter to access fields that have been set in this entity</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>Name of the field to access</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__isset()"> __isset()   <span class="label">public</span> </h3> <pre data-language="php">__isset(string $field): bool</pre> <div class="description detailed"> <p>Returns whether this entity contains a field named $field and is not set to null.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>The field to check.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\ORM\Entity::has() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__set()"> __set()   <span class="label">public</span> </h3> <pre data-language="php">__set(string $field, mixed $value): void</pre> <div class="description detailed"> <p>Magic setter to add or edit a field in this entity</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>The name of the field to set</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The value to set to the field</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__toString()"> __toString()   <span class="label">public</span> </h3> <pre data-language="php">__toString(): string</pre> <div class="description detailed"> <p>Returns a string representation of this object in a human readable format.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__unset()"> __unset()   <span class="label">public</span> </h3> <pre data-language="php">__unset(string $field): void</pre> <div class="description detailed"> <p>Removes a field from this entity</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>The field to unset</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_accessor()"> _accessor()   <span class="label">protected</span> <span class="label">static</span> </h3> <pre data-language="php">_accessor(string $property, string $type): string</pre> <div class="description detailed"> <p>Fetch accessor method name Accessor methods (available or not) are cached in $_accessors</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$property</var> </dt> <dd><p>the field name to derive getter name from</p></dd> <dt> <code>string</code> <var>$type</var> </dt> <dd><p>the accessor type ('get' or 'set')</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_nestedErrors()"> _nestedErrors()   <span class="label">protected</span> </h3> <pre data-language="php">_nestedErrors(string $field): array</pre> <div class="description detailed"> <p>Auxiliary method for getting errors in nested entities</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>the field in this entity to check for errors</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_readError()"> _readError()   <span class="label">protected</span> </h3> <pre data-language="php">_readError(Cake\Datasource\EntityInterface|iterable $object, string|null $path = null): array</pre> <div class="description detailed"> <p>Read the error(s) from one or many objects.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Datasource\EntityInterface|iterable</code> <var>$object</var> </dt> <dd><p>The object to read errors from.</p></dd> <dt> <code>string|null</code> <var>$path</var> <span class="label">optional</span> </dt> <dd><p>The field name for errors.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_readHasErrors()"> _readHasErrors()   <span class="label">protected</span> </h3> <pre data-language="php">_readHasErrors(Cake\Datasource\EntityInterface|array $object): bool</pre> <div class="description detailed"> <p>Reads if there are errors for one or many objects.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Datasource\EntityInterface|array</code> <var>$object</var> </dt> <dd><p>The object to read errors from.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="clean()"> clean()   <span class="label">public</span> </h3> <pre data-language="php">clean(): void</pre> <div class="description detailed"> <p>Sets the entire entity as clean, which means that it will appear as no fields being modified or added at all. This is an useful call for an initial object hydration</p> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="extract()"> extract()   <span class="label">public</span> </h3> <pre data-language="php">extract(array&lt;string&gt; $fields, bool $onlyDirty = false): array</pre> <div class="description detailed"> <p>Returns an array with the requested fields stored in this entity, indexed by field name</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;</code> <var>$fields</var> </dt> <dd><p>list of fields to be returned</p></dd> <dt> <code>bool</code> <var>$onlyDirty</var> <span class="label">optional</span> </dt> <dd><p>Return the requested field only if it is dirty</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="extractOriginal()"> extractOriginal()   <span class="label">public</span> </h3> <pre data-language="php">extractOriginal(array&lt;string&gt; $fields): array</pre> <div class="description detailed"> <p>Returns an array with the requested original fields stored in this entity, indexed by field name.</p> <p>Fields that are unchanged from their original value will be included in the return of this method.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;</code> <var>$fields</var> </dt> <dd><p>List of fields to be returned</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="extractOriginalChanged()"> extractOriginalChanged()   <span class="label">public</span> </h3> <pre data-language="php">extractOriginalChanged(array&lt;string&gt; $fields): array</pre> <div class="description detailed"> <p>Returns an array with only the original fields stored in this entity, indexed by field name.</p> <p>This method will only return fields that have been modified since the entity was built. Unchanged fields will be omitted.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;</code> <var>$fields</var> </dt> <dd><p>List of fields to be returned</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="get()"> get()   <span class="label">public</span> </h3> <pre data-language="php">get(string $field): mixed</pre> <div class="description detailed"> <p>Returns the value of a field by name</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>the name of the field to retrieve</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> if an empty field name is passed </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getAccessible()"> getAccessible()   <span class="label">public</span> </h3> <pre data-language="php">getAccessible(): array&lt;bool&gt;</pre> <div class="description detailed"> <p>Returns the raw accessible configuration for this entity. The <code>*</code> wildcard refers to all fields.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;bool&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getDirty()"> getDirty()   <span class="label">public</span> </h3> <pre data-language="php">getDirty(): array&lt;string&gt;</pre> <div class="description detailed"> <p>Gets the dirty fields.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getError()"> getError()   <span class="label">public</span> </h3> <pre data-language="php">getError(string $field): array</pre> <div class="description detailed"> <p>Returns validation errors of a field</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>Field name to get the errors from</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getErrors()"> getErrors()   <span class="label">public</span> </h3> <pre data-language="php">getErrors(): array</pre> <div class="description detailed"> <p>Returns all validation errors.</p> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getHidden()"> getHidden()   <span class="label">public</span> </h3> <pre data-language="php">getHidden(): array&lt;string&gt;</pre> <div class="description detailed"> <p>Gets the hidden fields.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getInvalid()"> getInvalid()   <span class="label">public</span> </h3> <pre data-language="php">getInvalid(): array&lt;string, mixed&gt;</pre> <div class="description detailed"> <p>Get a list of invalid fields and their data for errors upon validation/patching</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getInvalidField()"> getInvalidField()   <span class="label">public</span> </h3> <pre data-language="php">getInvalidField(string $field): mixed|null</pre> <div class="description detailed"> <p>Get a single value of an invalid field. Returns null if not set.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>The name of the field.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getOriginal()"> getOriginal()   <span class="label">public</span> </h3> <pre data-language="php">getOriginal(string $field): mixed</pre> <div class="description detailed"> <p>Returns the value of an original field by name</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>the name of the field for which original value is retrieved.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> if an empty field name is passed. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getOriginalValues()"> getOriginalValues()   <span class="label">public</span> </h3> <pre data-language="php">getOriginalValues(): array</pre> <div class="description detailed"> <p>Gets all original values of the entity.</p> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getSource()"> getSource()   <span class="label">public</span> </h3> <pre data-language="php">getSource(): string</pre> <div class="description detailed"> <p>Returns the alias of the repository from which this entity came from.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getVirtual()"> getVirtual()   <span class="label">public</span> </h3> <pre data-language="php">getVirtual(): array&lt;string&gt;</pre> <div class="description detailed"> <p>Gets the virtual fields on this entity.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getVisible()"> getVisible()   <span class="label">public</span> </h3> <pre data-language="php">getVisible(): array&lt;string&gt;</pre> <div class="description detailed"> <p>Gets the list of visible fields.</p> <p>The list of visible fields is all standard fields plus virtual fields minus hidden fields.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="has()"> has()   <span class="label">public</span> </h3> <pre data-language="php">has(array&lt;string&gt;|string $field): bool</pre> <div class="description detailed"> <p>Returns whether this entity contains a field named $field that contains a non-null value.</p> <h3>Example:</h3> <pre data-language="php">$entity = new Entity(['id' =&gt; 1, 'name' =&gt; null]);
$entity-&gt;has('id'); // true
$entity-&gt;has('name'); // false
$entity-&gt;has('last_name'); // false</pre> <p>You can check multiple fields by passing an array:</p> <pre data-language="php">$entity-&gt;has(['name', 'last_name']);</pre> <p>All fields must not be null to get a truthy result.</p> <p>When checking multiple fields. All fields must not be null in order for true to be returned.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;|string</code> <var>$field</var> </dt> <dd><p>The field or fields to check.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="hasErrors()"> hasErrors()   <span class="label">public</span> </h3> <pre data-language="php">hasErrors(bool $includeNested = true): bool</pre> <div class="description detailed"> <p>Returns whether this entity has errors.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>bool</code> <var>$includeNested</var> <span class="label">optional</span> </dt> <dd><p>true will check nested entities for hasErrors()</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="hasValue()"> hasValue()   <span class="label">public</span> </h3> <pre data-language="php">hasValue(string $field): bool</pre> <div class="description detailed"> <p>Checks that a field has a value.</p> <p>This method will return true for</p> <ul> <li>Non-empty strings</li> <li>Non-empty arrays</li> <li>Any object</li> <li>Integer, even <code>0</code>
</li> <li>Float, even 0.0</li> </ul> <p>and false in all other cases.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>The field to check.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="isAccessible()"> isAccessible()   <span class="label">public</span> </h3> <pre data-language="php">isAccessible(string $field): bool</pre> <div class="description detailed"> <p>Checks if a field is accessible</p> <h3>Example:</h3> <pre data-language="php">$entity-&gt;isAccessible('id'); // Returns whether it can be set or not</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>Field name to check</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="isDirty()"> isDirty()   <span class="label">public</span> </h3> <pre data-language="php">isDirty(string|null $field = null): bool</pre> <div class="description detailed"> <p>Checks if the entity is dirty or if a single field of it is dirty.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$field</var> <span class="label">optional</span> </dt> <dd><p>The field to check the status for. Null for the whole entity.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="isEmpty()"> isEmpty()   <span class="label">public</span> </h3> <pre data-language="php">isEmpty(string $field): bool</pre> <div class="description detailed"> <p>Checks that a field is empty</p> <p>This is not working like the PHP <code>empty()</code> function. The method will return true for:</p> <ul> <li>
<code>''</code> (empty string)</li> <li><code>null</code></li> <li><code>[]</code></li> </ul> <p>and false in all other cases.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>The field to check.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="isNew()"> isNew()   <span class="label">public</span> </h3> <pre data-language="php">isNew(): bool</pre> <div class="description detailed"> <p>Returns whether this entity has already been persisted.</p> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="jsonSerialize()"> jsonSerialize()   <span class="label">public</span> </h3> <pre data-language="php">jsonSerialize(): array</pre> <div class="description detailed"> <p>Returns the fields that will be serialized as JSON</p> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="offsetExists()"> offsetExists()   <span class="label">public</span> </h3> <pre data-language="php">offsetExists(string $offset): bool</pre> <div class="description detailed"> <p>Implements isset($entity);</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$offset</var> </dt> <dd><p>The offset to check.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="offsetGet()"> offsetGet()   <span class="label">public</span> </h3> <pre data-language="php">offsetGet(string $offset): mixed</pre> <div class="description detailed"> <p>Implements $entity[$offset];</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$offset</var> </dt> <dd><p>The offset to get.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="offsetSet()"> offsetSet()   <span class="label">public</span> </h3> <pre data-language="php">offsetSet(string $offset, mixed $value): void</pre> <div class="description detailed"> <p>Implements $entity[$offset] = $value;</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$offset</var> </dt> <dd><p>The offset to set.</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The value to set.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="offsetUnset()"> offsetUnset()   <span class="label">public</span> </h3> <pre data-language="php">offsetUnset(string $offset): void</pre> <div class="description detailed"> <p>Implements unset($result[$offset]);</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$offset</var> </dt> <dd><p>The offset to remove.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="set()"> set()   <span class="label">public</span> </h3> <pre data-language="php">set(array&lt;string, mixed&gt;|string $field, mixed $value = null, array&lt;string, mixed&gt; $options = []): $this</pre> <div class="description detailed"> <p>Sets a single field inside this entity.</p> <h3>Example:</h3> <pre data-language="php">$entity-&gt;set('name', 'Andrew');</pre> <p>It is also possible to mass-assign multiple fields to this entity with one call by passing a hashed array as fields in the form of field =&gt; value pairs</p> <h3>Example:</h3> <pre data-language="php">$entity-&gt;set(['name' =&gt; 'andrew', 'id' =&gt; 1]);
echo $entity-&gt;name // prints andrew
echo $entity-&gt;id // prints 1</pre> <p>Some times it is handy to bypass setter functions in this entity when assigning fields. You can achieve this by disabling the <code>setter</code> option using the <code>$options</code> parameter:</p> <pre data-language="php">$entity-&gt;set('name', 'Andrew', ['setter' =&gt; false]);
$entity-&gt;set(['name' =&gt; 'Andrew', 'id' =&gt; 1], ['setter' =&gt; false]);</pre> <p>Mass assignment should be treated carefully when accepting user input, by default entities will guard all fields when fields are assigned in bulk. You can disable the guarding for a single set call with the <code>guard</code> option:</p> <pre data-language="php">$entity-&gt;set(['name' =&gt; 'Andrew', 'id' =&gt; 1], ['guard' =&gt; false]);</pre> <p>You do not need to use the guard option when assigning fields individually:</p> <pre data-language="php">// No need to use the guard option.
$entity-&gt;set('name', 'Andrew');</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$field</var> </dt> <dd><p>the name of field to set or a list of fields with their respective values</p></dd> <dt> <code>mixed</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set to the field or an array if the first argument is also an array, in which case will be treated as $options</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Options to be used for setting the field. Allowed option keys are <code>setter</code> and <code>guard</code></p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setAccess()"> setAccess()   <span class="label">public</span> </h3> <pre data-language="php">setAccess(array&lt;string&gt;|string $field, bool $set): $this</pre> <div class="description detailed"> <p>Stores whether a field value can be changed or set in this entity. The special field <code>*</code> can also be marked as accessible or protected, meaning that any other field specified before will take its value. For example <code>$entity-&gt;setAccess('*', true)</code> means that any field not specified already will be accessible by default.</p> <p>You can also call this method with an array of fields, in which case they will each take the accessibility value specified in the second argument.</p> <h3>Example:</h3> <pre data-language="php">$entity-&gt;setAccess('id', true); // Mark id as not protected
$entity-&gt;setAccess('author_id', false); // Mark author_id as protected
$entity-&gt;setAccess(['id', 'user_id'], true); // Mark both fields as accessible
$entity-&gt;setAccess('*', false); // Mark all fields as protected</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;|string</code> <var>$field</var> </dt> <dd><p>Single or list of fields to change its accessibility</p></dd> <dt> <code>bool</code> <var>$set</var> </dt> <dd><p>True marks the field as accessible, false will mark it as protected.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setDirty()"> setDirty()   <span class="label">public</span> </h3> <pre data-language="php">setDirty(string $field, bool $isDirty = true): $this</pre> <div class="description detailed"> <p>Sets the dirty status of a single field.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>the field to set or check status for</p></dd> <dt> <code>bool</code> <var>$isDirty</var> <span class="label">optional</span> </dt> <dd><p>true means the field was changed, false means it was not changed. Defaults to true.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setError()"> setError()   <span class="label">public</span> </h3> <pre data-language="php">setError(string $field, array|string $errors, bool $overwrite = false): $this</pre> <div class="description detailed"> <p>Sets errors for a single field</p> <h3>Example</h3> <pre data-language="php">// Sets the error messages for a single field
$entity-&gt;setError('salary', ['must be numeric', 'must be a positive number']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>The field to get errors for, or the array of errors to set.</p></dd> <dt> <code>array|string</code> <var>$errors</var> </dt> <dd><p>The errors to be set for $field</p></dd> <dt> <code>bool</code> <var>$overwrite</var> <span class="label">optional</span> </dt> <dd><p>Whether to overwrite pre-existing errors for $field</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setErrors()"> setErrors()   <span class="label">public</span> </h3> <pre data-language="php">setErrors(array $errors, bool $overwrite = false): $this</pre> <div class="description detailed"> <p>Sets error messages to the entity</p> <h2>Example</h2> <pre data-language="php">// Sets the error messages for multiple fields at once
$entity-&gt;setErrors(['salary' =&gt; ['message'], 'name' =&gt; ['another message']]);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$errors</var> </dt> <dd><p>The array of errors to set.</p></dd> <dt> <code>bool</code> <var>$overwrite</var> <span class="label">optional</span> </dt> <dd><p>Whether to overwrite pre-existing errors for $fields</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setHidden()"> setHidden()   <span class="label">public</span> </h3> <pre data-language="php">setHidden(array&lt;string&gt; $fields, bool $merge = false): $this</pre> <div class="description detailed"> <p>Sets hidden fields.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;</code> <var>$fields</var> </dt> <dd><p>An array of fields to hide from array exports.</p></dd> <dt> <code>bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>Merge the new fields with the existing. By default false.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setInvalid()"> setInvalid()   <span class="label">public</span> </h3> <pre data-language="php">setInvalid(array&lt;string, mixed&gt; $fields, bool $overwrite = false): $this</pre> <div class="description detailed"> <p>Set fields as invalid and not patchable into the entity.</p> <p>This is useful for batch operations when one needs to get the original value for an error message after patching. This value could not be patched into the entity and is simply copied into the _invalid property for debugging purposes or to be able to log it away.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;</code> <var>$fields</var> </dt> <dd><p>The values to set.</p></dd> <dt> <code>bool</code> <var>$overwrite</var> <span class="label">optional</span> </dt> <dd><p>Whether to overwrite pre-existing values for $field.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setInvalidField()"> setInvalidField()   <span class="label">public</span> </h3> <pre data-language="php">setInvalidField(string $field, mixed $value): $this</pre> <div class="description detailed"> <p>Sets a field as invalid and not patchable into the entity.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>The value to set.</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The invalid value to be set for $field.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setNew()"> setNew()   <span class="label">public</span> </h3> <pre data-language="php">setNew(bool $new): $this</pre> <div class="description detailed"> <p>Set the status of this entity.</p> <p>Using <code>true</code> means that the entity has not been persisted in the database, <code>false</code> that it already is.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>bool</code> <var>$new</var> </dt> <dd><p>Indicate whether this entity has been persisted.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setSource()"> setSource()   <span class="label">public</span> </h3> <pre data-language="php">setSource(string $alias): $this</pre> <div class="description detailed"> <p>Sets the source alias</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$alias</var> </dt> <dd><p>the alias of the repository</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setVirtual()"> setVirtual()   <span class="label">public</span> </h3> <pre data-language="php">setVirtual(array&lt;string&gt; $fields, bool $merge = false): $this</pre> <div class="description detailed"> <p>Sets the virtual fields on this entity.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;</code> <var>$fields</var> </dt> <dd><p>An array of fields to treat as virtual.</p></dd> <dt> <code>bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>Merge the new fields with the existing. By default false.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="toArray()"> toArray()   <span class="label">public</span> </h3> <pre data-language="php">toArray(): array</pre> <div class="description detailed"> <p>Returns an array with all the fields that have been set to this entity</p> <p>This method will recursively transform entities assigned to fields into arrays as well.</p> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="unset()"> unset()   <span class="label">public</span> </h3> <pre data-language="php">unset(array&lt;string&gt;|string $field): $this</pre> <div class="description detailed"> <p>Removes a field or list of fields from this entity</p> <h3>Examples:</h3> <pre data-language="php">$entity-&gt;unset('name');
$entity-&gt;unset(['name', 'last_name']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;|string</code> <var>$field</var> </dt> <dd><p>The field to unset.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="unsetProperty()"> unsetProperty()   <span class="label">public</span> </h3> <pre data-language="php">unsetProperty(array&lt;string&gt;|string $field): $this</pre> <div class="description detailed"> <p>Removes a field or list of fields from this entity</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;|string</code> <var>$field</var> </dt> <dd><p>The field to unset.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_accessible"> <var>$_accessible</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Map of fields in this entity that can be safely assigned, each field name points to a boolean indicating its status. An empty array means no fields are accessible</p> <p>The special field '*' can also be mapped, meaning that any other field not defined in the map will take its value. For example, <code>'*' =&gt; true</code> means that any field not defined in the map will be accessible by default</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, bool&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_accessors"> <var>$_accessors</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>Holds a cached list of getters/setters per class</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, array&lt;string, array&lt;string, string&gt;&gt;&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_dirty"> <var>$_dirty</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Holds a list of the fields that were modified or added after this object was originally created.</p> <h4>Type</h4> <div class="list"> <code>array&lt;bool&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_errors"> <var>$_errors</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>List of errors per field as stored in this object.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_fields"> <var>$_fields</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Holds all fields and their values for this entity.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_hidden"> <var>$_hidden</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>List of field names that should <strong>not</strong> be included in JSON or Array representations of this Entity.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_invalid"> <var>$_invalid</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>List of invalid fields and their data for errors upon validation/patching.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_new"> <var>$_new</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Indicates whether this entity is yet to be persisted. Entities default to assuming they are new. You can use Table::persisted() to set the new flag on an entity based on records in the database.</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_original"> <var>$_original</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Holds all fields that have been changed and their original values for this entity.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_registryAlias"> <var>$_registryAlias</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The alias of the repository this entity came from</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_virtual"> <var>$_virtual</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>List of computed or virtual fields that <strong>should</strong> be included in JSON or array representations of this Entity. If a field is present in both _hidden and _virtual the field will <strong>not</strong> be in the array/JSON versions of the entity.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$id"> <var>$id</var>   <span class="label">public</span> <span class="label annotation">@property</span> </h3> <div class="description detailed"> <p>Alias for commonly used primary key.</p> <h4>Type</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.ORM.Entity.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.ORM.Entity.html</a>
  </p>
</div>
