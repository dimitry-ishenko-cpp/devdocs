<h1> Class Router  </h1> <div class="description"> <p>Parses the request URL into controller, action, and parameters. Uses the connected routes to match the incoming URL string to parameters that will allow the request to be dispatched. Also handles converting parameter lists into URL strings, using the connected routes. Routing allows you to decouple the way the world interacts with your application (URLs) and the implementation (controllers and actions).</p> <h3>Connecting routes</h3> <p>Connecting routes is done using Router::connect(). When parsing incoming requests or reverse matching parameters, routes are enumerated in the order they were connected. For more information on routes and how to connect them see Router::connect().</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.routing.html">Cake\Routing</a><br> </div> <div class="section"> <h2>Constants</h2> <ul class="member-summary constants"> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>ACTION</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">'index|show|add|create|edit|update|remove|del|delete|view|item'</pre> </div> <div class="col-md-10 col-md-offset-2"> <p>Regular expression for action names</p> </div> </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>DAY</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">'0[1-9]|[12][0-9]|3[01]'</pre> </div> <div class="col-md-10 col-md-offset-2"> <p>Regular expression for days</p> </div> </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>ID</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">'[0-9]+'</pre> </div> <div class="col-md-10 col-md-offset-2"> <p>Regular expression for auto increment IDs</p> </div> </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>MONTH</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">'0[1-9]|1[012]'</pre> </div> <div class="col-md-10 col-md-offset-2"> <p>Regular expression for months</p> </div> </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>UUID</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">'[A-Fa-f0-9]{8}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{12}'</pre> </div> <div class="col-md-10 col-md-offset-2"> <p>Regular expression for UUIDs</p> </div> </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>YEAR</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">'[12][0-9]{3}'</pre> </div> <div class="col-md-10 col-md-offset-2"> <p>Regular expression for years</p> </div> </li> </ul> </div> <div class="section"> <h2>Property Summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="#%24_collection">$_collection</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>Cake\Routing\RouteCollection</code></div> <div class="description"> <p>The route collection routes would be added to.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_defaultExtensions">$_defaultExtensions</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;</code></div> <div class="description"> <p>Default extensions defined with Router::extensions()</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_defaultRouteClass">$_defaultRouteClass</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>Default route class.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_fullBaseUrl">$_fullBaseUrl</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>string|null</code></div> <div class="description"> <p>Contains the base string that will be applied to all generated URLs For example <code>https://example.com</code></p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_initialState">$_initialState</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>Initial state is populated the first time reload() is called which is at the bottom of this file. This is a cheat as get_class_vars() returns the value of static vars even if they have changed.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_namedExpressions">$_namedExpressions</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>array&lt;string, string&gt;</code></div> <div class="description"> <p>Named expressions</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_request">$_request</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>Cake\Http\ServerRequest</code></div> <div class="description"> <p>Maintains the request object reference.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_requestContext">$_requestContext</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>A hash of request context data.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_routePaths">$_routePaths</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Cache of parsed route paths</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_urlFilters">$_urlFilters</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>array&lt;callable&gt;</code></div> <div class="description"> <p>The stack of URL filters to apply against routing URLs before passing the parameters to the route collection.</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#_applyUrlFilters()">_applyUrlFilters()</a> <span class="label">protected</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Applies all the connected URL filters to the URL.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#addUrlFilter()">addUrlFilter()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Add a URL filter to Router.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#connect()">connect()</a> <span class="label">public</span> <span class="label">static</span> <span class="label">deprecated</span> </h5> <div class="description detailed"> <p>Connects a new Route in the router.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#createRouteBuilder()">createRouteBuilder()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Create a RouteBuilder for the provided path.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#defaultRouteClass()">defaultRouteClass()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Get or set default route class.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#extensions()">extensions()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Get or set valid extensions for all routes connected later.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#fullBaseUrl()">fullBaseUrl()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Sets the full base URL that will be used as a prefix for generating fully qualified URLs for this application. If no parameters are passed, the currently configured value is returned.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getNamedExpressions()">getNamedExpressions()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Gets the named route patterns for use in config/routes.php</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getRequest()">getRequest()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Get the current request object.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getRouteCollection()">getRouteCollection()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Get the RouteCollection inside the Router</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#normalize()">normalize()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Normalizes a URL for purposes of comparison.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#parseRequest()">parseRequest()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Get the routing parameters for the request if possible.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#parseRoutePath()">parseRoutePath()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Parse a string route path</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#pathUrl()">pathUrl()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Generate URL for route path.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#plugin()">plugin()</a> <span class="label">public</span> <span class="label">static</span> <span class="label">deprecated</span> </h5> <div class="description detailed"> <p>Add plugin routes.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#prefix()">prefix()</a> <span class="label">public</span> <span class="label">static</span> <span class="label">deprecated</span> </h5> <div class="description detailed"> <p>Create prefixed routes.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#reload()">reload()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Reloads default Router settings. Resets all class variables and removes all connected routes.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#resetRoutes()">resetRoutes()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Reset routes and related state.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#reverse()">reverse()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Reverses a parsed parameter array into a string.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#reverseToArray()">reverseToArray()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Reverses a parsed parameter array into an array.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#routeExists()">routeExists()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Finds URL for specified action.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#routes()">routes()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Get the route scopes and their connected routes.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#scope()">scope()</a> <span class="label">public</span> <span class="label">static</span> <span class="label">deprecated</span> </h5> <div class="description detailed"> <p>Create a routing scope.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setRequest()">setRequest()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Set current request instance.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setRouteCollection()">setRouteCollection()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Set the RouteCollection inside the Router</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#unwrapShortString()">unwrapShortString()</a> <span class="label">protected</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Inject route defaults from <code>_path</code> key</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#url()">url()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Finds URL for specified action.</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="_applyUrlFilters()"> _applyUrlFilters()   <span class="label">protected</span> <span class="label">static</span> </h3> <pre data-language="php">_applyUrlFilters(array $url): array</pre> <div class="description detailed"> <p>Applies all the connected URL filters to the URL.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$url</var> </dt> <dd><p>The URL array being modified.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Routing\Router::url()<br> \Cake\Routing\Router::addUrlFilter() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="addUrlFilter()"> addUrlFilter()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">addUrlFilter(callable $function): void</pre> <div class="description detailed"> <p>Add a URL filter to Router.</p> <p>URL filter functions are applied to every array $url provided to Router::url() before the URLs are sent to the route collection.</p> <p>Callback functions should expect the following parameters:</p> <ul> <li>
<code>$params</code> The URL params being processed.</li> <li>
<code>$request</code> The current request.</li> </ul> <p>The URL filter function should <em>always</em> return the params even if unmodified.</p> <h3>Usage</h3> <p>URL filters allow you to easily implement features like persistent parameters.</p> <pre data-language="php">Router::addUrlFilter(function ($params, $request) {
 if ($request-&gt;getParam('lang') &amp;&amp; !isset($params['lang'])) {
   $params['lang'] = $request-&gt;getParam('lang');
 }
 return $params;
});</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>callable</code> <var>$function</var> </dt> <dd><p>The function to add</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="connect()"> connect()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">connect(Cake\Routing\Route\Route|string $route, array|string $defaults = [], array&lt;string, mixed&gt; $options = []): void</pre> <div class="description detailed"> <p>Connects a new Route in the router.</p> <p>Compatibility proxy to \Cake\Routing\RouteBuilder::connect() in the <code>/</code> scope.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Routing\Route\Route|string</code> <var>$route</var> </dt> <dd><p>A string describing the template of the route</p></dd> <dt> <code>array|string</code> <var>$defaults</var> <span class="label">optional</span> </dt> <dd><p>An array describing the default route parameters. These parameters will be used by default and can supply routing parameters that are not dynamic. See above.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>An array matching the named elements in the route to regular expressions which that element should match. Also contains additional parameters such as which routed parameters should be shifted into the passed arguments, supplying patterns for routing parameters and supplying the name of a custom routing class.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Routing\RouteBuilder::connect()<br> \Cake\Routing\Router::scope() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="createRouteBuilder()"> createRouteBuilder()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">createRouteBuilder(string $path, array&lt;string, mixed&gt; $options = []): Cake\Routing\RouteBuilder</pre> <div class="description detailed"> <p>Create a RouteBuilder for the provided path.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$path</var> </dt> <dd><p>The path to set the builder to.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>The options for the builder</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Routing\RouteBuilder</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="defaultRouteClass()"> defaultRouteClass()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">defaultRouteClass(string|null $routeClass = null): string|null</pre> <div class="description detailed"> <p>Get or set default route class.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$routeClass</var> <span class="label">optional</span> </dt> <dd><p>Class name.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="extensions()"> extensions()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">extensions(array&lt;string&gt;|string|null $extensions = null, bool $merge = true): array&lt;string&gt;</pre> <div class="description detailed"> <p>Get or set valid extensions for all routes connected later.</p> <p>Instructs the router to parse out file extensions from the URL. For example, <a href="http://example.com/posts.rss">http://example.com/posts.rss</a> would yield a file extension of "rss". The file extension itself is made available in the controller as <code>$this-&gt;request-&gt;getParam('_ext')</code>, and is used by the RequestHandler component to automatically switch to alternate layouts and templates, and load helpers corresponding to the given content, i.e. RssHelper. Switching layouts and helpers requires that the chosen extension has a defined mime type in <code>Cake\Http\Response</code>.</p> <p>A string or an array of valid extensions can be passed to this method. If called without any parameters it will return current list of set extensions.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;|string|null</code> <var>$extensions</var> <span class="label">optional</span> </dt> <dd><p>List of extensions to be added.</p></dd> <dt> <code>bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>Whether to merge with or override existing extensions. Defaults to <code>true</code>.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="fullBaseUrl()"> fullBaseUrl()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">fullBaseUrl(string|null $base = null): string</pre> <div class="description detailed"> <p>Sets the full base URL that will be used as a prefix for generating fully qualified URLs for this application. If no parameters are passed, the currently configured value is returned.</p> <h3>Note:</h3> <p>If you change the configuration value <code>App.fullBaseUrl</code> during runtime and expect the router to produce links using the new setting, you are required to call this method passing such value again.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$base</var> <span class="label">optional</span> </dt> <dd><p>the prefix for URLs generated containing the domain. For example: <code>http://example.com</code></p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getNamedExpressions()"> getNamedExpressions()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">getNamedExpressions(): array&lt;string, string&gt;</pre> <div class="description detailed"> <p>Gets the named route patterns for use in config/routes.php</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string, string&gt;</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Routing\Router::$_namedExpressions </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getRequest()"> getRequest()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">getRequest(): Cake\Http\ServerRequest|null</pre> <div class="description detailed"> <p>Get the current request object.</p> <h4>Returns</h4> <div class="list"> <code>Cake\Http\ServerRequest|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getRouteCollection()"> getRouteCollection()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">getRouteCollection(): Cake\Routing\RouteCollection</pre> <div class="description detailed"> <p>Get the RouteCollection inside the Router</p> <h4>Returns</h4> <div class="list"> <code>Cake\Routing\RouteCollection</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="normalize()"> normalize()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">normalize(array|string $url = '/'): string</pre> <div class="description detailed"> <p>Normalizes a URL for purposes of comparison.</p> <p>Will strip the base path off and replace any double /'s. It will not unify the casing and underscoring of the input value.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string</code> <var>$url</var> <span class="label">optional</span> </dt> <dd><p>URL to normalize Either an array or a string URL.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="parseRequest()"> parseRequest()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">parseRequest(Cake\Http\ServerRequest $request): array</pre> <div class="description detailed"> <p>Get the routing parameters for the request if possible.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Http\ServerRequest</code> <var>$request</var> </dt> <dd><p>The request to parse request data from.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Routing\Exception\MissingRouteException</code><br> When a route cannot be handled </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="parseRoutePath()"> parseRoutePath()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">parseRoutePath(string $url): array&lt;string, string&gt;</pre> <div class="description detailed"> <p>Parse a string route path</p> <p>String examples:</p> <ul> <li>Bookmarks::view</li> <li>Admin/Bookmarks::view</li> <li>Cms.Articles::edit</li> <li>Vendor/Cms.Management/Admin/Articles::view</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$url</var> </dt> <dd><p>Route path in [Plugin.][Prefix/]Controller::action format</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array&lt;string, string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="pathUrl()"> pathUrl()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">pathUrl(string $path, array $params = [], bool $full = false): string</pre> <div class="description detailed"> <p>Generate URL for route path.</p> <p>Route path examples:</p> <ul> <li>Bookmarks::view</li> <li>Admin/Bookmarks::view</li> <li>Cms.Articles::edit</li> <li>Vendor/Cms.Management/Admin/Articles::view</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$path</var> </dt> <dd><p>Route path specifying controller and action, optionally with plugin and prefix.</p></dd> <dt> <code>array</code> <var>$params</var> <span class="label">optional</span> </dt> <dd><p>An array specifying any additional parameters. Can be also any special parameters supported by <code>Router::url()</code>.</p></dd> <dt> <code>bool</code> <var>$full</var> <span class="label">optional</span> </dt> <dd><p>If true, the full base URL will be prepended to the result. Default is false.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="plugin()"> plugin()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">plugin(string $name, callable|array $options = [], callable|null $callback = null): void</pre> <div class="description detailed"> <p>Add plugin routes.</p> <p>This method creates a scoped route collection that includes relevant plugin information.</p> <p>The plugin name will be inflected to the dasherized version to create the routing path. If you want a custom path name, use the <code>path</code> option.</p> <p>Routes connected in the scoped collection will have the correct path segment prepended, and have a matching plugin routing key set.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The plugin name to build routes for</p></dd> <dt> <code>callable|array</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Either the options to use, or a callback</p></dd> <dt> <code>callable|null</code> <var>$callback</var> <span class="label">optional</span> </dt> <dd><p>The callback to invoke that builds the plugin routes. Only required when $options is defined</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="prefix()"> prefix()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">prefix(string $name, callable|array $params = [], callable|null $callback = null): void</pre> <div class="description detailed"> <p>Create prefixed routes.</p> <p>This method creates a scoped route collection that includes relevant prefix information.</p> <p>The path parameter is used to generate the routing parameter name. For example a path of <code>admin</code> would result in <code>'prefix' =&gt; 'Admin'</code> being applied to all connected routes.</p> <p>The prefix name will be inflected to the dasherized version to create the routing path. If you want a custom path name, use the <code>path</code> option.</p> <p>You can re-open a prefix as many times as necessary, as well as nest prefixes. Nested prefixes will result in prefix values like <code>Admin/Api</code> which translates to the <code>Controller\Admin\Api\</code> namespace.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The prefix name to use.</p></dd> <dt> <code>callable|array</code> <var>$params</var> <span class="label">optional</span> </dt> <dd><p>An array of routing defaults to add to each connected route. If you have no parameters, this argument can be a callable.</p></dd> <dt> <code>callable|null</code> <var>$callback</var> <span class="label">optional</span> </dt> <dd><p>The callback to invoke that builds the prefixed routes.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="reload()"> reload()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">reload(): void</pre> <div class="description detailed"> <p>Reloads default Router settings. Resets all class variables and removes all connected routes.</p> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="resetRoutes()"> resetRoutes()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">resetRoutes(): void</pre> <div class="description detailed"> <p>Reset routes and related state.</p> <p>Similar to reload() except that this doesn't reset all global state, as that leads to incorrect behavior in some plugin test case scenarios.</p> <p>This method will reset:</p> <ul> <li>routes</li> <li>URL Filters</li> <li>the initialized property</li> </ul> <p>Extensions and default route classes will not be modified</p> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="reverse()"> reverse()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">reverse(Cake\Http\ServerRequest|array $params, bool $full = false): string</pre> <div class="description detailed"> <p>Reverses a parsed parameter array into a string.</p> <p>Works similarly to Router::url(), but since parsed URL's contain additional keys like 'pass', '_matchedRoute' etc. those keys need to be specially handled in order to reverse a params array into a string URL.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Http\ServerRequest|array</code> <var>$params</var> </dt> <dd><p>The params array or Cake\Http\ServerRequest object that needs to be reversed.</p></dd> <dt> <code>bool</code> <var>$full</var> <span class="label">optional</span> </dt> <dd><p>Set to true to include the full URL including the protocol when reversing the URL.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="reverseToArray()"> reverseToArray()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">reverseToArray(Cake\Http\ServerRequest|array $params): array</pre> <div class="description detailed"> <p>Reverses a parsed parameter array into an array.</p> <p>Works similarly to Router::url(), but since parsed URL's contain additional keys like 'pass', '_matchedRoute' etc. those keys need to be specially handled in order to reverse a params array into a string URL.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Http\ServerRequest|array</code> <var>$params</var> </dt> <dd><p>The params array or Cake\Http\ServerRequest object that needs to be reversed.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="routeExists()"> routeExists()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">routeExists(array|string|null $url = null, bool $full = false): bool</pre> <div class="description detailed"> <p>Finds URL for specified action.</p> <p>Returns a bool if the url exists</p> <h3>Usage</h3> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string|null</code> <var>$url</var> <span class="label">optional</span> </dt> <dd><p>An array specifying any of the following: 'controller', 'action', 'plugin' additionally, you can provide routed elements or query string parameters. If string it can be name any valid url string.</p></dd> <dt> <code>bool</code> <var>$full</var> <span class="label">optional</span> </dt> <dd><p>If true, the full base URL will be prepended to the result. Default is false.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> <h4>See Also</h4> <div class="list"> Router::url() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="routes()"> routes()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">routes(): arrayCake\Routing\Route\Route&gt;</pre> <div class="description detailed"> <p>Get the route scopes and their connected routes.</p> <h4>Returns</h4> <div class="list"> <code>arrayCake\Routing\Route\Route&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="scope()"> scope()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">scope(string $path, callable|array $params = [], callable|null $callback = null): void</pre> <div class="description detailed"> <p>Create a routing scope.</p> <p>Routing scopes allow you to keep your routes DRY and avoid repeating common path prefixes, and or parameter sets.</p> <p>Scoped collections will be indexed by path for faster route parsing. If you re-open or re-use a scope the connected routes will be merged with the existing ones.</p> <h3>Options</h3> <p>The <code>$params</code> array allows you to define options for the routing scope. The options listed below <em>are not</em> available to be used as routing defaults</p> <ul> <li>
<code>routeClass</code> The route class to use in this scope. Defaults to <code>Router::defaultRouteClass()</code>
</li> <li>
<code>extensions</code> The extensions to enable in this scope. Defaults to the globally enabled extensions set with <code>Router::extensions()</code>
</li> </ul> <h3>Example</h3> <pre data-language="php">Router::scope('/blog', ['plugin' =&gt; 'Blog'], function ($routes) {
   $routes-&gt;connect('/', ['controller' =&gt; 'Articles']);
});</pre> <p>The above would result in a <code>/blog/</code> route being created, with both the plugin &amp; controller default parameters set.</p> <p>You can use <code>Router::plugin()</code> and <code>Router::prefix()</code> as shortcuts to creating specific kinds of scopes.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$path</var> </dt> <dd><p>The path prefix for the scope. This path will be prepended to all routes connected in the scoped collection.</p></dd> <dt> <code>callable|array</code> <var>$params</var> <span class="label">optional</span> </dt> <dd><p>An array of routing defaults to add to each connected route. If you have no parameters, this argument can be a callable.</p></dd> <dt> <code>callable|null</code> <var>$callback</var> <span class="label">optional</span> </dt> <dd><p>The callback to invoke with the scoped collection.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> When an invalid callable is provided. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setRequest()"> setRequest()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">setRequest(Cake\Http\ServerRequest $request): void</pre> <div class="description detailed"> <p>Set current request instance.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Http\ServerRequest</code> <var>$request</var> </dt> <dd><p>request object.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setRouteCollection()"> setRouteCollection()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">setRouteCollection(Cake\Routing\RouteCollection $routeCollection): void</pre> <div class="description detailed"> <p>Set the RouteCollection inside the Router</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Routing\RouteCollection</code> <var>$routeCollection</var> </dt> <dd><p>route collection</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="unwrapShortString()"> unwrapShortString()   <span class="label">protected</span> <span class="label">static</span> </h3> <pre data-language="php">unwrapShortString(array $url): array</pre> <div class="description detailed"> <p>Inject route defaults from <code>_path</code> key</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$url</var> </dt> <dd><p>Route array with <code>_path</code> key</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="url()"> url()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">url(Psr\Http\Message\UriInterface|array|string|null $url = null, bool $full = false): string</pre> <div class="description detailed"> <p>Finds URL for specified action.</p> <p>Returns a URL pointing to a combination of controller and action.</p> <h3>Usage</h3> <ul> <li>
<code>Router::url('/posts/edit/1');</code> Returns the string with the base dir prepended. This usage does not use reverser routing.</li> <li>
<code>Router::url(['controller' =&gt; 'Posts', 'action' =&gt; 'edit']);</code> Returns a URL generated through reverse routing.</li> <li>
<code>Router::url(['_name' =&gt; 'custom-name', ...]);</code> Returns a URL generated through reverse routing. This form allows you to leverage named routes.</li> </ul> <p>There are a few 'special' parameters that can change the final URL string that is generated</p> <ul> <li>
<code>_base</code> - Set to false to remove the base path from the generated URL. If your application is not in the root directory, this can be used to generate URLs that are 'cake relative'. cake relative URLs are required when using requestAction.</li> <li>
<code>_scheme</code> - Set to create links on different schemes like <code>webcal</code> or <code>ftp</code>. Defaults to the current scheme.</li> <li>
<code>_host</code> - Set the host to use for the link. Defaults to the current host.</li> <li>
<code>_port</code> - Set the port if you need to create links on non-standard ports.</li> <li>
<code>_full</code> - If true output of <code>Router::fullBaseUrl()</code> will be prepended to generated URLs.</li> <li>
<code>#</code> - Allows you to set URL hash fragments.</li> <li>
<code>_ssl</code> - Set to true to convert the generated URL to https, or false to force http.</li> <li>
<code>_name</code> - Name of route. If you have setup named routes you can use this key to specify it.</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Psr\Http\Message\UriInterface|array|string|null</code> <var>$url</var> <span class="label">optional</span> </dt> <dd><p>An array specifying any of the following: 'controller', 'action', 'plugin' additionally, you can provide routed elements or query string parameters. If string it can be name any valid url string or it can be an UriInterface instance.</p></dd> <dt> <code>bool</code> <var>$full</var> <span class="label">optional</span> </dt> <dd><p>If true, the full base URL will be prepended to the result. Default is false.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> When the route name is not found </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_collection"> <var>$_collection</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>The route collection routes would be added to.</p> <h4>Type</h4> <div class="list"> <code>Cake\Routing\RouteCollection</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_defaultExtensions"> <var>$_defaultExtensions</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>Default extensions defined with Router::extensions()</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_defaultRouteClass"> <var>$_defaultRouteClass</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>Default route class.</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_fullBaseUrl"> <var>$_fullBaseUrl</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>Contains the base string that will be applied to all generated URLs For example <code>https://example.com</code></p> <h4>Type</h4> <div class="list"> <code>string|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_initialState"> <var>$_initialState</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>Initial state is populated the first time reload() is called which is at the bottom of this file. This is a cheat as get_class_vars() returns the value of static vars even if they have changed.</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_namedExpressions"> <var>$_namedExpressions</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>Named expressions</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, string&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_request"> <var>$_request</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>Maintains the request object reference.</p> <h4>Type</h4> <div class="list"> <code>Cake\Http\ServerRequest</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_requestContext"> <var>$_requestContext</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>A hash of request context data.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_routePaths"> <var>$_routePaths</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>Cache of parsed route paths</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_urlFilters"> <var>$_urlFilters</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>The stack of URL filters to apply against routing URLs before passing the parameters to the route collection.</p> <h4>Type</h4> <div class="list"> <code>array&lt;callable&gt;</code><br> </div> </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.Routing.Router.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.Routing.Router.html</a>
  </p>
</div>
