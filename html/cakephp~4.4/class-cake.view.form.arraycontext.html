<h1> Class ArrayContext  </h1> <div class="description"> <p>Provides a basic array based context provider for FormHelper.</p> <p>This adapter is useful in testing or when you have forms backed by simple array data structures.</p> <p>Important keys:</p> <ul> <li>
<code>data</code> Holds the current values supplied for the fields.</li> <li>
<code>defaults</code> The default values for fields. These values will be used when there is no data set. Data should be nested following the dot separated paths you access your fields with.</li> <li>
<code>required</code> A nested array of fields, relationships and boolean flags to indicate a field is required. The value can also be a string to be used as the required error message</li> <li>
<code>schema</code> An array of data that emulate the column structures that Cake\Database\Schema\Schema uses. This array allows you to control the inferred type for fields and allows auto generation of attributes like maxlength, step and other HTML attributes. If you want primary key/id detection to work. Make sure you have provided a <code>_constraints</code> array that contains <code>primary</code>. See below for an example.</li> <li>
<code>errors</code> An array of validation errors. Errors should be nested following the dot separated paths you access your fields with.</li> </ul> <h3>Example</h3> <pre data-language="php">$article = [
   'data' =&gt; [
     'id' =&gt; '1',
     'title' =&gt; 'First post!',
   ],
   'schema' =&gt; [
     'id' =&gt; ['type' =&gt; 'integer'],
     'title' =&gt; ['type' =&gt; 'string', 'length' =&gt; 255],
     '_constraints' =&gt; [
       'primary' =&gt; ['type' =&gt; 'primary', 'columns' =&gt; ['id']]
     ]
   ],
   'defaults' =&gt; [
     'title' =&gt; 'Default title',
   ],
   'required' =&gt; [
     'id' =&gt; true, // will use default required message
     'title' =&gt; 'Please enter a title',
     'body' =&gt; false,
   ],
 ];</pre> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.view.form.html">Cake\View\Form</a><br> </div> <div class="section"> <h2>Constants</h2> <ul class="member-summary constants"> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>array&lt;string&gt;</code> </div> <div class="name col-md-10 col-sm-10"> <b>VALID_ATTRIBUTES</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">['length', 'precision', 'comment', 'null', 'default']</pre> </div>  </li> </ul> </div> <div class="section"> <h2>Property Summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="#%24_context">$_context</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Context data for this object.</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#__construct()">__construct()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Constructor.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#attributes()">attributes()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get an associative array of other attributes for a field name.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#error()">error()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the errors for a given field</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#fieldNames()">fieldNames()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the field names of the top level object in this context.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getMaxLength()">getMaxLength()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get field length from validation</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getPrimaryKey()">getPrimaryKey()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the fields used in the context as a primary key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getRequiredMessage()">getRequiredMessage()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Gets the default "required" error message for a field</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#hasError()">hasError()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Check whether a field has an error attached to it</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#isCreate()">isCreate()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns whether this form is for a create operation.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#isPrimaryKey()">isPrimaryKey()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns true if the passed field name is part of the primary key for this context</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#isRequired()">isRequired()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Check if a given field is 'required'.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#primaryKey()">primaryKey()</a> <span class="label">public</span> <span class="label">deprecated</span> </h5> <div class="description detailed"> <p>Get the fields used in the context as a primary key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#stripNesting()">stripNesting()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Strips out any numeric nesting</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#type()">type()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the abstract field type for a given field name.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#val()">val()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the current value for a given field.</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="__construct()"> __construct()   <span class="label">public</span> </h3> <pre data-language="php">__construct(array $context)</pre> <div class="description detailed"> <p>Constructor.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$context</var> </dt> <dd><p>Context info.</p></dd> </dl> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="attributes()"> attributes()   <span class="label">public</span> </h3> <pre data-language="php">attributes(string $field): array</pre> <div class="description detailed"> <p>Get an associative array of other attributes for a field name.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>A dot separated path to get additional data on.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="error()"> error()   <span class="label">public</span> </h3> <pre data-language="php">error(string $field): array</pre> <div class="description detailed"> <p>Get the errors for a given field</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>A dot separated path to check errors on.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="fieldNames()"> fieldNames()   <span class="label">public</span> </h3> <pre data-language="php">fieldNames(): array&lt;string&gt;</pre> <div class="description detailed"> <p>Get the field names of the top level object in this context.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getMaxLength()"> getMaxLength()   <span class="label">public</span> </h3> <pre data-language="php">getMaxLength(string $field): int|null</pre> <div class="description detailed"> <p>Get field length from validation</p> <p>In this context class, this is simply defined by the 'length' array.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>A dot separated path to check required-ness for.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>int|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getPrimaryKey()"> getPrimaryKey()   <span class="label">public</span> </h3> <pre data-language="php">getPrimaryKey(): array&lt;string&gt;</pre> <div class="description detailed"> <p>Get the fields used in the context as a primary key.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getRequiredMessage()"> getRequiredMessage()   <span class="label">public</span> </h3> <pre data-language="php">getRequiredMessage(string $field): string|null</pre> <div class="description detailed"> <p>Gets the default "required" error message for a field</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt>  </dl> </div> <h4>Returns</h4> <div class="list"> <code>string|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="hasError()"> hasError()   <span class="label">public</span> </h3> <pre data-language="php">hasError(string $field): bool</pre> <div class="description detailed"> <p>Check whether a field has an error attached to it</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>A dot separated path to check errors on.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="isCreate()"> isCreate()   <span class="label">public</span> </h3> <pre data-language="php">isCreate(): bool</pre> <div class="description detailed"> <p>Returns whether this form is for a create operation.</p> <p>For this method to return true, both the primary key constraint must be defined in the 'schema' data, and the 'defaults' data must contain a value for all fields in the key.</p> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="isPrimaryKey()"> isPrimaryKey()   <span class="label">public</span> </h3> <pre data-language="php">isPrimaryKey(string $field): bool</pre> <div class="description detailed"> <p>Returns true if the passed field name is part of the primary key for this context</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt>  </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="isRequired()"> isRequired()   <span class="label">public</span> </h3> <pre data-language="php">isRequired(string $field): bool|null</pre> <div class="description detailed"> <p>Check if a given field is 'required'.</p> <p>In this context class, this is simply defined by the 'required' array.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>A dot separated path to check required-ness for.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="primaryKey()"> primaryKey()   <span class="label">public</span> </h3> <pre data-language="php">primaryKey(): array&lt;string&gt;</pre> <div class="description detailed"> <p>Get the fields used in the context as a primary key.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="stripNesting()"> stripNesting()   <span class="label">protected</span> </h3> <pre data-language="php">stripNesting(string $field): string</pre> <div class="description detailed"> <p>Strips out any numeric nesting</p> <p>For example users.0.age will output as users.age</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>A dot separated path</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="type()"> type()   <span class="label">public</span> </h3> <pre data-language="php">type(string $field): string|null</pre> <div class="description detailed"> <p>Get the abstract field type for a given field name.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>A dot separated path to get a schema type for.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string|null</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Database\TypeFactory </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="val()"> val()   <span class="label">public</span> </h3> <pre data-language="php">val(string $field, array&lt;string, mixed&gt; $options = []): mixed</pre> <div class="description detailed"> <p>Get the current value for a given field.</p> <p>This method will coalesce the current data and the 'defaults' array.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>A dot separated path to the field a value is needed for.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Options:</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_context"> <var>$_context</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Context data for this object.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.View.Form.ArrayContext.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.View.Form.ArrayContext.html</a>
  </p>
</div>
