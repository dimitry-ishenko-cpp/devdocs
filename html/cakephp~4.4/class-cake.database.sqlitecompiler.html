<h1> Class SqliteCompiler  </h1> <div class="description"> <p>Responsible for compiling a Query object into its SQL representation for SQLite</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.database.html">Cake\Database</a><br> </div> <div class="section"> <h2>Property Summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="#%24_deleteParts">$_deleteParts</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;</code></div> <div class="description"> <p>The list of query clauses to traverse for generating a DELETE statement</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_insertParts">$_insertParts</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;</code></div> <div class="description"> <p>The list of query clauses to traverse for generating an INSERT statement</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_orderedUnion">$_orderedUnion</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>SQLite does not support ORDER BY in UNION queries.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_quotedSelectAliases">$_quotedSelectAliases</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Indicate whether aliases in SELECT clause need to be always quoted.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_selectParts">$_selectParts</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;</code></div> <div class="description"> <p>The list of query clauses to traverse for generating a SELECT statement</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_templates">$_templates</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, string&gt;</code></div> <div class="description"> <p>List of sprintf templates that will be used for compiling the SQL for this query. There are some clauses that can be built as just as the direct concatenation of the internal parts, those are listed here.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_updateParts">$_updateParts</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;</code></div> <div class="description"> <p>The list of query clauses to traverse for generating an UPDATE statement</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#_buildFromPart()">_buildFromPart()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Helper function used to build the string representation of a FROM clause, it constructs the tables list taking care of aliasing and converting expression objects to string.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_buildInsertPart()">_buildInsertPart()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Builds the SQL fragment for INSERT INTO.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_buildJoinPart()">_buildJoinPart()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Helper function used to build the string representation of multiple JOIN clauses, it constructs the joins list taking care of aliasing and converting expression objects to string in both the table to be joined and the conditions to be used.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_buildModifierPart()">_buildModifierPart()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Builds the SQL modifier fragment</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_buildSelectPart()">_buildSelectPart()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Helper function used to build the string representation of a SELECT clause, it constructs the field list taking care of aliasing and converting expression objects to string. This function also constructs the DISTINCT clause for the query.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_buildSetPart()">_buildSetPart()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Helper function to generate SQL for SET expressions.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_buildUnionPart()">_buildUnionPart()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Builds the SQL string for all the UNION clauses in this query, when dealing with query objects it will also transform them using their configured SQL dialect.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_buildUpdatePart()">_buildUpdatePart()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Builds the SQL fragment for UPDATE.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_buildValuesPart()">_buildValuesPart()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Builds the SQL fragment for INSERT INTO.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_buildWindowPart()">_buildWindowPart()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Helper function to build the string representation of a window clause.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_buildWithPart()">_buildWithPart()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Helper function used to build the string representation of a <code>WITH</code> clause, it constructs the CTE definitions list and generates the <code>RECURSIVE</code> keyword when required.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_sqlCompiler()">_sqlCompiler()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Returns a callable object that can be used to compile a SQL string representation of this query.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_stringifyExpressions()">_stringifyExpressions()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Helper function used to covert ExpressionInterface objects inside an array into their string representation.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#compile()">compile()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the SQL representation of the provided query after generating the placeholders for the bound values using the provided generator</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="_buildFromPart()"> _buildFromPart()   <span class="label">protected</span> </h3> <pre data-language="php">_buildFromPart(array $parts, Cake\Database\Query $query, Cake\Database\ValueBinder $binder): string</pre> <div class="description detailed"> <p>Helper function used to build the string representation of a FROM clause, it constructs the tables list taking care of aliasing and converting expression objects to string.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$parts</var> </dt> <dd><p>list of tables to be transformed to string</p></dd> <dt> <code>Cake\Database\Query</code> <var>$query</var> </dt> <dd><p>The query that is being compiled</p></dd> <dt> <code>Cake\Database\ValueBinder</code> <var>$binder</var> </dt> <dd><p>Value binder used to generate parameter placeholder</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_buildInsertPart()"> _buildInsertPart()   <span class="label">protected</span> </h3> <pre data-language="php">_buildInsertPart(array $parts, Cake\Database\Query $query, Cake\Database\ValueBinder $binder): string</pre> <div class="description detailed"> <p>Builds the SQL fragment for INSERT INTO.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$parts</var> </dt> <dd><p>The insert parts.</p></dd> <dt> <code>Cake\Database\Query</code> <var>$query</var> </dt> <dd><p>The query that is being compiled</p></dd> <dt> <code>Cake\Database\ValueBinder</code> <var>$binder</var> </dt> <dd><p>Value binder used to generate parameter placeholder</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_buildJoinPart()"> _buildJoinPart()   <span class="label">protected</span> </h3> <pre data-language="php">_buildJoinPart(array $parts, Cake\Database\Query $query, Cake\Database\ValueBinder $binder): string</pre> <div class="description detailed"> <p>Helper function used to build the string representation of multiple JOIN clauses, it constructs the joins list taking care of aliasing and converting expression objects to string in both the table to be joined and the conditions to be used.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$parts</var> </dt> <dd><p>list of joins to be transformed to string</p></dd> <dt> <code>Cake\Database\Query</code> <var>$query</var> </dt> <dd><p>The query that is being compiled</p></dd> <dt> <code>Cake\Database\ValueBinder</code> <var>$binder</var> </dt> <dd><p>Value binder used to generate parameter placeholder</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_buildModifierPart()"> _buildModifierPart()   <span class="label">protected</span> </h3> <pre data-language="php">_buildModifierPart(array $parts, Cake\Database\Query $query, Cake\Database\ValueBinder $binder): string</pre> <div class="description detailed"> <p>Builds the SQL modifier fragment</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$parts</var> </dt> <dd><p>The query modifier parts</p></dd> <dt> <code>Cake\Database\Query</code> <var>$query</var> </dt> <dd><p>The query that is being compiled</p></dd> <dt> <code>Cake\Database\ValueBinder</code> <var>$binder</var> </dt> <dd><p>Value binder used to generate parameter placeholder</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_buildSelectPart()"> _buildSelectPart()   <span class="label">protected</span> </h3> <pre data-language="php">_buildSelectPart(array $parts, Cake\Database\Query $query, Cake\Database\ValueBinder $binder): string</pre> <div class="description detailed"> <p>Helper function used to build the string representation of a SELECT clause, it constructs the field list taking care of aliasing and converting expression objects to string. This function also constructs the DISTINCT clause for the query.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$parts</var> </dt> <dd><p>list of fields to be transformed to string</p></dd> <dt> <code>Cake\Database\Query</code> <var>$query</var> </dt> <dd><p>The query that is being compiled</p></dd> <dt> <code>Cake\Database\ValueBinder</code> <var>$binder</var> </dt> <dd><p>Value binder used to generate parameter placeholder</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_buildSetPart()"> _buildSetPart()   <span class="label">protected</span> </h3> <pre data-language="php">_buildSetPart(array $parts, Cake\Database\Query $query, Cake\Database\ValueBinder $binder): string</pre> <div class="description detailed"> <p>Helper function to generate SQL for SET expressions.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$parts</var> </dt> <dd><p>List of keys &amp; values to set.</p></dd> <dt> <code>Cake\Database\Query</code> <var>$query</var> </dt> <dd><p>The query that is being compiled</p></dd> <dt> <code>Cake\Database\ValueBinder</code> <var>$binder</var> </dt> <dd><p>Value binder used to generate parameter placeholder</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_buildUnionPart()"> _buildUnionPart()   <span class="label">protected</span> </h3> <pre data-language="php">_buildUnionPart(array $parts, Cake\Database\Query $query, Cake\Database\ValueBinder $binder): string</pre> <div class="description detailed"> <p>Builds the SQL string for all the UNION clauses in this query, when dealing with query objects it will also transform them using their configured SQL dialect.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$parts</var> </dt> <dd><p>list of queries to be operated with UNION</p></dd> <dt> <code>Cake\Database\Query</code> <var>$query</var> </dt> <dd><p>The query that is being compiled</p></dd> <dt> <code>Cake\Database\ValueBinder</code> <var>$binder</var> </dt> <dd><p>Value binder used to generate parameter placeholder</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_buildUpdatePart()"> _buildUpdatePart()   <span class="label">protected</span> </h3> <pre data-language="php">_buildUpdatePart(array $parts, Cake\Database\Query $query, Cake\Database\ValueBinder $binder): string</pre> <div class="description detailed"> <p>Builds the SQL fragment for UPDATE.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$parts</var> </dt> <dd><p>The update parts.</p></dd> <dt> <code>Cake\Database\Query</code> <var>$query</var> </dt> <dd><p>The query that is being compiled</p></dd> <dt> <code>Cake\Database\ValueBinder</code> <var>$binder</var> </dt> <dd><p>Value binder used to generate parameter placeholder</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_buildValuesPart()"> _buildValuesPart()   <span class="label">protected</span> </h3> <pre data-language="php">_buildValuesPart(array $parts, Cake\Database\Query $query, Cake\Database\ValueBinder $binder): string</pre> <div class="description detailed"> <p>Builds the SQL fragment for INSERT INTO.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$parts</var> </dt> <dd><p>The values parts.</p></dd> <dt> <code>Cake\Database\Query</code> <var>$query</var> </dt> <dd><p>The query that is being compiled</p></dd> <dt> <code>Cake\Database\ValueBinder</code> <var>$binder</var> </dt> <dd><p>Value binder used to generate parameter placeholder</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_buildWindowPart()"> _buildWindowPart()   <span class="label">protected</span> </h3> <pre data-language="php">_buildWindowPart(array $parts, Cake\Database\Query $query, Cake\Database\ValueBinder $binder): string</pre> <div class="description detailed"> <p>Helper function to build the string representation of a window clause.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$parts</var> </dt> <dd><p>List of windows to be transformed to string</p></dd> <dt> <code>Cake\Database\Query</code> <var>$query</var> </dt> <dd><p>The query that is being compiled</p></dd> <dt> <code>Cake\Database\ValueBinder</code> <var>$binder</var> </dt> <dd><p>Value binder used to generate parameter placeholder</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_buildWithPart()"> _buildWithPart()   <span class="label">protected</span> </h3> <pre data-language="php">_buildWithPart(array $parts, Cake\Database\Query $query, Cake\Database\ValueBinder $binder): string</pre> <div class="description detailed"> <p>Helper function used to build the string representation of a <code>WITH</code> clause, it constructs the CTE definitions list and generates the <code>RECURSIVE</code> keyword when required.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$parts</var> </dt> <dd><p>List of CTEs to be transformed to string</p></dd> <dt> <code>Cake\Database\Query</code> <var>$query</var> </dt> <dd><p>The query that is being compiled</p></dd> <dt> <code>Cake\Database\ValueBinder</code> <var>$binder</var> </dt> <dd><p>Value binder used to generate parameter placeholder</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_sqlCompiler()"> _sqlCompiler()   <span class="label">protected</span> </h3> <pre data-language="php">_sqlCompiler(string $sql, Cake\Database\Query $query, Cake\Database\ValueBinder $binder): Closure</pre> <div class="description detailed"> <p>Returns a callable object that can be used to compile a SQL string representation of this query.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$sql</var> </dt> <dd><p>initial sql string to append to</p></dd> <dt> <code>Cake\Database\Query</code> <var>$query</var> </dt> <dd><p>The query that is being compiled</p></dd> <dt> <code>Cake\Database\ValueBinder</code> <var>$binder</var> </dt> <dd><p>Value binder used to generate parameter placeholder</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Closure</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_stringifyExpressions()"> _stringifyExpressions()   <span class="label">protected</span> </h3> <pre data-language="php">_stringifyExpressions(array $expressions, Cake\Database\ValueBinder $binder, bool $wrap = true): array</pre> <div class="description detailed"> <p>Helper function used to covert ExpressionInterface objects inside an array into their string representation.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$expressions</var> </dt> <dd><p>list of strings and ExpressionInterface objects</p></dd> <dt> <code>Cake\Database\ValueBinder</code> <var>$binder</var> </dt> <dd><p>Value binder used to generate parameter placeholder</p></dd> <dt> <code>bool</code> <var>$wrap</var> <span class="label">optional</span> </dt> <dd><p>Whether to wrap each expression object with parenthesis</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="compile()"> compile()   <span class="label">public</span> </h3> <pre data-language="php">compile(Cake\Database\Query $query, Cake\Database\ValueBinder $binder): string</pre> <div class="description detailed"> <p>Returns the SQL representation of the provided query after generating the placeholders for the bound values using the provided generator</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Database\Query</code> <var>$query</var> </dt> <dd><p>The query that is being compiled</p></dd> <dt> <code>Cake\Database\ValueBinder</code> <var>$binder</var> </dt> <dd><p>Value binder used to generate parameter placeholders</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_deleteParts"> <var>$_deleteParts</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The list of query clauses to traverse for generating a DELETE statement</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_insertParts"> <var>$_insertParts</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The list of query clauses to traverse for generating an INSERT statement</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_orderedUnion"> <var>$_orderedUnion</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>SQLite does not support ORDER BY in UNION queries.</p> <p>Overridden in subclasses.</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_quotedSelectAliases"> <var>$_quotedSelectAliases</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Indicate whether aliases in SELECT clause need to be always quoted.</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_selectParts"> <var>$_selectParts</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The list of query clauses to traverse for generating a SELECT statement</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_templates"> <var>$_templates</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>List of sprintf templates that will be used for compiling the SQL for this query. There are some clauses that can be built as just as the direct concatenation of the internal parts, those are listed here.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, string&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_updateParts"> <var>$_updateParts</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The list of query clauses to traverse for generating an UPDATE statement</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.Database.SqliteCompiler.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.Database.SqliteCompiler.html</a>
  </p>
</div>
