<h1> Class Socket  </h1> <div class="description"> <p>CakePHP network socket connection class.</p> <p>Core base class for network communication.</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.network.html">Cake\Network</a><br> </div> <div class="section"> <h2>Property Summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="#%24_config">$_config</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Runtime config</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_configInitialized">$_configInitialized</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Whether the config property has already been configured with defaults</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_connectionErrors">$_connectionErrors</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;</code></div> <div class="description"> <p>Used to capture connection warnings which can happen when there are SSL errors for example.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_defaultConfig">$_defaultConfig</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Default configuration settings for the socket connection</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_encryptMethods">$_encryptMethods</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, int&gt;</code></div> <div class="description"> <p>Contains all the encryption methods available</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24connected">$connected</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>This boolean contains the current state of the Socket class</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24connection">$connection</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>resource|null</code></div> <div class="description"> <p>Reference to socket connection resource</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24encrypted">$encrypted</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>True if the socket stream is encrypted after a {@link \Cake\Network\Socket::enableCrypto()} call</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24lastError">$lastError</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>This variable contains an array with the last error number (num) and string (str)</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#__construct()">__construct()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Constructor.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__destruct()">__destruct()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Destructor, used to disconnect from current connection.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__get()">__get()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Temporary magic method to allow accessing protected properties.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configDelete()">_configDelete()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Deletes a single config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configRead()">_configRead()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Reads a config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configWrite()">_configWrite()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Writes a config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_connectionErrorHandler()">_connectionErrorHandler()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>socket_stream_client() does not populate errNum, or $errStr when there are connection errors, as in the case of SSL verification failure.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_getStreamSocketClient()">_getStreamSocketClient()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Create a stream socket client. Mock utility.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_setSslContext()">_setSslContext()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Configure the SSL context options.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#address()">address()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the IP address of the current connection.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#addresses()">addresses()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get all IP addresses associated with the current connection.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#configShallow()">configShallow()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#connect()">connect()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Connect the socket to the given host and port.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#context()">context()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the connection context.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#disconnect()">disconnect()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Disconnect the socket from the current connection.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#enableCrypto()">enableCrypto()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Encrypts current stream socket, using one of the defined encryption methods</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getConfig()">getConfig()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the config.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getConfigOrFail()">getConfigOrFail()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the config for this specific key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#host()">host()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the host name of the current connection.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#isConnected()">isConnected()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Check the connection status after calling <code>connect()</code>.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#isEncrypted()">isEncrypted()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Check the encryption status after calling <code>enableCrypto()</code>.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#lastError()">lastError()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the last error as a string.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#read()">read()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Read data from the socket. Returns null if no data is available or no connection could be established.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#reset()">reset()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Resets the state of this Socket instance to it's initial state (before Object::__construct got executed)</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setConfig()">setConfig()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the config.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setLastError()">setLastError()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Set the last error.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#write()">write()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Write data to the socket.</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="__construct()"> __construct()   <span class="label">public</span> </h3> <pre data-language="php">__construct(array&lt;string, mixed&gt; $config = [])</pre> <div class="description detailed"> <p>Constructor.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;</code> <var>$config</var> <span class="label">optional</span> </dt> <dd><p>Socket configuration, which will be merged with the base configuration</p></dd> </dl> </div> <h4>See Also</h4> <div class="list"> \Cake\Network\Socket::$_defaultConfig </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__destruct()"> __destruct()   <span class="label">public</span> </h3> <pre data-language="php">__destruct()</pre> <div class="description detailed"> <p>Destructor, used to disconnect from current connection.</p> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__get()"> __get()   <span class="label">public</span> </h3> <pre data-language="php">__get(string $name): mixed</pre> <div class="description detailed"> <p>Temporary magic method to allow accessing protected properties.</p> <p>Will be removed in 5.0.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>Property name.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configDelete()"> _configDelete()   <span class="label">protected</span> </h3> <pre data-language="php">_configDelete(string $key): void</pre> <div class="description detailed"> <p>Deletes a single config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Key to delete.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configRead()"> _configRead()   <span class="label">protected</span> </h3> <pre data-language="php">_configRead(string|null $key): mixed</pre> <div class="description detailed"> <p>Reads a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> </dt> <dd><p>Key to read.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configWrite()"> _configWrite()   <span class="label">protected</span> </h3> <pre data-language="php">_configWrite(array&lt;string, mixed&gt;|string $key, mixed $value, string|bool $merge = false): void</pre> <div class="description detailed"> <p>Writes a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>Key to write to.</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>Value to write.</p></dd> <dt> <code>string|bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>True to merge recursively, 'shallow' for simple merge, false to overwrite, defaults to false.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_connectionErrorHandler()"> _connectionErrorHandler()   <span class="label">protected</span> </h3> <pre data-language="php">_connectionErrorHandler(int $code, string $message): void</pre> <div class="description detailed"> <p>socket_stream_client() does not populate errNum, or $errStr when there are connection errors, as in the case of SSL verification failure.</p> <p>Instead we need to handle those errors manually.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>int</code> <var>$code</var> </dt> <dd><p>Code number.</p></dd> <dt> <code>string</code> <var>$message</var> </dt> <dd><p>Message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_getStreamSocketClient()"> _getStreamSocketClient()   <span class="label">protected</span> </h3> <pre data-language="php">_getStreamSocketClient(string $remoteSocketTarget, int $errNum, string $errStr, int $timeout, int $connectAs, resource $context): resource|null</pre> <div class="description detailed"> <p>Create a stream socket client. Mock utility.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$remoteSocketTarget</var> </dt> <dd><p>remote socket</p></dd> <dt> <code>int</code> <var>$errNum</var> </dt> <dd><p>error number</p></dd> <dt> <code>string</code> <var>$errStr</var> </dt> <dd><p>error string</p></dd> <dt> <code>int</code> <var>$timeout</var> </dt> <dd><p>timeout</p></dd> <dt> <code>int</code> <var>$connectAs</var> </dt> <dd><p>flags</p></dd> <dt> <code>resource</code> <var>$context</var> </dt> <dd><p>context</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>resource|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_setSslContext()"> _setSslContext()   <span class="label">protected</span> </h3> <pre data-language="php">_setSslContext(string $host): void</pre> <div class="description detailed"> <p>Configure the SSL context options.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$host</var> </dt> <dd><p>The host name being connected to.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="address()"> address()   <span class="label">public</span> </h3> <pre data-language="php">address(): string</pre> <div class="description detailed"> <p>Get the IP address of the current connection.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="addresses()"> addresses()   <span class="label">public</span> </h3> <pre data-language="php">addresses(): array</pre> <div class="description detailed"> <p>Get all IP addresses associated with the current connection.</p> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="configShallow()"> configShallow()   <span class="label">public</span> </h3> <pre data-language="php">configShallow(array&lt;string, mixed&gt;|string $key, mixed|null $value = null): $this</pre> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;configShallow('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;configShallow('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;configShallow(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="connect()"> connect()   <span class="label">public</span> </h3> <pre data-language="php">connect(): bool</pre> <div class="description detailed"> <p>Connect the socket to the given host and port.</p> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Network\Exception\SocketException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="context()"> context()   <span class="label">public</span> </h3> <pre data-language="php">context(): array|null</pre> <div class="description detailed"> <p>Get the connection context.</p> <h4>Returns</h4> <div class="list"> <code>array|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="disconnect()"> disconnect()   <span class="label">public</span> </h3> <pre data-language="php">disconnect(): bool</pre> <div class="description detailed"> <p>Disconnect the socket from the current connection.</p> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="enableCrypto()"> enableCrypto()   <span class="label">public</span> </h3> <pre data-language="php">enableCrypto(string $type, string $clientOrServer = 'client', bool $enable = true): void</pre> <div class="description detailed"> <p>Encrypts current stream socket, using one of the defined encryption methods</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$type</var> </dt> <dd><p>can be one of 'ssl2', 'ssl3', 'ssl23' or 'tls'</p></dd> <dt> <code>string</code> <var>$clientOrServer</var> <span class="label">optional</span> </dt> <dd><p>can be one of 'client', 'server'. Default is 'client'</p></dd> <dt> <code>bool</code> <var>$enable</var> <span class="label">optional</span> </dt> <dd><p>enable or disable encryption. Default is true (enable)</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> When an invalid encryption scheme is chosen.<br> <code>Cake\Network\Exception\SocketException</code><br> When attempting to enable SSL/TLS fails </div> <h4>See Also</h4> <div class="list"> stream_socket_enable_crypto </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfig()"> getConfig()   <span class="label">public</span> </h3> <pre data-language="php">getConfig(string|null $key = null, mixed $default = null): mixed</pre> <div class="description detailed"> <p>Returns the config.</p> <h3>Usage</h3> <p>Reading the whole config:</p> <pre data-language="php">$this-&gt;getConfig();</pre> <p>Reading a specific value:</p> <pre data-language="php">$this-&gt;getConfig('key');</pre> <p>Reading a nested value:</p> <pre data-language="php">$this-&gt;getConfig('some.nested.key');</pre> <p>Reading with default value:</p> <pre data-language="php">$this-&gt;getConfig('some-key', 'default-value');</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>The key to get or null for the whole config.</p></dd> <dt> <code>mixed</code> <var>$default</var> <span class="label">optional</span> </dt> <dd><p>The return value when the key does not exist.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfigOrFail()"> getConfigOrFail()   <span class="label">public</span> </h3> <pre data-language="php">getConfigOrFail(string $key): mixed</pre> <div class="description detailed"> <p>Returns the config for this specific key.</p> <p>The config value for this key must exist, it can never be null.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>The key to get.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="host()"> host()   <span class="label">public</span> </h3> <pre data-language="php">host(): string</pre> <div class="description detailed"> <p>Get the host name of the current connection.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="isConnected()"> isConnected()   <span class="label">public</span> </h3> <pre data-language="php">isConnected(): bool</pre> <div class="description detailed"> <p>Check the connection status after calling <code>connect()</code>.</p> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="isEncrypted()"> isEncrypted()   <span class="label">public</span> </h3> <pre data-language="php">isEncrypted(): bool</pre> <div class="description detailed"> <p>Check the encryption status after calling <code>enableCrypto()</code>.</p> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="lastError()"> lastError()   <span class="label">public</span> </h3> <pre data-language="php">lastError(): string|null</pre> <div class="description detailed"> <p>Get the last error as a string.</p> <h4>Returns</h4> <div class="list"> <code>string|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="read()"> read()   <span class="label">public</span> </h3> <pre data-language="php">read(int $length = 1024): string|null</pre> <div class="description detailed"> <p>Read data from the socket. Returns null if no data is available or no connection could be established.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>int</code> <var>$length</var> <span class="label">optional</span> </dt> <dd><p>Optional buffer length to read; defaults to 1024</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="reset()"> reset()   <span class="label">public</span> </h3> <pre data-language="php">reset(array|null $state = null): void</pre> <div class="description detailed"> <p>Resets the state of this Socket instance to it's initial state (before Object::__construct got executed)</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|null</code> <var>$state</var> <span class="label">optional</span> </dt> <dd><p>Array with key and values to reset</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setConfig()"> setConfig()   <span class="label">public</span> </h3> <pre data-language="php">setConfig(array&lt;string, mixed&gt;|string $key, mixed|null $value = null, bool $merge = true): $this</pre> <div class="description detailed"> <p>Sets the config.</p> <h3>Usage</h3> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;setConfig('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;setConfig('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;setConfig(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> <dt> <code>bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>Whether to recursively merge or overwrite existing config, defaults to true.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> When trying to set a key that is invalid. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setLastError()"> setLastError()   <span class="label">public</span> </h3> <pre data-language="php">setLastError(int|null $errNum, string $errStr): void</pre> <div class="description detailed"> <p>Set the last error.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>int|null</code> <var>$errNum</var> </dt> <dd><p>Error code</p></dd> <dt> <code>string</code> <var>$errStr</var> </dt> <dd><p>Error string</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="write()"> write()   <span class="label">public</span> </h3> <pre data-language="php">write(string $data): int</pre> <div class="description detailed"> <p>Write data to the socket.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$data</var> </dt> <dd><p>The data to write to the socket.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>int</code><br> </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_config"> <var>$_config</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Runtime config</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_configInitialized"> <var>$_configInitialized</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Whether the config property has already been configured with defaults</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_connectionErrors"> <var>$_connectionErrors</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Used to capture connection warnings which can happen when there are SSL errors for example.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_defaultConfig"> <var>$_defaultConfig</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Default configuration settings for the socket connection</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_encryptMethods"> <var>$_encryptMethods</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Contains all the encryption methods available</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, int&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$connected"> <var>$connected</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>This boolean contains the current state of the Socket class</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$connection"> <var>$connection</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Reference to socket connection resource</p> <h4>Type</h4> <div class="list"> <code>resource|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$encrypted"> <var>$encrypted</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>True if the socket stream is encrypted after a {@link \Cake\Network\Socket::enableCrypto()} call</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$lastError"> <var>$lastError</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>This variable contains an array with the last error number (num) and string (str)</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.Network.Socket.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.Network.Socket.html</a>
  </p>
</div>
