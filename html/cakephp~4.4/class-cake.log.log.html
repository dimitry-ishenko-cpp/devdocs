<h1> Class Log  </h1> <div class="description"> <p>Logs messages to configured Log adapters. One or more adapters can be configured using Cake Logs's methods. If you don't configure any adapters, and write to Log, the messages will be ignored.</p> <h3>Configuring Log adapters</h3> <p>You can configure log adapters in your applications <code>config/app.php</code> file. A sample configuration would look like:</p> <pre data-language="php">Log::setConfig('my_log', ['className' =&gt; 'FileLog']);</pre> <p>You can define the className as any fully namespaced classname or use a short hand classname to use loggers in the <code>App\Log\Engine</code> &amp; <code>Cake\Log\Engine</code> namespaces. You can also use plugin short hand to use logging classes provided by plugins.</p> <p>Log adapters are required to implement <code>Psr\Log\LoggerInterface</code>, and there is a built-in base class (<code>Cake\Log\Engine\BaseLog</code>) that can be used for custom loggers.</p> <p>Outside of the <code>className</code> key, all other configuration values will be passed to the logging adapter's constructor as an array.</p> <h3>Logging levels</h3> <p>When configuring loggers, you can set which levels a logger will handle. This allows you to disable debug messages in production for example:</p> <pre data-language="php">Log::setConfig('default', [
    'className' =&gt; 'File',
    'path' =&gt; LOGS,
    'levels' =&gt; ['error', 'critical', 'alert', 'emergency']
]);</pre> <p>The above logger would only log error messages or higher. Any other log messages would be discarded.</p> <h3>Logging scopes</h3> <p>When configuring loggers you can define the active scopes the logger is for. If defined, only the listed scopes will be handled by the logger. If you don't define any scopes an adapter will catch all scopes that match the handled levels.</p> <pre data-language="php">Log::setConfig('payments', [
    'className' =&gt; 'File',
    'scopes' =&gt; ['payment', 'order']
]);</pre> <p>The above logger will only capture log entries made in the <code>payment</code> and <code>order</code> scopes. All other scopes including the undefined scope will be ignored.</p> <h3>Writing to the log</h3> <p>You write to the logs using Log::write(). See its documentation for more information.</p> <h3>Logging Levels</h3> <p>By default Cake Log supports all the log levels defined in RFC 5424. When logging messages you can either use the named methods, or the correct constants with <code>write()</code>:</p> <pre data-language="php">Log::error('Something horrible happened');
Log::write(LOG_ERR, 'Something horrible happened');</pre> <h3>Logging scopes</h3> <p>When logging messages and configuring log adapters, you can specify 'scopes' that the logger will handle. You can think of scopes as subsystems in your application that may require different logging setups. For example in an e-commerce application you may want to handle logged errors in the cart and ordering subsystems differently than the rest of the application. By using scopes you can control logging for each part of your application and also use standard log levels.</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.log.html">Cake\Log</a><br> </div> <div class="section"> <h2>Property Summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="#%24_config">$_config</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Configuration sets.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_dirtyConfig">$_dirtyConfig</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Internal flag for tracking whether configuration has been changed.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_dsnClassMap">$_dsnClassMap</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>array&lt;string, string&gt;</code></div> <div class="description"> <p>An array mapping url schemes to fully qualified Log engine class names</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_levelMap">$_levelMap</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>array&lt;string, int&gt;</code></div> <div class="description"> <p>Log levels as detailed in RFC 5424 <a href="https://tools.ietf.org/html/rfc5424">https://tools.ietf.org/html/rfc5424</a></p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_levels">$_levels</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;</code></div> <div class="description"> <p>Handled log levels</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_registry">$_registry</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>Cake\Log\LogEngineRegistry</code></div> <div class="description"> <p>LogEngineRegistry class</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#_init()">_init()</a> <span class="label">protected</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Initializes registry and configurations</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_loadConfig()">_loadConfig()</a> <span class="label">protected</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Load the defined configuration and create all the defined logging adapters.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#alert()">alert()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Convenience method to log alert messages</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#configured()">configured()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Returns an array containing the named configurations</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#critical()">critical()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Convenience method to log critical messages</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#debug()">debug()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Convenience method to log debug messages</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#drop()">drop()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Drops a constructed adapter.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#emergency()">emergency()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Convenience method to log emergency messages</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#engine()">engine()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Get a logging engine.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#error()">error()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Convenience method to log error messages</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getConfig()">getConfig()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Reads existing configuration.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getConfigOrFail()">getConfigOrFail()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Reads existing configuration for a specific key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getDsnClassMap()">getDsnClassMap()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Returns the DSN class map for this class.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#info()">info()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Convenience method to log info messages</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#levels()">levels()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Gets log levels</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#notice()">notice()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Convenience method to log notice messages</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#parseDsn()">parseDsn()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Parses a DSN into a valid connection configuration</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#reset()">reset()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Reset all the connected loggers. This is useful to do when changing the logging configuration or during testing when you want to reset the internal state of the Log class.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setConfig()">setConfig()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>This method can be used to define logging adapters for an application or read existing configuration.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setDsnClassMap()">setDsnClassMap()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Updates the DSN class map for this class.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#warning()">warning()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Convenience method to log warning messages</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#write()">write()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Writes the given message and type to all the configured log adapters. Configured adapters are passed both the $level and $message variables. $level is one of the following strings/values.</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="_init()"> _init()   <span class="label">protected</span> <span class="label">static</span> </h3> <pre data-language="php">_init(): void</pre> <div class="description detailed"> <p>Initializes registry and configurations</p> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_loadConfig()"> _loadConfig()   <span class="label">protected</span> <span class="label">static</span> </h3> <pre data-language="php">_loadConfig(): void</pre> <div class="description detailed"> <p>Load the defined configuration and create all the defined logging adapters.</p> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="alert()"> alert()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">alert(string $message, array|string $context = []): bool</pre> <div class="description detailed"> <p>Convenience method to log alert messages</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> </dt> <dd><p>log message</p></dd> <dt> <code>array|string</code> <var>$context</var> <span class="label">optional</span> </dt> <dd><p>Additional data to be used for logging the message. The special <code>scope</code> key can be passed to be used for further filtering of the log engines to be used. If a string or a numerically index array is passed, it will be treated as the <code>scope</code> key. See {@link \Cake\Log\Log::setConfig()} for more information on logging scopes.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="configured()"> configured()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">configured(): array&lt;string&gt;</pre> <div class="description detailed"> <p>Returns an array containing the named configurations</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="critical()"> critical()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">critical(string $message, array|string $context = []): bool</pre> <div class="description detailed"> <p>Convenience method to log critical messages</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> </dt> <dd><p>log message</p></dd> <dt> <code>array|string</code> <var>$context</var> <span class="label">optional</span> </dt> <dd><p>Additional data to be used for logging the message. The special <code>scope</code> key can be passed to be used for further filtering of the log engines to be used. If a string or a numerically index array is passed, it will be treated as the <code>scope</code> key. See {@link \Cake\Log\Log::setConfig()} for more information on logging scopes.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="debug()"> debug()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">debug(string $message, array|string $context = []): bool</pre> <div class="description detailed"> <p>Convenience method to log debug messages</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> </dt> <dd><p>log message</p></dd> <dt> <code>array|string</code> <var>$context</var> <span class="label">optional</span> </dt> <dd><p>Additional data to be used for logging the message. The special <code>scope</code> key can be passed to be used for further filtering of the log engines to be used. If a string or a numerically index array is passed, it will be treated as the <code>scope</code> key. See {@link \Cake\Log\Log::setConfig()} for more information on logging scopes.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="drop()"> drop()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">drop(string $config): bool</pre> <div class="description detailed"> <p>Drops a constructed adapter.</p> <p>If you wish to modify an existing configuration, you should drop it, change configuration and then re-add it.</p> <p>If the implementing objects supports a <code>$_registry</code> object the named configuration will also be unloaded from the registry.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$config</var> </dt> <dd><p>An existing configuration you wish to remove.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="emergency()"> emergency()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">emergency(string $message, array|string $context = []): bool</pre> <div class="description detailed"> <p>Convenience method to log emergency messages</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> </dt> <dd><p>log message</p></dd> <dt> <code>array|string</code> <var>$context</var> <span class="label">optional</span> </dt> <dd><p>Additional data to be used for logging the message. The special <code>scope</code> key can be passed to be used for further filtering of the log engines to be used. If a string or a numerically index array is passed, it will be treated as the <code>scope</code> key. See {@link \Cake\Log\Log::setConfig()} for more information on logging scopes.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="engine()"> engine()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">engine(string $name): Psr\Log\LoggerInterface|null</pre> <div class="description detailed"> <p>Get a logging engine.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>Key name of a configured adapter to get.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Psr\Log\LoggerInterface|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="error()"> error()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">error(string $message, array|string $context = []): bool</pre> <div class="description detailed"> <p>Convenience method to log error messages</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> </dt> <dd><p>log message</p></dd> <dt> <code>array|string</code> <var>$context</var> <span class="label">optional</span> </dt> <dd><p>Additional data to be used for logging the message. The special <code>scope</code> key can be passed to be used for further filtering of the log engines to be used. If a string or a numerically index array is passed, it will be treated as the <code>scope</code> key. See {@link \Cake\Log\Log::setConfig()} for more information on logging scopes.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfig()"> getConfig()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">getConfig(string $key): mixed|null</pre> <div class="description detailed"> <p>Reads existing configuration.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>The name of the configuration.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfigOrFail()"> getConfigOrFail()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">getConfigOrFail(string $key): mixed</pre> <div class="description detailed"> <p>Reads existing configuration for a specific key.</p> <p>The config value for this key must exist, it can never be null.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>The name of the configuration.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> If value does not exist. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getDsnClassMap()"> getDsnClassMap()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">getDsnClassMap(): array&lt;string, string&gt;</pre> <div class="description detailed"> <p>Returns the DSN class map for this class.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string, string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="info()"> info()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">info(string $message, array|string $context = []): bool</pre> <div class="description detailed"> <p>Convenience method to log info messages</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> </dt> <dd><p>log message</p></dd> <dt> <code>array|string</code> <var>$context</var> <span class="label">optional</span> </dt> <dd><p>Additional data to be used for logging the message. The special <code>scope</code> key can be passed to be used for further filtering of the log engines to be used. If a string or a numerically indexed array is passed, it will be treated as the <code>scope</code> key. See {@link \Cake\Log\Log::setConfig()} for more information on logging scopes.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="levels()"> levels()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">levels(): array&lt;string&gt;</pre> <div class="description detailed"> <p>Gets log levels</p> <p>Call this method to obtain current level configuration.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="notice()"> notice()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">notice(string $message, array|string $context = []): bool</pre> <div class="description detailed"> <p>Convenience method to log notice messages</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> </dt> <dd><p>log message</p></dd> <dt> <code>array|string</code> <var>$context</var> <span class="label">optional</span> </dt> <dd><p>Additional data to be used for logging the message. The special <code>scope</code> key can be passed to be used for further filtering of the log engines to be used. If a string or a numerically index array is passed, it will be treated as the <code>scope</code> key. See {@link \Cake\Log\Log::setConfig()} for more information on logging scopes.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="parseDsn()"> parseDsn()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">parseDsn(string $dsn): array&lt;string, mixed&gt;</pre> <div class="description detailed"> <p>Parses a DSN into a valid connection configuration</p> <p>This method allows setting a DSN using formatting similar to that used by PEAR::DB. The following is an example of its usage:</p> <pre data-language="php">$dsn = 'mysql://user:pass@localhost/database?';
$config = ConnectionManager::parseDsn($dsn);

$dsn = 'Cake\Log\Engine\FileLog://?types=notice,info,debug&amp;file=debug&amp;path=LOGS';
$config = Log::parseDsn($dsn);

$dsn = 'smtp://user:secret@localhost:25?timeout=30&amp;client=null&amp;tls=null';
$config = Email::parseDsn($dsn);

$dsn = 'file:///?className=\My\Cache\Engine\FileEngine';
$config = Cache::parseDsn($dsn);

$dsn = 'File://?prefix=myapp_cake_core_&amp;serialize=true&amp;duration=+2 minutes&amp;path=/tmp/persistent/';
$config = Cache::parseDsn($dsn);</pre> <p>For all classes, the value of <code>scheme</code> is set as the value of both the <code>className</code> unless they have been otherwise specified.</p> <p>Note that querystring arguments are also parsed and set as values in the returned configuration.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$dsn</var> </dt> <dd><p>The DSN string to convert to a configuration array</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> If not passed a string, or passed an invalid string </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="reset()"> reset()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">reset(): void</pre> <div class="description detailed"> <p>Reset all the connected loggers. This is useful to do when changing the logging configuration or during testing when you want to reset the internal state of the Log class.</p> <p>Resets the configured logging adapters, as well as any custom logging levels. This will also clear the configuration data.</p> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setConfig()"> setConfig()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">setConfig(array&lt;string, mixed&gt;|string $key, object|array&lt;string, mixed&gt;|null $config = null): void</pre> <div class="description detailed"> <p>This method can be used to define logging adapters for an application or read existing configuration.</p> <p>To change an adapter's configuration at runtime, first drop the adapter and then reconfigure it.</p> <p>Loggers will not be constructed until the first log message is written.</p> <h3>Usage</h3> <p>Setting a cache engine up.</p> <pre data-language="php">Log::setConfig('default', $settings);</pre> <p>Injecting a constructed adapter in:</p> <pre data-language="php">Log::setConfig('default', $instance);</pre> <p>Using a factory function to get an adapter:</p> <pre data-language="php">Log::setConfig('default', function () { return new FileLog(); });</pre> <p>Configure multiple adapters at once:</p> <pre data-language="php">Log::setConfig($arrayOfConfig);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>The name of the logger config, or an array of multiple configs.</p></dd> <dt> <code>object|array&lt;string, mixed&gt;|null</code> <var>$config</var> <span class="label">optional</span> </dt> <dd><p>An array of name =&gt; config data for adapter.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>BadMethodCallException</code><br> When trying to modify an existing config. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setDsnClassMap()"> setDsnClassMap()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">setDsnClassMap(array&lt;string, string&gt; $map): void</pre> <div class="description detailed"> <p>Updates the DSN class map for this class.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, string&gt;</code> <var>$map</var> </dt> <dd><p>Additions/edits to the class map to apply.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="warning()"> warning()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">warning(string $message, array|string $context = []): bool</pre> <div class="description detailed"> <p>Convenience method to log warning messages</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> </dt> <dd><p>log message</p></dd> <dt> <code>array|string</code> <var>$context</var> <span class="label">optional</span> </dt> <dd><p>Additional data to be used for logging the message. The special <code>scope</code> key can be passed to be used for further filtering of the log engines to be used. If a string or a numerically index array is passed, it will be treated as the <code>scope</code> key. See {@link \Cake\Log\Log::setConfig()} for more information on logging scopes.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="write()"> write()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">write(string|int $level, string $message, array|string $context = []): bool</pre> <div class="description detailed"> <p>Writes the given message and type to all the configured log adapters. Configured adapters are passed both the $level and $message variables. $level is one of the following strings/values.</p> <h3>Levels:</h3> <ul> <li>
<code>LOG_EMERG</code> =&gt; 'emergency',</li> <li>
<code>LOG_ALERT</code> =&gt; 'alert',</li> <li>
<code>LOG_CRIT</code> =&gt; 'critical',</li> <li>
<code>LOG_ERR</code> =&gt; 'error',</li> <li>
<code>LOG_WARNING</code> =&gt; 'warning',</li> <li>
<code>LOG_NOTICE</code> =&gt; 'notice',</li> <li>
<code>LOG_INFO</code> =&gt; 'info',</li> <li>
<code>LOG_DEBUG</code> =&gt; 'debug',</li> </ul> <h3>Basic usage</h3> <p>Write a 'warning' message to the logs:</p> <pre data-language="php">Log::write('warning', 'Stuff is broken here');</pre> <h3>Using scopes</h3> <p>When writing a log message you can define one or many scopes for the message. This allows you to handle messages differently based on application section/feature.</p> <pre data-language="php">Log::write('warning', 'Payment failed', ['scope' =&gt; 'payment']);</pre> <p>When configuring loggers you can configure the scopes a particular logger will handle. When using scopes, you must ensure that the level of the message, and the scope of the message intersect with the defined levels &amp; scopes for a logger.</p> <h3>Unhandled log messages</h3> <p>If no configured logger can handle a log message (because of level or scope restrictions) then the logged message will be ignored and silently dropped. You can check if this has happened by inspecting the return of write(). If false the message was not handled.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|int</code> <var>$level</var> </dt> <dd><p>The severity level of the message being written. The value must be an integer or string matching a known level.</p></dd> <dt> <code>string</code> <var>$message</var> </dt> <dd><p>Message content to log</p></dd> <dt> <code>array|string</code> <var>$context</var> <span class="label">optional</span> </dt> <dd><p>Additional data to be used for logging the message. The special <code>scope</code> key can be passed to be used for further filtering of the log engines to be used. If a string or a numerically index array is passed, it will be treated as the <code>scope</code> key. See {@link \Cake\Log\Log::setConfig()} for more information on logging scopes.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> If invalid level is passed. </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_config"> <var>$_config</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>Configuration sets.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_dirtyConfig"> <var>$_dirtyConfig</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>Internal flag for tracking whether configuration has been changed.</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_dsnClassMap"> <var>$_dsnClassMap</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>An array mapping url schemes to fully qualified Log engine class names</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, string&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_levelMap"> <var>$_levelMap</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>Log levels as detailed in RFC 5424 <a href="https://tools.ietf.org/html/rfc5424">https://tools.ietf.org/html/rfc5424</a></p> <h4>Type</h4> <div class="list"> <code>array&lt;string, int&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_levels"> <var>$_levels</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>Handled log levels</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_registry"> <var>$_registry</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>LogEngineRegistry class</p> <h4>Type</h4> <div class="list"> <code>Cake\Log\LogEngineRegistry</code><br> </div> </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.Log.Log.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.Log.Log.html</a>
  </p>
</div>
