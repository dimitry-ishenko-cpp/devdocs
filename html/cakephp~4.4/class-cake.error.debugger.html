<h1> Class Debugger  </h1> <div class="description"> <p>Provide custom logging and error handling.</p> <p>Debugger extends PHP's default error handling and gives simpler to use more powerful interfaces.</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.error.html">Cake\Error</a><br> <b>Link:</b> https://book.cakephp.org/4/en/development/debugging.html#namespace-Cake\Error<br> </div> <div class="section"> <h2>Property Summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="#%24_config">$_config</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Runtime config</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_configInitialized">$_configInitialized</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Whether the config property has already been configured with defaults</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_data">$_data</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>Holds current output data when outputFormat is false.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_defaultConfig">$_defaultConfig</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Default configuration</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_outputFormat">$_outputFormat</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>The current output format.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_templates">$_templates</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, array&lt;string, mixed&gt;&gt;</code></div> <div class="description"> <p>Templates used when generating trace or error strings. Can be global or indexed by the format value used in $_outputFormat.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24editors">$editors</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, string|callable&gt;</code></div> <div class="description"> <p>A map of editors to their link templates.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24renderers">$renderers</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, class-string&gt;</code></div> <div class="description"> <p>Mapping for error renderers.</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#__construct()">__construct()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Constructor.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configDelete()">_configDelete()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Deletes a single config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configRead()">_configRead()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Reads a config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configWrite()">_configWrite()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Writes a config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_highlight()">_highlight()</a> <span class="label">protected</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Wraps the highlight_string function in case the server API does not implement the function as it is the case of the HipHop interpreter</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#addEditor()">addEditor()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Add an editor link format</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#addFormat()">addFormat()</a> <span class="label">public</span> <span class="label">static</span> <span class="label">deprecated</span> </h5> <div class="description detailed"> <p>Add an output format or update a format in Debugger.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#addRenderer()">addRenderer()</a> <span class="label">public</span> <span class="label">static</span> <span class="label">deprecated</span> </h5> <div class="description detailed"> <p>Add a renderer to the current instance.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#checkSecurityKeys()">checkSecurityKeys()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Verifies that the application's salt and cipher seed value has been changed from the default value.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#configInstance()">configInstance()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Read or write configuration options for the Debugger instance.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#configShallow()">configShallow()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#dump()">dump()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Recursively formats and outputs the contents of the supplied variable.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#editorUrl()">editorUrl()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Get a formatted URL for the active editor.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#excerpt()">excerpt()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Grabs an excerpt from a file and highlights a given line of code.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#export()">export()</a> <span class="label">protected</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Protected export function used to keep track of indentation and recursion.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#exportArray()">exportArray()</a> <span class="label">protected</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Export an array type object. Filters out keys used in datasource configuration.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#exportObject()">exportObject()</a> <span class="label">protected</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Handles object to node conversion.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#exportVar()">exportVar()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Converts a variable to a string for debug output.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#exportVarAsNodes()">exportVarAsNodes()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Convert the variable to the internal node tree.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#exportVarAsPlainText()">exportVarAsPlainText()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Converts a variable to a plain text string.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#formatHtmlMessage()">formatHtmlMessage()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Format an exception message to be HTML formatted.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#formatTrace()">formatTrace()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Formats a stack trace based on the supplied options.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getConfig()">getConfig()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the config.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getConfigOrFail()">getConfigOrFail()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the config for this specific key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getExportFormatter()">getExportFormatter()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the configured export formatter or infer one based on the environment.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getInstance()">getInstance()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Returns a reference to the Debugger singleton object instance.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getOutputFormat()">getOutputFormat()</a> <span class="label">public</span> <span class="label">static</span> <span class="label">deprecated</span> </h5> <div class="description detailed"> <p>Get the output format for Debugger error rendering.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getType()">getType()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Get the type of the given variable. Will return the class name for objects.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#log()">log()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Creates an entry in the log file. The log entry will contain a stack trace from where it was called. as well as export the variable using exportVar. By default, the log is written to the debug log.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#outputError()">outputError()</a> <span class="label">public</span> <span class="label">deprecated</span> </h5> <div class="description detailed"> <p>Takes a processed array of data from an error and displays it in the chosen format.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#outputMask()">outputMask()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Reads the current output masking.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#printVar()">printVar()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Prints out debug information about given variable.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setConfig()">setConfig()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the config.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setEditor()">setEditor()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Choose the editor link style you want to use.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setOutputFormat()">setOutputFormat()</a> <span class="label">public</span> <span class="label">static</span> <span class="label">deprecated</span> </h5> <div class="description detailed"> <p>Set the output format for Debugger error rendering.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setOutputMask()">setOutputMask()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Sets configurable masking of debugger output by property name and array key names.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#trace()">trace()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Outputs a stack trace based on the supplied options.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#trimPath()">trimPath()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Shortens file paths by replacing the application base path with 'APP', and the CakePHP core path with 'CORE'.</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="__construct()"> __construct()   <span class="label">public</span> </h3> <pre data-language="php">__construct()</pre> <div class="description detailed"> <p>Constructor.</p> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configDelete()"> _configDelete()   <span class="label">protected</span> </h3> <pre data-language="php">_configDelete(string $key): void</pre> <div class="description detailed"> <p>Deletes a single config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Key to delete.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configRead()"> _configRead()   <span class="label">protected</span> </h3> <pre data-language="php">_configRead(string|null $key): mixed</pre> <div class="description detailed"> <p>Reads a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> </dt> <dd><p>Key to read.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configWrite()"> _configWrite()   <span class="label">protected</span> </h3> <pre data-language="php">_configWrite(array&lt;string, mixed&gt;|string $key, mixed $value, string|bool $merge = false): void</pre> <div class="description detailed"> <p>Writes a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>Key to write to.</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>Value to write.</p></dd> <dt> <code>string|bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>True to merge recursively, 'shallow' for simple merge, false to overwrite, defaults to false.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_highlight()"> _highlight()   <span class="label">protected</span> <span class="label">static</span> </h3> <pre data-language="php">_highlight(string $str): string</pre> <div class="description detailed"> <p>Wraps the highlight_string function in case the server API does not implement the function as it is the case of the HipHop interpreter</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$str</var> </dt> <dd><p>The string to convert.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="addEditor()"> addEditor()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">addEditor(string $name, Closure|string $template): void</pre> <div class="description detailed"> <p>Add an editor link format</p> <p>Template strings can use the <code>{file}</code> and <code>{line}</code> placeholders. Closures templates must return a string, and accept two parameters: The file and line.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The name of the editor.</p></dd> <dt> <code>Closure|string</code> <var>$template</var> </dt> <dd><p>The string template or closure</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="addFormat()"> addFormat()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">addFormat(string $format, array $strings): array</pre> <div class="description detailed"> <p>Add an output format or update a format in Debugger.</p> <pre data-language="php">Debugger::addFormat('custom', $data);</pre> <p>Where $data is an array of strings that use Text::insert() variable replacement. The template vars should be in a <code>{:id}</code> style. An error formatter can have the following keys:</p> <ul> <li>'error' - Used for the container for the error message. Gets the following template variables: <code>id</code>, <code>error</code>, <code>code</code>, <code>description</code>, <code>path</code>, <code>line</code>, <code>links</code>, <code>info</code>
</li> <li>'info' - A combination of <code>code</code>, <code>context</code> and <code>trace</code>. Will be set with the contents of the other template keys.</li> <li>'trace' - The container for a stack trace. Gets the following template variables: <code>trace</code>
</li> <li>'context' - The container element for the context variables. Gets the following templates: <code>id</code>, <code>context</code>
</li> <li>'links' - An array of HTML links that are used for creating links to other resources. Typically this is used to create javascript links to open other sections. Link keys, are: <code>code</code>, <code>context</code>, <code>help</code>. See the JS output format for an example.</li> <li>'traceLine' - Used for creating lines in the stacktrace. Gets the following template variables: <code>reference</code>, <code>path</code>, <code>line</code>
</li> </ul> <p>Alternatively if you want to use a custom callback to do all the formatting, you can use the callback key, and provide a callable:</p> <pre data-language="php">Debugger::addFormat('custom', ['callback' =&gt; [$foo, 'outputError']];</pre> <p>The callback can expect two parameters. The first is an array of all the error data. The second contains the formatted strings generated using the other template strings. Keys like <code>info</code>, <code>links</code>, <code>code</code>, <code>context</code> and <code>trace</code> will be present depending on the other templates in the format type.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$format</var> </dt> <dd><p>Format to use, including 'js' for JavaScript-enhanced HTML, 'html' for straight HTML output, or 'txt' for unformatted text.</p></dd> <dt> <code>array</code> <var>$strings</var> </dt> <dd><p>Template strings, or a callback to be used for the output format.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="addRenderer()"> addRenderer()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">addRenderer(string $name, class-stringCake\Error\ErrorRendererInterface&gt; $class): void</pre> <div class="description detailed"> <p>Add a renderer to the current instance.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The alias for the the renderer.</p></dd> <dt> <code>class-stringCake\Error\ErrorRendererInterface&gt;</code> <var>$class</var> </dt> <dd><p>The classname of the renderer to use.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="checkSecurityKeys()"> checkSecurityKeys()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">checkSecurityKeys(): void</pre> <div class="description detailed"> <p>Verifies that the application's salt and cipher seed value has been changed from the default value.</p> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="configInstance()"> configInstance()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">configInstance(array&lt;string, mixed&gt;|string|null $key = null, mixed|null $value = null, bool $merge = true): mixed</pre> <div class="description detailed"> <p>Read or write configuration options for the Debugger instance.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string|null</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>The key to get/set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> <dt> <code>bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>Whether to recursively merge or overwrite existing config, defaults to true.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> When trying to set a key that is invalid. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="configShallow()"> configShallow()   <span class="label">public</span> </h3> <pre data-language="php">configShallow(array&lt;string, mixed&gt;|string $key, mixed|null $value = null): $this</pre> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;configShallow('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;configShallow('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;configShallow(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="dump()"> dump()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">dump(mixed $var, int $maxDepth = 3): void</pre> <div class="description detailed"> <p>Recursively formats and outputs the contents of the supplied variable.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$var</var> </dt> <dd><p>The variable to dump.</p></dd> <dt> <code>int</code> <var>$maxDepth</var> <span class="label">optional</span> </dt> <dd><p>The depth to output to. Defaults to 3.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Error\Debugger::exportVar() </div> <h4>Links</h4> <div class="list"> https://book.cakephp.org/4/en/development/debugging.html#outputting-values<br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="editorUrl()"> editorUrl()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">editorUrl(string $file, int $line): string</pre> <div class="description detailed"> <p>Get a formatted URL for the active editor.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$file</var> </dt> <dd><p>The file to create a link for.</p></dd> <dt> <code>int</code> <var>$line</var> </dt> <dd><p>The line number to create a link for.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="excerpt()"> excerpt()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">excerpt(string $file, int $line, int $context = 2): array&lt;string&gt;</pre> <div class="description detailed"> <p>Grabs an excerpt from a file and highlights a given line of code.</p> <p>Usage:</p> <pre data-language="php">Debugger::excerpt('/path/to/file', 100, 4);</pre> <p>The above would return an array of 8 items. The 4th item would be the provided line, and would be wrapped in <code>&lt;span class="code-highlight"&gt;&lt;/span&gt;</code>. All the lines are processed with highlight_string() as well, so they have basic PHP syntax highlighting applied.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$file</var> </dt> <dd><p>Absolute path to a PHP file.</p></dd> <dt> <code>int</code> <var>$line</var> </dt> <dd><p>Line number to highlight.</p></dd> <dt> <code>int</code> <var>$context</var> <span class="label">optional</span> </dt> <dd><p>Number of lines of context to extract above and below $line.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> <h4>See Also</h4> <div class="list"> https://secure.php.net/highlight_string </div> <h4>Links</h4> <div class="list"> https://book.cakephp.org/4/en/development/debugging.html#getting-an-excerpt-from-a-file<br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="export()"> export()   <span class="label">protected</span> <span class="label">static</span> </h3> <pre data-language="php">export(mixed $var, Cake\Error\Debug\DebugContext $context): Cake\Error\Debug\NodeInterface</pre> <div class="description detailed"> <p>Protected export function used to keep track of indentation and recursion.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$var</var> </dt> <dd><p>The variable to dump.</p></dd> <dt> <code>Cake\Error\Debug\DebugContext</code> <var>$context</var> </dt> <dd><p>Dump context</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Error\Debug\NodeInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="exportArray()"> exportArray()   <span class="label">protected</span> <span class="label">static</span> </h3> <pre data-language="php">exportArray(array $var, Cake\Error\Debug\DebugContext $context): Cake\Error\Debug\ArrayNode</pre> <div class="description detailed"> <p>Export an array type object. Filters out keys used in datasource configuration.</p> <p>The following keys are replaced with ***'s</p> <ul> <li>password</li> <li>login</li> <li>host</li> <li>database</li> <li>port</li> <li>prefix</li> <li>schema</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$var</var> </dt> <dd><p>The array to export.</p></dd> <dt> <code>Cake\Error\Debug\DebugContext</code> <var>$context</var> </dt> <dd><p>The current dump context.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Error\Debug\ArrayNode</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="exportObject()"> exportObject()   <span class="label">protected</span> <span class="label">static</span> </h3> <pre data-language="php">exportObject(object $var, Cake\Error\Debug\DebugContext $context): Cake\Error\Debug\NodeInterface</pre> <div class="description detailed"> <p>Handles object to node conversion.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>object</code> <var>$var</var> </dt> <dd><p>Object to convert.</p></dd> <dt> <code>Cake\Error\Debug\DebugContext</code> <var>$context</var> </dt> <dd><p>The dump context.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Error\Debug\NodeInterface</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Error\Debugger::exportVar() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="exportVar()"> exportVar()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">exportVar(mixed $var, int $maxDepth = 3): string</pre> <div class="description detailed"> <p>Converts a variable to a string for debug output.</p> <p><em>Note:</em> The following keys will have their contents replaced with <code>*****</code>:</p> <ul> <li>password <ul> <li>login</li> <li>host</li> <li>database</li> <li>port</li> <li>prefix</li> <li>schema</li> </ul>
</li> </ul> <p>This is done to protect database credentials, which could be accidentally shown in an error message if CakePHP is deployed in development mode.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$var</var> </dt> <dd><p>Variable to convert.</p></dd> <dt> <code>int</code> <var>$maxDepth</var> <span class="label">optional</span> </dt> <dd><p>The depth to output to. Defaults to 3.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="exportVarAsNodes()"> exportVarAsNodes()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">exportVarAsNodes(mixed $var, int $maxDepth = 3): Cake\Error\Debug\NodeInterface</pre> <div class="description detailed"> <p>Convert the variable to the internal node tree.</p> <p>The node tree can be manipulated and serialized more easily than many object graphs can.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$var</var> </dt> <dd><p>Variable to convert.</p></dd> <dt> <code>int</code> <var>$maxDepth</var> <span class="label">optional</span> </dt> <dd><p>The depth to generate nodes to. Defaults to 3.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Error\Debug\NodeInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="exportVarAsPlainText()"> exportVarAsPlainText()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">exportVarAsPlainText(mixed $var, int $maxDepth = 3): string</pre> <div class="description detailed"> <p>Converts a variable to a plain text string.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$var</var> </dt> <dd><p>Variable to convert.</p></dd> <dt> <code>int</code> <var>$maxDepth</var> <span class="label">optional</span> </dt> <dd><p>The depth to output to. Defaults to 3.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="formatHtmlMessage()"> formatHtmlMessage()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">formatHtmlMessage(string $message): string</pre> <div class="description detailed"> <p>Format an exception message to be HTML formatted.</p> <p>Does the following formatting operations:</p> <ul> <li>HTML escape the message.</li> <li>Convert <code>bool</code> into <code>&lt;code&gt;bool&lt;/code&gt;</code>
</li> <li>Convert newlines into <code>&lt;br /&gt;</code>
</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> </dt> <dd><p>The string message to format.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="formatTrace()"> formatTrace()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">formatTrace(Throwable|array $backtrace, array&lt;string, mixed&gt; $options = []): array|string</pre> <div class="description detailed"> <p>Formats a stack trace based on the supplied options.</p> <h3>Options</h3> <ul> <li>
<code>depth</code> - The number of stack frames to return. Defaults to 999</li> <li>
<code>format</code> - The format you want the return. Defaults to the currently selected format. If format is 'array' or 'points' the return will be an array.</li> <li>
<code>args</code> - Should arguments for functions be shown? If true, the arguments for each method call will be displayed.</li> <li>
<code>start</code> - The stack frame to start generating a trace from. Defaults to 0</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Throwable|array</code> <var>$backtrace</var> </dt> <dd><p>Trace as array or an exception object.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Format for outputting stack trace.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array|string</code><br> </div> <h4>Links</h4> <div class="list"> https://book.cakephp.org/4/en/development/debugging.html#generating-stack-traces<br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfig()"> getConfig()   <span class="label">public</span> </h3> <pre data-language="php">getConfig(string|null $key = null, mixed $default = null): mixed</pre> <div class="description detailed"> <p>Returns the config.</p> <h3>Usage</h3> <p>Reading the whole config:</p> <pre data-language="php">$this-&gt;getConfig();</pre> <p>Reading a specific value:</p> <pre data-language="php">$this-&gt;getConfig('key');</pre> <p>Reading a nested value:</p> <pre data-language="php">$this-&gt;getConfig('some.nested.key');</pre> <p>Reading with default value:</p> <pre data-language="php">$this-&gt;getConfig('some-key', 'default-value');</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>The key to get or null for the whole config.</p></dd> <dt> <code>mixed</code> <var>$default</var> <span class="label">optional</span> </dt> <dd><p>The return value when the key does not exist.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfigOrFail()"> getConfigOrFail()   <span class="label">public</span> </h3> <pre data-language="php">getConfigOrFail(string $key): mixed</pre> <div class="description detailed"> <p>Returns the config for this specific key.</p> <p>The config value for this key must exist, it can never be null.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>The key to get.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getExportFormatter()"> getExportFormatter()   <span class="label">public</span> </h3> <pre data-language="php">getExportFormatter(): Cake\Error\Debug\FormatterInterface</pre> <div class="description detailed"> <p>Get the configured export formatter or infer one based on the environment.</p> <h4>Returns</h4> <div class="list"> <code>Cake\Error\Debug\FormatterInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getInstance()"> getInstance()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">getInstance(string|null $class = null): static</pre> <div class="description detailed"> <p>Returns a reference to the Debugger singleton object instance.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$class</var> <span class="label">optional</span> </dt> <dd><p>Class name.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>static</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getOutputFormat()"> getOutputFormat()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">getOutputFormat(): string</pre> <div class="description detailed"> <p>Get the output format for Debugger error rendering.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getType()"> getType()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">getType(mixed $var): string</pre> <div class="description detailed"> <p>Get the type of the given variable. Will return the class name for objects.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$var</var> </dt> <dd><p>The variable to get the type of.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="log()"> log()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">log(mixed $var, string|int $level = 'debug', int $maxDepth = 3): void</pre> <div class="description detailed"> <p>Creates an entry in the log file. The log entry will contain a stack trace from where it was called. as well as export the variable using exportVar. By default, the log is written to the debug log.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$var</var> </dt> <dd><p>Variable or content to log.</p></dd> <dt> <code>string|int</code> <var>$level</var> <span class="label">optional</span> </dt> <dd><p>Type of log to use. Defaults to 'debug'.</p></dd> <dt> <code>int</code> <var>$maxDepth</var> <span class="label">optional</span> </dt> <dd><p>The depth to output to. Defaults to 3.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="outputError()"> outputError()   <span class="label">public</span> </h3> <pre data-language="php">outputError(array $data): void</pre> <div class="description detailed"> <p>Takes a processed array of data from an error and displays it in the chosen format.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$data</var> </dt> <dd><p>Data to output.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="outputMask()"> outputMask()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">outputMask(): array&lt;string, string&gt;</pre> <div class="description detailed"> <p>Reads the current output masking.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string, string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="printVar()"> printVar()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">printVar(mixed $var, array $location = [], bool|null $showHtml = null): void</pre> <div class="description detailed"> <p>Prints out debug information about given variable.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$var</var> </dt> <dd><p>Variable to show debug information for.</p></dd> <dt> <code>array</code> <var>$location</var> <span class="label">optional</span> </dt> <dd><p>If contains keys "file" and "line" their values will be used to show location info.</p></dd> <dt> <code>bool|null</code> <var>$showHtml</var> <span class="label">optional</span> </dt> <dd><p>If set to true, the method prints the debug data encoded as HTML. If false, plain text formatting will be used. If null, the format will be chosen based on the configured exportFormatter, or environment conditions.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setConfig()"> setConfig()   <span class="label">public</span> </h3> <pre data-language="php">setConfig(array&lt;string, mixed&gt;|string $key, mixed|null $value = null, bool $merge = true): $this</pre> <div class="description detailed"> <p>Sets the config.</p> <h3>Usage</h3> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;setConfig('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;setConfig('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;setConfig(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> <dt> <code>bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>Whether to recursively merge or overwrite existing config, defaults to true.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> When trying to set a key that is invalid. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setEditor()"> setEditor()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">setEditor(string $name): void</pre> <div class="description detailed"> <p>Choose the editor link style you want to use.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The editor name.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setOutputFormat()"> setOutputFormat()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">setOutputFormat(string $format): void</pre> <div class="description detailed"> <p>Set the output format for Debugger error rendering.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$format</var> </dt> <dd><p>The format you want errors to be output as.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> When choosing a format that doesn't exist. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setOutputMask()"> setOutputMask()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">setOutputMask(array&lt;string, string&gt; $value, bool $merge = true): void</pre> <div class="description detailed"> <p>Sets configurable masking of debugger output by property name and array key names.</p> <h3>Example</h3> <p>Debugger::setOutputMask(['password' =&gt; '[*<strong><strong>****</strong></strong>]');</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, string&gt;</code> <var>$value</var> </dt> <dd><p>An array where keys are replaced by their values in output.</p></dd> <dt> <code>bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>Whether to recursively merge or overwrite existing config, defaults to true.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="trace()"> trace()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">trace(array&lt;string, mixed&gt; $options = []): array|string</pre> <div class="description detailed"> <p>Outputs a stack trace based on the supplied options.</p> <h3>Options</h3> <ul> <li>
<code>depth</code> - The number of stack frames to return. Defaults to 999</li> <li>
<code>format</code> - The format you want the return. Defaults to the currently selected format. If format is 'array' or 'points' the return will be an array.</li> <li>
<code>args</code> - Should arguments for functions be shown? If true, the arguments for each method call will be displayed.</li> <li>
<code>start</code> - The stack frame to start generating a trace from. Defaults to 0</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Format for outputting stack trace.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array|string</code><br> </div> <h4>Links</h4> <div class="list"> https://book.cakephp.org/4/en/development/debugging.html#generating-stack-traces<br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="trimPath()"> trimPath()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">trimPath(string $path): string</pre> <div class="description detailed"> <p>Shortens file paths by replacing the application base path with 'APP', and the CakePHP core path with 'CORE'.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$path</var> </dt> <dd><p>Path to shorten.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_config"> <var>$_config</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Runtime config</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_configInitialized"> <var>$_configInitialized</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Whether the config property has already been configured with defaults</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_data"> <var>$_data</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Holds current output data when outputFormat is false.</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_defaultConfig"> <var>$_defaultConfig</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Default configuration</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_outputFormat"> <var>$_outputFormat</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The current output format.</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_templates"> <var>$_templates</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Templates used when generating trace or error strings. Can be global or indexed by the format value used in $_outputFormat.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, array&lt;string, mixed&gt;&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$editors"> <var>$editors</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>A map of editors to their link templates.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, string|callable&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$renderers"> <var>$renderers</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Mapping for error renderers.</p> <p>Error renderers are replacing output formatting with an object based system. Having Debugger handle and render errors will be deprecated and the new ErrorTrap system should be used instead.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, class-string&gt;</code><br> </div> </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.Error.Debugger.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.Error.Debugger.html</a>
  </p>
</div>
