<h1> Trait IntegrationTestTrait  </h1> <div class="description"> <p>A trait intended to make integration tests of your controllers easier.</p> <p>This test class provides a number of helper methods and features that make dispatching requests and checking their responses simpler. It favours full integration tests over mock objects as you can test more of your code easily and avoid some of the maintenance pitfalls that mock objects create.</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.testsuite.html">Cake\TestSuite</a><br> </div> <div class="section"> <h2>Property Summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="#%24_appArgs">$_appArgs</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array|null</code></div> <div class="description"> <p>The customized application constructor arguments.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_appClass">$_appClass</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string|null</code></div> <div class="description"> <p>The customized application class name.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_controller">$_controller</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Controller\Controller|null</code></div> <div class="description"> <p>The controller used in the last request.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_cookie">$_cookie</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>Cookie data to use in the next request.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_cookieEncryptionKey">$_cookieEncryptionKey</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string|null</code></div>  </li> <li class="clearfix"> <div class="name"> <a href="#%24_csrfKeyName">$_csrfKeyName</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>The name that will be used when retrieving the csrf token.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_csrfToken">$_csrfToken</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Boolean flag for whether the request should have a CSRF token added.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_exception">$_exception</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Throwable|null</code></div> <div class="description"> <p>The exception being thrown if the case.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_flashMessages">$_flashMessages</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>Stored flash messages before render</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_layoutName">$_layoutName</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>The last rendered layout</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_request">$_request</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>The data used to build the next request.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_requestSession">$_requestSession</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Http\Session</code></div> <div class="description"> <p>The session instance from the last request</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_response">$_response</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Psr\Http\Message\ResponseInterface|null</code></div> <div class="description"> <p>The response for the most recent request.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_retainFlashMessages">$_retainFlashMessages</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Boolean flag for whether the request should re-store flash messages</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_securityToken">$_securityToken</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Boolean flag for whether the request should have a SecurityComponent token added.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_session">$_session</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>Session data to use in the next request.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_unlockedFields">$_unlockedFields</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;</code></div> <div class="description"> <p>List of fields that are excluded from field validation.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_validCiphers">$_validCiphers</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;</code></div> <div class="description"> <p>Valid cipher names for encrypted cookies.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_viewName">$_viewName</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>The last rendered view</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#_addTokens()">_addTokens()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Add the CSRF and Security Component tokens if necessary.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_buildRequest()">_buildRequest()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Creates a request object with the configured options and parameters.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_castToString()">_castToString()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Recursively casts all data to string as that is how data would be POSTed in the real world</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_checkCipher()">_checkCipher()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Helper method for validating encryption cipher names.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_decode()">_decode()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Decodes and decrypts a single value.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_decrypt()">_decrypt()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Decrypts $value using public $type method in Security class</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_encrypt()">_encrypt()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Encrypts $value using public $type method in Security class</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_explode()">_explode()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Explode method to return array from string set in CookieComponent::_implode() Maintains reading backwards compatibility with 1.x CookieComponent::_implode().</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_getBodyAsString()">_getBodyAsString()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Get the response body as string</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_getCookieEncryptionKey()">_getCookieEncryptionKey()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Returns the encryption key to be used.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_handleError()">_handleError()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Attempts to render an error response for a given exception.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_implode()">_implode()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Implode method to keep keys are multidimensional arrays</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_makeDispatcher()">_makeDispatcher()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Get the correct dispatcher instance.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_sendRequest()">_sendRequest()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Creates and send the request into a Dispatcher instance.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_url()">_url()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Creates a valid request url and parameter array more like Request::_url()</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertContentType()">assertContentType()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts content type</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertCookie()">assertCookie()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts cookie values</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertCookieEncrypted()">assertCookieEncrypted()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts cookie values which are encrypted by the CookieComponent.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertCookieNotSet()">assertCookieNotSet()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts a cookie has not been set in the response</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertFileResponse()">assertFileResponse()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts that a file with the given name was sent in the response</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertFlashElement()">assertFlashElement()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts a flash element was set</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertFlashElementAt()">assertFlashElementAt()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts a flash element was set at a certain index</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertFlashMessage()">assertFlashMessage()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts a flash message was set</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertFlashMessageAt()">assertFlashMessageAt()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts a flash message was set at a certain index</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertHeader()">assertHeader()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts response headers</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertHeaderContains()">assertHeaderContains()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts response header contains a string</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertHeaderNotContains()">assertHeaderNotContains()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts response header does not contain a string</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertLayout()">assertLayout()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts that the search string was in the layout name.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertNoRedirect()">assertNoRedirect()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts that the Location header is not set.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertRedirect()">assertRedirect()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts that the Location header is correct. Comparison is made against a full URL.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertRedirectContains()">assertRedirectContains()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts that the Location header contains a substring</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertRedirectEquals()">assertRedirectEquals()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts that the Location header is correct. Comparison is made against exactly the URL provided.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertRedirectNotContains()">assertRedirectNotContains()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts that the Location header does not contain a substring</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertResponseCode()">assertResponseCode()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts a specific response status code.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertResponseContains()">assertResponseContains()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts content exists in the response body.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertResponseEmpty()">assertResponseEmpty()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Assert response content is empty.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertResponseEquals()">assertResponseEquals()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts content in the response body equals.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertResponseError()">assertResponseError()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts that the response status code is in the 4xx range.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertResponseFailure()">assertResponseFailure()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts that the response status code is in the 5xx range.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertResponseNotContains()">assertResponseNotContains()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts content does not exist in the response body.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertResponseNotEmpty()">assertResponseNotEmpty()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Assert response content is not empty.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertResponseNotEquals()">assertResponseNotEquals()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts content in the response body not equals.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertResponseNotRegExp()">assertResponseNotRegExp()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts that the response body does not match a given regular expression.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertResponseOk()">assertResponseOk()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts that the response status code is in the 2xx range.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertResponseRegExp()">assertResponseRegExp()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts that the response body matches a given regular expression.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertResponseSuccess()">assertResponseSuccess()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts that the response status code is in the 2xx/3xx range.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertSession()">assertSession()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts session contents</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertSessionHasKey()">assertSessionHasKey()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts session key exists.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertSessionNotHasKey()">assertSessionNotHasKey()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts a session key does not exist.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#assertTemplate()">assertTemplate()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Asserts that the search string was in the template name.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#cleanup()">cleanup()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Clears the state used for requests.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#cleanupContainer()">cleanupContainer()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Clears any mocks that were defined and cleans up application class configuration.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#configApplication()">configApplication()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Configure the application class to use in integration tests.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#configRequest()">configRequest()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Configures the data for the <em>next</em> request.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#controllerSpy()">controllerSpy()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Adds additional event spies to the controller/view event manager.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#cookie()">cookie()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets a request cookie for future requests.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#cookieEncrypted()">cookieEncrypted()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets a encrypted request cookie for future requests.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#createApp()">createApp()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Create an application instance.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#delete()">delete()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Performs a DELETE request using the current request data.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#disableErrorHandlerMiddleware()">disableErrorHandlerMiddleware()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Disable the error handler middleware.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#enableCsrfToken()">enableCsrfToken()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Calling this method will add a CSRF token to the request.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#enableRetainFlashMessages()">enableRetainFlashMessages()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Calling this method will re-store flash messages into the test session after being removed by the FlashHelper</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#enableSecurityToken()">enableSecurityToken()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Calling this method will enable a SecurityComponent compatible token to be added to request data. This lets you easily test actions protected by SecurityComponent.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#extractExceptionMessage()">extractExceptionMessage()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Extract verbose message for existing exception</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#extractVerboseMessage()">extractVerboseMessage()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Inspect controller to extract possible causes of the failed assertion</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#get()">get()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Performs a GET request using the current request data.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getSession()">getSession()</a> <span class="label">protected</span> </h5>  </li> <li class="clearfix"> <h5 class="function-name"> <a href="#head()">head()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Performs a HEAD request using the current request data.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#mockService()">mockService()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Add a mocked service to the container.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#modifyContainer()">modifyContainer()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Wrap the application's container with one containing mocks.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#options()">options()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Performs an OPTIONS request using the current request data.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#patch()">patch()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Performs a PATCH request using the current request data.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#post()">post()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Performs a POST request using the current request data.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#put()">put()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Performs a PUT request using the current request data.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#removeMockService()">removeMockService()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Remove a mocked service to the container.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#session()">session()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets session data.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setUnlockedFields()">setUnlockedFields()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Set list of fields that are excluded from field validation.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#viewVariable()">viewVariable()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Fetches a view variable by name.</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="_addTokens()"> _addTokens()   <span class="label">protected</span> </h3> <pre data-language="php">_addTokens(string $url, array $data): array</pre> <div class="description detailed"> <p>Add the CSRF and Security Component tokens if necessary.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$url</var> </dt> <dd><p>The URL the form is being submitted on.</p></dd> <dt> <code>array</code> <var>$data</var> </dt> <dd><p>The request body data.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_buildRequest()"> _buildRequest()   <span class="label">protected</span> </h3> <pre data-language="php">_buildRequest(string $url, string $method, array|string $data = []): array</pre> <div class="description detailed"> <p>Creates a request object with the configured options and parameters.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$url</var> </dt> <dd><p>The URL</p></dd> <dt> <code>string</code> <var>$method</var> </dt> <dd><p>The HTTP method</p></dd> <dt> <code>array|string</code> <var>$data</var> <span class="label">optional</span> </dt> <dd><p>The request data.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_castToString()"> _castToString()   <span class="label">protected</span> </h3> <pre data-language="php">_castToString(array $data): array</pre> <div class="description detailed"> <p>Recursively casts all data to string as that is how data would be POSTed in the real world</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$data</var> </dt> <dd><p>POST data</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_checkCipher()"> _checkCipher()   <span class="label">protected</span> </h3> <pre data-language="php">_checkCipher(string $encrypt): void</pre> <div class="description detailed"> <p>Helper method for validating encryption cipher names.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$encrypt</var> </dt> <dd><p>The cipher name.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>RuntimeException</code><br> When an invalid cipher is provided. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_decode()"> _decode()   <span class="label">protected</span> </h3> <pre data-language="php">_decode(string $value, string|false $encrypt, string|null $key): array|string</pre> <div class="description detailed"> <p>Decodes and decrypts a single value.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$value</var> </dt> <dd><p>The value to decode &amp; decrypt.</p></dd> <dt> <code>string|false</code> <var>$encrypt</var> </dt> <dd><p>The encryption cipher to use.</p></dd> <dt> <code>string|null</code> <var>$key</var> </dt> <dd><p>Used as the security salt if specified.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array|string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_decrypt()"> _decrypt()   <span class="label">protected</span> </h3> <pre data-language="php">_decrypt(array&lt;string&gt;|string $values, string|false $mode, string|null $key = null): array|string</pre> <div class="description detailed"> <p>Decrypts $value using public $type method in Security class</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;|string</code> <var>$values</var> </dt> <dd><p>Values to decrypt</p></dd> <dt> <code>string|false</code> <var>$mode</var> </dt> <dd><p>Encryption mode</p></dd> <dt> <code>string|null</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>Used as the security salt if specified.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array|string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_encrypt()"> _encrypt()   <span class="label">protected</span> </h3> <pre data-language="php">_encrypt(array|string $value, string|false $encrypt, string|null $key = null): string</pre> <div class="description detailed"> <p>Encrypts $value using public $type method in Security class</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string</code> <var>$value</var> </dt> <dd><p>Value to encrypt</p></dd> <dt> <code>string|false</code> <var>$encrypt</var> </dt> <dd><p>Encryption mode to use. False disabled encryption.</p></dd> <dt> <code>string|null</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>Used as the security salt if specified.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_explode()"> _explode()   <span class="label">protected</span> </h3> <pre data-language="php">_explode(string $string): array|string</pre> <div class="description detailed"> <p>Explode method to return array from string set in CookieComponent::_implode() Maintains reading backwards compatibility with 1.x CookieComponent::_implode().</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$string</var> </dt> <dd><p>A string containing JSON encoded data, or a bare string.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array|string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_getBodyAsString()"> _getBodyAsString()   <span class="label">protected</span> </h3> <pre data-language="php">_getBodyAsString(): string</pre> <div class="description detailed"> <p>Get the response body as string</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_getCookieEncryptionKey()"> _getCookieEncryptionKey()   <span class="label">protected</span> </h3> <pre data-language="php">_getCookieEncryptionKey(): string</pre> <div class="description detailed"> <p>Returns the encryption key to be used.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_handleError()"> _handleError()   <span class="label">protected</span> </h3> <pre data-language="php">_handleError(Throwable $exception): void</pre> <div class="description detailed"> <p>Attempts to render an error response for a given exception.</p> <p>This method will attempt to use the configured exception renderer. If that class does not exist, the built-in renderer will be used.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Throwable</code> <var>$exception</var> </dt> <dd><p>Exception to handle.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_implode()"> _implode()   <span class="label">protected</span> </h3> <pre data-language="php">_implode(array $array): string</pre> <div class="description detailed"> <p>Implode method to keep keys are multidimensional arrays</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$array</var> </dt> <dd><p>Map of key and values</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_makeDispatcher()"> _makeDispatcher()   <span class="label">protected</span> </h3> <pre data-language="php">_makeDispatcher(): Cake\TestSuite\MiddlewareDispatcher</pre> <div class="description detailed"> <p>Get the correct dispatcher instance.</p> <h4>Returns</h4> <div class="list"> <code>Cake\TestSuite\MiddlewareDispatcher</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_sendRequest()"> _sendRequest()   <span class="label">protected</span> </h3> <pre data-language="php">_sendRequest(array|string $url, string $method, array|string $data = []): void</pre> <div class="description detailed"> <p>Creates and send the request into a Dispatcher instance.</p> <p>Receives and stores the response for future inspection.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string</code> <var>$url</var> </dt> <dd><p>The URL</p></dd> <dt> <code>string</code> <var>$method</var> </dt> <dd><p>The HTTP method</p></dd> <dt> <code>array|string</code> <var>$data</var> <span class="label">optional</span> </dt> <dd><p>The request data.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>PHPUnit\ExceptionThrowable</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_url()"> _url()   <span class="label">protected</span> </h3> <pre data-language="php">_url(string $url): array</pre> <div class="description detailed"> <p>Creates a valid request url and parameter array more like Request::_url()</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$url</var> </dt> <dd><p>The URL</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertContentType()"> assertContentType()   <span class="label">public</span> </h3> <pre data-language="php">assertContentType(string $type, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts content type</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$type</var> </dt> <dd><p>The content-type to check for.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertCookie()"> assertCookie()   <span class="label">public</span> </h3> <pre data-language="php">assertCookie(mixed $expected, string $name, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts cookie values</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$expected</var> </dt> <dd><p>The expected contents.</p></dd> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The cookie name.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertCookieEncrypted()"> assertCookieEncrypted()   <span class="label">public</span> </h3> <pre data-language="php">assertCookieEncrypted(mixed $expected, string $name, string $encrypt = 'aes', string|null $key = null, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts cookie values which are encrypted by the CookieComponent.</p> <p>The difference from assertCookie() is this decrypts the cookie value like the CookieComponent for this assertion.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$expected</var> </dt> <dd><p>The expected contents.</p></dd> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The cookie name.</p></dd> <dt> <code>string</code> <var>$encrypt</var> <span class="label">optional</span> </dt> <dd><p>Encryption mode to use.</p></dd> <dt> <code>string|null</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>Encryption key used. Defaults to Security.salt.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Utility\CookieCryptTrait::_encrypt() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertCookieNotSet()"> assertCookieNotSet()   <span class="label">public</span> </h3> <pre data-language="php">assertCookieNotSet(string $cookie, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts a cookie has not been set in the response</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$cookie</var> </dt> <dd><p>The cookie name to check</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertFileResponse()"> assertFileResponse()   <span class="label">public</span> </h3> <pre data-language="php">assertFileResponse(string $expected, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts that a file with the given name was sent in the response</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$expected</var> </dt> <dd><p>The absolute file path that should be sent in the response.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertFlashElement()"> assertFlashElement()   <span class="label">public</span> </h3> <pre data-language="php">assertFlashElement(string $expected, string $key = 'flash', string $message = ''): void</pre> <div class="description detailed"> <p>Asserts a flash element was set</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$expected</var> </dt> <dd><p>Expected element name</p></dd> <dt> <code>string</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>Flash key</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>Assertion failure message</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertFlashElementAt()"> assertFlashElementAt()   <span class="label">public</span> </h3> <pre data-language="php">assertFlashElementAt(int $at, string $expected, string $key = 'flash', string $message = ''): void</pre> <div class="description detailed"> <p>Asserts a flash element was set at a certain index</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>int</code> <var>$at</var> </dt> <dd><p>Flash index</p></dd> <dt> <code>string</code> <var>$expected</var> </dt> <dd><p>Expected element name</p></dd> <dt> <code>string</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>Flash key</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>Assertion failure message</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertFlashMessage()"> assertFlashMessage()   <span class="label">public</span> </h3> <pre data-language="php">assertFlashMessage(string $expected, string $key = 'flash', string $message = ''): void</pre> <div class="description detailed"> <p>Asserts a flash message was set</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$expected</var> </dt> <dd><p>Expected message</p></dd> <dt> <code>string</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>Flash key</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>Assertion failure message</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertFlashMessageAt()"> assertFlashMessageAt()   <span class="label">public</span> </h3> <pre data-language="php">assertFlashMessageAt(int $at, string $expected, string $key = 'flash', string $message = ''): void</pre> <div class="description detailed"> <p>Asserts a flash message was set at a certain index</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>int</code> <var>$at</var> </dt> <dd><p>Flash index</p></dd> <dt> <code>string</code> <var>$expected</var> </dt> <dd><p>Expected message</p></dd> <dt> <code>string</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>Flash key</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>Assertion failure message</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertHeader()"> assertHeader()   <span class="label">public</span> </h3> <pre data-language="php">assertHeader(string $header, string $content, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts response headers</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$header</var> </dt> <dd><p>The header to check</p></dd> <dt> <code>string</code> <var>$content</var> </dt> <dd><p>The content to check for.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertHeaderContains()"> assertHeaderContains()   <span class="label">public</span> </h3> <pre data-language="php">assertHeaderContains(string $header, string $content, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts response header contains a string</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$header</var> </dt> <dd><p>The header to check</p></dd> <dt> <code>string</code> <var>$content</var> </dt> <dd><p>The content to check for.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertHeaderNotContains()"> assertHeaderNotContains()   <span class="label">public</span> </h3> <pre data-language="php">assertHeaderNotContains(string $header, string $content, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts response header does not contain a string</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$header</var> </dt> <dd><p>The header to check</p></dd> <dt> <code>string</code> <var>$content</var> </dt> <dd><p>The content to check for.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertLayout()"> assertLayout()   <span class="label">public</span> </h3> <pre data-language="php">assertLayout(string $content, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts that the search string was in the layout name.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$content</var> </dt> <dd><p>The content to check for.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertNoRedirect()"> assertNoRedirect()   <span class="label">public</span> </h3> <pre data-language="php">assertNoRedirect(string $message = ''): void</pre> <div class="description detailed"> <p>Asserts that the Location header is not set.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertRedirect()"> assertRedirect()   <span class="label">public</span> </h3> <pre data-language="php">assertRedirect(array|string|null $url = null, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts that the Location header is correct. Comparison is made against a full URL.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string|null</code> <var>$url</var> <span class="label">optional</span> </dt> <dd><p>The URL you expected the client to go to. This can either be a string URL or an array compatible with Router::url(). Use null to simply check for the existence of this header.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertRedirectContains()"> assertRedirectContains()   <span class="label">public</span> </h3> <pre data-language="php">assertRedirectContains(string $url, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts that the Location header contains a substring</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$url</var> </dt> <dd><p>The URL you expected the client to go to.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertRedirectEquals()"> assertRedirectEquals()   <span class="label">public</span> </h3> <pre data-language="php">assertRedirectEquals(array|string|null $url = null, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts that the Location header is correct. Comparison is made against exactly the URL provided.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string|null</code> <var>$url</var> <span class="label">optional</span> </dt> <dd><p>The URL you expected the client to go to. This can either be a string URL or an array compatible with Router::url(). Use null to simply check for the existence of this header.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertRedirectNotContains()"> assertRedirectNotContains()   <span class="label">public</span> </h3> <pre data-language="php">assertRedirectNotContains(string $url, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts that the Location header does not contain a substring</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$url</var> </dt> <dd><p>The URL you expected the client to go to.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertResponseCode()"> assertResponseCode()   <span class="label">public</span> </h3> <pre data-language="php">assertResponseCode(int $code, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts a specific response status code.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>int</code> <var>$code</var> </dt> <dd><p>Status code to assert.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>Custom message for failure.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertResponseContains()"> assertResponseContains()   <span class="label">public</span> </h3> <pre data-language="php">assertResponseContains(string $content, string $message = '', bool $ignoreCase = false): void</pre> <div class="description detailed"> <p>Asserts content exists in the response body.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$content</var> </dt> <dd><p>The content to check for.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> <dt> <code>bool</code> <var>$ignoreCase</var> <span class="label">optional</span> </dt> <dd><p>A flag to check whether we should ignore case or not.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertResponseEmpty()"> assertResponseEmpty()   <span class="label">public</span> </h3> <pre data-language="php">assertResponseEmpty(string $message = ''): void</pre> <div class="description detailed"> <p>Assert response content is empty.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertResponseEquals()"> assertResponseEquals()   <span class="label">public</span> </h3> <pre data-language="php">assertResponseEquals(mixed $content, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts content in the response body equals.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$content</var> </dt> <dd><p>The content to check for.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertResponseError()"> assertResponseError()   <span class="label">public</span> </h3> <pre data-language="php">assertResponseError(string $message = ''): void</pre> <div class="description detailed"> <p>Asserts that the response status code is in the 4xx range.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>Custom message for failure.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertResponseFailure()"> assertResponseFailure()   <span class="label">public</span> </h3> <pre data-language="php">assertResponseFailure(string $message = ''): void</pre> <div class="description detailed"> <p>Asserts that the response status code is in the 5xx range.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>Custom message for failure.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertResponseNotContains()"> assertResponseNotContains()   <span class="label">public</span> </h3> <pre data-language="php">assertResponseNotContains(string $content, string $message = '', bool $ignoreCase = false): void</pre> <div class="description detailed"> <p>Asserts content does not exist in the response body.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$content</var> </dt> <dd><p>The content to check for.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> <dt> <code>bool</code> <var>$ignoreCase</var> <span class="label">optional</span> </dt> <dd><p>A flag to check whether we should ignore case or not.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertResponseNotEmpty()"> assertResponseNotEmpty()   <span class="label">public</span> </h3> <pre data-language="php">assertResponseNotEmpty(string $message = ''): void</pre> <div class="description detailed"> <p>Assert response content is not empty.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertResponseNotEquals()"> assertResponseNotEquals()   <span class="label">public</span> </h3> <pre data-language="php">assertResponseNotEquals(mixed $content, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts content in the response body not equals.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$content</var> </dt> <dd><p>The content to check for.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertResponseNotRegExp()"> assertResponseNotRegExp()   <span class="label">public</span> </h3> <pre data-language="php">assertResponseNotRegExp(string $pattern, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts that the response body does not match a given regular expression.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$pattern</var> </dt> <dd><p>The pattern to compare against.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertResponseOk()"> assertResponseOk()   <span class="label">public</span> </h3> <pre data-language="php">assertResponseOk(string $message = ''): void</pre> <div class="description detailed"> <p>Asserts that the response status code is in the 2xx range.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>Custom message for failure.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertResponseRegExp()"> assertResponseRegExp()   <span class="label">public</span> </h3> <pre data-language="php">assertResponseRegExp(string $pattern, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts that the response body matches a given regular expression.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$pattern</var> </dt> <dd><p>The pattern to compare against.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertResponseSuccess()"> assertResponseSuccess()   <span class="label">public</span> </h3> <pre data-language="php">assertResponseSuccess(string $message = ''): void</pre> <div class="description detailed"> <p>Asserts that the response status code is in the 2xx/3xx range.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>Custom message for failure.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertSession()"> assertSession()   <span class="label">public</span> </h3> <pre data-language="php">assertSession(mixed $expected, string $path, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts session contents</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$expected</var> </dt> <dd><p>The expected contents.</p></dd> <dt> <code>string</code> <var>$path</var> </dt> <dd><p>The session data path. Uses Hash::get() compatible notation</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertSessionHasKey()"> assertSessionHasKey()   <span class="label">public</span> </h3> <pre data-language="php">assertSessionHasKey(string $path, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts session key exists.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$path</var> </dt> <dd><p>The session data path. Uses Hash::get() compatible notation.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertSessionNotHasKey()"> assertSessionNotHasKey()   <span class="label">public</span> </h3> <pre data-language="php">assertSessionNotHasKey(string $path, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts a session key does not exist.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$path</var> </dt> <dd><p>The session data path. Uses Hash::get() compatible notation.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="assertTemplate()"> assertTemplate()   <span class="label">public</span> </h3> <pre data-language="php">assertTemplate(string $content, string $message = ''): void</pre> <div class="description detailed"> <p>Asserts that the search string was in the template name.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$content</var> </dt> <dd><p>The content to check for.</p></dd> <dt> <code>string</code> <var>$message</var> <span class="label">optional</span> </dt> <dd><p>The failure message that will be appended to the generated message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="cleanup()"> cleanup()   <span class="label">public</span> </h3> <pre data-language="php">cleanup(): void</pre> <div class="description detailed"> <p>Clears the state used for requests.</p> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="cleanupContainer()"> cleanupContainer()   <span class="label">public</span> </h3> <pre data-language="php">cleanupContainer(): void</pre> <div class="description detailed"> <p>Clears any mocks that were defined and cleans up application class configuration.</p> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="configApplication()"> configApplication()   <span class="label">public</span> </h3> <pre data-language="php">configApplication(string $class, array|null $constructorArgs): void</pre> <div class="description detailed"> <p>Configure the application class to use in integration tests.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$class</var> </dt> <dd><p>The application class name.</p></dd> <dt> <code>array|null</code> <var>$constructorArgs</var> </dt> <dd><p>The constructor arguments for your application class.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="configRequest()"> configRequest()   <span class="label">public</span> </h3> <pre data-language="php">configRequest(array $data): void</pre> <div class="description detailed"> <p>Configures the data for the <em>next</em> request.</p> <p>This data is cleared in the tearDown() method.</p> <p>You can call this method multiple times to append into the current state. Sub-keys like 'headers' will be reset, though.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$data</var> </dt> <dd><p>The request data to use.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="controllerSpy()"> controllerSpy()   <span class="label">public</span> </h3> <pre data-language="php">controllerSpy(Cake\Event\EventInterface $event, Cake\Controller\Controller|null $controller = null): void</pre> <div class="description detailed"> <p>Adds additional event spies to the controller/view event manager.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventInterface</code> <var>$event</var> </dt> <dd><p>A dispatcher event.</p></dd> <dt> <code>Cake\Controller\Controller|null</code> <var>$controller</var> <span class="label">optional</span> </dt> <dd><p>Controller instance.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="cookie()"> cookie()   <span class="label">public</span> </h3> <pre data-language="php">cookie(string $name, mixed $value): void</pre> <div class="description detailed"> <p>Sets a request cookie for future requests.</p> <p>This method lets you configure the session data you want to be used for requests that follow. The session state is reset in each tearDown().</p> <p>You can call this method multiple times to append into the current state.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The cookie name to use.</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The value of the cookie.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="cookieEncrypted()"> cookieEncrypted()   <span class="label">public</span> </h3> <pre data-language="php">cookieEncrypted(string $name, mixed $value, string|false $encrypt = 'aes', string|null $key = null): void</pre> <div class="description detailed"> <p>Sets a encrypted request cookie for future requests.</p> <p>The difference from cookie() is this encrypts the cookie value like the CookieComponent.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The cookie name to use.</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The value of the cookie.</p></dd> <dt> <code>string|false</code> <var>$encrypt</var> <span class="label">optional</span> </dt> <dd><p>Encryption mode to use.</p></dd> <dt> <code>string|null</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>Encryption key used. Defaults to Security.salt.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Utility\CookieCryptTrait::_encrypt() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="createApp()"> createApp()   <span class="label">protected</span> </h3> <pre data-language="php">createApp(): Cake\Core\HttpApplicationInterfaceCake\Core\ConsoleApplicationInterface</pre> <div class="description detailed"> <p>Create an application instance.</p> <p>Uses the configuration set in <code>configApplication()</code>.</p> <h4>Returns</h4> <div class="list"> <code>Cake\Core\HttpApplicationInterfaceCake\Core\ConsoleApplicationInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="delete()"> delete()   <span class="label">public</span> </h3> <pre data-language="php">delete(array|string $url): void</pre> <div class="description detailed"> <p>Performs a DELETE request using the current request data.</p> <p>The response of the dispatched request will be stored as a property. You can use various assert methods to check the response.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string</code> <var>$url</var> </dt> <dd><p>The URL to request.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="disableErrorHandlerMiddleware()"> disableErrorHandlerMiddleware()   <span class="label">public</span> </h3> <pre data-language="php">disableErrorHandlerMiddleware(): void</pre> <div class="description detailed"> <p>Disable the error handler middleware.</p> <p>By using this function, exceptions are no longer caught by the ErrorHandlerMiddleware and are instead re-thrown by the TestExceptionRenderer. This can be helpful when trying to diagnose/debug unexpected failures in test cases.</p> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="enableCsrfToken()"> enableCsrfToken()   <span class="label">public</span> </h3> <pre data-language="php">enableCsrfToken(string $cookieName = 'csrfToken'): void</pre> <div class="description detailed"> <p>Calling this method will add a CSRF token to the request.</p> <p>Both the POST data and cookie will be populated when this option is enabled. The default parameter names will be used.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$cookieName</var> <span class="label">optional</span> </dt> <dd><p>The name of the csrf token cookie.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="enableRetainFlashMessages()"> enableRetainFlashMessages()   <span class="label">public</span> </h3> <pre data-language="php">enableRetainFlashMessages(): void</pre> <div class="description detailed"> <p>Calling this method will re-store flash messages into the test session after being removed by the FlashHelper</p> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="enableSecurityToken()"> enableSecurityToken()   <span class="label">public</span> </h3> <pre data-language="php">enableSecurityToken(): void</pre> <div class="description detailed"> <p>Calling this method will enable a SecurityComponent compatible token to be added to request data. This lets you easily test actions protected by SecurityComponent.</p> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="extractExceptionMessage()"> extractExceptionMessage()   <span class="label">protected</span> </h3> <pre data-language="php">extractExceptionMessage(Exception $exception): string</pre> <div class="description detailed"> <p>Extract verbose message for existing exception</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Exception</code> <var>$exception</var> </dt> <dd><p>Exception to extract</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="extractVerboseMessage()"> extractVerboseMessage()   <span class="label">protected</span> </h3> <pre data-language="php">extractVerboseMessage(string $message): string</pre> <div class="description detailed"> <p>Inspect controller to extract possible causes of the failed assertion</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> </dt> <dd><p>Original message to use as a base</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="get()"> get()   <span class="label">public</span> </h3> <pre data-language="php">get(array|string $url): void</pre> <div class="description detailed"> <p>Performs a GET request using the current request data.</p> <p>The response of the dispatched request will be stored as a property. You can use various assert methods to check the response.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string</code> <var>$url</var> </dt> <dd><p>The URL to request.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getSession()"> getSession()   <span class="label">protected</span> </h3> <pre data-language="php">getSession(): Cake\TestSuite\TestSession</pre> <div class="description detailed"> <h4>Returns</h4> <div class="list"> <code>Cake\TestSuite\TestSession</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="head()"> head()   <span class="label">public</span> </h3> <pre data-language="php">head(array|string $url): void</pre> <div class="description detailed"> <p>Performs a HEAD request using the current request data.</p> <p>The response of the dispatched request will be stored as a property. You can use various assert methods to check the response.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string</code> <var>$url</var> </dt> <dd><p>The URL to request.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="mockService()"> mockService()   <span class="label">public</span> </h3> <pre data-language="php">mockService(string $class, Closure $factory): $this</pre> <div class="description detailed"> <p>Add a mocked service to the container.</p> <p>When the container is created the provided classname will be mapped to the factory function. The factory function will be used to create mocked services.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$class</var> </dt> <dd><p>The class or interface you want to define.</p></dd> <dt> <code>Closure</code> <var>$factory</var> </dt> <dd><p>The factory function for mocked services.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="modifyContainer()"> modifyContainer()   <span class="label">public</span> </h3> <pre data-language="php">modifyContainer(Cake\Event\EventInterface $event, Cake\Core\ContainerInterface $container): Cake\Core\ContainerInterface|null</pre> <div class="description detailed"> <p>Wrap the application's container with one containing mocks.</p> <p>If any mocked services are defined, the application's container will be replaced with one containing mocks. The original container will be set as a delegate to the mock container.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventInterface</code> <var>$event</var> </dt> <dd><p>The event</p></dd> <dt> <code>Cake\Core\ContainerInterface</code> <var>$container</var> </dt> <dd><p>The container to wrap.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Core\ContainerInterface|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="options()"> options()   <span class="label">public</span> </h3> <pre data-language="php">options(array|string $url): void</pre> <div class="description detailed"> <p>Performs an OPTIONS request using the current request data.</p> <p>The response of the dispatched request will be stored as a property. You can use various assert methods to check the response.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string</code> <var>$url</var> </dt> <dd><p>The URL to request.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="patch()"> patch()   <span class="label">public</span> </h3> <pre data-language="php">patch(array|string $url, array|string $data = []): void</pre> <div class="description detailed"> <p>Performs a PATCH request using the current request data.</p> <p>The response of the dispatched request will be stored as a property. You can use various assert methods to check the response.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string</code> <var>$url</var> </dt> <dd><p>The URL to request.</p></dd> <dt> <code>array|string</code> <var>$data</var> <span class="label">optional</span> </dt> <dd><p>The data for the request.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="post()"> post()   <span class="label">public</span> </h3> <pre data-language="php">post(array|string $url, array|string $data = []): void</pre> <div class="description detailed"> <p>Performs a POST request using the current request data.</p> <p>The response of the dispatched request will be stored as a property. You can use various assert methods to check the response.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string</code> <var>$url</var> </dt> <dd><p>The URL to request.</p></dd> <dt> <code>array|string</code> <var>$data</var> <span class="label">optional</span> </dt> <dd><p>The data for the request.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="put()"> put()   <span class="label">public</span> </h3> <pre data-language="php">put(array|string $url, array|string $data = []): void</pre> <div class="description detailed"> <p>Performs a PUT request using the current request data.</p> <p>The response of the dispatched request will be stored as a property. You can use various assert methods to check the response.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string</code> <var>$url</var> </dt> <dd><p>The URL to request.</p></dd> <dt> <code>array|string</code> <var>$data</var> <span class="label">optional</span> </dt> <dd><p>The data for the request.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="removeMockService()"> removeMockService()   <span class="label">public</span> </h3> <pre data-language="php">removeMockService(string $class): $this</pre> <div class="description detailed"> <p>Remove a mocked service to the container.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$class</var> </dt> <dd><p>The class or interface you want to remove.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="session()"> session()   <span class="label">public</span> </h3> <pre data-language="php">session(array $data): void</pre> <div class="description detailed"> <p>Sets session data.</p> <p>This method lets you configure the session data you want to be used for requests that follow. The session state is reset in each tearDown().</p> <p>You can call this method multiple times to append into the current state.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$data</var> </dt> <dd><p>The session data to use.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setUnlockedFields()"> setUnlockedFields()   <span class="label">public</span> </h3> <pre data-language="php">setUnlockedFields(array&lt;string&gt; $unlockedFields = []): void</pre> <div class="description detailed"> <p>Set list of fields that are excluded from field validation.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;</code> <var>$unlockedFields</var> <span class="label">optional</span> </dt> <dd><p>List of fields that are excluded from field validation.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="viewVariable()"> viewVariable()   <span class="label">public</span> </h3> <pre data-language="php">viewVariable(string $name): mixed</pre> <div class="description detailed"> <p>Fetches a view variable by name.</p> <p>If the view variable does not exist, null will be returned.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The view variable to get.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_appArgs"> <var>$_appArgs</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The customized application constructor arguments.</p> <h4>Type</h4> <div class="list"> <code>array|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_appClass"> <var>$_appClass</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The customized application class name.</p> <h4>Type</h4> <div class="list"> <code>string|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_controller"> <var>$_controller</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The controller used in the last request.</p> <h4>Type</h4> <div class="list"> <code>Cake\Controller\Controller|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_cookie"> <var>$_cookie</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Cookie data to use in the next request.</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_cookieEncryptionKey"> <var>$_cookieEncryptionKey</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <h4>Type</h4> <div class="list"> <code>string|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_csrfKeyName"> <var>$_csrfKeyName</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The name that will be used when retrieving the csrf token.</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_csrfToken"> <var>$_csrfToken</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Boolean flag for whether the request should have a CSRF token added.</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_exception"> <var>$_exception</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The exception being thrown if the case.</p> <h4>Type</h4> <div class="list"> <code>Throwable|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_flashMessages"> <var>$_flashMessages</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Stored flash messages before render</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_layoutName"> <var>$_layoutName</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The last rendered layout</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_request"> <var>$_request</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The data used to build the next request.</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_requestSession"> <var>$_requestSession</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The session instance from the last request</p> <h4>Type</h4> <div class="list"> <code>Cake\Http\Session</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_response"> <var>$_response</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The response for the most recent request.</p> <h4>Type</h4> <div class="list"> <code>Psr\Http\Message\ResponseInterface|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_retainFlashMessages"> <var>$_retainFlashMessages</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Boolean flag for whether the request should re-store flash messages</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_securityToken"> <var>$_securityToken</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Boolean flag for whether the request should have a SecurityComponent token added.</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_session"> <var>$_session</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Session data to use in the next request.</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_unlockedFields"> <var>$_unlockedFields</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>List of fields that are excluded from field validation.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_validCiphers"> <var>$_validCiphers</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Valid cipher names for encrypted cookies.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_viewName"> <var>$_viewName</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The last rendered view</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/trait-Cake.TestSuite.IntegrationTestTrait.html" class="_attribution-link">https://api.cakephp.org/4.4/trait-Cake.TestSuite.IntegrationTestTrait.html</a>
  </p>
</div>
