<h1>The "hasFocus" binding</h1> <h3 id="purpose">Purpose</h3> <p>The hasFocus binding links a DOM element’s focus state with a viewmodel property. It is a two-way binding, so:</p> <ul> <li>If you set the viewmodel property to true or false, the associated element will become focused or unfocused.</li> <li>If the user manually focuses or unfocuses the associated element, the viewmodel property will be set to true or false accordingly.</li> </ul> <p>This is useful if you’re building sophisticated forms in which editable elements appear dynamically, and you would like to control where the user should start typing, or respond to the location of the caret.</p> <h3 id="example-1-the-basics">Example 1: The basics</h3> <p>This example simply displays a message if the textbox currently has focus, and uses a button to show that you can trigger focus programmatically.</p> <div class="liveExample">Live examples are not available on DevDocs, sorry.</div> <h4>Source code: View</h4> <pre class="brush:html" data-language="html">
&lt;input data-bind="hasFocus: isSelected" /&gt;
&lt;button data-bind="click: setIsSelected"&gt;Focus programmatically&lt;/button&gt;
&lt;span data-bind="visible: isSelected"&gt;The textbox has focus&lt;/span&gt;
</pre> <h4>Source code: View model</h4> <pre class="brush:js" data-language="js">
var viewModel = {
    isSelected: ko.observable(false),
    setIsSelected: function() { this.isSelected(true) }
};
ko.applyBindings(viewModel);
</pre> <h3 id="example-2-click-to-edit">Example 2: Click-to-edit</h3> <p>Because the hasFocus binding works in both directions (setting the associated value focuses or unfocuses the element; focusing or unfocusing the element sets the associated value), it’s a convenient way to toggle an “edit” mode. In this example, the UI displays either a &lt;span&gt; or an &lt;input&gt; element depending on the model’s editing property. Unfocusing the &lt;input&gt; element sets editing to false, so the UI switches out of “edit” mode.</p> <div class="liveExample" id="click_to_edit">Live examples are not available on DevDocs, sorry.</div> <h4>Source code: View</h4> <pre class="brush:html" data-language="html">
&lt;p&gt;
	Name: 
	&lt;b data-bind="visible: !editing(), text: name, click: edit"&gt;&amp;nbsp;&lt;/b&gt;
	&lt;input data-bind="visible: editing, value: name, hasFocus: editing" /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Click the name to edit it; click elsewhere to apply changes.&lt;/em&gt;&lt;/p&gt;
</pre> <h4>Source code: View model</h4> <pre class="brush:js" data-language="js">
function PersonViewModel(name) {
    // Data
    this.name = ko.observable(name);
    this.editing = ko.observable(false);
        
    // Behaviors
    this.edit = function() { this.editing(true) }
}

ko.applyBindings(new PersonViewModel("Bert Bertington"));
</pre> <h3 id="parameters">Parameters</h3> <ul> <li> <p>Main parameter</p> <p>Pass true (or some value that evaluates as true) to focus the associated element. Otherwise, the associated element will be unfocused.</p> <p>When the user manually focuses or unfocuses the element, your value will be set to true or false accordingly.</p> <p>If the value you supply is observable, the hasFocus binding will update the element’s focus state whenever that observable value changes.</p> </li> <li> <p>Additional parameters</p> <ul> <li>None</li> </ul> </li> </ul> <h3 id="dependencies">Dependencies</h3> <p>None, other than the core Knockout library.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; Steven Sanderson, the Knockout.js team, and other contributors<br>Licensed under the MIT License.<br>
    <a href="https://knockoutjs.com/documentation/hasfocus-binding.html" class="_attribution-link">https://knockoutjs.com/documentation/hasfocus-binding.html</a>
  </p>
</div>
