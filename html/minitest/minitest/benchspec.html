<h1 id="class-Minitest::BenchSpec" class="anchor-link class"> class Minitest::BenchSpec </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="benchmark.html">Minitest::Benchmark</a></dd>
</dl> <section class="description"> <p>The spec version of <a href="benchmark.html"><code>Minitest::Benchmark</code></a>.</p> </section> <section id="5Buntitled-5D" class="documentation-section anchor-link"> <section id="public-class-5Buntitled-5D-method-details" class="method-section anchor-link"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-c-bench"> <a href="#method-c-bench" title="Link to this method"> <span class="method-name">bench</span> <span class="method-args">(name, &amp;block)</span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="bench-source"> <pre class="ruby" data-language="ruby"># File lib/minitest/benchmark.rb, line 355
def self.bench name, &amp;block
  define_method "bench_#{name.gsub(/\W+/, "_")}", &amp;block
end</pre> </div>  <p>This is used to define a new benchmark method. You usually donâ€™t use this directly and is intended for those needing to write new performance curve fits (eg: you need a specific polynomial fit).</p> <p>See <a href="benchspec.html#method-c-bench_performance_linear"><code>::bench_performance_linear</code></a> for an example of how to use this.</p> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-c-bench_performance_constant"> <a href="#method-c-bench_performance_constant" title="Link to this method"> <span class="method-name">bench_performance_constant</span> <span class="method-args">(name, threshold = 0.99, &amp;work)</span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="bench_performance_constant-source"> <pre class="ruby" data-language="ruby"># File lib/minitest/benchmark.rb, line 399
def self.bench_performance_constant name, threshold = 0.99, &amp;work
  bench name do
    assert_performance_constant threshold, &amp;work
  end
end</pre> </div>  <p>Create a benchmark that verifies that the performance is constant.</p> <pre class="ruby" data-language="ruby">describe "my class Bench" do
  bench_performance_constant "zoom_algorithm!" do |n|
    @obj.zoom_algorithm!(n)
  end
end
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-c-bench_performance_exponential"> <a href="#method-c-bench_performance_exponential" title="Link to this method"> <span class="method-name">bench_performance_exponential</span> <span class="method-args">(name, threshold = 0.99, &amp;work)</span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="bench_performance_exponential-source"> <pre class="ruby" data-language="ruby"># File lib/minitest/benchmark.rb, line 414
def self.bench_performance_exponential name, threshold = 0.99, &amp;work
  bench name do
    assert_performance_exponential threshold, &amp;work
  end
end</pre> </div>  <p>Create a benchmark that verifies that the performance is exponential.</p> <pre class="ruby" data-language="ruby">describe "my class Bench" do
  bench_performance_exponential "algorithm" do |n|
    @obj.algorithm(n)
  end
end
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-c-bench_performance_linear"> <a href="#method-c-bench_performance_linear" title="Link to this method"> <span class="method-name">bench_performance_linear</span> <span class="method-args">(name, threshold = 0.99, &amp;work)</span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="bench_performance_linear-source"> <pre class="ruby" data-language="ruby"># File lib/minitest/benchmark.rb, line 384
def self.bench_performance_linear name, threshold = 0.99, &amp;work
  bench name do
    assert_performance_linear threshold, &amp;work
  end
end</pre> </div>  <p>Create a benchmark that verifies that the performance is linear.</p> <pre class="ruby" data-language="ruby">describe "my class Bench" do
  bench_performance_linear "fast_algorithm", 0.9999 do |n|
    @obj.fast_algorithm(n)
  end
end
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-c-bench_performance_logarithmic"> <a href="#method-c-bench_performance_logarithmic" title="Link to this method"> <span class="method-name">bench_performance_logarithmic</span> <span class="method-args">(name, threshold = 0.99, &amp;work)</span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="bench_performance_logarithmic-source"> <pre class="ruby" data-language="ruby"># File lib/minitest/benchmark.rb, line 429
def self.bench_performance_logarithmic name, threshold = 0.99, &amp;work
  bench name do
    assert_performance_logarithmic threshold, &amp;work
  end
end</pre> </div>  <p>Create a benchmark that verifies that the performance is logarithmic.</p> <pre class="ruby" data-language="ruby">describe "my class Bench" do
  bench_performance_logarithmic "algorithm" do |n|
    @obj.algorithm(n)
  end
end
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-c-bench_performance_power"> <a href="#method-c-bench_performance_power" title="Link to this method"> <span class="method-name">bench_performance_power</span> <span class="method-args">(name, threshold = 0.99, &amp;work)</span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="bench_performance_power-source"> <pre class="ruby" data-language="ruby"># File lib/minitest/benchmark.rb, line 444
def self.bench_performance_power name, threshold = 0.99, &amp;work
  bench name do
    assert_performance_power threshold, &amp;work
  end
end</pre> </div>  <p>Create a benchmark that verifies that the performance is power.</p> <pre class="ruby" data-language="ruby">describe "my class Bench" do
  bench_performance_power "algorithm" do |n|
    @obj.algorithm(n)
  end
end
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-c-bench_range"> <a href="#method-c-bench_range" title="Link to this method"> <span class="method-name">bench_range</span> <span class="method-args">(&amp;block)</span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="bench_range-source"> <pre class="ruby" data-language="ruby"># File lib/minitest/benchmark.rb, line 368
def self.bench_range &amp;block
  return super unless block

  meta = (class &lt;&lt; self; self; end)
  meta.send :define_method, "bench_range", &amp;block
end</pre> </div>  <p>Specifies the ranges used for benchmarking for that class.</p> <pre class="ruby" data-language="ruby">bench_range do
  bench_exp(2, 16, 2)
end
</pre> <p>See Minitest::Benchmark#bench_range for more details.</p> <div class="method-calls-super"> Calls superclass method <a href="benchmark.html#method-c-bench_range"><code>Minitest::Benchmark::bench_range</code></a> </div> </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; Ryan Davis, seattle.rb<br>Licensed under the MIT License.<br>
    <a href="https://docs.seattlerb.org/minitest/Minitest/BenchSpec.html" class="_attribution-link">https://docs.seattlerb.org/minitest/Minitest/BenchSpec.html</a>
  </p>
</div>
