<h1 id="class-Minitest::Runnable" class="class"> class Minitest::Runnable </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="../object.html">Object</a></dd>
</dl> <section class="description"> <p>Represents anything “runnable”, like <a href="test.html"><code>Test</code></a>, <a href="spec.html"><code>Spec</code></a>, <a href="benchmark.html"><code>Benchmark</code></a>, or whatever you can dream up.</p> <p>Subclasses of this are automatically registered and available in <a href="runnable.html#method-c-runnables"><code>Runnable.runnables</code></a>.</p> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="attribute-method-details"> <header> <h3>Attributes</h3> </header> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-assertions"> <span class="method-name">assertions</span><span class="attribute-access-type">[RW]</span> </div> <div class="method-description"> <p>Number of assertions executed in this run.</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-failures"> <span class="method-name">failures</span><span class="attribute-access-type">[RW]</span> </div> <div class="method-description"> <p>An assertion raised during the run, if any.</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-metadata"> <span class="method-name">metadata</span><span class="attribute-access-type">[W]</span> </div> <div class="method-description"> <p>Sets metadata, mainly used for <code>Result.from</code>.</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-time"> <span class="method-name">time</span><span class="attribute-access-type">[RW]</span> </div> <div class="method-description"> <p>The time it took to run.</p> </div> </div> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-c-methods_matching"> <span class="method-name">methods_matching</span><span class="method-args">(re)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="methods_matching-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 321
def self.methods_matching re
  public_instance_methods(true).grep(re).map(&amp;:to_s)
end</pre> </div> <p>Returns all instance methods matching the pattern <code>re</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-c-run"> <span class="method-name">run</span><span class="method-args">(reporter, options = {})</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="run-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 336
def self.run reporter, options = {}
  filtered_methods = if options[:filter]
    filter = options[:filter]
    filter = Regexp.new $1 if filter.is_a?(String) &amp;&amp; filter =~ %r%/(.*)/%

    self.runnable_methods.find_all { |m|
      filter === m || filter === "#{self}##{m}"
    }
  else
    self.runnable_methods
  end

  if options[:exclude]
    exclude = options[:exclude]
    exclude = Regexp.new $1 if exclude =~ %r%/(.*)/%

    filtered_methods.delete_if { |m|
      exclude === m || exclude === "#{self}##{m}"
    }
  end

  return if filtered_methods.empty?

  with_info_handler reporter do
    filtered_methods.each do |method_name|
      run_one_method self, method_name, reporter
    end
  end
end</pre> </div> <p>Responsible for running all runnable methods in a given class, each in its own instance. Each instance is passed to the reporter to record.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-c-run_one_method"> <span class="method-name">run_one_method</span><span class="method-args">(klass, method_name, reporter)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="run_one_method-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 372
def self.run_one_method klass, method_name, reporter
  reporter.prerecord klass, method_name
  reporter.record Minitest.run_one_method(klass, method_name)
end</pre> </div> <p>Runs a single method and has the reporter record the result. This was considered internal API but is factored out of run so that subclasses can specialize the running of an individual test. See Minitest::ParallelTest::ClassMethods for an example.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-c-runnable_methods"> <span class="method-name">runnable_methods</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="runnable_methods-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 417
def self.runnable_methods
  raise NotImplementedError, "subclass responsibility"
end</pre> </div> <p>Each subclass of Runnable is responsible for overriding this method to return all runnable methods. See methods_matching.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-c-runnables"> <span class="method-name">runnables</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="runnables-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 424
def self.runnables
  @@runnables
end</pre> </div> <p>Returns all subclasses of Runnable.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-c-test_order"> <span class="method-name">test_order</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="test_order-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 381
def self.test_order
  :random
end</pre> </div> <p>Defines the order to run tests (:random by default). Override this or use a convenience method to change it for your tests.</p>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-metadata"> <span class="method-name">metadata</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="metadata-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 463
def metadata
  @metadata ||= {}
end</pre> </div> <p>Metadata you attach to the test results that get sent to the reporter.</p> <p>Lazily initializes to a hash, to keep memory down.</p> <p>NOTE: this data <strong>must</strong> be plain (read: marshal-able) data! Hashes! Arrays! Strings!</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-metadata-3F"> <span class="method-name">metadata?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="metadata-3F-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 475
def metadata?
  defined? @metadata
end</pre> </div> <p>Returns true if metadata exists.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-name"> <span class="method-name">name</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="name-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 307
def name
  @NAME
end</pre> </div> <p>Name of the run.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-name-3D"> <span class="method-name">name=</span><span class="method-args">(o)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="name-3D-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 314
def name= o
  @NAME = o
end</pre> </div> <p>Set the name of the run.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-passed-3F"> <span class="method-name">passed?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="passed-3F-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 492
def passed?
  raise NotImplementedError, "subclass responsibility"
end</pre> </div> <p>Did this run pass?</p> <p>Note: skipped runs are not considered passing, but they don’t cause the process to exit non-zero.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-result_code"> <span class="method-name">result_code</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="result_code-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 501
def result_code
  raise NotImplementedError, "subclass responsibility"
end</pre> </div> <p>Returns a single character string to print based on the result of the run. One of <code>"."</code>, <code>"F"</code>, <code>"E"</code> or <code>"S"</code>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-run"> <span class="method-name">run</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="run-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 482
def run
  raise NotImplementedError, "subclass responsibility"
end</pre> </div> <p>Runs a single method. Needs to return self.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-skipped-3F"> <span class="method-name">skipped?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="skipped-3F-source"> <pre class="ruby" data-language="ruby"># File lib/minitest.rb, line 508
def skipped?
  raise NotImplementedError, "subclass responsibility"
end</pre> </div> <p>Was this run skipped? See <a href="runnable.html#method-i-passed-3F"><code>passed?</code></a> for more information.</p>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; Ryan Davis, seattle.rb<br>Licensed under the MIT License.<br>
    <a href="https://docs.seattlerb.org/minitest/Minitest/Runnable.html" class="_attribution-link">https://docs.seattlerb.org/minitest/Minitest/Runnable.html</a>
  </p>
</div>
