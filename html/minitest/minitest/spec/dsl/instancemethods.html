<h1 id="module-Minitest::Spec::DSL::InstanceMethods" class="module"> module Minitest::Spec::DSL::InstanceMethods </h1> <section class="description"> <p>Rdocâ€¦ why are you so dumb?</p> </section> <section id="5Buntitled-5D" class="documentation-section"> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-_"> <span class="method-name">_</span><span class="method-args">(value = nil, &amp;block)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="_-source"> <pre class="ruby" data-language="ruby"># File lib/minitest/spec.rb, line 322
def _ value = nil, &amp;block
  Minitest::Expectation.new block || value, self
end</pre> </div> <p>Takes a value or a block and returns a value monad that has all of Expectations methods available to it.</p> <pre class="ruby" data-language="ruby">_(1 + 1).must_equal 2
</pre> <p>And for blocks:</p> <pre class="ruby" data-language="ruby">_ { 1 + "1" }.must_raise TypeError
</pre> <p>This method of expectation-based testing is preferable to straight-expectation methods (on <a href="../../../object.html"><code>Object</code></a>) because it stores its test context, bypassing our hacky use of thread-local variables.</p> <p>NOTE: At some point, the methods on <a href="../../../object.html"><code>Object</code></a> will be deprecated and then removed.</p> <p>It is also aliased to <a href="instancemethods.html#method-i-value"><code>value</code></a> and <a href="instancemethods.html#method-i-expect"><code>expect</code></a> for your aesthetic pleasure:</p> <pre class="ruby" data-language="ruby">     _(1 + 1).must_equal 2
 value(1 + 1).must_equal 2
expect(1 + 1).must_equal 2
</pre>  </div> <div class="aliases"> Also aliased as: <a href="instancemethods.html#method-i-value">value</a>, <a href="instancemethods.html#method-i-expect">expect</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-expect"> <span class="method-name">expect</span><span class="method-args">(value = nil, &amp;block)</span> </div> </div>  <div class="aliases"> Alias for: <a href="instancemethods.html#method-i-_">_</a> </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-value"> <span class="method-name">value</span><span class="method-args">(value = nil, &amp;block)</span> </div> </div>  <div class="aliases"> Alias for: <a href="instancemethods.html#method-i-_">_</a> </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; Ryan Davis, seattle.rb<br>Licensed under the MIT License.<br>
    <a href="https://docs.seattlerb.org/minitest/Minitest/Spec/DSL/InstanceMethods.html" class="_attribution-link">https://docs.seattlerb.org/minitest/Minitest/Spec/DSL/InstanceMethods.html</a>
  </p>
</div>
