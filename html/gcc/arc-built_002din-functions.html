<h1 class="subsection" id="ARC-Built_002din-Functions-1">6.62.4 ARC Built-in Functions</h1> <div class="subsection-level-extent" id="ARC-Built_002din-Functions">    <p>The following built-in functions are provided for ARC targets. The built-ins generate the corresponding assembly instructions. In the examples given below, the generated code often requires an operand or result to be in a register. Where necessary further code will be generated to ensure this is true, but for brevity this is not described in each case. </p> <p><em class="emph">Note:</em> Using a built-in to generate an instruction not supported by a target may cause problems. At present the compiler is not guaranteed to detect such misuse, and as a result an internal compiler error may be generated. </p> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005faligned">
<span class="category-def">Built-in Function: </span><span><code class="def-type">int</code> <strong class="def-name">__builtin_arc_aligned</strong> <code class="def-code-arguments">(void *<var class="var">val</var>, int <var class="var">alignval</var>)</code></span>
</dt> <dd>
<p>Return 1 if <var class="var">val</var> is known to have the byte alignment given by <var class="var">alignval</var>, otherwise return 0. Note that this is different from </p>
<div class="example smallexample"> <pre class="example-preformatted" data-language="cpp">__alignof__(*(char *)<var class="var">val</var>) &gt;= alignval</pre>
</div> <p>because __alignof__ sees only the type of the dereference, whereas __builtin_arc_align uses alignment information from the pointer as well as from the pointed-to type. The information available will depend on optimization level. </p>
</dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005fbrk">
<span class="category-def">Built-in Function: </span><span><code class="def-type">void</code> <strong class="def-name">__builtin_arc_brk</strong> <code class="def-code-arguments">(void)</code></span>
</dt> <dd>
<p>Generates </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">brk</pre>
</div> </dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005fcore_005fread">
<span class="category-def">Built-in Function: </span><span><code class="def-type">unsigned int</code> <strong class="def-name">__builtin_arc_core_read</strong> <code class="def-code-arguments">(unsigned int <var class="var">regno</var>)</code></span>
</dt> <dd>
<p>The operand is the number of a register to be read. Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">mov  <var class="var">dest</var>, r<var class="var">regno</var></pre>
</div> <p>where the value in <var class="var">dest</var> will be the result returned from the built-in. </p>
</dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005fcore_005fwrite">
<span class="category-def">Built-in Function: </span><span><code class="def-type">void</code> <strong class="def-name">__builtin_arc_core_write</strong> <code class="def-code-arguments">(unsigned int <var class="var">regno</var>, unsigned int <var class="var">val</var>)</code></span>
</dt> <dd>
<p>The first operand is the number of a register to be written, the second operand is a compile time constant to write into that register. Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">mov  r<var class="var">regno</var>, <var class="var">val</var></pre>
</div> </dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005fdivaw">
<span class="category-def">Built-in Function: </span><span><code class="def-type">int</code> <strong class="def-name">__builtin_arc_divaw</strong> <code class="def-code-arguments">(int <var class="var">a</var>, int <var class="var">b</var>)</code></span>
</dt> <dd>
<p>Only available if either <samp class="option">-mcpu=ARC700</samp> or <samp class="option">-meA</samp> is set. Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">divaw  <var class="var">dest</var>, <var class="var">a</var>, <var class="var">b</var></pre>
</div> <p>where the value in <var class="var">dest</var> will be the result returned from the built-in. </p>
</dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005fflag">
<span class="category-def">Built-in Function: </span><span><code class="def-type">void</code> <strong class="def-name">__builtin_arc_flag</strong> <code class="def-code-arguments">(unsigned int <var class="var">a</var>)</code></span>
</dt> <dd>
<p>Generates </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">flag  <var class="var">a</var></pre>
</div> </dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005flr">
<span class="category-def">Built-in Function: </span><span><code class="def-type">unsigned int</code> <strong class="def-name">__builtin_arc_lr</strong> <code class="def-code-arguments">(unsigned int <var class="var">auxr</var>)</code></span>
</dt> <dd>
<p>The operand, <var class="var">auxv</var>, is the address of an auxiliary register and must be a compile time constant. Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">lr  <var class="var">dest</var>, [<var class="var">auxr</var>]</pre>
</div> <p>Where the value in <var class="var">dest</var> will be the result returned from the built-in. </p>
</dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005fmul64">
<span class="category-def">Built-in Function: </span><span><code class="def-type">void</code> <strong class="def-name">__builtin_arc_mul64</strong> <code class="def-code-arguments">(int <var class="var">a</var>, int <var class="var">b</var>)</code></span>
</dt> <dd>
<p>Only available with <samp class="option">-mmul64</samp>. Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">mul64  <var class="var">a</var>, <var class="var">b</var></pre>
</div> </dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005fmulu64">
<span class="category-def">Built-in Function: </span><span><code class="def-type">void</code> <strong class="def-name">__builtin_arc_mulu64</strong> <code class="def-code-arguments">(unsigned int <var class="var">a</var>, unsigned int <var class="var">b</var>)</code></span>
</dt> <dd>
<p>Only available with <samp class="option">-mmul64</samp>. Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">mulu64  <var class="var">a</var>, <var class="var">b</var></pre>
</div> </dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005fnop">
<span class="category-def">Built-in Function: </span><span><code class="def-type">void</code> <strong class="def-name">__builtin_arc_nop</strong> <code class="def-code-arguments">(void)</code></span>
</dt> <dd>
<p>Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">nop</pre>
</div> </dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005fnorm">
<span class="category-def">Built-in Function: </span><span><code class="def-type">int</code> <strong class="def-name">__builtin_arc_norm</strong> <code class="def-code-arguments">(int <var class="var">src</var>)</code></span>
</dt> <dd>
<p>Only valid if the ‘<samp class="samp">norm</samp>’ instruction is available through the <samp class="option">-mnorm</samp> option or by default with <samp class="option">-mcpu=ARC700</samp>. Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">norm  <var class="var">dest</var>, <var class="var">src</var></pre>
</div> <p>Where the value in <var class="var">dest</var> will be the result returned from the built-in. </p>
</dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005fnormw">
<span class="category-def">Built-in Function: </span><span><code class="def-type">short int</code> <strong class="def-name">__builtin_arc_normw</strong> <code class="def-code-arguments">(short int <var class="var">src</var>)</code></span>
</dt> <dd>
<p>Only valid if the ‘<samp class="samp">normw</samp>’ instruction is available through the <samp class="option">-mnorm</samp> option or by default with <samp class="option">-mcpu=ARC700</samp>. Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">normw  <var class="var">dest</var>, <var class="var">src</var></pre>
</div> <p>Where the value in <var class="var">dest</var> will be the result returned from the built-in. </p>
</dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005frtie">
<span class="category-def">Built-in Function: </span><span><code class="def-type">void</code> <strong class="def-name">__builtin_arc_rtie</strong> <code class="def-code-arguments">(void)</code></span>
</dt> <dd>
<p>Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">rtie</pre>
</div> </dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005fsleep">
<span class="category-def">Built-in Function: </span><span><code class="def-type">void</code> <strong class="def-name">__builtin_arc_sleep</strong> <code class="def-code-arguments">(int <var class="var">a</var></code></span>
</dt> <dd>
<p>Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">sleep  <var class="var">a</var></pre>
</div> </dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005fsr">
<span class="category-def">Built-in Function: </span><span><code class="def-type">void</code> <strong class="def-name">__builtin_arc_sr</strong> <code class="def-code-arguments">(unsigned int <var class="var">val</var>, unsigned int <var class="var">auxr</var>)</code></span>
</dt> <dd>
<p>The first argument, <var class="var">val</var>, is a compile time constant to be written to the register, the second argument, <var class="var">auxr</var>, is the address of an auxiliary register. Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">sr  <var class="var">val</var>, [<var class="var">auxr</var>]</pre>
</div> </dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005fswap">
<span class="category-def">Built-in Function: </span><span><code class="def-type">int</code> <strong class="def-name">__builtin_arc_swap</strong> <code class="def-code-arguments">(int <var class="var">src</var>)</code></span>
</dt> <dd>
<p>Only valid with <samp class="option">-mswap</samp>. Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">swap  <var class="var">dest</var>, <var class="var">src</var></pre>
</div> <p>Where the value in <var class="var">dest</var> will be the result returned from the built-in. </p>
</dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005fswi">
<span class="category-def">Built-in Function: </span><span><code class="def-type">void</code> <strong class="def-name">__builtin_arc_swi</strong> <code class="def-code-arguments">(void)</code></span>
</dt> <dd>
<p>Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">swi</pre>
</div> </dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005fsync">
<span class="category-def">Built-in Function: </span><span><code class="def-type">void</code> <strong class="def-name">__builtin_arc_sync</strong> <code class="def-code-arguments">(void)</code></span>
</dt> <dd>
<p>Only available with <samp class="option">-mcpu=ARC700</samp>. Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">sync</pre>
</div> </dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005ftrap_005fs">
<span class="category-def">Built-in Function: </span><span><code class="def-type">void</code> <strong class="def-name">__builtin_arc_trap_s</strong> <code class="def-code-arguments">(unsigned int <var class="var">c</var>)</code></span>
</dt> <dd>
<p>Only available with <samp class="option">-mcpu=ARC700</samp>. Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">trap_s  <var class="var">c</var></pre>
</div> </dd>
</dl> <dl class="first-deftypefn"> <dt class="deftypefn" id="index-_005f_005fbuiltin_005farc_005funimp_005fs">
<span class="category-def">Built-in Function: </span><span><code class="def-type">void</code> <strong class="def-name">__builtin_arc_unimp_s</strong> <code class="def-code-arguments">(void)</code></span>
</dt> <dd>
<p>Only available with <samp class="option">-mcpu=ARC700</samp>. Generates: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">unimp_s</pre>
</div> </dd>
</dl> <p>The instructions generated by the following builtins are not considered as candidates for scheduling. They are not moved around by the compiler during scheduling, and thus can be expected to appear where they are put in the C code: </p>
<div class="example"> <pre class="example-preformatted" data-language="cpp">__builtin_arc_brk()
__builtin_arc_core_read()
__builtin_arc_core_write()
__builtin_arc_flag()
__builtin_arc_lr()
__builtin_arc_sleep()
__builtin_arc_sr()
__builtin_arc_swi()</pre>
</div> <p>The following built-in functions are available for the ARCv2 family of processors. </p> <div class="example"> <pre class="example-preformatted" data-language="cpp">int __builtin_arc_clri ();
void __builtin_arc_kflag (unsigned);
void __builtin_arc_seti (int);</pre>
</div> <p>The following built-in functions are available for the ARCv2 family and uses <samp class="option">-mnorm</samp>. </p> <div class="example"> <pre class="example-preformatted" data-language="cpp">int __builtin_arc_ffs (int);
int __builtin_arc_fls (int);</pre>
</div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-14.2.0/gcc/ARC-Built_002din-Functions.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-14.2.0/gcc/ARC-Built_002din-Functions.html</a>
  </p>
</div>
