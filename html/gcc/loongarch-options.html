<h1 class="subsection" id="LoongArch-Options-1">3.19.22 LoongArch Options</h1> <div class="subsection-level-extent" id="LoongArch-Options">     <p>These command-line options are defined for LoongArch targets: </p> <dl class="table"> <dt>
<span><code class="code">-march=<var class="var">arch-type</var></code></span>
</dt> <dd>
<p>Generate instructions for the machine type <var class="var">arch-type</var>. <samp class="option">-march=<var class="var">arch-type</var></samp> allows GCC to generate code that may not run at all on processors other than the one indicated. </p> <p>The choices for <var class="var">arch-type</var> are: </p> <dl class="table"> <dt>‘<samp class="samp">native</samp>’</dt> <dd><p>Local processor type detected by the native compiler. </p></dd> <dt>‘<samp class="samp">loongarch64</samp>’</dt> <dd><p>Generic LoongArch 64-bit processor. </p></dd> <dt>‘<samp class="samp">la464</samp>’</dt> <dd><p>LoongArch LA464-based processor with LSX, LASX. </p></dd> <dt>‘<samp class="samp">la664</samp>’</dt> <dd><p>LoongArch LA664-based processor with LSX, LASX and all LoongArch v1.1 instructions. </p></dd> <dt>‘<samp class="samp">la64v1.0</samp>’</dt> <dd><p>LoongArch64 ISA version 1.0. </p></dd> <dt>‘<samp class="samp">la64v1.1</samp>’</dt> <dd><p>LoongArch64 ISA version 1.1. </p></dd> </dl> <p>More information about LoongArch ISA versions can be found at <a class="uref" href="https://github.com/loongson/la-toolchain-conventions">https://github.com/loongson/la-toolchain-conventions</a>. </p> </dd> <dt>
<span><code class="code">-mtune=<var class="var">tune-type</var></code></span>
</dt> <dd>
<p>Optimize the generated code for the given processor target. </p> <p>The choices for <var class="var">tune-type</var> are: </p> <dl class="table"> <dt>‘<samp class="samp">native</samp>’</dt> <dd><p>Local processor type detected by the native compiler. </p></dd> <dt>‘<samp class="samp">generic</samp>’</dt> <dd><p>Generic LoongArch processor. </p></dd> <dt>‘<samp class="samp">loongarch64</samp>’</dt> <dd><p>Generic LoongArch 64-bit processor. </p></dd> <dt>‘<samp class="samp">la464</samp>’</dt> <dd><p>LoongArch LA464 core. </p></dd> <dt>‘<samp class="samp">la664</samp>’</dt> <dd><p>LoongArch LA664 core. </p></dd> </dl> </dd> <dt>
<span><code class="code">-mabi=<var class="var">base-abi-type</var></code></span>
</dt> <dd>
<p>Generate code for the specified calling convention. <var class="var">base-abi-type</var> can be one of: </p>
<dl class="table"> <dt>‘<samp class="samp">lp64d</samp>’</dt> <dd><p>Uses 64-bit general purpose registers and 32/64-bit floating-point registers for parameter passing. Data model is LP64, where ‘<samp class="samp">int</samp>’ is 32 bits, while ‘<samp class="samp">long int</samp>’ and pointers are 64 bits. </p></dd> <dt>‘<samp class="samp">lp64f</samp>’</dt> <dd><p>Uses 64-bit general purpose registers and 32-bit floating-point registers for parameter passing. Data model is LP64, where ‘<samp class="samp">int</samp>’ is 32 bits, while ‘<samp class="samp">long int</samp>’ and pointers are 64 bits. </p></dd> <dt>‘<samp class="samp">lp64s</samp>’</dt> <dd><p>Uses 64-bit general purpose registers and no floating-point registers for parameter passing. Data model is LP64, where ‘<samp class="samp">int</samp>’ is 32 bits, while ‘<samp class="samp">long int</samp>’ and pointers are 64 bits. </p></dd> </dl> </dd> <dt>
<span><code class="code">-mfpu=<var class="var">fpu-type</var></code></span>
</dt> <dd>
<p>Generate code for the specified FPU type, which can be one of: </p>
<dl class="table"> <dt>‘<samp class="samp">64</samp>’</dt> <dd><p>Allow the use of hardware floating-point instructions for 32-bit and 64-bit operations. </p></dd> <dt>‘<samp class="samp">32</samp>’</dt> <dd><p>Allow the use of hardware floating-point instructions for 32-bit operations. </p></dd> <dt>‘<samp class="samp">none</samp>’</dt> <dt>‘<samp class="samp">0</samp>’</dt> <dd><p>Prevent the use of hardware floating-point instructions. </p></dd> </dl> </dd> <dt>
<span><code class="code">-msimd=<var class="var">simd-type</var></code></span>
</dt> <dd>
<p>Enable generation of LoongArch SIMD instructions for vectorization and via builtin functions. The value can be one of: </p>
<dl class="table"> <dt>‘<samp class="samp">lasx</samp>’</dt> <dd><p>Enable generating instructions from the 256-bit LoongArch Advanced SIMD Extension (LASX) and the 128-bit LoongArch SIMD Extension (LSX). </p></dd> <dt>‘<samp class="samp">lsx</samp>’</dt> <dd><p>Enable generating instructions from the 128-bit LoongArch SIMD Extension (LSX). </p></dd> <dt>‘<samp class="samp">none</samp>’</dt> <dd><p>No LoongArch SIMD instruction may be generated. </p></dd> </dl> </dd> <dt>
<span><code class="code">-msoft-float</code></span>
</dt> <dd>
<p>Force <samp class="option">-mfpu=none</samp> and prevents the use of floating-point registers for parameter passing. This option may change the target ABI. </p> </dd> <dt>
<span><code class="code">-msingle-float</code></span>
</dt> <dd>
<p>Force <samp class="option">-mfpu=32</samp> and allow the use of 32-bit floating-point registers for parameter passing. This option may change the target ABI. </p> </dd> <dt>
<span><code class="code">-mdouble-float</code></span>
</dt> <dd>
<p>Force <samp class="option">-mfpu=64</samp> and allow the use of 32/64-bit floating-point registers for parameter passing. This option may change the target ABI. </p> </dd> <dt>
<span><code class="code">-mlasx</code></span>
</dt> <dt><code class="code">-mno-lasx</code></dt> <dt><code class="code">-mlsx</code></dt> <dt><code class="code">-mno-lsx</code></dt> <dd>
<p>Incrementally adjust the scope of the SIMD extensions (none / LSX / LASX) that can be used by the compiler for code generation. Enabling LASX with <samp class="option">mlasx</samp> automatically enables LSX, and diabling LSX with <samp class="option">mno-lsx</samp> automatically disables LASX. These driver-only options act upon the final <samp class="option">msimd</samp> configuration state and make incremental chagnes in the order they appear on the GCC driver’s command line, deriving the final / canonicalized <samp class="option">msimd</samp> option that is passed to the compiler proper. </p> </dd> <dt>
<span><code class="code">-mbranch-cost=<var class="var">n</var></code></span>
</dt> <dd>
<p>Set the cost of branches to roughly <var class="var">n</var> instructions. </p> </dd> <dt>
<span><code class="code">-mcheck-zero-division</code></span>
</dt> <dt><code class="code">-mno-check-zero-divison</code></dt> <dd>
<p>Trap (do not trap) on integer division by zero. The default is <samp class="option">-mcheck-zero-division</samp> for <samp class="option">-O0</samp> or <samp class="option">-Og</samp>, and <samp class="option">-mno-check-zero-division</samp> for other optimization levels. </p> </dd> <dt>
<span><code class="code">-mcond-move-int</code></span>
</dt> <dt><code class="code">-mno-cond-move-int</code></dt> <dd>
<p>Conditional moves for integral data in general-purpose registers are enabled (disabled). The default is <samp class="option">-mcond-move-int</samp>. </p> </dd> <dt>
<span><code class="code">-mcond-move-float</code></span>
</dt> <dt><code class="code">-mno-cond-move-float</code></dt> <dd>
<p>Conditional moves for floating-point registers are enabled (disabled). The default is <samp class="option">-mcond-move-float</samp>. </p> </dd> <dt>
<span><code class="code">-mmemcpy</code></span>
</dt> <dt><code class="code">-mno-memcpy</code></dt> <dd>
<p>Force (do not force) the use of <code class="code">memcpy</code> for non-trivial block moves. The default is <samp class="option">-mno-memcpy</samp>, which allows GCC to inline most constant-sized copies. Setting optimization level to <samp class="option">-Os</samp> also forces the use of <code class="code">memcpy</code>, but <samp class="option">-mno-memcpy</samp> may override this behavior if explicitly specified, regardless of the order these options on the command line. </p> </dd> <dt>
<span><code class="code">-mstrict-align</code></span>
</dt> <dt><code class="code">-mno-strict-align</code></dt> <dd>
<p>Avoid or allow generating memory accesses that may not be aligned on a natural object boundary as described in the architecture specification. The default is <samp class="option">-mno-strict-align</samp>. </p> </dd> <dt>
<span><code class="code">-msmall-data-limit=<var class="var">number</var></code></span>
</dt> <dd>
<p>Put global and static data smaller than <var class="var">number</var> bytes into a special section (on some targets). The default value is 0. </p> </dd> <dt>
<span><code class="code">-mmax-inline-memcpy-size=<var class="var">n</var></code></span>
</dt> <dd>
<p>Inline all block moves (such as calls to <code class="code">memcpy</code> or structure copies) less than or equal to <var class="var">n</var> bytes. The default value of <var class="var">n</var> is 1024. </p> </dd> <dt>
<span><code class="code">-mcmodel=<var class="var">code-model</var></code></span>
</dt> <dd>
<p>Set the code model to one of: </p>
<dl class="table"> <dt>‘<samp class="samp">tiny-static (Not implemented yet)</samp>’</dt> <dt>‘<samp class="samp">tiny (Not implemented yet)</samp>’</dt> <dt>‘<samp class="samp">normal</samp>’</dt> <dd>
<p>The text segment must be within 128MB addressing space. The data segment must be within 2GB addressing space. </p> </dd> <dt>‘<samp class="samp">medium</samp>’</dt> <dd>
<p>The text segment and data segment must be within 2GB addressing space. </p> </dd> <dt>‘<samp class="samp">large (Not implemented yet)</samp>’</dt> <dt>‘<samp class="samp">extreme</samp>’</dt> <dd><p>This mode does not limit the size of the code segment and data segment. The <samp class="option">-mcmodel=extreme</samp> option is incompatible with <samp class="option">-fplt</samp> and/or <samp class="option">-mexplicit-relocs=none</samp>. </p></dd> </dl> <p>The default code model is <code class="code">normal</code>. </p> </dd> <dt><code class="code">-mexplicit-relocs=<var class="var">style</var></code></dt> <dd>
<p>Set when to use assembler relocation operators when dealing with symbolic addresses. The alternative is to use assembler macros instead, which may limit instruction scheduling but allow linker relaxation. with <samp class="option">-mexplicit-relocs=none</samp> the assembler macros are always used, with <samp class="option">-mexplicit-relocs=always</samp> the assembler relocation operators are always used, with <samp class="option">-mexplicit-relocs=auto</samp> the compiler will use the relocation operators where the linker relaxation is impossible to improve the code quality, and macros elsewhere. The default value for the option is determined with the assembler capability detected during GCC build-time and the setting of <samp class="option">-mrelax</samp>: <samp class="option">-mexplicit-relocs=none</samp> if the assembler does not support relocation operators at all, <samp class="option">-mexplicit-relocs=always</samp> if the assembler supports relocation operators but <samp class="option">-mrelax</samp> is not enabled, <samp class="option">-mexplicit-relocs=auto</samp> if the assembler supports relocation operators and <samp class="option">-mrelax</samp> is enabled. </p> </dd> <dt>
<span><code class="code">-mexplicit-relocs</code></span>
</dt> <dd>
<p>An alias of <samp class="option">-mexplicit-relocs=always</samp> for backward compatibility. </p> </dd> <dt>
<span><code class="code">-mno-explicit-relocs</code></span>
</dt> <dd>
<p>An alias of <samp class="option">-mexplicit-relocs=none</samp> for backward compatibility. </p> </dd> <dt>
<span><code class="code">-mdirect-extern-access</code></span>
</dt> <dt><code class="code">-mno-direct-extern-access</code></dt> <dd>
<p>Do not use or use GOT to access external symbols. The default is <samp class="option">-mno-direct-extern-access</samp>: GOT is used for external symbols with default visibility, but not used for other external symbols. </p> <p>With <samp class="option">-mdirect-extern-access</samp>, GOT is not used and all external symbols are PC-relatively addressed. It is <strong class="strong">only</strong> suitable for environments where no dynamic link is performed, like firmwares, OS kernels, executables linked with <samp class="option">-static</samp> or <samp class="option">-static-pie</samp>. <samp class="option">-mdirect-extern-access</samp> is not compatible with <samp class="option">-fPIC</samp> or <samp class="option">-fpic</samp>. </p> </dd> <dt>
 <span><code class="code">-mrelax</code></span>
</dt> <dt><code class="code">-mno-relax</code></dt> <dd>
<p>Take (do not take) advantage of linker relaxations. If <samp class="option">-mpass-mrelax-to-as</samp> is enabled, this option is also passed to the assembler. The default is determined during GCC build-time by detecting corresponding assembler support: <samp class="option">-mrelax</samp> if the assembler supports both the <samp class="option">-mrelax</samp> option and the conditional branch relaxation (it’s required or the <code class="code">.align</code> directives and conditional branch instructions in the assembly code outputted by GCC may be rejected by the assembler because of a relocation overflow), <samp class="option">-mno-relax</samp> otherwise. </p> </dd> <dt>
 <span><code class="code">-mpass-mrelax-to-as</code></span>
</dt> <dt><code class="code">-mno-pass-mrelax-to-as</code></dt> <dd>
<p>Pass (do not pass) the <samp class="option">-mrelax</samp> or <samp class="option">-mno-relax</samp> option to the assembler. The default is determined during GCC build-time by detecting corresponding assembler support: <samp class="option">-mpass-mrelax-to-as</samp> if the assembler supports the <samp class="option">-mrelax</samp> option, <samp class="option">-mno-pass-mrelax-to-as</samp> otherwise. This option is mostly useful for debugging, or interoperation with assemblers different from the build-time one. </p> </dd> <dt>
<span><code class="code">-mrecip</code></span>
</dt> <dd>
<p>This option enables use of the reciprocal estimate and reciprocal square root estimate instructions with additional Newton-Raphson steps to increase precision instead of doing a divide or square root and divide for floating-point arguments. These instructions are generated only when <samp class="option">-funsafe-math-optimizations</samp> is enabled together with <samp class="option">-ffinite-math-only</samp> and <samp class="option">-fno-trapping-math</samp>. This option is off by default. Before you can use this option, you must sure the target CPU supports frecipe and frsqrte instructions. Note that while the throughput of the sequence is higher than the throughput of the non-reciprocal instruction, the precision of the sequence can be decreased by up to 2 ulp (i.e. the inverse of 1.0 equals 0.99999994). </p> </dd> <dt>
<span><code class="code">-mrecip=<var class="var">opt</var></code></span>
</dt> <dd>
<p>This option controls which reciprocal estimate instructions may be used. <var class="var">opt</var> is a comma-separated list of options, which may be preceded by a ‘<samp class="samp">!</samp>’ to invert the option: </p> <dl class="table"> <dt>‘<samp class="samp">all</samp>’</dt> <dd>
<p>Enable all estimate instructions. </p> </dd> <dt>‘<samp class="samp">default</samp>’</dt> <dd>
<p>Enable the default instructions, equivalent to <samp class="option">-mrecip</samp>. </p> </dd> <dt>‘<samp class="samp">none</samp>’</dt> <dd>
<p>Disable all estimate instructions, equivalent to <samp class="option">-mno-recip</samp>. </p> </dd> <dt>‘<samp class="samp">div</samp>’</dt> <dd>
<p>Enable the approximation for scalar division. </p> </dd> <dt>‘<samp class="samp">vec-div</samp>’</dt> <dd>
<p>Enable the approximation for vectorized division. </p> </dd> <dt>‘<samp class="samp">sqrt</samp>’</dt> <dd>
<p>Enable the approximation for scalar square root. </p> </dd> <dt>‘<samp class="samp">vec-sqrt</samp>’</dt> <dd>
<p>Enable the approximation for vectorized square root. </p> </dd> <dt>‘<samp class="samp">rsqrt</samp>’</dt> <dd>
<p>Enable the approximation for scalar reciprocal square root. </p> </dd> <dt>‘<samp class="samp">vec-rsqrt</samp>’</dt> <dd><p>Enable the approximation for vectorized reciprocal square root. </p></dd> </dl> <p>So, for example, <samp class="option">-mrecip=all,!sqrt</samp> enables all of the reciprocal approximations, except for scalar square root. </p> </dd> <dt>
 <span><code class="code">-mfrecipe</code></span>
</dt> <dt><code class="code">-mno-frecipe</code></dt> <dd>
<p>Use (do not use) <code class="code">frecipe.{s/d}</code> and <code class="code">frsqrte.{s/d}</code> instructions. When build with <samp class="option">-march=la664</samp>, it is enabled by default. The default is <samp class="option">-mno-frecipe</samp>. </p> </dd> <dt>
 <span><code class="code">-mdiv32</code></span>
</dt> <dt><code class="code">-mno-div32</code></dt> <dd>
<p>Use (do not use) <code class="code">div.w[u]</code> and <code class="code">mod.w[u]</code> instructions with input not sign-extended. When build with <samp class="option">-march=la664</samp>, it is enabled by default. The default is <samp class="option">-mno-div32</samp>. </p> </dd> <dt>
 <span><code class="code">-mlam-bh</code></span>
</dt> <dt><code class="code">-mno-lam-bh</code></dt> <dd>
<p>Use (do not use) <code class="code">am{swap/add}[_db].{b/h}</code> instructions. When build with <samp class="option">-march=la664</samp>, it is enabled by default. The default is <samp class="option">-mno-lam-bh</samp>. </p> </dd> <dt>
 <span><code class="code">-mlamcas</code></span>
</dt> <dt><code class="code">-mno-lamcas</code></dt> <dd>
<p>Use (do not use) <code class="code">amcas[_db].{b/h/w/d}</code> instructions. When build with <samp class="option">-march=la664</samp>, it is enabled by default. The default is <samp class="option">-mno-lamcas</samp>. </p> </dd> <dt>
 <span><code class="code">-mld-seq-sa</code></span>
</dt> <dt><code class="code">-mno-ld-seq-sa</code></dt> <dd>
<p>Whether a load-load barrier (<code class="code">dbar 0x700</code>) is needed. When build with <samp class="option">-march=la664</samp>, it is enabled by default. The default is <samp class="option">-mno-ld-seq-sa</samp>, the load-load barrier is needed. </p> </dd> <dt>
<span><code class="code">-mtls-dialect=<var class="var">opt</var></code></span>
</dt> <dd>
<p>This option controls which tls dialect may be used for general dynamic and local dynamic TLS models. </p> <dl class="table"> <dt>‘<samp class="samp">trad</samp>’</dt> <dd>
<p>Use traditional TLS. This is the default. </p> </dd> <dt>‘<samp class="samp">desc</samp>’</dt> <dd><p>Use TLS descriptors. </p></dd> </dl> </dd> <dt><code class="code">--param loongarch-vect-unroll-limit=<var class="var">n</var></code></dt> <dd>
<p>The vectorizer will use available tuning information to determine whether it would be beneficial to unroll the main vectorized loop and by how much. This parameter set’s the upper bound of how much the vectorizer will unroll the main loop. The default value is six. </p> </dd> </dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-14.2.0/gcc/LoongArch-Options.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-14.2.0/gcc/LoongArch-Options.html</a>
  </p>
</div>
