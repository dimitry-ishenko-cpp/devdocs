<h1 class="subsection" id="Microsoft-Windows-Variable-Attributes-1">6.34.9 Microsoft Windows Variable Attributes</h1> <div class="subsection-level-extent" id="Microsoft-Windows-Variable-Attributes">    <p>You can use these attributes on Microsoft Windows targets. <a class="ref" href="variable-attributes.html">x86 Variable Attributes</a> for additional Windows compatibility attributes available on all x86 targets. </p> <dl class="table"> <dt>
 <span><code class="code">dllimport</code></span>
</dt> <dt><code class="code">dllexport</code></dt> <dd>
<p>The <code class="code">dllimport</code> and <code class="code">dllexport</code> attributes are described in <a class="ref" href="microsoft-windows-function-attributes.html">Microsoft Windows Function Attributes</a>. </p> </dd> <dt>
<span><code class="code">selectany</code></span>
</dt> <dd>
<p>The <code class="code">selectany</code> attribute causes an initialized global variable to have link-once semantics. When multiple definitions of the variable are encountered by the linker, the first is selected and the remainder are discarded. Following usage by the Microsoft compiler, the linker is told <em class="emph">not</em> to warn about size or content differences of the multiple definitions. </p> <p>Although the primary usage of this attribute is for POD types, the attribute can also be applied to global C++ objects that are initialized by a constructor. In this case, the static initialization and destruction code for the object is emitted in each translation defining the object, but the calls to the constructor and destructor are protected by a link-once guard variable. </p> <p>The <code class="code">selectany</code> attribute is only available on Microsoft Windows targets. You can use <code class="code">__declspec (selectany)</code> as a synonym for <code class="code">__attribute__ ((selectany))</code> for compatibility with other compilers. </p> </dd> <dt>
<span><code class="code">shared</code></span>
</dt> <dd>
<p>On Microsoft Windows, in addition to putting variable definitions in a named section, the section can also be shared among all running copies of an executable or DLL. For example, this small program defines shared data by putting it in a named section <code class="code">shared</code> and marking the section shareable: </p> <div class="example smallexample"> <pre class="example-preformatted" data-language="cpp">int foo __attribute__((section ("shared"), shared)) = 0;

int
main()
{
  /* <span class="r">Read and write foo.  All running
     copies see the same value.</span>  */
  return 0;
}</pre>
</div> <p>You may only use the <code class="code">shared</code> attribute along with <code class="code">section</code> attribute with a fully-initialized global definition because of the way linkers work. See <code class="code">section</code> attribute for more information. </p> <p>The <code class="code">shared</code> attribute is only available on Microsoft Windows. </p> </dd> </dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; Free Software Foundation<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://gcc.gnu.org/onlinedocs/gcc-14.2.0/gcc/Microsoft-Windows-Variable-Attributes.html" class="_attribution-link">https://gcc.gnu.org/onlinedocs/gcc-14.2.0/gcc/Microsoft-Windows-Variable-Attributes.html</a>
  </p>
</div>
