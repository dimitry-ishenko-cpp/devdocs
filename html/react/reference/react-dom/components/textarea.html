<h1>&lt;textarea&gt;
</h1>
<div>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea" target="_blank" rel="nofollow noopener noreferrer">built-in browser <code dir="ltr">&lt;textarea&gt;</code> component</a> lets you render a multiline text input.</p>
<pre data-language="jsx"><code><span>&lt;</span><span>textarea</span> <span>/&gt;</span></code></pre>
</div> <ul>
<li>
<a href="#reference">Reference </a><ul><li><a href="#textarea"><code dir="ltr">&lt;textarea&gt;</code> </a></li></ul>
</li>
<li>
<a href="#usage">Usage </a><ul>
<li><a href="#displaying-a-text-area">Displaying a text area </a></li>
<li><a href="#providing-a-label-for-a-text-area">Providing a label for a text area </a></li>
<li><a href="#providing-an-initial-value-for-a-text-area">Providing an initial value for a text area </a></li>
<li><a href="#reading-the-text-area-value-when-submitting-a-form">Reading the text area value when submitting a form </a></li>
<li><a href="#controlling-a-text-area-with-a-state-variable">Controlling a text area with a state variable </a></li>
</ul>
</li>
<li>
<a href="#troubleshooting">Troubleshooting </a><ul>
<li><a href="#my-text-area-doesnt-update-when-i-type-into-it">My text area doesn’t update when I type into it </a></li>
<li><a href="#my-text-area-caret-jumps-to-the-beginning-on-every-keystroke">My text area caret jumps to the beginning on every keystroke </a></li>
<li><a href="#im-getting-an-error-a-component-is-changing-an-uncontrolled-input-to-be-controlled">I’m getting an error: “A component is changing an uncontrolled input to be controlled” </a></li>
</ul>
</li>
</ul> <hr> <h2 id="reference">Reference 
</h2> <h3 id="textarea">
<code dir="ltr">&lt;textarea&gt;</code> 
</h3> <p>To display a text area, render the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea" target="_blank" rel="nofollow noopener noreferrer">built-in browser <code dir="ltr">&lt;textarea&gt;</code></a> component.</p> <pre data-language="jsx"><code><span>&lt;</span><span>textarea</span> <span>name</span>=<span>"postContent"</span> <span>/&gt;</span></code></pre> <p><a href="#usage">See more examples below.</a></p> <h4 id="props">Props 
</h4> <p><code dir="ltr">&lt;textarea&gt;</code> supports all <a href="common.html#props">common element props.</a></p> <p>You can <a href="#controlling-a-text-area-with-a-state-variable">make a text area controlled</a> by passing a <code dir="ltr">value</code> prop:</p> <ul> <li>
<code dir="ltr">value</code>: A string. Controls the text inside the text area.</li> </ul> <p>When you pass <code dir="ltr">value</code>, you must also pass an <code dir="ltr">onChange</code> handler that updates the passed value.</p> <p>If your <code dir="ltr">&lt;textarea&gt;</code> is uncontrolled, you may pass the <code dir="ltr">defaultValue</code> prop instead:</p> <ul> <li>
<code dir="ltr">defaultValue</code>: A string. Specifies <a href="#providing-an-initial-value-for-a-text-area">the initial value</a> for a text area.</li> </ul> <p>These <code dir="ltr">&lt;textarea&gt;</code> props are relevant both for uncontrolled and controlled text areas:</p> <ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#autocomplete" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">autoComplete</code></a>: Either <code dir="ltr">'on'</code> or <code dir="ltr">'off'</code>. Specifies the autocomplete behavior.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#autofocus" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">autoFocus</code></a>: A boolean. If <code dir="ltr">true</code>, React will focus the element on mount.</li> <li>
<code dir="ltr">children</code>: <code dir="ltr">&lt;textarea&gt;</code> does not accept children. To set the initial value, use <code dir="ltr">defaultValue</code>.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#cols" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">cols</code></a>: A number. Specifies the default width in average character widths. Defaults to <code dir="ltr">20</code>.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#disabled" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">disabled</code></a>: A boolean. If <code dir="ltr">true</code>, the input will not be interactive and will appear dimmed.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#form" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">form</code></a>: A string. Specifies the <code dir="ltr">id</code> of the <code dir="ltr">&lt;form&gt;</code> this input belongs to. If omitted, it’s the closest parent form.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#maxlength" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">maxLength</code></a>: A number. Specifies the maximum length of text.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#minlength" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">minLength</code></a>: A number. Specifies the minimum length of text.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#name" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">name</code></a>: A string. Specifies the name for this input that’s <a href="#reading-the-textarea-value-when-submitting-a-form">submitted with the form.</a>
</li> <li>
<code dir="ltr">onChange</code>: An <a href="common.html#event-handler"><code dir="ltr">Event</code> handler</a> function. Required for <a href="#controlling-a-text-area-with-a-state-variable">controlled text areas.</a> Fires immediately when the input’s value is changed by the user (for example, it fires on every keystroke). Behaves like the browser <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/input_event" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">input</code> event.</a>
</li> <li>
<code dir="ltr">onChangeCapture</code>: A version of <code dir="ltr">onChange</code> that fires in the <a href="../../../learn/responding-to-events.html#capture-phase-events">capture phase.</a>
</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/input_event" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">onInput</code></a>: An <a href="common.html#event-handler"><code dir="ltr">Event</code> handler</a> function. Fires immediately when the value is changed by the user. For historical reasons, in React it is idiomatic to use <code dir="ltr">onChange</code> instead which works similarly.</li> <li>
<code dir="ltr">onInputCapture</code>: A version of <code dir="ltr">onInput</code> that fires in the <a href="../../../learn/responding-to-events.html#capture-phase-events">capture phase.</a>
</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/invalid_event" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">onInvalid</code></a>: An <a href="common.html#event-handler"><code dir="ltr">Event</code> handler</a> function. Fires if an input fails validation on form submit. Unlike the built-in <code dir="ltr">invalid</code> event, the React <code dir="ltr">onInvalid</code> event bubbles.</li> <li>
<code dir="ltr">onInvalidCapture</code>: A version of <code dir="ltr">onInvalid</code> that fires in the <a href="../../../learn/responding-to-events.html#capture-phase-events">capture phase.</a>
</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLTextAreaElement/select_event" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">onSelect</code></a>: An <a href="common.html#event-handler"><code dir="ltr">Event</code> handler</a> function. Fires after the selection inside the <code dir="ltr">&lt;textarea&gt;</code> changes. React extends the <code dir="ltr">onSelect</code> event to also fire for empty selection and on edits (which may affect the selection).</li> <li>
<code dir="ltr">onSelectCapture</code>: A version of <code dir="ltr">onSelect</code> that fires in the <a href="../../../learn/responding-to-events.html#capture-phase-events">capture phase.</a>
</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#placeholder" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">placeholder</code></a>: A string. Displayed in a dimmed color when the text area value is empty.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#readonly" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">readOnly</code></a>: A boolean. If <code dir="ltr">true</code>, the text area is not editable by the user.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#required" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">required</code></a>: A boolean. If <code dir="ltr">true</code>, the value must be provided for the form to submit.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#rows" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">rows</code></a>: A number. Specifies the default height in average character heights. Defaults to <code dir="ltr">2</code>.</li> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#wrap" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">wrap</code></a>: Either <code dir="ltr">'hard'</code>, <code dir="ltr">'soft'</code>, or <code dir="ltr">'off'</code>. Specifies how the text should be wrapped when submitting a form.</li> </ul> <h4 id="caveats">Caveats 
</h4> <ul> <li>Passing children like <code dir="ltr">&lt;textarea&gt;something&lt;/textarea&gt;</code> is not allowed. <a href="#providing-an-initial-value-for-a-text-area">Use <code dir="ltr">defaultValue</code> for initial content.</a>
</li> <li>If a text area receives a string <code dir="ltr">value</code> prop, it will be <a href="#controlling-a-text-area-with-a-state-variable">treated as controlled.</a>
</li> <li>A text area can’t be both controlled and uncontrolled at the same time.</li> <li>A text area cannot switch between being controlled or uncontrolled over its lifetime.</li> <li>Every controlled text area needs an <code dir="ltr">onChange</code> event handler that synchronously updates its backing value.</li> </ul> <hr> <h2 id="usage">Usage 
</h2> <h3 id="displaying-a-text-area">Displaying a text area 
</h3> <p>Render <code dir="ltr">&lt;textarea&gt;</code> to display a text area. You can specify its default size with the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#rows" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">rows</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea#cols" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">cols</code></a> attributes, but by default the user will be able to resize it. To disable resizing, you can specify <code dir="ltr">resize: none</code> in the CSS.</p> 
<pre data-language="jsx"><span>export</span> <span>default</span> <span>function</span> <span>NewPost</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>label</span><span>&gt;</span>
      Write your post:
      <span>&lt;</span><span>textarea</span> <span>name</span>=<span>"postContent"</span> <span>rows</span>=<span>{</span><span>4</span><span>}</span> <span>cols</span>=<span>{</span><span>40</span><span>}</span> <span>/&gt;</span>
    <span>&lt;/</span><span>label</span><span>&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

</pre> <hr> <h3 id="providing-a-label-for-a-text-area">Providing a label for a text area 
</h3> <p>Typically, you will place every <code dir="ltr">&lt;textarea&gt;</code> inside a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">&lt;label&gt;</code></a> tag. This tells the browser that this label is associated with that text area. When the user clicks the label, the browser will focus the text area. It’s also essential for accessibility: a screen reader will announce the label caption when the user focuses the text area.</p> <p>If you can’t nest <code dir="ltr">&lt;textarea&gt;</code> into a <code dir="ltr">&lt;label&gt;</code>, associate them by passing the same ID to <code dir="ltr">&lt;textarea id&gt;</code> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLLabelElement/htmlFor" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">&lt;label htmlFor&gt;</code>.</a> To avoid conflicts between instances of one component, generate such an ID with <a href="../../react/useid.html"><code dir="ltr">useId</code>.</a></p> 
<pre data-language="jsx"><span>import</span> <span>{</span> <span>useId</span> <span>}</span> <span>from</span> <span>'react'</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>Form</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>postTextAreaId</span> = <span>useId</span><span>(</span><span>)</span><span>;</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>&gt;</span>
      <span>&lt;</span><span>label</span> <span>htmlFor</span>=<span>{</span><span>postTextAreaId</span><span>}</span><span>&gt;</span>
        Write your post:
      <span>&lt;/</span><span>label</span><span>&gt;</span>
      <span>&lt;</span><span>textarea</span>
        <span>id</span>=<span>{</span><span>postTextAreaId</span><span>}</span>
        <span>name</span>=<span>"postContent"</span>
        <span>rows</span>=<span>{</span><span>4</span><span>}</span>
        <span>cols</span>=<span>{</span><span>40</span><span>}</span>
      <span>/&gt;</span>
    <span>&lt;/</span><span>&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

</pre> <hr> <h3 id="providing-an-initial-value-for-a-text-area">Providing an initial value for a text area 
</h3> <p>You can optionally specify the initial value for the text area. Pass it as the <code dir="ltr">defaultValue</code> string.</p> 
<pre data-language="jsx"><span>export</span> <span>default</span> <span>function</span> <span>EditPost</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>label</span><span>&gt;</span>
      Edit your post:
      <span>&lt;</span><span>textarea</span>
        <span>name</span>=<span>"postContent"</span>
        <span>defaultValue</span>=<span>"I really enjoyed biking yesterday!"</span>
        <span>rows</span>=<span>{</span><span>4</span><span>}</span>
        <span>cols</span>=<span>{</span><span>40</span><span>}</span>
      <span>/&gt;</span>
    <span>&lt;/</span><span>label</span><span>&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

</pre> <div class="note note-orange">
<h4>Pitfall</h4>
<div><p>Unlike in HTML, passing initial text like <code dir="ltr">&lt;textarea&gt;Some content&lt;/textarea&gt;</code> is not supported.</p></div>
</div> <hr> <h3 id="reading-the-text-area-value-when-submitting-a-form">Reading the text area value when submitting a form 
</h3> <p>Add a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">&lt;form&gt;</code></a> around your textarea with a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">&lt;button type="submit"&gt;</code></a> inside. It will call your <code dir="ltr">&lt;form onSubmit&gt;</code> event handler. By default, the browser will send the form data to the current URL and refresh the page. You can override that behavior by calling <code dir="ltr">e.preventDefault()</code>. Read the form data with <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">new FormData(e.target)</code></a>.</p> 
<pre data-language="jsx"><span>export</span> <span>default</span> <span>function</span> <span>EditPost</span><span>(</span><span>)</span> <span>{</span>
  <span>function</span> <span>handleSubmit</span><span>(</span><span>e</span><span>)</span> <span>{</span>
    <span>// Prevent the browser from reloading the page</span>
    <span>e</span>.<span>preventDefault</span><span>(</span><span>)</span><span>;</span>

    <span>// Read the form data</span>
    <span>const</span> <span>form</span> = <span>e</span>.<span>target</span><span>;</span>
    <span>const</span> <span>formData</span> = <span>new</span> <span>FormData</span><span>(</span><span>form</span><span>)</span><span>;</span>

    <span>// You can pass formData as a fetch body directly:</span>
    <span>fetch</span><span>(</span><span>'/some-api'</span><span>,</span> <span>{</span> <span>method</span><span>:</span> <span>form</span>.<span>method</span><span>,</span> <span>body</span><span>:</span> <span>formData</span> <span>}</span><span>)</span><span>;</span>

    <span>// Or you can work with it as a plain object:</span>
    <span>const</span> <span>formJson</span> = <span>Object</span>.<span>fromEntries</span><span>(</span><span>formData</span>.<span>entries</span><span>(</span><span>)</span><span>)</span><span>;</span>
    <span>console</span>.<span>log</span><span>(</span><span>formJson</span><span>)</span><span>;</span>
  <span>}</span>

  <span>return</span> <span>(</span>
    <span>&lt;</span><span>form</span> <span>method</span>=<span>"post"</span> <span>onSubmit</span>=<span>{</span><span>handleSubmit</span><span>}</span><span>&gt;</span>
      <span>&lt;</span><span>label</span><span>&gt;</span>
        Post title: <span>&lt;</span><span>input</span> <span>name</span>=<span>"postTitle"</span> <span>defaultValue</span>=<span>"Biking"</span> <span>/&gt;</span>
      <span>&lt;/</span><span>label</span><span>&gt;</span>
      <span>&lt;</span><span>label</span><span>&gt;</span>
        Edit your post:
        <span>&lt;</span><span>textarea</span>
          <span>name</span>=<span>"postContent"</span>
          <span>defaultValue</span>=<span>"I really enjoyed biking yesterday!"</span>
          <span>rows</span>=<span>{</span><span>4</span><span>}</span>
          <span>cols</span>=<span>{</span><span>40</span><span>}</span>
        <span>/&gt;</span>
      <span>&lt;/</span><span>label</span><span>&gt;</span>
      <span>&lt;</span><span>hr</span> <span>/&gt;</span>
      <span>&lt;</span><span>button</span> <span>type</span>=<span>"reset"</span><span>&gt;</span>Reset edits<span>&lt;/</span><span>button</span><span>&gt;</span>
      <span>&lt;</span><span>button</span> <span>type</span>=<span>"submit"</span><span>&gt;</span>Save post<span>&lt;/</span><span>button</span><span>&gt;</span>
    <span>&lt;/</span><span>form</span><span>&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

</pre> <div class="note note-green">
<h4>Note</h4>
<div><p>Give a <code dir="ltr">name</code> to your <code dir="ltr">&lt;textarea&gt;</code>, for example <code dir="ltr">&lt;textarea name="postContent" /&gt;</code>. The <code dir="ltr">name</code> you specified will be used as a key in the form data, for example <code dir="ltr">{ postContent: "Your post" }</code>.</p></div>
</div> <div class="note note-orange">
<h4>Pitfall</h4>
<div><p>By default, <em>any</em> <code dir="ltr">&lt;button&gt;</code> inside a <code dir="ltr">&lt;form&gt;</code> will submit it. This can be surprising! If you have your own custom <code dir="ltr">Button</code> React component, consider returning <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/button" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">&lt;button type="button"&gt;</code></a> instead of <code dir="ltr">&lt;button&gt;</code>. Then, to be explicit, use <code dir="ltr">&lt;button type="submit"&gt;</code> for buttons that <em>are</em> supposed to submit the form.</p></div>
</div> <hr> <h3 id="controlling-a-text-area-with-a-state-variable">Controlling a text area with a state variable 
</h3> <p>A text area like <code dir="ltr">&lt;textarea /&gt;</code> is <em>uncontrolled.</em> Even if you <a href="#providing-an-initial-value-for-a-text-area">pass an initial value</a> like <code dir="ltr">&lt;textarea defaultValue="Initial text" /&gt;</code>, your JSX only specifies the initial value, not the value right now.</p> <p><strong>To render a <em>controlled</em> text area, pass the <code dir="ltr">value</code> prop to it.</strong> React will force the text area to always have the <code dir="ltr">value</code> you passed. Typically, you will control a text area by declaring a <a href="../../react/usestate.html">state variable:</a></p> <pre data-language="jsx"><code><span>function</span> <span>NewPost</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>[</span><span>postContent</span><span>,</span> <span>setPostContent</span><span>]</span> = <span>useState</span><span>(</span><span>''</span><span>)</span><span>;</span> <span>// Declare a state variable...</span>
  <span>// ...</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>textarea</span>
      <span>value</span>=<span>{</span><span>postContent</span><span>}</span> <span>// ...force the input's value to match the state variable...</span>
      <span>onChange</span>=<span>{</span><span>e</span> <span>=&gt;</span> <span>setPostContent</span><span>(</span><span>e</span>.<span>target</span>.<span>value</span><span>)</span><span>}</span> <span>// ... and update the state variable on any edits!</span>
    <span>/&gt;</span>
  <span>)</span><span>;</span>
<span>}</span></code></pre> <p>This is useful if you want to re-render some part of the UI in response to every keystroke.</p> 
<pre data-language="jsx"><span>{</span>
  <span>"dependencies"</span><span>:</span> <span>{</span>
    <span>"react"</span><span>:</span> <span>"latest"</span><span>,</span>
    <span>"react-dom"</span><span>:</span> <span>"latest"</span><span>,</span>
    <span>"react-scripts"</span><span>:</span> <span>"latest"</span><span>,</span>
    <span>"remarkable"</span><span>:</span> <span>"2.0.1"</span>
  <span>}</span><span>,</span>
  <span>"scripts"</span><span>:</span> <span>{</span>
    <span>"start"</span><span>:</span> <span>"react-scripts start"</span><span>,</span>
    <span>"build"</span><span>:</span> <span>"react-scripts build"</span><span>,</span>
    <span>"test"</span><span>:</span> <span>"react-scripts test --env=jsdom"</span><span>,</span>
    <span>"eject"</span><span>:</span> <span>"react-scripts eject"</span>
  <span>}</span><span>,</span>
  <span>"devDependencies"</span><span>:</span> <span>{</span><span>}</span>
<span>}</span></pre> <div class="note note-orange">
<h4>Pitfall</h4>
<div><p><strong>If you pass <code dir="ltr">value</code> without <code dir="ltr">onChange</code>, it will be impossible to type into the text area.</strong> When you control a text area by passing some <code dir="ltr">value</code> to it, you <em>force</em> it to always have the value you passed. So if you pass a state variable as a <code dir="ltr">value</code> but forget to update that state variable synchronously during the <code dir="ltr">onChange</code> event handler, React will revert the text area after every keystroke back to the <code dir="ltr">value</code> that you specified.</p></div>
</div> <hr> <h2 id="troubleshooting">Troubleshooting 
</h2> <h3 id="my-text-area-doesnt-update-when-i-type-into-it">My text area doesn’t update when I type into it 
</h3> <p>If you render a text area with <code dir="ltr">value</code> but no <code dir="ltr">onChange</code>, you will see an error in the console:</p> <pre data-language="jsx"><code><span>// 🔴 Bug: controlled text area with no onChange handler</span>
<span>&lt;</span><span>textarea</span> <span>value</span>=<span>{</span><span>something</span><span>}</span> <span>/&gt;</span></code></pre> 
<div>Console</div>



You provided a <code dir="ltr">value</code> prop to a form field without an <code dir="ltr">onChange</code> handler. This will render a read-only field. If the field should be mutable use <code dir="ltr">defaultValue</code>. Otherwise, set either <code dir="ltr">onChange</code> or <code dir="ltr">readOnly</code>. <p>As the error message suggests, if you only wanted to <a href="#providing-an-initial-value-for-a-text-area">specify the <em>initial</em> value,</a> pass <code dir="ltr">defaultValue</code> instead:</p> <pre data-language="jsx"><code><span>// ✅ Good: uncontrolled text area with an initial value</span>
<span>&lt;</span><span>textarea</span> <span>defaultValue</span>=<span>{</span><span>something</span><span>}</span> <span>/&gt;</span></code></pre> <p>If you want <a href="#controlling-a-text-area-with-a-state-variable">to control this text area with a state variable,</a> specify an <code dir="ltr">onChange</code> handler:</p> <pre data-language="jsx"><code><span>// ✅ Good: controlled text area with onChange</span>
<span>&lt;</span><span>textarea</span> <span>value</span>=<span>{</span><span>something</span><span>}</span> <span>onChange</span>=<span>{</span><span>e</span> <span>=&gt;</span> <span>setSomething</span><span>(</span><span>e</span>.<span>target</span>.<span>value</span><span>)</span><span>}</span> <span>/&gt;</span></code></pre> <p>If the value is intentionally read-only, add a <code dir="ltr">readOnly</code> prop to suppress the error:</p> <pre data-language="jsx"><code><span>// ✅ Good: readonly controlled text area without on change</span>
<span>&lt;</span><span>textarea</span> <span>value</span>=<span>{</span><span>something</span><span>}</span> <span>readOnly</span>=<span>{</span><span>true</span><span>}</span> <span>/&gt;</span></code></pre> <hr> <h3 id="my-text-area-caret-jumps-to-the-beginning-on-every-keystroke">My text area caret jumps to the beginning on every keystroke 
</h3> <p>If you <a href="#controlling-a-text-area-with-a-state-variable">control a text area,</a> you must update its state variable to the text area’s value from the DOM during <code dir="ltr">onChange</code>.</p> <p>You can’t update it to something other than <code dir="ltr">e.target.value</code>:</p> <pre data-language="jsx"><code><span>function</span> <span>handleChange</span><span>(</span><span>e</span><span>)</span> <span>{</span>
  <span>// 🔴 Bug: updating an input to something other than e.target.value</span>
  <span>setFirstName</span><span>(</span><span>e</span>.<span>target</span>.<span>value</span>.<span>toUpperCase</span><span>(</span><span>)</span><span>)</span><span>;</span>
<span>}</span></code></pre> <p>You also can’t update it asynchronously:</p> <pre data-language="jsx"><code><span>function</span> <span>handleChange</span><span>(</span><span>e</span><span>)</span> <span>{</span>
  <span>// 🔴 Bug: updating an input asynchronously</span>
  <span>setTimeout</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>setFirstName</span><span>(</span><span>e</span>.<span>target</span>.<span>value</span><span>)</span><span>;</span>
  <span>}</span><span>,</span> <span>100</span><span>)</span><span>;</span>
<span>}</span></code></pre> <p>To fix your code, update it synchronously to <code dir="ltr">e.target.value</code>:</p> <pre data-language="jsx"><code><span>function</span> <span>handleChange</span><span>(</span><span>e</span><span>)</span> <span>{</span>
  <span>// ✅ Updating a controlled input to e.target.value synchronously</span>
  <span>setFirstName</span><span>(</span><span>e</span>.<span>target</span>.<span>value</span><span>)</span><span>;</span>
<span>}</span></code></pre> <p>If this doesn’t fix the problem, it’s possible that the text area gets removed and re-added from the DOM on every keystroke. This can happen if you’re accidentally <a href="../../../learn/preserving-and-resetting-state.html">resetting state</a> on every re-render. For example, this can happen if the text area or one of its parents always receives a different <code dir="ltr">key</code> attribute, or if you nest component definitions (which is not allowed in React and causes the “inner” component to remount on every render).</p> <hr> <h3 id="im-getting-an-error-a-component-is-changing-an-uncontrolled-input-to-be-controlled">I’m getting an error: “A component is changing an uncontrolled input to be controlled” 
</h3> <p>If you provide a <code dir="ltr">value</code> to the component, it must remain a string throughout its lifetime.</p> <p>You cannot pass <code dir="ltr">value={undefined}</code> first and later pass <code dir="ltr">value="some string"</code> because React won’t know whether you want the component to be uncontrolled or controlled. A controlled component should always receive a string <code dir="ltr">value</code>, not <code dir="ltr">null</code> or <code dir="ltr">undefined</code>.</p> <p>If your <code dir="ltr">value</code> is coming from an API or a state variable, it might be initialized to <code dir="ltr">null</code> or <code dir="ltr">undefined</code>. In that case, either set it to an empty string (<code dir="ltr">''</code>) initially, or pass <code dir="ltr">value={someValue ?? ''}</code> to ensure <code dir="ltr">value</code> is a string.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2013&ndash;present Facebook Inc.<br>Licensed under the Creative Commons Attribution 4.0 International Public License.<br>
    <a href="https://react.dev/reference/react-dom/components/textarea" class="_attribution-link">https://react.dev/reference/react-dom/components/textarea</a>
  </p>
</div>
