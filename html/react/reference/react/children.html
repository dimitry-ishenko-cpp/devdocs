<h1>Children
</h1>
<div class="note note-orange">
<h4>Pitfall</h4>
<div><p>Using <code dir="ltr">Children</code> is uncommon and can lead to fragile code. <a href="#alternatives">See common alternatives.</a></p></div>
</div> <div>
<p><code dir="ltr">Children</code> lets you manipulate and transform the JSX you received as the <a href="../../learn/passing-props-to-a-component.html#passing-jsx-as-children"><code dir="ltr">children</code> prop.</a></p>
<pre data-language="jsx"><code><span>const</span> <span>mappedChildren</span> = <span>Children</span>.<span>map</span><span>(</span><span>children</span><span>,</span> <span>child</span> <span>=&gt;</span>
  <span>&lt;</span><span>div</span> <span>className</span>=<span>"Row"</span><span>&gt;</span>
    <span>{</span><span>child</span><span>}</span>
  <span>&lt;/</span><span>div</span><span>&gt;</span>
<span>)</span><span>;</span></code></pre>
</div> <ul>
<li>
<a href="#reference">Reference </a><ul>
<li><a href="#children-count"><code dir="ltr">Children.count(children)</code> </a></li>
<li><a href="#children-foreach"><code dir="ltr">Children.forEach(children, fn, thisArg?)</code> </a></li>
<li><a href="#children-map"><code dir="ltr">Children.map(children, fn, thisArg?)</code> </a></li>
<li><a href="#children-only"><code dir="ltr">Children.only(children)</code> </a></li>
<li><a href="#children-toarray"><code dir="ltr">Children.toArray(children)</code> </a></li>
</ul>
</li>
<li>
<a href="#usage">Usage </a><ul>
<li><a href="#transforming-children">Transforming children </a></li>
<li><a href="#running-some-code-for-each-child">Running some code for each child </a></li>
<li><a href="#counting-children">Counting children </a></li>
<li><a href="#converting-children-to-an-array">Converting children to an array </a></li>
</ul>
</li>
<li>
<a href="#alternatives">Alternatives </a><ul>
<li><a href="#exposing-multiple-components">Exposing multiple components </a></li>
<li><a href="#accepting-an-array-of-objects-as-a-prop">Accepting an array of objects as a prop </a></li>
<li><a href="#calling-a-render-prop-to-customize-rendering">Calling a render prop to customize rendering </a></li>
</ul>
</li>
<li>
<a href="#troubleshooting">Troubleshooting </a><ul><li><a href="#i-pass-a-custom-component-but-the-children-methods-dont-show-its-render-result">I pass a custom component, but the <code dir="ltr">Children</code> methods don’t show its render result </a></li></ul>
</li>
</ul> <hr> <h2 id="reference">Reference 
</h2> <h3 id="children-count">
<code dir="ltr">Children.count(children)</code> 
</h3> <p>Call <code dir="ltr">Children.count(children)</code> to count the number of children in the <code dir="ltr">children</code> data structure.</p> <pre data-language="jsx"><code><span>import</span> <span>{</span> <span>Children</span> <span>}</span> <span>from</span> <span>'react'</span><span>;</span>

<span>function</span> <span>RowList</span><span>(</span><span>{</span> <span>children</span> <span>}</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>&gt;</span>
      <span>&lt;</span><span>h1</span><span>&gt;</span>Total rows: <span>{</span><span>Children</span>.<span>count</span><span>(</span><span>children</span><span>)</span><span>}</span><span>&lt;/</span><span>h1</span><span>&gt;</span>
      ...
    <span>&lt;/</span><span>&gt;</span>
  <span>)</span><span>;</span>
<span>}</span></code></pre> <p><a href="#counting-children">See more examples below.</a></p> <h4 id="children-count-parameters">Parameters 
</h4> <ul> <li>
<code dir="ltr">children</code>: The value of the <a href="../../learn/passing-props-to-a-component.html#passing-jsx-as-children"><code dir="ltr">children</code> prop</a> received by your component.</li> </ul> <h4 id="children-count-returns">Returns 
</h4> <p>The number of nodes inside these <code dir="ltr">children</code>.</p> <h4 id="children-count-caveats">Caveats 
</h4> <ul> <li>Empty nodes (<code dir="ltr">null</code>, <code dir="ltr">undefined</code>, and Booleans), strings, numbers, and <a href="createelement.html">React elements</a> count as individual nodes. Arrays don’t count as individual nodes, but their children do. <strong>The traversal does not go deeper than React elements:</strong> they don’t get rendered, and their children aren’t traversed. <a href="fragment.html">Fragments</a> don’t get traversed.</li> </ul> <hr> <h3 id="children-foreach">
<code dir="ltr">Children.forEach(children, fn, thisArg?)</code> 
</h3> <p>Call <code dir="ltr">Children.forEach(children, fn, thisArg?)</code> to run some code for each child in the <code dir="ltr">children</code> data structure.</p> <pre data-language="jsx"><code><span>import</span> <span>{</span> <span>Children</span> <span>}</span> <span>from</span> <span>'react'</span><span>;</span>

<span>function</span> <span>SeparatorList</span><span>(</span><span>{</span> <span>children</span> <span>}</span><span>)</span> <span>{</span>
  <span>const</span> <span>result</span> = <span>[</span><span>]</span><span>;</span>
  <span>Children</span>.<span>forEach</span><span>(</span><span>children</span><span>,</span> <span>(</span><span>child</span><span>,</span> <span>index</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>result</span>.<span>push</span><span>(</span><span>child</span><span>)</span><span>;</span>
    <span>result</span>.<span>push</span><span>(</span><span>&lt;</span><span>hr</span> <span>key</span>=<span>{</span><span>index</span><span>}</span> <span>/&gt;</span><span>)</span><span>;</span>
  <span>}</span><span>)</span><span>;</span>
  <span>// ...</span></code></pre> <p><a href="#running-some-code-for-each-child">See more examples below.</a></p> <h4 id="children-foreach-parameters">Parameters 
</h4> <ul> <li>
<code dir="ltr">children</code>: The value of the <a href="../../learn/passing-props-to-a-component.html#passing-jsx-as-children"><code dir="ltr">children</code> prop</a> received by your component.</li> <li>
<code dir="ltr">fn</code>: The function you want to run for each child, similar to the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" target="_blank" rel="nofollow noopener noreferrer">array <code dir="ltr">forEach</code> method</a> callback. It will be called with the child as the first argument and its index as the second argument. The index starts at <code dir="ltr">0</code> and increments on each call.</li> <li>
<strong>optional</strong> <code dir="ltr">thisArg</code>: The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">this</code> value</a> with which the <code dir="ltr">fn</code> function should be called. If omitted, it’s <code dir="ltr">undefined</code>.</li> </ul> <h4 id="children-foreach-returns">Returns 
</h4> <p><code dir="ltr">Children.forEach</code> returns <code dir="ltr">undefined</code>.</p> <h4 id="children-foreach-caveats">Caveats 
</h4> <ul> <li>Empty nodes (<code dir="ltr">null</code>, <code dir="ltr">undefined</code>, and Booleans), strings, numbers, and <a href="createelement.html">React elements</a> count as individual nodes. Arrays don’t count as individual nodes, but their children do. <strong>The traversal does not go deeper than React elements:</strong> they don’t get rendered, and their children aren’t traversed. <a href="fragment.html">Fragments</a> don’t get traversed.</li> </ul> <hr> <h3 id="children-map">
<code dir="ltr">Children.map(children, fn, thisArg?)</code> 
</h3> <p>Call <code dir="ltr">Children.map(children, fn, thisArg?)</code> to map or transform each child in the <code dir="ltr">children</code> data structure.</p> <pre data-language="jsx"><code><span>import</span> <span>{</span> <span>Children</span> <span>}</span> <span>from</span> <span>'react'</span><span>;</span>

<span>function</span> <span>RowList</span><span>(</span><span>{</span> <span>children</span> <span>}</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>div</span> <span>className</span>=<span>"RowList"</span><span>&gt;</span>
      <span>{</span><span>Children</span>.<span>map</span><span>(</span><span>children</span><span>,</span> <span>child</span> <span>=&gt;</span>
        <span>&lt;</span><span>div</span> <span>className</span>=<span>"Row"</span><span>&gt;</span>
          <span>{</span><span>child</span><span>}</span>
        <span>&lt;/</span><span>div</span><span>&gt;</span>
      <span>)</span><span>}</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>)</span><span>;</span>
<span>}</span></code></pre> <p><a href="#transforming-children">See more examples below.</a></p> <h4 id="children-map-parameters">Parameters 
</h4> <ul> <li>
<code dir="ltr">children</code>: The value of the <a href="../../learn/passing-props-to-a-component.html#passing-jsx-as-children"><code dir="ltr">children</code> prop</a> received by your component.</li> <li>
<code dir="ltr">fn</code>: The mapping function, similar to the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank" rel="nofollow noopener noreferrer">array <code dir="ltr">map</code> method</a> callback. It will be called with the child as the first argument and its index as the second argument. The index starts at <code dir="ltr">0</code> and increments on each call. You need to return a React node from this function. This may be an empty node (<code dir="ltr">null</code>, <code dir="ltr">undefined</code>, or a Boolean), a string, a number, a React element, or an array of other React nodes.</li> <li>
<strong>optional</strong> <code dir="ltr">thisArg</code>: The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">this</code> value</a> with which the <code dir="ltr">fn</code> function should be called. If omitted, it’s <code dir="ltr">undefined</code>.</li> </ul> <h4 id="children-map-returns">Returns 
</h4> <p>If <code dir="ltr">children</code> is <code dir="ltr">null</code> or <code dir="ltr">undefined</code>, returns the same value.</p> <p>Otherwise, returns a flat array consisting of the nodes you’ve returned from the <code dir="ltr">fn</code> function. The returned array will contain all nodes you returned except for <code dir="ltr">null</code> and <code dir="ltr">undefined</code>.</p> <h4 id="children-map-caveats">Caveats 
</h4> <ul> <li> <p>Empty nodes (<code dir="ltr">null</code>, <code dir="ltr">undefined</code>, and Booleans), strings, numbers, and <a href="createelement.html">React elements</a> count as individual nodes. Arrays don’t count as individual nodes, but their children do. <strong>The traversal does not go deeper than React elements:</strong> they don’t get rendered, and their children aren’t traversed. <a href="fragment.html">Fragments</a> don’t get traversed.</p> </li> <li> <p>If you return an element or an array of elements with keys from <code dir="ltr">fn</code>, <strong>the returned elements’ keys will be automatically combined with the key of the corresponding original item from <code dir="ltr">children</code>.</strong> When you return multiple elements from <code dir="ltr">fn</code> in an array, their keys only need to be unique locally amongst each other.</p> </li> </ul> <hr> <h3 id="children-only">
<code dir="ltr">Children.only(children)</code> 
</h3> <p>Call <code dir="ltr">Children.only(children)</code> to assert that <code dir="ltr">children</code> represent a single React element.</p> <pre data-language="jsx"><code><span>function</span> <span>Box</span><span>(</span><span>{</span> <span>children</span> <span>}</span><span>)</span> <span>{</span>
  <span>const</span> <span>element</span> = <span>Children</span>.<span>only</span><span>(</span><span>children</span><span>)</span><span>;</span>
  <span>// ...</span></code></pre> <h4 id="children-only-parameters">Parameters 
</h4> <ul> <li>
<code dir="ltr">children</code>: The value of the <a href="../../learn/passing-props-to-a-component.html#passing-jsx-as-children"><code dir="ltr">children</code> prop</a> received by your component.</li> </ul> <h4 id="children-only-returns">Returns 
</h4> <p>If <code dir="ltr">children</code> <a href="isvalidelement.html">is a valid element,</a> returns that element.</p> <p>Otherwise, throws an error.</p> <h4 id="children-only-caveats">Caveats 
</h4> <ul> <li>This method always <strong>throws if you pass an array (such as the return value of <code dir="ltr">Children.map</code>) as <code dir="ltr">children</code>.</strong> In other words, it enforces that <code dir="ltr">children</code> is a single React element, not that it’s an array with a single element.</li> </ul> <hr> <h3 id="children-toarray">
<code dir="ltr">Children.toArray(children)</code> 
</h3> <p>Call <code dir="ltr">Children.toArray(children)</code> to create an array out of the <code dir="ltr">children</code> data structure.</p> <pre data-language="jsx"><code><span>import</span> <span>{</span> <span>Children</span> <span>}</span> <span>from</span> <span>'react'</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>ReversedList</span><span>(</span><span>{</span> <span>children</span> <span>}</span><span>)</span> <span>{</span>
  <span>const</span> <span>result</span> = <span>Children</span>.<span>toArray</span><span>(</span><span>children</span><span>)</span><span>;</span>
  <span>result</span>.<span>reverse</span><span>(</span><span>)</span><span>;</span>
  <span>// ...</span></code></pre> <h4 id="children-toarray-parameters">Parameters 
</h4> <ul> <li>
<code dir="ltr">children</code>: The value of the <a href="../../learn/passing-props-to-a-component.html#passing-jsx-as-children"><code dir="ltr">children</code> prop</a> received by your component.</li> </ul> <h4 id="children-toarray-returns">Returns 
</h4> <p>Returns a flat array of elements in <code dir="ltr">children</code>.</p> <h4 id="children-toarray-caveats">Caveats 
</h4> <ul> <li>Empty nodes (<code dir="ltr">null</code>, <code dir="ltr">undefined</code>, and Booleans) will be omitted in the returned array. <strong>The returned elements’ keys will be calculated from the original elements’ keys and their level of nesting and position.</strong> This ensures that flattening the array does not introduce changes in behavior.</li> </ul> <hr> <h2 id="usage">Usage 
</h2> <h3 id="transforming-children">Transforming children 
</h3> <p>To transform the children JSX that your component <a href="../../learn/passing-props-to-a-component.html#passing-jsx-as-children">receives as the <code dir="ltr">children</code> prop,</a> call <code dir="ltr">Children.map</code>:</p> <pre data-language="jsx"><code><span>import</span> <span>{</span> <span>Children</span> <span>}</span> <span>from</span> <span>'react'</span><span>;</span>

<span>function</span> <span>RowList</span><span>(</span><span>{</span> <span>children</span> <span>}</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>div</span> <span>className</span>=<span>"RowList"</span><span>&gt;</span>
      <span>{</span><span>Children</span>.<span>map</span><span>(</span><span>children</span><span>,</span> <span>child</span> <span>=&gt;</span>
        <span>&lt;</span><span>div</span> <span>className</span>=<span>"Row"</span><span>&gt;</span>
          <span>{</span><span>child</span><span>}</span>
        <span>&lt;/</span><span>div</span><span>&gt;</span>
      <span>)</span><span>}</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>)</span><span>;</span>
<span>}</span></code></pre> <p>In the example above, the <code dir="ltr">RowList</code> wraps every child it receives into a <code dir="ltr">&lt;div className="Row"&gt;</code> container. For example, let’s say the parent component passes three <code dir="ltr">&lt;p&gt;</code> tags as the <code dir="ltr">children</code> prop to <code dir="ltr">RowList</code>:</p> <pre data-language="jsx"><code><span>&lt;</span><span>RowList</span><span>&gt;</span>
  <span>&lt;</span><span>p</span><span>&gt;</span>This is the first item.<span>&lt;/</span><span>p</span><span>&gt;</span>
  <span>&lt;</span><span>p</span><span>&gt;</span>This is the second item.<span>&lt;/</span><span>p</span><span>&gt;</span>
  <span>&lt;</span><span>p</span><span>&gt;</span>This is the third item.<span>&lt;/</span><span>p</span><span>&gt;</span>
<span>&lt;/</span><span>RowList</span><span>&gt;</span></code></pre> <p>Then, with the <code dir="ltr">RowList</code> implementation above, the final rendered result will look like this:</p> <pre data-language="jsx"><code><span>&lt;</span><span>div</span> <span>className</span>=<span>"RowList"</span><span>&gt;</span>
  <span>&lt;</span><span>div</span> <span>className</span>=<span>"Row"</span><span>&gt;</span>
    <span>&lt;</span><span>p</span><span>&gt;</span>This is the first item.<span>&lt;/</span><span>p</span><span>&gt;</span>
  <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;</span><span>div</span> <span>className</span>=<span>"Row"</span><span>&gt;</span>
    <span>&lt;</span><span>p</span><span>&gt;</span>This is the second item.<span>&lt;/</span><span>p</span><span>&gt;</span>
  <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;</span><span>div</span> <span>className</span>=<span>"Row"</span><span>&gt;</span>
    <span>&lt;</span><span>p</span><span>&gt;</span>This is the third item.<span>&lt;/</span><span>p</span><span>&gt;</span>
  <span>&lt;/</span><span>div</span><span>&gt;</span>
<span>&lt;/</span><span>div</span><span>&gt;</span></code></pre> <p><code dir="ltr">Children.map</code> is similar to <a href="../../learn/rendering-lists.html">to transforming arrays with <code dir="ltr">map()</code>.</a> The difference is that the <code dir="ltr">children</code> data structure is considered <em>opaque.</em> This means that even if it’s sometimes an array, you should not assume it’s an array or any other particular data type. This is why you should use <code dir="ltr">Children.map</code> if you need to transform it.</p> 
<pre data-language="jsx"><span>import</span> <span>{</span> <span>Children</span> <span>}</span> <span>from</span> <span>'react'</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>RowList</span><span>(</span><span>{</span> <span>children</span> <span>}</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>div</span> <span>className</span>=<span>"RowList"</span><span>&gt;</span>
      <span>{</span><span>Children</span>.<span>map</span><span>(</span><span>children</span><span>,</span> <span>child</span> <span>=&gt;</span>
        <span>&lt;</span><span>div</span> <span>className</span>=<span>"Row"</span><span>&gt;</span>
          <span>{</span><span>child</span><span>}</span>
        <span>&lt;/</span><span>div</span><span>&gt;</span>
      <span>)</span><span>}</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

</pre> <details class="note note-blue"><summary tabindex="-1"><h5>
Deep Dive</h5>
<h4 id="why-is-the-children-prop-not-always-an-array">Why is the children prop not always an array? 
</h4></summary><div>
<p>In React, the <code dir="ltr">children</code> prop is considered an <em>opaque</em> data structure. This means that you shouldn’t rely on how it is structured. To transform, filter, or count children, you should use the <code dir="ltr">Children</code> methods.</p>
<p>In practice, the <code dir="ltr">children</code> data structure is often represented as an array internally. However, if there is only a single child, then React won’t create an extra array since this would lead to unnecessary memory overhead. As long as you use the <code dir="ltr">Children</code> methods instead of directly introspecting the <code dir="ltr">children</code> prop, your code will not break even if React changes how the data structure is actually implemented.</p>
<p>Even when <code dir="ltr">children</code> is an array, <code dir="ltr">Children.map</code> has useful special behavior. For example, <code dir="ltr">Children.map</code> combines the <a href="../../learn/rendering-lists.html#keeping-list-items-in-order-with-key">keys</a> on the returned elements with the keys on the <code dir="ltr">children</code> you’ve passed to it. This ensures the original JSX children don’t “lose” keys even if they get wrapped like in the example above.</p>
</div></details> <div class="note note-orange">
<h4>Pitfall</h4>
<div>
<p>The <code dir="ltr">children</code> data structure <strong>does not include rendered output</strong> of the components you pass as JSX. In the example below, the <code dir="ltr">children</code> received by the <code dir="ltr">RowList</code> only contains two items rather than three:</p>
<ol> <li><code dir="ltr">&lt;p&gt;This is the first item.&lt;/p&gt;</code></li> <li><code dir="ltr">&lt;MoreRows /&gt;</code></li> </ol>
<p>This is why only two row wrappers are generated in this example:</p>

<pre data-language="jsx"><span>import</span> <span>RowList</span> <span>from</span> <span>'./RowList.js'</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>App</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>RowList</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;</span>This is the first item.<span>&lt;/</span><span>p</span><span>&gt;</span>
      <span>&lt;</span><span>MoreRows</span> <span>/&gt;</span>
    <span>&lt;/</span><span>RowList</span><span>&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

<span>function</span> <span>MoreRows</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;</span>This is the second item.<span>&lt;/</span><span>p</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;</span>This is the third item.<span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;/</span><span>&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

</pre>
<p><strong>There is no way to get the rendered output of an inner component</strong> like <code dir="ltr">&lt;MoreRows /&gt;</code> when manipulating <code dir="ltr">children</code>. This is why <a href="#alternatives">it’s usually better to use one of the alternative solutions.</a></p>
</div>
</div> <hr> <h3 id="running-some-code-for-each-child">Running some code for each child 
</h3> <p>Call <code dir="ltr">Children.forEach</code> to iterate over each child in the <code dir="ltr">children</code> data structure. It does not return any value and is similar to the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" target="_blank" rel="nofollow noopener noreferrer">array <code dir="ltr">forEach</code> method.</a> You can use it to run custom logic like constructing your own array.</p> 
<pre data-language="jsx"><span>import</span> <span>{</span> <span>Children</span> <span>}</span> <span>from</span> <span>'react'</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>SeparatorList</span><span>(</span><span>{</span> <span>children</span> <span>}</span><span>)</span> <span>{</span>
  <span>const</span> <span>result</span> = <span>[</span><span>]</span><span>;</span>
  <span>Children</span>.<span>forEach</span><span>(</span><span>children</span><span>,</span> <span>(</span><span>child</span><span>,</span> <span>index</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>result</span>.<span>push</span><span>(</span><span>child</span><span>)</span><span>;</span>
    <span>result</span>.<span>push</span><span>(</span><span>&lt;</span><span>hr</span> <span>key</span>=<span>{</span><span>index</span><span>}</span> <span>/&gt;</span><span>)</span><span>;</span>
  <span>}</span><span>)</span><span>;</span>
  <span>result</span>.<span>pop</span><span>(</span><span>)</span><span>;</span> <span>// Remove the last separator</span>
  <span>return</span> <span>result</span><span>;</span>
<span>}</span>

</pre> <div class="note note-orange">
<h4>Pitfall</h4>
<div><p>As mentioned earlier, there is no way to get the rendered output of an inner component when manipulating <code dir="ltr">children</code>. This is why <a href="#alternatives">it’s usually better to use one of the alternative solutions.</a></p></div>
</div> <hr> <h3 id="counting-children">Counting children 
</h3> <p>Call <code dir="ltr">Children.count(children)</code> to calculate the number of children.</p> 
<pre data-language="jsx"><span>import</span> <span>{</span> <span>Children</span> <span>}</span> <span>from</span> <span>'react'</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>RowList</span><span>(</span><span>{</span> <span>children</span> <span>}</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>div</span> <span>className</span>=<span>"RowList"</span><span>&gt;</span>
      <span>&lt;</span><span>h1</span> <span>className</span>=<span>"RowListHeader"</span><span>&gt;</span>
        Total rows: <span>{</span><span>Children</span>.<span>count</span><span>(</span><span>children</span><span>)</span><span>}</span>
      <span>&lt;/</span><span>h1</span><span>&gt;</span>
      <span>{</span><span>Children</span>.<span>map</span><span>(</span><span>children</span><span>,</span> <span>child</span> <span>=&gt;</span>
        <span>&lt;</span><span>div</span> <span>className</span>=<span>"Row"</span><span>&gt;</span>
          <span>{</span><span>child</span><span>}</span>
        <span>&lt;/</span><span>div</span><span>&gt;</span>
      <span>)</span><span>}</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

</pre> <div class="note note-orange">
<h4>Pitfall</h4>
<div><p>As mentioned earlier, there is no way to get the rendered output of an inner component when manipulating <code dir="ltr">children</code>. This is why <a href="#alternatives">it’s usually better to use one of the alternative solutions.</a></p></div>
</div> <hr> <h3 id="converting-children-to-an-array">Converting children to an array 
</h3> <p>Call <code dir="ltr">Children.toArray(children)</code> to turn the <code dir="ltr">children</code> data structure into a regular JavaScript array. This lets you manipulate the array with built-in array methods like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">filter</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">sort</code></a>, or <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">reverse</code>.</a></p> 
<pre data-language="jsx"><span>import</span> <span>{</span> <span>Children</span> <span>}</span> <span>from</span> <span>'react'</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>ReversedList</span><span>(</span><span>{</span> <span>children</span> <span>}</span><span>)</span> <span>{</span>
  <span>const</span> <span>result</span> = <span>Children</span>.<span>toArray</span><span>(</span><span>children</span><span>)</span><span>;</span>
  <span>result</span>.<span>reverse</span><span>(</span><span>)</span><span>;</span>
  <span>return</span> <span>result</span><span>;</span>
<span>}</span>

</pre> <div class="note note-orange">
<h4>Pitfall</h4>
<div><p>As mentioned earlier, there is no way to get the rendered output of an inner component when manipulating <code dir="ltr">children</code>. This is why <a href="#alternatives">it’s usually better to use one of the alternative solutions.</a></p></div>
</div> <hr> <h2 id="alternatives">Alternatives 
</h2> <div class="note note-green">
<h4>Note</h4>
<div>
<p>This section describes alternatives to the <code dir="ltr">Children</code> API (with capital <code dir="ltr">C</code>) that’s imported like this:</p>
<pre data-language="jsx"><code><span>import</span> <span>{</span> <span>Children</span> <span>}</span> <span>from</span> <span>'react'</span><span>;</span></code></pre>
<p>Don’t confuse it with <a href="../../learn/passing-props-to-a-component.html#passing-jsx-as-children">using the <code dir="ltr">children</code> prop</a> (lowercase <code dir="ltr">c</code>), which is good and encouraged.</p>
</div>
</div> <h3 id="exposing-multiple-components">Exposing multiple components 
</h3> <p>Manipulating children with the <code dir="ltr">Children</code> methods often leads to fragile code. When you pass children to a component in JSX, you don’t usually expect the component to manipulate or transform the individual children.</p> <p>When you can, try to avoid using the <code dir="ltr">Children</code> methods. For example, if you want every child of <code dir="ltr">RowList</code> to be wrapped in <code dir="ltr">&lt;div className="Row"&gt;</code>, export a <code dir="ltr">Row</code> component, and manually wrap every row into it like this:</p> 
<pre data-language="jsx"><span>import</span> <span>{</span> <span>RowList</span><span>,</span> <span>Row</span> <span>}</span> <span>from</span> <span>'./RowList.js'</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>App</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>RowList</span><span>&gt;</span>
      <span>&lt;</span><span>Row</span><span>&gt;</span>
        <span>&lt;</span><span>p</span><span>&gt;</span>This is the first item.<span>&lt;/</span><span>p</span><span>&gt;</span>
      <span>&lt;/</span><span>Row</span><span>&gt;</span>
      <span>&lt;</span><span>Row</span><span>&gt;</span>
        <span>&lt;</span><span>p</span><span>&gt;</span>This is the second item.<span>&lt;/</span><span>p</span><span>&gt;</span>
      <span>&lt;/</span><span>Row</span><span>&gt;</span>
      <span>&lt;</span><span>Row</span><span>&gt;</span>
        <span>&lt;</span><span>p</span><span>&gt;</span>This is the third item.<span>&lt;/</span><span>p</span><span>&gt;</span>
      <span>&lt;/</span><span>Row</span><span>&gt;</span>
    <span>&lt;/</span><span>RowList</span><span>&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

</pre> <p>Unlike using <code dir="ltr">Children.map</code>, this approach does not wrap every child automatically. <strong>However, this approach has a significant benefit compared to the <a href="#transforming-children">earlier example with <code dir="ltr">Children.map</code></a> because it works even if you keep extracting more components.</strong> For example, it still works if you extract your own <code dir="ltr">MoreRows</code> component:</p> 
<pre data-language="jsx"><span>import</span> <span>{</span> <span>RowList</span><span>,</span> <span>Row</span> <span>}</span> <span>from</span> <span>'./RowList.js'</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>App</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>RowList</span><span>&gt;</span>
      <span>&lt;</span><span>Row</span><span>&gt;</span>
        <span>&lt;</span><span>p</span><span>&gt;</span>This is the first item.<span>&lt;/</span><span>p</span><span>&gt;</span>
      <span>&lt;/</span><span>Row</span><span>&gt;</span>
      <span>&lt;</span><span>MoreRows</span> <span>/&gt;</span>
    <span>&lt;/</span><span>RowList</span><span>&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

<span>function</span> <span>MoreRows</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>&gt;</span>
      <span>&lt;</span><span>Row</span><span>&gt;</span>
        <span>&lt;</span><span>p</span><span>&gt;</span>This is the second item.<span>&lt;/</span><span>p</span><span>&gt;</span>
      <span>&lt;/</span><span>Row</span><span>&gt;</span>
      <span>&lt;</span><span>Row</span><span>&gt;</span>
        <span>&lt;</span><span>p</span><span>&gt;</span>This is the third item.<span>&lt;/</span><span>p</span><span>&gt;</span>
      <span>&lt;/</span><span>Row</span><span>&gt;</span>
    <span>&lt;/</span><span>&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

</pre> <p>This wouldn’t work with <code dir="ltr">Children.map</code> because it would “see” <code dir="ltr">&lt;MoreRows /&gt;</code> as a single child (and a single row).</p> <hr> <h3 id="accepting-an-array-of-objects-as-a-prop">Accepting an array of objects as a prop 
</h3> <p>You can also explicitly pass an array as a prop. For example, this <code dir="ltr">RowList</code> accepts a <code dir="ltr">rows</code> array as a prop:</p> 
<pre data-language="jsx"><span>import</span> <span>{</span> <span>RowList</span><span>,</span> <span>Row</span> <span>}</span> <span>from</span> <span>'./RowList.js'</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>App</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>RowList</span> <span>rows</span>=<span>{</span><span>[</span>
      <span>{</span> <span>id</span><span>:</span> <span>'first'</span><span>,</span> <span>content</span><span>:</span> <span>&lt;</span><span>p</span><span>&gt;</span>This is the first item.<span>&lt;/</span><span>p</span><span>&gt;</span> <span>}</span><span>,</span>
      <span>{</span> <span>id</span><span>:</span> <span>'second'</span><span>,</span> <span>content</span><span>:</span> <span>&lt;</span><span>p</span><span>&gt;</span>This is the second item.<span>&lt;/</span><span>p</span><span>&gt;</span> <span>}</span><span>,</span>
      <span>{</span> <span>id</span><span>:</span> <span>'third'</span><span>,</span> <span>content</span><span>:</span> <span>&lt;</span><span>p</span><span>&gt;</span>This is the third item.<span>&lt;/</span><span>p</span><span>&gt;</span> <span>}</span>
    <span>]</span><span>}</span> <span>/&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

</pre> <p>Since <code dir="ltr">rows</code> is a regular JavaScript array, the <code dir="ltr">RowList</code> component can use built-in array methods like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank" rel="nofollow noopener noreferrer"><code dir="ltr">map</code></a> on it.</p> <p>This pattern is especially useful when you want to be able to pass more information as structured data together with children. In the below example, the <code dir="ltr">TabSwitcher</code> component receives an array of objects as the <code dir="ltr">tabs</code> prop:</p> 
<pre data-language="jsx"><span>import</span> <span>TabSwitcher</span> <span>from</span> <span>'./TabSwitcher.js'</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>App</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>TabSwitcher</span> <span>tabs</span>=<span>{</span><span>[</span>
      <span>{</span>
        <span>id</span><span>:</span> <span>'first'</span><span>,</span>
        <span>header</span><span>:</span> <span>'First'</span><span>,</span>
        <span>content</span><span>:</span> <span>&lt;</span><span>p</span><span>&gt;</span>This is the first item.<span>&lt;/</span><span>p</span><span>&gt;</span>
      <span>}</span><span>,</span>
      <span>{</span>
        <span>id</span><span>:</span> <span>'second'</span><span>,</span>
        <span>header</span><span>:</span> <span>'Second'</span><span>,</span>
        <span>content</span><span>:</span> <span>&lt;</span><span>p</span><span>&gt;</span>This is the second item.<span>&lt;/</span><span>p</span><span>&gt;</span>
      <span>}</span><span>,</span>
      <span>{</span>
        <span>id</span><span>:</span> <span>'third'</span><span>,</span>
        <span>header</span><span>:</span> <span>'Third'</span><span>,</span>
        <span>content</span><span>:</span> <span>&lt;</span><span>p</span><span>&gt;</span>This is the third item.<span>&lt;/</span><span>p</span><span>&gt;</span>
      <span>}</span>
    <span>]</span><span>}</span> <span>/&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

</pre> <p>Unlike passing the children as JSX, this approach lets you associate some extra data like <code dir="ltr">header</code> with each item. Because you are working with the <code dir="ltr">tabs</code> directly, and it is an array, you do not need the <code dir="ltr">Children</code> methods.</p> <hr> <h3 id="calling-a-render-prop-to-customize-rendering">Calling a render prop to customize rendering 
</h3> <p>Instead of producing JSX for every single item, you can also pass a function that returns JSX, and call that function when necessary. In this example, the <code dir="ltr">App</code> component passes a <code dir="ltr">renderContent</code> function to the <code dir="ltr">TabSwitcher</code> component. The <code dir="ltr">TabSwitcher</code> component calls <code dir="ltr">renderContent</code> only for the selected tab:</p> 
<pre data-language="jsx"><span>import</span> <span>TabSwitcher</span> <span>from</span> <span>'./TabSwitcher.js'</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>App</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>TabSwitcher</span>
      <span>tabIds</span>=<span>{</span><span>[</span><span>'first'</span><span>,</span> <span>'second'</span><span>,</span> <span>'third'</span><span>]</span><span>}</span>
      <span>getHeader</span>=<span>{</span><span>tabId</span> <span>=&gt;</span> <span>{</span>
        <span>return</span> <span>tabId</span><span>[</span><span>0</span><span>]</span>.<span>toUpperCase</span><span>(</span><span>)</span> + <span>tabId</span>.<span>slice</span><span>(</span><span>1</span><span>)</span><span>;</span>
      <span>}</span><span>}</span>
      <span>renderContent</span>=<span>{</span><span>tabId</span> <span>=&gt;</span> <span>{</span>
        <span>return</span> <span>&lt;</span><span>p</span><span>&gt;</span>This is the <span>{</span><span>tabId</span><span>}</span> item.<span>&lt;/</span><span>p</span><span>&gt;</span><span>;</span>
      <span>}</span><span>}</span>
    <span>/&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

</pre> <p>A prop like <code dir="ltr">renderContent</code> is called a <em>render prop</em> because it is a prop that specifies how to render a piece of the user interface. However, there is nothing special about it: it is a regular prop which happens to be a function.</p> <p>Render props are functions, so you can pass information to them. For example, this <code dir="ltr">RowList</code> component passes the <code dir="ltr">id</code> and the <code dir="ltr">index</code> of each row to the <code dir="ltr">renderRow</code> render prop, which uses <code dir="ltr">index</code> to highlight even rows:</p> 
<pre data-language="jsx"><span>import</span> <span>{</span> <span>RowList</span><span>,</span> <span>Row</span> <span>}</span> <span>from</span> <span>'./RowList.js'</span><span>;</span>

<span>export</span> <span>default</span> <span>function</span> <span>App</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>RowList</span>
      <span>rowIds</span>=<span>{</span><span>[</span><span>'first'</span><span>,</span> <span>'second'</span><span>,</span> <span>'third'</span><span>]</span><span>}</span>
      <span>renderRow</span>=<span>{</span><span>(</span><span>id</span><span>,</span> <span>index</span><span>)</span> <span>=&gt;</span> <span>{</span>
        <span>return</span> <span>(</span>
          <span>&lt;</span><span>Row</span> <span>isHighlighted</span>=<span>{</span><span>index</span> % <span>2</span> === <span>0</span><span>}</span><span>&gt;</span>
            <span>&lt;</span><span>p</span><span>&gt;</span>This is the <span>{</span><span>id</span><span>}</span> item.<span>&lt;/</span><span>p</span><span>&gt;</span>
          <span>&lt;/</span><span>Row</span><span>&gt;</span> 
        <span>)</span><span>;</span>
      <span>}</span><span>}</span>
    <span>/&gt;</span>
  <span>)</span><span>;</span>
<span>}</span>

</pre> <p>This is another example of how parent and child components can cooperate without manipulating the children.</p> <hr> <h2 id="troubleshooting">Troubleshooting 
</h2> <h3 id="i-pass-a-custom-component-but-the-children-methods-dont-show-its-render-result">I pass a custom component, but the <code dir="ltr">Children</code> methods don’t show its render result 
</h3> <p>Suppose you pass two children to <code dir="ltr">RowList</code> like this:</p> <pre data-language="jsx"><code><span>&lt;</span><span>RowList</span><span>&gt;</span>
  <span>&lt;</span><span>p</span><span>&gt;</span>First item<span>&lt;/</span><span>p</span><span>&gt;</span>
  <span>&lt;</span><span>MoreRows</span> <span>/&gt;</span>
<span>&lt;/</span><span>RowList</span><span>&gt;</span></code></pre> <p>If you do <code dir="ltr">Children.count(children)</code> inside <code dir="ltr">RowList</code>, you will get <code dir="ltr">2</code>. Even if <code dir="ltr">MoreRows</code> renders 10 different items, or if it returns <code dir="ltr">null</code>, <code dir="ltr">Children.count(children)</code> will still be <code dir="ltr">2</code>. From the <code dir="ltr">RowList</code>’s perspective, it only “sees” the JSX it has received. It does not “see” the internals of the <code dir="ltr">MoreRows</code> component.</p> <p>The limitation makes it hard to extract a component. This is why <a href="#alternatives">alternatives</a> are preferred to using <code dir="ltr">Children</code>.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2013&ndash;present Facebook Inc.<br>Licensed under the Creative Commons Attribution 4.0 International Public License.<br>
    <a href="https://react.dev/reference/react/Children" class="_attribution-link">https://react.dev/reference/react/Children</a>
  </p>
</div>
