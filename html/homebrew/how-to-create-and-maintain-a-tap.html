<h1 id="how-to-create-and-maintain-a-tap">How to Create and Maintain a Tap</h1> <p><a href="taps.html">Taps</a> are external sources of Homebrew formulae, casks and/or external commands. They can be created by anyone to provide their own formulae, casks and/or external commands to any Homebrew user.</p> <h2 id="creating-a-tap">Creating a tap</h2> <p>A tap is usually a Git repository available online, but you can use anything as long as it’s a protocol that Git understands, or even just a directory with files in it. If hosted on GitHub, we recommend that the repository’s name start with <code class="language-plaintext highlighter-rouge">homebrew-</code> so the short <code class="language-plaintext highlighter-rouge">brew tap</code> command can be used. See the <a href="manpage.html">manpage</a> for more information on repository naming.</p> <p>The <code class="language-plaintext highlighter-rouge">brew tap-new</code> command can be used to create a new tap along with some template files.</p> <p>Tap formulae follow the same format as the core’s ones, and can be added under either the <code class="language-plaintext highlighter-rouge">Formula</code> subdirectory, the <code class="language-plaintext highlighter-rouge">HomebrewFormula</code> subdirectory or the repository’s root. The first available directory is used, other locations will be ignored. We recommend use of subdirectories because it makes the repository organisation easier to grasp, and top-level files are not mixed with formulae.</p> <p>See <a href="https://github.com/Homebrew/homebrew-core">homebrew/core</a> for an example of a tap with a <code class="language-plaintext highlighter-rouge">Formula</code> subdirectory.</p> <h2 id="naming-your-formulae-to-avoid-clashes">Naming your formulae to avoid clashes</h2> <p>If your formulae have the same name as Homebrew/homebrew-core formulae they cannot be installed side-by-side. If you wish to create a different version of a formula that’s in Homebrew/homebrew-core (e.g. with <code class="language-plaintext highlighter-rouge">option</code>s) consider giving it a different name e.g. <code class="language-plaintext highlighter-rouge">nginx-full</code> for more fully-featured <code class="language-plaintext highlighter-rouge">nginx</code> formula. This will allow both <code class="language-plaintext highlighter-rouge">nginx</code> and <code class="language-plaintext highlighter-rouge">nginx-full</code> to be installed at the same time (assuming one is <code class="language-plaintext highlighter-rouge">keg_only</code> or the linked files do not clash).</p> <h3 id="installing">Installing</h3> <p>If it’s on GitHub, users can install any of your formulae with <code class="language-plaintext highlighter-rouge">brew install user/repo/formula</code>. Homebrew will automatically add your <code class="language-plaintext highlighter-rouge">github.com/user/homebrew-repo</code> tap before installing the formula. <code class="language-plaintext highlighter-rouge">user/repo/formula</code> points to the <code class="language-plaintext highlighter-rouge">github.com/user/homebrew-repo/**/formula.rb</code> file here.</p> <p>If they want to get your tap without installing any formula at the same time, users can add it with the <a href="taps.html"><code class="language-plaintext highlighter-rouge">brew tap</code> command</a>.</p> <p>If it’s on GitHub, they can use <code class="language-plaintext highlighter-rouge">brew tap user/repo</code>, where <code class="language-plaintext highlighter-rouge">user</code> is your GitHub username and <code class="language-plaintext highlighter-rouge">homebrew-repo</code> is your repository.</p> <p>If it’s hosted outside of GitHub, they have to use <code class="language-plaintext highlighter-rouge">brew tap user/repo &lt;URL&gt;</code>, where <code class="language-plaintext highlighter-rouge">user</code> and <code class="language-plaintext highlighter-rouge">repo</code> will be used to refer to your tap and <code class="language-plaintext highlighter-rouge">&lt;URL&gt;</code> is your Git clone URL.</p> <p>Users can then install your formulae either with <code class="language-plaintext highlighter-rouge">brew install foo</code> if there’s no core formula with the same name, or with <code class="language-plaintext highlighter-rouge">brew install user/repo/foo</code> to avoid conflicts.</p> <h2 id="maintaining-a-tap">Maintaining a tap</h2> <p>A tap is just a Git repository so you don’t have to do anything specific when making modifications, apart from committing and pushing your changes.</p> <h3 id="updating">Updating</h3> <p>Once your tap is installed, Homebrew will update it each time a user runs <code class="language-plaintext highlighter-rouge">brew update</code>. Outdated formulae will be upgraded when a user runs <code class="language-plaintext highlighter-rouge">brew upgrade</code>, like core formulae.</p> <h2 id="casks">Casks</h2> <p>Casks can also be installed from a tap. Casks can be included in taps with formulae, or in a tap with just casks. Place any cask files you wish to make available in a <code class="language-plaintext highlighter-rouge">Casks</code> directory at the top level of your tap.</p> <p>See <a href="https://github.com/Homebrew/homebrew-cask">homebrew/cask</a> for an example of a tap with a <code class="language-plaintext highlighter-rouge">Casks</code> subdirectory.</p> <h3 id="naming">Naming</h3> <p>Unlike formulae, casks must have globally unique names to avoid clashes. This can be achieved by e.g. prepending the cask name with your github username: <code class="language-plaintext highlighter-rouge">username-formula-name</code>.</p> <h2 id="external-commands">External commands</h2> <p>You can provide your tap users with custom <code class="language-plaintext highlighter-rouge">brew</code> commands by adding them in a <code class="language-plaintext highlighter-rouge">cmd</code> subdirectory. <a href="external-commands.html">Read more on external commands</a>.</p> <p>See <a href="https://github.com/Homebrew/homebrew-aliases">homebrew/aliases</a> for an example of a tap with external commands.</p> <h2 id="official-vendor-taps">Official Vendor Taps</h2> <p>Some upstream software providers like to package their software in their own Homebrew tap. When their software is <a href="acceptable-formulae.html">eligible for Homebrew/homebrew-core</a> we prefer to maintain software there for ease of updates, improved discoverability and use of tools such as <a href="https://formulae.brew.sh">formulae.brew.sh</a>.</p> <p>We are not willing to remove software packaged in Homebrew/homebrew-core in favour of an upstream tap. We are not willing to instruct users in our formulae to use your formulae instead. If upstream projects have issues with how Homebrew packages your software: please file issues (or, ideally, pull requests) to address these problems.</p> <p>There’s an increasing desire in commercial open source about “maintaining control” e.g. defining exactly what binaries are shipping to users. Not supporting users (or even software distributions) to build-from-source is antithetical to the values of open source. If you think Homebrew’s perspective is annoying on this: try and see how Debian responds to requests to ship your binaries.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2009&ndash;present Homebrew contributors<br>Licensed under the BSD 2-Clause License.<br>
    <a href="https://docs.brew.sh/How-to-Create-and-Maintain-a-Tap" class="_attribution-link">https://docs.brew.sh/How-to-Create-and-Maintain-a-Tap</a>
  </p>
</div>
