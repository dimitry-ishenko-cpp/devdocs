<h1 id="building-against-non-homebrew-dependencies">Building Against Non-Homebrew Dependencies</h1> <h2 id="history">History</h2> <p>Originally Homebrew was a build-from-source package manager and all user environment variables and non-Homebrew-installed software were available to builds. Since then Homebrew added <code class="language-plaintext highlighter-rouge">Requirement</code>s to specify dependencies on non-Homebrew software (such as those provided by <code class="language-plaintext highlighter-rouge">brew cask</code> like X11/XQuartz), the <code class="language-plaintext highlighter-rouge">superenv</code> build system to strip out unspecified dependencies, environment filtering to stop the user environment leaking into Homebrew builds and <code class="language-plaintext highlighter-rouge">default_formula</code> to specify that a <code class="language-plaintext highlighter-rouge">Requirement</code> can be satisfied by a particular formula.</p> <p>As Homebrew became primarily a binary package manager, most users were fulfilling <code class="language-plaintext highlighter-rouge">Requirement</code>s with the <code class="language-plaintext highlighter-rouge">default_formula</code>, not with arbitrary alternatives. To improve quality and reduce variation, Homebrew now exclusively supports using the default formula, as an ordinary dependency, and no longer supports using arbitrary alternatives.</p> <h2 id="today">Today</h2> <p>If you wish to build against custom non-Homebrew dependencies that are provided by Homebrew (e.g. a non-Homebrew, non-macOS <code class="language-plaintext highlighter-rouge">ruby</code>) then you must <a href="how-to-create-and-maintain-a-tap.html">create and maintain your own tap</a> as these formulae will not be accepted in Homebrew/homebrew-core. Once you have done that you can specify <code class="language-plaintext highlighter-rouge">env :std</code> in the formula which will allow e.g. <code class="language-plaintext highlighter-rouge">which ruby</code> to access your existing <code class="language-plaintext highlighter-rouge">PATH</code> variable and allow compilation to link against this Ruby. You can also <a href="https://github.com/Homebrew/brew/tree/HEAD/Library/Homebrew/requirements">include a custom Requirement</a> in your formula that more accurately describes the non-Homebrew software you build against.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2009&ndash;present Homebrew contributors<br>Licensed under the BSD 2-Clause License.<br>
    <a href="https://docs.brew.sh/Building-Against-Non-Homebrew-Dependencies" class="_attribution-link">https://docs.brew.sh/Building-Against-Non-Homebrew-Dependencies</a>
  </p>
</div>
