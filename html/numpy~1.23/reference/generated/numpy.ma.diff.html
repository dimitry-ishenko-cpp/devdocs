<h1>numpy.ma.diff</h1> <dl class="py data"> <dt class="sig sig-object py" id="numpy.ma.diff"> <span class="sig-prename descclassname">ma.</span><span class="sig-name descname">diff</span><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><em class="property"><span class="p">=</span>&lt;numpy.ma.core._convert2ma object&gt;</em>
</dt> <dd>
<p>Calculate the n-th discrete difference along the given axis.</p> <p>The first difference is given by <code>out[i] = a[i+1] - a[i]</code> along the given axis, higher differences are calculated by using <a class="reference internal" href="numpy.diff.html#numpy.diff" title="numpy.diff"><code>diff</code></a> recursively.</p> <dl class="field-list"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<dl> <dt>
<strong>a</strong><span class="classifier">array_like</span>
</dt>
<dd>
<p>Input array</p> </dd> <dt>
<strong>n</strong><span class="classifier">int, optional</span>
</dt>
<dd>
<p>The number of times values are differenced. If zero, the input is returned as-is.</p> </dd> <dt>
<strong>axis</strong><span class="classifier">int, optional</span>
</dt>
<dd>
<p>The axis along which the difference is taken, default is the last axis.</p> </dd> <dt>
<strong>prepend, append</strong><span class="classifier">array_like, optional</span>
</dt>
<dd>
<p>Values to prepend or append to <code>a</code> along axis prior to performing the difference. Scalar values are expanded to arrays with length 1 in the direction of axis and the shape of the input array in along all other axes. Otherwise the dimension and shape must match <code>a</code> except along axis.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.16.0.</span></p> </div> </dd> </dl> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<dl class="simple"> <dt>
<strong>diff</strong><span class="classifier">MaskedArray</span>
</dt>
<dd>
<p>The n-th differences. The shape of the output is the same as <code>a</code> except along <code>axis</code> where the dimension is smaller by <code>n</code>. The type of the output is the same as the type of the difference between any two elements of <code>a</code>. This is the same as the type of <code>a</code> in most cases. A notable exception is <a class="reference internal" href="../arrays.scalars.html#numpy.datetime64" title="numpy.datetime64"><code>datetime64</code></a>, which results in a <a class="reference internal" href="../arrays.scalars.html#numpy.timedelta64" title="numpy.timedelta64"><code>timedelta64</code></a> output array.</p> </dd> </dl> </dd> </dl> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt>
<a class="reference internal" href="numpy.gradient.html#numpy.gradient" title="numpy.gradient"><code>gradient</code></a>, <a class="reference internal" href="numpy.ediff1d.html#numpy.ediff1d" title="numpy.ediff1d"><code>ediff1d</code></a>, <a class="reference internal" href="numpy.cumsum.html#numpy.cumsum" title="numpy.cumsum"><code>cumsum</code></a>
</dt>
 </dl> </div> <h4 class="rubric">Notes</h4> <p>Type is preserved for boolean arrays, so the result will contain <code>False</code> when consecutive elements are the same and <code>True</code> when they differ.</p> <p>For unsigned integer arrays, the results will also be unsigned. This should not be surprising, as the result is consistent with calculating the difference directly:</p> <pre data-language="python">&gt;&gt;&gt; u8_arr = np.array([1, 0], dtype=np.uint8)
&gt;&gt;&gt; np.diff(u8_arr)
array([255], dtype=uint8)
&gt;&gt;&gt; u8_arr[1,...] - u8_arr[0,...]
255
</pre> <p>If this is not desirable, then the array should be cast to a larger integer type first:</p> <pre data-language="python">&gt;&gt;&gt; i16_arr = u8_arr.astype(np.int16)
&gt;&gt;&gt; np.diff(i16_arr)
array([-1], dtype=int16)
</pre> <h4 class="rubric">Examples</h4> <pre data-language="python">&gt;&gt;&gt; x = np.array([1, 2, 4, 7, 0])
&gt;&gt;&gt; np.diff(x)
array([ 1,  2,  3, -7])
&gt;&gt;&gt; np.diff(x, n=2)
array([  1,   1, -10])
</pre> <pre data-language="python">&gt;&gt;&gt; x = np.array([[1, 3, 6, 10], [0, 5, 6, 8]])
&gt;&gt;&gt; np.diff(x)
array([[2, 3, 4],
       [5, 1, 2]])
&gt;&gt;&gt; np.diff(x, axis=0)
array([[-1,  2,  0, -2]])
</pre> <pre data-language="python">&gt;&gt;&gt; x = np.arange('1066-10-13', '1066-10-16', dtype=np.datetime64)
&gt;&gt;&gt; np.diff(x)
array([1, 1], dtype='timedelta64[D]')
</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2022 NumPy Developers<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://numpy.org/doc/1.23/reference/generated/numpy.ma.diff.html" class="_attribution-link">https://numpy.org/doc/1.23/reference/generated/numpy.ma.diff.html</a>
  </p>
</div>
