      <h1>Query Progress Callbacks</h1>  <pre data-language="sql">
void sqlite3_progress_handler(sqlite3*, int, int(*)(void*), void*);
</pre> <p> The sqlite3_progress_handler(D,N,X,P) interface causes the callback function X to be invoked periodically during long running calls to <a href="step.html">sqlite3_step()</a> and <a href="prepare.html">sqlite3_prepare()</a> and similar for database connection D. An example use for this interface is to keep a GUI updated during a large query.</p> <p>The parameter P is passed through as the only parameter to the callback function X. The parameter N is the approximate number of <a href="../opcode.html">virtual machine instructions</a> that are evaluated between successive invocations of the callback X. If N is less than one then the progress handler is disabled.</p> <p>Only a single progress handler may be defined at one time per <a href="sqlite3.html">database connection</a>; setting a new progress handler cancels the old one. Setting parameter X to NULL disables the progress handler. The progress handler is also disabled by setting N to a value less than 1.</p> <p>If the progress callback returns non-zero, the operation is interrupted. This feature can be used to implement a "Cancel" button on a GUI progress dialog box.</p> <p>The progress handler callback must not do anything that will modify the database connection that invoked the progress handler. Note that <a href="prepare.html">sqlite3_prepare_v2()</a> and <a href="step.html">sqlite3_step()</a> both modify their database connections for the meaning of "modify" in this paragraph.</p> <p>The progress handler callback would originally only be invoked from the bytecode engine. It still might be invoked during <a href="prepare.html">sqlite3_prepare()</a> and similar because those routines might force a reparse of the schema which involves running the bytecode engine. However, beginning with SQLite version 3.41.0, the progress handler callback might also be invoked directly from <a href="prepare.html">sqlite3_prepare()</a> while analyzing and generating code for complex queries. </p>
<p>See also lists of <a href="objlist.html">Objects</a>, <a href="constlist.html">Constants</a>, and <a href="funclist.html">Functions</a>.</p> <div class="_attribution">
  <p class="_attribution-p">
    SQLite is in the Public Domain.<br>
    <a href="https://sqlite.org/c3ref/progress_handler.html" class="_attribution-link">https://sqlite.org/c3ref/progress_handler.html</a>
  </p>
</div>
