      <h1>Low-Level Control Of Database Files</h1>  <pre data-language="sql">
int sqlite3_file_control(sqlite3*, const char *zDbName, int op, void*);
</pre> <p> The <a href="file_control.html">sqlite3_file_control()</a> interface makes a direct call to the xFileControl method for the <a href="io_methods.html">sqlite3_io_methods</a> object associated with a particular database identified by the second argument. The name of the database is "main" for the main database or "temp" for the TEMP database, or the name that appears after the AS keyword for databases that are added using the <a href="../lang_attach.html">ATTACH</a> SQL command. A NULL pointer can be used in place of "main" to refer to the main database file. The third and fourth parameters to this routine are passed directly through to the second and third parameters of the xFileControl method. The return value of the xFileControl method becomes the return value of this routine.</p> <p>A few opcodes for <a href="file_control.html">sqlite3_file_control()</a> are handled directly by the SQLite core and never invoke the sqlite3_io_methods.xFileControl method. The <a href="c_fcntl_begin_atomic_write.html#sqlitefcntlfilepointer">SQLITE_FCNTL_FILE_POINTER</a> value for the op parameter causes a pointer to the underlying <a href="file.html">sqlite3_file</a> object to be written into the space pointed to by the 4th parameter. The <a href="c_fcntl_begin_atomic_write.html#sqlitefcntljournalpointer">SQLITE_FCNTL_JOURNAL_POINTER</a> works similarly except that it returns the <a href="file.html">sqlite3_file</a> object associated with the journal file instead of the main database. The <a href="c_fcntl_begin_atomic_write.html#sqlitefcntlvfspointer">SQLITE_FCNTL_VFS_POINTER</a> opcode returns a pointer to the underlying <a href="vfs.html">sqlite3_vfs</a> object for the file. The <a href="c_fcntl_begin_atomic_write.html#sqlitefcntldataversion">SQLITE_FCNTL_DATA_VERSION</a> returns the data version counter from the pager.</p> <p>If the second parameter (zDbName) does not match the name of any open database file, then SQLITE_ERROR is returned. This error code is not remembered and will not be recalled by <a href="errcode.html">sqlite3_errcode()</a> or <a href="errcode.html">sqlite3_errmsg()</a>. The underlying xFileControl method might also return SQLITE_ERROR. There is no way to distinguish between an incorrect zDbName and an SQLITE_ERROR return from the underlying xFileControl method.</p> <p>See also: <a href="c_fcntl_begin_atomic_write.html">file control opcodes</a> </p>
<p>See also lists of <a href="objlist.html">Objects</a>, <a href="constlist.html">Constants</a>, and <a href="funclist.html">Functions</a>.</p> <div class="_attribution">
  <p class="_attribution-p">
    SQLite is in the Public Domain.<br>
    <a href="https://sqlite.org/c3ref/file_control.html" class="_attribution-link">https://sqlite.org/c3ref/file_control.html</a>
  </p>
</div>
