      <h1>Write Data Into A BLOB Incrementally</h1>  <pre data-language="sql">
int sqlite3_blob_write(sqlite3_blob *, const void *z, int n, int iOffset);
</pre> <p> This function is used to write data into an open <a href="blob.html">BLOB handle</a> from a caller-supplied buffer. N bytes of data are copied from the buffer Z into the open BLOB, starting at offset iOffset.</p> <p>On success, sqlite3_blob_write() returns SQLITE_OK. Otherwise, an <a href="../rescode.html">error code</a> or an <a href="../rescode.html#extrc">extended error code</a> is returned. Unless SQLITE_MISUSE is returned, this function sets the <a href="sqlite3.html">database connection</a> error code and message accessible via <a href="errcode.html">sqlite3_errcode()</a> and <a href="errcode.html">sqlite3_errmsg()</a> and related functions.</p> <p>If the <a href="blob.html">BLOB handle</a> passed as the first argument was not opened for writing (the flags parameter to <a href="blob_open.html">sqlite3_blob_open()</a> was zero), this function returns <a href="../rescode.html#readonly">SQLITE_READONLY</a>.</p> <p>This function may only modify the contents of the BLOB; it is not possible to increase the size of a BLOB using this API. If offset iOffset is less than N bytes from the end of the BLOB, <a href="../rescode.html#error">SQLITE_ERROR</a> is returned and no data is written. The size of the BLOB (and hence the maximum value of N+iOffset) can be determined using the <a href="blob_bytes.html">sqlite3_blob_bytes()</a> interface. If N or iOffset are less than zero <a href="../rescode.html#error">SQLITE_ERROR</a> is returned and no data is written.</p> <p>An attempt to write to an expired <a href="blob.html">BLOB handle</a> fails with an error code of <a href="../rescode.html#abort">SQLITE_ABORT</a>. Writes to the BLOB that occurred before the <a href="blob.html">BLOB handle</a> expired are not rolled back by the expiration of the handle, though of course those changes might have been overwritten by the statement that expired the BLOB handle or by other independent statements.</p> <p>This routine only works on a <a href="blob.html">BLOB handle</a> which has been created by a prior successful call to <a href="blob_open.html">sqlite3_blob_open()</a> and which has not been closed by <a href="blob_close.html">sqlite3_blob_close()</a>. Passing any other pointer in to this routine results in undefined and probably undesirable behavior.</p> <p>See also: <a href="blob_read.html">sqlite3_blob_read()</a>. </p>
<p>See also lists of <a href="objlist.html">Objects</a>, <a href="constlist.html">Constants</a>, and <a href="funclist.html">Functions</a>.</p> <div class="_attribution">
  <p class="_attribution-p">
    SQLite is in the Public Domain.<br>
    <a href="https://sqlite.org/c3ref/blob_write.html" class="_attribution-link">https://sqlite.org/c3ref/blob_write.html</a>
  </p>
</div>
