      <h1>Determine The Collation For a Virtual Table Constraint</h1>  <pre data-language="sql">
const char *sqlite3_vtab_collation(sqlite3_index_info*,int);
</pre> <p> This function may only be called from within a call to the <a href="../vtab.html#xbestindex">xBestIndex</a> method of a <a href="../vtab.html">virtual table</a>. This function returns a pointer to a string that is the name of the appropriate collation sequence to use for text comparisons on the constraint identified by its arguments.</p> <p>The first argument must be the pointer to the <a href="index_info.html">sqlite3_index_info</a> object that is the first parameter to the xBestIndex() method. The second argument must be an index into the aConstraint[] array belonging to the sqlite3_index_info structure passed to xBestIndex.</p> <p>Important: The first parameter must be the same pointer that is passed into the xBestMethod() method. The first parameter may not be a pointer to a different <a href="index_info.html">sqlite3_index_info</a> object, even an exact copy.</p> <p>The return value is computed as follows:</p> <p></p>
<ol> <li><p> If the constraint comes from a WHERE clause expression that contains a <a href="../lang_expr.html#collateop">COLLATE operator</a>, then the name of the collation specified by that COLLATE operator is returned. </p></li>
<li><p> If there is no COLLATE operator, but the column that is the subject of the constraint specifies an alternative collating sequence via a <a href="../lang_createtable.html#collateclause">COLLATE clause</a> on the column definition within the CREATE TABLE statement that was passed into <a href="declare_vtab.html">sqlite3_declare_vtab()</a>, then the name of that alternative collating sequence is returned. </p></li>
<li><p> Otherwise, "BINARY" is returned. </p></li>
</ol> <p>See also lists of <a href="objlist.html">Objects</a>, <a href="constlist.html">Constants</a>, and <a href="funclist.html">Functions</a>.</p> <div class="_attribution">
  <p class="_attribution-p">
    SQLite is in the Public Domain.<br>
    <a href="https://sqlite.org/c3ref/vtab_collation.html" class="_attribution-link">https://sqlite.org/c3ref/vtab_collation.html</a>
  </p>
</div>
