     <h1 class="fancy_title"> Maintaining Private Branches Of SQLite </h1> <details class="fancy_toc"> <summary>Table Of Contents</summary> <div id="toc_sub">
<div class="fancy-toc1"><a href="#_introduction">1. Introduction</a></div> <div class="fancy-toc1"><a href="#_the_basic_idea">2. The Basic Idea</a></div> <div class="fancy-toc1"><a href="#_the_procedure">3. The Procedure</a></div> <div class="fancy-toc2"><a href="#_obtain_the_software">3.1. Obtain The Software</a></div> <div class="fancy-toc2"><a href="#_create_a_project_repository">3.2. Create A Project Repository</a></div> <div class="fancy-toc2"><a href="#_installing_the_sqlite_baseline_in_fossil">3.3. Installing The SQLite Baseline In Fossil</a></div> <div class="fancy-toc2"><a href="#_creating_the_private_branch">3.4. Creating The Private Branch</a></div> <div class="fancy-toc2"><a href="#_adding_customizations_to_the_code_in_the_private_branch">3.5. Adding Customizations To The Code In The Private Branch</a></div> <div class="fancy-toc2"><a href="#_incorporating_new_public_sqlite_releases">3.6. Incorporating New Public SQLite Releases</a></div> <div class="fancy-toc2"><a href="#_merging_public_sqlite_updates_into_the_private_branch">3.7. Merging Public SQLite Updates Into The Private Branch</a></div> <div class="fancy-toc2"><a href="#_further_updates">3.8. Further Updates</a></div> <div class="fancy-toc1"><a href="#_variations">4. Variations</a></div> </div> </details>  <h1 id="_introduction">
<span>1. </span> Introduction</h1> <p>SQLite is designed to meet most developer's needs without any changes or customization. When changes are needed, they can normally be accomplished using start-time <a href="c3ref/config.html">(1)</a> or runtime <a href="c3ref/db_config.html">(2)</a> <a href="c3ref/limit.html">(3)</a> <a href="c3ref/vfs_find.html">(4)</a> configuration methods or via <a href="compile.html">compile-time options</a>. It is very rare that an application developer will need to edit the SQLite source code in order to incorporate SQLite into a product.</p>
<p> </p>
<p>We call custom modifications to the SQLite source code that are held for the use of a single application a "private branch". When a private branch becomes necessary, the application developer must take on the task of keeping the private branch in synchronization with the public SQLite sources. This is tedious. It can also be tricky, since while the SQLite file format and published interfaces are very stable, the internal implementation of SQLite changes quite rapidly. Hundreds or thousands of lines of code might change for any given SQLite point release. </p> <p>This article outlines one possible method for keeping a private branch of SQLite in sync with the public SQLite source code. There are many ways of maintaining a private branch, of course. Nobody is compelled to use the method describe here. This article is not trying to impose a particular procedure on maintainers of private branches. The point of this article is to offer an example of one process for maintaining a private branch which can be used as a template for designing processes best suited for the circumstances of each individual project.</p> <img src="data:image/gif;base64,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"> <h1 id="_the_basic_idea">
<span>2. </span> The Basic Idea</h1> <p>We propose to use the <a href="http://www.fossil-scm.org">fossil software configuration management</a> system to set up two branches. One branch (the "public branch" or "trunk") contains the published SQLite sources and the other branch is the private branch which contains the code that is customized for the project. Whenever a new public release of SQLite is made, that release is added to the public branch and then the changes are merged into the private branch.</p> <p>This document proposes to use <a href="http://www.fossil-scm.org/">fossil</a>, but any other distributed software configuration management system such as <a href="http://www.monotone.ca/">monotone</a> or <a href="http://www.selenic.com/mercurial/wiki/">mercurial</a> (a.k.a. "hg"), or <a href="http://www.git-scm.org/">git</a> could serve just as well. The concept will be the same, though the specifics of the procedure will vary.</p> <p>The diagram at the right illustrates the concept. One begins with a standard SQLite release. For the sake of example, suppose that one intends to create a private branch off of SQLite version 3.6.15. In the diagram this is version (1). The maintainer makes an exact copy of the baseline SQLite into the branch space, shown as version (2). Note that (1) and (2) are exactly the same. Then the maintainer applies the private changes to version (2) resulting in version (3). In other words, version (3) is SQLite version 3.6.15 plus edits.</p> <p>Later, SQLite version 3.6.16 is released, as shown by circle (4) in the diagram. At the point, the private branch maintainer does a merge which takes all of the changes going from (1) to (4) and applies those changes to (3). The result is version (5), which is SQLite 3.6.16 plus edits.</p> <p>There might be merge conflicts. In other words, it might be that the changes from (2) to (3) are incompatible with the changes from (1) to (4). In that case, the maintainer will have to manually resolve the conflicts. Hopefully conflicts will not come up that often. Conflicts are less likely to occur when the private edits are kept to a minimum.</p> <p>The cycle above can be repeated many times. The diagram shows a third SQLite release, 3.6.17 in circle (6). The private branch maintainer can do another merge in order to incorporate the changes moving from (4) to (6) into the private branch, resulting in version (7).</p> <h1 id="_the_procedure">
<span>3. </span> The Procedure</h1> <p>The remainder of this document will guide the reader through the steps needed to maintain a private branch. The general idea is the same as outlined above. This section merely provides more detail.</p> <p>We emphasize again that these steps are not intended to be the only acceptable method for maintaining private branch. This approach is one of many. Use this document as a baseline for preparing project-specific procedures. Do not be afraid to experiment.</p> <h2 id="_obtain_the_software">
<span>3.1. </span> Obtain The Software</h2> <p><a href="http://www.fossil-scm.org/">Fossil</a> is a computer program that must be installed on your machine before you use it. Fortunately, installing fossil is very easy. Fossil is a single "*.exe" file that you simply download and run. To uninstall fossil, simply delete the exe file. <a href="http://www.fossil-scm.org/index.html/doc/tip/www/quickstart.wiki">Detailed instructions</a> for installing and getting started with fossil are available on the <a href="http://www.fossil-scm.org">fossil website</a>.</p> <h2 id="_create_a_project_repository">
<span>3.2. </span> Create A Project Repository</h2> <p>Create a fossil repository to host the private branch using the following command:</p> <pre data-language="sql">
fossil new private-project.fossil
</pre> <p>You can call your project anything you like. The "<code>.fossil</code>" suffix is optional. For this document, we will continue to call the project "<code>private-project.fossil</code>". Note that <code>private-project.fossil</code> is an ordinary disk file (actually an SQLite database) that will contain your complete project history. You can make a backup of the project simply by making a copy of that one file.</p> <p>If you want to configure the new project, type:</p> <pre data-language="sql">
fossil ui private-project.fossil
</pre> <p>The "ui" command will cause fossil to run a miniature built-in webserver and to launch your web-browser pointing at that webserver. You can use your web-browser to configure your project in various ways. See the instructions on the fossil website for additional information.</p> <p>Once the project repository is created, create an open checkout of the project by moving to the directory where you want to keep all of the project source code and typing:</p> <pre data-language="sql">
fossil open private-project.fossil
</pre> <p>You can have multiple checkouts of the same project if you want. And you can "clone" the repository to different machines so that multiple developers can use it. See the fossil website for further information.</p> <h2 id="_installing_the_sqlite_baseline_in_fossil">
<span>3.3. </span> Installing The SQLite Baseline In Fossil</h2> <p>The repository created in the previous step is initially empty. The next step is to load the baseline SQLite release - circle (1) in the diagram above.</p> <p>Begin by obtaining a copy of SQLite in whatever form you use it. The public SQLite you obtain should be as close to your private edited copy as possible. If your project uses the SQLite amalgamation, then get a copy of the amalgamation. If you use the preprocessed separate source files, get those instead. Put all the source files in the checkout directory created in the previous step.</p> <p>The source code in public SQLite releases uses unix line endings (ASCII code 10: "newline" only, NL) and spaces instead of tabs. If you will be changing the line ending to windows-style line endings (ASCII codes 13, 10: "carriage-return" and "newline"; CR-NL) or if you will be changing space indents into tab indents, <b>make that change now</b> before you check in the baseline. The merging process will only work well if the differences between the public and the private branches are minimal. If every single line of the source file is changed in the private branch because you changed from NL to CR-NL line endings, then the merge steps will not work correctly.</p> <p>Let us assume that you are using the amalgamation source code. Add the baseline to your project as follows:</p> <pre data-language="sql">
fossil add sqlite3.c sqlite3.h
</pre> <p>If you are using separate source files, name all of the source files instead of just the two amalgamation source files. Once this is done, commit your changes as follows:</p> <pre data-language="sql">
fossil commit
</pre> <p>You will be prompted for a check-in comment. Say whatever you like. After the commit completes, your baseline will be part of the repository. The following command, if you like, to see this on the "timeline": </p> <pre data-language="sql">
fossil ui
</pre> <p>That last command is the same "ui" command that we ran before. It starts a mini-webserver running and points your web browser at it. But this time we didn't have to specify the repository file because we are located inside a checkout and so fossil can figure out the repository for itself. If you want to type in the repository filename as the second argument, you can. But it is optional.</p> <p>If you do not want to use your web browser to view the new check-in, you can get some information from the command-line using commands like these: </p>
<pre data-language="sql">
fossil timeline
fossil info
fossil status
</pre> <h2 id="_creating_the_private_branch">
<span>3.4. </span> Creating The Private Branch</h2> <p>The previous step created circle (1) in the diagram above. This step will create circle (2). Run the following command:</p> <pre data-language="sql"> 
fossil branch new private trunk -bgcolor "#add8e8"
</pre> <p>This command will create a new branch named "private" (you can use a different name if you like) and assign it a background color of light blue ("#add8e8"). You can omit the background color if you want, though having a distinct background does make it easier to tell the branch from the "trunk" (the public branch) on timeline displays. You can change the background color of the private branch or of the public branch (the "trunk") using the web interface if you like.</p> <p>The command above created the new branch. But your checkout is still on the trunk - a fact you can see by running the command:</p> <pre data-language="sql">
fossil info
</pre> <p>To change your check-out to the private branch, type:</p> <pre data-language="sql">
fossil update private
</pre> <p>You can run the "info" command again to verify that you are on the private branch. To go back to the public branch, type:</p> <pre data-language="sql">
fossil update trunk
</pre> <p>Normally, fossil will modify all the files in your checkout when switching between the private and the public branches. But at this point, the files are identical in both branches so no modifications need to be made.</p> <h2 id="_adding_customizations_to_the_code_in_the_private_branch">
<span>3.5. </span> Adding Customizations To The Code In The Private Branch</h2> <p>Now it is time to make the private, custom modifications to SQLite which are the whole point of this exercise. Switch to the private branch (if you are not already there) using the "<code>fossil update private</code>" command, then bring up the source files in your text editor and make whatever changes you want to make. Once you have finished making changes, commit those changes using this command:</p> <pre data-language="sql">
fossil commit
</pre> <p>You will be prompted once again to enter a commit describing your changes. Then the commit will occur. The commit creates a new checkin in the repository that corresponds to circle (3) in the diagram above.</p> <p>Now that the public and private branches are different, you can run the "<code>fossil update trunk</code>" and "<code>fossil update private</code>" commands and see that fossil really does change the files in the checkout as you switch back and forth between branches.</p> <p>Note that in the diagram above, we showed the private edits as a single commit. This was for clarity of presentation only. There is nothing to stop you from doing dozens or hundreds of separate tiny changes and committing each separately. In fact, making many small changes is the preferred way to work. The only reason for doing all the changes in a single commit is that it makes the diagram easier to draw.</p> <h2 id="_incorporating_new_public_sqlite_releases">
<span>3.6. </span> Incorporating New Public SQLite Releases</h2> <p>Suppose that after a while (about a month, usually) a new version of SQLite is released: 3.6.16. You will want to incorporate this new public version of SQLite into your repository in the public branch (the trunk). To do this, first change your repository over to the trunk:</p> <pre data-language="sql">
fossil update trunk
</pre> <p>Then download the new version of the SQLite sources and overwrite the files that are in the checkout.</p>
<p> </p>
<p>If you made NL to CR-NL line ending changes or space to tab indentation changes in the original baseline, make the same changes to the new source file.</p> <p>Once everything is ready, run the "<code>fossil commit</code>" command to check in the changes. This creates circle (4) in the diagram above.</p> <h2 id="_merging_public_sqlite_updates_into_the_private_branch">
<span>3.7. </span> Merging Public SQLite Updates Into The Private Branch</h2> <p>The next step is to move the changes in the public branch over into the private branch. In other words, we want to create circle (5) in the diagram above. Begin by changing to the private branch using "<code>fossil update private</code>". Then type this command:</p> <pre data-language="sql">
fossil merge trunk
</pre> <p>The "merge" command attempts to apply all the changes between circles (1) and (4) to the files in the local checkout. Note that circle (5) has not been created yet. You will need to run the "commit" to create circle (5).</p> <p>It might be that there are conflicts in the merge. Conflicts occur when the same line of code was changed in different ways between circles (1) and (4) versus circles (2) and (3). The merge command will announce any conflicts and will include both versions of the conflicting lines in the output. You will need to bring up the files that contain conflicts and manually resolve the conflicts.</p> <p>After resolving conflicts, many users like to compile and test the new version before committing it to the repository. Or you can commit first and test later. Either way, run the "<code>fossil commit</code>" command to check-in the circle (5) version. </p>
<h2 id="_further_updates">
<span>3.8. </span> Further Updates</h2> <p>As new versions of SQLite are released, repeat steps 3.6 and 3.7 to add changes in the new release to the private branch. Additional private changes can be made on the private branch in between releases if desired.</p> <h1 id="_variations">
<span>4. </span> Variations</h1> <p>Since this document was first written, the canonical SQLite source code has been moved from the venerable CVS system into a Fossil repository at <a href="https://www.sqlite.org/src">https://www.sqlite.org/src</a>. This means that if you are working with canonical SQLite source code (as opposed to the <a href="amalgamation.html">amalgamation</a> source code files, sqlite3.c and sqlite3.h) then you can create a private repository simply by cloning the official repository:</p> <pre data-language="sql">
fossil clone https://www.sqlite.org/src private-project.fossil
</pre> <p>This command both creates the new repository and populates it with all the latest SQLite code. You can then create a private branch as described in section 3.4.</p> <p>When the private repository is created by cloning, incorporating new public SQLite releases becomes much easier too. To pull in all of the latest changes from the public SQLite repository, simply move into the open check-out and do:</p> <pre data-language="sql">
fossil update
</pre> <p>Then continue to merge the changes in "trunk" with your "private" changes as described in section 3.7.</p> <p><small><i>This page last modified on <a href="https://sqlite.org/docsrc/honeypot" id="mtimelink" data-href="https://sqlite.org/docsrc/finfo/pages/privatebranch.in?m=b0fc810bc8">2023-10-10 17:29:48</a> UTC </i></small></p> <div class="_attribution">
  <p class="_attribution-p">
    SQLite is in the Public Domain.<br>
    <a href="https://sqlite.org/privatebranch.html" class="_attribution-link">https://sqlite.org/privatebranch.html</a>
  </p>
</div>
