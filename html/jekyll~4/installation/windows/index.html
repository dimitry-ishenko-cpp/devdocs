<h1>Jekyll on Windows</h1> <p>While Windows is not an officially-supported platform, it can be used to run Jekyll with the proper tweaks.</p> <h2 id="installing-ruby-and-jekyll">Installing Ruby and Jekyll</h2> <h3 id="installation-via-rubyinstaller">Installation via RubyInstaller</h3> <p>The easiest way to install Ruby and Jekyll is by using the <a href="https://rubyinstaller.org/">RubyInstaller</a> for Windows.</p> <p>RubyInstaller is a self-contained Windows-based installer that includes the Ruby language, an execution environment, important documentation, and more.</p> <p>We only cover RubyInstaller-2.4 and newer here. Older versions need to <a href="https://github.com/oneclick/rubyinstaller/wiki/Development-Kit">install the Devkit</a> manually.</p> <ol> <li>Download and install a <strong>Ruby+Devkit</strong> version from <a href="https://rubyinstaller.org/downloads/">RubyInstaller Downloads</a>. Use default options for installation.</li> <li>Run the <code>ridk install</code> step on the last stage of the installation wizard. This is needed for installing gems with native extensions. You can find additional information regarding this in the <a href="https://github.com/oneclick/rubyinstaller2#using-the-installer-on-a-target-system">RubyInstaller Documentation</a>
</li> <li>Open a new command prompt window from the start menu, so that changes to the <code>PATH</code> environment variable becomes effective. Install Jekyll and Bundler using <code>gem install jekyll bundler</code>
</li> <li>Check if Jekyll has been installed properly: <code>jekyll -v</code>
</li> </ol> <blockquote class="note info">You may receive an error when checking if Jekyll has been installed properly. Reboot your system and run <code>jekyll -v</code> again. If the error persists, please open a <a href="https://github.com/oneclick/rubyinstaller2/issues/new">RubyInstaller issue</a>.</blockquote> <p>That’s it, you’re ready to use Jekyll!</p> <h3 id="installation-via-bash-on-windows-10">Installation via Bash on Windows 10</h3> <p>If you are using Windows 10 version 1607 or later, another option to run Jekyll is by <a href="https://msdn.microsoft.com/en-us/commandline/wsl/install_guide">installing</a> the Windows Subsystem for Linux.</p> <blockquote class="note info">You must have <a href="https://msdn.microsoft.com/en-us/commandline/wsl/about">Windows Subsystem for Linux</a> enabled.</blockquote> <p>Make sure all your packages and repositories are up to date. Open a new Command Prompt or Powershell window and type <code>bash</code>.</p> <p>Your terminal should now be a Bash instance. Next, update your repository lists and packages:</p> <pre data-language="bash">sudo apt-get update -y &amp;&amp; sudo apt-get upgrade -y
</pre> <p>Next, install Ruby. To do this, let’s use a repository from <a href="https://www.brightbox.com/docs/ruby/ubuntu/">BrightBox</a>, which hosts optimized versions of Ruby for Ubuntu.</p> <pre data-language="bash">sudo apt-add-repository ppa:brightbox/ruby-ng
sudo apt-get update
sudo apt-get install ruby2.5 ruby2.5-dev build-essential dh-autoreconf
</pre> <p>Next, update your Ruby gems:</p> <pre data-language="bash">gem update
</pre> <p>Install Jekyll:</p> <pre data-language="bash">gem install jekyll bundler
</pre> <blockquote class="note info">No <code>sudo</code> here.</blockquote> <p>Check your Jekyll version:</p> <pre data-language="bash">jekyll -v
</pre> <p>That’s it! You’re ready to start using Jekyll.</p> <p>You can make sure time management is working properly by inspecting your <code>_posts</code> folder. You should see a markdown file with the current date in the filename.</p> <blockquote class="note info"> <h5>Non-superuser account issues</h5> <p>If the `jekyll new` command prints the error "Your user account isn't allowed to install to the system RubyGems", see the "Running Jekyll as Non-Superuser" instructions in <a href="../../troubleshooting/index.html#no-sudo">Troubleshooting</a>.</p> </blockquote> <blockquote class="note info">Bash on Ubuntu on Windows is still under development, so you may run into issues.</blockquote> <h2 id="encoding">Encoding</h2> <p>If you use UTF-8 encoding, make sure that no <code>BOM</code> header characters exist in your files. If they don’t, Jekyll will break. This is especially relevant when you’re running Jekyll on Windows.</p> <p>Additionally, you might need to change the code page of the console window to UTF-8 in case you get a <code>Liquid Exception: Incompatible character encoding</code> error during the site generation process. Run the following:</p> <pre data-language="bash">chcp 65001
</pre> <h2 id="time-zone-management">Time Zone Management</h2> <p>Since Windows doesn’t have a native source of zoneinfo data, the Ruby Interpreter doesn’t understand IANA Timezones. Using them had the <code>TZ</code> environment variable default to UTC/GMT 00:00.</p> <p>Though Windows users could alternatively define their blog’s timezone by setting the key to use the POSIX format of defining timezones, it wasn’t as user-friendly when it came to having the clock altered to changing DST-rules.</p> <p>Jekyll now uses a rubygem to internally configure Timezone based on established <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">IANA Timezone Database</a>.</p> <p>While ‘new’ blogs created with Jekyll v3.4 and greater, will have the following added to their <code>Gemfile</code> by default, existing sites <em>will</em> have to update their <code>Gemfile</code> (and installed gems) to enable development on Windows:</p> <pre data-language="ruby"># Windows does not include zoneinfo files, so bundle the tzinfo-data gem
gem 'tzinfo-data', platforms: [:mingw, :mswin, :x64_mingw, :jruby]
</pre> <blockquote class="note warning"> <h5>TZInfo 2.0 incompatibility</h5> <p> Version 2.0 of the TZInfo library has introduced a change in how timezone offsets are calculated. This will result in incorrect date and time for your posts when the site is built with Jekyll 3.x on Windows. </p> <p> We therefore recommend that you lock the Timezone library to version 1.2 and above by listing <code>gem 'tzinfo', '~&gt; 1.2'</code> in your <code>Gemfile</code>. </p> </blockquote> <h2 id="auto-regeneration">Auto Regeneration</h2> <p>Jekyll uses the <code>listen</code> gem to watch for changes when the <code>--watch</code> switch is specified during a build or serve. While <code>listen</code> has built-in support for UNIX systems, it may require an extra gem for compatibility with Windows.</p> <p>Add the following to the <code>Gemfile</code> for your site if you have issues with auto-regeneration on Windows alone:</p> <pre data-language="ruby">gem 'wdm', '~&gt; 0.1.1', :install_if =&gt; Gem.win_platform?
</pre> <p>You have to use a <a href="https://rubyinstaller.org/downloads/">Ruby+Devkit</a> version of the RubyInstaller and install the MSYS2 build tools to successfully install the <code>wdm</code> gem.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2020 Jekyll Core Team and contributors<br>Licensed under the MIT license.<br>
    <a href="https://jekyllrb.com/docs/installation/windows/" class="_attribution-link">https://jekyllrb.com/docs/installation/windows/</a>
  </p>
</div>
