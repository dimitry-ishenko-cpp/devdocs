<header><h1>SyntaxError: invalid class set operation in regular expression</h1></header><div class="section-content"><p>The JavaScript exception "invalid class set operation in regular expression" occurs when a double punctuator sequence appears in a <a href="../regular_expressions/character_class.html#v-mode_character_class"><code>v</code>-mode character class</a> but it is not recognized by the syntax.</p></div>
<section aria-labelledby="message"><h2 id="message">Message</h2>
<div class="section-content"><pre data-language="plain">SyntaxError: Invalid regular expression: /[&amp;&amp;]/v: Invalid set operation in character class (V8-based)
SyntaxError: invalid class set operation in regular expression (Firefox)
SyntaxError: Invalid regular expression: invalid operation in class set (Safari)
</pre></div></section><section aria-labelledby="error_type"><h2 id="error_type">Error type</h2>
<div class="section-content"><a href="../global_objects/syntaxerror.html"><code>SyntaxError</code></a></div></section><section aria-labelledby="what_went_wrong"><h2 id="what_went_wrong">What went wrong?</h2>
<div class="section-content">
<p>There are three possible ways this could happen:</p> <ul> <li>You are trying to use <code>&amp;&amp;</code> or <code>--</code>, but the syntax is wrong. Each of these operators must join two characters or character sets.</li> <li>You are mixing operators on the same level. For example, <code>[\w&amp;&amp;[A-z]--_]</code> is invalid because it uses <code>&amp;&amp;</code> and <code>--</code> on the same level. You need to use nested character classes to disambiguate, such as <code>[\w&amp;&amp;[[A-z]--_]]</code>. Note that the union operation uses an operator that has no text; for example, <code>[AB&amp;&amp;C]</code> is invalid because <code>A</code> and <code>B</code> are implicitly joined by the union operator. You need to use <code>[A[B&amp;&amp;C]]</code> instead.</li> <li>You are using a double punctuator sequence that's not <code>&amp;&amp;</code> or <code>--</code>. These sequences are reserved for future syntax extensions. They include: <code>&amp;&amp;</code>, <code>!!</code>, <code>##</code>, <code>$$</code>, <code>%%</code>, <code>**</code>, <code>++</code>, <code>,,</code>, <code>..</code>, <code>::</code>, <code>;;</code>, <code>&lt;&lt;</code>, <code>==</code>, <code>&gt;&gt;</code>, <code>??</code>, <code>@@</code>, <code>^^</code>, <code>``</code>, <code>~~</code>. However, these sequences don't make much sense anyway, and can either be replaced with a single character or cause two adjacent ranges to be merged.</li> </ul>
</div></section><section aria-labelledby="see_also"><h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../regular_expressions.html">Regular expressions</a></li> <li><a href="../regular_expressions/character_class.html">Character class: <code>[...]</code>, <code>[^...]</code></a></li> </ul></div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2023 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_class_set_operation" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Regex_invalid_class_set_operation</a>
  </p>
</div>
