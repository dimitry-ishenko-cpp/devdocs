<header><h1>Intl.DateTimeFormat.prototype.formatToParts()</h1>
<details class="baseline-indicator high"><summary><div class="status-title">Baseline <span class="not-bold">Widely available</span>
</div>

</summary><div class="extra">
<p>This feature is well established and works across many devices and browser versions. It’s been available across browsers since September 2017.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean="baseline_link_learn_more" target="_blank" class="learn-more">Learn more</a></li>
<li><a href="#browser_compatibility" data-glean="baseline_link_bcd_table">See full compatibility</a></li>
<li><a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FIntl%2FDateTimeFormat%2FformatToParts&amp;level=high" data-glean="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer">Report feedback</a></li>
</ul>
</div></details></header><div class="section-content"><p>The <code>formatToParts()</code> method of <a href="../datetimeformat.html"><code>Intl.DateTimeFormat</code></a> instances returns an array of objects representing each part of the formatted string that would be returned by <a href="format.html"><code>format()</code></a>. It is useful for building custom strings from the locale-specific tokens.</p></div>
<section aria-labelledby="try_it"><h2 id="try_it">Try it</h2>
<div class="section-content"><iframe class="interactive is-taller-height" height="200" src="https://interactive-examples.mdn.mozilla.net/pages/js/intl-datetimeformat-prototype-formattoparts.html" title="MDN Web Docs Interactive Example" allow="clipboard-write" loading="lazy"></iframe></div></section><section aria-labelledby="syntax"><h2 id="syntax">Syntax</h2>
<div class="section-content"><div class="code-example"><pre data-language="js">formatToParts(date)
</pre></div></div></section><section aria-labelledby="parameters"><h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="date"><a href="#date"><code>date</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>The date to format. Can be a <a href="../../date.html"><code>Date</code></a> or <a href="../../temporal/plaindatetime.html"><code>Temporal.PlainDateTime</code></a> object. Additionally can be a <a href="../../temporal/plaintime.html"><code>Temporal.PlainTime</code></a>, <a href="../../temporal/plaindate.html"><code>Temporal.PlainDate</code></a>, <a href="../../temporal/plainyearmonth.html"><code>Temporal.PlainYearMonth</code></a>, or <a href="../../temporal/plainmonthday.html"><code>Temporal.PlainMonthDay</code></a> object if the <code>DateTimeFormat</code> object was configured to print at least one relevant part of the date.</p> <div class="notecard note"> <p><strong>Note:</strong> A <a href="../../temporal/zoneddatetime.html"><code>Temporal.ZonedDateTime</code></a> object will always throw a <code>TypeError</code>; use <a href="../../temporal/zoneddatetime/tolocalestring.html"><code>Temporal.ZonedDateTime.prototype.toLocaleString()</code></a> or convert it to a <a href="../../temporal/plaindatetime.html"><code>Temporal.PlainDateTime</code></a> object instead.</p> </div> <p>Omitting it results in formatting the current date (as returned by <a href="../../date/now.html"><code>Date.now()</code></a>), which could be slightly confusing, so it is advisable to always explicitly pass a date.</p> </dd> </dl></div></section><section aria-labelledby="return_value"><h3 id="return_value">Return value</h3>
<div class="section-content">
<p>An <a href="../../array.html"><code>Array</code></a> of objects containing the formatted date in parts. Each object has two properties, <code>type</code> and <code>value</code>, each containing a string. The string concatenation of <code>value</code>, in the order provided, will result in the same string as <a href="format.html"><code>format()</code></a>. The <code>type</code> may be one of the <a href="datetimeformat.html#date-time_component_options">date-time components</a>:</p> <dl> <dt id="weekday"><a href="#weekday"><code>weekday</code></a></dt> <dd> <p>For example <code>"M"</code>, <code>"Monday"</code>, or <code>"Montag"</code>.</p> </dd> <dt id="era"><a href="#era"><code>era</code></a></dt> <dd> <p>For example <code>"BC"</code> or <code>"AD"</code>.</p> </dd> <dt id="year"><a href="#year"><code>year</code></a></dt> <dd> <p>For example <code>"2012"</code> or <code>"96"</code>.</p> </dd> <dt id="month"><a href="#month"><code>month</code></a></dt> <dd> <p>For example <code>"12"</code> or <code>"January"</code>.</p> </dd> <dt id="day"><a href="#day"><code>day</code></a></dt> <dd> <p>For example <code>"17"</code>.</p> </dd> <dt id="dayperiod"><a href="#dayperiod"><code>dayPeriod</code></a></dt> <dd> <p>For example <code>"AM"</code>, <code>"PM"</code>, <code>"in the morning"</code>, or <code>"noon"</code>.</p> </dd> <dt id="hour"><a href="#hour"><code>hour</code></a></dt> <dd> <p>For example <code>"3"</code> or <code>"03"</code>.</p> </dd> <dt id="minute"><a href="#minute"><code>minute</code></a></dt> <dd> <p>For example <code>"00"</code>.</p> </dd> <dt id="second"><a href="#second"><code>second</code></a></dt> <dd> <p>For example <code>"07"</code> or <code>"42"</code>.</p> </dd> <dt id="fractionalsecond"><a href="#fractionalsecond"><code>fractionalSecond</code></a></dt> <dd> <p>For example <code>"0"</code>, <code>"00"</code>, or <code>"000"</code>.</p> </dd> <dt id="timezonename"><a href="#timezonename"><code>timeZoneName</code></a></dt> <dd> <p>For example <code>"UTC"</code>, <code>"CET"</code>, or <code>"Central European Time"</code>.</p> </dd> </dl> <p>The <code>type</code> may also be one of the following:</p> <dl> <dt id="literal"><a href="#literal"><code>literal</code></a></dt> <dd> <p>Any string that's a part of the format pattern and not influenced by the <code>date</code>; for example <code>"/"</code>, <code>", "</code>, <code>"o'clock"</code>, <code>"de"</code>, <code>" "</code>, etc.</p> </dd> <dt id="relatedyear"><a href="#relatedyear"><code>relatedYear</code></a></dt> <dd> <p>A 4-digit Gregorian year, in the event that the calendar's representation would be a <code>yearName</code> instead of a year; for example <code>"2019"</code>. See <a href="#named_years">named years</a> for more details.</p> </dd> <dt id="yearname"><a href="#yearname"><code>yearName</code></a></dt> <dd> <p>The name given to the year, usually in calendars without the concept of continuous years; for example <code>"geng-zi"</code>.</p> </dd> <dt id="unknown"><a href="#unknown"><code>unknown</code></a></dt> <dd> <p>Reserved for any token that's not recognized as any of the above; should be rarely encountered.</p> </dd> </dl>
</div></section><section aria-labelledby="examples"><h2 id="examples">Examples</h2>
</section><section aria-labelledby="using_formattoparts"><h3 id="using_formattoparts">Using formatToParts()</h3>
<div class="section-content">
<p>The <code>format()</code> method outputs localized, opaque strings that cannot be manipulated directly:</p> <div class="code-example"><pre data-language="js">const date = Date.UTC(2012, 11, 17, 3, 0, 42);

const formatter = new Intl.DateTimeFormat("en-us", {
  weekday: "long",
  year: "numeric",
  month: "numeric",
  day: "numeric",
  hour: "numeric",
  minute: "numeric",
  second: "numeric",
  fractionalSecondDigits: 3,
  hour12: true,
  timeZone: "UTC",
});

formatter.format(date);
// "Monday, 12/17/2012, 3:00:42.000 AM"
</pre></div> <p>However, in many user interfaces you may want to customize the formatting of this string, or interleave it with other texts. The <code>formatToParts()</code> method produces the same information in parts:</p> <div class="code-example"><pre data-language="js">formatter.formatToParts(date);

// return value:
[
  { type: "weekday", value: "Monday" },
  { type: "literal", value: ", " },
  { type: "month", value: "12" },
  { type: "literal", value: "/" },
  { type: "day", value: "17" },
  { type: "literal", value: "/" },
  { type: "year", value: "2012" },
  { type: "literal", value: ", " },
  { type: "hour", value: "3" },
  { type: "literal", value: ":" },
  { type: "minute", value: "00" },
  { type: "literal", value: ":" },
  { type: "second", value: "42" },
  { type: "fractionalSecond", value: "000" },
  { type: "literal", value: " " },
  { type: "dayPeriod", value: "AM" },
];
</pre></div> <p>Now the information is available separately and it can be formatted and concatenated again in a customized way. For example by using <a href="../../array/map.html"><code>Array.prototype.map()</code></a>, <a href="../../../functions/arrow_functions.html">arrow functions</a>, a <a href="../../../statements/switch.html">switch statement</a>, <a href="../../../template_literals.html">template literals</a>, and <a href="../../array/join.html"><code>Array.prototype.join()</code></a>, to insert additional markup for certain components.</p> <div class="code-example"><pre data-language="js">const dateString = formatter
  .formatToParts(date)
  .map(({ type, value }) =&gt; {
    switch (type) {
      case "dayPeriod":
        return `&lt;em&gt;${value}&lt;/em&gt;`;
      default:
        return value;
    }
  })
  .join("");

console.log(dateString);
// "Monday, 12/17/2012, 3:00:42.000 &lt;em&gt;AM&lt;/em&gt;"
</pre></div>
</div></section><section aria-labelledby="named_years"><h3 id="named_years">Named years</h3>
<div class="section-content">
<p>Some calendars use named years; for example, the Chinese and Tibetan calendars use a 60-year <a href="https://en.wikipedia.org/wiki/Sexagenary_cycle" target="_blank">sexagenary cycle</a> of named years. These calendars do not have a universal way to unambiguously number each year, so years are disambiguated by relationship to corresponding years on the Gregorian calendar. In this case, when the <code>DateTimeFormat</code> is configured to output the year component, a token for <code>relatedYear</code> is output instead of <code>year</code>.</p> <div class="code-example"><pre data-language="js">const df = new Intl.DateTimeFormat("zh-u-ca-chinese");
df.formatToParts(Date.UTC(2012, 11, 17, 3, 0, 42));

// return value:
[
  { type: "relatedYear", value: "2012" },
  { type: "literal", value: "年" },
  { type: "month", value: "十一月" },
  { type: "day", value: "4" },
];
</pre></div> <p>Sometimes, the combination of date-time component options maps to a format that also includes a <code>yearName</code>. There isn't a separate option that controls whether <code>yearName</code> is displayed or not. For example, the options below sets <code>month</code> to <code>"long"</code> and results in a <code>yearName</code> token, despite <code>year</code> still being <code>"numeric"</code>:</p> <div class="code-example"><pre data-language="js">const opts = { year: "numeric", month: "long", day: "numeric" };
const df = new Intl.DateTimeFormat("zh-u-ca-chinese", opts);
df.formatToParts(Date.UTC(2012, 11, 17, 3, 0, 42));

// return value:
[
  { type: "relatedYear", value: "2012" },
  { type: "yearName", value: "壬辰" },
  { type: "literal", value: "年" },
  { type: "month", value: "十一月" },
  { type: "day", value: "4" },
];
</pre></div> <p>Because <code>format()</code> just concatenates all the <code>value</code> strings together, you will see the Gregorian year and the year name together in the output in this case.</p>
</div></section><h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://tc39.es/ecma402/#sec-Intl.DateTimeFormat.prototype.formatToParts">ECMAScript Internationalization API Specification <br><small># sec-Intl.DateTimeFormat.prototype.formatToParts</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="6">Mobile</th>
<th colspan="2">Server</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>Deno</th>
<th>Node.js</th>
</tr>
</thead>
<tbody><tr>
<th><code>formatToParts</code></th>
<td class="bc-supports-yes"><details><summary>57</summary>Before version 71, <code>formatToParts()</code> returned an object with an incorrectly cased type key of <code>dayperiod</code>. Version 71 and later use the specification defined <code>dayPeriod</code>. See <a href="https://crbug.com/41402623">bug 41402623</a>.</details></td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">51</td>
<td class="bc-supports-yes"><details><summary>44</summary>Before version 58, <code>formatToParts()</code> returned an object with an incorrectly cased type key of <code>dayperiod</code>. Version 58 and later use the specification defined <code>dayPeriod</code>. See <a href="https://crbug.com/41402623">bug 41402623</a>.</details></td>
<td class="bc-supports-yes">11</td>
<td class="bc-supports-yes"><details><summary>57</summary>Before version 71, <code>formatToParts()</code> returned an object with an incorrectly cased type key of <code>dayperiod</code>. Version 71 and later use the specification defined <code>dayPeriod</code>. See <a href="https://crbug.com/41402623">bug 41402623</a>.</details></td>
<td class="bc-supports-yes">56</td>
<td class="bc-supports-yes"><details><summary>43</summary>Before version 50, <code>formatToParts()</code> returned an object with an incorrectly cased type key of <code>dayperiod</code>. Version 50 and later use the specification defined <code>dayPeriod</code>. See <a href="https://crbug.com/41402623">bug 41402623</a>.</details></td>
<td class="bc-supports-yes">11</td>
<td class="bc-supports-yes"><details><summary>7.0</summary>Before version 71, <code>formatToParts()</code> returned an object with an incorrectly cased type key of <code>dayperiod</code>. Version 71 and later use the specification defined <code>dayPeriod</code>. See <a href="https://crbug.com/41402623">bug 41402623</a>.</details></td>
<td class="bc-supports-yes"><details><summary>57</summary>Before version 71, <code>formatToParts()</code> returned an object with an incorrectly cased type key of <code>dayperiod</code>. Version 71 and later use the specification defined <code>dayPeriod</code>. See <a href="https://crbug.com/41402623">bug 41402623</a>.</details></td>
<td class="bc-supports-yes">1.8</td>
<td class="bc-supports-yes"><details><summary>8.0.0</summary>["Before version 12.0.0, <code>formatToParts()</code> returned an object with an incorrectly cased type key of <code>dayperiod</code>. Version 12.0.0 and later use the specification defined <code>dayPeriod</code>. See <a href="#">bug 41402623</a>.", "Before version 13.0.0, only the locale data for <code>en-US</code> is available by default. See <a href="#">the <code>DateTimeFormat()</code> constructor</a> for more details."]</details></td>
</tr></tbody>
</table></div>
<section aria-labelledby="see_also"><h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li><a href="../datetimeformat.html"><code>Intl.DateTimeFormat</code></a></li> <li><a href="format.html"><code>Intl.DateTimeFormat.prototype.format()</code></a></li> </ul></div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts</a>
  </p>
</div>
