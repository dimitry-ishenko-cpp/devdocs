<header><h1>function expression</h1>
<details class="baseline-indicator high"><summary><div class="status-title">Baseline <span class="not-bold">Widely available</span>
</div>

</summary><div class="extra">
<p>This feature is well established and works across many devices and browser versions. It’s been available across browsers since July 2015.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Glossary/Baseline/Compatibility" data-glean="baseline_link_learn_more" target="_blank" class="learn-more">Learn more</a></li>
<li><a href="#browser_compatibility" data-glean="baseline_link_bcd_table">See full compatibility</a></li>
<li><a href="https://survey.alchemer.com/s3/7634825/MDN-baseline-feedback?page=%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FOperators%2Ffunction&amp;level=high" data-glean="baseline_link_feedback" class="feedback-link" target="_blank" rel="noreferrer">Report feedback</a></li>
</ul>
</div></details></header><div class="section-content">
<p>The <code>function</code> keyword can be used to define a function inside an expression.</p> <p>You can also define functions using the <a href="../statements/function.html"><code>function</code> declaration</a> or the <a href="../functions/arrow_functions.html">arrow syntax</a>.</p>
</div>
<section aria-labelledby="try_it"><h2 id="try_it">Try it</h2>
<div class="section-content"><iframe class="interactive is-shorter-height" height="200" src="https://interactive-examples.mdn.mozilla.net/pages/js/expressions-functionexpression.html" title="MDN Web Docs Interactive Example" allow="clipboard-write" loading="lazy"></iframe></div></section><section aria-labelledby="syntax"><h2 id="syntax">Syntax</h2>
<div class="section-content">
<div class="code-example"><pre data-language="js">function (param0) {
  statements
}
function (param0, param1) {
  statements
}
function (param0, param1, /* …, */ paramN) {
  statements
}

function name(param0) {
  statements
}
function name(param0, param1) {
  statements
}
function name(param0, param1, /* …, */ paramN) {
  statements
}
</pre></div> <div class="notecard note"> <p><strong>Note:</strong> An <a href="../statements/expression_statement.html">expression statement</a> cannot begin with the keyword <code>function</code> to avoid ambiguity with a <a href="../statements/function.html"><code>function</code> declaration</a>. The <code>function</code> keyword only begins an expression when it appears in a context that cannot accept statements.</p> </div>
</div></section><section aria-labelledby="parameters"><h3 id="parameters">Parameters</h3>
<div class="section-content"><dl> <dt id="name"><a href="#name"><code>name</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>The function name. Can be omitted, in which case the function is <em>anonymous</em>. The name is only local to the function body.</p> </dd> <dt id="paramn"><a href="#paramn"><code>paramN</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>The name of a formal parameter for the function. For the parameters' syntax, see the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions#function_parameters">Functions reference</a>.</p> </dd> <dt id="statements"><a href="#statements"><code>statements</code> <span class="badge inline optional">Optional</span></a></dt> <dd> <p>The statements which comprise the body of the function.</p> </dd> </dl></div></section><section aria-labelledby="description"><h2 id="description">Description</h2>
<div class="section-content"><p>A <code>function</code> expression is very similar to, and has almost the same syntax as, a <a href="../statements/function.html"><code>function</code> declaration</a>. The main difference between a <code>function</code> expression and a <code>function</code> declaration is the <em>function name</em>, which can be omitted in <code>function</code> expressions to create <em>anonymous</em> functions. A <code>function</code> expression can be used as an <a href="https://developer.mozilla.org/en-US/docs/Glossary/IIFE">IIFE</a> (Immediately Invoked Function Expression) which runs as soon as it is defined. See also the chapter about <a href="../functions.html">functions</a> for more information.</p></div></section><section aria-labelledby="function_expression_hoisting"><h3 id="function_expression_hoisting">Function expression hoisting</h3>
<div class="section-content">
<p>Function expressions in JavaScript are not hoisted, unlike <a href="../statements/function.html#hoisting">function declarations</a>. You can't use function expressions before you create them:</p> <div class="code-example"><pre data-language="js">console.log(notHoisted); // undefined
// Even though the variable name is hoisted,
// the definition isn't. so it's undefined.
notHoisted(); // TypeError: notHoisted is not a function

var notHoisted = function () {
  console.log("bar");
};
</pre></div>
</div></section><section aria-labelledby="named_function_expression"><h3 id="named_function_expression">Named function expression</h3>
<div class="section-content">
<p>If you want to refer to the current function inside the function body, you need to create a named function expression. This name is then local only to the function body (scope). This avoids using the deprecated <a href="../functions/arguments/callee.html"><code>arguments.callee</code></a> property to call the function recursively.</p> <div class="code-example"><pre data-language="js">const math = {
  factorial: function factorial(n) {
    console.log(n);
    if (n &lt;= 1) {
      return 1;
    }
    return n * factorial(n - 1);
  },
};

math.factorial(3); //3;2;1;
</pre></div> <p>If a function expression is named, the <a href="../global_objects/function/name.html"><code>name</code></a> property of the function is set to that name, instead of the implicit name inferred from syntax (such as the variable the function is assigned to).</p> <p>Unlike declarations, the name of the function expressions is read-only.</p> <div class="code-example"><pre data-language="js">"use strict";

function foo() {
  foo = 1;
}
foo();
console.log(foo); // 1
(function foo() {
  foo = 1; // TypeError: Assignment to constant variable.
})();
</pre></div>
</div></section><section aria-labelledby="examples"><h2 id="examples">Examples</h2>
</section><section aria-labelledby="using_function_expression"><h3 id="using_function_expression">Using function expression</h3>
<div class="section-content">
<p>The following example defines an unnamed function and assigns it to <code>x</code>. The function returns the square of its argument:</p> <div class="code-example"><pre data-language="js">const x = function (y) {
  return y * y;
};
</pre></div>
</div></section><section aria-labelledby="using_a_function_as_a_callback"><h3 id="using_a_function_as_a_callback">Using a function as a callback</h3>
<div class="section-content">
<p>More commonly it is used as a <a href="https://developer.mozilla.org/en-US/docs/Glossary/Callback_function">callback</a>:</p> <div class="code-example"><pre data-language="js">button.addEventListener("click", function (event) {
  console.log("button is clicked!");
});
</pre></div>
</div></section><section aria-labelledby="using_an_immediately_invoked_function_expression_iife"><h3 id="using_an_immediately_invoked_function_expression_iife">Using an Immediately Invoked Function Expression (IIFE)</h3>
<div class="section-content">
<p><a href="https://developer.mozilla.org/en-US/docs/Glossary/IIFE">IIFEs</a> are a common pattern used to execute arbitrarily many statements in their own scope (and possibly return a value), in a location that requires a single expression. Many traditional use cases of IIFEs have been obsoleted by new syntax features such as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules">modules</a> and <a href="../statements/let.html">block-scoped declarations</a>. IIFEs themselves are more commonly written with <a href="../functions/arrow_functions.html">arrow functions</a> now, but the idea remains the same. In general, IIFEs look like this:</p> <div class="code-example"><pre data-language="js">// standard IIFE
(function () {
  // statements…
})();

// IIFE with arguments
(function (a, b) {
  console.log(a + b);
})(1, 2); // logs 3


// IIFE being used to initialize a variable
const value = (() =&gt; {
  const randomValue = Math.random();
  if (randomValue &gt; 0.5) {
    return "heads";
  } else {
    return "tails";
  }
}());
</pre></div> <p>Here, we introduce several use cases with examples.</p>
</div></section><section aria-labelledby="avoid_polluting_the_global_namespace_in_script_code"><h3 id="avoid_polluting_the_global_namespace_in_script_code">Avoid polluting the global namespace in script code</h3>
<div class="section-content">
<p>The top-level scope of all scripts are shared, which could include many functions and global variables from different files, so to avoid name conflicts, it's important to limit the number of globally declared names (this is greatly mitigated in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules#other_differences_between_modules_and_classic_scripts">modules</a>, but sometimes limiting the scope of temporary variables is still useful, especially when the file is very long). If we have some initialization code that we don't need to use again, we could use the IIFE pattern, which is better than using a function declaration or a function expression because it ensures that the code is only run here and once.</p> <div class="code-example"><pre data-language="js">// top-level of a script (not a module)

var globalVariable = (() =&gt; {
  // some initialization code
  let firstVariable = something();
  let secondVariable = somethingElse();
  return firstVariable + secondVariable;
})();

// firstVariable and secondVariable cannot be accessed outside of the function body.
</pre></div>
</div></section><section aria-labelledby="the_module_pattern"><h3 id="the_module_pattern">The module pattern</h3>
<div class="section-content">
<p>We would also use IIFE to create private and public variables and methods. For a more sophisticated use of the module pattern and other use of IIFE, you could see the book Learning JavaScript Design Patterns by Addy Osmani.</p> <div class="code-example"><pre data-language="js">const makeWithdraw = (balance) =&gt;
  ((copyBalance) =&gt; {
    let balance = copyBalance; // This variable is private
    const doBadThings = () =&gt; {
      console.log("I will do bad things with your money");
    };
    doBadThings();
    return {
      withdraw(amount) {
        if (balance &gt;= amount) {
          balance -= amount;
          return balance;
        }
        return "Insufficient money";
      },
    };
  })(balance);

const firstAccount = makeWithdraw(100); // "I will do bad things with your money"
console.log(firstAccount.balance); // undefined
console.log(firstAccount.withdraw(20)); // 80
console.log(firstAccount.withdraw(30)); // 50
console.log(firstAccount.doBadThings); // undefined; this method is private
const secondAccount = makeWithdraw(20); // "I will do bad things with your money"
console.log(secondAccount.withdraw(30)); // "Insufficient money"
console.log(secondAccount.withdraw(20)); // 0
</pre></div>
</div></section><section aria-labelledby="for_loop_with_var_before_es6"><h3 id="for_loop_with_var_before_es6">For loop with var before ES6</h3>
<div class="section-content">
<p>We could see the following use of IIFE in some old code, before the introduction of the block-scoped <code>let</code> and <code>const</code> declarations. With the statement <code>var</code>, we have only function scopes and the global scope. Suppose we want to create 2 buttons with the texts Button 0 and Button 1 and when we click them, we would like them to alert 0 and 1. The following code doesn't work:</p> <div class="code-example"><pre data-language="js">for (var i = 0; i &lt; 2; i++) {
  const button = document.createElement("button");
  button.innerText = `Button ${i}`;
  button.onclick = function () {
    console.log(i);
  };
  document.body.appendChild(button);
}
console.log(i); // 2
</pre></div> <p>When clicked, both Button 0 and Button 1 alert 2 because <code>i</code> is global, with the last value 2. To fix this problem before ES6, we could use the IIFE pattern:</p> <div class="code-example"><pre data-language="js">for (var i = 0; i &lt; 2; i++) {
  const button = document.createElement("button");
  button.innerText = `Button ${i}`;
  button.onclick = (function (copyOfI) {
    return function () {
      console.log(copyOfI);
    };
  })(i);
  document.body.appendChild(button);
}
console.log(i); // 2
</pre></div> <p>When clicked, Buttons 0 and 1 alert 0 and 1. The variable <code>i</code> is globally defined. Using the statement <code>let</code>, we could simply do:</p> <div class="code-example"><pre data-language="js">for (let i = 0; i &lt; 2; i++) {
  const button = document.createElement("button");
  button.innerText = `Button ${i}`;
  button.onclick = function () {
    console.log(i);
  };
  document.body.appendChild(button);
}
console.log(i); // Uncaught ReferenceError: i is not defined.
</pre></div> <p>When clicked, these buttons alert 0 and 1.</p>
</div></section><section aria-labelledby="control_flow_statements_in_expression_positions"><h3 id="control_flow_statements_in_expression_positions">Control flow statements in expression positions</h3>
<div class="section-content">
<p>IIFEs enable us to use language constructs such as <code>switch</code> in an expression.</p> <div class="code-example"><pre data-language="js">someObject.property = (() =&gt; {
  switch (someVariable) {
    case 0:
      return "zero";
    case 1:
      return "one";
    default:
      return "unknown";
  }
})();
</pre></div> <p>This approach can be especially useful in scenarios where you want to make a variable <code>const</code>, but are forced to use <code>let</code> or <code>var</code> during initialization:</p> <div class="code-example"><pre data-language="js">let onlyAssignedOnce;
try {
  onlyAssignedOnce = someFunctionThatMightThrow();
} catch (e) {
  onlyAssignedOnce = null;
}
</pre></div> <p>Using IIFEs, we can make the variable <code>const</code>:</p> <div class="code-example"><pre data-language="js">const onlyAssignedOnce = (() =&gt; {
  try {
    return someFunctionThatMightThrow();
  } catch (e) {
    return null;
  }
})();
</pre></div>
</div></section><h2 id="specifications">Specifications</h2>
<div class="_table"><table class="standard-table">
<thead><tr><th scope="col">Specification</th></tr></thead>
<tbody><tr><td><a href="https://tc39.es/ecma262/multipage/ecmascript-language-functions-and-classes.html#sec-function-definitions">ECMAScript Language Specification <br><small># sec-function-definitions</small></a></td></tr></tbody>
</table></div>
<h2 id="browser_compatibility">Browser compatibility</h2>
<div class="_table"><table>
<thead>
<tr id="bct-browser-type">
<th></th>
<th colspan="5">Desktop</th>
<th colspan="6">Mobile</th>
<th colspan="2">Server</th>
</tr>
<tr id="bct-browsers">
<th></th>
<th>Chrome</th>
<th>Edge</th>
<th>Firefox</th>
<th>Opera</th>
<th>Safari</th>
<th>Chrome Android</th>
<th>Firefox for Android</th>
<th>Opera Android</th>
<th>Safari on IOS</th>
<th>Samsung Internet</th>
<th>WebView Android</th>
<th>Deno</th>
<th>Node.js</th>
</tr>
</thead>
<tbody>
<tr>
<th><code>function</code></th>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">12</td>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">3</td>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">18</td>
<td class="bc-supports-yes">4</td>
<td class="bc-supports-yes">10.1</td>
<td class="bc-supports-yes">1</td>
<td class="bc-supports-yes">1.0</td>
<td class="bc-supports-yes">4.4</td>
<td class="bc-supports-yes">1.0</td>
<td class="bc-supports-yes">0.10.0</td>
</tr>
<tr>
<th><code>trailing_comma</code></th>
<td class="bc-supports-yes">58</td>
<td class="bc-supports-yes">14</td>
<td class="bc-supports-yes">52</td>
<td class="bc-supports-yes">45</td>
<td class="bc-supports-yes">10</td>
<td class="bc-supports-yes">58</td>
<td class="bc-supports-yes">52</td>
<td class="bc-supports-yes">43</td>
<td class="bc-supports-yes">10</td>
<td class="bc-supports-yes">7.0</td>
<td class="bc-supports-yes">58</td>
<td class="bc-supports-yes">1.0</td>
<td class="bc-supports-yes">8.0.0</td>
</tr>
</tbody>
</table></div>
<section aria-labelledby="see_also"><h2 id="see_also">See also</h2>
<div class="section-content"><ul> <li>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions">Functions</a> guide</li> <li><a href="../functions.html">Functions</a></li> <li><a href="../statements/function.html"><code>function</code></a></li> <li><a href="../global_objects/function.html"><code>Function</code></a></li> <li><a href="../functions/arrow_functions.html">Arrow functions</a></li> </ul></div></section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 MDN contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/function" class="_attribution-link">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/function</a>
  </p>
</div>
