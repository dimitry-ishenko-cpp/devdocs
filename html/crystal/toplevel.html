<h1 class="type-name"> Top Level Namespace </h1> <h2>  Included Modules </h2> <ul class="other-types-list"> <li class="other-type"><a href="spec/expectations.html">Spec::Expectations</a></li> <li class="other-type"><a href="spec/methods.html">Spec::Methods</a></li> </ul> <h2>  Extended Modules </h2> <ul class="other-types-list"> <li class="other-type"><a href="spec/expectations.html">Spec::Expectations</a></li> <li class="other-type"><a href="spec/methods.html">Spec::Methods</a></li> </ul> <h2>  Defined in: </h2> <h2>  Constant Summary </h2> <dl> <dt class="entry-const" id="ARGF"> <strong>ARGF</strong> = <code>IO::ARGF.new(ARGV, STDIN)</code> </dt> <dd class="entry-const-doc"> <p>An <code><a href="io.html">IO</a></code> for reading files from <code><a href="toplevel.html#ARGV">ARGV</a></code>.</p> <p>Usage example:</p> <p><code>program.cr</code>:</p> <pre data-language="crystal">puts ARGF.gets_to_end</pre> <p>A file to read from: (<code>file</code>)</p> <pre data-language="crystal">123</pre> <pre data-language="crystal">$ crystal build program.cr
$ ./program file
123
$ ./program file file
123123
$ # If ARGV is empty, ARGF reads from STDIN instead:
$ echo "hello" | ./program
hello
$ ./program unknown
Unhandled exception: Error opening file with mode 'r': 'unknown': No such file or directory (File::NotFoundError)
...</pre> <p>After a file from <code><a href="toplevel.html#ARGV">ARGV</a></code> has been read, it's removed from <code><a href="toplevel.html#ARGV">ARGV</a></code>.</p> <p>You can manipulate <code><a href="toplevel.html#ARGV">ARGV</a></code> yourself to control what <code><a href="toplevel.html#ARGF">ARGF</a></code> operates on. If you remove a file from <code><a href="toplevel.html#ARGV">ARGV</a></code>, it is ignored by <code><a href="toplevel.html#ARGF">ARGF</a></code>; if you add files to <code><a href="toplevel.html#ARGV">ARGV</a></code>, <code><a href="toplevel.html#ARGF">ARGF</a></code> will read from it.</p> <pre data-language="crystal">ARGV.replace ["file1"]
ARGF.gets_to_end # =&gt; Content of file1
ARGV             # =&gt; []
ARGV &lt;&lt; "file2"
ARGF.gets_to_end # =&gt; Content of file2</pre> </dd> <dt class="entry-const" id="ARGV"> <strong>ARGV</strong> = <code>Array.new(ARGC_UNSAFE - 1) do |i|
  String.new(ARGV_UNSAFE[1 + i])
end</code> </dt> <dd class="entry-const-doc"> <p>An array of arguments passed to the program.</p> </dd> <dt class="entry-const" id="EOL"> <strong>EOL</strong> = <code>{% if flag?(:windows) %}
        "\r\n"
      {% else %}
        "\n"
      {% end %}</code> </dt> <dd class="entry-const-doc"> <p>The newline constant</p> </dd> <dt class="entry-const" id="PROGRAM_NAME"> <strong>PROGRAM_NAME</strong> = <code>String.new(ARGV_UNSAFE.value)</code> </dt> <dd class="entry-const-doc"> <p>The name, the program was called with.</p> <p>The result may be a relative or absolute path (including symbolic links), just the command name or the empty string.</p> <p>See <code>Process.executable_path</code> for a more convenient alternative that always returns the absolute real path to the executable file (if it exists).</p> </dd> <dt class="entry-const" id="STDERR"> <strong>STDERR</strong> = <code>IO::FileDescriptor.from_stdio(2)</code> </dt> <dd class="entry-const-doc"> <p>The standard error file descriptor.</p> <p>Typically used to output error messages and diagnostics.</p> <p>At the start of the program STDERR is configured like this:</p> <ul> <li>if it's a TTY device (like the console) then <code>sync</code> is <code>true</code>, meaning that output will be outputted as soon as it is written to STDERR. This is so users can see real time output data.</li> <li>if it's not a TTY device (like a file, or because the output was piped to a file) then <code>sync</code> is <code>false</code> but <code>flush_on_newline</code> is <code>true</code>. This is so that if you pipe the output to a file, and, for example, you <code>tail -f</code>, you can see data on a line-per-line basis. This is convenient but slower than with <code>flush_on_newline</code> set to <code>false</code>. If you need a bit more performance and you don't care about near real-time output you can do <code>STDERR.flush_on_newline = false</code>.</li> </ul> <p>On Unix systems, if the file descriptor is a TTY, the runtime duplicates it. So <code>STDERR.fd</code> might not be <code>2</code>. The reason for this is to enable non-blocking writes for concurrency. Other fibers can run while waiting on IO. The original file descriptor is inherited from the parent process. Setting it to non-blocking mode would reflect back which can cause problems.</p> <p>On Windows, <code><a href="toplevel.html#STDERR">STDERR</a></code> is always blocking.</p> </dd> <dt class="entry-const" id="STDIN"> <strong>STDIN</strong> = <code>IO::FileDescriptor.from_stdio(0)</code> </dt> <dd class="entry-const-doc"> <p>The standard input file descriptor. Contains data piped to the program.</p> <p>On Unix systems, if the file descriptor is a TTY, the runtime duplicates it. So <code>STDIN.fd</code> might not be <code>0</code>. The reason for this is to enable non-blocking reads for concurrency. Other fibers can run while waiting on user input. The original file descriptor is inherited from the parent process. Setting it to non-blocking mode would reflect back, which can cause problems.</p> <p>On Windows, <code><a href="toplevel.html#STDIN">STDIN</a></code> is always blocking.</p> </dd> <dt class="entry-const" id="STDOUT"> <strong>STDOUT</strong> = <code>IO::FileDescriptor.from_stdio(1)</code> </dt> <dd class="entry-const-doc"> <p>The standard output file descriptor.</p> <p>Typically used to output data and information.</p> <p>At the start of the program STDOUT is configured like this:</p> <ul> <li>if it's a TTY device (like the console) then <code>sync</code> is <code>true</code>, meaning that output will be outputted as soon as it is written to STDOUT. This is so users can see real time output data.</li> <li>if it's not a TTY device (like a file, or because the output was piped to a file) then <code>sync</code> is <code>false</code> but <code>flush_on_newline</code> is <code>true</code>. This is so that if you pipe the output to a file, and, for example, you <code>tail -f</code>, you can see data on a line-per-line basis. This is convenient but slower than with <code>flush_on_newline</code> set to <code>false</code>. If you need a bit more performance and you don't care about near real-time output you can do <code>STDOUT.flush_on_newline = false</code>.</li> </ul> <p>On Unix systems, if the file descriptor is a TTY, the runtime duplicates it. So <code>STDOUT.fd</code> might not be <code>1</code>. The reason for this is to enable non-blocking writes for concurrency. Other fibers can run while waiting on IO. The original file descriptor is inherited from the parent process. Setting it to non-blocking mode would reflect back which can cause problems.</p> <p>On Windows, <code><a href="toplevel.html#STDOUT">STDOUT</a></code> is always blocking.</p> </dd> </dl> <h2>  Method Summary </h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#%60%28command%29%3AString-class-method" class="signature"><strong>`</strong>(command) : String</a> <div class="summary"><p>Returns the standard output of executing <em>command</em> in a subshell.</p></div> </li> <li class="entry-summary"> <a href="#abort%28message%3Dnil%2Cstatus%3D1%29%3ANoReturn-class-method" class="signature"><strong>abort</strong>(message = nil, status = 1) : NoReturn</a> <div class="summary"><p>Terminates execution immediately, printing <em>message</em> to <code><a href="toplevel.html#STDERR">STDERR</a></code> and then calling <code><a href="toplevel.html#exit%28status%3D0%29%3ANoReturn-class-method">exit(status)</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#at_exit%28%26handler%3AInt32%2CException%7CNil-%3E%29%3ANil-class-method" class="signature"><strong>at_exit</strong>(&amp;handler : Int32, Exception | Nil -&gt; ) : Nil</a> <div class="summary"><p>Registers the given <code><a href="proc.html">Proc</a></code> for execution when the program exits regularly.</p></div> </li> <li class="entry-summary"> <a href="#caller%3AArray%28String%29-class-method" class="signature"><strong>caller</strong> : Array(String)</a> <div class="summary"><p>Returns the current execution stack as an array containing strings usually in the form file:line:column or file:line:column in 'method'.</p></div> </li> <li class="entry-summary"> <a href="#exit%28status%3D0%29%3ANoReturn-class-method" class="signature"><strong>exit</strong>(status = 0) : NoReturn</a> <div class="summary"><p>Terminates execution immediately, returning the given status code to the invoking environment.</p></div> </li> <li class="entry-summary"> <a href="#gets%28%2Aargs%2C%2A%2Aoptions%29-class-method" class="signature"><strong>gets</strong>(*args, **options)</a> <div class="summary"><p>Reads a line from <code><a href="toplevel.html#STDIN">STDIN</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#instance_sizeof%28type%3AClass%29%3AInt32-class-method" class="signature"><strong>instance_sizeof</strong>(type : Class) : Int32</a> <div class="summary"><p>Returns the instance size of the given class as number of bytes.</p></div> </li> <li class="entry-summary"> <a href="#loop%28%26%29-class-method" class="signature"><strong>loop</strong>(&amp;)</a> <div class="summary"><p>Repeatedly executes the block.</p></div> </li> <li class="entry-summary"> <a href="#main%28argc%3AInt32%2Cargv%3APointer%28Pointer%28UInt8%29%29%29-class-method" class="signature"><strong>main</strong>(argc : Int32, argv : Pointer(Pointer(UInt8)))</a> <div class="summary"><p>Main function that acts as C's main function.</p></div> </li> <li class="entry-summary"> <a href="#offsetof%28type%3AClass%2Coffset%29%3AInt32-class-method" class="signature"><strong>offsetof</strong>(type : Class, offset) : Int32</a> <div class="summary"><p>Returns the byte offset of an instance variable in a struct or class type.</p></div> </li> <li class="entry-summary"> <a href="#p%28object%29-class-method" class="signature"><strong>p</strong>(object)</a> <div class="summary"><p>Inspects <em>object</em> to <code><a href="toplevel.html#STDOUT">STDOUT</a></code> followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#p%28%2Aobjects%29-class-method" class="signature"><strong>p</strong>(*objects)</a> <div class="summary"><p>Inspects each object in <em>objects</em> to <code><a href="toplevel.html#STDOUT">STDOUT</a></code>, followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#p%28%2A%2Aobjects%29-class-method" class="signature"><strong>p</strong>(**objects)</a> <div class="summary"><p>Inspects <em>objects</em> to <code><a href="toplevel.html#STDOUT">STDOUT</a></code>, followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#pointerof%28variable%3AT%29%3APointer%28T%29forallT-class-method" class="signature"><strong>pointerof</strong>(variable : T) : Pointer(T) forall T</a> <div class="summary"><p>Returns a <code><a href="pointer.html">Pointer</a></code> to the contents of a variable.</p></div> </li> <li class="entry-summary"> <a href="#pp%28object%29-class-method" class="signature"><strong>pp</strong>(object)</a> <div class="summary"><p>Pretty prints <em>object</em> to <code><a href="toplevel.html#STDOUT">STDOUT</a></code> followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#pp%28%2Aobjects%29-class-method" class="signature"><strong>pp</strong>(*objects)</a> <div class="summary"><p>Pretty prints each object in <em>objects</em> to <code><a href="toplevel.html#STDOUT">STDOUT</a></code>, followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#pp%28%2A%2Aobjects%29-class-method" class="signature"><strong>pp</strong>(**objects)</a> <div class="summary"><p>Pretty prints <em>objects</em> to <code><a href="toplevel.html#STDOUT">STDOUT</a></code>, followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#print%28%2Aobjects%3A_%29%3ANil-class-method" class="signature"><strong>print</strong>(*objects : _) : Nil</a> <div class="summary"><p>Prints objects to <code><a href="toplevel.html#STDOUT">STDOUT</a></code> and then invokes <code>STDOUT.flush</code>.</p></div> </li> <li class="entry-summary"> <a href="#printf%28format_string%2Cargs%3AArray%7CTuple%29%3ANil-class-method" class="signature"><strong>printf</strong>(format_string, args : Array | Tuple) : Nil</a> <div class="summary"><p>Prints a formatted string to <code><a href="toplevel.html#STDOUT">STDOUT</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#printf%28format_string%2C%2Aargs%29%3ANil-class-method" class="signature"><strong>printf</strong>(format_string, *args) : Nil</a> <div class="summary"><p>Prints a formatted string to <code><a href="toplevel.html#STDOUT">STDOUT</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#puts%28%2Aobjects%29%3ANil-class-method" class="signature"><strong>puts</strong>(*objects) : Nil</a> <div class="summary"><p>Prints <em>objects</em> to <code><a href="toplevel.html#STDOUT">STDOUT</a></code>, each followed by a newline character unless the object is a <code><a href="string.html">String</a></code> and already ends with a newline.</p></div> </li> <li class="entry-summary"> <a href="#raise%28exception%3AException%29%3ANoReturn-class-method" class="signature"><strong>raise</strong>(exception : Exception) : NoReturn</a> <div class="summary"><p>Raises the <em>exception</em>.</p></div> </li> <li class="entry-summary"> <a href="#raise%28message%3AString%29%3ANoReturn-class-method" class="signature"><strong>raise</strong>(message : String) : NoReturn</a> <div class="summary"><p>Raises an Exception with the <em>message</em>.</p></div> </li> <li class="entry-summary"> <a href="#rand%28x%29-class-method" class="signature"><strong>rand</strong>(x)</a> <div class="summary"><p>See <code>Random#rand(x)</code>.</p></div> </li> <li class="entry-summary"> <a href="#rand%3AFloat64-class-method" class="signature"><strong>rand</strong> : Float64</a> <div class="summary"><p>See <code>Random#rand</code>.</p></div> </li> <li class="entry-summary"> <a href="#read_line%28%2Aargs%2C%2A%2Aoptions%29-class-method" class="signature"><strong>read_line</strong>(*args, **options)</a> <div class="summary"><p>Reads a line from <code><a href="toplevel.html#STDIN">STDIN</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#sizeof%28type%3AClass%29%3AInt32-class-method" class="signature"><strong>sizeof</strong>(type : Class) : Int32</a> <div class="summary"><p>Returns the size of the given type as number of bytes.</p></div> </li> <li class="entry-summary"> <a href="#sleep%28seconds%3ANumber%29%3ANil-class-method" class="signature"><strong>sleep</strong>(seconds : Number) : Nil</a> <div class="summary">
<p>Blocks the current fiber for the specified number of seconds.</p> <p>DEPRECATED Use <code>::sleep(<a href="time/span.html">Time::Span</a>)</code> instead</p>
</div> </li> <li class="entry-summary"> <a href="#sleep%28time%3ATime%3A%3ASpan%29%3ANil-class-method" class="signature"><strong>sleep</strong>(time : Time::Span) : Nil</a> <div class="summary"><p>Blocks the current Fiber for the specified time span.</p></div> </li> <li class="entry-summary"> <a href="#sleep%3ANil-class-method" class="signature"><strong>sleep</strong> : Nil</a> <div class="summary"><p>Blocks the current fiber forever.</p></div> </li> <li class="entry-summary"> <a href="#spawn%28%2A%2Cname%3AString%7CNil%3Dnil%2Csame_thread%3Dfalse%2C%26block%29-class-method" class="signature"><strong>spawn</strong>(*, name : String | Nil = nil, same_thread = false, &amp;block)</a> <div class="summary"><p>Spawns a new fiber.</p></div> </li> <li class="entry-summary"> <a href="#sprintf%28format_string%2Cargs%3AArray%7CTuple%29%3AString-class-method" class="signature"><strong>sprintf</strong>(format_string, args : Array | Tuple) : String</a> <div class="summary"><p>Returns a formatted string.</p></div> </li> <li class="entry-summary"> <a href="#sprintf%28format_string%2C%2Aargs%29%3AString-class-method" class="signature"><strong>sprintf</strong>(format_string, *args) : String</a> <div class="summary"><p>Returns a formatted string.</p></div> </li> <li class="entry-summary"> <a href="#system%28command%3AString%2Cargs%3Dnil%29%3ABool-class-method" class="signature"><strong>system</strong>(command : String, args = nil) : Bool</a> <div class="summary"><p>Executes the given command in a subshell.</p></div> </li> <li class="entry-summary"> <a href="#timeout_select_action%28timeout%3ATime%3A%3ASpan%29%3AChannel%3A%3ATimeoutAction-class-method" class="signature"><strong>timeout_select_action</strong>(timeout : Time::Span) : Channel::TimeoutAction</a> <div class="summary"><p>Timeout keyword for use in <code>select</code>.</p></div> </li> <li class="entry-summary"> <a href="#typeof%28%2Aexpression%29%3AClass-class-method" class="signature"><strong>typeof</strong>(*expression) : Class</a> <div class="summary"><p>Returns the type of an expression.</p></div> </li> </ul> <h2>  Macro Summary </h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#debugger-macro" class="signature"><strong>debugger</strong></a> </li> <li class="entry-summary"> <a href="#p%21%28%2Aexps%29-macro" class="signature"><strong>p!</strong>(*exps)</a> <div class="summary"><p>Prints a series of expressions together with their inspected values.</p></div> </li> <li class="entry-summary"> <a href="#pp%21%28%2Aexps%29-macro" class="signature"><strong>pp!</strong>(*exps)</a> <div class="summary"><p>Prints a series of expressions together with their pretty printed values.</p></div> </li> <li class="entry-summary"> <a href="#record%28__namename%2C%2Aproperties%2C%2A%2Akwargs%29-macro" class="signature"><strong>record</strong>(__name name, *properties, **kwargs)</a> <div class="summary"><p>Defines a <strong><code><a href="struct.html">Struct</a></code></strong> type called <em>name</em> with the given <em>properties</em>.</p></div> </li> <li class="entry-summary"> <a href="#spawn%28call%2C%2A%2Cname%3Dnil%2Csame_thread%3Dfalse%2C%26block%29-macro" class="signature"><strong>spawn</strong>(call, *, name = nil, same_thread = false, &amp;block)</a> <div class="summary"><p>Spawns a fiber by first creating a <code><a href="proc.html">Proc</a></code>, passing the <em>call</em>'s expressions to it, and letting the <code><a href="proc.html">Proc</a></code> finally invoke the <em>call</em>.</p></div> </li> </ul> <div class="methods-inherited"> <h3>Instance methods inherited from module <code><a href="spec/methods.html">Spec::Methods</a></code>
</h3> <a href="spec/methods.html#after_all%28%26block%29-instance-method" class="tooltip"> after_all(&amp;block) after_all</a>, <a href="spec/methods.html#after_each%28%26block%29-instance-method" class="tooltip"> after_each(&amp;block) after_each</a>, <a href="spec/methods.html#around_all%28%26block%3AExampleGroup%3A%3AProcsy-%3E%29-instance-method" class="tooltip"> around_all(&amp;block : ExampleGroup::Procsy -&gt; ) around_all</a>, <a href="spec/methods.html#around_each%28%26block%3AExample%3A%3AProcsy-%3E%29-instance-method" class="tooltip"> around_each(&amp;block : Example::Procsy -&gt; ) around_each</a>, <a href="spec/methods.html#before_all%28%26block%29-instance-method" class="tooltip"> before_all(&amp;block) before_all</a>, <a href="spec/methods.html#before_each%28%26block%29-instance-method" class="tooltip"> before_each(&amp;block) before_each</a>, <a href="spec/methods.html#context%28description%3Dnil%2Cfile%3D__FILE__%2Cline%3D__LINE__%2Cend_line%3D__END_LINE__%2Cfocus%3ABool%3Dfalse%2Ctags%3AString%7CEnumerable%28String%29%7CNil%3Dnil%2C%26block%29-instance-method" class="tooltip"> context(description = nil, file = __FILE__, line = __LINE__, end_line = __END_LINE__, focus : Bool = false, tags : String | Enumerable(String) | Nil = nil, &amp;block) context</a>, <a href="spec/methods.html#describe%28description%3Dnil%2Cfile%3D__FILE__%2Cline%3D__LINE__%2Cend_line%3D__END_LINE__%2Cfocus%3ABool%3Dfalse%2Ctags%3AString%7CEnumerable%28String%29%7CNil%3Dnil%2C%26block%29-instance-method" class="tooltip"> describe(description = nil, file = __FILE__, line = __LINE__, end_line = __END_LINE__, focus : Bool = false, tags : String | Enumerable(String) | Nil = nil, &amp;block) describe</a>, <a href="spec/methods.html#fail%28msg%2Cfile%3D__FILE__%2Cline%3D__LINE__%29-instance-method" class="tooltip"> fail(msg, file = __FILE__, line = __LINE__) fail</a>, <a href="spec/methods.html#it%28description%3D%22assert%22%2Cfile%3D__FILE__%2Cline%3D__LINE__%2Cend_line%3D__END_LINE__%2Cfocus%3ABool%3Dfalse%2Ctags%3AString%7CEnumerable%28String%29%7CNil%3Dnil%2C%26block%29-instance-method" class="tooltip"> it(description = "assert", file = __FILE__, line = __LINE__, end_line = __END_LINE__, focus : Bool = false, tags : String | Enumerable(String) | Nil = nil, &amp;block) it</a>, <a href="spec/methods.html#pending%28description%3D%22assert%22%2Cfile%3D__FILE__%2Cline%3D__LINE__%2Cend_line%3D__END_LINE__%2Cfocus%3ABool%3Dfalse%2Ctags%3AString%7CEnumerable%28String%29%7CNil%3Dnil%2C%26%29-instance-method" class="tooltip"> pending(description = "assert", file = __FILE__, line = __LINE__, end_line = __END_LINE__, focus : Bool = false, tags : String | Enumerable(String) | Nil = nil, &amp;)<br>pending(description = "assert", file = __FILE__, line = __LINE__, end_line = __END_LINE__, focus : Bool = false, tags : String | Enumerable(String) | Nil = nil) pending</a>, <a href="spec/methods.html#pending%21%28msg%3D%22Cannotrunexample%22%2Cfile%3D__FILE__%2Cline%3D__LINE__%29-instance-method" class="tooltip"> pending!(msg = "Cannot run example", file = __FILE__, line = __LINE__) pending!</a> <h3>Macros inherited from module <code><a href="spec/methods.html">Spec::Methods</a></code>
</h3> <a href="spec/methods.html#assert_iterates_iterator%28expected%2Cmethod%2C%2A%2Cinfinite%3Dfalse%29-macro" class="tooltip"> assert_iterates_iterator(expected, method, *, infinite = false) assert_iterates_iterator</a>, <a href="spec/methods.html#assert_iterates_yielding%28expected%2Cmethod%2C%2A%2Cinfinite%3Dfalse%2Ctuple%3Dfalse%29-macro" class="tooltip"> assert_iterates_yielding(expected, method, *, infinite = false, tuple = false) assert_iterates_yielding</a>, <a href="spec/methods.html#assert_prints%28call%2C%2A%2Cshouldexpectation%2Cfile%3D__FILE__%2Cline%3D__LINE__%29-macro" class="tooltip"> assert_prints(call, *, should expectation, file = __FILE__, line = __LINE__)<br>assert_prints(call, str, *, file = __FILE__, line = __LINE__) assert_prints</a>, <a href="spec/methods.html#it_iterates%28description%2Cexpected%2Cmethod%2C%2A%2Cinfinite%3Dfalse%2Ctuple%3Dfalse%2Cfile%3D__FILE__%2Cline%3D__LINE__%29-macro" class="tooltip"> it_iterates(description, expected, method, *, infinite = false, tuple = false, file = __FILE__, line = __LINE__) it_iterates</a> <h3>Instance methods inherited from module <code><a href="spec/expectations.html">Spec::Expectations</a></code>
</h3> <a href="spec/expectations.html#be%28value%29-instance-method" class="tooltip"> be(value)<br>be be</a>, <a href="spec/expectations.html#be_close%28expected%2Cdelta%29-instance-method" class="tooltip"> be_close(expected, delta) be_close</a>, <a href="spec/expectations.html#be_empty-instance-method" class="tooltip"> be_empty be_empty</a>, <a href="spec/expectations.html#be_false-instance-method" class="tooltip"> be_false be_false</a>, <a href="spec/expectations.html#be_falsey-instance-method" class="tooltip"> be_falsey be_falsey</a>, <a href="spec/expectations.html#be_nil-instance-method" class="tooltip"> be_nil be_nil</a>, <a href="spec/expectations.html#be_true-instance-method" class="tooltip"> be_true be_true</a>, <a href="spec/expectations.html#be_truthy-instance-method" class="tooltip"> be_truthy be_truthy</a>, <a href="spec/expectations.html#contain%28expected%29-instance-method" class="tooltip"> contain(expected) contain</a>, <a href="spec/expectations.html#end_with%28expected%29-instance-method" class="tooltip"> end_with(expected) end_with</a>, <a href="spec/expectations.html#eq%28value%29-instance-method" class="tooltip"> eq(value) eq</a>, <a href="spec/expectations.html#expect_raises%28klass%3AT.class%2Cmessage%3AString%7CRegex%7CNil%3Dnil%2Cfile%3D__FILE__%2Cline%3D__LINE__%2C%26%29forallT-instance-method" class="tooltip"> expect_raises(klass : T.class, message : String | Regex | Nil = nil, file = __FILE__, line = __LINE__, &amp;) forall T expect_raises</a>, <a href="spec/expectations.html#match%28value%29-instance-method" class="tooltip"> match(value) match</a>, <a href="spec/expectations.html#start_with%28expected%29-instance-method" class="tooltip"> start_with(expected) start_with</a> <h3>Macros inherited from module <code><a href="spec/expectations.html">Spec::Expectations</a></code>
</h3> <a href="spec/expectations.html#be_a%28type%29-macro" class="tooltip"> be_a(type) be_a</a> </div> <h2>  Method Detail </h2> <div class="entry-detail" id="`(command):String-class-method"> <h3 class="signature">def <strong>`</strong>(command) : <a href="string.html">String</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/process.cr#L518" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the standard output of executing <em>command</em> in a subshell. Standard input, and error are inherited. The special <code>$?</code> variable is set to a <code><a href="process/status.html">Process::Status</a></code> associated with this execution.</p> <p>It is impossible to call this method with any regular call syntax. There is an associated literal type which calls the method with the literal content as command:</p> <pre data-language="crystal">`echo hi`   # =&gt; "hi\n"
$?.success? # =&gt; true</pre> <p>See <a href="https://crystal-lang.org/reference/syntax_and_semantics/literals/command.html"><code>Command</code> literals</a> in the language reference.</p> </div>   </div> <div class="entry-detail" id="abort(message=nil,status=1):NoReturn-class-method"> <h3 class="signature">def <strong>abort</strong>(message = nil, status = 1) : NoReturn<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L575" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Terminates execution immediately, printing <em>message</em> to <code><a href="toplevel.html#STDERR">STDERR</a></code> and then calling <code><a href="toplevel.html#exit%28status%3D0%29%3ANoReturn-class-method">exit(status)</a></code>.</p> </div>   </div> <div class="entry-detail" id="at_exit(&amp;handler:Int32,Exception|Nil-&gt;):Nil-class-method"> <h3 class="signature">def <strong>at_exit</strong>(&amp;handler : <a href="int32.html">Int32</a>, <a href="exception.html">Exception</a> | <a href="nil.html">Nil</a> -&gt; ) : <a href="nil.html">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L558" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Registers the given <code><a href="proc.html">Proc</a></code> for execution when the program exits regularly.</p> <p>A regular exit happens when either</p> <ul> <li>the main fiber reaches the end of the program,</li> <li>the main fiber rescues an unhandled exception, or</li> <li>
<code>::exit</code> is called.</li> </ul> <p><code>Process.exit</code> does <em>not</em> trigger <code><a href="toplevel.html#at_exit%28%26handler%3AInt32%2CException%7CNil-%3E%29%3ANil-class-method">at_exit</a></code> handlers, nor does external process termination (see <code>Process.on_terminate</code> for handling that).</p> <p>If multiple handlers are registered, they are executed in reverse order of registration.</p> <pre data-language="crystal">def do_at_exit(str1)
  at_exit { print str1 }
end

at_exit { puts "cruel world" }
do_at_exit("goodbye ")
exit</pre> <p>Produces:</p> <pre data-language="crystal">goodbye cruel world</pre> <p>The exit status code that will be returned by this program is passed to the block as its first argument. In case of any unhandled exception, it is passed as the second argument to the block, if the program terminates normally or <code><a href="toplevel.html#exit%28status%3D0%29%3ANoReturn-class-method">exit(status)</a></code> is called explicitly, then the second argument will be <code>nil</code>.</p> <p>NOTE If <code><a href="toplevel.html#at_exit%28%26handler%3AInt32%2CException%7CNil-%3E%29%3ANil-class-method">at_exit</a></code> is called inside an <code><a href="toplevel.html#at_exit%28%26handler%3AInt32%2CException%7CNil-%3E%29%3ANil-class-method">at_exit</a></code> handler, it will be called right after the current <code><a href="toplevel.html#at_exit%28%26handler%3AInt32%2CException%7CNil-%3E%29%3ANil-class-method">at_exit</a></code> handler ends, and then other handlers will be invoked.</p> </div>   </div> <div class="entry-detail" id="caller:Array(String)-class-method"> <h3 class="signature">def <strong>caller</strong> : <a href="array.html">Array</a>(<a href="string.html">String</a>)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/exception/call_stack.cr#L13" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the current execution stack as an array containing strings usually in the form file:line:column or file:line:column in 'method'.</p> </div>   </div> <div class="entry-detail" id="exit(status=0):NoReturn-class-method"> <h3 class="signature">def <strong>exit</strong>(status = 0) : NoReturn<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L566" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Terminates execution immediately, returning the given status code to the invoking environment.</p> <p>Registered <code><a href="toplevel.html#at_exit%28%26handler%3AInt32%2CException%7CNil-%3E%29%3ANil-class-method">at_exit</a></code> procs are executed.</p> </div>   </div> <div class="entry-detail" id="gets(*args,**options)-class-method"> <h3 class="signature">def <strong>gets</strong>(*args, **options)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L150" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a line from <code><a href="toplevel.html#STDIN">STDIN</a></code>.</p> <p>See also: <code>IO#gets</code>.</p> </div>   </div> <div class="entry-detail" id="instance_sizeof(type:Class):Int32-class-method"> <h3 class="signature">def <strong>instance_sizeof</strong>(type : <a href="class.html">Class</a>) : <a href="int32.html">Int32</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/docs_pseudo_methods.cr#L61" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the instance size of the given class as number of bytes.</p> <p><em>type</em> must be a constant or <code><a href="toplevel.html#typeof%28%2Aexpression%29%3AClass-class-method">typeof()</a></code> expression. It cannot be evaluated at runtime.</p> <pre data-language="crystal">instance_sizeof(String)    # =&gt; 16
instance_sizeof(Exception) # =&gt; 48</pre> <p>See <code><a href="toplevel.html#sizeof%28type%3AClass%29%3AInt32-class-method">sizeof</a></code> for determining the size of value types.</p> <p>NOTE This is a pseudo-method provided directly by the Crystal compiler. It cannot be redefined nor overridden.</p> </div>   </div> <div class="entry-detail" id="loop(&amp;)-class-method"> <h3 class="signature">def <strong>loop</strong>(&amp;)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L141" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Repeatedly executes the block.</p> <pre data-language="crystal">loop do
  line = gets
  break unless line
  # ...
end</pre> </div>   </div> <div class="entry-detail" id="main(argc:Int32,argv:Pointer(Pointer(UInt8)))-class-method"> <h3 class="signature">def <strong>main</strong>(argc : <a href="int32.html">Int32</a>, argv : <a href="pointer.html">Pointer</a>(<a href="pointer.html">Pointer</a>(<a href="uint8.html">UInt8</a>)))<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/crystal/system/unix/main.cr#L8" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Main function that acts as C's main function. Invokes <code>Crystal.main</code>.</p> <p>Can be redefined. See <code>Crystal.main</code> for examples.</p> <p>On Windows the actual entry point is <code>wmain</code>, but there is no need to redefine that. See the file required below for details.</p> </div>   </div> <div class="entry-detail" id="offsetof(type:Class,offset):Int32-class-method"> <h3 class="signature">def <strong>offsetof</strong>(type : <a href="class.html">Class</a>, offset) : <a href="int32.html">Int32</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/docs_pseudo_methods.cr#L91" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the byte offset of an instance variable in a struct or class type.</p> <p><em>type</em> must be a constant or <code><a href="toplevel.html#typeof%28%2Aexpression%29%3AClass-class-method">typeof()</a></code> expression. It cannot be evaluated at runtime. <em>offset</em> must be the name of an instance variable of <em>type</em>, prefixed by <code>@</code>, or the index of an element in a Tuple, starting from 0, if <em>type</em> is a <code><a href="tuple.html">Tuple</a></code>.</p> <pre data-language="crystal">offsetof(String, @bytesize)       # =&gt; 4
offsetof(Exception, @message)     # =&gt; 8
offsetof(Time, @location)         # =&gt; 16
offsetof({Int32, Int8, Int32}, 0) # =&gt; 0
offsetof({Int32, Int8, Int32}, 1) # =&gt; 4
offsetof({Int32, Int8, Int32}, 2) # =&gt; 8</pre> <p>NOTE This is a pseudo-method provided directly by the Crystal compiler. It cannot be redefined nor overridden.</p> </div>   </div> <div class="entry-detail" id="p(object)-class-method"> <h3 class="signature">def <strong>p</strong>(object)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L459" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Inspects <em>object</em> to <code><a href="toplevel.html#STDOUT">STDOUT</a></code> followed by a newline. Returns <em>object</em>.</p> <p>See also: <code>Object#inspect(io)</code>.</p> </div>   </div> <div class="entry-detail" id="p(*objects)-class-method"> <h3 class="signature">def <strong>p</strong>(*objects)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L469" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Inspects each object in <em>objects</em> to <code><a href="toplevel.html#STDOUT">STDOUT</a></code>, followed by a newline. Returns <em>objects</em>.</p> <p>See also: <code>Object#inspect(io)</code>.</p> </div>   </div> <div class="entry-detail" id="p(**objects)-class-method"> <h3 class="signature">def <strong>p</strong>(**objects)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L484" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Inspects <em>objects</em> to <code><a href="toplevel.html#STDOUT">STDOUT</a></code>, followed by a newline. Returns <em>objects</em>.</p> <pre data-language="crystal">p foo: 23, bar: 42 # =&gt; {foo: 23, bar: 42}</pre> <p>See <code>Object#inspect(io)</code></p> </div>   </div> <div class="entry-detail" id="pointerof(variable:T):Pointer(T)forallT-class-method"> <h3 class="signature">def <strong>pointerof</strong>(variable : T) : <a href="pointer.html">Pointer</a>(T) forall T<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/docs_pseudo_methods.cr#L75" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns a <code><a href="pointer.html">Pointer</a></code> to the contents of a variable.</p> <p><em>variable</em> must be a variable (local, instance, class or library).</p> <pre data-language="crystal">a = 1
ptr = pointerof(a)
ptr.value = 2

a # =&gt; 2</pre> <p>NOTE This is a pseudo-method provided directly by the Crystal compiler. It cannot be redefined nor overridden.</p> </div>   </div> <div class="entry-detail" id="pp(object)-class-method"> <h3 class="signature">def <strong>pp</strong>(object)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L492" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Pretty prints <em>object</em> to <code><a href="toplevel.html#STDOUT">STDOUT</a></code> followed by a newline. Returns <em>object</em>.</p> <p>See also: <code>Object#pretty_print(pp)</code>.</p> </div>   </div> <div class="entry-detail" id="pp(*objects)-class-method"> <h3 class="signature">def <strong>pp</strong>(*objects)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L502" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Pretty prints each object in <em>objects</em> to <code><a href="toplevel.html#STDOUT">STDOUT</a></code>, followed by a newline. Returns <em>objects</em>.</p> <p>See also: <code>Object#pretty_print(pp)</code>.</p> </div>   </div> <div class="entry-detail" id="pp(**objects)-class-method"> <h3 class="signature">def <strong>pp</strong>(**objects)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L517" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Pretty prints <em>objects</em> to <code><a href="toplevel.html#STDOUT">STDOUT</a></code>, followed by a newline. Returns <em>objects</em>.</p> <pre data-language="crystal">p foo: 23, bar: 42 # =&gt; {foo: 23, bar: 42}</pre> <p>See <code>Object#pretty_print(pp)</code></p> </div>   </div> <div class="entry-detail" id="print(*objects:_):Nil-class-method"> <h3 class="signature">def <strong>print</strong>(*objects : _) : <a href="nil.html">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L164" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Prints objects to <code><a href="toplevel.html#STDOUT">STDOUT</a></code> and then invokes <code>STDOUT.flush</code>.</p> <p>See also: <code>IO#print</code>.</p> </div>   </div> <div class="entry-detail" id="printf(format_string,args:Array|Tuple):Nil-class-method"> <h3 class="signature">def <strong>printf</strong>(format_string, args : <a href="array.html">Array</a> | <a href="tuple.html">Tuple</a>) : <a href="nil.html">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L176" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Prints a formatted string to <code><a href="toplevel.html#STDOUT">STDOUT</a></code>.</p> <p>For details on the format string, see <code><a href="toplevel.html#sprintf%28format_string%2Cargs%3AArray%7CTuple%29%3AString-class-method">sprintf</a></code>.</p> </div>   </div> <div class="entry-detail" id="printf(format_string,*args):Nil-class-method"> <h3 class="signature">def <strong>printf</strong>(format_string, *args) : <a href="nil.html">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L171" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Prints a formatted string to <code><a href="toplevel.html#STDOUT">STDOUT</a></code>.</p> <p>For details on the format string, see <code><a href="toplevel.html#sprintf%28format_string%2Cargs%3AArray%7CTuple%29%3AString-class-method">sprintf</a></code>.</p> </div>   </div> <div class="entry-detail" id="puts(*objects):Nil-class-method"> <h3 class="signature">def <strong>puts</strong>(*objects) : <a href="nil.html">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L451" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Prints <em>objects</em> to <code><a href="toplevel.html#STDOUT">STDOUT</a></code>, each followed by a newline character unless the object is a <code><a href="string.html">String</a></code> and already ends with a newline.</p> <p>See also: <code>IO#puts</code>.</p> </div>   </div> <div class="entry-detail" id="raise(exception:Exception):NoReturn-class-method"> <h3 class="signature">def <strong>raise</strong>(exception : <a href="exception.html">Exception</a>) : NoReturn<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/raise.cr#L241" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Raises the <em>exception</em>.</p> <p>This will set the exception's callstack if it hasn't been already. Re-raising a previously caught exception won't replace the callstack.</p> </div>   </div> <div class="entry-detail" id="raise(message:String):NoReturn-class-method"> <h3 class="signature">def <strong>raise</strong>(message : <a href="string.html">String</a>) : NoReturn<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/raise.cr#L265" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Raises an Exception with the <em>message</em>.</p> </div>   </div> <div class="entry-detail" id="rand(x)-class-method"> <h3 class="signature">def <strong>rand</strong>(x)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/random.cr#L446" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>See <code>Random#rand(x)</code>.</p> </div>   </div> <div class="entry-detail" id="rand:Float64-class-method"> <h3 class="signature">def <strong>rand</strong> : <a href="float64.html">Float64</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/random.cr#L441" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>See <code>Random#rand</code>.</p> </div>   </div> <div class="entry-detail" id="read_line(*args,**options)-class-method"> <h3 class="signature">def <strong>read_line</strong>(*args, **options)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L157" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads a line from <code><a href="toplevel.html#STDIN">STDIN</a></code>.</p> <p>See also: <code>IO#read_line</code>.</p> </div>   </div> <div class="entry-detail" id="sizeof(type:Class):Int32-class-method"> <h3 class="signature">def <strong>sizeof</strong>(type : <a href="class.html">Class</a>) : <a href="int32.html">Int32</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/docs_pseudo_methods.cr#L48" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the size of the given type as number of bytes.</p> <p><em>type</em> must be a constant or <code><a href="toplevel.html#typeof%28%2Aexpression%29%3AClass-class-method">typeof()</a></code> expression. It cannot be evaluated at runtime.</p> <pre data-language="crystal">sizeof(Int32)        # =&gt; 4
sizeof(Int64)        # =&gt; 8
sizeof(typeof(true)) # =&gt; 1</pre> <p>For <code><a href="reference.html">Reference</a></code> types, the size is the same as the size of a pointer:</p> <pre data-language="crystal"># On a 64 bits machine
sizeof(Pointer(Int32)) # =&gt; 8
sizeof(String)         # =&gt; 8</pre> <p>This is because a <code><a href="reference.html">Reference</a></code>'s memory is allocated on the heap and a pointer to it is passed around. The size of a class on the heap can be determined using <code><a href="toplevel.html#instance_sizeof%28type%3AClass%29%3AInt32-class-method">#instance_sizeof</a></code>.</p> <p>NOTE This is a pseudo-method provided directly by the Crystal compiler. It cannot be redefined nor overridden.</p> </div>   </div> <div class="entry-detail" id="sleep(seconds:Number):Nil-class-method"> <h3 class="signature">def <strong>sleep</strong>(seconds : <a href="number.html">Number</a>) : <a href="nil.html">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/concurrent.cr#L11" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Blocks the current fiber for the specified number of seconds.</p> <p>While this fiber is waiting this time, other ready-to-execute fibers might start their execution.</p> <p>DEPRECATED Use <code>::sleep(<a href="time/span.html">Time::Span</a>)</code> instead</p> </div>   </div> <div class="entry-detail" id="sleep(time:Time::Span):Nil-class-method"> <h3 class="signature">def <strong>sleep</strong>(time : <a href="time/span.html">Time::Span</a>) : <a href="nil.html">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/concurrent.cr#L23" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Blocks the current Fiber for the specified time span.</p> <p>While this fiber is waiting this time, other ready-to-execute fibers might start their execution.</p> </div>   </div> <div class="entry-detail" id="sleep:Nil-class-method"> <h3 class="signature">def <strong>sleep</strong> : <a href="nil.html">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/concurrent.cr#L30" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Blocks the current fiber forever.</p> <p>Meanwhile, other ready-to-execute fibers might start their execution.</p> </div>   </div> <div class="entry-detail" id="spawn(*,name:String|Nil=nil,same_thread=false,&amp;block)-class-method"> <h3 class="signature">def <strong>spawn</strong>(*, name : <a href="string.html">String</a> | <a href="nil.html">Nil</a> = nil, same_thread = false, &amp;block)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/concurrent.cr#L66" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Spawns a new fiber.</p> <p>NOTE The newly created fiber doesn't run as soon as spawned.</p> <p>Example:</p> <pre data-language="crystal"># Write "1" every 1 second and "2" every 2 seconds for 6 seconds.

require "wait_group"

wg = WaitGroup.new 2

spawn do
  6.times do
    sleep 1.second
    puts 1
  end
ensure
  wg.done
end

spawn do
  3.times do
    sleep 2.seconds
    puts 2
  end
ensure
  wg.done
end

wg.wait</pre> </div>   </div> <div class="entry-detail" id="sprintf(format_string,args:Array|Tuple):String-class-method"> <h3 class="signature">def <strong>sprintf</strong>(format_string, args : <a href="array.html">Array</a> | <a href="tuple.html">Tuple</a>) : <a href="string.html">String</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L441" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns a formatted string. The string is produced according to the <em>format_string</em> with format specifiers being replaced by values from <em>args</em> formatted according to the specifier.</p> <p>Within the format string, any characters other than format specifiers (specifiers beginning with <code>%</code>) are copied to the result. The formatter supports the following kinds of format specifiers:</p> <ul> <li>Sequential (<code>%.1f</code>). The first <code>%</code> consumes the first argument, the second consumes the second argument, and so on.</li> <li>Positional (<code>%3$.1f</code>). The one-based argument index is specified as part of the flags.</li> <li>Named substitution (<code>%&lt;name&gt;.1f</code>, <code>%{name}</code>). The angle bracket form accepts flags and the curly bracket form doesn't. Exactly one <code><a href="hash.html">Hash</a></code> or <code><a href="namedtuple.html">NamedTuple</a></code> must be passed as the argument.</li> </ul> <p>Mixing of different kinds of format specifiers is disallowed, except that the two named forms may be used together.</p> <p>A simple format specifier consists of a percent sign, followed by optional flags, width, and precision indicators, then terminated with a field type character.</p> <pre data-language="crystal">%[flags][width][.precision]type</pre> <p>A formatted substitution is similar but after the percent sign follows the mandatory name of the substitution wrapped in angle brackets.</p> <pre data-language="crystal">%&lt;name&gt;[flags][width][.precision]type</pre> <p>The percent sign itself is escaped by <code>%%</code>. No format modifiers are allowed, and no arguments are consumed.</p> <p>The field type controls how the corresponding argument value is to be interpreted, while the flags modify that interpretation.</p> <p>The field type characters are:</p> <pre data-language="crystal">Field | Integer Format
------+------------------------------------------------------------------
  b   | Formats argument as a binary number.
  d   | Formats argument as a decimal number.
  i   | Same as d.
  o   | Formats argument as an octal number.
  x   | Formats argument as a hexadecimal number using lowercase letters.
  X   | Same as x, but uses uppercase letters.

Field | Float Format
------+---------------------------------------------------------------
  e   | Formats floating point argument into exponential notation
      | with one digit before the decimal point as [-]d.dddddde[+-]dd.
      | The precision specifies the number of digits after the decimal
      | point (defaulting to six).
  E   | Equivalent to e, but uses an uppercase E to indicate
      | the exponent.
  f   | Formats floating point argument as [-]ddd.dddddd,
      | where the precision specifies the number of digits after
      | the decimal point.
  g   | Formats a floating point number using exponential form
      | if the exponent is less than -4 or greater than or
      | equal to the precision, or in dd.dddd form otherwise.
      | The precision specifies the number of significant digits.
  G   | Equivalent to g, but use an uppercase E in exponent form.
  a   | Formats floating point argument as [-]0xh.hhhhp[+-]dd,
      | which consists of an optional sign, "0x", fraction part
      | as hexadecimal, "p", and exponential part as decimal.
  A   | Equivalent to a, but uses uppercase X and P.

Field | Other Format
------+------------------------------------------------------------
  c   | Argument is a single character itself.
  s   | Argument is a string to be substituted. If the format
      | sequence contains a precision, at most that many characters
      | will be copied.</pre> <p>Flags modify the behavior of the format specifiers:</p> <pre data-language="crystal">Flag     | Applies to    | Meaning
---------+---------------+----------------------------------------------------
space    | bdiouxX       | Add a leading space character to
         | aAeEfgG       | non-negative numbers. Has no effect if the plus
         | (numeric fmt) | flag is also given.
---------+---------------+----------------------------------------------------
#        | boxX          | Use an alternative format.
         | aAeEfgG       | For x, X, b, prefix any non-zero result with
         |               | 0x, 0X, or 0b respectively.
         |               | For o, prefix any non-zero result with 0o. Note
         |               | that this prefix is different from C and Ruby.
         |               | For a, A, e, E, f, g, G,
         |               | force a decimal point to be added,
         |               | even if no digits follow.
         |               | For g and G, do not remove trailing zeros.
---------+---------------+----------------------------------------------------
+        | bdiouxX       | Add a leading plus sign to non-negative
         | aAeEfgG       | numbers.
         | (numeric fmt) |
---------+---------------+----------------------------------------------------
-        | all           | Left-justify the result of this conversion.
---------+---------------+----------------------------------------------------
0 (zero) | bdiouxX       | Pad with zeros, not spaces. Has no effect if the
         | aAeEfgG       | number is left-justified, or a precision is given
         | (numeric fmt) | to an integer field type.
---------+---------------+----------------------------------------------------
*        | all           | Use the next argument as the field width or
         |               | precision. If width is negative, set the minus flag
         |               | and use the argument's absolute value as field
         |               | width. If precision is negative, it is ignored.
---------+---------------+----------------------------------------------------
1$ 2$ 3$ | all           | As a flag, specifies the one-based argument index
...      |               | for a positional format specifier.
         |               | Immediately after *, use the argument at the given
         |               | one-based index as the width or precision, instead
         |               | of the next argument. The entire format string must
         |               | also use positional format specifiers throughout.</pre> <p>Examples of flags:</p> <p>Decimal number conversion:</p> <pre data-language="crystal">sprintf "%d", 123  # =&gt; "123"
sprintf "%+d", 123 # =&gt; "+123"
sprintf "% d", 123 # =&gt; " 123"</pre> <p>Octal number conversion:</p> <pre data-language="crystal">sprintf "%o", 123   # =&gt; "173"
sprintf "%+o", 123  # =&gt; "+173"
sprintf "%o", -123  # =&gt; "-173"
sprintf "%+o", -123 # =&gt; "-173"</pre> <p>Hexadecimal number conversion:</p> <pre data-language="crystal">sprintf "%x", 123   # =&gt; "7b"
sprintf "%+x", 123  # =&gt; "+7b"
sprintf "%x", -123  # =&gt; "-7b"
sprintf "%+x", -123 # =&gt; "-7b"
sprintf "%#x", 0    # =&gt; "0"
sprintf "% x", 123  # =&gt; " 7b"
sprintf "% x", -123 # =&gt; "-7b"
sprintf "%X", 123   # =&gt; "7B"
sprintf "%#X", -123 # =&gt; "-0X7B"</pre> <p>Binary number conversion:</p> <pre data-language="crystal">sprintf "%b", 123    # =&gt; "1111011"
sprintf "%+b", 123   # =&gt; "+1111011"
sprintf "%+b", -123  # =&gt; "-1111011"
sprintf "%b", -123   # =&gt; "-1111011"
sprintf "%#b", 0     # =&gt; "0"
sprintf "% b", 123   # =&gt; " 1111011"
sprintf "%+ b", 123  # =&gt; "+1111011"
sprintf "% b", -123  # =&gt; "-1111011"
sprintf "%+ b", -123 # =&gt; "-1111011"
sprintf "%#b", 123   # =&gt; "0b1111011"</pre> <p>Floating point conversion:</p> <pre data-language="crystal">sprintf "%a", 123 # =&gt; "0x1.ecp+6"
sprintf "%A", 123 # =&gt; "0X1.ECP+6"</pre> <p>Exponential form conversion:</p> <pre data-language="crystal">sprintf "%g", 123.4          # =&gt; "123.4"
sprintf "%g", 123.4567       # =&gt; "123.457"
sprintf "%20.8g", 1234.56789 # =&gt; "           1234.5679"
sprintf "%20.8g", 123456789  # =&gt; "       1.2345679e+08"
sprintf "%20.8G", 123456789  # =&gt; "       1.2345679E+08"
sprintf "%20.8g", -123456789 # =&gt; "      -1.2345679e+08"
sprintf "%20.8G", -123456789 # =&gt; "      -1.2345679E+08"</pre> <p>The field width is an optional integer, followed optionally by a period and a precision. The width specifies the minimum number of characters that will be written to the result for this field.</p> <p>Examples of width:</p> <pre data-language="crystal">sprintf "%20d", 123   # =&gt; "                 123"
sprintf "%+20d", 123  # =&gt; "                +123"
sprintf "%020d", 123  # =&gt; "00000000000000000123"
sprintf "%+020d", 123 # =&gt; "+0000000000000000123"
sprintf "% 020d", 123 # =&gt; " 0000000000000000123"
sprintf "%-20d", 123  # =&gt; "123                 "
sprintf "%-+20d", 123 # =&gt; "+123                "
sprintf "%- 20d", 123 # =&gt; " 123                "
sprintf "%020x", -123 # =&gt; "-000000000000000007b"
sprintf "%020X", -123 # =&gt; "-000000000000000007B"</pre> <p>For numeric fields, the precision controls the number of decimal places displayed.</p> <p>For string fields, the precision determines the maximum number of characters to be copied from the string.</p> <p>Examples of precisions:</p> <p>Precision for <code>d</code>, <code>o</code>, <code>x</code> and <code>b</code> is minimum number of digits:</p> <pre data-language="crystal">sprintf "%20.8d", 123   # =&gt; "            00000123"
sprintf "%020.8d", 123  # =&gt; "            00000123"
sprintf "%20.8o", 123   # =&gt; "            00000173"
sprintf "%020.8o", 123  # =&gt; "            00000173"
sprintf "%20.8x", 123   # =&gt; "            0000007b"
sprintf "%020.8x", 123  # =&gt; "            0000007b"
sprintf "%20.8b", 123   # =&gt; "            01111011"
sprintf "%20.8d", -123  # =&gt; "           -00000123"
sprintf "%020.8d", -123 # =&gt; "           -00000123"
sprintf "%20.8o", -123  # =&gt; "           -00000173"
sprintf "%20.8x", -123  # =&gt; "           -0000007b"
sprintf "%20.8b", -11   # =&gt; "           -00001011"</pre> <p>Precision for <code>e</code> is number of digits after the decimal point:</p> <pre data-language="crystal">sprintf "%20.8e", 1234.56789 # =&gt; "      1.23456789e+03"</pre> <p>Precision for <code>f</code> is number of digits after the decimal point:</p> <pre data-language="crystal">sprintf "%20.8f", 1234.56789 # =&gt; "       1234.56789000"</pre> <p>Precision for <code>g</code> is number of significant digits:</p> <pre data-language="crystal">sprintf "%20.8g", 1234.56789 # =&gt; "           1234.5679"
sprintf "%20.8g", 123456789  # =&gt; "       1.2345679e+08"
sprintf "%-20.8g", 123456789 # =&gt; "1.2345679e+08       "</pre> <p>Precision for <code>s</code> is maximum number of characters:</p> <pre data-language="crystal">sprintf "%20.8s", "string test" # =&gt; "            string t"</pre> <p>Additional examples:</p> <pre data-language="crystal">sprintf "%d %04x", 123, 123                 # =&gt; "123 007b"
sprintf "%08b '%4s'", 123, 123              # =&gt; "01111011 ' 123'"
sprintf "%+g:% g:%-g", 1.23, 1.23, 1.23     # =&gt; "+1.23: 1.23:1.23"
sprintf "%-3$*1$.*2$s", 10, 5, "abcdefghij" # =&gt; "abcde     "</pre> </div>   </div> <div class="entry-detail" id="sprintf(format_string,*args):String-class-method"> <h3 class="signature">def <strong>sprintf</strong>(format_string, *args) : <a href="string.html">String</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/kernel.cr#L436" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns a formatted string. The string is produced according to the <em>format_string</em> with format specifiers being replaced by values from <em>args</em> formatted according to the specifier.</p> <p>Within the format string, any characters other than format specifiers (specifiers beginning with <code>%</code>) are copied to the result. The formatter supports the following kinds of format specifiers:</p> <ul> <li>Sequential (<code>%.1f</code>). The first <code>%</code> consumes the first argument, the second consumes the second argument, and so on.</li> <li>Positional (<code>%3$.1f</code>). The one-based argument index is specified as part of the flags.</li> <li>Named substitution (<code>%&lt;name&gt;.1f</code>, <code>%{name}</code>). The angle bracket form accepts flags and the curly bracket form doesn't. Exactly one <code><a href="hash.html">Hash</a></code> or <code><a href="namedtuple.html">NamedTuple</a></code> must be passed as the argument.</li> </ul> <p>Mixing of different kinds of format specifiers is disallowed, except that the two named forms may be used together.</p> <p>A simple format specifier consists of a percent sign, followed by optional flags, width, and precision indicators, then terminated with a field type character.</p> <pre data-language="crystal">%[flags][width][.precision]type</pre> <p>A formatted substitution is similar but after the percent sign follows the mandatory name of the substitution wrapped in angle brackets.</p> <pre data-language="crystal">%&lt;name&gt;[flags][width][.precision]type</pre> <p>The percent sign itself is escaped by <code>%%</code>. No format modifiers are allowed, and no arguments are consumed.</p> <p>The field type controls how the corresponding argument value is to be interpreted, while the flags modify that interpretation.</p> <p>The field type characters are:</p> <pre data-language="crystal">Field | Integer Format
------+------------------------------------------------------------------
  b   | Formats argument as a binary number.
  d   | Formats argument as a decimal number.
  i   | Same as d.
  o   | Formats argument as an octal number.
  x   | Formats argument as a hexadecimal number using lowercase letters.
  X   | Same as x, but uses uppercase letters.

Field | Float Format
------+---------------------------------------------------------------
  e   | Formats floating point argument into exponential notation
      | with one digit before the decimal point as [-]d.dddddde[+-]dd.
      | The precision specifies the number of digits after the decimal
      | point (defaulting to six).
  E   | Equivalent to e, but uses an uppercase E to indicate
      | the exponent.
  f   | Formats floating point argument as [-]ddd.dddddd,
      | where the precision specifies the number of digits after
      | the decimal point.
  g   | Formats a floating point number using exponential form
      | if the exponent is less than -4 or greater than or
      | equal to the precision, or in dd.dddd form otherwise.
      | The precision specifies the number of significant digits.
  G   | Equivalent to g, but use an uppercase E in exponent form.
  a   | Formats floating point argument as [-]0xh.hhhhp[+-]dd,
      | which consists of an optional sign, "0x", fraction part
      | as hexadecimal, "p", and exponential part as decimal.
  A   | Equivalent to a, but uses uppercase X and P.

Field | Other Format
------+------------------------------------------------------------
  c   | Argument is a single character itself.
  s   | Argument is a string to be substituted. If the format
      | sequence contains a precision, at most that many characters
      | will be copied.</pre> <p>Flags modify the behavior of the format specifiers:</p> <pre data-language="crystal">Flag     | Applies to    | Meaning
---------+---------------+----------------------------------------------------
space    | bdiouxX       | Add a leading space character to
         | aAeEfgG       | non-negative numbers. Has no effect if the plus
         | (numeric fmt) | flag is also given.
---------+---------------+----------------------------------------------------
#        | boxX          | Use an alternative format.
         | aAeEfgG       | For x, X, b, prefix any non-zero result with
         |               | 0x, 0X, or 0b respectively.
         |               | For o, prefix any non-zero result with 0o. Note
         |               | that this prefix is different from C and Ruby.
         |               | For a, A, e, E, f, g, G,
         |               | force a decimal point to be added,
         |               | even if no digits follow.
         |               | For g and G, do not remove trailing zeros.
---------+---------------+----------------------------------------------------
+        | bdiouxX       | Add a leading plus sign to non-negative
         | aAeEfgG       | numbers.
         | (numeric fmt) |
---------+---------------+----------------------------------------------------
-        | all           | Left-justify the result of this conversion.
---------+---------------+----------------------------------------------------
0 (zero) | bdiouxX       | Pad with zeros, not spaces. Has no effect if the
         | aAeEfgG       | number is left-justified, or a precision is given
         | (numeric fmt) | to an integer field type.
---------+---------------+----------------------------------------------------
*        | all           | Use the next argument as the field width or
         |               | precision. If width is negative, set the minus flag
         |               | and use the argument's absolute value as field
         |               | width. If precision is negative, it is ignored.
---------+---------------+----------------------------------------------------
1$ 2$ 3$ | all           | As a flag, specifies the one-based argument index
...      |               | for a positional format specifier.
         |               | Immediately after *, use the argument at the given
         |               | one-based index as the width or precision, instead
         |               | of the next argument. The entire format string must
         |               | also use positional format specifiers throughout.</pre> <p>Examples of flags:</p> <p>Decimal number conversion:</p> <pre data-language="crystal">sprintf "%d", 123  # =&gt; "123"
sprintf "%+d", 123 # =&gt; "+123"
sprintf "% d", 123 # =&gt; " 123"</pre> <p>Octal number conversion:</p> <pre data-language="crystal">sprintf "%o", 123   # =&gt; "173"
sprintf "%+o", 123  # =&gt; "+173"
sprintf "%o", -123  # =&gt; "-173"
sprintf "%+o", -123 # =&gt; "-173"</pre> <p>Hexadecimal number conversion:</p> <pre data-language="crystal">sprintf "%x", 123   # =&gt; "7b"
sprintf "%+x", 123  # =&gt; "+7b"
sprintf "%x", -123  # =&gt; "-7b"
sprintf "%+x", -123 # =&gt; "-7b"
sprintf "%#x", 0    # =&gt; "0"
sprintf "% x", 123  # =&gt; " 7b"
sprintf "% x", -123 # =&gt; "-7b"
sprintf "%X", 123   # =&gt; "7B"
sprintf "%#X", -123 # =&gt; "-0X7B"</pre> <p>Binary number conversion:</p> <pre data-language="crystal">sprintf "%b", 123    # =&gt; "1111011"
sprintf "%+b", 123   # =&gt; "+1111011"
sprintf "%+b", -123  # =&gt; "-1111011"
sprintf "%b", -123   # =&gt; "-1111011"
sprintf "%#b", 0     # =&gt; "0"
sprintf "% b", 123   # =&gt; " 1111011"
sprintf "%+ b", 123  # =&gt; "+1111011"
sprintf "% b", -123  # =&gt; "-1111011"
sprintf "%+ b", -123 # =&gt; "-1111011"
sprintf "%#b", 123   # =&gt; "0b1111011"</pre> <p>Floating point conversion:</p> <pre data-language="crystal">sprintf "%a", 123 # =&gt; "0x1.ecp+6"
sprintf "%A", 123 # =&gt; "0X1.ECP+6"</pre> <p>Exponential form conversion:</p> <pre data-language="crystal">sprintf "%g", 123.4          # =&gt; "123.4"
sprintf "%g", 123.4567       # =&gt; "123.457"
sprintf "%20.8g", 1234.56789 # =&gt; "           1234.5679"
sprintf "%20.8g", 123456789  # =&gt; "       1.2345679e+08"
sprintf "%20.8G", 123456789  # =&gt; "       1.2345679E+08"
sprintf "%20.8g", -123456789 # =&gt; "      -1.2345679e+08"
sprintf "%20.8G", -123456789 # =&gt; "      -1.2345679E+08"</pre> <p>The field width is an optional integer, followed optionally by a period and a precision. The width specifies the minimum number of characters that will be written to the result for this field.</p> <p>Examples of width:</p> <pre data-language="crystal">sprintf "%20d", 123   # =&gt; "                 123"
sprintf "%+20d", 123  # =&gt; "                +123"
sprintf "%020d", 123  # =&gt; "00000000000000000123"
sprintf "%+020d", 123 # =&gt; "+0000000000000000123"
sprintf "% 020d", 123 # =&gt; " 0000000000000000123"
sprintf "%-20d", 123  # =&gt; "123                 "
sprintf "%-+20d", 123 # =&gt; "+123                "
sprintf "%- 20d", 123 # =&gt; " 123                "
sprintf "%020x", -123 # =&gt; "-000000000000000007b"
sprintf "%020X", -123 # =&gt; "-000000000000000007B"</pre> <p>For numeric fields, the precision controls the number of decimal places displayed.</p> <p>For string fields, the precision determines the maximum number of characters to be copied from the string.</p> <p>Examples of precisions:</p> <p>Precision for <code>d</code>, <code>o</code>, <code>x</code> and <code>b</code> is minimum number of digits:</p> <pre data-language="crystal">sprintf "%20.8d", 123   # =&gt; "            00000123"
sprintf "%020.8d", 123  # =&gt; "            00000123"
sprintf "%20.8o", 123   # =&gt; "            00000173"
sprintf "%020.8o", 123  # =&gt; "            00000173"
sprintf "%20.8x", 123   # =&gt; "            0000007b"
sprintf "%020.8x", 123  # =&gt; "            0000007b"
sprintf "%20.8b", 123   # =&gt; "            01111011"
sprintf "%20.8d", -123  # =&gt; "           -00000123"
sprintf "%020.8d", -123 # =&gt; "           -00000123"
sprintf "%20.8o", -123  # =&gt; "           -00000173"
sprintf "%20.8x", -123  # =&gt; "           -0000007b"
sprintf "%20.8b", -11   # =&gt; "           -00001011"</pre> <p>Precision for <code>e</code> is number of digits after the decimal point:</p> <pre data-language="crystal">sprintf "%20.8e", 1234.56789 # =&gt; "      1.23456789e+03"</pre> <p>Precision for <code>f</code> is number of digits after the decimal point:</p> <pre data-language="crystal">sprintf "%20.8f", 1234.56789 # =&gt; "       1234.56789000"</pre> <p>Precision for <code>g</code> is number of significant digits:</p> <pre data-language="crystal">sprintf "%20.8g", 1234.56789 # =&gt; "           1234.5679"
sprintf "%20.8g", 123456789  # =&gt; "       1.2345679e+08"
sprintf "%-20.8g", 123456789 # =&gt; "1.2345679e+08       "</pre> <p>Precision for <code>s</code> is maximum number of characters:</p> <pre data-language="crystal">sprintf "%20.8s", "string test" # =&gt; "            string t"</pre> <p>Additional examples:</p> <pre data-language="crystal">sprintf "%d %04x", 123, 123                 # =&gt; "123 007b"
sprintf "%08b '%4s'", 123, 123              # =&gt; "01111011 ' 123'"
sprintf "%+g:% g:%-g", 1.23, 1.23, 1.23     # =&gt; "+1.23: 1.23:1.23"
sprintf "%-3$*1$.*2$s", 10, 5, "abcdefghij" # =&gt; "abcde     "</pre> </div>   </div> <div class="entry-detail" id="system(command:String,args=nil):Bool-class-method"> <h3 class="signature">def <strong>system</strong>(command : <a href="string.html">String</a>, args = nil) : <a href="bool.html">Bool</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/process.cr#L500" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Executes the given command in a subshell. Standard input, output and error are inherited. Returns <code>true</code> if the command gives zero exit code, <code>false</code> otherwise. The special <code>$?</code> variable is set to a <code><a href="process/status.html">Process::Status</a></code> associated with this execution.</p> <p>If <em>command</em> contains no spaces and <em>args</em> is given, it will become its argument list.</p> <p>If <em>command</em> contains spaces and <em>args</em> is given, <em>command</em> must include <code>"${@}"</code> (including the quotes) to receive the argument list.</p> <p>No shell interpretation is done in <em>args</em>.</p> <p>Example:</p> <pre data-language="crystal">system("echo *")</pre> <p>Produces:</p> <pre data-language="crystal">LICENSE shard.yml Readme.md spec src</pre> </div>   </div> <div class="entry-detail" id="timeout_select_action(timeout:Time::Span):Channel::TimeoutAction-class-method"> <h3 class="signature">def <strong>timeout_select_action</strong>(timeout : <a href="time/span.html">Time::Span</a>) : Channel::TimeoutAction<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/channel/select/timeout_action.cr#L13" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Timeout keyword for use in <code>select</code>.</p> <pre data-language="crystal">select
when x = ch.receive
  puts "got #{x}"
when timeout(1.seconds)
  puts "timeout"
end</pre> <p>NOTE It won't trigger if the <code>select</code> has an <code>else</code> case (i.e.: a non-blocking select).</p> </div>   </div> <div class="entry-detail" id="typeof(*expression):Class-class-method"> <h3 class="signature">def <strong>typeof</strong>(*expression) : <a href="class.html">Class</a><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/docs_pseudo_methods.cr#L23" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns the type of an expression.</p> <pre data-language="crystal">typeof(1) # =&gt; Int32</pre> <p>It accepts multiple arguments, and the result is the union of the expression types:</p> <pre data-language="crystal">typeof(1, "a", 'a') # =&gt; (Int32 | String | Char)</pre> <p>The expressions passed as arguments to <code><a href="toplevel.html#typeof%28%2Aexpression%29%3AClass-class-method">typeof</a></code> do not evaluate. The compiler only analyzes their return type.</p> <p>NOTE This is a pseudo-method provided directly by the Crystal compiler. It cannot be redefined nor overridden.</p> </div>   </div> <h2>  Macro Detail </h2> <div class="entry-detail" id="debugger-macro"> <h3 class="signature">macro <strong>debugger</strong><a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/intrinsics.cr#L359" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="p!(*exps)-macro"> <h3 class="signature">macro <strong>p!</strong>(*exps)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/macros.cr#L178" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Prints a series of expressions together with their inspected values. Useful for print style debugging.</p> <pre data-language="crystal">a = 1
p! a # =&gt; "a # =&gt; 1"

p! [1, 2, 3].map(&amp;.to_s) # =&gt; "[1, 2, 3].map(&amp;.to_s) # =&gt; ["1", "2", "3"]"</pre> <p>See also: <code><a href="toplevel.html#p%28%2A%2Aobjects%29-class-method">p</a></code>, <code>Object#inspect</code>.</p> </div>   </div> <div class="entry-detail" id="pp!(*exps)-macro"> <h3 class="signature">macro <strong>pp!</strong>(*exps)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/macros.cr#L144" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Prints a series of expressions together with their pretty printed values. Useful for print style debugging.</p> <pre data-language="crystal">a = 1
pp! a # =&gt; "a # =&gt; 1"

pp! [1, 2, 3].map(&amp;.to_s) # =&gt; "[1, 2, 3].map(&amp;.to_s) # =&gt; ["1", "2", "3"]"</pre> <p>See also: <code><a href="toplevel.html#pp%28%2A%2Aobjects%29-class-method">pp</a></code>, <code>Object#pretty_inspect</code>.</p> </div>   </div> <div class="entry-detail" id="record(__namename,*properties,**kwargs)-macro"> <h3 class="signature">macro <strong>record</strong>(__name name, *properties, **kwargs)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/macros.cr#L64" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Defines a <strong><code><a href="struct.html">Struct</a></code></strong> type called <em>name</em> with the given <em>properties</em>.</p> <p>The generated struct has a constructor with the given properties in the same order as declared. The struct only provides getters, not setters, making it immutable by default.</p> <pre data-language="crystal">record Point, x : Int32, y : Int32

p = Point.new 1, 2 # =&gt; #&lt;Point(@x=1, @y=2)&gt;
p.x                # =&gt; 1
p.y                # =&gt; 2</pre> <p>The <em>properties</em> are a sequence of type declarations (<code>x : <a href="int32.html">Int32</a></code>, <code>x : <a href="int32.html">Int32</a> = 0</code>) or assigns (<code>x = 0</code>). They declare instance variables and respective getter methods of their name with optional type restrictions and default value.</p> <p>When passing a block to this macro its body is inserted inside the struct definition. This allows to define additional methods or include modules into the record type (reopening the type would work as well).</p> <pre data-language="crystal">record Person, first_name : String, last_name : String do
  def full_name
    "#{first_name} #{last_name}"
  end
end

person = Person.new "John", "Doe"
person.full_name # =&gt; "John Doe"</pre> <p>An example with type declarations and default values:</p> <pre data-language="crystal">record Point, x : Int32 = 0, y : Int32 = 0

Point.new      # =&gt; #&lt;Point(@x=0, @y=0)&gt;
Point.new y: 2 # =&gt; #&lt;Point(@x=0, @y=2)&gt;</pre> <p>An example with assignments (in this case the compiler must be able to infer the types from the default values):</p> <pre data-language="crystal">record Point, x = 0, y = 0

Point.new      # =&gt; #&lt;Point(@x=0, @y=0)&gt;
Point.new y: 2 # =&gt; #&lt;Point(@x=0, @y=2)&gt;</pre> <p>This macro also provides a <code>#copy_with</code> method which returns a copy of the record with the provided properties altered.</p> <pre data-language="crystal">record Point, x = 0, y = 0

p = Point.new y: 2 # =&gt; #&lt;Point(@x=0, @y=2)&gt;
p.copy_with x: 3   # =&gt; #&lt;Point(@x=3, @y=2)&gt;
p                  # =&gt; #&lt;Point(@x=0, @y=2)&gt;</pre> </div>   </div> <div class="entry-detail" id="spawn(call,*,name=nil,same_thread=false,&amp;block)-macro"> <h3 class="signature">macro <strong>spawn</strong>(call, *, name = nil, same_thread = false, &amp;block)<a href="https://github.com/crystal-lang/crystal/blob/89944bf17/src/concurrent.cr#L104" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Spawns a fiber by first creating a <code><a href="proc.html">Proc</a></code>, passing the <em>call</em>'s expressions to it, and letting the <code><a href="proc.html">Proc</a></code> finally invoke the <em>call</em>.</p> <p>Compare this:</p> <pre data-language="crystal">i = 0
while i &lt; 5
  spawn { print(i) }
  i += 1
end
Fiber.yield
# Output: 55555</pre> <p>To this:</p> <pre data-language="crystal">i = 0
while i &lt; 5
  spawn print(i)
  i += 1
end
Fiber.yield
# Output: 01234</pre> <p>This is because in the first case all spawned fibers refer to the same local variable, while in the second example copies of <em>i</em> are passed to a <code><a href="proc.html">Proc</a></code> that eventually invokes the call.</p> </div>   </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2025 Manas Technology Solutions.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://crystal-lang.org/api/1.15.1/toplevel.html" class="_attribution-link">https://crystal-lang.org/api/1.15.1/toplevel.html</a>
  </p>
</div>
