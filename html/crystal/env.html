<h1 class="type-name"> module ENV </h1> <h2>  Overview </h2> <p><code><a href="env.html">ENV</a></code> is a hash-like accessor for environment variables.</p> <h3>
Example</h3> <pre data-language="crystal"># Set env var PORT to a default if not already set
ENV["PORT"] ||= "5000"
# Later use that env var.
puts ENV["PORT"].to_i</pre> <p>NOTE All keys and values are strings. You must take care to cast other types at runtime, e.g. integer port numbers.</p> <h2>  Extended Modules </h2> <ul class="other-types-list"> <li class="other-type">
<a href="enumerable.html">Enumerable</a>({<a href="string.html">String</a>, <a href="string.html">String</a>})</li> </ul> <h2>  Defined in: </h2> <a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/env.cr#L16" target="_blank"> env.cr </a> <br> <h2>  Class Method Summary </h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#%5B%5D%28key%3AString%29%3AString-class-method" class="signature"><strong>.[]</strong>(key : String) : String</a> <div class="summary"><p>Retrieves the value for environment variable named <em>key</em> as a <code><a href="string.html">String</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#%5B%5D%3D%28key%3AString%2Cvalue%3AString%7CNil%29-class-method" class="signature"><strong>.[]=</strong>(key : String, value : String | Nil)</a> <div class="summary"><p>Sets the value for environment variable named <em>key</em> as <em>value</em>.</p></div> </li> <li class="entry-summary"> <a href="#%5B%5D%3F%28key%3AString%29%3AString%7CNil-class-method" class="signature"><strong>.[]?</strong>(key : String) : String | Nil</a> <div class="summary"><p>Retrieves the value for environment variable named <em>key</em> as a <code><a href="string.html">String</a>?</code>.</p></div> </li> <li class="entry-summary"> <a href="#clear%3ANil-class-method" class="signature"><strong>.clear</strong> : Nil</a> </li> <li class="entry-summary"> <a href="#delete%28key%3AString%29%3AString%7CNil-class-method" class="signature"><strong>.delete</strong>(key : String) : String | Nil</a> <div class="summary"><p>Removes the environment variable named <em>key</em>.</p></div> </li> <li class="entry-summary"> <a href="#each%28%26%3ATuple%28String%2CString%29-%3E%29-class-method" class="signature"><strong>.each</strong>(&amp; : Tuple(String, String) -&gt; )</a> <div class="summary"><p>Iterates over all <code>KEY=VALUE</code> pairs of environment variables, yielding both the <em>key</em> and <em>value</em>.</p></div> </li> <li class="entry-summary"> <a href="#fetch%28key%2Cdefault%29%3AString%7CNil-class-method" class="signature"><strong>.fetch</strong>(key, default) : String | Nil</a> <div class="summary"><p>Retrieves a value corresponding to the given <em>key</em>.</p></div> </li> <li class="entry-summary"> <a href="#fetch%28key%29%3AString-class-method" class="signature"><strong>.fetch</strong>(key) : String</a> <div class="summary"><p>Retrieves a value corresponding to the given <em>key</em>.</p></div> </li> <li class="entry-summary"> <a href="#fetch%28key%3AString%2C%26block%3AString-%3ET%29%3AString%7CTforallT-class-method" class="signature"><strong>.fetch</strong>(key : String, &amp;block : String -&gt; T) : String | T forall T</a> <div class="summary"><p>Retrieves a value corresponding to a given <em>key</em>.</p></div> </li> <li class="entry-summary"> <a href="#has_key%3F%28key%3AString%29%3ABool-class-method" class="signature"><strong>.has_key?</strong>(key : String) : Bool</a> <div class="summary"><p>Returns <code>true</code> if the environment variable named <em>key</em> exists and <code>false</code> if it doesn't.</p></div> </li> <li class="entry-summary"> <a href="#inspect%28io%29-class-method" class="signature"><strong>.inspect</strong>(io)</a> <div class="summary"><p>Writes the contents of the environment to <em>io</em>.</p></div> </li> <li class="entry-summary"> <a href="#keys%3AArray%28String%29-class-method" class="signature"><strong>.keys</strong> : Array(String)</a> <div class="summary"><p>Returns an array of all the environment variable names.</p></div> </li> <li class="entry-summary"> <a href="#pretty_print%28pp%29-class-method" class="signature"><strong>.pretty_print</strong>(pp)</a> </li> <li class="entry-summary"> <a href="#values%3AArray%28String%29-class-method" class="signature"><strong>.values</strong> : Array(String)</a> <div class="summary"><p>Returns an array of all the environment variable values.</p></div> </li> </ul>  <h2>  Class Method Detail </h2> <div class="entry-detail" id="[](key:String):String-class-method"> <h3 class="signature">def self.<strong>[]</strong>(key : <a href="string.html">String</a>) : <a href="string.html">String</a><a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/env.cr#L21" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Retrieves the value for environment variable named <em>key</em> as a <code><a href="string.html">String</a></code>. Raises <code><a href="keyerror.html">KeyError</a></code> if the named variable does not exist.</p> </div>   </div> <div class="entry-detail" id="[]=(key:String,value:String|Nil)-class-method"> <h3 class="signature">def self.<strong>[]=</strong>(key : <a href="string.html">String</a>, value : <a href="string.html">String</a> | <a href="nil.html">Nil</a>)<a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/env.cr#L37" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Sets the value for environment variable named <em>key</em> as <em>value</em>. Overwrites existing environment variable if already present. Returns <em>value</em> if successful, otherwise raises an exception. If <em>value</em> is <code>nil</code>, the environment variable is deleted.</p> <p>If <em>key</em> or <em>value</em> contains a null-byte an <code><a href="argumenterror.html">ArgumentError</a></code> is raised.</p> </div>   </div> <div class="entry-detail" id="[]?(key:String):String|Nil-class-method"> <h3 class="signature">def self.<strong>[]?</strong>(key : <a href="string.html">String</a>) : <a href="string.html">String</a> | <a href="nil.html">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/env.cr#L27" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Retrieves the value for environment variable named <em>key</em> as a <code><a href="string.html">String</a>?</code>. Returns <code>nil</code> if the named variable does not exist.</p> </div>   </div> <div class="entry-detail" id="clear:Nil-class-method"> <h3 class="signature">def self.<strong>clear</strong> : <a href="nil.html">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/env.cr#L116" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="delete(key:String):String|Nil-class-method"> <h3 class="signature">def self.<strong>delete</strong>(key : <a href="string.html">String</a>) : <a href="string.html">String</a> | <a href="nil.html">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/env.cr#L93" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Removes the environment variable named <em>key</em>. Returns the previous value if the environment variable existed, otherwise returns <code>nil</code>.</p> </div>   </div> <div class="entry-detail" id="each(&amp;:Tuple(String,String)-&gt;)-class-method"> <h3 class="signature">def self.<strong>each</strong>(&amp; : <a href="tuple.html">Tuple</a>(<a href="string.html">String</a>, <a href="string.html">String</a>) -&gt; )<a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/env.cr#L110" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Iterates over all <code>KEY=VALUE</code> pairs of environment variables, yielding both the <em>key</em> and <em>value</em>.</p> <pre data-language="crystal">ENV.each do |key, value|
  puts "#{key} =&gt; #{value}"
end</pre> </div>   </div> <div class="entry-detail" id="fetch(key,default):String|Nil-class-method"> <h3 class="signature">def self.<strong>fetch</strong>(key, default) : <a href="string.html">String</a> | <a href="nil.html">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/env.cr#L63" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Retrieves a value corresponding to the given <em>key</em>. Return the second argument's value if the <em>key</em> does not exist.</p> </div>   </div> <div class="entry-detail" id="fetch(key):String-class-method"> <h3 class="signature">def self.<strong>fetch</strong>(key) : <a href="string.html">String</a><a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/env.cr#L55" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Retrieves a value corresponding to the given <em>key</em>. Raises a <code><a href="keyerror.html">KeyError</a></code> exception if the key does not exist.</p> </div>   </div> <div class="entry-detail" id="fetch(key:String,&amp;block:String-&gt;T):String|TforallT-class-method"> <h3 class="signature">def self.<strong>fetch</strong>(key : <a href="string.html">String</a>, &amp;block : <a href="string.html">String</a> -&gt; T) : <a href="string.html">String</a> | T forall T<a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/env.cr#L69" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Retrieves a value corresponding to a given <em>key</em>. Return the value of the block if the <em>key</em> does not exist.</p> </div>   </div> <div class="entry-detail" id="has_key?(key:String):Bool-class-method"> <h3 class="signature">def self.<strong>has_key?</strong>(key : <a href="string.html">String</a>) : <a href="bool.html">Bool</a><a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/env.cr#L49" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns <code>true</code> if the environment variable named <em>key</em> exists and <code>false</code> if it doesn't.</p> <pre data-language="crystal">ENV.has_key?("NOT_A_REAL_KEY") # =&gt; false
ENV.has_key?("PATH")           # =&gt; true</pre> </div>   </div> <div class="entry-detail" id="inspect(io)-class-method"> <h3 class="signature">def self.<strong>inspect</strong>(io)<a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/env.cr#L121" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Writes the contents of the environment to <em>io</em>.</p> </div>   </div> <div class="entry-detail" id="keys:Array(String)-class-method"> <h3 class="signature">def self.<strong>keys</strong> : <a href="array.html">Array</a>(<a href="string.html">String</a>)<a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/env.cr#L78" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an array of all the environment variable names.</p> </div>   </div> <div class="entry-detail" id="pretty_print(pp)-class-method"> <h3 class="signature">def self.<strong>pretty_print</strong>(pp)<a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/env.cr#L134" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="values:Array(String)-class-method"> <h3 class="signature">def self.<strong>values</strong> : <a href="array.html">Array</a>(<a href="string.html">String</a>)<a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/env.cr#L85" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Returns an array of all the environment variable values.</p> </div>   </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2024 Manas Technology Solutions.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://crystal-lang.org/api/1.13.1/ENV.html" class="_attribution-link">https://crystal-lang.org/api/1.13.1/ENV.html</a>
  </p>
</div>
