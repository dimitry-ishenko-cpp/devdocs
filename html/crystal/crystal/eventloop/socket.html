<h1 class="type-name"> module Crystal::<wbr>EventLoop::<wbr>Socket </wbr></wbr>
</h1> <h2>  Overview </h2> <p>The socket module is empty by default and filled with abstract defs when crystal/system/socket.cr is required.</p> <h2>  Direct including types </h2> <ul class="other-types-list"> <li class="other-type"><a href="../eventloop.html">Crystal::EventLoop</a></li> </ul> <h2>  Defined in: </h2> <a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/crystal/system/event_loop.cr#L67" target="_blank"> crystal/system/event_loop.cr </a> <br> <a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/crystal/system/event_loop/socket.cr#L6" target="_blank"> crystal/system/event_loop/socket.cr </a> <br> <h2>  Instance Method Summary </h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#accept%28socket%3A%3A%3ASocket%29%3A%3A%3ASocket%3A%3AHandle%7CNil-instance-method" class="signature"><strong>#accept</strong>(socket : ::Socket) : ::Socket::Handle | Nil</a> <div class="summary"><p>Accepts an incoming TCP connection on the socket.</p></div> </li> <li class="entry-summary"> <a href="#close%28socket%3A%3A%3ASocket%29%3ANil-instance-method" class="signature"><strong>#close</strong>(socket : ::Socket) : Nil</a> <div class="summary"><p>Closes the socket.</p></div> </li> <li class="entry-summary"> <a href="#connect%28socket%3A%3A%3ASocket%2Caddress%3A%3A%3ASocket%3A%3AAddrinfo%7C%3A%3ASocket%3A%3AAddress%2Ctimeout%3ATime%3A%3ASpan%7CNil%29%3AIO%3A%3AError%7CNil-instance-method" class="signature"><strong>#connect</strong>(socket : ::Socket, address : ::Socket::Addrinfo | ::Socket::Address, timeout : Time::Span | Nil) : IO::Error | Nil</a> <div class="summary"><p>Opens a connection on <em>socket</em> to the target <em>address</em>.</p></div> </li> <li class="entry-summary"> <a href="#read%28socket%3A%3A%3ASocket%2Cslice%3ABytes%29%3AInt32-instance-method" class="signature"><strong>#read</strong>(socket : ::Socket, slice : Bytes) : Int32</a> <div class="summary"><p>Reads at least one byte from the socket into <em>slice</em>.</p></div> </li> <li class="entry-summary"> <a href="#receive_from%28socket%3A%3A%3ASocket%2Cslice%3ABytes%29%3ATuple%28Int32%2C%3A%3ASocket%3A%3AAddress%29-instance-method" class="signature"><strong>#receive_from</strong>(socket : ::Socket, slice : Bytes) : Tuple(Int32, ::Socket::Address)</a> <div class="summary"><p>Receives at least one byte from the socket into <em>slice</em>, capturing the source address.</p></div> </li> <li class="entry-summary"> <a href="#send_to%28socket%3A%3A%3ASocket%2Cslice%3ABytes%2Caddress%3A%3A%3ASocket%3A%3AAddress%29%3AInt32-instance-method" class="signature"><strong>#send_to</strong>(socket : ::Socket, slice : Bytes, address : ::Socket::Address) : Int32</a> <div class="summary"><p>Sends at least one byte from <em>slice</em> to the socket with a target address <em>address</em>.</p></div> </li> <li class="entry-summary"> <a href="#write%28socket%3A%3A%3ASocket%2Cslice%3ABytes%29%3AInt32-instance-method" class="signature"><strong>#write</strong>(socket : ::Socket, slice : Bytes) : Int32</a> <div class="summary"><p>Writes at least one byte from <em>slice</em> to the socket.</p></div> </li> </ul>  <h2>  Instance Method Detail </h2> <div class="entry-detail" id="accept(socket:::Socket):::Socket::Handle|Nil-instance-method"> <h3 class="signature">abstract def <strong>accept</strong>(socket : <a href="../../socket.html">::Socket</a>) : ::Socket::Handle | <a href="../../nil.html">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/crystal/system/event_loop/socket.cr#L34" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Accepts an incoming TCP connection on the socket.</p> <p>Blocks the current fiber if no connection is waiting, continuing when one becomes available. Otherwise returns immediately.</p> <p>Returns a handle to the socket for the new connection.</p> </div>   </div> <div class="entry-detail" id="close(socket:::Socket):Nil-instance-method"> <h3 class="signature">abstract def <strong>close</strong>(socket : <a href="../../socket.html">::Socket</a>) : <a href="../../nil.html">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/crystal/system/event_loop/socket.cr#L64" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Closes the socket.</p> </div>   </div> <div class="entry-detail" id="connect(socket:::Socket,address:::Socket::Addrinfo|::Socket::Address,timeout:Time::Span|Nil):IO::Error|Nil-instance-method"> <h3 class="signature">abstract def <strong>connect</strong>(socket : <a href="../../socket.html">::Socket</a>, address : <a href="../../socket/addrinfo.html">::Socket::Addrinfo</a> | <a href="../../socket/address.html">::Socket::Address</a>, timeout : <a href="../../time/span.html">Time::Span</a> | <a href="../../nil.html">Nil</a>) : <a href="../../io/error.html">IO::Error</a> | <a href="../../nil.html">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/crystal/system/event_loop/socket.cr#L42" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Opens a connection on <em>socket</em> to the target <em>address</em>.</p> <p>Blocks the current fiber and continues when the connection is established.</p> <p>Returns <code><a href="../../io/error.html">IO::Error</a></code> in case of an error. The caller is responsible for raising it as an exception if necessary.</p> </div>   </div> <div class="entry-detail" id="read(socket:::Socket,slice:Bytes):Int32-instance-method"> <h3 class="signature">abstract def <strong>read</strong>(socket : <a href="../../socket.html">::Socket</a>, slice : <a href="../../bytes.html">Bytes</a>) : <a href="../../int32.html">Int32</a><a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/crystal/system/event_loop/socket.cr#L16" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Reads at least one byte from the socket into <em>slice</em>.</p> <p>Blocks the current fiber if no data is available for reading, continuing when available. Otherwise returns immediately.</p> <p>Returns the number of bytes read (up to <code>slice.size</code>). Returns 0 when the socket is closed and no data available.</p> <p>Use <code><a href="socket.html#send_to%28socket%3A%3A%3ASocket%2Cslice%3ABytes%2Caddress%3A%3A%3ASocket%3A%3AAddress%29%3AInt32-instance-method">#send_to</a></code> for sending a message to a specific target address.</p> </div>   </div> <div class="entry-detail" id="receive_from(socket:::Socket,slice:Bytes):Tuple(Int32,::Socket::Address)-instance-method"> <h3 class="signature">abstract def <strong>receive_from</strong>(socket : <a href="../../socket.html">::Socket</a>, slice : <a href="../../bytes.html">Bytes</a>) : <a href="../../tuple.html">Tuple</a>(<a href="../../int32.html">Int32</a>, <a href="../../socket/address.html">::Socket::Address</a>)<a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/crystal/system/event_loop/socket.cr#L61" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Receives at least one byte from the socket into <em>slice</em>, capturing the source address.</p> <p>Blocks the current fiber if no data is available for reading, continuing when available. Otherwise returns immediately.</p> <p>Returns a tuple containing the number of bytes received (up to <code>slice.size</code>) and the source address.</p> </div>   </div> <div class="entry-detail" id="send_to(socket:::Socket,slice:Bytes,address:::Socket::Address):Int32-instance-method"> <h3 class="signature">abstract def <strong>send_to</strong>(socket : <a href="../../socket.html">::Socket</a>, slice : <a href="../../bytes.html">Bytes</a>, address : <a href="../../socket/address.html">::Socket::Address</a>) : <a href="../../int32.html">Int32</a><a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/crystal/system/event_loop/socket.cr#L51" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Sends at least one byte from <em>slice</em> to the socket with a target address <em>address</em>.</p> <p>Blocks the current fiber if the socket is not ready for writing, continuing when ready. Otherwise returns immediately.</p> <p>Returns the number of bytes sent (up to <code>slice.size</code>).</p> </div>   </div> <div class="entry-detail" id="write(socket:::Socket,slice:Bytes):Int32-instance-method"> <h3 class="signature">abstract def <strong>write</strong>(socket : <a href="../../socket.html">::Socket</a>, slice : <a href="../../bytes.html">Bytes</a>) : <a href="../../int32.html">Int32</a><a href="https://github.com/crystal-lang/crystal/blob/0cef61e51/src/crystal/system/event_loop/socket.cr#L26" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"> <p>Writes at least one byte from <em>slice</em> to the socket.</p> <p>Blocks the current fiber if the socket is not ready for writing, continuing when ready. Otherwise returns immediately.</p> <p>Returns the number of bytes written (up to <code>slice.size</code>).</p> <p>Use <code><a href="socket.html#receive_from%28socket%3A%3A%3ASocket%2Cslice%3ABytes%29%3ATuple%28Int32%2C%3A%3ASocket%3A%3AAddress%29-instance-method">#receive_from</a></code> for capturing the source address of a message.</p> </div>   </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2024 Manas Technology Solutions.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://crystal-lang.org/api/1.13.1/Crystal/EventLoop/Socket.html" class="_attribution-link">https://crystal-lang.org/api/1.13.1/Crystal/EventLoop/Socket.html</a>
  </p>
</div>
