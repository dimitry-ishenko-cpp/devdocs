<h1 class="type-name"> module OAuth2 </h1> <h2>  Overview </h2> <p>The OAuth module provides an <code><a href="oauth2/client.html">OAuth2::Client</a></code> as specified by <a href="https://tools.ietf.org/html/rfc6749">RFC 6749</a>.</p> <p>NOTE To use <code><a href="oauth2.html">OAuth2</a></code>, you must explicitly import it with <code>require "oauth2"</code></p> <h3>
Performing HTTP client requests with OAuth2 authentication</h3> <p>Assuming you have an access token, you can setup an <code><a href="http/client">HTTP::Client</a></code> to be authenticated with OAuth2 using this code:</p> <pre data-language="crystal">require "http/client"
require "oauth2"

# Here we use a bearer token, but it could be a mac token. We also set the
# expires in value to 172,800 seconds, or 48 hours
access_token = OAuth2::AccessToken::Bearer.new("some_access_token", 172_800)

# Create an HTTP::Client
client = HTTP::Client.new("api.example.com", tls: true)

# Prepare it for using OAuth2 authentication
access_token.authenticate(client)

# Execute requests as usual: they will be authenticated
client.get("/some_path")</pre> <p>This is implemented with <code><a href="http/client#before_request%28%26callback%3AHTTP%3A%3ARequest-%3E%29%3ANil-instance-method">HTTP::Client#before_request</a></code> to add an authorization header to every request.</p> <h3>
Obtaining access tokens</h3> <p>See <code><a href="oauth2/client.html">OAuth2::Client</a></code> for an example.</p> <h2>  Defined in: </h2> <a href="https://github.com/crystal-lang/crystal/blob/0aa30372c/src/oauth2/auth_scheme.cr#L12" target="_blank"> oauth2/auth_scheme.cr </a> <br> <a href="https://github.com/crystal-lang/crystal/blob/0aa30372c/src/oauth2/oauth2.cr#L35" target="_blank"> oauth2/oauth2.cr </a> <br> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012&ndash;2024 Manas Technology Solutions.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://crystal-lang.org/api/1.11.1/OAuth2.html" class="_attribution-link">https://crystal-lang.org/api/1.11.1/OAuth2.html</a>
  </p>
</div>
