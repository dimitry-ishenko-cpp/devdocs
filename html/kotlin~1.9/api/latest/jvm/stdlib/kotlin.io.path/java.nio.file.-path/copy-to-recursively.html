<h1 id="copytorecursively">copyToRecursively</h1>
<div class="api-docs-breadcrumbs">
<a href="../../../../../../index.html">kotlin-stdlib</a> / <a href="../index.html">kotlin.io.path</a> / <a href="index.html">java.nio.file.Path</a> / <a href="copy-to-recursively.html">copyToRecursively</a>
</div> <div class="overload-group" data-kotlin-version="1.8, 1.8" data-platform="JVM, JRE7">
<div data-kotlin-version="1.8, 1.8" data-platform="JVM, JRE7">
<b>Platform and version requirements:</b> JVM (1.8), JRE7 (1.8) </div>
<div data-kotlin-version="1.8, 1.8" data-platform="JVM, JRE7">
 <pre class="signature" data-language="kotlin">@ExperimentalPathApi fun Path.copyToRecursively(
    target: Path, 
    onError: (source: Path, target: Path, exception: Exception) -&gt; OnErrorResult = { _, _, exception -&gt; throw exception }, 
    followLinks: Boolean, 
    overwrite: Boolean
): Path</pre> </div>
<div data-kotlin-version="1.8, 1.8" data-platform="JVM, JRE7"> <p>Recursively copies this directory and its content to the specified destination <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Boolean)/target">target</a> path. Note that if this function throws, partial copying may have taken place.</p> <p>Unlike <code>File.copyRecursively</code>, if some directories on the way to the <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Boolean)/target">target</a> are missing, then they won't be created automatically. You can use the <a href="create-parent-directories.html">createParentDirectories</a> function to ensure that required intermediate directories are created:</p> <pre><code>sourcePath.copyToRecursively(
    destinationPath.createParentDirectories(),
    followLinks = false
)
</code></pre> <p>If the entry located by this path is a directory, this function recursively copies the directory itself and its content. Otherwise, this function copies only the entry.</p> <p>If an exception occurs attempting to read, open or copy any entry under the source subtree, further actions will depend on the result of the <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Boolean)/onError">onError</a> invoked with the source and destination paths, that caused the error, and the exception itself as arguments. If <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Boolean)/onError">onError</a> throws, this function ends immediately with the exception. By default <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Boolean)/onError">onError</a> rethrows the exception. See <a href="../-on-error-result/index.html">OnErrorResult</a> for available options.</p> <p>This function performs "directory merge" operation. If an entry in the source subtree is a directory and the corresponding entry in the target subtree already exists and is also a directory, it does nothing. Otherwise, <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Boolean)/overwrite">overwrite</a> determines whether to overwrite existing destination entries. Attributes of a source entry, such as creation/modification date, are not copied. <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Boolean)/followLinks">followLinks</a> determines whether to copy a symbolic link itself or its target. Symbolic links in the target subtree are not followed.</p> <p>To provide a custom logic for copying use the overload that takes a <code>copyAction</code> lambda.</p> <h2 id="parameters">Parameters</h2> <p> <code>target</code> - the destination path to copy recursively this entry to.</p> <p> <code>onError</code> - the function that determines further actions if an error occurs. By default, rethrows the exception.</p> <p> <code>followLinks</code> - <code>false</code> to copy a symbolic link itself, not its target. <code>true</code> to recursively copy the target of a symbolic link.</p> <p> <code>overwrite</code> - <code>false</code> to throw if a destination entry already exists. <code>true</code> to overwrite existing destination entries.</p> <h2 id="exceptions">Exceptions</h2> <p> <code>NoSuchFileException</code> - if the entry located by this path does not exist.</p> <p> <code>FileSystemException</code> - if <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Boolean)/target">target</a> is an entry inside the source subtree.</p> <p> <code>FileAlreadyExistsException</code> - if a destination entry already exists and <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Boolean)/overwrite">overwrite</a> is <code>false</code>. This exception is passed to <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Boolean)/onError">onError</a> for handling.</p> <p> <code>IOException</code> - if any errors occur while copying. This exception is passed to <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Boolean)/onError">onError</a> for handling.</p> <p> <code>SecurityException</code> - if a security manager is installed and access is not permitted to an entry in the source or target subtree. This exception is passed to <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Boolean)/onError">onError</a> for handling.</p> </div>
</div> <div class="overload-group" data-kotlin-version="1.8, 1.8" data-platform="JVM, JRE7">
<div data-kotlin-version="1.8, 1.8" data-platform="JVM, JRE7">
<b>Platform and version requirements:</b> JVM (1.8), JRE7 (1.8) </div>
<div data-kotlin-version="1.8, 1.8" data-platform="JVM, JRE7">
 <pre class="signature" data-language="kotlin">@ExperimentalPathApi fun Path.copyToRecursively(
    target: Path, 
    onError: (source: Path, target: Path, exception: Exception) -&gt; OnErrorResult = { _, _, exception -&gt; throw exception }, 
    followLinks: Boolean, 
    copyAction: CopyActionContext.(source: Path, target: Path) -&gt; CopyActionResult = { src, dst -&gt;
        src.copyToIgnoringExistingDirectory(dst, followLinks)
    }
): Path</pre> </div>
<div data-kotlin-version="1.8, 1.8" data-platform="JVM, JRE7"> <p>Recursively copies this directory and its content to the specified destination <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/target">target</a> path. Note that if this function throws, partial copying may have taken place.</p> <p>Unlike <code>File.copyRecursively</code>, if some directories on the way to the <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/target">target</a> are missing, then they won't be created automatically. You can use the <a href="create-parent-directories.html">createParentDirectories</a> function to ensure that required intermediate directories are created:</p> <pre><code>sourcePath.copyToRecursively(
    destinationPath.createParentDirectories(),
    followLinks = false
)
</code></pre> <p>If the entry located by this path is a directory, this function recursively copies the directory itself and its content. Otherwise, this function copies only the entry.</p> <p>If an exception occurs attempting to read, open or copy any entry under the source subtree, further actions will depend on the result of the <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/onError">onError</a> invoked with the source and destination paths, that caused the error, and the exception itself as arguments. If <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/onError">onError</a> throws, this function ends immediately with the exception. By default <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/onError">onError</a> rethrows the exception. See <a href="../-on-error-result/index.html">OnErrorResult</a> for available options.</p> <p>Copy operation is performed using <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/copyAction">copyAction</a>. By default <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/copyAction">copyAction</a> performs "directory merge" operation. If an entry in the source subtree is a directory and the corresponding entry in the target subtree already exists and is also a directory, it does nothing. Otherwise, the entry is copied using <code>sourcePath.copyTo(destinationPath, *followLinksOption)</code>, which doesn't copy attributes of the source entry and throws if the destination entry already exists. <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/followLinks">followLinks</a> determines whether to copy a symbolic link itself or its target. Symbolic links in the target subtree are not followed.</p> <p>If a custom implementation of <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/copyAction">copyAction</a> is provided, consider making it consistent with <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/followLinks">followLinks</a> value. See <a href="../-copy-action-result/index.html">CopyActionResult</a> for available options.</p> <p>If <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/copyAction">copyAction</a> throws an exception, it is passed to <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/onError">onError</a> for handling.</p> <h2 id="parameters">Parameters</h2> <p> <code>target</code> - the destination path to copy recursively this entry to.</p> <p> <code>onError</code> - the function that determines further actions if an error occurs. By default, rethrows the exception.</p> <p> <code>followLinks</code> - <code>false</code> to copy a symbolic link itself, not its target. <code>true</code> to recursively copy the target of a symbolic link.</p> <p> <code>copyAction</code> - the function to call for copying source entries to their destination path rooted in <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/target">target</a>. By default, performs "directory merge" operation.</p> <h2 id="exceptions">Exceptions</h2> <p> <code>NoSuchFileException</code> - if the entry located by this path does not exist.</p> <p> <code>FileSystemException</code> - if <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/target">target</a> is an entry inside the source subtree.</p> <p> <code>IOException</code> - if any errors occur while copying. This exception is passed to <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/onError">onError</a> for handling.</p> <p> <code>SecurityException</code> - if a security manager is installed and access is not permitted to an entry in the source or target subtree. This exception is passed to <a href="copy-to-recursively.html#kotlin.io.path$copyToRecursively(java.nio.file.Path,%20java.nio.file.Path,%20kotlin.Function3((java.nio.file.Path,%20,%20java.lang.Exception,%20kotlin.io.path.OnErrorResult)),%20kotlin.Boolean,%20kotlin.Function3((kotlin.io.path.CopyActionContext,%20java.nio.file.Path,%20,%20kotlin.io.path.CopyActionResult)))/onError">onError</a> for handling.</p> </div>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 JetBrains s.r.o. and Kotlin Programming Language contributors<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io.path/java.nio.file.-path/copy-to-recursively.html" class="_attribution-link">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io.path/java.nio.file.-path/copy-to-recursively.html</a>
  </p>
</div>
