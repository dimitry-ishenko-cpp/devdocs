<h1 id="package-kotlinnativeconcurrent">Package kotlin.native.concurrent</h1>
<div class="api-docs-breadcrumbs">
<a href="../../../../../index.html">kotlin-stdlib</a> / <a href="index.html">kotlin.native.concurrent</a>
</div> <h2 id="types">Types</h2> <div class="api-declarations-list">
<div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-atomic-int/index.html">AtomicInt</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>An <a href="../kotlin/-int/index.html#kotlin.Int">Int</a> value that is always updated atomically. For additional details about atomicity guarantees for reads and writes see <a href="../kotlin.concurrent/-volatile/index.html#kotlin.concurrent.Volatile">kotlin.concurrent.Volatile</a>.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">class AtomicInt</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-atomic-long/index.html">AtomicLong</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>A <a href="../kotlin/-long/index.html#kotlin.Long">Long</a> value that is always updated atomically. For additional details about atomicity guarantees for reads and writes see <a href="../kotlin.concurrent/-volatile/index.html#kotlin.concurrent.Volatile">kotlin.concurrent.Volatile</a>.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">class AtomicLong</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-atomic-native-ptr/index.html">AtomicNativePtr</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>A <a href="../kotlinx.cinterop/-native-ptr.html">kotlinx.cinterop.NativePtr</a> value that is always updated atomically. For additional details about atomicity guarantees for reads and writes see <a href="../kotlin.concurrent/-volatile/index.html#kotlin.concurrent.Volatile">kotlin.concurrent.Volatile</a>.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">class AtomicNativePtr</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-atomic-reference/index.html">AtomicReference</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>An object reference that is always updated atomically.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">class AtomicReference&lt;T&gt;</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-continuation0/index.html">Continuation0</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"><div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">class Continuation0 : () -&gt; Unit</pre> </div></div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-continuation1/index.html">Continuation1</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"><div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">class Continuation1&lt;T1&gt; : (T1) -&gt; Unit</pre> </div></div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-continuation2/index.html">Continuation2</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"><div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">class Continuation2&lt;T1, T2&gt; : (T1, T2) -&gt; Unit</pre> </div></div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-detached-object-graph/index.html">DetachedObjectGraph</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Detached object graph encapsulates transferrable detached subgraph which cannot be accessed externally, until it is attached with the <a href="attach.html">attach</a> extension function.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">class DetachedObjectGraph&lt;T&gt;</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-freezable-atomic-reference/index.html">FreezableAtomicReference</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Note: this class is useful only with legacy memory manager. Please use <a href="-atomic-reference/index.html">AtomicReference</a> instead.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">class FreezableAtomicReference&lt;T&gt;</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-freezing-exception/index.html">FreezingException</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Exception thrown whenever freezing is not possible.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">class FreezingException : RuntimeException</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-future/index.html">Future</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"><div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">class Future&lt;T&gt;</pre> </div></div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-future-state/index.html">FutureState</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>State of the future object.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">enum class FutureState</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-invalid-mutability-exception/index.html">InvalidMutabilityException</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Exception thrown whenever we attempt to mutate frozen objects.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">class InvalidMutabilityException : RuntimeException</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-mutable-data/index.html">MutableData</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Mutable concurrently accessible data buffer. Could be accessed from several workers simultaneously.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">class MutableData</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-transfer-mode/index.html">TransferMode</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Note: modern Kotlin/Native memory manager allows to share objects between threads without additional ceremonies, so TransferMode has effect only in legacy memory manager.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">enum class TransferMode</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-worker/index.html">Worker</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"><div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">class Worker</pre> </div></div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-worker-bound-reference/index.html">WorkerBoundReference</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>A shared reference to a Kotlin object that doesn't freeze the referred object when it gets frozen itself.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">class WorkerBoundReference&lt;out T : Any&gt;</pre> </div>
</div> </div> </div> <h2 id="annotations">Annotations</h2> <div class="api-declarations-list">
<div class="declarations" data-kotlin-version="1.9" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.9) <h4><a href="-obsolete-workers-api/index.html">ObsoleteWorkersApi</a></h4> <div class="summary-group" data-kotlin-version="1.9" data-platform="Native"> <p>Marks all <code>Worker</code>-related API as obsolete.</p> <div data-kotlin-version="1.9" data-platform="Native">
<pre class="signature" data-language="kotlin">annotation class ObsoleteWorkersApi</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.0, 1.0" data-platform="Common, Native">
<b>Platform and version requirements:</b> Native (1.0) <h4><a href="-shared-immutable/index.html">SharedImmutable</a></h4> <div class="summary-group" data-kotlin-version="1.0, 1.3" data-platform="Common, Native"> <p>Note: this annotation has effect only in Kotlin/Native with legacy memory manager.</p> <div data-kotlin-version="1.0, 1.3" data-platform="Common, Native">
<pre class="signature" data-language="kotlin">annotation class SharedImmutable</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.0, 1.0" data-platform="Common, Native">
<b>Platform and version requirements:</b> Native (1.0) <h4><a href="-thread-local/index.html">ThreadLocal</a></h4> <div class="summary-group" data-kotlin-version="1.0, 1.3" data-platform="Common, Native"> <p>Marks a top level property with a backing field or an object as thread local. The object remains mutable and it is possible to change its state, but every thread will have a distinct copy of this object, so changes in one thread are not reflected in another.</p> <div data-kotlin-version="1.0, 1.3" data-platform="Common, Native">
<pre class="signature" data-language="kotlin">annotation class ThreadLocal</pre> </div>
</div> </div> </div> <h2 id="properties">Properties</h2> <div class="api-declarations-list">
<div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="is-frozen.html">isFrozen</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Checks if given object is null or frozen or permanent (i.e. instantiated at compile-time).</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">val Any?.isFrozen: Boolean</pre> </div>
</div> </div> </div> <h2 id="functions">Functions</h2> <div class="api-declarations-list">
<div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="atomic-lazy.html">atomicLazy</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Atomic lazy initializer, could be used in frozen objects, freezes initializing lambda, so use very carefully. Also, as with other uses of an <a href="../kotlin.concurrent/-atomic-reference/index.html">AtomicReference</a> may potentially leak memory, so it is recommended to use <code>atomicLazy</code> in cases of objects living forever, such as object singletons, or in cases where it's guaranteed not to have cyclical garbage.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun &lt;T&gt; atomicLazy(initializer: () -&gt; T): Lazy&lt;T&gt;</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="attach.html">attach</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Attaches previously detached object subgraph created by <a href="-detached-object-graph/index.html">DetachedObjectGraph</a>. Please note, that once object graph is attached, the DetachedObjectGraph.stable pointer does not make sense anymore, and shall be discarded, so attach of one DetachedObjectGraph object can only happen once.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun &lt;T&gt; DetachedObjectGraph&lt;T&gt;.attach(): T</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="call-continuation0.html">callContinuation0</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"><div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun COpaquePointer.callContinuation0()</pre> </div></div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="call-continuation1.html">callContinuation1</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"><div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun &lt;T1&gt; COpaquePointer.callContinuation1()</pre> </div></div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="call-continuation2.html">callContinuation2</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"><div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun &lt;T1, T2&gt; COpaquePointer.callContinuation2()</pre> </div></div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="ensure-never-frozen.html">ensureNeverFrozen</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>This function ensures that if we see such an object during freezing attempt - freeze fails and <a href="-freezing-exception/index.html">FreezingException</a> is thrown.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun Any.ensureNeverFrozen()</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="freeze.html">freeze</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Freezes object subgraph reachable from this object. Frozen objects can be freely shared between threads/workers.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun &lt;T&gt; T.freeze(): T</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="wait-for-multiple-futures.html">waitForMultipleFutures</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"><div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun &lt;T&gt; Collection&lt;Future&lt;T&gt;&gt;.waitForMultipleFutures(
    millis: Int
): Set&lt;Future&lt;T&gt;&gt;</pre> </div></div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="wait-worker-termination.html">waitWorkerTermination</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"><div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun waitWorkerTermination(worker: Worker)</pre> </div></div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="with-worker.html">withWorker</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Executes <a href="with-worker.html#kotlin.native.concurrent$withWorker(kotlin.String?,%20kotlin.Boolean,%20kotlin.Function1((kotlin.native.concurrent.Worker,%20kotlin.native.concurrent.withWorker.R)))/block">block</a> with new <a href="-worker/index.html">Worker</a> as resource, by starting the new worker, calling provided <a href="with-worker.html#kotlin.native.concurrent$withWorker(kotlin.String?,%20kotlin.Boolean,%20kotlin.Function1((kotlin.native.concurrent.Worker,%20kotlin.native.concurrent.withWorker.R)))/block">block</a> (in current context) with newly started worker as this and terminating worker after the block completes. Note that this operation is pretty heavyweight, use preconfigured worker or worker pool if need to execute it frequently.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun &lt;R&gt; withWorker(
    name: String? = null, 
    errorReporting: Boolean = true, 
    block: Worker.() -&gt; R
): R</pre> </div>
</div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 JetBrains s.r.o. and Kotlin Programming Language contributors<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.native.concurrent/index.html" class="_attribution-link">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.native.concurrent/index.html</a>
  </p>
</div>
