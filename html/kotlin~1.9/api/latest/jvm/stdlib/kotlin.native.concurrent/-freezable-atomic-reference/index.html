<h1 id="freezableatomicreference">FreezableAtomicReference</h1>
<div class="api-docs-breadcrumbs">
<a href="../../../../../../index.html">kotlin-stdlib</a> / <a href="../index.html">kotlin.native.concurrent</a> / <a href="index.html">FreezableAtomicReference</a>
</div> <div class="node-page-main" data-kotlin-version="1.3" data-platform="Native">
<div data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) </div>
<div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">@DeprecatedSinceKotlin("1.9") class FreezableAtomicReference&lt;T&gt;</pre> <strong>Deprecated:</strong> Use kotlin.concurrent.AtomicReference instead.</div>
<div data-kotlin-version="1.3" data-platform="Native"> <p>Note: this class is useful only with legacy memory manager. Please use <a href="../-atomic-reference/index.html">AtomicReference</a> instead.</p> <p>An atomic reference to a Kotlin object. Can be used in concurrent scenarious, but must be frozen first, otherwise behaves as regular box for the value. If frozen, shall be zeroed out once no longer needed. Otherwise memory leak could happen. To detect such leaks <a href="../../kotlin.native.runtime/-g-c/detect-cycles.html">kotlin.native.runtime.GC.detectCycles</a> in debug mode could be helpful.</p> </div>
</div> <h2 id="constructors">Constructors</h2> <div class="api-declarations-list">
<div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="-init-.html">&lt;init&gt;</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Note: this class is useful only with legacy memory manager. Please use <a href="../-atomic-reference/index.html">AtomicReference</a> instead.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">FreezableAtomicReference(value_: T)</pre> </div>
</div> </div> </div> <h2 id="properties">Properties</h2> <div class="api-declarations-list">
<div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="value.html">value</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>The referenced value. Gets the value or sets to the given new value. If the new value is not null, and <code>this</code> is frozen - it must be frozen or permanent object.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">var value: T</pre> </div>
</div> </div> </div> <h2 id="functions">Functions</h2> <div class="api-declarations-list">
<div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="compare-and-set.html">compareAndSet</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Atomically sets the value to the given <a href="compare-and-set.html#kotlin.native.concurrent.FreezableAtomicReference$compareAndSet(kotlin.native.concurrent.FreezableAtomicReference.T,%20kotlin.native.concurrent.FreezableAtomicReference.T)/newValue">new value</a> if the current value equals the <a href="compare-and-set.html#kotlin.native.concurrent.FreezableAtomicReference$compareAndSet(kotlin.native.concurrent.FreezableAtomicReference.T,%20kotlin.native.concurrent.FreezableAtomicReference.T)/expected">expected value</a> and returns true if operation was successful.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun compareAndSet(expected: T, newValue: T): Boolean</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="compare-and-swap.html">compareAndSwap</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Atomically sets the value to the given <a href="compare-and-swap.html#kotlin.native.concurrent.FreezableAtomicReference$compareAndSwap(kotlin.native.concurrent.FreezableAtomicReference.T,%20kotlin.native.concurrent.FreezableAtomicReference.T)/newValue">new value</a> if the current value equals the <a href="compare-and-swap.html#kotlin.native.concurrent.FreezableAtomicReference$compareAndSwap(kotlin.native.concurrent.FreezableAtomicReference.T,%20kotlin.native.concurrent.FreezableAtomicReference.T)/expected">expected value</a> and returns the old value in any case.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun compareAndSwap(expected: T, newValue: T): T</pre> </div>
</div> </div> <div class="declarations" data-kotlin-version="1.3" data-platform="Native">
<b>Platform and version requirements:</b> Native (1.3) <h4><a href="to-string.html">toString</a></h4> <div class="summary-group" data-kotlin-version="1.3" data-platform="Native"> <p>Returns the string representation of this object.</p> <div data-kotlin-version="1.3" data-platform="Native">
<pre class="signature" data-language="kotlin">fun toString(): String</pre> </div>
</div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 JetBrains s.r.o. and Kotlin Programming Language contributors<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.native.concurrent/-freezable-atomic-reference/" class="_attribution-link">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.native.concurrent/-freezable-atomic-reference/</a>
  </p>
</div>
