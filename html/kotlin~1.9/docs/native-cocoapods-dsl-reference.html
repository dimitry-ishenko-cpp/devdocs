<h1 data-toc="native-cocoapods-dsl-reference" id="native-cocoapods-dsl-reference.md">CocoaPods Gradle plugin DSL reference</h1>
<p id="c3fa9171">Kotlin CocoaPods Gradle plugin is a tool for creating Podspec files. These files are necessary to integrate your Kotlin project with the <a href="https://cocoapods.org/" id="adc94fe6" data-external="true" rel="noopener noreferrer">CocoaPods dependency manager</a>.</p>
<p id="731aa16c">This reference contains the complete list of blocks, functions, and properties for the Kotlin CocoaPods Gradle plugin that you can use when working with the <a href="native-cocoapods.html" id="6f3a0e89">CocoaPods integration</a>.</p>
<ul class="list _bullet" id="819f70e0">
<li class="list__item" id="fb338922"><p>Learn how to <a href="native-cocoapods.html#set-up-an-environment-to-work-with-cocoapods" id="2dc13404">set up the environment</a> and <a href="native-cocoapods.html#add-and-configure-kotlin-cocoapods-gradle-plugin" id="b78e3c99">configure the Kotlin CocoaPods Gradle plugin</a>.</p></li>
<li class="list__item" id="281578d9"><p>Depending on your project and purposes, you can add dependencies between <a href="native-cocoapods-libraries.html" id="7f3596c4">a Kotlin project and a Pod library</a> as well as <a href="native-cocoapods-xcode.html" id="f586e8c1">a Kotlin Gradle project and an Xcode project</a>.</p></li>
</ul>
<section class="chapter"><h2 id="enable-the-plugin" data-toc="enable-the-plugin">Enable the plugin</h2>
<p id="80ceb76c">To apply the CocoaPods plugin, add the following lines to the <code class="code ">build.gradle(.kts)</code> file:</p>
<pre class="code" data-language="kotlin">plugins {
   kotlin("multiplatform") version "1.9.0"
   kotlin("native.cocoapods") version "1.9.0"
}
</pre>
<p id="a2b6055e">The plugin versions match the <a href="releases.html" id="4a302edb">Kotlin release versions</a>. The latest stable version is 1.9.0.</p></section><section class="chapter"><h2 id="cocoapods-block" data-toc="cocoapods-block">cocoapods block</h2>
<p id="e073c80d">The <code class="code ">cocoapods</code> block is the top-level block for the CocoaPods configuration. It contains general information on the Pod, including required information like the Pod version, summary, and homepage, as well as optional features.</p>
<p id="c16514f1">You can use the following blocks, functions, and properties inside it:</p>
<div class="table-wrapper"><table class=" wide" id="19e2efab">
<thead><tr class="ijRowHead" id="e29ce9bd">
<th id="2f7923c7"><p><b id="3b3abb4f" class="">Name</b></p></th>
<th id="4d8fbd22"><p><b id="769028a9" class="">Description</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="5fbf7695">
<td id="1a10daaf"><p><code class="code ">version</code></p></td>
<td id="e94eefa4"><p>The version of the Pod. If this is not specified, a Gradle project version is used. If none of these properties are configured, you'll get an error.</p></td>
</tr>
<tr class="" id="f7682961">
<td id="b3f1ef8d"><p><code class="code ">summary</code></p></td>
<td id="ed28aecf"><p>A required description of the Pod built from this project.</p></td>
</tr>
<tr class="" id="4461c70a">
<td id="6335c6d0"><p><code class="code ">homepage</code></p></td>
<td id="da1ef860"><p>A required link to the homepage of the Pod built from this project.</p></td>
</tr>
<tr class="" id="663c8e8b">
<td id="7230f22e"><p><code class="code ">authors</code></p></td>
<td id="28e825a4"><p>Specifies authors of the Pod built from this project.</p></td>
</tr>
<tr class="" id="a63c4db4">
<td id="5b3c9ecf"><p><code class="code ">podfile</code></p></td>
<td id="d208c846"><p>Configures the existing <code class="code ">Podfile</code> file.</p></td>
</tr>
<tr class="" id="1212b230">
<td id="511351e3"><p><code class="code ">noPodspec()</code></p></td>
<td id="fccc4b55"><p>Sets up the plugin not to produce a Podspec file for the <code class="code ">cocoapods</code> section.</p></td>
</tr>
<tr class="" id="dc7e42f6">
<td id="69ea6b72"><p><code class="code ">name</code></p></td>
<td id="8fcf35f2"><p>The name of the Pod built from this project. If not provided, the project name is used.</p></td>
</tr>
<tr class="" id="66695ef3">
<td id="79ebe002"><p><code class="code ">license</code></p></td>
<td id="11787682"><p>The license of the Pod built from this project, its type, and the text.</p></td>
</tr>
<tr class="" id="4b1fcee">
<td id="d8b3ea44"><p><code class="code ">framework</code></p></td>
<td id="da59a3b9"><p>The framework block configures the framework produced by the plugin.</p></td>
</tr>
<tr class="" id="7a86f07">
<td id="ee3bdd6a"><p><code class="code ">source</code></p></td>
<td id="391760df"><p>The location of the Pod built from this project.</p></td>
</tr>
<tr class="" id="7ebf21ba">
<td id="93290dde"><p><code class="code ">extraSpecAttributes</code></p></td>
<td id="9b86da2c"><p>Configures other Podspec attributes like <code class="code ">libraries</code> or <code class="code ">vendored_frameworks</code>.</p></td>
</tr>
<tr class="" id="eca2f62e">
<td id="8d39bd6a"><p><code class="code ">xcodeConfigurationToNativeBuildType</code></p></td>
<td id="236734a7"><p>Maps custom Xcode configuration to NativeBuildType: "Debug" to <code class="code ">NativeBuildType.DEBUG</code> and "Release" to <code class="code ">NativeBuildType.RELEASE</code>.</p></td>
</tr>
<tr class="" id="9ed59aa6">
<td id="d6fc2a35"><p><code class="code ">publishDir</code></p></td>
<td id="804dc452"><p>Configures the output directory for Pod publishing.</p></td>
</tr>
<tr class="" id="214d5a62">
<td id="46a136ca"><p><code class="code ">pods</code></p></td>
<td id="997938ae"><p>Returns a list of Pod dependencies.</p></td>
</tr>
<tr class="" id="8538c499">
<td id="e8e35f0f"><p><code class="code ">pod()</code></p></td>
<td id="bf7f968"><p>Adds a CocoaPods dependency to the Pod built from this project.</p></td>
</tr>
<tr class="" id="ea6bb3da">
<td id="fbc35ab8"><p><code class="code ">specRepos</code></p></td>
<td id="250bf480"><p>Adds a specification repository using <code class="code ">url()</code>. This is necessary when a private Pod is used as a dependency. See the <a href="https://guides.cocoapods.org/making/private-cocoapods.html" id="233d510b" data-external="true" rel="noopener noreferrer">CocoaPods documentation</a> for more information.</p></td>
</tr>
</tbody>
</table></div>
<section class="chapter"><h3 id="targets" data-toc="targets">Targets</h3>
<ul class="list _bullet" id="b8f34b99">
<li class="list__item" id="1b8b7ca2"><p><code class="code ">ios</code></p></li>
<li class="list__item" id="11f159a2"><p><code class="code ">osx</code></p></li>
<li class="list__item" id="eb85c187"><p><code class="code ">tvos</code></p></li>
<li class="list__item" id="81ccc56f"><p><code class="code ">watchos</code></p></li>
</ul>
<p id="220bea9b">For each target, use the <code class="code ">deploymentTarget</code> property to specify the minimum target version for the Pod library.</p>
<p id="f2107400">When applied, CocoaPods adds both <code class="code ">debug</code> and <code class="code ">release</code> frameworks as output binaries for all of the targets.</p>
<pre class="code" data-language="kotlin">kotlin {
    ios()
   
    cocoapods {
        version = "2.0"
        name = "MyCocoaPod"
        summary = "CocoaPods test library"
        homepage = "https://github.com/JetBrains/kotlin"
        
        extraSpecAttributes["vendored_frameworks"] = 'CustomFramework.xcframework'
        license = "{ :type =&gt; 'MIT', :text =&gt; 'License text'}"
        source = "{ :git =&gt; 'git@github.com:vkormushkin/kmmpodlibrary.git', :tag =&gt; '$version' }"
        authors = "Kotlin Dev"
        
        specRepos {
            url("https://github.com/Kotlin/kotlin-cocoapods-spec.git")
        }
        pod("example")
        
        xcodeConfigurationToNativeBuildType["CUSTOM_RELEASE"] = NativeBuildType.RELEASE
   }
}
</pre></section><section class="chapter"><h3 id="framework-block" data-toc="framework-block">framework block</h3>
<p id="e310b903">The <code class="code ">framework</code> block is nested inside <code class="code ">cocoapods</code> and configures the framework properties of the Pod built from the project.</p>
<aside data-type="note" class="prompt" data-title="" id="fe8edc56"><p id="d2cf960c">Note that <code class="code ">baseName</code> is a required field.</p></aside><div class="table-wrapper"><table class=" wide" id="51fc0b0a">
<thead><tr class="ijRowHead" id="55c792fc">
<th id="485a4c96"><p><b id="1c8f0c07" class="">Name</b></p></th>
<th id="9a729b66"><p><b id="16736008" class="">Description</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="42df8c47">
<td id="e8d83dba"><p><code class="code ">baseName</code></p></td>
<td id="24cd2cce"><p>A required framework name. Use this property instead of the deprecated <code class="code ">frameworkName</code>.</p></td>
</tr>
<tr class="" id="50a70555">
<td id="e8d14b21"><p><code class="code ">isStatic</code></p></td>
<td id="f94d47f4"><p>Defines the framework linking type. It's dynamic by default.</p></td>
</tr>
<tr class="" id="ed7a3ab2">
<td id="bcf1e1c7"><p><code class="code ">transitiveExport</code></p></td>
<td id="39da85fe"><p>Enables dependency export.</p></td>
</tr>
</tbody>
</table></div>
<pre class="code" data-language="kotlin">kotlin {
    cocoapods {
        framework {
            baseName = "MyFramework"
            isStatic = false
            export(project(":anotherKMMModule"))
            transitiveExport = true
        }
    }
}
</pre></section></section><section class="chapter"><h2 id="pod-function" data-toc="pod-function">pod() function</h2>
<p id="d74706a">The <code class="code ">pod()</code> function call adds a CocoaPods dependency to the Pod built from this project. Each dependency requires a separate function call.</p>
<p id="28303398">You can specify the name of a Pod library in the function parameters and additional parameter values, like the <code class="code ">version</code> and <code class="code ">source</code> of the library, in its configuration block:</p>
<div class="table-wrapper"><table class=" wide" id="6b7ff0fe">
<thead><tr class="ijRowHead" id="4a0e5202">
<th id="b7f27359"><p><b id="5008ee91" class="">Name</b></p></th>
<th id="ad1cc33b"><p><b id="221e9781" class="">Description</b></p></th>
</tr></thead>
<tbody>
<tr class="" id="cff1fb15">
<td id="5f3d588f"><p><code class="code ">version</code></p></td>
<td id="8f375361"><p>The library version. To use the latest version of the library, omit the parameter.</p></td>
</tr>
<tr class="" id="b4277428">
<td id="af303887"><p><code class="code ">source</code></p></td>
<td id="ff1a0e3b">
<p>Configures the Pod from: </p>
<ul class="list _bullet" id="2af66aed">
<li class="list__item" id="50e211fe"><p>The Git repository using <code class="code ">git()</code>. In the block after <code class="code ">git()</code>, you can specify <code class="code ">commit</code> to use a specific commit, <code class="code ">tag</code> to use a specific tag, and <code class="code ">branch</code> to use a specific branch from the repository</p></li>
<li class="list__item" id="11e6091c"><p>The local repository using <code class="code ">path()</code></p></li>
<li class="list__item" id="b412d873"><p>An archived (tar, jar, zip) Pod folder using <code class="code ">url()</code></p></li>
</ul>
</td>
</tr>
<tr class="" id="376a76b5">
<td id="b03e1867"><p><code class="code ">packageName</code></p></td>
<td id="27d2acd6"><p>Specifies the package name.</p></td>
</tr>
<tr class="" id="6afa64b9">
<td id="5e53d021"><p><code class="code ">extraOpts</code></p></td>
<td id="95a63">
<p>Specifies the list of options for a Pod library. For example, specific flags: </p>
<pre class="code" data-language="kotlin">extraOpts = listOf("-compiler-option")</pre>
</td>
</tr>
<tr class="" id="2f893ca7">
<td id="9fcbcfd7"><p><code class="code ">linkOnly</code></p></td>
<td id="5a840d6f"><p>Instructs the CocoaPods plugin to use Pod dependencies with dynamic frameworks without generating cinterop bindings. If used with static frameworks, the option will remove the Pod dependency entirely.</p></td>
</tr>
<tr class="" id="fc32fa22">
<td id="684730c4"><p><code class="code ">interopBindingDependencies</code></p></td>
<td id="18362236"><p>Contains a list of dependencies to other Pods. This list is used when building a Kotlin binding for the new Pod.</p></td>
</tr>
<tr class="" id="1feeb95f">
<td id="ff50d1"><p><code class="code ">useInteropBindingFrom()</code></p></td>
<td id="df25b3db"><p>Specifies the name of the existing Pod that is used as dependency. This Pod should be declared before the function execution. The function instructs the CocoaPods plugin to use a Kotlin binding of the existing Pod when building a binding for the new one.</p></td>
</tr>
</tbody>
</table></div>
<pre class="code" data-language="kotlin">kotlin {
    ios()
   
    cocoapods {
        summary = "CocoaPods test library"
        homepage = "https://github.com/JetBrains/kotlin"
      
        ios.deploymentTarget = "13.5"
      
        pod("pod_dependency") {
            version = "1.0"
            linkOnly = true
            source = path(project.file("../pod_dependency"))
        }
    }
}
</pre></section><div class="last-modified"> Last modified: 14 July 2023</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="native-cocoapods-xcode.html">Use a Kotlin Gradle project as a CocoaPods dependency</a> <a class="navigation-links__next" href="native-libraries.html">Kotlin/Native libraries</a> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 JetBrains s.r.o. and Kotlin Programming Language contributors<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://kotlinlang.org/docs/native-cocoapods-dsl-reference.html" class="_attribution-link">https://kotlinlang.org/docs/native-cocoapods-dsl-reference.html</a>
  </p>
</div>
