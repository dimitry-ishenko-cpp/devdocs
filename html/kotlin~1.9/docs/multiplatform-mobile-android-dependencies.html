<h1 data-toc="multiplatform-mobile-android-dependencies" id="multiplatform-mobile-android-dependencies.md">Adding Android dependencies</h1>
<p id="df9453f0">The workflow for adding Android-specific dependencies to a Kotlin Multiplatform module is the same as it is for pure Android projects: declare the dependency in your Gradle file and import the project. After that, you can use this dependency in your Kotlin code.</p>
<p id="d2c965f5">We recommend declaring Android dependencies in Multiplatform Mobile projects by adding them to a specific Android source set. For that, update your <code class="code ">build.gradle(.kts)</code> file in the <code class="code ">shared</code> directory of your project:</p>
<div class="tabs" id="19d230bf" data-group="build-script" data-anchors="[cb5e9c3c,f77fc014,37b8e5f0,bad138b2,19d230bf]">
<div class="tabs__content" data-gtm="tab" id="cb5e9c3c" data-sync-tabs="kotlin" data-title="Kotlin"><pre class="code" data-language="kotlin">sourceSets["androidMain"].dependencies {
    implementation("com.example.android:app-magic:12.3")
}
</pre></div>
<div class="tabs__content" data-gtm="tab" id="37b8e5f0" data-sync-tabs="groovy" data-title="Groovy"><pre class="code" data-language="groovy">sourceSets {
    androidMain {
        dependencies {
            implementation 'com.example.android:app-magic:12.3'
        }
    }
}
</pre></div>
</div>
<p id="9d6c6fce">Moving what was a top-level dependency in an Android project to a specific source set in a Multiplatform Mobile project might be difficult if the top-level dependency had a non-trivial configuration name. For example, to move a <code class="code ">debugImplementation</code> dependency from the top level of an Android project, you'll need to add an implementation dependency to the source set named <code class="code ">androidDebug</code>. To minimize the effort you have to put in to deal with migration problems like this, you can add a <code class="code ">dependencies</code> block inside the <code class="code ">android</code> block:</p>
<div class="tabs" id="10d368a0" data-group="build-script" data-anchors="[db071545,dece2480,413dd240,12edf052,10d368a0]">
<div class="tabs__content" data-gtm="tab" id="db071545" data-sync-tabs="kotlin" data-title="Kotlin"><pre class="code" data-language="kotlin">android {
    //...
    dependencies {
        implementation("com.example.android:app-magic:12.3")
    }
}
</pre></div>
<div class="tabs__content" data-gtm="tab" id="413dd240" data-sync-tabs="groovy" data-title="Groovy"><pre class="code" data-language="groovy">android {
    //...
    dependencies {
        implementation 'com.example.android:app-magic:12.3'
    }
}
</pre></div>
</div>
<p id="f7fd1330">Dependencies declared here will be treated exactly the same as dependencies from the top-level block, but declaring them this way will also separate Android dependencies visually in your build script and make it less confusing.</p>
<p id="dd23b4ca">Putting dependencies into a standalone <code class="code ">dependencies</code> block at the end of the script, in a way that is idiomatic to Android projects, is also supported. However, we strongly recommend <b id="79792725" class="">against</b> doing this because configuring a build script with Android dependencies in the top-level block and other target dependencies in each source set is likely to cause confusion.</p>
<section class="chapter"><h2 id="what-s-next" data-toc="what-s-next">What's next?</h2>
<p id="bac3e21b">Check out other resources on adding dependencies in multiplatform projects and learn more about:</p>
<ul class="list _bullet" id="284ca581">
<li class="list__item" id="2ba62de8"><p><a href="https://developer.android.com/studio/build/dependencies" id="a26277e" data-external="true" rel="noopener noreferrer">Adding dependencies in the official Android documentation</a></p></li>
<li class="list__item" id="33367bcc"><p><a href="multiplatform-add-dependencies.html" id="6e00312c">Adding dependencies on multiplatform libraries or other multiplatform projects</a></p></li>
<li class="list__item" id="21d36dd5"><p><a href="multiplatform-mobile-ios-dependencies.html" id="9a1cb98c">Adding iOS dependencies</a></p></li>
</ul></section><div class="last-modified"> Last modified: 06 September 2022</div>

<div class="navigation-links _bottom"> <a class="navigation-links__prev" href="multiplatform-add-dependencies.html">Adding dependencies on multiplatform libraries</a> <a class="navigation-links__next" href="multiplatform-mobile-ios-dependencies.html">Adding iOS dependencies</a> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2023 JetBrains s.r.o. and Kotlin Programming Language contributors<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://kotlinlang.org/docs/multiplatform-mobile-android-dependencies.html" class="_attribution-link">https://kotlinlang.org/docs/multiplatform-mobile-android-dependencies.html</a>
  </p>
</div>
