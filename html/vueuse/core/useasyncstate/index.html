<h1 id="useasyncstate" tabindex="-1">useAsyncState </h1>
<table class="grid grid-cols-[100px_auto] gap-2 text-sm mt-4 mb-8 items-start">
<tr>
<th> Category </th>
<td><a href="../../functions.html#category=State">State</a></td>
</tr>
<tr>
<th> Export Size </th>
<td>424 B</td>
</tr>
<tr>
<th> Last Changed </th>
<td>2 days ago</td>
</tr>
</table>
<p>Reactive async state. Will not block your setup function and will trigger changes once the promise is ready.</p>
<h2 id="usage" tabindex="-1">Usage </h2>
<div class="language-ts">
<pre class="shiki vitesse-light vp-code-light" data-language="javascript">import axios from 'axios'
import { useAsyncState } from '@vueuse/core'

const { state, isReady, isLoading } = useAsyncState(
  axios
    .get('https://jsonplaceholder.typicode.com/todos/1')
    .then(t =&gt; t.data),
  { id: null },
)</pre>
</div>
<h2 id="type-declarations" tabindex="-1">Type Declarations </h2>
<div>
<summary op50 italic cursor-pointer select-none>Show Type Declarations</summary><div class="language-typescript">
<pre class="shiki vitesse-light vp-code-light" data-language="javascript">export interface UseAsyncStateReturnBase&lt;
  Data,
  Params extends any[],
  Shallow extends boolean
&gt; {
  state: Shallow extends true ? Ref&lt;Data&gt; : Ref&lt;UnwrapRef&lt;Data&gt;&gt;
  isReady: Ref&lt;boolean&gt;
  isLoading: Ref&lt;boolean&gt;
  error: Ref&lt;unknown&gt;
  execute: (delay?: number, ...args: Params) =&gt; Promise&lt;Data&gt;
}
export type UseAsyncStateReturn&lt;
  Data,
  Params extends any[],
  Shallow extends boolean
&gt; = UseAsyncStateReturnBase&lt;Data, Params, Shallow&gt; &amp;
  PromiseLike&lt;UseAsyncStateReturnBase&lt;Data, Params, Shallow&gt;&gt;
export interface UseAsyncStateOptions&lt;Shallow extends boolean, D = any&gt; {
  /**
   * Delay for executing the promise. In milliseconds.
   *
   * @default 0
   */
  delay?: number
  /**
   * Execute the promise right after the function is invoked.
   * Will apply the delay if any.
   *
   * When set to false, you will need to execute it manually.
   *
   * @default true
   */
  immediate?: boolean
  /**
   * Callback when error is caught.
   */
  onError?: (e: unknown) =&gt; void
  /**
   * Callback when success is caught.
   * @param {D} data
   */
  onSuccess?: (data: D) =&gt; void
  /**
   * Sets the state to initialState before executing the promise.
   *
   * This can be useful when calling the execute function more than once (for
   * example, to refresh data). When set to false, the current state remains
   * unchanged until the promise resolves.
   *
   * @default true
   */
  resetOnExecute?: boolean
  /**
   * Use shallowRef.
   *
   * @default true
   */
  shallow?: Shallow
  /**
   *
   * An error is thrown when executing the execute function
   *
   * @default false
   */
  throwError?: boolean
}
/**
 * Reactive async state. Will not block your setup function and will trigger changes once
 * the promise is ready.
 *
 * @see https://vueuse.org/useAsyncState
 * @param promise         The promise / async function to be resolved
 * @param initialState    The initial state, used until the first evaluation finishes
 * @param options
 */
export declare function useAsyncState&lt;
  Data,
  Params extends any[] = [],
  Shallow extends boolean = true
&gt;(
  promise: Promise&lt;Data&gt; | ((...args: Params) =&gt; Promise&lt;Data&gt;),
  initialState: Data,
  options?: UseAsyncStateOptions&lt;Shallow, Data&gt;
): UseAsyncStateReturn&lt;Data, Params, Shallow&gt;</pre>
</div>
</div>
<h2 id="source" tabindex="-1">Source </h2>
<p><a href="https://github.com/vueuse/vueuse/blob/main/packages/core/useAsyncState/index.ts" target="_blank" rel="noreferrer">Source</a> • <a href="https://github.com/vueuse/vueuse/blob/main/packages/core/useAsyncState/demo.vue" target="_blank" rel="noreferrer">Demo</a> • <a href="https://github.com/vueuse/vueuse/blob/main/packages/core/useAsyncState/index.md" target="_blank" rel="noreferrer">Docs</a></p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2019-present Anthony Fu<br>Licensed under the MIT License.<br>
    <a href="https://vueuse.org/core/useAsyncState/" class="_attribution-link">https://vueuse.org/core/useAsyncState/</a>
  </p>
</div>
