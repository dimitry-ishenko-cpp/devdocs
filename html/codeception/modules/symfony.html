<h1 id="symfony">Symfony</h1> <h2 id="installation">Installation</h2> <p>If you use Codeception installed using composer, install this module with the following command:</p> <pre data-language="yaml">composer require --dev codeception/module-symfony</pre> <p>Alternatively, you can enable <code class="language-plaintext highlighter-rouge">Symfony</code> module in suite configuration file and run</p> <pre data-language="yaml">codecept init upgrade4</pre> <p>This module was bundled with Codeception 2 and 3, but since version 4 it is necessary to install it separately. <br> Some modules are bundled with PHAR files.<br> Warning. Using PHAR file and composer in the same project can cause unexpected errors.</p> <h2 id="description">Description</h2> <p>This module uses <a href="https://symfony.com/doc/current/components/dom_crawler.html">Symfony’s DomCrawler</a> and <a href="https://symfony.com/doc/current/components/http_kernel.html">HttpKernel Component</a> to emulate requests and test response.</p> <ul> <li>Access Symfony services through the dependency injection container: <a href="#grabService"><code class="language-plaintext highlighter-rouge">$I-&gt;grabService(...)</code></a>
</li> <li>Use Doctrine to test against the database: <code class="language-plaintext highlighter-rouge">$I-&gt;seeInRepository(...)</code> - see <a href="doctrine2.html">Doctrine Module</a>
</li> <li>Assert that emails would have been sent: <a href="#seeEmailIsSent"><code class="language-plaintext highlighter-rouge">$I-&gt;seeEmailIsSent()</code></a>
</li> <li>Tests are wrapped into Doctrine transaction to speed them up.</li> <li>Symfony Router can be cached between requests to speed up testing.</li> </ul> <h2 id="demo-project">Demo Project</h2> <p><a href="https://github.com/Codeception/symfony-module-tests">https://github.com/Codeception/symfony-module-tests</a></p> <h2 id="config">Config</h2> <h3 id="symfony-5x-or-44">Symfony 5.x or 4.4</h3> <ul> <li>app_path: ‘src’ - Specify custom path to your app dir, where the kernel interface is located.</li> <li>environment: ‘local’ - Environment used for load kernel</li> <li>kernel_class: ‘App\Kernel’ - Kernel class name</li> <li>em_service: ‘doctrine.orm.entity_manager’ - Use the stated EntityManager to pair with Doctrine Module.</li> <li>debug: true - Turn on/off debug mode</li> <li>cache_router: ‘false’ - Enable router caching between tests in order to <a href="http://lakion.com/blog/how-did-we-speed-up-sylius-behat-suite-with-blackfire">increase performance</a>
</li> <li>rebootable_client: ‘true’ - Reboot client’s kernel before each request</li> </ul> <h5 id="example-functionalsuiteyml---symfony-4-directory-structure">Example (<code class="language-plaintext highlighter-rouge">functional.suite.yml</code>) - Symfony 4 Directory Structure</h5> <div class="language-plaintext highlighter-rouge"><code>modules:
   enabled:
      - Symfony:
          app_path: 'src'
          environment: 'test'
</code></div> <h2 id="public-properties">Public Properties</h2> <ul> <li>kernel - HttpKernel instance</li> <li>client - current Crawler instance</li> </ul> <h2 id="parts">Parts</h2> <ul> <li>
<code class="language-plaintext highlighter-rouge">services</code>: Includes methods related to the Symfony dependency injection container (DIC): <ul> <li>grabService</li> <li>persistService</li> <li>persistPermanentService</li> <li>unpersistService</li> </ul> </li> </ul> <p>See <a href="webdriver.html#Loading-Parts-from-other-Modules">WebDriver module</a> for general information on how to load parts of a framework module.</p> <p>Usage example:</p> <pre data-language="yaml">actor: AcceptanceTester
modules:
    enabled:
        - Symfony:
            part: services
        - Doctrine2:
            depends: Symfony
        - WebDriver:
            url: http://example.com
            browser: firefox</pre> <p>If you’re using Symfony with Eloquent ORM (instead of Doctrine), you can load the <a href="laravel5.html#Parts"><code class="language-plaintext highlighter-rouge">ORM</code> part of Laravel module</a> in addition to Symfony module.</p> <h2 id="actions">Actions</h2> <h3 id="_findelements">_findElements</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Locates element using available Codeception locator types:</p> <ul> <li>XPath</li> <li>CSS</li> <li>Strict Locator</li> </ul> <p>Use it in Helpers or GroupObject or Extension classes:</p> <pre data-language="php">&lt;?php
$els = $this-&gt;getModule('Symfony')-&gt;_findElements('.items');
$els = $this-&gt;getModule('Symfony')-&gt;_findElements(['name' =&gt; 'username']);

$editLinks = $this-&gt;getModule('Symfony')-&gt;_findElements(['link' =&gt; 'Edit']);
// now you can iterate over $editLinks and check that all them have valid hrefs</pre> <p>WebDriver module returns <code class="language-plaintext highlighter-rouge">Facebook\WebDriver\Remote\RemoteWebElement</code> instances PhpBrowser and Framework modules return <code class="language-plaintext highlighter-rouge">Symfony\Component\DomCrawler\Crawler</code> instances</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $locator</li> <li>
<code class="language-plaintext highlighter-rouge">return array</code> of interactive elements</li> </ul> <h3 id="_getresponsecontent">_getResponseContent</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Returns content of the last response Use it in Helpers when you want to retrieve response of request performed by another module.</p> <pre data-language="php">&lt;?php
// in Helper class
public function seeResponseContains($text)
{
   $this-&gt;assertStringContainsString($text, $this-&gt;getModule('Symfony')-&gt;_getResponseContent(), "response contains");
}</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">return string</code> @throws ModuleException</li> </ul> <h3 id="_loadpage">_loadPage</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Opens a page with arbitrary request parameters. Useful for testing multi-step forms on a specific step.</p> <pre data-language="php">&lt;?php
// in Helper class
public function openCheckoutFormStep2($orderId) {
    $this-&gt;getModule('Symfony')-&gt;_loadPage('POST', '/checkout/step2', ['order' =&gt; $orderId]);
}</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $method</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $content</li> </ul> <h3 id="_request">_request</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Send custom request to a backend using method, uri, parameters, etc. Use it in Helpers to create special request actions, like accessing API Returns a string with response body.</p> <pre data-language="php">&lt;?php
// in Helper class
public function createUserByApi($name) {
    $userData = $this-&gt;getModule('Symfony')-&gt;_request('POST', '/api/v1/users', ['name' =&gt; $name]);
    $user = json_decode($userData);
    return $user-&gt;id;
}</pre> <p>Does not load the response into the module so you can’t interact with response page (click, fill forms). To load arbitrary page for interaction, use <code class="language-plaintext highlighter-rouge">_loadPage</code> method.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $method</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $content</li> <li>
<code class="language-plaintext highlighter-rouge">return string</code> @throws ExternalUrlException @see <code class="language-plaintext highlighter-rouge">_loadPage</code>
</li> </ul> <h3 id="_savepagesource">_savePageSource</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Saves page source of to a file</p> <pre data-language="php">$this-&gt;getModule('Symfony')-&gt;_savePageSource(codecept_output_dir().'page.html');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $filename</li> </ul> <h3 id="amhttpauthenticated">amHttpAuthenticated</h3> <p>Authenticates user for HTTP_AUTH</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $username</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $password</li> </ul> <h3 id="amloggedinas">amLoggedInAs</h3> <p>Login with the given user object. The <code class="language-plaintext highlighter-rouge">$user</code> object must have a persistent identifier. If you have more than one firewall or firewall context, you can specify the desired one as a parameter.</p> <pre data-language="php">&lt;?php
$user = $I-&gt;grabEntityFromRepository(User::class, [
    'email' =&gt; 'john_doe@example.com'
]);
$I-&gt;amLoggedInAs($user);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param UserInterface</code> $user</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $firewallName</li> <li>
<code class="language-plaintext highlighter-rouge">param null</code> $firewallContext</li> </ul> <h3 id="amonaction">amOnAction</h3> <p>Opens web page by action name</p> <pre data-language="php">&lt;?php
$I-&gt;amOnAction('PostController::index');
$I-&gt;amOnAction('HomeController');
$I-&gt;amOnAction('ArticleController', ['slug' =&gt; 'lorem-ipsum']);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $action</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $params</li> </ul> <h3 id="amonpage">amOnPage</h3> <p>Opens the page for the given relative URI.</p> <pre data-language="php">&lt;?php
// opens front page
$I-&gt;amOnPage('/');
// opens /register page
$I-&gt;amOnPage('/register');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $page</li> </ul> <h3 id="amonroute">amOnRoute</h3> <p>Opens web page using route name and parameters.</p> <pre data-language="php">&lt;?php
$I-&gt;amOnRoute('posts.create');
$I-&gt;amOnRoute('posts.show', ['id' =&gt; 34]);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $routeName</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $params</li> </ul> <h3 id="assertemailaddresscontains">assertEmailAddressContains</h3> <p>Verify that an email contains addresses with a <a href="https://datatracker.ietf.org/doc/html/rfc4021">header</a> <code class="language-plaintext highlighter-rouge">$headerName</code> and its expected value <code class="language-plaintext highlighter-rouge">$expectedValue</code>. If the Email object is not specified, the last email sent is used instead.</p> <pre data-language="php">&lt;?php
$I-&gt;assertEmailAddressContains('To', 'jane_doe@example.com');</pre> <h3 id="assertemailattachmentcount">assertEmailAttachmentCount</h3> <p>Verify that an email has sent the specified number <code class="language-plaintext highlighter-rouge">$count</code> of attachments. If the Email object is not specified, the last email sent is used instead.</p> <pre data-language="php">&lt;?php
$I-&gt;assertEmailAttachmentCount(1);</pre> <h3 id="assertemailhasheader">assertEmailHasHeader</h3> <p>Verify that an email has a <a href="https://datatracker.ietf.org/doc/html/rfc4021">header</a> <code class="language-plaintext highlighter-rouge">$headerName</code>. If the Email object is not specified, the last email sent is used instead.</p> <pre data-language="php">&lt;?php
$I-&gt;assertEmailHasHeader('Bcc');</pre> <h3 id="assertemailheadernotsame">assertEmailHeaderNotSame</h3> <p>Verify that the <a href="https://datatracker.ietf.org/doc/html/rfc4021">header</a> <code class="language-plaintext highlighter-rouge">$headerName</code> of an email is not the expected one <code class="language-plaintext highlighter-rouge">$expectedValue</code>. If the Email object is not specified, the last email sent is used instead.</p> <pre data-language="php">&lt;?php
$I-&gt;assertEmailHeaderNotSame('To', 'john_doe@gmail.com');</pre> <h3 id="assertemailheadersame">assertEmailHeaderSame</h3> <p>Verify that the <a href="https://datatracker.ietf.org/doc/html/rfc4021">header</a> <code class="language-plaintext highlighter-rouge">$headerName</code> of an email is the same as expected <code class="language-plaintext highlighter-rouge">$expectedValue</code>. If the Email object is not specified, the last email sent is used instead.</p> <pre data-language="php">&lt;?php
$I-&gt;assertEmailHeaderSame('To', 'jane_doe@gmail.com');</pre> <h3 id="assertemailhtmlbodycontains">assertEmailHtmlBodyContains</h3> <p>Verify that the HTML body of an email contains <code class="language-plaintext highlighter-rouge">$text</code>. If the Email object is not specified, the last email sent is used instead.</p> <pre data-language="php">&lt;?php
$I-&gt;assertEmailHtmlBodyContains('Successful registration');</pre> <h3 id="assertemailhtmlbodynotcontains">assertEmailHtmlBodyNotContains</h3> <p>Verify that the HTML body of an email does not contain a text <code class="language-plaintext highlighter-rouge">$text</code>. If the Email object is not specified, the last email sent is used instead.</p> <pre data-language="php">&lt;?php
$I-&gt;assertEmailHtmlBodyNotContains('userpassword');</pre> <h3 id="assertemailnothasheader">assertEmailNotHasHeader</h3> <p>Verify that an email does not have a <a href="https://datatracker.ietf.org/doc/html/rfc4021">header</a> <code class="language-plaintext highlighter-rouge">$headerName</code>. If the Email object is not specified, the last email sent is used instead.</p> <pre data-language="php">&lt;?php
$I-&gt;assertEmailNotHasHeader('Bcc');</pre> <h3 id="assertemailtextbodycontains">assertEmailTextBodyContains</h3> <p>Verify the text body of an email contains a <code class="language-plaintext highlighter-rouge">$text</code>. If the Email object is not specified, the last email sent is used instead.</p> <pre data-language="php">&lt;?php
$I-&gt;assertEmailTextBodyContains('Example text body');</pre> <h3 id="assertemailtextbodynotcontains">assertEmailTextBodyNotContains</h3> <p>Verify that the text body of an email does not contain a <code class="language-plaintext highlighter-rouge">$text</code>. If the Email object is not specified, the last email sent is used instead.</p> <pre data-language="php">&lt;?php
$I-&gt;assertEmailTextBodyNotContains('My secret text body');</pre> <h3 id="attachfile">attachFile</h3> <p>Attaches a file relative to the Codeception <code class="language-plaintext highlighter-rouge">_data</code> directory to the given file upload field.</p> <pre data-language="php">&lt;?php
// file is stored in 'tests/_data/prices.xls'
$I-&gt;attachFile('input[@type="file"]', 'prices.xls');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $field</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $filename</li> </ul> <h3 id="checkoption">checkOption</h3> <p>Ticks a checkbox. For radio buttons, use the <code class="language-plaintext highlighter-rouge">selectOption</code> method instead.</p> <pre data-language="php">&lt;?php
$I-&gt;checkOption('#agree');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $option</li> </ul> <h3 id="click">click</h3> <p>Perform a click on a link or a button, given by a locator. If a fuzzy locator is given, the page will be searched for a button, link, or image matching the locator string. For buttons, the “value” attribute, “name” attribute, and inner text are searched. For links, the link text is searched. For images, the “alt” attribute and inner text of any parent links are searched.</p> <p>The second parameter is a context (CSS or XPath locator) to narrow the search.</p> <p>Note that if the locator matches a button of type <code class="language-plaintext highlighter-rouge">submit</code>, the form will be submitted.</p> <pre data-language="php">&lt;?php
// simple link
$I-&gt;click('Logout');
// button of form
$I-&gt;click('Submit');
// CSS button
$I-&gt;click('#form input[type=submit]');
// XPath
$I-&gt;click('//form/*[@type="submit"]');
// link in context
$I-&gt;click('Logout', '#nav');
// using strict locator
$I-&gt;click(['link' =&gt; 'Login']);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $link</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $context</li> </ul> <h3 id="deleteheader">deleteHeader</h3> <p>Deletes the header with the passed name. Subsequent requests will not have the deleted header in its request.</p> <p>Example:</p> <pre data-language="php">&lt;?php
$I-&gt;haveHttpHeader('X-Requested-With', 'Codeception');
$I-&gt;amOnPage('test-headers.php');
// ...
$I-&gt;deleteHeader('X-Requested-With');
$I-&gt;amOnPage('some-other-page.php');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $name the name of the header to delete.</li> </ul> <h3 id="dontsee">dontSee</h3> <p>Checks that the current page doesn’t contain the text specified (case insensitive). Give a locator as the second parameter to match a specific region.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSee('Login');                         // I can suppose user is already logged in
$I-&gt;dontSee('Sign Up','h1');                  // I can suppose it's not a signup page
$I-&gt;dontSee('Sign Up','//body/h1');           // with XPath
$I-&gt;dontSee('Sign Up', ['css' =&gt; 'body h1']); // with strict CSS locator</pre> <p>Note that the search is done after stripping all HTML tags from the body, so <code class="language-plaintext highlighter-rouge">$I-&gt;dontSee('strong')</code> will fail on strings like:</p> <ul> <li><code class="language-plaintext highlighter-rouge">&lt;p&gt;I am Stronger than thou&lt;/p&gt;</code></li> <li><code class="language-plaintext highlighter-rouge">&lt;script&gt;document.createElement('strong');&lt;/script&gt;</code></li> </ul> <p>But will ignore strings like:</p> <ul> <li><code class="language-plaintext highlighter-rouge">&lt;strong&gt;Home&lt;/strong&gt;</code></li> <li><code class="language-plaintext highlighter-rouge">&lt;div class="strong"&gt;Home&lt;/strong&gt;</code></li> <li><code class="language-plaintext highlighter-rouge">&lt;!-- strong --&gt;</code></li> </ul> <p>For checking the raw source code, use <code class="language-plaintext highlighter-rouge">seeInSource()</code>.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $text</li> <li>
<code class="language-plaintext highlighter-rouge">param array|string</code> $selector optional</li> </ul> <h3 id="dontseeauthentication">dontSeeAuthentication</h3> <p>Check that user is not authenticated.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeAuthentication();</pre> <h3 id="dontseecheckboxischecked">dontSeeCheckboxIsChecked</h3> <p>Check that the specified checkbox is unchecked.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeCheckboxIsChecked('#agree'); // I suppose user didn't agree to terms
$I-&gt;seeCheckboxIsChecked('#signup_form input[type=checkbox]'); // I suppose user didn't check the first checkbox in form.
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $checkbox</li> </ul> <h3 id="dontseecookie">dontSeeCookie</h3> <p>Checks that there isn’t a cookie with the given name. You can set additional cookie params like <code class="language-plaintext highlighter-rouge">domain</code>, <code class="language-plaintext highlighter-rouge">path</code> as array passed in last argument.</p> <ul> <li> <p><code class="language-plaintext highlighter-rouge">param</code> $cookie</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">param array</code> $params</p> </li> </ul> <h3 id="dontseecurrenturlequals">dontSeeCurrentUrlEquals</h3> <p>Checks that the current URL doesn’t equal the given string. Unlike <code class="language-plaintext highlighter-rouge">dontSeeInCurrentUrl</code>, this only matches the full URL.</p> <pre data-language="php">&lt;?php
// current url is not root
$I-&gt;dontSeeCurrentUrlEquals('/');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri</li> </ul> <h3 id="dontseecurrenturlmatches">dontSeeCurrentUrlMatches</h3> <p>Checks that current url doesn’t match the given regular expression.</p> <pre data-language="php">&lt;?php
// to match root url
$I-&gt;dontSeeCurrentUrlMatches('~^/users/(\d+)~');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri</li> </ul> <h3 id="dontseeelement">dontSeeElement</h3> <p>Checks that the given element is invisible or not present on the page. You can also specify expected attributes of this element.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeElement('.error');
$I-&gt;dontSeeElement('//form/input[1]');
$I-&gt;dontSeeElement('input', ['name' =&gt; 'login']);
$I-&gt;dontSeeElement('input', ['value' =&gt; '123456']);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $selector</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $attributes</li> </ul> <h3 id="dontseeemailissent">dontSeeEmailIsSent</h3> <p>Checks that no email was sent. The check is based on <code class="language-plaintext highlighter-rouge">\Symfony\Component\Mailer\EventListener\MessageLoggerListener</code>, which means: If your app performs a HTTP redirect, you need to suppress it using <a href="symfony.html#stopFollowingRedirects">stopFollowingRedirects()</a> first; otherwise this check will <em>always</em> pass. Starting with version 2.0.0, <code class="language-plaintext highlighter-rouge">codeception/module-symfony</code> requires your app to use <a href="https://symfony.com/doc/current/mailer.html">Symfony Mailer</a>. If your app still uses <a href="https://symfony.com/doc/current/email.html">Swift Mailer</a>, set your version constraint to <code class="language-plaintext highlighter-rouge">^1.6</code>.</p> <h3 id="dontseeeventtriggered">dontSeeEventTriggered</h3> <p>Verifies that one or more event listeners were not called during the test.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeEventTriggered('App\MyEvent');
$I-&gt;dontSeeEventTriggered(new App\Events\MyEvent());
$I-&gt;dontSeeEventTriggered(['App\MyEvent', 'App\MyOtherEvent']);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string|object|string[]</code> $expected</li> </ul> <h3 id="dontseeformerrors">dontSeeFormErrors</h3> <p>Verifies that there are no errors bound to the submitted form.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeFormErrors();</pre> <h3 id="dontseeincurrenturl">dontSeeInCurrentUrl</h3> <p>Checks that the current URI doesn’t contain the given string.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeInCurrentUrl('/users/');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri</li> </ul> <h3 id="dontseeinfield">dontSeeInField</h3> <p>Checks that an input field or textarea doesn’t contain the given value. For fuzzy locators, the field is matched by label text, CSS and XPath.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeInField('Body','Type your comment here');
$I-&gt;dontSeeInField('form textarea[name=body]','Type your comment here');
$I-&gt;dontSeeInField('form input[type=hidden]','hidden_value');
$I-&gt;dontSeeInField('#searchform input','Search');
$I-&gt;dontSeeInField('//form/*[@name=search]','Search');
$I-&gt;dontSeeInField(['name' =&gt; 'search'], 'Search');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $field</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $value</li> </ul> <h3 id="dontseeinformfields">dontSeeInFormFields</h3> <p>Checks if the array of form parameters (name =&gt; value) are not set on the form matched with the passed selector.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeInFormFields('form[name=myform]', [
     'input1' =&gt; 'non-existent value',
     'input2' =&gt; 'other non-existent value',
]);
?&gt;</pre> <p>To check that an element hasn’t been assigned any one of many values, an array can be passed as the value:</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeInFormFields('.form-class', [
     'fieldName' =&gt; [
         'This value shouldn\'t be set',
         'And this value shouldn\'t be set',
     ],
]);
?&gt;</pre> <p>Additionally, checkbox values can be checked with a boolean.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeInFormFields('#form-id', [
     'checkbox1' =&gt; true,        // fails if checked
     'checkbox2' =&gt; false,       // fails if unchecked
]);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $formSelector</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $params</li> </ul> <h3 id="dontseeinsession">dontSeeInSession</h3> <p>Assert that a session attribute does not exist, or is not equal to the passed value.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeInSession('attribute');
$I-&gt;dontSeeInSession('attribute', 'value');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $attribute</li> <li>
<code class="language-plaintext highlighter-rouge">param mixed|null</code> $value</li> </ul> <h3 id="dontseeinsource">dontSeeInSource</h3> <p>Checks that the current page contains the given string in its raw source code.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeInSource('&lt;h1&gt;Green eggs &amp;amp; ham&lt;/h1&gt;');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $raw</li> </ul> <h3 id="dontseeintitle">dontSeeInTitle</h3> <p>Checks that the page title does not contain the given string.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $title</li> </ul> <h3 id="dontseelink">dontSeeLink</h3> <p>Checks that the page doesn’t contain a link with the given string. If the second parameter is given, only links with a matching “href” attribute will be checked.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeLink('Logout'); // I suppose user is not logged in
$I-&gt;dontSeeLink('Checkout now', '/store/cart.php');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $text</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $url optional</li> </ul> <h3 id="dontseeoptionisselected">dontSeeOptionIsSelected</h3> <p>Checks that the given option is not selected.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeOptionIsSelected('#form input[name=payment]', 'Visa');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $selector</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $optionText</li> </ul> <h3 id="dontseeorphanevent">dontSeeOrphanEvent</h3> <p>Verifies that there were no orphan events during the test.</p> <p>An orphan event is an event that was triggered by manually executing the <a href="https://symfony.com/doc/current/components/event_dispatcher.html#dispatch-the-event"><code class="language-plaintext highlighter-rouge">dispatch()</code></a> method of the EventDispatcher but was not handled by any listener after it was dispatched.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeOrphanEvent();
$I-&gt;dontSeeOrphanEvent('App\MyEvent');
$I-&gt;dontSeeOrphanEvent(new App\Events\MyEvent());
$I-&gt;dontSeeOrphanEvent(['App\MyEvent', 'App\MyOtherEvent']);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string|object|string[]</code> $expected</li> </ul> <h3 id="dontseerememberedauthentication">dontSeeRememberedAuthentication</h3> <p>Check that user is not authenticated with the ‘remember me’ option.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeRememberedAuthentication();</pre> <h3 id="dontseerenderedtemplate">dontSeeRenderedTemplate</h3> <p>Asserts that a template was not rendered in the response.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeRenderedTemplate('home.html.twig');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $template</li> </ul> <h3 id="dontseeresponsecodeis">dontSeeResponseCodeIs</h3> <p>Checks that response code is equal to value provided.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeResponseCodeIs(200);

// recommended \Codeception\Util\HttpCode
$I-&gt;dontSeeResponseCodeIs(\Codeception\Util\HttpCode::OK);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $code</li> </ul> <h3 id="fillfield">fillField</h3> <p>Fills a text field or textarea with the given string.</p> <pre data-language="php">&lt;?php
$I-&gt;fillField("//input[@type='text']", "Hello World!");
$I-&gt;fillField(['name' =&gt; 'email'], 'jon@example.com');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $field</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $value</li> </ul> <h3 id="followredirect">followRedirect</h3> <p>Follow pending redirect if there is one.</p> <pre data-language="php">&lt;?php
$I-&gt;followRedirect();</pre> <h3 id="gotologoutpath">goToLogoutPath</h3> <p>Go to the configured logout url (by default: <code class="language-plaintext highlighter-rouge">/logout</code>). This method includes redirection to the destination page configured after logout.</p> <p>See the Symfony documentation on <a href="https://symfony.com/doc/current/security.html#logging-out">‘Logging Out’</a>.</p> <h3 id="grabattributefrom">grabAttributeFrom</h3> <p>Grabs the value of the given attribute value from the given element. Fails if element is not found.</p> <pre data-language="php">&lt;?php
$I-&gt;grabAttributeFrom('#tooltip', 'title');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $cssOrXpath</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $attribute</li> </ul> <h3 id="grabcookie">grabCookie</h3> <p>Grabs a cookie value. You can set additional cookie params like <code class="language-plaintext highlighter-rouge">domain</code>, <code class="language-plaintext highlighter-rouge">path</code> in array passed as last argument. If the cookie is set by an ajax request (XMLHttpRequest), there might be some delay caused by the browser, so try <code class="language-plaintext highlighter-rouge">$I-&gt;wait(0.1)</code>.</p> <ul> <li> <p><code class="language-plaintext highlighter-rouge">param</code> $cookie</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">param array</code> $params</p> </li> </ul> <h3 id="grabfromcurrenturl">grabFromCurrentUrl</h3> <p>Executes the given regular expression against the current URI and returns the first capturing group. If no parameters are provided, the full URI is returned.</p> <pre data-language="php">&lt;?php
$user_id = $I-&gt;grabFromCurrentUrl('~^/user/(\d+)/~');
$uri = $I-&gt;grabFromCurrentUrl();
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri optional</li> </ul> <h3 id="grablastsentemail">grabLastSentEmail</h3> <p>Returns the last sent email. The function is based on <code class="language-plaintext highlighter-rouge">\Symfony\Component\Mailer\EventListener\MessageLoggerListener</code>, which means: If your app performs a HTTP redirect after sending the email, you need to suppress it using <a href="symfony.html#stopFollowingRedirects">stopFollowingRedirects()</a> first. Starting with version 2.0.0, <code class="language-plaintext highlighter-rouge">codeception/module-symfony</code> requires your app to use <a href="https://symfony.com/doc/current/mailer.html">Symfony Mailer</a>. If your app still uses <a href="https://symfony.com/doc/current/email.html">Swift Mailer</a>, set your version constraint to <code class="language-plaintext highlighter-rouge">^1.6</code>. See also: <a href="symfony.html#grabSentEmails">grabSentEmails()</a></p> <pre data-language="php">&lt;?php
$email = $I-&gt;grabLastSentEmail();
$address = $email-&gt;getTo()[0];
$I-&gt;assertSame('john_doe@example.com', $address-&gt;getAddress());</pre> <ul> <li><code class="language-plaintext highlighter-rouge">return \Symfony\Component\Mime\Email|null</code></li> </ul> <h3 id="grabmultiple">grabMultiple</h3> <p>Grabs either the text content, or attribute values, of nodes matched by $cssOrXpath and returns them as an array.</p> <pre data-language="html">&lt;a href="#first"&gt;First&lt;/a&gt;
&lt;a href="#second"&gt;Second&lt;/a&gt;
&lt;a href="#third"&gt;Third&lt;/a&gt;</pre> <pre data-language="php">&lt;?php
// would return ['First', 'Second', 'Third']
$aLinkText = $I-&gt;grabMultiple('a');

// would return ['#first', '#second', '#third']
$aLinks = $I-&gt;grabMultiple('a', 'href');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $cssOrXpath</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $attribute</li> <li><code class="language-plaintext highlighter-rouge">return string[]</code></li> </ul> <h3 id="grabnumrecords">grabNumRecords</h3> <p>Retrieves number of records from database ‘id’ is the default search parameter.</p> <pre data-language="php">&lt;?php
$I-&gt;grabNumRecords('User::class', ['name' =&gt; 'davert']);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $entityClass The entity class</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $criteria Optional query criteria</li> <li><code class="language-plaintext highlighter-rouge">return int</code></li> </ul> <h3 id="grabpagesource">grabPageSource</h3> <p>Grabs current page source code.</p> <p>@throws ModuleException if no page was opened.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">return string</code> Current page source code.</li> </ul> <h3 id="grabparameter">grabParameter</h3> <p>Grabs a Symfony parameter</p> <pre data-language="php">&lt;?php
$I-&gt;grabParameter('app.business_name');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $name</li> <li><code class="language-plaintext highlighter-rouge">return mixed|null</code></li> </ul> <h3 id="grabrepository">grabRepository</h3> <p>Grab a Doctrine entity repository. Works with objects, entities, repositories, and repository interfaces.</p> <pre data-language="php">&lt;?php
$I-&gt;grabRepository($user);
$I-&gt;grabRepository(User::class);
$I-&gt;grabRepository(UserRepository::class);
$I-&gt;grabRepository(UserRepositoryInterface::class);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param object|string</code> $mixed</li> <li><code class="language-plaintext highlighter-rouge">return \Doctrine\ORM\EntityRepository|null</code></li> </ul> <h3 id="grabsentemails">grabSentEmails</h3> <p>Returns an array of all sent emails. The function is based on <code class="language-plaintext highlighter-rouge">\Symfony\Component\Mailer\EventListener\MessageLoggerListener</code>, which means: If your app performs a HTTP redirect after sending the email, you need to suppress it using <a href="symfony.html#stopFollowingRedirects">stopFollowingRedirects()</a> first. Starting with version 2.0.0, <code class="language-plaintext highlighter-rouge">codeception/module-symfony</code> requires your app to use <a href="https://symfony.com/doc/current/mailer.html">Symfony Mailer</a>. If your app still uses <a href="https://symfony.com/doc/current/email.html">Swift Mailer</a>, set your version constraint to <code class="language-plaintext highlighter-rouge">^1.6</code>. See also: <a href="symfony.html#grabLastSentEmail">grabLastSentEmail()</a></p> <pre data-language="php">&lt;?php
$emails = $I-&gt;grabSentEmails();</pre> <ul> <li><code class="language-plaintext highlighter-rouge">return \Symfony\Component\Mime\Email[]</code></li> </ul> <h3 id="grabservice">grabService</h3> <p>Grabs a service from the Symfony dependency injection container (DIC). In “test” environment, Symfony uses a special <code class="language-plaintext highlighter-rouge">test.service_container</code>. See the “<a href="https://symfony.com/doc/current/testing.html#accessing-the-container">Accessing the Container</a>” documentation. Services that aren’t injected somewhere into your app, need to be defined as <code class="language-plaintext highlighter-rouge">public</code> to be accessible by Codeception.</p> <pre data-language="php">&lt;?php
$em = $I-&gt;grabService('doctrine');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">[Part]</code> services</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $serviceId</li> <li><code class="language-plaintext highlighter-rouge">return object</code></li> </ul> <h3 id="grabtextfrom">grabTextFrom</h3> <p>Finds and returns the text contents of the given element. If a fuzzy locator is used, the element is found using CSS, XPath, and by matching the full page source by regular expression.</p> <pre data-language="php">&lt;?php
$heading = $I-&gt;grabTextFrom('h1');
$heading = $I-&gt;grabTextFrom('descendant-or-self::h1');
$value = $I-&gt;grabTextFrom('~&lt;input value=(.*?)]~sgi'); // match with a regex
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $cssOrXPathOrRegex</li> </ul> <h3 id="grabvaluefrom">grabValueFrom</h3> <ul> <li> <p><code class="language-plaintext highlighter-rouge">param</code> $field</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">return array|mixed|null|string</code></p> </li> </ul> <h3 id="havehttpheader">haveHttpHeader</h3> <p>Sets the HTTP header to the passed value - which is used on subsequent HTTP requests through PhpBrowser.</p> <p>Example:</p> <pre data-language="php">&lt;?php
$I-&gt;haveHttpHeader('X-Requested-With', 'Codeception');
$I-&gt;amOnPage('test-headers.php');</pre> <p>To use special chars in Header Key use HTML Character Entities: Example: Header with underscore - ‘Client_Id’ should be represented as - ‘Client_Id’ or ‘Client_Id’</p> <pre data-language="php">&lt;?php
$I-&gt;haveHttpHeader('Client&amp;#95;Id', 'Codeception');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $name the name of the request header</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $value the value to set it to for subsequent requests</li> </ul> <h3 id="haveserverparameter">haveServerParameter</h3> <p>Sets SERVER parameter valid for all next requests.</p> <pre data-language="php">$I-&gt;haveServerParameter('name', 'value');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $name</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $value</li> </ul> <h3 id="invalidatecachedrouter">invalidateCachedRouter</h3> <p>Invalidate previously cached routes.</p> <h3 id="logout">logout</h3> <p>Alias method for <a href="symfony.html#logoutProgrammatically"><code class="language-plaintext highlighter-rouge">logoutProgrammatically()</code></a></p> <pre data-language="php">&lt;?php
$I-&gt;logout();</pre> <h3 id="logoutprogrammatically">logoutProgrammatically</h3> <p>Invalidates the current user’s session and expires the session cookies. This method does not include any redirects after logging out.</p> <pre data-language="php">&lt;?php
$I-&gt;logoutProgrammatically();</pre> <h3 id="makehtmlsnapshot">makeHtmlSnapshot</h3> <p>Use this method within an <a href="../02-gettingstarted.html#Interactive-Pause">interactive pause</a> to save the HTML source code of the current page.</p> <pre data-language="php">&lt;?php
$I-&gt;makeHtmlSnapshot('edit_page');
// saved to: tests/_output/debug/edit_page.html
$I-&gt;makeHtmlSnapshot();
// saved to: tests/_output/debug/2017-05-26_14-24-11_4b3403665fea6.html</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param null</code> $name</li> </ul> <h3 id="moveback">moveBack</h3> <p>Moves back in history.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $numberOfSteps (default value 1)</li> </ul> <h3 id="persistpermanentservice">persistPermanentService</h3> <p>Get service $serviceName and add it to the lists of persistent services, making that service persistent between tests.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">[Part]</code> services</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $serviceName</li> </ul> <h3 id="persistservice">persistService</h3> <p>Get service $serviceName and add it to the lists of persistent services.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">[Part]</code> services</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $serviceName</li> </ul> <h3 id="rebootclientkernel">rebootClientKernel</h3> <p>Reboot client’s kernel. Can be used to manually reboot kernel when ‘rebootable_client’ =&gt; false</p> <pre data-language="php">&lt;?php

// Perform some requests

$I-&gt;rebootClientKernel();

// Perform other requests</pre> <h3 id="resetcookie">resetCookie</h3> <p>Unsets cookie with the given name. You can set additional cookie params like <code class="language-plaintext highlighter-rouge">domain</code>, <code class="language-plaintext highlighter-rouge">path</code> in array passed as last argument.</p> <ul> <li> <p><code class="language-plaintext highlighter-rouge">param</code> $cookie</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">param array</code> $params</p> </li> </ul> <h3 id="runsymfonyconsolecommand">runSymfonyConsoleCommand</h3> <p>Run Symfony console command, grab response and return as string. Recommended to use for integration or functional testing.</p> <pre data-language="php">&lt;?php
$result = $I-&gt;runSymfonyConsoleCommand('hello:world', ['arg' =&gt; 'argValue', 'opt1' =&gt; 'optValue'], ['input']);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $command The console command to execute</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $parameters Parameters (arguments and options) to pass to the command</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $consoleInputs Console inputs (e.g. used for interactive questions)</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $expectedExitCode The expected exit code of the command</li> <li>
<code class="language-plaintext highlighter-rouge">return string</code> Returns the console output of the command</li> </ul> <h3 id="see">see</h3> <p>Checks that the current page contains the given string (case insensitive).</p> <p>You can specify a specific HTML element (via CSS or XPath) as the second parameter to only search within that element.</p> <pre data-language="php">&lt;?php
$I-&gt;see('Logout');                        // I can suppose user is logged in
$I-&gt;see('Sign Up', 'h1');                 // I can suppose it's a signup page
$I-&gt;see('Sign Up', '//body/h1');          // with XPath
$I-&gt;see('Sign Up', ['css' =&gt; 'body h1']); // with strict CSS locator</pre> <p>Note that the search is done after stripping all HTML tags from the body, so <code class="language-plaintext highlighter-rouge">$I-&gt;see('strong')</code> will return true for strings like:</p> <ul> <li><code class="language-plaintext highlighter-rouge">&lt;p&gt;I am Stronger than thou&lt;/p&gt;</code></li> <li><code class="language-plaintext highlighter-rouge">&lt;script&gt;document.createElement('strong');&lt;/script&gt;</code></li> </ul> <p>But will <em>not</em> be true for strings like:</p> <ul> <li><code class="language-plaintext highlighter-rouge">&lt;strong&gt;Home&lt;/strong&gt;</code></li> <li><code class="language-plaintext highlighter-rouge">&lt;div class="strong"&gt;Home&lt;/strong&gt;</code></li> <li><code class="language-plaintext highlighter-rouge">&lt;!-- strong --&gt;</code></li> </ul> <p>For checking the raw source code, use <code class="language-plaintext highlighter-rouge">seeInSource()</code>.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $text</li> <li>
<code class="language-plaintext highlighter-rouge">param array|string</code> $selector optional</li> </ul> <h3 id="seeauthentication">seeAuthentication</h3> <p>Checks that a user is authenticated.</p> <pre data-language="php">&lt;?php
$I-&gt;seeAuthentication();</pre> <h3 id="seecheckboxischecked">seeCheckboxIsChecked</h3> <p>Checks that the specified checkbox is checked.</p> <pre data-language="php">&lt;?php
$I-&gt;seeCheckboxIsChecked('#agree'); // I suppose user agreed to terms
$I-&gt;seeCheckboxIsChecked('#signup_form input[type=checkbox]'); // I suppose user agreed to terms, If there is only one checkbox in form.
$I-&gt;seeCheckboxIsChecked('//form/input[@type=checkbox and @name=agree]');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $checkbox</li> </ul> <h3 id="seecookie">seeCookie</h3> <p>Checks that a cookie with the given name is set. You can set additional cookie params like <code class="language-plaintext highlighter-rouge">domain</code>, <code class="language-plaintext highlighter-rouge">path</code> as array passed in last argument.</p> <pre data-language="php">&lt;?php
$I-&gt;seeCookie('PHPSESSID');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $cookie</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $params</li> </ul> <h3 id="seecurrentactionis">seeCurrentActionIs</h3> <p>Checks that current page matches action</p> <pre data-language="php">&lt;?php
$I-&gt;seeCurrentActionIs('PostController::index');
$I-&gt;seeCurrentActionIs('HomeController');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $action</li> </ul> <h3 id="seecurrentrouteis">seeCurrentRouteIs</h3> <p>Checks that current url matches route.</p> <pre data-language="php">&lt;?php
$I-&gt;seeCurrentRouteIs('posts.index');
$I-&gt;seeCurrentRouteIs('posts.show', ['id' =&gt; 8]);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $routeName</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $params</li> </ul> <h3 id="seecurrenttemplateis">seeCurrentTemplateIs</h3> <p>Asserts that the current template matches the expected template.</p> <pre data-language="php">&lt;?php
$I-&gt;seeCurrentTemplateIs('home.html.twig');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $expectedTemplate</li> </ul> <h3 id="seecurrenturlequals">seeCurrentUrlEquals</h3> <p>Checks that the current URL is equal to the given string. Unlike <code class="language-plaintext highlighter-rouge">seeInCurrentUrl</code>, this only matches the full URL.</p> <pre data-language="php">&lt;?php
// to match root url
$I-&gt;seeCurrentUrlEquals('/');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri</li> </ul> <h3 id="seecurrenturlmatches">seeCurrentUrlMatches</h3> <p>Checks that the current URL matches the given regular expression.</p> <pre data-language="php">&lt;?php
// to match root url
$I-&gt;seeCurrentUrlMatches('~^/users/(\d+)~');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri</li> </ul> <h3 id="seeelement">seeElement</h3> <p>Checks that the given element exists on the page and is visible. You can also specify expected attributes of this element.</p> <pre data-language="php">&lt;?php
$I-&gt;seeElement('.error');
$I-&gt;seeElement('//form/input[1]');
$I-&gt;seeElement('input', ['name' =&gt; 'login']);
$I-&gt;seeElement('input', ['value' =&gt; '123456']);

// strict locator in first arg, attributes in second
$I-&gt;seeElement(['css' =&gt; 'form input'], ['name' =&gt; 'login']);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $selector</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $attributes</li> </ul> <h3 id="seeemailissent">seeEmailIsSent</h3> <p>Checks if the given number of emails was sent (default <code class="language-plaintext highlighter-rouge">$expectedCount</code>: 1). The check is based on <code class="language-plaintext highlighter-rouge">\Symfony\Component\Mailer\EventListener\MessageLoggerListener</code>, which means: If your app performs a HTTP redirect after sending the email, you need to suppress it using <a href="symfony.html#stopFollowingRedirects">stopFollowingRedirects()</a> first. Starting with version 2.0.0, <code class="language-plaintext highlighter-rouge">codeception/module-symfony</code> requires your app to use <a href="https://symfony.com/doc/current/mailer.html">Symfony Mailer</a>. If your app still uses <a href="https://symfony.com/doc/current/email.html">Swift Mailer</a>, set your version constraint to <code class="language-plaintext highlighter-rouge">^1.6</code>.</p> <pre data-language="php">&lt;?php
$I-&gt;seeEmailIsSent(2);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $expectedCount The expected number of emails sent</li> </ul> <h3 id="seeeventtriggered">seeEventTriggered</h3> <p>Verifies that one or more event listeners were called during the test.</p> <pre data-language="php">&lt;?php
$I-&gt;seeEventTriggered('App\MyEvent');
$I-&gt;seeEventTriggered(new App\Events\MyEvent());
$I-&gt;seeEventTriggered(['App\MyEvent', 'App\MyOtherEvent']);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string|object|string[]</code> $expected</li> </ul> <h3 id="seeformerrormessage">seeFormErrorMessage</h3> <p>Verifies that a form field has an error. You can specify the expected error message as second parameter.</p> <pre data-language="php">&lt;?php
$I-&gt;seeFormErrorMessage('username');
$I-&gt;seeFormErrorMessage('username', 'Username is empty');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $field</li> <li>
<code class="language-plaintext highlighter-rouge">param string|null</code> $message</li> </ul> <h3 id="seeformerrormessages">seeFormErrorMessages</h3> <p>Verifies that multiple fields on a form have errors.</p> <p>If you only specify the name of the fields, this method will verify that the field contains at least one error of any type:</p> <pre data-language="php">&lt;?php
$I-&gt;seeFormErrorMessages(['telephone', 'address']);</pre> <p>If you want to specify the error messages, you can do so by sending an associative array instead, with the key being the name of the field and the error message the value.</p> <p>This method will validate that the expected error message is contained in the actual error message, that is, you can specify either the entire error message or just a part of it:</p> <pre data-language="php">&lt;?php
$I-&gt;seeFormErrorMessages([
    'address'   =&gt; 'The address is too long'
    'telephone' =&gt; 'too short', // the full error message is 'The telephone is too short'
]);</pre> <p>If you don’t want to specify the error message for some fields, you can pass <code class="language-plaintext highlighter-rouge">null</code> as value instead of the message string, or you can directly omit the value of that field. If that is the case, it will be validated that that field has at least one error of any type:</p> <pre data-language="php">&lt;?php
$I-&gt;seeFormErrorMessages([
    'telephone' =&gt; 'too short',
    'address'   =&gt; null,
    'postal code',
]);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string[]</code> $expectedErrors</li> </ul> <h3 id="seeformhaserrors">seeFormHasErrors</h3> <p>Verifies that there are one or more errors bound to the submitted form.</p> <pre data-language="php">&lt;?php
$I-&gt;seeFormHasErrors();</pre> <h3 id="seeincurrentroute">seeInCurrentRoute</h3> <p>Checks that current url matches route. Unlike seeCurrentRouteIs, this can matches without exact route parameters</p> <pre data-language="php">&lt;?php
$I-&gt;seeInCurrentRoute('my_blog_pages');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $routeName</li> </ul> <h3 id="seeincurrenturl">seeInCurrentUrl</h3> <p>Checks that current URI contains the given string.</p> <pre data-language="php">&lt;?php
// to match: /home/dashboard
$I-&gt;seeInCurrentUrl('home');
// to match: /users/1
$I-&gt;seeInCurrentUrl('/users/');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri</li> </ul> <h3 id="seeinfield">seeInField</h3> <p>Checks that the given input field or textarea <em>equals</em> (i.e. not just contains) the given value. Fields are matched by label text, the “name” attribute, CSS, or XPath.</p> <pre data-language="php">&lt;?php
$I-&gt;seeInField('Body','Type your comment here');
$I-&gt;seeInField('form textarea[name=body]','Type your comment here');
$I-&gt;seeInField('form input[type=hidden]','hidden_value');
$I-&gt;seeInField('#searchform input','Search');
$I-&gt;seeInField('//form/*[@name=search]','Search');
$I-&gt;seeInField(['name' =&gt; 'search'], 'Search');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $field</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $value</li> </ul> <h3 id="seeinformfields">seeInFormFields</h3> <p>Checks if the array of form parameters (name =&gt; value) are set on the form matched with the passed selector.</p> <pre data-language="php">&lt;?php
$I-&gt;seeInFormFields('form[name=myform]', [
     'input1' =&gt; 'value',
     'input2' =&gt; 'other value',
]);
?&gt;</pre> <p>For multi-select elements, or to check values of multiple elements with the same name, an array may be passed:</p> <pre data-language="php">&lt;?php
$I-&gt;seeInFormFields('.form-class', [
     'multiselect' =&gt; [
         'value1',
         'value2',
     ],
     'checkbox[]' =&gt; [
         'a checked value',
         'another checked value',
     ],
]);
?&gt;</pre> <p>Additionally, checkbox values can be checked with a boolean.</p> <pre data-language="php">&lt;?php
$I-&gt;seeInFormFields('#form-id', [
     'checkbox1' =&gt; true,        // passes if checked
     'checkbox2' =&gt; false,       // passes if unchecked
]);
?&gt;</pre> <p>Pair this with submitForm for quick testing magic.</p> <pre data-language="php">&lt;?php
$form = [
     'field1' =&gt; 'value',
     'field2' =&gt; 'another value',
     'checkbox1' =&gt; true,
     // ...
];
$I-&gt;submitForm('//form[@id=my-form]', $form, 'submitButton');
// $I-&gt;amOnPage('/path/to/form-page') may be needed
$I-&gt;seeInFormFields('//form[@id=my-form]', $form);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $formSelector</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $params</li> </ul> <h3 id="seeinsession">seeInSession</h3> <p>Assert that a session attribute exists.</p> <pre data-language="php">&lt;?php
$I-&gt;seeInSession('attribute');
$I-&gt;seeInSession('attribute', 'value');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $attribute</li> <li>
<code class="language-plaintext highlighter-rouge">param mixed|null</code> $value</li> </ul> <h3 id="seeinsource">seeInSource</h3> <p>Checks that the current page contains the given string in its raw source code.</p> <pre data-language="php">&lt;?php
$I-&gt;seeInSource('&lt;h1&gt;Green eggs &amp;amp; ham&lt;/h1&gt;');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $raw</li> </ul> <h3 id="seeintitle">seeInTitle</h3> <p>Checks that the page title contains the given string.</p> <pre data-language="php">&lt;?php
$I-&gt;seeInTitle('Blog - Post #1');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $title</li> </ul> <h3 id="seelink">seeLink</h3> <p>Checks that there’s a link with the specified text. Give a full URL as the second parameter to match links with that exact URL.</p> <pre data-language="php">&lt;?php
$I-&gt;seeLink('Logout'); // matches &lt;a href="#"&gt;Logout&lt;/a&gt;
$I-&gt;seeLink('Logout','/logout'); // matches &lt;a href="/logout.html"&gt;Logout&lt;/a&gt;
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $text</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $url optional</li> </ul> <h3 id="seenumrecords">seeNumRecords</h3> <p>Checks that number of given records were found in database. ‘id’ is the default search parameter.</p> <pre data-language="php">&lt;?php
$I-&gt;seeNumRecords(1, User::class, ['name' =&gt; 'davert']);
$I-&gt;seeNumRecords(80, User::class);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $expectedNum Expected number of records</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $className A doctrine entity</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $criteria Optional query criteria</li> </ul> <h3 id="seenumberofelements">seeNumberOfElements</h3> <p>Checks that there are a certain number of elements matched by the given locator on the page.</p> <pre data-language="php">&lt;?php
$I-&gt;seeNumberOfElements('tr', 10);
$I-&gt;seeNumberOfElements('tr', [0,10]); // between 0 and 10 elements
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $selector</li> <li>
<code class="language-plaintext highlighter-rouge">param mixed</code> $expected int or int[]</li> </ul> <h3 id="seeoptionisselected">seeOptionIsSelected</h3> <p>Checks that the given option is selected.</p> <pre data-language="php">&lt;?php
$I-&gt;seeOptionIsSelected('#form input[name=payment]', 'Visa');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $selector</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $optionText</li> </ul> <h3 id="seeorphanevent">seeOrphanEvent</h3> <p>Verifies that one or more orphan events were dispatched during the test.</p> <p>An orphan event is an event that was triggered by manually executing the <a href="https://symfony.com/doc/current/components/event_dispatcher.html#dispatch-the-event"><code class="language-plaintext highlighter-rouge">dispatch()</code></a> method of the EventDispatcher but was not handled by any listener after it was dispatched.</p> <pre data-language="php">&lt;?php
$I-&gt;seeOrphanEvent('App\MyEvent');
$I-&gt;seeOrphanEvent(new App\Events\MyEvent());
$I-&gt;seeOrphanEvent(['App\MyEvent', 'App\MyOtherEvent']);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string|object|string[]</code> $expected</li> </ul> <h3 id="seepageisavailable">seePageIsAvailable</h3> <p>Verifies that a page is available. By default it checks the current page, specify the <code class="language-plaintext highlighter-rouge">$url</code> parameter to change it.</p> <pre data-language="php">&lt;?php
$I-&gt;amOnPage('/dashboard');
$I-&gt;seePageIsAvailable();

$I-&gt;seePageIsAvailable('/dashboard'); // Same as above</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string|null</code> $url</li> </ul> <h3 id="seepagenotfound">seePageNotFound</h3> <p>Asserts that current page has 404 response status code.</p> <h3 id="seepageredirectsto">seePageRedirectsTo</h3> <p>Goes to a page and check that it redirects to another.</p> <pre data-language="php">&lt;?php
$I-&gt;seePageRedirectsTo('/admin', '/login');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $page</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $redirectsTo</li> </ul> <h3 id="seerememberedauthentication">seeRememberedAuthentication</h3> <p>Checks that a user is authenticated with the ‘remember me’ option.</p> <pre data-language="php">&lt;?php
$I-&gt;seeRememberedAuthentication();</pre> <h3 id="seerenderedtemplate">seeRenderedTemplate</h3> <p>Asserts that a template was rendered in the response. That includes templates built with <a href="https://twig.symfony.com/doc/3.x/templates.html#template-inheritance">inheritance</a>.</p> <pre data-language="php">&lt;?php
$I-&gt;seeRenderedTemplate('home.html.twig');
$I-&gt;seeRenderedTemplate('layout.html.twig');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $template</li> </ul> <h3 id="seerequesttimeislessthan">seeRequestTimeIsLessThan</h3> <p>Asserts that the time a request lasted is less than expected.</p> <p>If the page performed a HTTP redirect, only the time of the last request will be taken into account. You can modify this behavior using <a href="symfony.html#stopFollowingRedirects">stopFollowingRedirects()</a> first.</p> <p>Also, note that using code coverage can significantly increase the time it takes to resolve a request, which could lead to unreliable results when used together.</p> <p>It is recommended to set <a href="symfony.html#Config"><code class="language-plaintext highlighter-rouge">rebootable_client</code></a> to <code class="language-plaintext highlighter-rouge">true</code> (=default), cause otherwise this assertion gives false results if you access multiple pages in a row, or if your app performs a redirect.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param int|float</code> $expectedMilliseconds The expected time in milliseconds</li> </ul> <h3 id="seeresponsecodeis">seeResponseCodeIs</h3> <p>Checks that response code is equal to value provided.</p> <pre data-language="php">&lt;?php
$I-&gt;seeResponseCodeIs(200);

// recommended \Codeception\Util\HttpCode
$I-&gt;seeResponseCodeIs(\Codeception\Util\HttpCode::OK);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $code</li> </ul> <h3 id="seeresponsecodeisbetween">seeResponseCodeIsBetween</h3> <p>Checks that response code is between a certain range. Between actually means [from &lt;= CODE &lt;= to]</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $from</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $to</li> </ul> <h3 id="seeresponsecodeisclienterror">seeResponseCodeIsClientError</h3> <p>Checks that the response code is 4xx</p> <h3 id="seeresponsecodeisredirection">seeResponseCodeIsRedirection</h3> <p>Checks that the response code 3xx</p> <h3 id="seeresponsecodeisservererror">seeResponseCodeIsServerError</h3> <p>Checks that the response code is 5xx</p> <h3 id="seeresponsecodeissuccessful">seeResponseCodeIsSuccessful</h3> <p>Checks that the response code 2xx</p> <h3 id="seesessionhasvalues">seeSessionHasValues</h3> <p>Assert that the session has a given list of values.</p> <pre data-language="php">&lt;?php
$I-&gt;seeSessionHasValues(['key1', 'key2']);
$I-&gt;seeSessionHasValues(['key1' =&gt; 'value1', 'key2' =&gt; 'value2']);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $bindings</li> </ul> <h3 id="seeuserhasrole">seeUserHasRole</h3> <p>Check that the current user has a role</p> <pre data-language="php">&lt;?php
$I-&gt;seeUserHasRole('ROLE_ADMIN');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $role</li> </ul> <h3 id="seeuserhasroles">seeUserHasRoles</h3> <p>Verifies that the current user has multiple roles</p> <pre data-language="php">&lt;?php
$I-&gt;seeUserHasRoles(['ROLE_USER', 'ROLE_ADMIN']);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string[]</code> $roles</li> </ul> <h3 id="seeuserpassworddoesnotneedrehash">seeUserPasswordDoesNotNeedRehash</h3> <p>Checks that the user’s password would not benefit from rehashing. If the user is not provided it is taken from the current session.</p> <p>You might use this function after performing tasks like registering a user or submitting a password update form.</p> <pre data-language="php">&lt;?php
$I-&gt;seeUserPasswordDoesNotNeedRehash();
$I-&gt;seeUserPasswordDoesNotNeedRehash($user);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param UserInterface|null</code> $user</li> </ul> <h3 id="selectoption">selectOption</h3> <p>Selects an option in a select tag or in radio button group.</p> <pre data-language="php">&lt;?php
$I-&gt;selectOption('form select[name=account]', 'Premium');
$I-&gt;selectOption('form input[name=payment]', 'Monthly');
$I-&gt;selectOption('//form/select[@name=account]', 'Monthly');
?&gt;</pre> <p>Provide an array for the second argument to select multiple options:</p> <pre data-language="php">&lt;?php
$I-&gt;selectOption('Which OS do you use?', array('Windows','Linux'));
?&gt;</pre> <p>Or provide an associative array for the second argument to specifically define which selection method should be used:</p> <pre data-language="php">&lt;?php
$I-&gt;selectOption('Which OS do you use?', array('text' =&gt; 'Windows')); // Only search by text 'Windows'
$I-&gt;selectOption('Which OS do you use?', array('value' =&gt; 'windows')); // Only search by value 'windows'
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $select</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $option</li> </ul> <h3 id="sendajaxgetrequest">sendAjaxGetRequest</h3> <p>Sends an ajax GET request with the passed parameters. See <code class="language-plaintext highlighter-rouge">sendAjaxPostRequest()</code></p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $uri</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $params</li> </ul> <h3 id="sendajaxpostrequest">sendAjaxPostRequest</h3> <p>Sends an ajax POST request with the passed parameters. The appropriate HTTP header is added automatically: <code class="language-plaintext highlighter-rouge">X-Requested-With: XMLHttpRequest</code> Example:</p> <pre data-language="php">&lt;?php
$I-&gt;sendAjaxPostRequest('/add-task', ['task' =&gt; 'lorem ipsum']);</pre> <p>Some frameworks (e.g. Symfony) create field names in the form of an “array”: <code class="language-plaintext highlighter-rouge">&lt;input type="text" name="form[task]"&gt;</code> In this case you need to pass the fields like this:</p> <pre data-language="php">&lt;?php
$I-&gt;sendAjaxPostRequest('/add-task', ['form' =&gt; [
    'task' =&gt; 'lorem ipsum',
    'category' =&gt; 'miscellaneous',
]]);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $params</li> </ul> <h3 id="sendajaxrequest">sendAjaxRequest</h3> <p>Sends an ajax request, using the passed HTTP method. See <code class="language-plaintext highlighter-rouge">sendAjaxPostRequest()</code> Example:</p> <pre data-language="php">&lt;?php
$I-&gt;sendAjaxRequest('PUT', '/posts/7', ['title' =&gt; 'new title']);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $method</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $uri</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $params</li> </ul> <h3 id="setcookie">setCookie</h3> <p>Sets a cookie with the given name and value. You can set additional cookie params like <code class="language-plaintext highlighter-rouge">domain</code>, <code class="language-plaintext highlighter-rouge">path</code>, <code class="language-plaintext highlighter-rouge">expires</code>, <code class="language-plaintext highlighter-rouge">secure</code> in array passed as last argument.</p> <pre data-language="php">&lt;?php
$I-&gt;setCookie('PHPSESSID', 'el4ukv0kqbvoirg7nkp4dncpk3');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $name</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $val</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $params</li> </ul> <h3 id="setmaxredirects">setMaxRedirects</h3> <p>Sets the maximum number of redirects that the Client can follow.</p> <pre data-language="php">&lt;?php
$I-&gt;setMaxRedirects(2);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $maxRedirects</li> </ul> <h3 id="setserverparameters">setServerParameters</h3> <p>Sets SERVER parameters valid for all next requests. this will remove old ones.</p> <pre data-language="php">$I-&gt;setServerParameters([]);</pre> <h3 id="startfollowingredirects">startFollowingRedirects</h3> <p>Enables automatic redirects to be followed by the client.</p> <pre data-language="php">&lt;?php
$I-&gt;startFollowingRedirects();</pre> <h3 id="stopfollowingredirects">stopFollowingRedirects</h3> <p>Prevents automatic redirects to be followed by the client.</p> <pre data-language="php">&lt;?php
$I-&gt;stopFollowingRedirects();</pre> <h3 id="submitform">submitForm</h3> <p>Submits the given form on the page, with the given form values. Pass the form field’s values as an array in the second parameter.</p> <p>Although this function can be used as a short-hand version of <code class="language-plaintext highlighter-rouge">fillField()</code>, <code class="language-plaintext highlighter-rouge">selectOption()</code>, <code class="language-plaintext highlighter-rouge">click()</code> etc. it has some important differences:</p> <ul> <li>Only field <em>names</em> may be used, not CSS/XPath selectors nor field labels</li> <li>If a field is sent to this function that does <em>not</em> exist on the page, it will silently be added to the HTTP request. This is helpful for testing some types of forms, but be aware that you will <em>not</em> get an exception like you would if you called <code class="language-plaintext highlighter-rouge">fillField()</code> or <code class="language-plaintext highlighter-rouge">selectOption()</code> with a missing field.</li> </ul> <p>Fields that are not provided will be filled by their values from the page, or from any previous calls to <code class="language-plaintext highlighter-rouge">fillField()</code>, <code class="language-plaintext highlighter-rouge">selectOption()</code> etc. You don’t need to click the ‘Submit’ button afterwards. This command itself triggers the request to form’s action.</p> <p>You can optionally specify which button’s value to include in the request with the last parameter (as an alternative to explicitly setting its value in the second parameter), as button values are not otherwise included in the request.</p> <p>Examples:</p> <pre data-language="php">&lt;?php
$I-&gt;submitForm('#login', [
    'login' =&gt; 'davert',
    'password' =&gt; '123456'
]);
// or
$I-&gt;submitForm('#login', [
    'login' =&gt; 'davert',
    'password' =&gt; '123456'
], 'submitButtonName');</pre> <p>For example, given this sample “Sign Up” form:</p> <pre data-language="html">&lt;form id="userForm"&gt;
    Login:
    &lt;input type="text" name="user[login]" /&gt;&lt;br/&gt;
    Password:
    &lt;input type="password" name="user[password]" /&gt;&lt;br/&gt;
    Do you agree to our terms?
    &lt;input type="checkbox" name="user[agree]" /&gt;&lt;br/&gt;
    Subscribe to our newsletter?
    &lt;input type="checkbox" name="user[newsletter]" value="1" checked="checked" /&gt;&lt;br/&gt;
    Select pricing plan:
    &lt;select name="plan"&gt;
        &lt;option value="1"&gt;Free&lt;/option&gt;
        &lt;option value="2" selected="selected"&gt;Paid&lt;/option&gt;
    &lt;/select&gt;
    &lt;input type="submit" name="submitButton" value="Submit" /&gt;
&lt;/form&gt;</pre> <p>You could write the following to submit it:</p> <pre data-language="php">&lt;?php
$I-&gt;submitForm(
    '#userForm',
    [
        'user' =&gt; [
            'login' =&gt; 'Davert',
            'password' =&gt; '123456',
            'agree' =&gt; true
        ]
    ],
    'submitButton'
);</pre> <p>Note that “2” will be the submitted value for the “plan” field, as it is the selected option.</p> <p>To uncheck the pre-checked checkbox “newsletter”, call <code class="language-plaintext highlighter-rouge">$I-&gt;uncheckOption(['name' =&gt; 'user[newsletter]']);</code> <em>before</em>, then submit the form as shown here (i.e. without the “newsletter” field in the <code class="language-plaintext highlighter-rouge">$params</code> array).</p> <p>You can also emulate a JavaScript submission by not specifying any buttons in the third parameter to submitForm.</p> <pre data-language="php">&lt;?php
$I-&gt;submitForm(
    '#userForm',
    [
        'user' =&gt; [
            'login' =&gt; 'Davert',
            'password' =&gt; '123456',
            'agree' =&gt; true
        ]
    ]
);</pre> <p>This function works well when paired with <code class="language-plaintext highlighter-rouge">seeInFormFields()</code> for quickly testing CRUD interfaces and form validation logic.</p> <pre data-language="php">&lt;?php
$form = [
     'field1' =&gt; 'value',
     'field2' =&gt; 'another value',
     'checkbox1' =&gt; true,
     // ...
];
$I-&gt;submitForm('#my-form', $form, 'submitButton');
// $I-&gt;amOnPage('/path/to/form-page') may be needed
$I-&gt;seeInFormFields('#my-form', $form);</pre> <p>Parameter values can be set to arrays for multiple input fields of the same name, or multi-select combo boxes. For checkboxes, you can use either the string value or boolean <code class="language-plaintext highlighter-rouge">true</code>/<code class="language-plaintext highlighter-rouge">false</code> which will be replaced by the checkbox’s value in the DOM.</p> <pre data-language="php">&lt;?php
$I-&gt;submitForm('#my-form', [
     'field1' =&gt; 'value',
     'checkbox' =&gt; [
         'value of first checkbox',
         'value of second checkbox',
     ],
     'otherCheckboxes' =&gt; [
         true,
         false,
         false
     ],
     'multiselect' =&gt; [
         'first option value',
         'second option value'
     ]
]);</pre> <p>Mixing string and boolean values for a checkbox’s value is not supported and may produce unexpected results.</p> <p>Field names ending in <code class="language-plaintext highlighter-rouge">[]</code> must be passed without the trailing square bracket characters, and must contain an array for its value. This allows submitting multiple values with the same name, consider:</p> <pre data-language="php">&lt;?php
// This will NOT work correctly
$I-&gt;submitForm('#my-form', [
    'field[]' =&gt; 'value',
    'field[]' =&gt; 'another value',  // 'field[]' is already a defined key
]);</pre> <p>The solution is to pass an array value:</p> <pre data-language="php">&lt;?php
// This way both values are submitted
$I-&gt;submitForm('#my-form', [
    'field' =&gt; [
        'value',
        'another value',
    ]
]);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $selector</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $params</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $button</li> </ul> <h3 id="submitsymfonyform">submitSymfonyForm</h3> <p>Submit a form specifying the form name only once.</p> <p>Use this function instead of <a href="#submitForm"><code class="language-plaintext highlighter-rouge">$I-&gt;submitForm()</code></a> to avoid repeating the form name in the field selectors. If you customized the names of the field selectors use <code class="language-plaintext highlighter-rouge">$I-&gt;submitForm()</code> for full control.</p> <pre data-language="php">&lt;?php
$I-&gt;submitSymfonyForm('login_form', [
    '[email]'    =&gt; 'john_doe@example.com',
    '[password]' =&gt; 'secretForest'
]);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $name The <code class="language-plaintext highlighter-rouge">name</code> attribute of the <code class="language-plaintext highlighter-rouge">&lt;form&gt;</code> (you cannot use an array as selector here)</li> <li>
<code class="language-plaintext highlighter-rouge">param string[]</code> $fields</li> </ul> <h3 id="switchtoiframe">switchToIframe</h3> <p>Switch to iframe or frame on the page.</p> <p>Example:</p> <pre data-language="html">&lt;iframe name="another_frame" src="http://example.com"&gt;</pre> <pre data-language="php">&lt;?php
# switch to iframe
$I-&gt;switchToIframe("another_frame");</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $name</li> </ul> <h3 id="uncheckoption">uncheckOption</h3> <p>Unticks a checkbox.</p> <pre data-language="php">&lt;?php
$I-&gt;uncheckOption('#notify');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $option</li> </ul> <h3 id="unpersistservice">unpersistService</h3> <p>Remove service $serviceName from the lists of persistent services.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">[Part]</code> services</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $serviceName</li> </ul> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2011 Michael Bodnarchuk and contributors<br>Licensed under the MIT License.<br>
    <a href="https://codeception.com/docs/modules/Symfony" class="_attribution-link">https://codeception.com/docs/modules/Symfony</a>
  </p>
</div>
