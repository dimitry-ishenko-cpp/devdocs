<h1 id="webdriver">WebDriver</h1> <h2 id="installation">Installation</h2> <p>If you use Codeception installed using composer, install this module with the following command:</p> <pre data-language="yaml">composer require --dev codeception/module-webdriver</pre> <p>Alternatively, you can enable <code class="language-plaintext highlighter-rouge">WebDriver</code> module in suite configuration file and run</p> <pre data-language="yaml">codecept init upgrade4</pre> <p>This module was bundled with Codeception 2 and 3, but since version 4 it is necessary to install it separately. <br> Some modules are bundled with PHAR files.<br> Warning. Using PHAR file and composer in the same project can cause unexpected errors.</p> <h2 id="description">Description</h2> <p>Run tests in real browsers using the W3C <a href="https://www.w3.org/TR/webdriver/">WebDriver protocol</a>. There are multiple ways of running browser tests using WebDriver:</p> <h2 id="selenium-recommended">Selenium (Recommended)</h2> <ul> <li>Java is required</li> <li>NodeJS is required</li> </ul> <p>The fastest way to get started is to <a href="https://www.npmjs.com/package/selenium-standalone">Install and launch Selenium using selenium-standalone NodeJS package</a>.</p> <p>Launch selenium standalone in separate console window:</p> <pre data-language="yaml">selenium-standalone start</pre> <p>Update configuration in <code class="language-plaintext highlighter-rouge">acceptance.suite.yml</code>:</p> <pre data-language="yaml">modules:
   enabled:
      - WebDriver:
         url: 'http://localhost/'
         browser: chrome # 'chrome' or 'firefox'</pre> <h2 id="headless-chrome-browser">Headless Chrome Browser</h2> <p>To enable headless mode (launch tests without showing a window) for Chrome browser using Selenium use this config in <code class="language-plaintext highlighter-rouge">acceptance.suite.yml</code>:</p> <pre data-language="yaml">modules:
   enabled:
      - WebDriver:
         url: 'http://localhost/'
         browser: chrome
           capabilities:
             chromeOptions:
               args: ["--headless", "--disable-gpu"]</pre> <h2 id="headless-selenium-in-docker">Headless Selenium in Docker</h2> <p>Docker can ship Selenium Server with all its dependencies and browsers inside a single container. Running tests inside Docker is as easy as pulling <a href="https://github.com/SeleniumHQ/docker-selenium">official selenium image</a> and starting a container with Chrome:</p> <pre data-language="yaml">docker run --net=host selenium/standalone-chrome</pre> <p>By using <code class="language-plaintext highlighter-rouge">--net=host</code> allow Selenium to access local websites.</p> <h2 id="local-chrome-andor-firefox">Local Chrome and/or Firefox</h2> <p>Tests can be executed directly throgh ChromeDriver or GeckoDriver (for Firefox). Consider using this option if you don’t plan to use Selenium.</p> <h3 id="chromedriver">ChromeDriver</h3> <ul> <li>Download and install <a href="https://sites.google.com/chromium.org/driver/downloads?authuser=0">ChromeDriver</a>
</li> <li>Launch ChromeDriver in a separate console window: <code class="language-plaintext highlighter-rouge">chromedriver --url-base=/wd/hub</code>.</li> </ul> <p>Configuration in <code class="language-plaintext highlighter-rouge">acceptance.suite.yml</code>:</p> <pre data-language="yaml">modules:
   enabled:
      - WebDriver:
         url: 'http://localhost/'
         window_size: false # disabled in ChromeDriver
         port: 9515
         browser: chrome
         capabilities:
             chromeOptions:
                 args: ["--headless", "--disable-gpu"] # Run Chrome in headless mode
                 prefs:
                     download.default_directory: "..."</pre> <p>See here for additional <a href="https://sites.google.com/a/chromium.org/chromedriver/capabilities">Chrome options</a></p> <h3 id="geckodriver">GeckoDriver</h3> <ul> <li>[GeckoDriver])(https://github.com/mozilla/geckodriver/releases) must be installed</li> <li>Start GeckoDriver in a separate console window: <code class="language-plaintext highlighter-rouge">geckodriver</code>.</li> </ul> <p>Configuration in <code class="language-plaintext highlighter-rouge">acceptance.suite.yml</code>:</p> <pre data-language="yaml">modules:
   enabled:
      - WebDriver:
         url: 'http://localhost/'
         browser: firefox
         path: ''
         capabilities:
             acceptInsecureCerts: true # allow self-signed certificates
             moz:firefoxOptions:
                 args: ["-headless"] # Run Firefox in headless mode
                 prefs:
                     intl.accept_languages: "de-AT" # Set HTTP-Header `Accept-Language: de-AT` for requests</pre> <p>See here for <a href="https://developer.mozilla.org/en-US/docs/Web/WebDriver/Capabilities#List_of_capabilities">Firefox capabilities</a></p> <h2 id="cloud-testing">Cloud Testing</h2> <p>Cloud Testing services can run your WebDriver tests in the cloud. In case you want to test a local site or site behind a firewall you should use a tunnel application provided by a service.</p> <h3 id="saucelabs">SauceLabs</h3> <ol> <li>Create an account at <a href="http://SauceLabs.com">SauceLabs.com</a> to get your username and access key</li> <li>In the module configuration use the format <code class="language-plaintext highlighter-rouge">username</code>:<code class="language-plaintext highlighter-rouge">access_key</code>@ondemand.saucelabs.com’ for <code class="language-plaintext highlighter-rouge">host</code>
</li> <li>Configure <code class="language-plaintext highlighter-rouge">platform</code> under <code class="language-plaintext highlighter-rouge">capabilities</code> to define the <a href="https://docs.saucelabs.com/reference/platforms-configurator/#/">Operating System</a>
</li> <li>run a tunnel app if your site can’t be accessed from Internet</li> </ol> <pre data-language="yaml">    modules:
       enabled:
          - WebDriver:
             url: http://mysite.com
             host: '&lt;username&gt;:&lt;access key&gt;@ondemand.saucelabs.com'
             port: 80
             browser: chrome
             capabilities:
                 platform: 'Windows 10'</pre> <h3 id="browserstack">BrowserStack</h3> <ol> <li>Create an account at <a href="https://www.browserstack.com/">BrowserStack</a> to get your username and access key</li> <li>In the module configuration use the format <code class="language-plaintext highlighter-rouge">username</code>:<code class="language-plaintext highlighter-rouge">access_key</code>@hub.browserstack.com’ for <code class="language-plaintext highlighter-rouge">host</code>
</li> <li>Configure <code class="language-plaintext highlighter-rouge">os</code> and <code class="language-plaintext highlighter-rouge">os_version</code> under <code class="language-plaintext highlighter-rouge">capabilities</code> to define the operating System</li> <li>If your site is available only locally or via VPN you should use a tunnel app. In this case add <code class="language-plaintext highlighter-rouge">browserstack.local</code> capability and set it to true.</li> </ol> <pre data-language="yaml">    modules:
       enabled:
          - WebDriver:
             url: http://mysite.com
             host: '&lt;username&gt;:&lt;access key&gt;@hub.browserstack.com'
             port: 80
             browser: chrome
             capabilities:
                 os: Windows
                 os_version: 10
                 browserstack.local: true # for local testing</pre> <h3 id="lambdatest">LambdaTest</h3> <ol> <li>Create an account at <a href="https://www.lambdatest.com/">LambdaTest</a> to get your username and access key</li> <li>In the module configuration use the format <code class="language-plaintext highlighter-rouge">username</code>:<code class="language-plaintext highlighter-rouge">access key</code>@hub.lambdatest.com’ for <code class="language-plaintext highlighter-rouge">host</code>
</li> <li>Configure <code class="language-plaintext highlighter-rouge">os</code> and <code class="language-plaintext highlighter-rouge">os_version</code> under <code class="language-plaintext highlighter-rouge">capabilities</code> to define the operating System</li> <li>If your site is available only locally or via VPN you should use a tunnel app. In this case add capabilities.setCapability(“tunnel”,true);.</li> </ol> <pre data-language="yaml">   modules:
 enabled:
   - WebDriver:
      url: http://mysite.com
      host: '&lt;username&gt;:&lt;access key&gt;@hub.lambdatest.com'
      build: &lt;your build name&gt;
      name: &lt;your test name&gt;
      port: 80
      browser: chrome
      capabilities:
          os: Windows
          os_version: 10
          browser_version: 86
          resolution: 1366x768
          tunnel: true # for local testing</pre> <h3 id="testingbot">TestingBot</h3> <ol> <li>Create an account at <a href="https://testingbot.com/">TestingBot</a> to get your key and secret</li> <li>In the module configuration use the format <code class="language-plaintext highlighter-rouge">key</code>:<code class="language-plaintext highlighter-rouge">secret</code>@hub.testingbot.com’ for <code class="language-plaintext highlighter-rouge">host</code>
</li> <li>Configure <code class="language-plaintext highlighter-rouge">platform</code> under <code class="language-plaintext highlighter-rouge">capabilities</code> to define the <a href="https://testingbot.com/support/getting-started/browsers.html">Operating System</a>
</li> <li>Run <a href="https://testingbot.com/support/other/tunnel">TestingBot Tunnel</a> if your site can’t be accessed from Internet</li> </ol> <pre data-language="yaml">    modules:
       enabled:
          - WebDriver:
             url: http://mysite.com
             host: '&lt;key&gt;:&lt;secret&gt;@hub.testingbot.com'
             port: 80
             browser: chrome
             capabilities:
                 platform: Windows 10</pre> <h2 id="configuration">Configuration</h2> <ul> <li>
<code class="language-plaintext highlighter-rouge">url</code> <em>required</em> - Base URL for your app (amOnPage opens URLs relative to this setting).</li> <li>
<code class="language-plaintext highlighter-rouge">browser</code> <em>required</em> - Browser to launch.</li> <li>
<code class="language-plaintext highlighter-rouge">host</code> - Selenium server host (127.0.0.1 by default).</li> <li>
<code class="language-plaintext highlighter-rouge">port</code> - Selenium server port (4444 by default).</li> <li>
<code class="language-plaintext highlighter-rouge">restart</code> - Set to <code class="language-plaintext highlighter-rouge">false</code> (default) to use the same browser window for all tests, or set to <code class="language-plaintext highlighter-rouge">true</code> to create a new window for each test. In any case, when all tests are finished the browser window is closed.</li> <li>
<code class="language-plaintext highlighter-rouge">start</code> - Autostart a browser for tests. Can be disabled if browser session is started with <code class="language-plaintext highlighter-rouge">_initializeSession</code> inside a Helper.</li> <li>
<code class="language-plaintext highlighter-rouge">window_size</code> - Initial window size. Set to <code class="language-plaintext highlighter-rouge">maximize</code> or a dimension in the format <code class="language-plaintext highlighter-rouge">640x480</code>.</li> <li>
<code class="language-plaintext highlighter-rouge">clear_cookies</code> - Set to false to keep cookies, or set to true (default) to delete all cookies between tests.</li> <li>
<code class="language-plaintext highlighter-rouge">wait</code> (default: 0 seconds) - Whenever element is required and is not on page, wait for n seconds to find it before fail.</li> <li>
<code class="language-plaintext highlighter-rouge">capabilities</code> - Sets Selenium <a href="https://github.com/SeleniumHQ/selenium/wiki/DesiredCapabilities">desired capabilities</a>. Should be a key-value array.</li> <li>
<code class="language-plaintext highlighter-rouge">connection_timeout</code> - timeout for opening a connection to remote selenium server (30 seconds by default).</li> <li>
<code class="language-plaintext highlighter-rouge">request_timeout</code> - timeout for a request to return something from remote selenium server (30 seconds by default).</li> <li>
<code class="language-plaintext highlighter-rouge">pageload_timeout</code> - amount of time to wait for a page load to complete before throwing an error (default 0 seconds).</li> <li>
<code class="language-plaintext highlighter-rouge">http_proxy</code> - sets http proxy server url for testing a remote server.</li> <li>
<code class="language-plaintext highlighter-rouge">http_proxy_port</code> - sets http proxy server port</li> <li>
<code class="language-plaintext highlighter-rouge">ssl_proxy</code> - sets ssl(https) proxy server url for testing a remote server.</li> <li>
<code class="language-plaintext highlighter-rouge">ssl_proxy_port</code> - sets ssl(https) proxy server port</li> <li>
<code class="language-plaintext highlighter-rouge">debug_log_entries</code> - how many selenium entries to print with <code class="language-plaintext highlighter-rouge">debugWebDriverLogs</code> or on fail (0 by default).</li> <li>
<code class="language-plaintext highlighter-rouge">log_js_errors</code> - Set to true to include possible JavaScript to HTML report, or set to false (default) to deactivate.</li> <li>
<code class="language-plaintext highlighter-rouge">webdriver_proxy</code> - sets http proxy to tunnel requests to the remote Selenium WebDriver through</li> <li>
<code class="language-plaintext highlighter-rouge">webdriver_proxy_port</code> - sets http proxy server port to tunnel requests to the remote Selenium WebDriver through</li> </ul> <p>Example (<code class="language-plaintext highlighter-rouge">acceptance.suite.yml</code>)</p> <pre data-language="yaml">    modules:
       enabled:
          - WebDriver:
             url: 'http://localhost/'
             browser: firefox
             window_size: 1024x768
             capabilities:
                 unexpectedAlertBehaviour: 'accept'
                 firefox_profile: '~/firefox-profiles/codeception-profile.zip.b64'</pre> <h2 id="loading-parts-from-other-modules">Loading Parts from other Modules</h2> <p>While all Codeception modules are designed to work stand-alone, it’s still possible to load <em>several</em> modules at once. To use e.g. the <a href="asserts.html">Asserts module</a> in your acceptance tests, just load it like this in your <code class="language-plaintext highlighter-rouge">acceptance.suite.yml</code>:</p> <pre data-language="yaml">modules:
    enabled:
        - WebDriver
        - Asserts</pre> <p>However, when loading a framework module (e.g. <a href="symfony.html">Symfony</a>) like this, it would lead to a conflict: When you call <code class="language-plaintext highlighter-rouge">$I-&gt;amOnPage()</code>, Codeception wouldn’t know if you want to access the page using WebDriver’s <code class="language-plaintext highlighter-rouge">amOnPage()</code>, or Symfony’s <code class="language-plaintext highlighter-rouge">amOnPage()</code>. That’s why possibly conflicting modules are separated into “parts”. Here’s how to load just the “services” part from e.g. Symfony:</p> <pre data-language="yaml">modules:
    enabled:
        - WebDriver
        - Symfony:
            part: services</pre> <p>To find out which parts each module has, look at the “Parts” header on the module’s page.</p> <h2 id="usage">Usage</h2> <h3 id="locating-elements">Locating Elements</h3> <p>Most methods in this module that operate on a DOM element (e.g. <code class="language-plaintext highlighter-rouge">click</code>) accept a locator as the first argument, which can be either a string or an array.</p> <p>If the locator is an array, it should have a single element, with the key signifying the locator type (<code class="language-plaintext highlighter-rouge">id</code>, <code class="language-plaintext highlighter-rouge">name</code>, <code class="language-plaintext highlighter-rouge">css</code>, <code class="language-plaintext highlighter-rouge">xpath</code>, <code class="language-plaintext highlighter-rouge">link</code>, or <code class="language-plaintext highlighter-rouge">class</code>) and the value being the locator itself. This is called a “strict” locator. Examples:</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">['id' =&gt; 'foo']</code> matches <code class="language-plaintext highlighter-rouge">&lt;div id="foo"&gt;</code>
</li> <li>
<code class="language-plaintext highlighter-rouge">['name' =&gt; 'foo']</code> matches <code class="language-plaintext highlighter-rouge">&lt;div name="foo"&gt;</code>
</li> <li>
<code class="language-plaintext highlighter-rouge">['css' =&gt; 'input[type=input][value=foo]']</code> matches <code class="language-plaintext highlighter-rouge">&lt;input type="input" value="foo"&gt;</code>
</li> <li>
<code class="language-plaintext highlighter-rouge">['xpath' =&gt; "//input[@type='submit'][contains(@value, 'foo')]"]</code> matches <code class="language-plaintext highlighter-rouge">&lt;input type="submit" value="foobar"&gt;</code>
</li> <li>
<code class="language-plaintext highlighter-rouge">['link' =&gt; 'Click here']</code> matches <code class="language-plaintext highlighter-rouge">&lt;a href="google.com.html"&gt;Click here&lt;/a&gt;</code>
</li> <li>
<code class="language-plaintext highlighter-rouge">['class' =&gt; 'foo']</code> matches <code class="language-plaintext highlighter-rouge">&lt;div class="foo"&gt;</code>
</li> </ul> <p>Writing good locators can be tricky. The Mozilla team has written an excellent guide titled <a href="https://blog.mozilla.org/webqa/2013/09/26/writing-reliable-locators-for-selenium-and-webdriver-tests/">Writing reliable locators for Selenium and WebDriver tests</a>.</p> <p>If you prefer, you may also pass a string for the locator. This is called a “fuzzy” locator. In this case, Codeception uses a a variety of heuristics (depending on the exact method called) to determine what element you’re referring to. For example, here’s the heuristic used for the <code class="language-plaintext highlighter-rouge">submitForm</code> method:</p> <ol> <li>Does the locator look like an ID selector (e.g. “#foo”)? If so, try to find a form matching that ID.</li> <li>If nothing found, check if locator looks like a CSS selector. If so, run it.</li> <li>If nothing found, check if locator looks like an XPath expression. If so, run it.</li> <li>Throw an <code class="language-plaintext highlighter-rouge">ElementNotFound</code> exception.</li> </ol> <p>Be warned that fuzzy locators can be significantly slower than strict locators. Especially if you use Selenium WebDriver with <code class="language-plaintext highlighter-rouge">wait</code> (aka implicit wait) option. In the example above if you set <code class="language-plaintext highlighter-rouge">wait</code> to 5 seconds and use XPath string as fuzzy locator, <code class="language-plaintext highlighter-rouge">submitForm</code> method will wait for 5 seconds at each step. That means 5 seconds finding the form by ID, another 5 seconds finding by CSS until it finally tries to find the form by XPath). If speed is a concern, it’s recommended you stick with explicitly specifying the locator type via the array syntax.</p> <h3 id="get-scenario-metadata">Get Scenario Metadata</h3> <p>You can inject <code class="language-plaintext highlighter-rouge">\Codeception\Scenario</code> into your test to get information about the current configuration:</p> <pre data-language="php">use Codeception\Scenario
public function myTest(AcceptanceTester $I, Scenario $scenario)
{
    if ('firefox' === $scenario-&gt;current('browser')) {
        // ...
    }
}</pre> <p>See <a href="../07-advancedusage.html#Get-Scenario-Metadata">Get Scenario Metadata</a> for more information on <code class="language-plaintext highlighter-rouge">$scenario</code>.</p> <h2 id="public-properties">Public Properties</h2> <ul> <li>
<code class="language-plaintext highlighter-rouge">webDriver</code> - instance of <code class="language-plaintext highlighter-rouge">\Facebook\WebDriver\Remote\RemoteWebDriver</code>. Can be accessed from Helper classes for complex WebDriver interactions.</li> </ul> <pre data-language="php">// inside Helper class
$this-&gt;getModule('WebDriver')-&gt;webDriver-&gt;getKeyboard()-&gt;sendKeys('hello, webdriver');</pre> <h2 id="actions">Actions</h2> <h3 id="_backupsession">_backupSession</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Returns current WebDriver session for saving</p> <ul> <li><code class="language-plaintext highlighter-rouge">return RemoteWebDriver</code></li> </ul> <h3 id="_capabilities">_capabilities</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Change capabilities of WebDriver. Should be executed before starting a new browser session. This method expects a function to be passed which returns array or <a href="https://github.com/php-webdriver/php-webdriver/blob/main/lib/Remote/DesiredCapabilities.php">WebDriver Desired Capabilities</a> object. Additional <a href="https://github.com/php-webdriver/php-webdriver/wiki/ChromeOptions">Chrome options</a> (like adding extensions) can be passed as well.</p> <pre data-language="php">&lt;?php // in helper
public function _before(TestInterface $test)
{
    $this-&gt;getModule('WebDriver')-&gt;_capabilities(function($currentCapabilities) {
        // or new \Facebook\WebDriver\Remote\DesiredCapabilities();
        return \Facebook\WebDriver\Remote\DesiredCapabilities::firefox();
    });
}</pre> <p>to make this work load <code class="language-plaintext highlighter-rouge">\Helper\Acceptance</code> before <code class="language-plaintext highlighter-rouge">WebDriver</code> in <code class="language-plaintext highlighter-rouge">acceptance.suite.yml</code>:</p> <pre data-language="yaml">modules:
    enabled:
        - \Helper\Acceptance
        - WebDriver</pre> <p>For instance, <a href="https://www.browserstack.com/automate/capabilities"><strong>BrowserStack</strong> cloud service</a> may require a test name to be set in capabilities. This is how it can be done via <code class="language-plaintext highlighter-rouge">_capabilities</code> method from <code class="language-plaintext highlighter-rouge">Helper\Acceptance</code>:</p> <pre data-language="php">&lt;?php // inside Helper\Acceptance
public function _before(TestInterface $test)
{
     $name = $test-&gt;getMetadata()-&gt;getName();
     $this-&gt;getModule('WebDriver')-&gt;_capabilities(function($currentCapabilities) use ($name) {
         $currentCapabilities['name'] = $name;
         return $currentCapabilities;
     });
}</pre> <p>In this case, please ensure that <code class="language-plaintext highlighter-rouge">\Helper\Acceptance</code> is loaded before WebDriver so new capabilities could be applied.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param \Closure</code> $capabilityFunction</li> </ul> <h3 id="_closesession">_closeSession</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Manually closes current WebDriver session.</p> <pre data-language="php">&lt;?php
$this-&gt;getModule('WebDriver')-&gt;_closeSession();

// close a specific session
$webDriver = $this-&gt;getModule('WebDriver')-&gt;webDriver;
$this-&gt;getModule('WebDriver')-&gt;_closeSession($webDriver);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $webDriver (optional) a specific webdriver session instance</li> </ul> <h3 id="_findclickable">_findClickable</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Locates a clickable element.</p> <p>Use it in Helpers or GroupObject or Extension classes:</p> <pre data-language="php">&lt;?php
$module = $this-&gt;getModule('WebDriver');
$page = $module-&gt;webDriver;

// search a link or button on a page
$el = $module-&gt;_findClickable($page, 'Click Me');

// search a link or button within an element
$topBar = $module-&gt;_findElements('.top-bar')[0];
$el = $module-&gt;_findClickable($topBar, 'Click Me');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param RemoteWebDriver</code> $page WebDriver instance or an element to search within</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $link a link text or locator to click</li> <li><code class="language-plaintext highlighter-rouge">return WebDriverElement</code></li> </ul> <h3 id="_findelements">_findElements</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Locates element using available Codeception locator types:</p> <ul> <li>XPath</li> <li>CSS</li> <li>Strict Locator</li> </ul> <p>Use it in Helpers or GroupObject or Extension classes:</p> <pre data-language="php">&lt;?php
$els = $this-&gt;getModule('WebDriver')-&gt;_findElements('.items');
$els = $this-&gt;getModule('WebDriver')-&gt;_findElements(['name' =&gt; 'username']);

$editLinks = $this-&gt;getModule('WebDriver')-&gt;_findElements(['link' =&gt; 'Edit']);
// now you can iterate over $editLinks and check that all them have valid hrefs</pre> <p>WebDriver module returns <code class="language-plaintext highlighter-rouge">Facebook\WebDriver\Remote\RemoteWebElement</code> instances PhpBrowser and Framework modules return <code class="language-plaintext highlighter-rouge">Symfony\Component\DomCrawler\Crawler</code> instances</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $locator</li> <li>
<code class="language-plaintext highlighter-rouge">return array</code> of interactive elements</li> </ul> <h3 id="_getcurrenturi">_getCurrentUri</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Uri of currently opened page.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">return string</code> @throws ModuleException</li> </ul> <h3 id="_geturl">_getUrl</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Returns URL of a host.</p> <p>@throws ModuleConfigException</p> <h3 id="_initializesession">_initializeSession</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Manually starts a new browser session.</p> <pre data-language="php">&lt;?php
$this-&gt;getModule('WebDriver')-&gt;_initializeSession();</pre> <h3 id="_loadsession">_loadSession</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Loads current RemoteWebDriver instance as a session</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param RemoteWebDriver</code> $session</li> </ul> <h3 id="_restart">_restart</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Restarts a web browser. Can be used with <code class="language-plaintext highlighter-rouge">_reconfigure</code> to open browser with different configuration</p> <pre data-language="php">&lt;?php
// inside a Helper
$this-&gt;getModule('WebDriver')-&gt;_restart(); // just restart
$this-&gt;getModule('WebDriver')-&gt;_restart(['browser' =&gt; $browser]); // reconfigure + restart</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $config</li> </ul> <h3 id="_savepagesource">_savePageSource</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Saves HTML source of a page to a file</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $filename</li> </ul> <h3 id="_savescreenshot">_saveScreenshot</h3> <p><em>hidden API method, expected to be used from Helper classes</em></p> <p>Saves screenshot of current page to a file</p> <pre data-language="php">$this-&gt;getModule('WebDriver')-&gt;_saveScreenshot(codecept_output_dir().'screenshot_1.png');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $filename</li> </ul> <h3 id="acceptpopup">acceptPopup</h3> <p>Accepts the active JavaScript native popup window, as created by <code class="language-plaintext highlighter-rouge">window.alert</code>|<code class="language-plaintext highlighter-rouge">window.confirm</code>|<code class="language-plaintext highlighter-rouge">window.prompt</code>. Don’t confuse popups with modal windows, as created by <a href="http://jster.net/category/windows-modals-popups">various libraries</a>.</p> <h3 id="amonpage">amOnPage</h3> <p>Opens the page for the given relative URI.</p> <pre data-language="php">&lt;?php
// opens front page
$I-&gt;amOnPage('/');
// opens /register page
$I-&gt;amOnPage('/register');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $page</li> </ul> <h3 id="amonsubdomain">amOnSubdomain</h3> <p>Changes the subdomain for the ‘url’ configuration parameter. Does not open a page; use <code class="language-plaintext highlighter-rouge">amOnPage</code> for that.</p> <pre data-language="php">&lt;?php
// If config is: 'http://mysite.com'
// or config is: 'http://www.mysite.com'
// or config is: 'http://company.mysite.com'

$I-&gt;amOnSubdomain('user');
$I-&gt;amOnPage('/');
// moves to http://user.mysite.com/
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $subdomain</li> </ul> <h3 id="amonurl">amOnUrl</h3> <p>Open web page at the given absolute URL and sets its hostname as the base host.</p> <pre data-language="php">&lt;?php
$I-&gt;amOnUrl('http://codeception.com');
$I-&gt;amOnPage('/quickstart'); // moves to http://codeception.com/quickstart
?&gt;</pre> <h3 id="appendfield">appendField</h3> <p>Append the given text to the given element. Can also add a selection to a select box.</p> <pre data-language="php">&lt;?php
$I-&gt;appendField('#mySelectbox', 'SelectValue');
$I-&gt;appendField('#myTextField', 'appended');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $field</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $value @throws \Codeception\Exception\ElementNotFound</li> </ul> <h3 id="attachfile">attachFile</h3> <p>Attaches a file relative to the Codeception <code class="language-plaintext highlighter-rouge">_data</code> directory to the given file upload field.</p> <pre data-language="php">&lt;?php
// file is stored in 'tests/_data/prices.xls'
$I-&gt;attachFile('input[@type="file"]', 'prices.xls');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $field</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $filename</li> </ul> <h3 id="cancelpopup">cancelPopup</h3> <p>Dismisses the active JavaScript popup, as created by <code class="language-plaintext highlighter-rouge">window.alert</code>, <code class="language-plaintext highlighter-rouge">window.confirm</code>, or <code class="language-plaintext highlighter-rouge">window.prompt</code>.</p> <h3 id="checkoption">checkOption</h3> <p>Ticks a checkbox. For radio buttons, use the <code class="language-plaintext highlighter-rouge">selectOption</code> method instead.</p> <pre data-language="php">&lt;?php
$I-&gt;checkOption('#agree');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $option</li> </ul> <h3 id="clearfield">clearField</h3> <p>Clears given field which isn’t empty.</p> <pre data-language="php">&lt;?php
$I-&gt;clearField('#username');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $field</li> </ul> <h3 id="click">click</h3> <p>Perform a click on a link or a button, given by a locator. If a fuzzy locator is given, the page will be searched for a button, link, or image matching the locator string. For buttons, the “value” attribute, “name” attribute, and inner text are searched. For links, the link text is searched. For images, the “alt” attribute and inner text of any parent links are searched.</p> <p>The second parameter is a context (CSS or XPath locator) to narrow the search.</p> <p>Note that if the locator matches a button of type <code class="language-plaintext highlighter-rouge">submit</code>, the form will be submitted.</p> <pre data-language="php">&lt;?php
// simple link
$I-&gt;click('Logout');
// button of form
$I-&gt;click('Submit');
// CSS button
$I-&gt;click('#form input[type=submit]');
// XPath
$I-&gt;click('//form/*[@type="submit"]');
// link in context
$I-&gt;click('Logout', '#nav');
// using strict locator
$I-&gt;click(['link' =&gt; 'Login']);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $link</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $context</li> </ul> <h3 id="clickwithleftbutton">clickWithLeftButton</h3> <p>Performs click with the left mouse button on an element. If the first parameter <code class="language-plaintext highlighter-rouge">null</code> then the offset is relative to the actual mouse position. If the second and third parameters are given, then the mouse is moved to an offset of the element’s top-left corner. Otherwise, the mouse is moved to the center of the element.</p> <pre data-language="php">&lt;?php
$I-&gt;clickWithLeftButton(['css' =&gt; '.checkout']);
$I-&gt;clickWithLeftButton(null, 20, 50);
$I-&gt;clickWithLeftButton(['css' =&gt; '.checkout'], 20, 50);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $cssOrXPath css or xpath of the web element (body by default).</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $offsetX</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $offsetY</li> </ul> <p>@throws \Codeception\Exception\ElementNotFound</p> <h3 id="clickwithrightbutton">clickWithRightButton</h3> <p>Performs contextual click with the right mouse button on an element. If the first parameter <code class="language-plaintext highlighter-rouge">null</code> then the offset is relative to the actual mouse position. If the second and third parameters are given, then the mouse is moved to an offset of the element’s top-left corner. Otherwise, the mouse is moved to the center of the element.</p> <pre data-language="php">&lt;?php
$I-&gt;clickWithRightButton(['css' =&gt; '.checkout']);
$I-&gt;clickWithRightButton(null, 20, 50);
$I-&gt;clickWithRightButton(['css' =&gt; '.checkout'], 20, 50);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $cssOrXPath css or xpath of the web element (body by default).</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $offsetX</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $offsetY</li> </ul> <p>@throws \Codeception\Exception\ElementNotFound</p> <h3 id="closetab">closeTab</h3> <p>Closes current browser tab and switches to previous active tab.</p> <pre data-language="php">&lt;?php
$I-&gt;closeTab();</pre> <h3 id="debugwebdriverlogs">debugWebDriverLogs</h3> <p>Print out latest Selenium Logs in debug mode</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param \Codeception\TestInterface</code> $test</li> </ul> <h3 id="deletesessionsnapshot">deleteSessionSnapshot</h3> <p>Deletes session snapshot.</p> <p>See <a href="#saveSessionSnapshot">saveSessionSnapshot</a></p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $name</li> </ul> <h3 id="dontsee">dontSee</h3> <p>Checks that the current page doesn’t contain the text specified (case insensitive). Give a locator as the second parameter to match a specific region.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSee('Login');                         // I can suppose user is already logged in
$I-&gt;dontSee('Sign Up','h1');                  // I can suppose it's not a signup page
$I-&gt;dontSee('Sign Up','//body/h1');           // with XPath
$I-&gt;dontSee('Sign Up', ['css' =&gt; 'body h1']); // with strict CSS locator</pre> <p>Note that the search is done after stripping all HTML tags from the body, so <code class="language-plaintext highlighter-rouge">$I-&gt;dontSee('strong')</code> will fail on strings like:</p> <ul> <li><code class="language-plaintext highlighter-rouge">&lt;p&gt;I am Stronger than thou&lt;/p&gt;</code></li> <li><code class="language-plaintext highlighter-rouge">&lt;script&gt;document.createElement('strong');&lt;/script&gt;</code></li> </ul> <p>But will ignore strings like:</p> <ul> <li><code class="language-plaintext highlighter-rouge">&lt;strong&gt;Home&lt;/strong&gt;</code></li> <li><code class="language-plaintext highlighter-rouge">&lt;div class="strong"&gt;Home&lt;/strong&gt;</code></li> <li><code class="language-plaintext highlighter-rouge">&lt;!-- strong --&gt;</code></li> </ul> <p>For checking the raw source code, use <code class="language-plaintext highlighter-rouge">seeInSource()</code>.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $text</li> <li>
<code class="language-plaintext highlighter-rouge">param array|string</code> $selector optional</li> </ul> <h3 id="dontseecheckboxischecked">dontSeeCheckboxIsChecked</h3> <p>Check that the specified checkbox is unchecked.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeCheckboxIsChecked('#agree'); // I suppose user didn't agree to terms
$I-&gt;seeCheckboxIsChecked('#signup_form input[type=checkbox]'); // I suppose user didn't check the first checkbox in form.
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $checkbox</li> </ul> <h3 id="dontseecookie">dontSeeCookie</h3> <p>Checks that there isn’t a cookie with the given name. You can set additional cookie params like <code class="language-plaintext highlighter-rouge">domain</code>, <code class="language-plaintext highlighter-rouge">path</code> as array passed in last argument.</p> <ul> <li> <p><code class="language-plaintext highlighter-rouge">param</code> $cookie</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">param array</code> $params</p> </li> </ul> <h3 id="dontseecurrenturlequals">dontSeeCurrentUrlEquals</h3> <p>Checks that the current URL doesn’t equal the given string. Unlike <code class="language-plaintext highlighter-rouge">dontSeeInCurrentUrl</code>, this only matches the full URL.</p> <pre data-language="php">&lt;?php
// current url is not root
$I-&gt;dontSeeCurrentUrlEquals('/');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri</li> </ul> <h3 id="dontseecurrenturlmatches">dontSeeCurrentUrlMatches</h3> <p>Checks that current url doesn’t match the given regular expression.</p> <pre data-language="php">&lt;?php
// to match root url
$I-&gt;dontSeeCurrentUrlMatches('~^/users/(\d+)~');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri</li> </ul> <h3 id="dontseeelement">dontSeeElement</h3> <p>Checks that the given element is invisible or not present on the page. You can also specify expected attributes of this element.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeElement('.error');
$I-&gt;dontSeeElement('//form/input[1]');
$I-&gt;dontSeeElement('input', ['name' =&gt; 'login']);
$I-&gt;dontSeeElement('input', ['value' =&gt; '123456']);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $selector</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $attributes</li> </ul> <h3 id="dontseeelementindom">dontSeeElementInDOM</h3> <p>Opposite of <code class="language-plaintext highlighter-rouge">seeElementInDOM</code>.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $selector</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $attributes</li> </ul> <h3 id="dontseeincurrenturl">dontSeeInCurrentUrl</h3> <p>Checks that the current URI doesn’t contain the given string.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeInCurrentUrl('/users/');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri</li> </ul> <h3 id="dontseeinfield">dontSeeInField</h3> <p>Checks that an input field or textarea doesn’t contain the given value. For fuzzy locators, the field is matched by label text, CSS and XPath.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeInField('Body','Type your comment here');
$I-&gt;dontSeeInField('form textarea[name=body]','Type your comment here');
$I-&gt;dontSeeInField('form input[type=hidden]','hidden_value');
$I-&gt;dontSeeInField('#searchform input','Search');
$I-&gt;dontSeeInField('//form/*[@name=search]','Search');
$I-&gt;dontSeeInField(['name' =&gt; 'search'], 'Search');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $field</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $value</li> </ul> <h3 id="dontseeinformfields">dontSeeInFormFields</h3> <p>Checks if the array of form parameters (name =&gt; value) are not set on the form matched with the passed selector.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeInFormFields('form[name=myform]', [
     'input1' =&gt; 'non-existent value',
     'input2' =&gt; 'other non-existent value',
]);
?&gt;</pre> <p>To check that an element hasn’t been assigned any one of many values, an array can be passed as the value:</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeInFormFields('.form-class', [
     'fieldName' =&gt; [
         'This value shouldn\'t be set',
         'And this value shouldn\'t be set',
     ],
]);
?&gt;</pre> <p>Additionally, checkbox values can be checked with a boolean.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeInFormFields('#form-id', [
     'checkbox1' =&gt; true,        // fails if checked
     'checkbox2' =&gt; false,       // fails if unchecked
]);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $formSelector</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $params</li> </ul> <h3 id="dontseeinpagesource">dontSeeInPageSource</h3> <p>Checks that the page source doesn’t contain the given string.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $text</li> </ul> <h3 id="dontseeinpopup">dontSeeInPopup</h3> <p>Checks that the active JavaScript popup, as created by <code class="language-plaintext highlighter-rouge">window.alert</code>|<code class="language-plaintext highlighter-rouge">window.confirm</code>|<code class="language-plaintext highlighter-rouge">window.prompt</code>, does NOT contain the given string.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $text</li> </ul> <p>@throws \Codeception\Exception\ModuleException</p> <h3 id="dontseeinsource">dontSeeInSource</h3> <p>Checks that the current page contains the given string in its raw source code.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeInSource('&lt;h1&gt;Green eggs &amp;amp; ham&lt;/h1&gt;');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $raw</li> </ul> <h3 id="dontseeintitle">dontSeeInTitle</h3> <p>Checks that the page title does not contain the given string.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $title</li> </ul> <h3 id="dontseelink">dontSeeLink</h3> <p>Checks that the page doesn’t contain a link with the given string. If the second parameter is given, only links with a matching “href” attribute will be checked.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeLink('Logout'); // I suppose user is not logged in
$I-&gt;dontSeeLink('Checkout now', '/store/cart.php');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $text</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $url optional</li> </ul> <h3 id="dontseeoptionisselected">dontSeeOptionIsSelected</h3> <p>Checks that the given option is not selected.</p> <pre data-language="php">&lt;?php
$I-&gt;dontSeeOptionIsSelected('#form input[name=payment]', 'Visa');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $selector</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $optionText</li> </ul> <h3 id="doubleclick">doubleClick</h3> <p>Performs a double-click on an element matched by CSS or XPath.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $cssOrXPath @throws \Codeception\Exception\ElementNotFound</li> </ul> <h3 id="draganddrop">dragAndDrop</h3> <p>Performs a simple mouse drag-and-drop operation.</p> <pre data-language="php">&lt;?php
$I-&gt;dragAndDrop('#drag', '#drop');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $source (CSS ID or XPath)</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $target (CSS ID or XPath)</li> </ul> <h3 id="executeasyncjs">executeAsyncJS</h3> <p>Executes asynchronous JavaScript. A callback should be executed by JavaScript to exit from a script. Callback is passed as a last element in <code class="language-plaintext highlighter-rouge">arguments</code> array. Additional arguments can be passed as array in second parameter.</p> <pre data-language="yaml">js
// wait for 1200 milliseconds my running `setTimeout`
* $I-&gt;executeAsyncJS('setTimeout(arguments[0], 1200)');

$seconds = 1200; // or seconds are passed as argument
$I-&gt;executeAsyncJS('setTimeout(arguments[1], arguments[0])', [$seconds]);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $script</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $arguments</li> </ul> <h3 id="executeinselenium">executeInSelenium</h3> <p>Low-level API method. If Codeception commands are not enough, this allows you to use Selenium WebDriver methods directly:</p> <pre data-language="php">$I-&gt;executeInSelenium(function(\Facebook\WebDriver\Remote\RemoteWebDriver $webdriver) {
  $webdriver-&gt;get('http://google.com');
});</pre> <p>This runs in the context of the <a href="https://github.com/php-webdriver/php-webdriver/blob/master/lib/remote/RemoteWebDriver.php">RemoteWebDriver class</a>. Try not to use this command on a regular basis. If Codeception lacks a feature you need, please implement it and submit a patch.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param callable</code> $function</li> </ul> <h3 id="executejs">executeJS</h3> <p>Executes custom JavaScript.</p> <p>This example uses jQuery to get a value and assigns that value to a PHP variable:</p> <pre data-language="php">&lt;?php
$myVar = $I-&gt;executeJS('return $("#myField").val()');

// additional arguments can be passed as array
// Example shows `Hello World` alert:
$I-&gt;executeJS("window.alert(arguments[0])", ['Hello world']);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $script</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $arguments</li> </ul> <h3 id="fillfield">fillField</h3> <p>Fills a text field or textarea with the given string.</p> <pre data-language="php">&lt;?php
$I-&gt;fillField("//input[@type='text']", "Hello World!");
$I-&gt;fillField(['name' =&gt; 'email'], 'jon@example.com');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $field</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $value</li> </ul> <h3 id="grabattributefrom">grabAttributeFrom</h3> <p>Grabs the value of the given attribute value from the given element. Fails if element is not found.</p> <pre data-language="php">&lt;?php
$I-&gt;grabAttributeFrom('#tooltip', 'title');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $cssOrXpath</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $attribute</li> </ul> <h3 id="grabcookie">grabCookie</h3> <p>Grabs a cookie value. You can set additional cookie params like <code class="language-plaintext highlighter-rouge">domain</code>, <code class="language-plaintext highlighter-rouge">path</code> in array passed as last argument. If the cookie is set by an ajax request (XMLHttpRequest), there might be some delay caused by the browser, so try <code class="language-plaintext highlighter-rouge">$I-&gt;wait(0.1)</code>.</p> <ul> <li> <p><code class="language-plaintext highlighter-rouge">param</code> $cookie</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">param array</code> $params</p> </li> </ul> <h3 id="grabfromcurrenturl">grabFromCurrentUrl</h3> <p>Executes the given regular expression against the current URI and returns the first capturing group. If no parameters are provided, the full URI is returned.</p> <pre data-language="php">&lt;?php
$user_id = $I-&gt;grabFromCurrentUrl('~^/user/(\d+)/~');
$uri = $I-&gt;grabFromCurrentUrl();
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri optional</li> </ul> <h3 id="grabmultiple">grabMultiple</h3> <p>Grabs either the text content, or attribute values, of nodes matched by $cssOrXpath and returns them as an array.</p> <pre data-language="html">&lt;a href="#first"&gt;First&lt;/a&gt;
&lt;a href="#second"&gt;Second&lt;/a&gt;
&lt;a href="#third"&gt;Third&lt;/a&gt;</pre> <pre data-language="php">&lt;?php
// would return ['First', 'Second', 'Third']
$aLinkText = $I-&gt;grabMultiple('a');

// would return ['#first', '#second', '#third']
$aLinks = $I-&gt;grabMultiple('a', 'href');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $cssOrXpath</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $attribute</li> <li><code class="language-plaintext highlighter-rouge">return string[]</code></li> </ul> <h3 id="grabpagesource">grabPageSource</h3> <p>Grabs current page source code.</p> <p>@throws ModuleException if no page was opened.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">return string</code> Current page source code.</li> </ul> <h3 id="grabtextfrom">grabTextFrom</h3> <p>Finds and returns the text contents of the given element. If a fuzzy locator is used, the element is found using CSS, XPath, and by matching the full page source by regular expression.</p> <pre data-language="php">&lt;?php
$heading = $I-&gt;grabTextFrom('h1');
$heading = $I-&gt;grabTextFrom('descendant-or-self::h1');
$value = $I-&gt;grabTextFrom('~&lt;input value=(.*?)]~sgi'); // match with a regex
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $cssOrXPathOrRegex</li> </ul> <h3 id="grabvaluefrom">grabValueFrom</h3> <p>Finds the value for the given form field. If a fuzzy locator is used, the field is found by field name, CSS, and XPath.</p> <pre data-language="php">&lt;?php
$name = $I-&gt;grabValueFrom('Name');
$name = $I-&gt;grabValueFrom('input[name=username]');
$name = $I-&gt;grabValueFrom('descendant-or-self::form/descendant::input[@name = 'username']');
$name = $I-&gt;grabValueFrom(['name' =&gt; 'username']);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $field</li> </ul> <h3 id="loadsessionsnapshot">loadSessionSnapshot</h3> <p>Loads cookies from a saved snapshot. Allows to reuse same session across tests without additional login.</p> <p>See <a href="#saveSessionSnapshot">saveSessionSnapshot</a></p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $name</li> </ul> <h3 id="makeelementscreenshot">makeElementScreenshot</h3> <p>Takes a screenshot of an element of the current window and saves it to <code class="language-plaintext highlighter-rouge">tests/_output/debug</code>.</p> <pre data-language="php">&lt;?php
$I-&gt;amOnPage('/user/edit');
$I-&gt;makeElementScreenshot('#dialog', 'edit_page');
// saved to: tests/_output/debug/edit_page.png
$I-&gt;makeElementScreenshot('#dialog');
// saved to: tests/_output/debug/2017-05-26_14-24-11_4b3403665fea6.png</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $name</li> </ul> <h3 id="makehtmlsnapshot">makeHtmlSnapshot</h3> <p>Use this method within an <a href="../02-gettingstarted.html#Interactive-Pause">interactive pause</a> to save the HTML source code of the current page.</p> <pre data-language="php">&lt;?php
$I-&gt;makeHtmlSnapshot('edit_page');
// saved to: tests/_output/debug/edit_page.html
$I-&gt;makeHtmlSnapshot();
// saved to: tests/_output/debug/2017-05-26_14-24-11_4b3403665fea6.html</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param null</code> $name</li> </ul> <h3 id="makescreenshot">makeScreenshot</h3> <p>Takes a screenshot of the current window and saves it to <code class="language-plaintext highlighter-rouge">tests/_output/debug</code>.</p> <pre data-language="php">&lt;?php
$I-&gt;amOnPage('/user/edit');
$I-&gt;makeScreenshot('edit_page');
// saved to: tests/_output/debug/edit_page.png
$I-&gt;makeScreenshot();
// saved to: tests/_output/debug/2017-05-26_14-24-11_4b3403665fea6.png</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $name</li> </ul> <h3 id="maximizewindow">maximizeWindow</h3> <p>Maximizes the current window.</p> <h3 id="moveback">moveBack</h3> <p>Moves back in history.</p> <h3 id="moveforward">moveForward</h3> <p>Moves forward in history.</p> <h3 id="movemouseover">moveMouseOver</h3> <p>Move mouse over the first element matched by the given locator. If the first parameter null then the page is used. If the second and third parameters are given, then the mouse is moved to an offset of the element’s top-left corner. Otherwise, the mouse is moved to the center of the element.</p> <pre data-language="php">&lt;?php
$I-&gt;moveMouseOver(['css' =&gt; '.checkout']);
$I-&gt;moveMouseOver(null, 20, 50);
$I-&gt;moveMouseOver(['css' =&gt; '.checkout'], 20, 50);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $cssOrXPath css or xpath of the web element</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $offsetX</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $offsetY</li> </ul> <p>@throws \Codeception\Exception\ElementNotFound</p> <h3 id="opennewtab">openNewTab</h3> <p>Opens a new browser tab and switches to it.</p> <pre data-language="php">&lt;?php
$I-&gt;openNewTab();</pre> <p>The tab is opened with JavaScript’s <code class="language-plaintext highlighter-rouge">window.open()</code>, which means:</p> <ul> <li>Some adblockers might restrict it.</li> <li>The sessionStorage is copied to the new tab (contrary to a tab that was manually opened by the user)</li> </ul> <h3 id="performon">performOn</h3> <p>Waits for element and runs a sequence of actions inside its context. Actions can be defined with array, callback, or <code class="language-plaintext highlighter-rouge">Codeception\Util\ActionSequence</code> instance.</p> <p>Actions as array are recommended for simple to combine “waitForElement” with assertions; <code class="language-plaintext highlighter-rouge">waitForElement($el)</code> and <code class="language-plaintext highlighter-rouge">see('text', $el)</code> can be simplified to:</p> <pre data-language="php">&lt;?php
$I-&gt;performOn($el, ['see' =&gt; 'text']);</pre> <p>List of actions can be pragmatically build using <code class="language-plaintext highlighter-rouge">Codeception\Util\ActionSequence</code>:</p> <pre data-language="php">&lt;?php
$I-&gt;performOn('.model', ActionSequence::build()
    -&gt;see('Warning')
    -&gt;see('Are you sure you want to delete this?')
    -&gt;click('Yes')
);</pre> <p>Actions executed from array or ActionSequence will print debug output for actions, and adds an action name to exception on failure.</p> <p>Whenever you need to define more actions a callback can be used. A WebDriver module is passed for argument:</p> <pre data-language="php">&lt;?php
$I-&gt;performOn('.rememberMe', function (WebDriver $I) {
     $I-&gt;see('Remember me next time');
     $I-&gt;seeElement('#LoginForm_rememberMe');
     $I-&gt;dontSee('Login');
});</pre> <p>In 3rd argument you can set number a seconds to wait for element to appear</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $element</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $actions</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $timeout</li> </ul> <h3 id="presskey">pressKey</h3> <p>Presses the given key on the given element. To specify a character and modifier (e.g. <kbd>Ctrl</kbd>, Alt, Shift, Meta), pass an array for <code class="language-plaintext highlighter-rouge">$char</code> with the modifier as the first element and the character as the second. For special keys, use the constants from <a href="https://github.com/php-webdriver/php-webdriver/blob/main/lib/WebDriverKeys.php"><code class="language-plaintext highlighter-rouge">Facebook\WebDriver\WebDriverKeys</code></a>.</p> <pre data-language="php">&lt;?php
// &lt;input id="page" value="old" /&gt;
$I-&gt;pressKey('#page','a'); // =&gt; olda
$I-&gt;pressKey('#page',array('ctrl','a'),'new'); //=&gt; new
$I-&gt;pressKey('#page',array('shift','111'),'1','x'); //=&gt; old!!!1x
$I-&gt;pressKey('descendant-or-self::*[@id='page']','u'); //=&gt; oldu
$I-&gt;pressKey('#name', array('ctrl', 'a'), \Facebook\WebDriver\WebDriverKeys::DELETE); //=&gt;''
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $element</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $char string|array Can be char or array with modifier. You can provide several chars. @throws \Codeception\Exception\ElementNotFound</li> </ul> <h3 id="reloadpage">reloadPage</h3> <p>Reloads the current page.</p> <h3 id="resetcookie">resetCookie</h3> <p>Unsets cookie with the given name. You can set additional cookie params like <code class="language-plaintext highlighter-rouge">domain</code>, <code class="language-plaintext highlighter-rouge">path</code> in array passed as last argument.</p> <ul> <li> <p><code class="language-plaintext highlighter-rouge">param</code> $cookie</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">param array</code> $params</p> </li> </ul> <h3 id="resizewindow">resizeWindow</h3> <p>Resize the current window.</p> <pre data-language="php">&lt;?php
$I-&gt;resizeWindow(800, 600);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $width</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $height</li> </ul> <h3 id="savesessionsnapshot">saveSessionSnapshot</h3> <p>Saves current cookies into named snapshot in order to restore them in other tests This is useful to save session state between tests. For example, if user needs log in to site for each test this scenario can be executed once while other tests can just restore saved cookies.</p> <pre data-language="php">&lt;?php
// inside AcceptanceTester class:

public function login()
{
     // if snapshot exists - skipping login
     if ($I-&gt;loadSessionSnapshot('login')) return;

     // logging in
     $I-&gt;amOnPage('/login');
     $I-&gt;fillField('name', 'jon');
     $I-&gt;fillField('password', '123345');
     $I-&gt;click('Login');

     // saving snapshot
     $I-&gt;saveSessionSnapshot('login');
}
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $name</li> </ul> <h3 id="scrollto">scrollTo</h3> <p>Move to the middle of the given element matched by the given locator. Extra shift, calculated from the top-left corner of the element, can be set by passing $offsetX and $offsetY parameters.</p> <pre data-language="php">&lt;?php
$I-&gt;scrollTo(['css' =&gt; '.checkout'], 20, 50);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $selector</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $offsetX</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $offsetY</li> </ul> <h3 id="see">see</h3> <p>Checks that the current page contains the given string (case insensitive).</p> <p>You can specify a specific HTML element (via CSS or XPath) as the second parameter to only search within that element.</p> <pre data-language="php">&lt;?php
$I-&gt;see('Logout');                        // I can suppose user is logged in
$I-&gt;see('Sign Up', 'h1');                 // I can suppose it's a signup page
$I-&gt;see('Sign Up', '//body/h1');          // with XPath
$I-&gt;see('Sign Up', ['css' =&gt; 'body h1']); // with strict CSS locator</pre> <p>Note that the search is done after stripping all HTML tags from the body, so <code class="language-plaintext highlighter-rouge">$I-&gt;see('strong')</code> will return true for strings like:</p> <ul> <li><code class="language-plaintext highlighter-rouge">&lt;p&gt;I am Stronger than thou&lt;/p&gt;</code></li> <li><code class="language-plaintext highlighter-rouge">&lt;script&gt;document.createElement('strong');&lt;/script&gt;</code></li> </ul> <p>But will <em>not</em> be true for strings like:</p> <ul> <li><code class="language-plaintext highlighter-rouge">&lt;strong&gt;Home&lt;/strong&gt;</code></li> <li><code class="language-plaintext highlighter-rouge">&lt;div class="strong"&gt;Home&lt;/strong&gt;</code></li> <li><code class="language-plaintext highlighter-rouge">&lt;!-- strong --&gt;</code></li> </ul> <p>For checking the raw source code, use <code class="language-plaintext highlighter-rouge">seeInSource()</code>.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $text</li> <li>
<code class="language-plaintext highlighter-rouge">param array|string</code> $selector optional</li> </ul> <h3 id="seecheckboxischecked">seeCheckboxIsChecked</h3> <p>Checks that the specified checkbox is checked.</p> <pre data-language="php">&lt;?php
$I-&gt;seeCheckboxIsChecked('#agree'); // I suppose user agreed to terms
$I-&gt;seeCheckboxIsChecked('#signup_form input[type=checkbox]'); // I suppose user agreed to terms, If there is only one checkbox in form.
$I-&gt;seeCheckboxIsChecked('//form/input[@type=checkbox and @name=agree]');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $checkbox</li> </ul> <h3 id="seecookie">seeCookie</h3> <p>Checks that a cookie with the given name is set. You can set additional cookie params like <code class="language-plaintext highlighter-rouge">domain</code>, <code class="language-plaintext highlighter-rouge">path</code> as array passed in last argument.</p> <pre data-language="php">&lt;?php
$I-&gt;seeCookie('PHPSESSID');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $cookie</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $params</li> </ul> <h3 id="seecurrenturlequals">seeCurrentUrlEquals</h3> <p>Checks that the current URL is equal to the given string. Unlike <code class="language-plaintext highlighter-rouge">seeInCurrentUrl</code>, this only matches the full URL.</p> <pre data-language="php">&lt;?php
// to match root url
$I-&gt;seeCurrentUrlEquals('/');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri</li> </ul> <h3 id="seecurrenturlmatches">seeCurrentUrlMatches</h3> <p>Checks that the current URL matches the given regular expression.</p> <pre data-language="php">&lt;?php
// to match root url
$I-&gt;seeCurrentUrlMatches('~^/users/(\d+)~');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri</li> </ul> <h3 id="seeelement">seeElement</h3> <p>Checks that the given element exists on the page and is visible. You can also specify expected attributes of this element.</p> <pre data-language="php">&lt;?php
$I-&gt;seeElement('.error');
$I-&gt;seeElement('//form/input[1]');
$I-&gt;seeElement('input', ['name' =&gt; 'login']);
$I-&gt;seeElement('input', ['value' =&gt; '123456']);

// strict locator in first arg, attributes in second
$I-&gt;seeElement(['css' =&gt; 'form input'], ['name' =&gt; 'login']);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $selector</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $attributes</li> </ul> <h3 id="seeelementindom">seeElementInDOM</h3> <p>Checks that the given element exists on the page, even it is invisible.</p> <pre data-language="php">&lt;?php
$I-&gt;seeElementInDOM('//form/input[type=hidden]');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $selector</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $attributes</li> </ul> <h3 id="seeincurrenturl">seeInCurrentUrl</h3> <p>Checks that current URI contains the given string.</p> <pre data-language="php">&lt;?php
// to match: /home/dashboard
$I-&gt;seeInCurrentUrl('home');
// to match: /users/1
$I-&gt;seeInCurrentUrl('/users/');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $uri</li> </ul> <h3 id="seeinfield">seeInField</h3> <p>Checks that the given input field or textarea <em>equals</em> (i.e. not just contains) the given value. Fields are matched by label text, the “name” attribute, CSS, or XPath.</p> <pre data-language="php">&lt;?php
$I-&gt;seeInField('Body','Type your comment here');
$I-&gt;seeInField('form textarea[name=body]','Type your comment here');
$I-&gt;seeInField('form input[type=hidden]','hidden_value');
$I-&gt;seeInField('#searchform input','Search');
$I-&gt;seeInField('//form/*[@name=search]','Search');
$I-&gt;seeInField(['name' =&gt; 'search'], 'Search');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $field</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $value</li> </ul> <h3 id="seeinformfields">seeInFormFields</h3> <p>Checks if the array of form parameters (name =&gt; value) are set on the form matched with the passed selector.</p> <pre data-language="php">&lt;?php
$I-&gt;seeInFormFields('form[name=myform]', [
     'input1' =&gt; 'value',
     'input2' =&gt; 'other value',
]);
?&gt;</pre> <p>For multi-select elements, or to check values of multiple elements with the same name, an array may be passed:</p> <pre data-language="php">&lt;?php
$I-&gt;seeInFormFields('.form-class', [
     'multiselect' =&gt; [
         'value1',
         'value2',
     ],
     'checkbox[]' =&gt; [
         'a checked value',
         'another checked value',
     ],
]);
?&gt;</pre> <p>Additionally, checkbox values can be checked with a boolean.</p> <pre data-language="php">&lt;?php
$I-&gt;seeInFormFields('#form-id', [
     'checkbox1' =&gt; true,        // passes if checked
     'checkbox2' =&gt; false,       // passes if unchecked
]);
?&gt;</pre> <p>Pair this with submitForm for quick testing magic.</p> <pre data-language="php">&lt;?php
$form = [
     'field1' =&gt; 'value',
     'field2' =&gt; 'another value',
     'checkbox1' =&gt; true,
     // ...
];
$I-&gt;submitForm('//form[@id=my-form]', $form, 'submitButton');
// $I-&gt;amOnPage('/path/to/form-page') may be needed
$I-&gt;seeInFormFields('//form[@id=my-form]', $form);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $formSelector</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $params</li> </ul> <h3 id="seeinpagesource">seeInPageSource</h3> <p>Checks that the page source contains the given string.</p> <pre data-language="php">&lt;?php
$I-&gt;seeInPageSource('&lt;link rel="apple-touch-icon"');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $text</li> </ul> <h3 id="seeinpopup">seeInPopup</h3> <p>Checks that the active JavaScript popup, as created by <code class="language-plaintext highlighter-rouge">window.alert</code>|<code class="language-plaintext highlighter-rouge">window.confirm</code>|<code class="language-plaintext highlighter-rouge">window.prompt</code>, contains the given string.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $text</li> </ul> <p>@throws \Codeception\Exception\ModuleException</p> <h3 id="seeinsource">seeInSource</h3> <p>Checks that the current page contains the given string in its raw source code.</p> <pre data-language="php">&lt;?php
$I-&gt;seeInSource('&lt;h1&gt;Green eggs &amp;amp; ham&lt;/h1&gt;');</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $raw</li> </ul> <h3 id="seeintitle">seeInTitle</h3> <p>Checks that the page title contains the given string.</p> <pre data-language="php">&lt;?php
$I-&gt;seeInTitle('Blog - Post #1');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $title</li> </ul> <h3 id="seelink">seeLink</h3> <p>Checks that there’s a link with the specified text. Give a full URL as the second parameter to match links with that exact URL.</p> <pre data-language="php">&lt;?php
$I-&gt;seeLink('Logout'); // matches &lt;a href="#"&gt;Logout&lt;/a&gt;
$I-&gt;seeLink('Logout','/logout'); // matches &lt;a href="/logout.html"&gt;Logout&lt;/a&gt;
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $text</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $url optional</li> </ul> <h3 id="seenumberofelements">seeNumberOfElements</h3> <p>Checks that there are a certain number of elements matched by the given locator on the page.</p> <pre data-language="php">&lt;?php
$I-&gt;seeNumberOfElements('tr', 10);
$I-&gt;seeNumberOfElements('tr', [0,10]); // between 0 and 10 elements
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $selector</li> <li>
<code class="language-plaintext highlighter-rouge">param mixed</code> $expected int or int[]</li> </ul> <h3 id="seenumberofelementsindom">seeNumberOfElementsInDOM</h3> <p><strong>not documented</strong></p> <h3 id="seenumberoftabs">seeNumberOfTabs</h3> <p>Checks current number of opened tabs</p> <pre data-language="php">&lt;?php
$I-&gt;seeNumberOfTabs(2);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $number number of tabs</li> </ul> <h3 id="seeoptionisselected">seeOptionIsSelected</h3> <p>Checks that the given option is selected.</p> <pre data-language="php">&lt;?php
$I-&gt;seeOptionIsSelected('#form input[name=payment]', 'Visa');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $selector</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $optionText</li> </ul> <h3 id="selectoption">selectOption</h3> <p>Selects an option in a select tag or in radio button group.</p> <pre data-language="php">&lt;?php
$I-&gt;selectOption('form select[name=account]', 'Premium');
$I-&gt;selectOption('form input[name=payment]', 'Monthly');
$I-&gt;selectOption('//form/select[@name=account]', 'Monthly');
?&gt;</pre> <p>Provide an array for the second argument to select multiple options:</p> <pre data-language="php">&lt;?php
$I-&gt;selectOption('Which OS do you use?', array('Windows','Linux'));
?&gt;</pre> <p>Or provide an associative array for the second argument to specifically define which selection method should be used:</p> <pre data-language="php">&lt;?php
$I-&gt;selectOption('Which OS do you use?', array('text' =&gt; 'Windows')); // Only search by text 'Windows'
$I-&gt;selectOption('Which OS do you use?', array('value' =&gt; 'windows')); // Only search by value 'windows'
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $select</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $option</li> </ul> <h3 id="setcookie">setCookie</h3> <p>Sets a cookie with the given name and value. You can set additional cookie params like <code class="language-plaintext highlighter-rouge">domain</code>, <code class="language-plaintext highlighter-rouge">path</code>, <code class="language-plaintext highlighter-rouge">expires</code>, <code class="language-plaintext highlighter-rouge">secure</code> in array passed as last argument.</p> <pre data-language="php">&lt;?php
$I-&gt;setCookie('PHPSESSID', 'el4ukv0kqbvoirg7nkp4dncpk3');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $name</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $val</li> <li>
<code class="language-plaintext highlighter-rouge">param array</code> $params</li> </ul> <h3 id="submitform">submitForm</h3> <p>Submits the given form on the page, optionally with the given form values. Give the form fields values as an array. Note that hidden fields can’t be accessed.</p> <p>Skipped fields will be filled by their values from the page. You don’t need to click the ‘Submit’ button afterwards. This command itself triggers the request to form’s action.</p> <p>You can optionally specify what button’s value to include in the request with the last parameter as an alternative to explicitly setting its value in the second parameter, as button values are not otherwise included in the request.</p> <p>Examples:</p> <pre data-language="php">&lt;?php
$I-&gt;submitForm('#login', [
    'login' =&gt; 'davert',
    'password' =&gt; '123456'
]);
// or
$I-&gt;submitForm('#login', [
    'login' =&gt; 'davert',
    'password' =&gt; '123456'
], 'submitButtonName');</pre> <p>For example, given this sample “Sign Up” form:</p> <pre data-language="html">&lt;form action="/sign_up"&gt;
    Login:
    &lt;input type="text" name="user[login]" /&gt;&lt;br/&gt;
    Password:
    &lt;input type="password" name="user[password]" /&gt;&lt;br/&gt;
    Do you agree to our terms?
    &lt;input type="checkbox" name="user[agree]" /&gt;&lt;br/&gt;
    Select pricing plan:
    &lt;select name="plan"&gt;
        &lt;option value="1"&gt;Free&lt;/option&gt;
        &lt;option value="2" selected="selected"&gt;Paid&lt;/option&gt;
    &lt;/select&gt;
    &lt;input type="submit" name="submitButton" value="Submit" /&gt;
&lt;/form&gt;</pre> <p>You could write the following to submit it:</p> <pre data-language="php">&lt;?php
$I-&gt;submitForm(
    '#userForm',
    [
        'user[login]' =&gt; 'Davert',
        'user[password]' =&gt; '123456',
        'user[agree]' =&gt; true
    ],
    'submitButton'
);</pre> <p>Note that “2” will be the submitted value for the “plan” field, as it is the selected option.</p> <p>Also note that this differs from PhpBrowser, in that</p> <pre data-language="yaml">'user' =&gt; [ 'login' =&gt; 'Davert' ]</pre> <p>is not supported at the moment. Named array keys <em>must</em> be included in the name as above.</p> <p>Pair this with seeInFormFields for quick testing magic.</p> <pre data-language="php">&lt;?php
$form = [
     'field1' =&gt; 'value',
     'field2' =&gt; 'another value',
     'checkbox1' =&gt; true,
     // ...
];
$I-&gt;submitForm('//form[@id=my-form]', $form, 'submitButton');
// $I-&gt;amOnPage('/path/to/form-page') may be needed
$I-&gt;seeInFormFields('//form[@id=my-form]', $form);
?&gt;</pre> <p>Parameter values must be set to arrays for multiple input fields of the same name, or multi-select combo boxes. For checkboxes, either the string value can be used, or boolean values which will be replaced by the checkbox’s value in the DOM.</p> <pre data-language="php">&lt;?php
$I-&gt;submitForm('#my-form', [
     'field1' =&gt; 'value',
     'checkbox' =&gt; [
         'value of first checkbox',
         'value of second checkbox',
     ],
     'otherCheckboxes' =&gt; [
         true,
         false,
         false,
     ],
     'multiselect' =&gt; [
         'first option value',
         'second option value',
     ]
]);
?&gt;</pre> <p>Mixing string and boolean values for a checkbox’s value is not supported and may produce unexpected results.</p> <p>Field names ending in “[]” must be passed without the trailing square bracket characters, and must contain an array for its value. This allows submitting multiple values with the same name, consider:</p> <pre data-language="php">$I-&gt;submitForm('#my-form', [
    'field[]' =&gt; 'value',
    'field[]' =&gt; 'another value', // 'field[]' is already a defined key
]);</pre> <p>The solution is to pass an array value:</p> <pre data-language="php">// this way both values are submitted
$I-&gt;submitForm('#my-form', [
    'field' =&gt; [
        'value',
        'another value',
    ]
]);</pre> <p>The <code class="language-plaintext highlighter-rouge">$button</code> parameter can be either a string, an array or an instance of Facebook\WebDriver\WebDriverBy. When it is a string, the button will be found by its “name” attribute. If $button is an array then it will be treated as a strict selector and a WebDriverBy will be used verbatim.</p> <p>For example, given the following HTML:</p> <pre data-language="html">&lt;input type="submit" name="submitButton" value="Submit" /&gt;</pre> <p><code class="language-plaintext highlighter-rouge">$button</code> could be any one of the following:</p> <ul> <li>‘submitButton’</li> <li>[‘name’ =&gt; ‘submitButton’]</li> <li> <p>WebDriverBy::name(‘submitButton’)</p> </li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $selector</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $params</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $button</li> </ul> <h3 id="switchtoframe">switchToFrame</h3> <p>Switch to another frame on the page.</p> <p>Example:</p> <pre data-language="html">&lt;frame name="another_frame" id="fr1" src="http://example.com"&gt;</pre> <pre data-language="php">&lt;?php
# switch to frame by name
$I-&gt;switchToFrame("another_frame");
# switch to frame by CSS or XPath
$I-&gt;switchToFrame("#fr1");
# switch to parent page
$I-&gt;switchToFrame();</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string|null</code> $locator (name, CSS or XPath)</li> </ul> <h3 id="switchtoiframe">switchToIFrame</h3> <p>Switch to another iframe on the page.</p> <p>Example:</p> <pre data-language="html">&lt;iframe name="another_frame" id="fr1" src="http://example.com"&gt;</pre> <pre data-language="php">&lt;?php
# switch to iframe by name
$I-&gt;switchToIFrame("another_frame");
# switch to iframe by CSS or XPath
$I-&gt;switchToIFrame("#fr1");
# switch to parent page
$I-&gt;switchToIFrame();</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string|null</code> $locator (name, CSS or XPath)</li> </ul> <h3 id="switchtonexttab">switchToNextTab</h3> <p>Switches to next browser tab. An offset can be specified.</p> <pre data-language="php">&lt;?php
// switch to next tab
$I-&gt;switchToNextTab();
// switch to 2nd next tab
$I-&gt;switchToNextTab(2);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $offset 1</li> </ul> <h3 id="switchtoprevioustab">switchToPreviousTab</h3> <p>Switches to previous browser tab. An offset can be specified.</p> <pre data-language="php">&lt;?php
// switch to previous tab
$I-&gt;switchToPreviousTab();
// switch to 2nd previous tab
$I-&gt;switchToPreviousTab(2);</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $offset 1</li> </ul> <h3 id="switchtowindow">switchToWindow</h3> <p>Switch to another window identified by name.</p> <p>The window can only be identified by name. If the $name parameter is blank, the parent window will be used.</p> <p>Example:</p> <pre data-language="html">&lt;input type="button" value="Open window" onclick="window.open('http://example.com', 'another_window')"&gt;</pre> <pre data-language="php">&lt;?php
$I-&gt;click("Open window");
# switch to another window
$I-&gt;switchToWindow("another_window");
# switch to parent window
$I-&gt;switchToWindow();
?&gt;</pre> <p>If the window has no name, match it by switching to next active tab using <code class="language-plaintext highlighter-rouge">switchToNextTab</code> method.</p> <p>Or use native Selenium functions to get access to all opened windows:</p> <pre data-language="php">&lt;?php
$I-&gt;executeInSelenium(function (\Facebook\WebDriver\Remote\RemoteWebDriver $webdriver) {
     $handles=$webdriver-&gt;getWindowHandles();
     $last_window = end($handles);
     $webdriver-&gt;switchTo()-&gt;window($last_window);
});
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string|null</code> $name</li> </ul> <h3 id="type">type</h3> <p>Type in characters on active element. With a second parameter you can specify delay between key presses.</p> <pre data-language="php">&lt;?php
// activate input element
$I-&gt;click('#input');

// type text in active element
$I-&gt;type('Hello world');

// type text with a 1sec delay between chars
$I-&gt;type('Hello World', 1);</pre> <p>This might be useful when you an input reacts to typing and you need to slow it down to emulate human behavior. For instance, this is how Credit Card fields can be filled in.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $text</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $delay [sec]</li> </ul> <h3 id="typeinpopup">typeInPopup</h3> <p>Enters text into a native JavaScript prompt popup, as created by <code class="language-plaintext highlighter-rouge">window.prompt</code>.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $keys</li> </ul> <p>@throws \Codeception\Exception\ModuleException</p> <h3 id="uncheckoption">uncheckOption</h3> <p>Unticks a checkbox.</p> <pre data-language="php">&lt;?php
$I-&gt;uncheckOption('#notify');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $option</li> </ul> <h3 id="unselectoption">unselectOption</h3> <p>Unselect an option in the given select box.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $select</li> <li>
<code class="language-plaintext highlighter-rouge">param</code> $option</li> </ul> <h3 id="wait">wait</h3> <p>Wait for $timeout seconds.</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">param int|float</code> $timeout secs @throws \Codeception\Exception\TestRuntimeException</li> </ul> <h3 id="waitforelement">waitForElement</h3> <p>Waits up to $timeout seconds for an element to appear on the page. If the element doesn’t appear, a timeout exception is thrown.</p> <pre data-language="php">&lt;?php
$I-&gt;waitForElement('#agree_button', 30); // secs
$I-&gt;click('#agree_button');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $element</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $timeout seconds @throws \Exception</li> </ul> <h3 id="waitforelementchange">waitForElementChange</h3> <p>Waits up to $timeout seconds for the given element to change. Element “change” is determined by a callback function which is called repeatedly until the return value evaluates to true.</p> <pre data-language="php">&lt;?php
use \Facebook\WebDriver\WebDriverElement
$I-&gt;waitForElementChange('#menu', function(WebDriverElement $el) {
    return $el-&gt;isDisplayed();
}, 100);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $element</li> <li>
<code class="language-plaintext highlighter-rouge">param \Closure</code> $callback</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $timeout seconds @throws \Codeception\Exception\ElementNotFound</li> </ul> <h3 id="waitforelementclickable">waitForElementClickable</h3> <p>Waits up to $timeout seconds for the given element to be clickable. If element doesn’t become clickable, a timeout exception is thrown.</p> <pre data-language="php">&lt;?php
$I-&gt;waitForElementClickable('#agree_button', 30); // secs
$I-&gt;click('#agree_button');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $element</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $timeout seconds @throws \Exception</li> </ul> <h3 id="waitforelementnotvisible">waitForElementNotVisible</h3> <p>Waits up to $timeout seconds for the given element to become invisible. If element stays visible, a timeout exception is thrown.</p> <pre data-language="php">&lt;?php
$I-&gt;waitForElementNotVisible('#agree_button', 30); // secs
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $element</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $timeout seconds @throws \Exception</li> </ul> <h3 id="waitforelementvisible">waitForElementVisible</h3> <p>Waits up to $timeout seconds for the given element to be visible on the page. If element doesn’t appear, a timeout exception is thrown.</p> <pre data-language="php">&lt;?php
$I-&gt;waitForElementVisible('#agree_button', 30); // secs
$I-&gt;click('#agree_button');
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param</code> $element</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $timeout seconds @throws \Exception</li> </ul> <h3 id="waitforjs">waitForJS</h3> <p>Executes JavaScript and waits up to $timeout seconds for it to return true.</p> <p>In this example we will wait up to 60 seconds for all jQuery AJAX requests to finish.</p> <pre data-language="php">&lt;?php
$I-&gt;waitForJS("return $.active == 0;", 60);
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $script</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $timeout seconds</li> </ul> <h3 id="waitfortext">waitForText</h3> <p>Waits up to $timeout seconds for the given string to appear on the page.</p> <p>Can also be passed a selector to search in, be as specific as possible when using selectors. waitForText() will only watch the first instance of the matching selector / text provided. If the given text doesn’t appear, a timeout exception is thrown.</p> <pre data-language="php">&lt;?php
$I-&gt;waitForText('foo', 30); // secs
$I-&gt;waitForText('foo', 30, '.title'); // secs
?&gt;</pre> <ul> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $text</li> <li>
<code class="language-plaintext highlighter-rouge">param int</code> $timeout seconds</li> <li>
<code class="language-plaintext highlighter-rouge">param string</code> $selector optional @throws \Exception</li> </ul> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2011 Michael Bodnarchuk and contributors<br>Licensed under the MIT License.<br>
    <a href="https://codeception.com/docs/modules/WebDriver" class="_attribution-link">https://codeception.com/docs/modules/WebDriver</a>
  </p>
</div>
