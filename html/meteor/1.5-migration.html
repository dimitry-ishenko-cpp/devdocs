<h1 class="title-page">Migrating to Meteor 1.5</h1> <div class="subtitle-page">How to migrate your application to Meteor 1.5.</div>    <p>This guide is quite short and we think you’ll find the upgrade from 1.4 to 1.5 quite painless. We encourage reading <a href="http://docs.meteor.com/changelog.html" target="_blank" rel="external">full history</a> and comparing the full differences between the versions you are upgrading from and to.</p> <blockquote> <p>If you find details which are not covered here, please discuss it using the “Discuss” button above, or if you have something super important, open a pull-request to this article using the “Edit on GitHub” button above!</p> </blockquote> <h2 id="older-versions">Migrating from a version older than 1.4?</h2> <p>If you’re migrating from a version of Meteor older than Meteor 1.4, there may be important considerations not listed in this guide (which specifically covers 1.4 to 1.5). Please review the older migration guides for details:</p> <ul> <li>
<a href="1.4-migration.html">Migrating to Meteor 1.4</a> (from 1.3)</li> <li>
<a href="1.3-migration.html">Migrating to Meteor 1.3</a> (from 1.2)</li> </ul> <h3 id="mail-url">
<code>MAIL_URL</code> should be reviewed</h3> <p>Due to an upgrade in the underlying dependency for the <a href="http://docs.meteor.com/api/email.html" target="_blank" rel="external"><code>email</code> package</a>, it is necessary to check that your <code>MAIL_URL</code> is using the correct scheme (e.g. <code>smtps://</code> or <code>smtp://</code>).</p> <p>Previously, Meteor would automatically assume that any <code>MAIL_URL</code> using port 465 was to be encrypted and automatically changed <code>smtp://</code> to <code>smtps://</code>. However, this is not always desired, and not always a safe assumption for Meteor.</p> <p>If your <code>MAIL_URL</code> is TLS/SSL-only (and does not need <a href="https://en.wikipedia.org/wiki/Opportunistic_TLS" target="_blank" rel="external"><code>STARTTLS</code></a>), be sure that the <code>MAIL_URL</code> starts with <code>smtps://</code> and not just <code>smtp://</code>.</p> <p>Again, generally speaking, this applies to applications whose <code>MAIL_URL</code> already includes <code>:465</code>. If an application’s mail provider supports <code>STARTTLS</code> (i.e. if the <code>MAIL_URL</code> uses <code>:587</code> and <em>sometimes</em> <code>:25</code>), the application can continue to use <code>smtp://</code> (without the <code>s</code>) and the TLS/SSL upgrade will be made by the mail server, if supported.</p> <p>Unfortunately, the e-mail ecosystem is <a href="http://busylog.net/smtp-tls-ssl-25-465-587/" target="_blank" rel="external">confusing</a>. More information can be found in the <a href="https://nodemailer.com/smtp/" target="_blank" rel="external">Nodemailer docs</a>.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2011&ndash;2017 Meteor Development Group, Inc.<br>Licensed under the MIT License.<br>
    <a href="https://guide.meteor.com/1.5-migration.html" class="_attribution-link">https://guide.meteor.com/1.5-migration.html</a>
  </p>
</div>
