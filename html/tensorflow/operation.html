<h1 class="devsite-page-title" tabindex="-1"> tf.Operation </h1> <devsite-feature-tooltip ack-key="AckCollectionsBookmarkTooltipDismiss" analytics-category="Site-Wide Custom Events" analytics-action-show="Callout Profile displayed" analytics-action-close="Callout Profile dismissed" analytics-label="Create Collection Callout" class="devsite-page-bookmark-tooltip nocontent" dismiss-button="true" id="devsite-collections-dropdown" dismiss-button-text="Dismiss" close-button-text="Got it">    </devsite-feature-tooltip> <div class="devsite-page-title-meta"><devsite-view-release-notes></devsite-view-release-notes></div>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.Operation"> <meta itemprop="path" content="Stable"> <meta itemprop="property" content="__new__"> <meta itemprop="property" content="colocation_groups"> <meta itemprop="property" content="experimental_set_type"> <meta itemprop="property" content="from_node_def"> <meta itemprop="property" content="get_attr"> <meta itemprop="property" content="run"> <meta itemprop="property" content="values"> </div>   <p>Represents a graph node that performs computation on tensors.</p> <section class="expandable"> <h4 class="showalways" id="view-aliases" data-text="View aliases" tabindex="-1">View aliases</h4> <p> <b>Compat aliases for migration</b> </p>
<p>See <a href="https://www.tensorflow.org/guide/migrate">Migration guide</a> for more details.</p> <p><a href="operation.html"><code translate="no" dir="ltr">tf.compat.v1.Operation</code></a></p> </section> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">tf.Operation(
    *args, **kwargs
)
</pre></devsite-code>  <p>An <code translate="no" dir="ltr">Operation</code> is a node in a <a href="graph.html"><code translate="no" dir="ltr">tf.Graph</code></a> that takes zero or more <code translate="no" dir="ltr">Tensor</code> objects as input, and produces zero or more <code translate="no" dir="ltr">Tensor</code> objects as output. Objects of type <code translate="no" dir="ltr">Operation</code> are created by calling a Python op constructor (such as <a href="linalg/matmul.html"><code translate="no" dir="ltr">tf.matmul</code></a>) within a <a href="function.html"><code translate="no" dir="ltr">tf.function</code></a> or under a <a href="graph.html#as_default"><code translate="no" dir="ltr">tf.Graph.as_default</code></a> context manager.</p> <p>For example, within a <a href="function.html"><code translate="no" dir="ltr">tf.function</code></a>, <code translate="no" dir="ltr">c = tf.matmul(a, b)</code> creates an <code translate="no" dir="ltr">Operation</code> of type "MatMul" that takes tensors <code translate="no" dir="ltr">a</code> and <code translate="no" dir="ltr">b</code> as input, and produces <code translate="no" dir="ltr">c</code> as output.</p> <p>If a <a href="compat/v1/session.html"><code translate="no" dir="ltr">tf.compat.v1.Session</code></a> is used, an <code translate="no" dir="ltr">Operation</code> of a <a href="graph.html"><code translate="no" dir="ltr">tf.Graph</code></a> can be executed by passing it to <code translate="no" dir="ltr">tf.Session.run</code>. <code translate="no" dir="ltr">op.run()</code> is a shortcut for calling <code translate="no" dir="ltr">tf.compat.v1.get_default_session().run(op)</code>.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Attributes</th></tr> 
<tr> <td> <code translate="no" dir="ltr">control_inputs</code> </td> <td> The <code translate="no" dir="ltr">Operation</code> objects on which this op has a control dependency. <p>Before this op is executed, TensorFlow will ensure that the operations in <code translate="no" dir="ltr">self.control_inputs</code> have finished executing. This mechanism can be used to run ops sequentially for performance reasons, or to ensure that the side effects of an op are observed in the correct order. </p>
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">device</code> </td> <td> The name of the device to which this op has been assigned, if any. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">graph</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">inputs</code> </td> <td> The sequence of <code translate="no" dir="ltr">Tensor</code> objects representing the data inputs of this op. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">node_def</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">op_def</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">outputs</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">traceback</code> </td> <td> Returns the call stack from when this operation was constructed. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">type</code> </td> <td> 
</td> </tr> </table> <h2 id="methods" data-text="Methods" tabindex="-1">Methods</h2> <h3 id="colocation_groups" data-text="colocation_groups" tabindex="-1"><code translate="no" dir="ltr">colocation_groups</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/framework/ops.py#L1251-L1268">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">colocation_groups() -&gt; list[bytes]
</pre></devsite-code> <p>Returns the list of colocation groups of the op.</p> <h3 id="experimental_set_type" data-text="experimental_set_type" tabindex="-1"><code translate="no" dir="ltr">experimental_set_type</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/framework/ops.py#L1612-L1629">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">experimental_set_type(
    type_proto
) -&gt; None
</pre></devsite-code> <p>Sets the corresponding node's <code translate="no" dir="ltr">experimental_type</code> field.</p> <p>See the description of <code translate="no" dir="ltr">NodeDef.experimental_type</code> for more info.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">type_proto</code> </td> <td> A FullTypeDef proto message. The root type_if of this object must be <code translate="no" dir="ltr">TFT_PRODUCT</code>, even for ops which only have a singlre return value. </td> </tr> </table> <h3 id="from_node_def" data-text="from_node_def" tabindex="-1"><code translate="no" dir="ltr">from_node_def</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/framework/ops.py#L1068-L1186">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">@classmethod
from_node_def(
    node_def,
    g,
    inputs=None,
    output_types=None,
    control_inputs=None,
    input_types=None,
    original_op=None,
    op_def=None
) -&gt; OperationType
</pre></devsite-code> <p>Creates an <code translate="no" dir="ltr">Operation</code>.</p> <blockquote class="note">
<strong>Note:</strong><span> This constructor validates the name of the <code translate="no" dir="ltr">Operation</code> (passed as <code translate="no" dir="ltr">node_def.name</code>). Valid <code translate="no" dir="ltr">Operation</code> names match the following regular expression:</span>
</blockquote>

<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">[A-Za-z0-9.][A-Za-z0-9_.\\-/]*
</pre></devsite-code>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">node_def</code> </td> <td> <code translate="no" dir="ltr">node_def_pb2.NodeDef</code>. <code translate="no" dir="ltr">NodeDef</code> for the <code translate="no" dir="ltr">Operation</code>. Used for attributes of <code translate="no" dir="ltr">node_def_pb2.NodeDef</code>, typically <code translate="no" dir="ltr">name</code>, <code translate="no" dir="ltr">op</code>, and <code translate="no" dir="ltr">device</code>. The <code translate="no" dir="ltr">input</code> attribute is irrelevant here as it will be computed when generating the model. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">g</code> </td> <td> <code translate="no" dir="ltr">Graph</code>. The parent graph. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">inputs</code> </td> <td> list of <code translate="no" dir="ltr">Tensor</code> objects. The inputs to this <code translate="no" dir="ltr">Operation</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">output_types</code> </td> <td> list of <code translate="no" dir="ltr">DType</code> objects. List of the types of the <code translate="no" dir="ltr">Tensors</code> computed by this operation. The length of this list indicates the number of output endpoints of the <code translate="no" dir="ltr">Operation</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">control_inputs</code> </td> <td> list of operations or tensors from which to have a control dependency. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">input_types</code> </td> <td> List of <code translate="no" dir="ltr">DType</code> objects representing the types of the tensors accepted by the <code translate="no" dir="ltr">Operation</code>. By default uses <code translate="no" dir="ltr">[x.dtype.base_dtype for x in inputs]</code>. Operations that expect reference-typed inputs must specify these explicitly. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">original_op</code> </td> <td> Optional. Used to associate the new <code translate="no" dir="ltr">Operation</code> with an existing <code translate="no" dir="ltr">Operation</code> (for example, a replica with the op that was replicated). </td> </tr>
<tr> <td> <code translate="no" dir="ltr">op_def</code> </td> <td> Optional. The <code translate="no" dir="ltr">op_def_pb2.OpDef</code> proto that describes the op type that this <code translate="no" dir="ltr">Operation</code> represents. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">TypeError</code> </td> <td> if control inputs are not Operations or Tensors, or if <code translate="no" dir="ltr">node_def</code> is not a <code translate="no" dir="ltr">NodeDef</code>, or if <code translate="no" dir="ltr">g</code> is not a <code translate="no" dir="ltr">Graph</code>, or if <code translate="no" dir="ltr">inputs</code> are not tensors, or if <code translate="no" dir="ltr">inputs</code> and <code translate="no" dir="ltr">input_types</code> are incompatible. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> if the <code translate="no" dir="ltr">node_def</code> name is not valid. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> Operation object. </td> </tr> 
</table> <h3 id="get_attr" data-text="get_attr" tabindex="-1"><code translate="no" dir="ltr">get_attr</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/framework/ops.py#L1548-L1585">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">get_attr(
    name
)
</pre></devsite-code> <p>Returns the value of the attr of this op with the given <code translate="no" dir="ltr">name</code>.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> The name of the attr to fetch. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> The value of the attr, as a Python object. </td> </tr> 
</table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> If this op does not have an attr with the given <code translate="no" dir="ltr">name</code>. </td> </tr> </table> <h3 id="run" data-text="run" tabindex="-1"><code translate="no" dir="ltr">run</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/framework/ops.py#L1631-L1647">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">run(
    feed_dict=None, session=None
) -&gt; None
</pre></devsite-code> <p>Runs this operation in a <code translate="no" dir="ltr">Session</code>.</p> <p>Calling this method will execute all preceding operations that produce the inputs needed for this operation.</p> <blockquote class="note">
<strong>Note:</strong><span> Before invoking <a href="operation.html#run"><code translate="no" dir="ltr">Operation.run()</code></a>, its graph must have been launched in a session, and either a default session must be available, or <code translate="no" dir="ltr">session</code> must be specified explicitly.</span>
</blockquote>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">feed_dict</code> </td> <td> A dictionary that maps <code translate="no" dir="ltr">Tensor</code> objects to feed values. See <code translate="no" dir="ltr">tf.Session.run</code> for a description of the valid feed values. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">session</code> </td> <td> (Optional.) The <code translate="no" dir="ltr">Session</code> to be used to run to this operation. If none, the default session will be used. </td> </tr> </table> <h3 id="values" data-text="values" tabindex="-1"><code translate="no" dir="ltr">values</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/framework/ops.py#L1270-L1272">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">values() -&gt; tuple[Any, ...]
</pre></devsite-code> <aside class="deprecated"><strong>Deprecated:</strong><span> Use outputs.</span></aside>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/Operation" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/Operation</a>
  </p>
</div>
