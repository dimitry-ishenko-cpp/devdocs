<h1 class="devsite-page-title" tabindex="-1"> tf.train.Example </h1> <devsite-feature-tooltip ack-key="AckCollectionsBookmarkTooltipDismiss" analytics-category="Site-Wide Custom Events" analytics-action-show="Callout Profile displayed" analytics-action-close="Callout Profile dismissed" analytics-label="Create Collection Callout" class="devsite-page-bookmark-tooltip nocontent" dismiss-button="true" id="devsite-collections-dropdown" dismiss-button-text="Dismiss" close-button-text="Got it">    </devsite-feature-tooltip> <div class="devsite-page-title-meta"><devsite-view-release-notes></devsite-view-release-notes></div>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.train.Example"> <meta itemprop="path" content="Stable"> </div>   <p>An <code translate="no" dir="ltr">Example</code> is a standard proto storing data for training and inference.</p> <section class="expandable"> <h4 class="showalways" id="view-aliases" data-text="View aliases" tabindex="-1">View aliases</h4> <p> <b>Compat aliases for migration</b> </p>
<p>See <a href="https://www.tensorflow.org/guide/migrate">Migration guide</a> for more details.</p> <p><a href="example.html"><code translate="no" dir="ltr">tf.compat.v1.train.Example</code></a></p> </section> <h3 id="used-in-the-notebooks" data-text="Used in the notebooks" tabindex="-1">Used in the notebooks</h3> <table class="vertical-rules"> <thead> <tr> <th>Used in the guide</th> <th>Used in the tutorials</th> </tr> </thead> <tbody> <tr> <td> <ul> <li><a href="https://www.tensorflow.org/guide/data">tf.data: Build TensorFlow input pipelines</a></li> <li><a href="https://www.tensorflow.org/guide/estimator">Estimators</a></li> <li><a href="https://www.tensorflow.org/guide/ragged_tensor">Ragged tensors</a></li> </ul> </td> <td> <ul> <li><a href="https://www.tensorflow.org/tutorials/load_data/tfrecord">TFRecord and tf.train.Example</a></li> <li><a href="https://www.tensorflow.org/tfx/tutorials/tfx/neural_structured_learning">Graph-based Neural Structured Learning in TFX</a></li> <li><a href="https://www.tensorflow.org/ranking/tutorials/ranking_dnn_distributed">TensorFlow Ranking Keras pipeline for distributed training</a></li> <li><a href="https://www.tensorflow.org/responsible_ai/fairness_indicators/tutorials/Facessd_Fairness_Indicators_Example_Colab">FaceSSD Fairness Indicators Example Colab</a></li> <li><a href="https://www.tensorflow.org/neural_structured_learning/tutorials/graph_keras_lstm_imdb">Graph regularization for sentiment classification using synthesized graphs</a></li> </ul> </td> </tr> </tbody> </table> <p>An <code translate="no" dir="ltr">Example</code> proto is a representation of the following python type:</p> 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">Dict[str,
     Union[List[bytes],
           List[int64],
           List[float]]]
</pre></devsite-code> <p>It contains a key-value store <a href="example.html#features"><code translate="no" dir="ltr">Example.features</code></a> where each key (string) maps to a <a href="feature.html"><code translate="no" dir="ltr">tf.train.Feature</code></a> message which contains a fixed-type list. This flexible and compact format allows the storage of large amounts of typed data, but requires that the data shape and use be determined by the configuration files and parsers that are used to read and write this format (refer to <a href="../io/parse_example.html"><code translate="no" dir="ltr">tf.io.parse_example</code></a> for details).</p> 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">from google.protobuf import text_format
example = text_format.Parse('''
  features {
    feature {key: "my_feature"
             value {int64_list {value: [1, 2, 3, 4]} } }
  }''',
  tf.train.Example())</pre></devsite-code> <p>Use <a href="../io/parse_example.html"><code translate="no" dir="ltr">tf.io.parse_example</code></a> to extract tensors from a serialized <code translate="no" dir="ltr">Example</code> proto:</p> 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">tf.io.parse_example(
    example.SerializeToString(),
    features = {'my_feature': tf.io.RaggedFeature(dtype=tf.int64)})
{'my_feature': &lt;tf.Tensor: shape=(4,), dtype=float32,
                           numpy=array([1, 2, 3, 4], dtype=int64)&gt;}</pre></devsite-code> <p>While the list of keys, and the contents of each key <em>could</em> be different for every <code translate="no" dir="ltr">Example</code>, TensorFlow expects a fixed list of keys, each with a fixed <code translate="no" dir="ltr">tf.dtype</code>. A conformant <code translate="no" dir="ltr">Example</code> dataset obeys the following conventions:</p> <ul> <li>If a Feature <code translate="no" dir="ltr">K</code> exists in one example with data type <code translate="no" dir="ltr">T</code>, it must be of type <code translate="no" dir="ltr">T</code> in all other examples when present. It may be omitted.</li> <li>The number of instances of Feature <code translate="no" dir="ltr">K</code> list data may vary across examples, depending on the requirements of the model.</li> <li>If a Feature <code translate="no" dir="ltr">K</code> doesn't exist in an example, a <code translate="no" dir="ltr">K</code>-specific default will be used, if configured.</li> <li>If a Feature <code translate="no" dir="ltr">K</code> exists in an example but contains no items, the intent is considered to be an empty tensor and no default will be used.</li> </ul>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Attributes</th></tr> 
<tr> <td> <code translate="no" dir="ltr">features</code> </td> <td> <code translate="no" dir="ltr">Features features</code> </td> </tr> </table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/train/Example" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/train/Example</a>
  </p>
</div>
