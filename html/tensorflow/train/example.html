<h1 class="devsite-page-title">tf.train.Example</h1> <devsite-bookmark></devsite-bookmark>      <table class="tfo-notebook-buttons tfo-api nocontent" align="left">  <td> <a target="_blank" href="https://github.com/tensorflow/tensorflow/blob/v2.9.0/tensorflow/core/example/example.proto">  View source on GitHub </a> </td> </table> <p>An <code translate="no" dir="ltr">Example</code> is a standard proto storing data for training and inference.</p> <section class="expandable"> <h4 class="showalways" id="view-aliases" data-text="View aliases">View aliases</h4> <p> <b>Compat aliases for migration</b> </p>
<p>See <a href="https://www.tensorflow.org/guide/migrate">Migration guide</a> for more details.</p> <p><a href="https://www.tensorflow.org/api_docs/python/tf/train/Example"><code translate="no" dir="ltr">tf.compat.v1.train.Example</code></a></p> </section>  <p>An <code translate="no" dir="ltr">Example</code> proto is a representation of the following python type:</p> <pre class="prettyprint" translate="no" dir="ltr" data-language="cpp">Dict[str,
     Union[List[bytes],
           List[int64],
           List[float]]]
</pre> <p>It contains a key-value store <a href="example.html#features"><code translate="no" dir="ltr">Example.features</code></a> where each key (string) maps to a <a href="feature.html"><code translate="no" dir="ltr">tf.train.Feature</code></a> message which contains a fixed-type list. This flexible and compact format allows the storage of large amounts of typed data, but requires that the data shape and use be determined by the configuration files and parsers that are used to read and write this format (refer to <a href="../io/parse_example.html"><code translate="no" dir="ltr">tf.io.parse_example</code></a> for details).</p> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
from google.protobuf import text_format
example = text_format.Parse('''
  features {
    feature {key: "my_feature"
             value {int64_list {value: [1, 2, 3, 4]} } }
  }''',
  tf.train.Example())
</pre> <p>Use <a href="../io/parse_example.html"><code translate="no" dir="ltr">tf.io.parse_example</code></a> to extract tensors from a serialized <code translate="no" dir="ltr">Example</code> proto:</p> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
tf.io.parse_example(
    example.SerializeToString(),
    features = {'my_feature': tf.io.RaggedFeature(dtype=tf.int64)})
{'my_feature': &lt;tf.Tensor: shape=(4,), dtype=float32,
                           numpy=array([1, 2, 3, 4], dtype=int64)&gt;}
</pre> <p>While the list of keys, and the contents of each key <em>could</em> be different for every <code translate="no" dir="ltr">Example</code>, TensorFlow expects a fixed list of keys, each with a fixed <code translate="no" dir="ltr">tf.dtype</code>. A conformant <code translate="no" dir="ltr">Example</code> dataset obeys the following conventions:</p> <ul> <li>If a Feature <code translate="no" dir="ltr">K</code> exists in one example with data type <code translate="no" dir="ltr">T</code>, it must be of type <code translate="no" dir="ltr">T</code> in all other examples when present. It may be omitted.</li> <li>The number of instances of Feature <code translate="no" dir="ltr">K</code> list data may vary across examples, depending on the requirements of the model.</li> <li>If a Feature <code translate="no" dir="ltr">K</code> doesn't exist in an example, a <code translate="no" dir="ltr">K</code>-specific default will be used, if configured.</li> <li>If a Feature <code translate="no" dir="ltr">K</code> exists in an example but contains no items, the intent is considered to be an empty tensor and no default will be used.</li> </ul>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Attributes</th></tr> 
<tr> <td> <code translate="no" dir="ltr">features</code> </td> <td> <code translate="no" dir="ltr">Features features</code> </td> </tr> </table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/train/Example" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/train/Example</a>
  </p>
</div>
