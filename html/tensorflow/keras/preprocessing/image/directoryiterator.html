<h1 class="devsite-page-title" tabindex="-1"> tf.keras.preprocessing.image.DirectoryIterator </h1> <devsite-feature-tooltip ack-key="AckCollectionsBookmarkTooltipDismiss" analytics-category="Site-Wide Custom Events" analytics-action-show="Callout Profile displayed" analytics-action-close="Callout Profile dismissed" analytics-label="Create Collection Callout" class="devsite-page-bookmark-tooltip nocontent" dismiss-button="true" id="devsite-collections-dropdown" dismiss-button-text="Dismiss" close-button-text="Got it">    </devsite-feature-tooltip> <div class="devsite-page-title-meta"><devsite-view-release-notes></devsite-view-release-notes></div>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.keras.preprocessing.image.DirectoryIterator"> <meta itemprop="path" content="Stable"> <meta itemprop="property" content="__getitem__"> <meta itemprop="property" content="__init__"> <meta itemprop="property" content="__iter__"> <meta itemprop="property" content="__len__"> <meta itemprop="property" content="on_epoch_end"> <meta itemprop="property" content="reset"> <meta itemprop="property" content="set_processing_attrs"> <meta itemprop="property" content="allowed_class_modes"> <meta itemprop="property" content="white_list_formats"> </div>   <p>Iterator capable of reading images from a directory on disk.</p> <p>Inherits From: <a href="iterator.html"><code translate="no" dir="ltr">Iterator</code></a>, <a href="../../utils/pydataset.html"><code translate="no" dir="ltr">PyDataset</code></a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">tf.keras.preprocessing.image.DirectoryIterator(
    directory,
    image_data_generator,
    target_size=(256, 256),
    color_mode='rgb',
    classes=None,
    class_mode='categorical',
    batch_size=32,
    shuffle=True,
    seed=None,
    data_format=None,
    save_to_dir=None,
    save_prefix='',
    save_format='png',
    follow_links=False,
    subset=None,
    interpolation='nearest',
    keep_aspect_ratio=False,
    dtype=None
)
</pre></devsite-code>  <p>DEPRECATED.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Attributes</th></tr> 
<tr> <td> <code translate="no" dir="ltr">filepaths</code> </td> <td> List of absolute paths to image files. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">labels</code> </td> <td> Class labels of every observation. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">max_queue_size</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">num_batches</code> </td> <td> Number of batches in the PyDataset. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">sample_weight</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">use_multiprocessing</code> </td> <td> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">workers</code> </td> <td> 
</td> </tr> </table> <h2 id="methods" data-text="Methods" tabindex="-1">Methods</h2> <h3 id="on_epoch_end" data-text="on_epoch_end" tabindex="-1"><code translate="no" dir="ltr">on_epoch_end</code></h3> <p><a target="_blank" class="external" href="https://github.com/keras-team/keras/tree/v3.3.3/keras/src/legacy/preprocessing/image.py#L73-L74">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">on_epoch_end()
</pre></devsite-code> <p>Method called at the end of every epoch.</p> <h3 id="reset" data-text="reset" tabindex="-1"><code translate="no" dir="ltr">reset</code></h3> <p><a target="_blank" class="external" href="https://github.com/keras-team/keras/tree/v3.3.3/keras/src/legacy/preprocessing/image.py#L76-L77">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">reset()
</pre></devsite-code> <h3 id="set_processing_attrs" data-text="set_processing_attrs" tabindex="-1"><code translate="no" dir="ltr">set_processing_attrs</code></h3> <p><a target="_blank" class="external" href="https://github.com/keras-team/keras/tree/v3.3.3/keras/src/legacy/preprocessing/image.py#L210-L296">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">set_processing_attrs(
    image_data_generator,
    target_size,
    color_mode,
    data_format,
    save_to_dir,
    save_prefix,
    save_format,
    subset,
    interpolation,
    keep_aspect_ratio
)
</pre></devsite-code> <p>Sets attributes to use later for processing files into a batch.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">image_data_generator</code> </td> <td> Instance of <code translate="no" dir="ltr">ImageDataGenerator</code> to use for random transformations and normalization. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">target_size</code> </td> <td> tuple of integers, dimensions to resize input images to. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">color_mode</code> </td> <td> One of <code translate="no" dir="ltr">"rgb"</code>, <code translate="no" dir="ltr">"rgba"</code>, <code translate="no" dir="ltr">"grayscale"</code>. Color mode to read images. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">data_format</code> </td> <td> String, one of <code translate="no" dir="ltr">channels_first</code>, <code translate="no" dir="ltr">channels_last</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">save_to_dir</code> </td> <td> Optional directory where to save the pictures being yielded, in a viewable format. This is useful for visualizing the random transformations being applied, for debugging purposes. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">save_prefix</code> </td> <td> String prefix to use for saving sample images (if <code translate="no" dir="ltr">save_to_dir</code> is set). </td> </tr>
<tr> <td> <code translate="no" dir="ltr">save_format</code> </td> <td> Format to use for saving sample images (if <code translate="no" dir="ltr">save_to_dir</code> is set). </td> </tr>
<tr> <td> <code translate="no" dir="ltr">subset</code> </td> <td> Subset of data (<code translate="no" dir="ltr">"training"</code> or <code translate="no" dir="ltr">"validation"</code>) if validation_split is set in ImageDataGenerator. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">interpolation</code> </td> <td> Interpolation method used to resample the image if the target size is different from that of the loaded image. Supported methods are "nearest", "bilinear", and "bicubic". If PIL version 1.1.3 or newer is installed, "lanczos" is also supported. If PIL version 3.4.0 or newer is installed, "box" and "hamming" are also supported. By default, "nearest" is used. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">keep_aspect_ratio</code> </td> <td> Boolean, whether to resize images to a target size without aspect ratio distortion. The image is cropped in the center with target aspect ratio before resizing. </td> </tr> </table> <h3 id="__getitem__" data-text="__getitem__" tabindex="-1"><code translate="no" dir="ltr">__getitem__</code></h3> <p><a target="_blank" class="external" href="https://github.com/keras-team/keras/tree/v3.3.3/keras/src/legacy/preprocessing/image.py#L53-L68">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">__getitem__(
    idx
)
</pre></devsite-code> <p>Gets batch at position <code translate="no" dir="ltr">index</code>.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">index</code> </td> <td> position of the batch in the PyDataset. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> A batch </td> </tr> 
</table> <h3 id="__iter__" data-text="__iter__" tabindex="-1"><code translate="no" dir="ltr">__iter__</code></h3> <p><a target="_blank" class="external" href="https://github.com/keras-team/keras/tree/v3.3.3/keras/src/legacy/preprocessing/image.py#L102-L105">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">__iter__()
</pre></devsite-code> <h3 id="__len__" data-text="__len__" tabindex="-1"><code translate="no" dir="ltr">__len__</code></h3> <p><a target="_blank" class="external" href="https://github.com/keras-team/keras/tree/v3.3.3/keras/src/legacy/preprocessing/image.py#L70-L71">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">__len__()
</pre></devsite-code>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Class Variables</th></tr> 
<tr> <td> allowed_class_modes </td> <td> 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">{
 'binary',
 'categorical',
 'input',
 'sparse',
 None
}
</pre></devsite-code> 
</td> </tr>
<tr> <td> white_list_formats </td> <td> <code translate="no" dir="ltr">('png', 'jpg', 'jpeg', 'bmp', 'ppm', 'tif', 'tiff')</code> </td> </tr> </table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/keras/preprocessing/image/DirectoryIterator" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/keras/preprocessing/image/DirectoryIterator</a>
  </p>
</div>
