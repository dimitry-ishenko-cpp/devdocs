<h1 class="devsite-page-title" tabindex="-1"> tf.keras.preprocessing.image.ImageDataGenerator </h1> <devsite-feature-tooltip ack-key="AckCollectionsBookmarkTooltipDismiss" analytics-category="Site-Wide Custom Events" analytics-action-show="Callout Profile displayed" analytics-action-close="Callout Profile dismissed" analytics-label="Create Collection Callout" class="devsite-page-bookmark-tooltip nocontent" dismiss-button="true" id="devsite-collections-dropdown" dismiss-button-text="Dismiss" close-button-text="Got it">    </devsite-feature-tooltip> <div class="devsite-page-title-meta"><devsite-view-release-notes></devsite-view-release-notes></div>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.keras.preprocessing.image.ImageDataGenerator"> <meta itemprop="path" content="Stable"> <meta itemprop="property" content="__init__"> <meta itemprop="property" content="apply_transform"> <meta itemprop="property" content="fit"> <meta itemprop="property" content="flow"> <meta itemprop="property" content="flow_from_dataframe"> <meta itemprop="property" content="flow_from_directory"> <meta itemprop="property" content="get_random_transform"> <meta itemprop="property" content="random_transform"> <meta itemprop="property" content="standardize"> </div>   <p>DEPRECATED.</p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">tf.keras.preprocessing.image.ImageDataGenerator(
    featurewise_center=False,
    samplewise_center=False,
    featurewise_std_normalization=False,
    samplewise_std_normalization=False,
    zca_whitening=False,
    zca_epsilon=1e-06,
    rotation_range=0,
    width_shift_range=0.0,
    height_shift_range=0.0,
    brightness_range=None,
    shear_range=0.0,
    zoom_range=0.0,
    channel_shift_range=0.0,
    fill_mode='nearest',
    cval=0.0,
    horizontal_flip=False,
    vertical_flip=False,
    rescale=None,
    preprocessing_function=None,
    data_format=None,
    validation_split=0.0,
    interpolation_order=1,
    dtype=None
)
</pre></devsite-code> <h3 id="used-in-the-notebooks" data-text="Used in the notebooks" tabindex="-1">Used in the notebooks</h3> <table class="vertical-rules"> <thead> <tr> <th>Used in the guide</th> </tr> </thead> <tbody> <tr> <td> <ul> <li><a href="https://www.tensorflow.org/guide/data">tf.data: Build TensorFlow input pipelines</a></li> </ul> </td> </tr> </tbody> </table> <h2 id="methods" data-text="Methods" tabindex="-1">Methods</h2> <h3 id="apply_transform" data-text="apply_transform" tabindex="-1"><code translate="no" dir="ltr">apply_transform</code></h3> <p><a target="_blank" class="external" href="https://github.com/keras-team/keras/tree/v3.3.3/keras/src/legacy/preprocessing/image.py#L1385-L1447">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">apply_transform(
    x, transform_parameters
)
</pre></devsite-code> <p>Applies a transformation to an image according to given parameters.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">x</code> </td> <td> 3D tensor, single image. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">transform_parameters</code> </td> <td> Dictionary with string - parameter pairs describing the transformation. Currently, the following parameters from the dictionary are used: <ul> <li>
<code translate="no" dir="ltr">'theta'</code>: Float. Rotation angle in degrees.</li> <li>
<code translate="no" dir="ltr">'tx'</code>: Float. Shift in the x direction.</li> <li>
<code translate="no" dir="ltr">'ty'</code>: Float. Shift in the y direction.</li> <li>
<code translate="no" dir="ltr">'shear'</code>: Float. Shear angle in degrees.</li> <li>
<code translate="no" dir="ltr">'zx'</code>: Float. Zoom in the x direction.</li> <li>
<code translate="no" dir="ltr">'zy'</code>: Float. Zoom in the y direction.</li> <li>
<code translate="no" dir="ltr">'flip_horizontal'</code>: Boolean. Horizontal flip.</li> <li>
<code translate="no" dir="ltr">'flip_vertical'</code>: Boolean. Vertical flip.</li> <li>
<code translate="no" dir="ltr">'channel_shift_intensity'</code>: Float. Channel shift intensity.</li> <li>
<code translate="no" dir="ltr">'brightness'</code>: Float. Brightness shift intensity. </li>
</ul>
</td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> A transformed version of the input (same shape). </td> </tr> 
</table> <h3 id="fit" data-text="fit" tabindex="-1"><code translate="no" dir="ltr">fit</code></h3> <p><a target="_blank" class="external" href="https://github.com/keras-team/keras/tree/v3.3.3/keras/src/legacy/preprocessing/image.py#L1462-L1547">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">fit(
    x, augment=False, rounds=1, seed=None
)
</pre></devsite-code> <p>Fits the data generator to some sample data.</p> <p>This computes the internal data stats related to the data-dependent transformations, based on an array of sample data.</p> <p>Only required if <code translate="no" dir="ltr">featurewise_center</code> or <code translate="no" dir="ltr">featurewise_std_normalization</code> or <code translate="no" dir="ltr">zca_whitening</code> are set to <code translate="no" dir="ltr">True</code>.</p> <p>When <code translate="no" dir="ltr">rescale</code> is set to a value, rescaling is applied to sample data before computing the internal data stats.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">x</code> </td> <td> Sample data. Should have rank 4. In case of grayscale data, the channels axis should have value 1, in case of RGB data, it should have value 3, and in case of RGBA data, it should have value 4. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">augment</code> </td> <td> Boolean (default: False). Whether to fit on randomly augmented samples. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">rounds</code> </td> <td> Int (default: 1). If using data augmentation (<code translate="no" dir="ltr">augment=True</code>), this is how many augmentation passes over the data to use. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">seed</code> </td> <td> Int (default: None). Random seed. </td> </tr> </table> <h3 id="flow" data-text="flow" tabindex="-1"><code translate="no" dir="ltr">flow</code></h3> <p><a target="_blank" class="external" href="https://github.com/keras-team/keras/tree/v3.3.3/keras/src/legacy/preprocessing/image.py#L1089-L1118">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">flow(
    x,
    y=None,
    batch_size=32,
    shuffle=True,
    sample_weight=None,
    seed=None,
    save_to_dir=None,
    save_prefix='',
    save_format='png',
    ignore_class_split=False,
    subset=None
)
</pre></devsite-code> <h3 id="flow_from_dataframe" data-text="flow_from_dataframe" tabindex="-1"><code translate="no" dir="ltr">flow_from_dataframe</code></h3> <p><a target="_blank" class="external" href="https://github.com/keras-team/keras/tree/v3.3.3/keras/src/legacy/preprocessing/image.py#L1159-L1230">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">flow_from_dataframe(
    dataframe,
    directory=None,
    x_col='filename',
    y_col='class',
    weight_col=None,
    target_size=(256, 256),
    color_mode='rgb',
    classes=None,
    class_mode='categorical',
    batch_size=32,
    shuffle=True,
    seed=None,
    save_to_dir=None,
    save_prefix='',
    save_format='png',
    subset=None,
    interpolation='nearest',
    validate_filenames=True,
    **kwargs
)
</pre></devsite-code> <h3 id="flow_from_directory" data-text="flow_from_directory" tabindex="-1"><code translate="no" dir="ltr">flow_from_directory</code></h3> <p><a target="_blank" class="external" href="https://github.com/keras-team/keras/tree/v3.3.3/keras/src/legacy/preprocessing/image.py#L1120-L1157">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">flow_from_directory(
    directory,
    target_size=(256, 256),
    color_mode='rgb',
    classes=None,
    class_mode='categorical',
    batch_size=32,
    shuffle=True,
    seed=None,
    save_to_dir=None,
    save_prefix='',
    save_format='png',
    follow_links=False,
    subset=None,
    interpolation='nearest',
    keep_aspect_ratio=False
)
</pre></devsite-code> <h3 id="get_random_transform" data-text="get_random_transform" tabindex="-1"><code translate="no" dir="ltr">get_random_transform</code></h3> <p><a target="_blank" class="external" href="https://github.com/keras-team/keras/tree/v3.3.3/keras/src/legacy/preprocessing/image.py#L1294-L1383">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">get_random_transform(
    img_shape, seed=None
)
</pre></devsite-code> <p>Generates random parameters for a transformation.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">img_shape</code> </td> <td> Tuple of integers. Shape of the image that is transformed. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">seed</code> </td> <td> Random seed. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> A dictionary containing randomly chosen parameters describing the transformation. </td> </tr> 
</table> <h3 id="random_transform" data-text="random_transform" tabindex="-1"><code translate="no" dir="ltr">random_transform</code></h3> <p><a target="_blank" class="external" href="https://github.com/keras-team/keras/tree/v3.3.3/keras/src/legacy/preprocessing/image.py#L1449-L1460">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">random_transform(
    x, seed=None
)
</pre></devsite-code> <p>Applies a random transformation to an image.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">x</code> </td> <td> 3D tensor, single image. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">seed</code> </td> <td> Random seed. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> A randomly transformed version of the input (same shape). </td> </tr> 
</table> <h3 id="standardize" data-text="standardize" tabindex="-1"><code translate="no" dir="ltr">standardize</code></h3> <p><a target="_blank" class="external" href="https://github.com/keras-team/keras/tree/v3.3.3/keras/src/legacy/preprocessing/image.py#L1232-L1292">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">standardize(
    x
)
</pre></devsite-code> <p>Applies the normalization configuration in-place to a batch of inputs.</p> <p><code translate="no" dir="ltr">x</code> is changed in-place since the function is mainly used internally to standardize images and feed them to your network. If a copy of <code translate="no" dir="ltr">x</code> would be created instead it would have a significant performance cost. If you want to apply this method without changing the input in-place you can call the method creating a copy before:</p> <p>standardize(np.copy(x))</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">x</code> </td> <td> Batch of inputs to be normalized. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> The inputs, normalized. </td> </tr> 
</table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/keras/preprocessing/image/ImageDataGenerator" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/keras/preprocessing/image/ImageDataGenerator</a>
  </p>
</div>
