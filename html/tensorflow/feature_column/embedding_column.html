<h1 class="devsite-page-title" tabindex="-1"> tf.feature_column.embedding_column </h1> <devsite-feature-tooltip ack-key="AckCollectionsBookmarkTooltipDismiss" analytics-category="Site-Wide Custom Events" analytics-action-show="Callout Profile displayed" analytics-action-close="Callout Profile dismissed" analytics-label="Create Collection Callout" class="devsite-page-bookmark-tooltip nocontent" dismiss-button="true" id="devsite-collections-dropdown" dismiss-button-text="Dismiss" close-button-text="Got it">    </devsite-feature-tooltip> <div class="devsite-page-title-meta"><devsite-view-release-notes></devsite-view-release-notes></div>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.feature_column.embedding_column"> <meta itemprop="path" content="Stable"> </div>   <p><code translate="no" dir="ltr">DenseColumn</code> that converts from sparse, categorical input. (deprecated)</p> <aside class="warning"><strong>Warning:</strong><span> tf.feature_column is not recommended for new code. Instead, feature preprocessing can be done directly using either <a href="https://www.tensorflow.org/guide/migrate/migrating_feature_columns">Keras preprocessing layers</a> or through the one-stop utility <a href="../keras/utils/featurespace.html"><code translate="no" dir="ltr">tf.keras.utils.FeatureSpace</code></a> built on top of them. See the <a href="https://tensorflow.org/guide/migrate">migration guide</a> for details.</span></aside> <section class="expandable"> <h4 class="showalways" id="view-aliases" data-text="View aliases" tabindex="-1">View aliases</h4> <p> <b>Compat aliases for migration</b> </p>
<p>See <a href="https://www.tensorflow.org/guide/migrate">Migration guide</a> for more details.</p> <p><a href="embedding_column.html"><code translate="no" dir="ltr">tf.compat.v1.feature_column.embedding_column</code></a></p> </section> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">tf.feature_column.embedding_column(
    categorical_column,
    dimension,
    combiner='mean',
    initializer=None,
    ckpt_to_load_from=None,
    tensor_name_in_ckpt=None,
    max_norm=None,
    trainable=True,
    use_safe_embedding_lookup=True
)
</pre></devsite-code> <h3 id="used-in-the-notebooks" data-text="Used in the notebooks" tabindex="-1">Used in the notebooks</h3> <table class="vertical-rules"> <thead> <tr> <th>Used in the guide</th> <th>Used in the tutorials</th> </tr> </thead> <tbody> <tr> <td> <ul> <li><a href="https://www.tensorflow.org/guide/migrate/migrating_feature_columns">Migrate `tf.feature_column`s to Keras preprocessing layers</a></li> </ul> </td> <td> <ul> <li><a href="https://www.tensorflow.org/tutorials/structured_data/feature_columns">Classify structured data with feature columns</a></li> </ul> </td> </tr> </tbody> </table> <aside class="deprecated"><strong>Deprecated:</strong><span> THIS FUNCTION IS DEPRECATED. It will be removed in a future version. Instructions for updating: Use Keras preprocessing layers instead, either directly or via the <a href="../keras/utils/featurespace.html"><code translate="no" dir="ltr">tf.keras.utils.FeatureSpace</code></a> utility. Each of <code translate="no" dir="ltr">tf.feature_column.*</code> has a functional equivalent in <code translate="no" dir="ltr">tf.keras.layers</code> for feature preprocessing when training a Keras model.</span></aside> <p>Use this when your inputs are sparse, but you want to convert them to a dense representation (e.g., to feed to a DNN).</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">categorical_column</code> </td> <td> A <code translate="no" dir="ltr">CategoricalColumn</code> created by a <code translate="no" dir="ltr">categorical_column_with_*</code> function. This column produces the sparse IDs that are inputs to the embedding lookup. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">dimension</code> </td> <td> An integer specifying dimension of the embedding, must be &gt; 0. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">combiner</code> </td> <td> A string specifying how to reduce if there are multiple entries in a single row. Currently 'mean', 'sqrtn' and 'sum' are supported, with 'mean' the default. 'sqrtn' often achieves good accuracy, in particular with bag-of-words columns. Each of this can be thought as example level normalizations on the column. For more information, see <code translate="no" dir="ltr">tf.embedding_lookup_sparse</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">initializer</code> </td> <td> A variable initializer function to be used in embedding variable initialization. If not specified, defaults to <code translate="no" dir="ltr">truncated_normal_initializer</code> with mean <code translate="no" dir="ltr">0.0</code> and standard deviation <code translate="no" dir="ltr">1/sqrt(dimension)</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">ckpt_to_load_from</code> </td> <td> String representing checkpoint name/pattern from which to restore column weights. Required if <code translate="no" dir="ltr">tensor_name_in_ckpt</code> is not <code translate="no" dir="ltr">None</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">tensor_name_in_ckpt</code> </td> <td> Name of the <code translate="no" dir="ltr">Tensor</code> in <code translate="no" dir="ltr">ckpt_to_load_from</code> from which to restore the column weights. Required if <code translate="no" dir="ltr">ckpt_to_load_from</code> is not <code translate="no" dir="ltr">None</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">max_norm</code> </td> <td> If not <code translate="no" dir="ltr">None</code>, embedding values are l2-normalized to this value. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">trainable</code> </td> <td> Whether or not the embedding is trainable. Default is True. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">use_safe_embedding_lookup</code> </td> <td> If true, uses safe_embedding_lookup_sparse instead of embedding_lookup_sparse. safe_embedding_lookup_sparse ensures there are no empty rows and all weights and ids are positive at the expense of extra compute cost. This only applies to rank 2 (NxM) shaped input tensors. Defaults to true, consider turning off if the above checks are not needed. Note that having empty rows will not trigger any error though the output result might be 0 or omitted. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> <code translate="no" dir="ltr">DenseColumn</code> that converts from sparse input. </td> </tr> 
</table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> if <code translate="no" dir="ltr">dimension</code> not &gt; 0. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> if exactly one of <code translate="no" dir="ltr">ckpt_to_load_from</code> and <code translate="no" dir="ltr">tensor_name_in_ckpt</code> is specified. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> if <code translate="no" dir="ltr">initializer</code> is specified and is not callable. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">RuntimeError</code> </td> <td> If eager execution is enabled. </td> </tr> </table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/feature_column/embedding_column" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/feature_column/embedding_column</a>
  </p>
</div>
