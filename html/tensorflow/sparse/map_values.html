<h1 class="devsite-page-title">tf.sparse.map_values</h1> <devsite-bookmark></devsite-bookmark>       <p>Applies <code translate="no" dir="ltr">op</code> to the <code translate="no" dir="ltr">.values</code> tensor of one or more <code translate="no" dir="ltr">SparseTensor</code>s.</p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.sparse.map_values(
    op, *args, **kwargs
)
</pre>  <p>Replaces any <code translate="no" dir="ltr">SparseTensor</code> in <code translate="no" dir="ltr">args</code> or <code translate="no" dir="ltr">kwargs</code> with its <code translate="no" dir="ltr">values</code> tensor (which contains the non-default values for the SparseTensor), and then calls <code translate="no" dir="ltr">op</code>. Returns a <code translate="no" dir="ltr">SparseTensor</code> that is constructed from the input <code translate="no" dir="ltr">SparseTensor</code>s' <code translate="no" dir="ltr">indices</code>, <code translate="no" dir="ltr">dense_shape</code>, and the value returned by the <code translate="no" dir="ltr">op</code>.</p> <p>If the input arguments contain multiple <code translate="no" dir="ltr">SparseTensor</code>s, then they must have equal <code translate="no" dir="ltr">indices</code> and dense shapes.</p> <h4 id="examples" data-text="Examples:">Examples:</h4> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
s = tf.sparse.from_dense([[1, 2, 0],
                          [0, 4, 0],
                          [1, 0, 0]])
tf.sparse.to_dense(tf.sparse.map_values(tf.ones_like, s)).numpy()
array([[1, 1, 0],
       [0, 1, 0],
       [1, 0, 0]], dtype=int32)
</pre> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
tf.sparse.to_dense(tf.sparse.map_values(tf.multiply, s, s)).numpy()
array([[ 1,  4,  0],
       [ 0, 16,  0],
       [ 1,  0,  0]], dtype=int32)
</pre> <pre class="devsite-click-to-copy prettyprint lang-py" translate="no" dir="ltr" data-language="cpp">
tf.sparse.to_dense(tf.sparse.map_values(tf.add, s, 5)).numpy()
array([[6, 7, 0],
       [0, 9, 0],
       [6, 0, 0]], dtype=int32)
</pre> <blockquote class="note">
<strong>Note:</strong><span> even though <code translate="no" dir="ltr">tf.add(0, 5) != 0</code>, implicit zeros will remain unchanged. However, if the sparse tensor contains any explict zeros, these will be affected by the mapping!</span>
</blockquote>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">op</code> </td> <td> The operation that should be applied to the SparseTensor <code translate="no" dir="ltr">values</code>. <code translate="no" dir="ltr">op</code> is typically an element-wise operation (such as math_ops.add), but any operation that preserves the shape can be used. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">*args</code> </td> <td> Arguments for <code translate="no" dir="ltr">op</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">**kwargs</code> </td> <td> Keyword arguments for <code translate="no" dir="ltr">op</code>. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> A <code translate="no" dir="ltr">SparseTensor</code> whose <code translate="no" dir="ltr">indices</code> and <code translate="no" dir="ltr">dense_shape</code> matches the <code translate="no" dir="ltr">indices</code> and <code translate="no" dir="ltr">dense_shape</code> of all input <code translate="no" dir="ltr">SparseTensor</code>s. </td> </tr> 
</table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> If args contains no <code translate="no" dir="ltr">SparseTensor</code>, or if the <code translate="no" dir="ltr">indices</code> or <code translate="no" dir="ltr">dense_shape</code>s of the input <code translate="no" dir="ltr">SparseTensor</code>s are not equal. </td> </tr> </table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/sparse/map_values" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/sparse/map_values</a>
  </p>
</div>
