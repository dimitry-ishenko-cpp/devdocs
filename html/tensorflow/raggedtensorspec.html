<h1 class="devsite-page-title" tabindex="-1"> tf.RaggedTensorSpec </h1> <devsite-feature-tooltip ack-key="AckCollectionsBookmarkTooltipDismiss" analytics-category="Site-Wide Custom Events" analytics-action-show="Callout Profile displayed" analytics-action-close="Callout Profile dismissed" analytics-label="Create Collection Callout" class="devsite-page-bookmark-tooltip nocontent" dismiss-button="true" id="devsite-collections-dropdown" dismiss-button-text="Dismiss" close-button-text="Got it">    </devsite-feature-tooltip> <div class="devsite-page-title-meta"><devsite-view-release-notes></devsite-view-release-notes></div>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.RaggedTensorSpec"> <meta itemprop="path" content="Stable"> <meta itemprop="property" content="__eq__"> <meta itemprop="property" content="__init__"> <meta itemprop="property" content="__ne__"> <meta itemprop="property" content="experimental_as_proto"> <meta itemprop="property" content="experimental_from_proto"> <meta itemprop="property" content="experimental_type_proto"> <meta itemprop="property" content="from_value"> <meta itemprop="property" content="is_compatible_with"> <meta itemprop="property" content="is_subtype_of"> <meta itemprop="property" content="most_specific_common_supertype"> <meta itemprop="property" content="most_specific_compatible_type"> </div>   <p>Type specification for a <a href="raggedtensor.html"><code translate="no" dir="ltr">tf.RaggedTensor</code></a>.</p> <p>Inherits From: <a href="typespec.html"><code translate="no" dir="ltr">TypeSpec</code></a>, <a href="types/experimental/tracetype.html"><code translate="no" dir="ltr">TraceType</code></a></p> <section class="expandable"> <h4 class="showalways" id="view-aliases" data-text="View aliases" tabindex="-1">View aliases</h4> <p> <b>Compat aliases for migration</b> </p>
<p>See <a href="https://www.tensorflow.org/guide/migrate">Migration guide</a> for more details.</p> <p><a href="raggedtensorspec.html"><code translate="no" dir="ltr">tf.compat.v1.RaggedTensorSpec</code></a></p> </section> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">tf.RaggedTensorSpec(
    shape=None,
    dtype=tf.dtypes.float32,
    ragged_rank=None,
    row_splits_dtype=tf.dtypes.int64,
    flat_values_spec=None
)
</pre></devsite-code> <h3 id="used-in-the-notebooks" data-text="Used in the notebooks" tabindex="-1">Used in the notebooks</h3> <table class="vertical-rules"> <thead> <tr> <th>Used in the guide</th> </tr> </thead> <tbody> <tr> <td> <ul> <li><a href="https://www.tensorflow.org/guide/ragged_tensor">Ragged tensors</a></li> <li><a href="https://www.tensorflow.org/text/guide/subwords_tokenizer">Subword tokenizers</a></li> </ul> </td> </tr> </tbody> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">shape</code> </td> <td> The shape of the RaggedTensor, or <code translate="no" dir="ltr">None</code> to allow any shape. If a shape is specified, then all ragged dimensions must have size <code translate="no" dir="ltr">None</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">dtype</code> </td> <td> <a href="dtypes/dtype.html"><code translate="no" dir="ltr">tf.DType</code></a> of values in the RaggedTensor. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">ragged_rank</code> </td> <td> Python integer, the number of times the RaggedTensor's flat_values is partitioned. Defaults to <code translate="no" dir="ltr">shape.ndims - 1</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">row_splits_dtype</code> </td> <td> <code translate="no" dir="ltr">dtype</code> for the RaggedTensor's <code translate="no" dir="ltr">row_splits</code> tensor. One of <a href="../tf.html#int32"><code translate="no" dir="ltr">tf.int32</code></a> or <a href="../tf.html#int64"><code translate="no" dir="ltr">tf.int64</code></a>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">flat_values_spec</code> </td> <td> TypeSpec for flat_value of the RaggedTensor. It shall be provided when the flat_values is a CompositeTensor rather then Tensor. If both <code translate="no" dir="ltr">dtype</code> and <code translate="no" dir="ltr">flat_values_spec</code> and are provided, <code translate="no" dir="ltr">dtype</code> must be the same as <code translate="no" dir="ltr">flat_values_spec.dtype</code>. (experimental) </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Attributes</th></tr> 
<tr> <td> <code translate="no" dir="ltr">dtype</code> </td> <td> The <a href="dtypes/dtype.html"><code translate="no" dir="ltr">tf.dtypes.DType</code></a> specified by this type for the RaggedTensor. 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">rt = tf.ragged.constant([["a"], ["b", "c"]], dtype=tf.string)
tf.type_spec_from_value(rt).dtype
tf.string</pre></devsite-code> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">flat_values_spec</code> </td> <td> The <code translate="no" dir="ltr">TypeSpec</code> of the flat_values of RaggedTensor. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">ragged_rank</code> </td> <td> The number of times the RaggedTensor's flat_values is partitioned. <p>Defaults to <code translate="no" dir="ltr">shape.ndims - 1</code>.</p> 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">values = tf.ragged.constant([[1, 2, 3], [4], [5, 6], [7, 8, 9, 10]])
tf.type_spec_from_value(values).ragged_rank
1</pre></devsite-code> 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">rt1 = tf.RaggedTensor.from_uniform_row_length(values, 2)
tf.type_spec_from_value(rt1).ragged_rank
2</pre></devsite-code> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">row_splits_dtype</code> </td> <td> The <a href="dtypes/dtype.html"><code translate="no" dir="ltr">tf.dtypes.DType</code></a> of the RaggedTensor's <code translate="no" dir="ltr">row_splits</code>. 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">rt = tf.ragged.constant([[1, 2, 3], [4]], row_splits_dtype=tf.int64)
tf.type_spec_from_value(rt).row_splits_dtype
tf.int64</pre></devsite-code> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">shape</code> </td> <td> The statically known shape of the RaggedTensor. 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">rt = tf.ragged.constant([[0], [1, 2]])
tf.type_spec_from_value(rt).shape
TensorShape([2, None])</pre></devsite-code> 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">rt = tf.ragged.constant([[[0, 1]], [[1, 2], [3, 4]]], ragged_rank=1)
tf.type_spec_from_value(rt).shape
TensorShape([2, None, 2])</pre></devsite-code> 
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">value_type</code> </td> <td> The Python type for values that are compatible with this TypeSpec. <p>In particular, all values that are compatible with this TypeSpec must be an instance of this type. </p>
</td> </tr> </table> <h2 id="methods" data-text="Methods" tabindex="-1">Methods</h2> <h3 id="experimental_as_proto" data-text="experimental_as_proto" tabindex="-1"><code translate="no" dir="ltr">experimental_as_proto</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/framework/type_spec.py#L217-L222">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">experimental_as_proto() -&gt; struct_pb2.TypeSpecProto
</pre></devsite-code> <p>Returns a proto representation of the TypeSpec instance.</p> <p>Do NOT override for custom non-TF types.</p> <h3 id="experimental_from_proto" data-text="experimental_from_proto" tabindex="-1"><code translate="no" dir="ltr">experimental_from_proto</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/framework/type_spec.py#L204-L215">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">@classmethod
experimental_from_proto(
    proto: struct_pb2.TypeSpecProto
) -&gt; 'TypeSpec'
</pre></devsite-code> <p>Returns a TypeSpec instance based on the serialized proto.</p> <p>Do NOT override for custom non-TF types.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">proto</code> </td> <td> Proto generated using 'experimental_as_proto'. </td> </tr> </table> <h3 id="experimental_type_proto" data-text="experimental_type_proto" tabindex="-1"><code translate="no" dir="ltr">experimental_type_proto</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/framework/type_spec.py#L196-L202">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">@classmethod
experimental_type_proto() -&gt; Type[struct_pb2.TypeSpecProto]
</pre></devsite-code> <p>Returns the type of proto associated with TypeSpec serialization.</p> <p>Do NOT override for custom non-TF types.</p> <h3 id="from_value" data-text="from_value" tabindex="-1"><code translate="no" dir="ltr">from_value</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/ops/ragged/ragged_tensor.py#L2643-L2661">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">@classmethod
from_value(
    value
)
</pre></devsite-code> <h3 id="is_compatible_with" data-text="is_compatible_with" tabindex="-1"><code translate="no" dir="ltr">is_compatible_with</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/ops/ragged/ragged_tensor.py#L2468-L2478">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">is_compatible_with(
    spec_or_value
)
</pre></devsite-code> <p>Returns true if <code translate="no" dir="ltr">spec_or_value</code> is compatible with this TypeSpec.</p> <p>Prefer using "is_subtype_of" and "most_specific_common_supertype" wherever possible.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">spec_or_value</code> </td> <td> A TypeSpec or TypeSpec associated value to compare against. </td> </tr> </table> <h3 id="is_subtype_of" data-text="is_subtype_of" tabindex="-1"><code translate="no" dir="ltr">is_subtype_of</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/framework/type_spec.py#L109-L146">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">is_subtype_of(
    other: tf.types.experimental.TraceType
) -&gt; bool
</pre></devsite-code> <p>Returns True if <code translate="no" dir="ltr">self</code> is a subtype of <code translate="no" dir="ltr">other</code>.</p> <p>Implements the tf.types.experimental.func.TraceType interface.</p> <p>If not overridden by a subclass, the default behavior is to assume the TypeSpec is covariant upon attributes that implement TraceType and invariant upon rest of the attributes as well as the structure and type of the TypeSpec.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">other</code> </td> <td> A TraceType object. </td> </tr> </table> <h3 id="most_specific_common_supertype" data-text="most_specific_common_supertype" tabindex="-1"><code translate="no" dir="ltr">most_specific_common_supertype</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/framework/type_spec.py#L148-L194">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">most_specific_common_supertype(
    others: Sequence[tf.types.experimental.TraceType]
) -&gt; Optional['TypeSpec']
</pre></devsite-code> <p>Returns the most specific supertype TypeSpec of <code translate="no" dir="ltr">self</code> and <code translate="no" dir="ltr">others</code>.</p> <p>Implements the tf.types.experimental.func.TraceType interface.</p> <p>If not overridden by a subclass, the default behavior is to assume the TypeSpec is covariant upon attributes that implement TraceType and invariant upon rest of the attributes as well as the structure and type of the TypeSpec.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">others</code> </td> <td> A sequence of TraceTypes. </td> </tr> </table> <h3 id="most_specific_compatible_type" data-text="most_specific_compatible_type" tabindex="-1"><code translate="no" dir="ltr">most_specific_compatible_type</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/framework/type_spec.py#L323-L341">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">most_specific_compatible_type(
    other: 'TypeSpec'
) -&gt; 'TypeSpec'
</pre></devsite-code> <p>Returns the most specific TypeSpec compatible with <code translate="no" dir="ltr">self</code> and <code translate="no" dir="ltr">other</code>. (deprecated)</p> <aside class="deprecated"><strong>Deprecated:</strong><span> THIS FUNCTION IS DEPRECATED. It will be removed in a future version. Instructions for updating: Use most_specific_common_supertype instead.</span></aside> <p>Deprecated. Please use <code translate="no" dir="ltr">most_specific_common_supertype</code> instead. Do not override this function.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">other</code> </td> <td> A <code translate="no" dir="ltr">TypeSpec</code>. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> If there is no TypeSpec that is compatible with both <code translate="no" dir="ltr">self</code> and <code translate="no" dir="ltr">other</code>. </td> </tr> </table> <h3 id="__eq__" data-text="__eq__" tabindex="-1"><code translate="no" dir="ltr">__eq__</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/framework/type_spec.py#L545-L548">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">__eq__(
    other
) -&gt; bool
</pre></devsite-code> <p>Return self==value.</p> <h3 id="__ne__" data-text="__ne__" tabindex="-1"><code translate="no" dir="ltr">__ne__</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.16.1/tensorflow/python/framework/type_spec.py#L550-L551">View source</a></p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">__ne__(
    other
) -&gt; bool
</pre></devsite-code> <p>Return self!=value.</p>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/RaggedTensorSpec" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/RaggedTensorSpec</a>
  </p>
</div>
