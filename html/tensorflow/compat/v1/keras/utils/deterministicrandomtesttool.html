<h1 class="devsite-page-title">tf.compat.v1.keras.utils.DeterministicRandomTestTool</h1> <devsite-bookmark></devsite-bookmark>       <p>DeterministicRandomTestTool is a testing tool.</p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.compat.v1.keras.utils.DeterministicRandomTestTool(
    seed: int = 42, mode='constant'
)
</pre>  <p>This tool is used to validate random number generation semantics match between TF1.x graphs/sessions and eager execution.</p> <p>This is useful when you are migrating from TF 1.x to TF2 and need to make sure your computation is still happening correctly along the way. See the validating correctness migration guide for more info : <a href="https://www.tensorflow.org/guide/migrate/validate_correctness">https://www.tensorflow.org/guide/migrate/validate_correctness</a></p> <p>The following DeterministicRandomTestTool object provides a context manager scope() that can make stateful random operations use the same seed across both TF1 graphs/sessions and eager execution,The tool provides two testing modes:</p> <ul> <li>constant which uses the same seed for every single operation no matter how many times it has been called and,</li> <li>num_random_ops which uses the number of previously-observed stateful random operations as the operation seed. The num_random_ops mode serves as a more sensitive validation check than the constant mode. It ensures that the random numbers initialization does not get accidentaly reused.(for example if several weights take on the same initializations), you can use the num_random_ops mode to avoid this. In the num_random_ops mode, the generated random numbers will depend on the ordering of random ops in the program.</li> </ul> <p>This applies both to the stateful random operations used for creating and initializing variables, and to the stateful random operations used in computation (such as for dropout layers).</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Attributes</th></tr> 
<tr> <td> <code translate="no" dir="ltr">operation_seed</code> </td> <td> 
</td> </tr> </table> <h2 id="methods" data-text="Methods">Methods</h2> <h3 id="scope" data-text="scope"><code translate="no" dir="ltr">scope</code></h3> <p><a target="_blank" class="external" href="https://github.com/keras-team/keras/tree/v2.9.0/keras/legacy_tf_layers/migration_utils.py#L65-L103">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
scope()
</pre> <p>set random seed.</p>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/compat/v1/keras/utils/DeterministicRandomTestTool" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/compat/v1/keras/utils/DeterministicRandomTestTool</a>
  </p>
</div>
