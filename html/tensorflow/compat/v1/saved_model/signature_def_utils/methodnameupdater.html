<h1 class="devsite-page-title">tf.compat.v1.saved_model.signature_def_utils.MethodNameUpdater</h1> <devsite-bookmark></devsite-bookmark>       <p>Updates the method name(s) of the SavedModel stored in the given path.</p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.compat.v1.saved_model.signature_def_utils.MethodNameUpdater(
    export_dir
)
</pre>  <p>The <code translate="no" dir="ltr">MethodNameUpdater</code> class provides the functionality to update the method name field in the signature_defs of the given SavedModel. For example, it can be used to replace the <code translate="no" dir="ltr">predict</code> <code translate="no" dir="ltr">method_name</code> to <code translate="no" dir="ltr">regress</code>.</p> <p>Typical usages of the <code translate="no" dir="ltr">MethodNameUpdater</code></p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">...
updater = tf.compat.v1.saved_model.signature_def_utils.MethodNameUpdater(
    export_dir)
# Update all signature_defs with key "foo" in all meta graph defs.
updater.replace_method_name(signature_key="foo", method_name="regress")
# Update a single signature_def with key "bar" in the meta graph def with
# tags ["serve"]
updater.replace_method_name(signature_key="bar", method_name="classify",
                            tags="serve")
updater.save(new_export_dir)
</pre>
<blockquote class="note">
<strong>Note:</strong><span> This function will only be available through the v1 compatibility library as tf.compat.v1.saved_model.builder.MethodNameUpdater.</span>
</blockquote>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">export_dir</code> </td> <td> Directory containing the SavedModel files. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">IOError</code> </td> <td> If the saved model file does not exist, or cannot be successfully parsed. </td> </tr> </table> <h2 id="methods" data-text="Methods">Methods</h2> <h3 id="replace_method_name" data-text="replace_method_name"><code translate="no" dir="ltr">replace_method_name</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.9.0/tensorflow/python/saved_model/method_name_updater.py#L69-L111">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
replace_method_name(
    signature_key, method_name, tags=None
)
</pre> <p>Replaces the method_name in the specified signature_def.</p> <p>This will match and replace multiple sig defs iff tags is None (i.e when multiple <code translate="no" dir="ltr">MetaGraph</code>s have a signature_def with the same key). If tags is not None, this will only replace a single signature_def in the <code translate="no" dir="ltr">MetaGraph</code> with matching tags.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">signature_key</code> </td> <td> Key of the signature_def to be updated. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">method_name</code> </td> <td> new method_name to replace the existing one. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">tags</code> </td> <td> A tag or sequence of tags identifying the <code translate="no" dir="ltr">MetaGraph</code> to update. If None, all meta graphs will be updated. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> if signature_key or method_name are not defined or if no metagraphs were found with the associated tags or if no meta graph has a signature_def that matches signature_key. </td> </tr> </table> <h3 id="save" data-text="save"><code translate="no" dir="ltr">save</code></h3> <p><a target="_blank" class="external" href="https://github.com/tensorflow/tensorflow/blob/v2.9.0/tensorflow/python/saved_model/method_name_updater.py#L113-L143">View source</a></p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
save(
    new_export_dir=None
)
</pre> <p>Saves the updated <code translate="no" dir="ltr">SavedModel</code>.</p>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">new_export_dir</code> </td> <td> Path where the updated <code translate="no" dir="ltr">SavedModel</code> will be saved. If None, the input <code translate="no" dir="ltr">SavedModel</code> will be overriden with the updates. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <a href="https://www.tensorflow.org/api_docs/python/tf/errors/OpError"><code translate="no" dir="ltr">errors.OpError</code></a> </td> <td> If there are errors during the file save operation. </td> </tr> </table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/compat/v1/saved_model/signature_def_utils/MethodNameUpdater" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/compat/v1/saved_model/signature_def_utils/MethodNameUpdater</a>
  </p>
</div>
