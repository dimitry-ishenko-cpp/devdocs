<h1 class="devsite-page-title" tabindex="-1"> tf.compat.v1.tpu.rewrite </h1> <devsite-feature-tooltip ack-key="AckCollectionsBookmarkTooltipDismiss" analytics-category="Site-Wide Custom Events" analytics-action-show="Callout Profile displayed" analytics-action-close="Callout Profile dismissed" analytics-label="Create Collection Callout" class="devsite-page-bookmark-tooltip nocontent" dismiss-button="true" id="devsite-collections-dropdown" dismiss-button-text="Dismiss" close-button-text="Got it">    </devsite-feature-tooltip> <div class="devsite-page-title-meta"><devsite-view-release-notes></devsite-view-release-notes></div>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.compat.v1.tpu.rewrite"> <meta itemprop="path" content="Stable"> </div>   <p>Rewrites <code translate="no" dir="ltr">computation</code> for execution on a TPU system.</p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">tf.compat.v1.tpu.rewrite(
    computation: Callable[..., Any],
    inputs: Optional[List[List[Optional[core_types.Tensor]]]] = None,
    infeed_queue: Optional[tpu_feed.InfeedQueue] = None,
    device_assignment: Optional[tf.tpu.experimental.DeviceAssignment] = None,
    name: Optional[Text] = None,
    xla_options: Optional[tf.tpu.XLAOptions] = None
) -&gt; Any
</pre></devsite-code>   
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">computation</code> </td> <td> A Python function that builds a computation to apply to the input. If the function takes n inputs, 'inputs' should be a list of n tensors. <p><code translate="no" dir="ltr">computation</code> may return a list of operations and tensors. Tensors must come before operations in the returned list. The return value of <code translate="no" dir="ltr">rewrite</code> is a list of tensors corresponding to the tensors from the output of <code translate="no" dir="ltr">computation</code>.</p> <p>All <code translate="no" dir="ltr">Operation</code>s constructed during <code translate="no" dir="ltr">computation</code> will be executed when evaluating any of the returned output tensors, not just the ones returned. </p>
</td> </tr>
<tr> <td> <code translate="no" dir="ltr">inputs</code> </td> <td> A list of input tensors or <code translate="no" dir="ltr">None</code> (equivalent to an empty list). Each input can be a nested structure containing values that are convertible to tensors. Note that passing an N-dimension list of compatible values will result in a N-dimension list of scalar tensors rather than a single Rank-N tensors. If you need different behavior, convert part of inputs to tensors with <a href="../../../convert_to_tensor.html"><code translate="no" dir="ltr">tf.convert_to_tensor</code></a>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">infeed_queue</code> </td> <td> If not <code translate="no" dir="ltr">None</code>, the <code translate="no" dir="ltr">InfeedQueue</code> from which to append a tuple of arguments as inputs to <code translate="no" dir="ltr">computation</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">device_assignment</code> </td> <td> if not <code translate="no" dir="ltr">None</code>, a <code translate="no" dir="ltr">DeviceAssignment</code> describing the mapping between logical cores in the computation with physical cores in the TPU topology. May be omitted for a single-core computation, in which case the core attached to task 0, TPU device 0 is used. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> (Deprecated) Does nothing. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">xla_options</code> </td> <td> An instance of <a href="../../../tpu/xlaoptions.html"><code translate="no" dir="ltr">tpu.XLAOptions</code></a> which indicates the options passed to XLA compiler. Use <code translate="no" dir="ltr">None</code> for default options. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> Same data structure as if computation(*inputs) is called directly with some exceptions for correctness. Exceptions include: <p>1) None output: a NoOp would be returned which control-depends on computation. 2) Single value output: A tuple containing the value would be returned. 3) Operation-only outputs: a NoOp would be returned which control-depends on computation. </p>
</td> </tr> 
</table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/compat/v1/tpu/rewrite" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/compat/v1/tpu/rewrite</a>
  </p>
</div>
