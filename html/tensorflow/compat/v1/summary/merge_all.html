<h1 class="devsite-page-title">tf.compat.v1.summary.merge_all</h1> <devsite-bookmark></devsite-bookmark>       <p>Merges all summaries collected in the default graph.</p> <pre class="devsite-click-to-copy prettyprint lang-py tfo-signature-link" translate="no" dir="ltr" data-language="cpp">
tf.compat.v1.summary.merge_all(
    key=_ops.GraphKeys.SUMMARIES, scope=None, name=None
)
</pre> <p><section><devsite-expandable expanded> <h2 class="showalways" id="migrate-to-tf2" data-text="Migrate to TF2">Migrate to TF2</h2></devsite-expandable></section></p> <aside class="caution"><strong>Caution:</strong><span> This API was designed for TensorFlow v1. Continue reading for details on how to migrate from this API to a native TensorFlow v2 equivalent. See the <a href="https://www.tensorflow.org/guide/migrate">TensorFlow v1 to TensorFlow v2 migration guide</a> for instructions on how to migrate the rest of your code.</span></aside> <p>This API is not compatible with eager execution or <a href="../../../function.html"><code translate="no" dir="ltr">tf.function</code></a>. To migrate to TF2, this API can be omitted entirely, because in TF2 individual summary ops, like <a href="../../../summary/scalar.html"><code translate="no" dir="ltr">tf.summary.scalar()</code></a>, write directly to the default summary writer if one is active. Thus, it's not necessary to merge summaries or to manually add the resulting merged summary output to the writer. See the usage example shown below.</p> <p>For a comprehensive <a href="../../../summary.html"><code translate="no" dir="ltr">tf.summary</code></a> migration guide, please follow <a href="https://www.tensorflow.org/tensorboard/migrate#in_tf_1x">Migrating tf.summary usage to TF 2.0</a>.</p> <h4 id="tf1_tf2_usage_example" data-text="TF1 &amp; TF2 Usage Example">TF1 &amp; TF2 Usage Example</h4> <p>TF1:</p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">dist = tf.compat.v1.placeholder(tf.float32, [100])
tf.compat.v1.summary.histogram(name="distribution", values=dist)
writer = tf.compat.v1.summary.FileWriter("/tmp/tf1_summary_example")
summaries = tf.compat.v1.summary.merge_all()

sess = tf.compat.v1.Session()
for step in range(100):
  mean_moving_normal = np.random.normal(loc=step, scale=1, size=[100])
  summ = sess.run(summaries, feed_dict={dist: mean_moving_normal})
  writer.add_summary(summ, global_step=step)
</pre> <p>TF2:</p> <pre class="prettyprint lang-python" translate="no" dir="ltr" data-language="python">writer = tf.summary.create_file_writer("/tmp/tf2_summary_example")
for step in range(100):
  mean_moving_normal = np.random.normal(loc=step, scale=1, size=[100])
  with writer.as_default(step=step):
    tf.summary.histogram(name='distribution', data=mean_moving_normal)
</pre>  <h2 id="description" data-text="Description">Description</h2>   
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">key</code> </td> <td> <code translate="no" dir="ltr">GraphKey</code> used to collect the summaries. Defaults to <code translate="no" dir="ltr">GraphKeys.SUMMARIES</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">scope</code> </td> <td> Optional scope used to filter the summary ops, using <code translate="no" dir="ltr">re.match</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">name</code> </td> <td> A name for the operation (optional). </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> If no summaries were collected, returns None. Otherwise returns a scalar <code translate="no" dir="ltr">Tensor</code> of type <code translate="no" dir="ltr">string</code> containing the serialized <code translate="no" dir="ltr">Summary</code> protocol buffer resulting from the merging. </td> </tr> 
</table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">RuntimeError</code> </td> <td> If called with eager execution enabled. </td> </tr> </table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/compat/v1/summary/merge_all" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/python/tf/compat/v1/summary/merge_all</a>
  </p>
</div>
