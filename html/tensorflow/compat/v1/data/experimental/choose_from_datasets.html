<h1 class="devsite-page-title" tabindex="-1"> tf.compat.v1.data.experimental.choose_from_datasets </h1> <devsite-feature-tooltip ack-key="AckCollectionsBookmarkTooltipDismiss" analytics-category="Site-Wide Custom Events" analytics-action-show="Callout Profile displayed" analytics-action-close="Callout Profile dismissed" analytics-label="Create Collection Callout" class="devsite-page-bookmark-tooltip nocontent" dismiss-button="true" id="devsite-collections-dropdown" dismiss-button-text="Dismiss" close-button-text="Got it">    </devsite-feature-tooltip> <div class="devsite-page-title-meta"><devsite-view-release-notes></devsite-view-release-notes></div>     <div itemscope itemtype="http://developers.google.com/ReferenceObject"> <meta itemprop="name" content="tf.compat.v1.data.experimental.choose_from_datasets"> <meta itemprop="path" content="Stable"> </div>   <p>Creates a dataset that deterministically chooses elements from <code translate="no" dir="ltr">datasets</code>. (deprecated)</p> 
<devsite-code><pre class="devsite-click-to-copy tfo-signature-link" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">tf.compat.v1.data.experimental.choose_from_datasets(
    datasets, choice_dataset, stop_on_empty_dataset=False
)
</pre></devsite-code>  <aside class="deprecated"><strong>Deprecated:</strong><span> THIS FUNCTION IS DEPRECATED. It will be removed in a future version. Instructions for updating: Use <a href="../../../../data/dataset.html#choose_from_datasets"><code translate="no" dir="ltr">tf.data.Dataset.choose_from_datasets(...)</code></a> instead. Note that, unlike the experimental endpoint, the non-experimental endpoint sets <code translate="no" dir="ltr">stop_on_empty_dataset=True</code> by default. You should set this argument explicitly in case you would like to match the behavior of the experimental endpoint.</span></aside> <p>For example, given the following datasets:</p> 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">datasets = [tf.data.Dataset.from_tensors("foo").repeat(),
            tf.data.Dataset.from_tensors("bar").repeat(),
            tf.data.Dataset.from_tensors("baz").repeat()]

# Define a dataset containing `[0, 1, 2, 0, 1, 2, 0, 1, 2]`.
choice_dataset = tf.data.Dataset.range(3).repeat(3)

result = tf.data.experimental.choose_from_datasets(datasets, choice_dataset)
</pre></devsite-code> <p>The elements of <code translate="no" dir="ltr">result</code> will be:</p> 
<devsite-code><pre class="devsite-click-to-copy" translate="no" dir="ltr" is-upgraded syntax="Python" data-language="cpp">"foo", "bar", "baz", "foo", "bar", "baz", "foo", "bar", "baz"
</pre></devsite-code>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Args</th></tr> 
<tr> <td> <code translate="no" dir="ltr">datasets</code> </td> <td> A non-empty list of <a href="../../../../data/dataset.html"><code translate="no" dir="ltr">tf.data.Dataset</code></a> objects with compatible structure. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">choice_dataset</code> </td> <td> A <a href="../../../../data/dataset.html"><code translate="no" dir="ltr">tf.data.Dataset</code></a> of scalar <a href="../../../../../tf.html#int64"><code translate="no" dir="ltr">tf.int64</code></a> tensors between <code translate="no" dir="ltr">0</code> and <code translate="no" dir="ltr">len(datasets) - 1</code>. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">stop_on_empty_dataset</code> </td> <td> If <code translate="no" dir="ltr">True</code>, selection stops if it encounters an empty dataset. If <code translate="no" dir="ltr">False</code>, it skips empty datasets. It is recommended to set it to <code translate="no" dir="ltr">True</code>. Otherwise, the selected elements start off as the user intends, but may change as input datasets become empty. This can be difficult to detect since the dataset starts off looking correct. Default to <code translate="no" dir="ltr">False</code> for backward compatibility. </td> </tr> </table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Returns</th></tr> <tr class="alt"> <td colspan="2"> A dataset that interleaves elements from <code translate="no" dir="ltr">datasets</code> according to the values of <code translate="no" dir="ltr">choice_dataset</code>. </td> </tr> 
</table>  
<table class="responsive fixed orange"> <colgroup>
<col width="214px">
<col>
</colgroup> <tr><th colspan="2">Raises</th></tr> 
<tr> <td> <code translate="no" dir="ltr">TypeError</code> </td> <td> If <code translate="no" dir="ltr">datasets</code> or <code translate="no" dir="ltr">choice_dataset</code> has the wrong type. </td> </tr>
<tr> <td> <code translate="no" dir="ltr">ValueError</code> </td> <td> If <code translate="no" dir="ltr">datasets</code> is empty. </td> </tr> </table>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating> <div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/api_docs/python/tf/compat/v1/data/experimental/choose_from_datasets" class="_attribution-link">https://www.tensorflow.org/api_docs/python/tf/compat/v1/data/experimental/choose_from_datasets</a>
  </p>
</div>
