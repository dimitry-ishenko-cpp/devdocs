<h1 id="statsmodels-stats-correlation-tools-corr-thresholded">statsmodels.stats.correlation_tools.corr_thresholded</h1> <dl class="function"> <dt id="statsmodels.stats.correlation_tools.corr_thresholded">
<code>statsmodels.stats.correlation_tools.corr_thresholded(data, minabs=None, max_elt=10000000.0)</code> <a class="reference internal" href="http://www.statsmodels.org/stable/_modules/statsmodels/stats/correlation_tools.html#corr_thresholded"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Construct a sparse matrix containing the thresholded row-wise correlation matrix from a data array.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>data</strong> (<em>array_like</em>) – The data from which the row-wise thresholded correlation matrix is to be computed.</li> <li>
<strong>minabs</strong> (<em>non-negative real</em>) – The threshold value; correlation coefficients smaller in magnitude than minabs are set to zero. If None, defaults to 1 / sqrt(n), see Notes for more information.</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>cormat</strong> – The thresholded correlation matrix, in COO format.</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">sparse.coo_matrix</p> </td> </tr>  </table> <h4 class="rubric">Notes</h4> <p>This is an alternative to C = np.corrcoef(data); C *= (np.abs(C) &gt;= absmin), suitable for very tall data matrices.</p> <p>If the data are jointly Gaussian, the marginal sampling distributions of the elements of the sample correlation matrix are approximately Gaussian with standard deviation 1 / sqrt(n). The default value of <code>minabs</code> is thus equal to 1 standard error, which will set to zero approximately 68% of the estimated correlation coefficients for which the population value is zero.</p> <p>No intermediate matrix with more than <code>max_elt</code> values will be constructed. However memory use could still be high if a large number of correlation values exceed <code>minabs</code> in magnitude.</p> <p>The thresholded matrix is returned in COO format, which can easily be converted to other sparse formats.</p> <h4 class="rubric">Examples</h4> <p>Here X is a tall data matrix (e.g. with 100,000 rows and 50 columns). The row-wise correlation matrix of X is calculated and stored in sparse form, with all entries smaller than 0.3 treated as 0.</p> <pre data-language="python">&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; np.random.seed(1234)
&gt;&gt;&gt; b = 1.5 - np.random.rand(10, 1)
&gt;&gt;&gt; x = np.random.randn(100,1).dot(b.T) + np.random.randn(100,10)
&gt;&gt;&gt; cmat = corr_thresholded(x, 0.3)
</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2009&ndash;2012 Statsmodels Developers<br>&copy; 2006&ndash;2008 Scipy Developers<br>&copy; 2006 Jonathan E. Taylor<br>Licensed under the 3-clause BSD License.<br>
    <a href="http://www.statsmodels.org/stable/generated/statsmodels.stats.correlation_tools.corr_thresholded.html" class="_attribution-link">http://www.statsmodels.org/stable/generated/statsmodels.stats.correlation_tools.corr_thresholded.html</a>
  </p>
</div>
