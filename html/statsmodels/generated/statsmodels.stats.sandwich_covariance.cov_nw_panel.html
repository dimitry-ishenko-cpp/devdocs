<h1 id="statsmodels-stats-sandwich-covariance-cov-nw-panel">statsmodels.stats.sandwich_covariance.cov_nw_panel</h1> <dl class="function"> <dt id="statsmodels.stats.sandwich_covariance.cov_nw_panel">
<code>statsmodels.stats.sandwich_covariance.cov_nw_panel(results, nlags, groupidx, weights_func=&lt;function weights_bartlett&gt;, use_correction='hac')</code> <a class="reference internal" href="http://www.statsmodels.org/stable/_modules/statsmodels/stats/sandwich_covariance.html#cov_nw_panel"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Panel HAC robust covariance matrix</p> <p>Assumes we have a panel of time series with consecutive, equal spaced time periods. Data is assumed to be in long format with time series of each individual stacked into one array. Panel can be unbalanced.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>results</strong> (<em>result instance</em>) – result of a regression, uses results.model.exog and results.resid TODO: this should use wexog instead</li> <li>
<strong>nlags</strong> (<em>int</em><em> or </em><em>None</em>) – Highest lag to include in kernel window. Currently, no default because the optimal length will depend on the number of observations per cross-sectional unit.</li> <li>
<strong>groupidx</strong> (<em>list of tuple</em>) – each tuple should contain the start and end index for an individual. (groupidx might change in future).</li> <li>
<strong>weights_func</strong> (<em>callable</em>) – weights_func is called with nlags as argument to get the kernel weights. default are Bartlett weights</li> <li>
<strong>use_correction</strong> (<em>'cluster'</em><em> or </em><em>'hac'</em><em> or </em><em>False</em>) – If False, then no small sample correction is used. If ‘cluster’ (default), then the same correction as in cov_cluster is used. If ‘hac’, then the same correction as in single time series, cov_hac is used.</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>cov</strong> – HAC robust covariance matrix for parameter estimates</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">ndarray, (k_vars, k_vars)</p> </td> </tr>  </table> <h4 class="rubric">Notes</h4> <p>For nlags=0, this is just White covariance, cov_white. If kernel is uniform, <code>weights_uniform</code>, with nlags equal to the number of observations per unit in a balance panel, then cov_cluster and cov_hac_panel are identical.</p> <p>Tested against STATA <code>newey</code> command with same defaults.</p> <p>Options might change when other kernels besides Bartlett and uniform are available.</p> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2009&ndash;2012 Statsmodels Developers<br>&copy; 2006&ndash;2008 Scipy Developers<br>&copy; 2006 Jonathan E. Taylor<br>Licensed under the 3-clause BSD License.<br>
    <a href="http://www.statsmodels.org/stable/generated/statsmodels.stats.sandwich_covariance.cov_nw_panel.html" class="_attribution-link">http://www.statsmodels.org/stable/generated/statsmodels.stats.sandwich_covariance.cov_nw_panel.html</a>
  </p>
</div>
