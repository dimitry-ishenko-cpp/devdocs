<h1 id="statsmodels-sandbox-regression-gmm-nonlinearivgmm-fit">statsmodels.sandbox.regression.gmm.NonlinearIVGMM.fit</h1> <dl class="method"> <dt id="statsmodels.sandbox.regression.gmm.NonlinearIVGMM.fit">
<code>NonlinearIVGMM.fit(start_params=None, maxiter=10, inv_weights=None, weights_method='cov', wargs=(), has_optimal_weights=True, optim_method='bfgs', optim_args=None)</code> </dt> <dd>
<p>Estimate parameters using GMM and return GMMResults</p> <p>TODO: weight and covariance arguments still need to be made consistent with similar options in other models, see RegressionResult.get_robustcov_results</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>start_params</strong> (<em>array</em><em> (</em><em>optional</em><em>)</em>) – starting value for parameters ub minimization. If None then fitstart method is called for the starting values.</li> <li>
<strong>maxiter</strong> (<em>int</em><em> or </em><em>'cue'</em>) – Number of iterations in iterated GMM. The onestep estimate can be obtained with maxiter=0 or 1. If maxiter is large, then the iteration will stop either at maxiter or on convergence of the parameters (TODO: no options for convergence criteria yet.) If <code>maxiter == ‘cue’</code>, the the continuously updated GMM is calculated which updates the weight matrix during the minimization of the GMM objective function. The CUE estimation uses the onestep parameters as starting values.</li> <li>
<strong>inv_weights</strong> (<em>None</em><em> or </em><em>ndarray</em>) – inverse of the starting weighting matrix. If inv_weights are not given then the method <code>start_weights</code> is used which depends on the subclass, for IV subclasses <code>inv_weights = z’z</code> where <code>z</code> are the instruments, otherwise an identity matrix is used.</li> <li>
<strong>weights_method</strong> (<em>string</em><em>, </em><em>defines method for robust</em>) – <p>Options here are similar to <code>statsmodels.stats.robust_covariance</code> default is heteroscedasticity consistent, HC0</p> <p>currently available methods are</p> <ul> <li>
<code>cov</code> : HC0, optionally with degrees of freedom correction</li> <li>
<code>hac</code> :</li> <li>
<code>iid</code> : untested, only for Z*u case, IV cases with u as error indep of Z</li> <li>
<code>ac</code> : not available yet</li> <li>
<code>cluster</code> : not connected yet</li> <li>others from robust_covariance</li> </ul> </li> <li>
<strong>wargs`</strong> (<em>tuple</em><em> or </em><a class="reference external" href="https://docs.python.org/3.2/library/stdtypes.html#dict" title="(in Python v3.2)">dict</a><em>,</em>) – <p>required and optional arguments for weights_method</p> <ul> <li>
<code>centered</code> : bool, indicates whether moments are centered for the calculation of the weights and covariance matrix, applies to all weight_methods</li> <li>
<code>ddof</code> : int degrees of freedom correction, applies currently only to <code>cov</code>
</li> <li>
<code>maxlag</code> : int number of lags to include in HAC calculation , applies only to <code>hac</code>
</li> <li>others not yet, e.g. groups for cluster robust</li> </ul> </li> <li>
<strong>has_optimal_weights</strong> (<em>If true</em><em>, </em><em>then the calculation of the covariance</em>) – matrix assumes that we have optimal GMM with <span class="math notranslate nohighlight">\(W = S^{-1}\)</span>. Default is True. TODO: do we want to have a different default after <code>onestep</code>?</li> <li>
<strong>optim_method</strong> (<em>string</em><em>, </em><em>default is 'bfgs'</em>) – numerical optimization method. Currently not all optimizers that are available in LikelihoodModels are connected.</li> <li>
<strong>optim_args</strong> (<a class="reference external" href="https://docs.python.org/3.2/library/stdtypes.html#dict" title="(in Python v3.2)">dict</a>) – keyword arguments for the numerical optimizer.</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>results</strong> – this is also attached as attribute results</p> </td> </tr> <tr>
<th class="field-name">Return type:</th>
<td class="field-body">
<p class="first last">instance of GMMResults</p> </td> </tr>  </table> <h4 class="rubric">Notes</h4> <p>Warning: One-step estimation, <code>maxiter</code> either 0 or 1, still has problems (at least compared to Stata’s gmm). By default it uses a heteroscedasticity robust covariance matrix, but uses the assumption that the weight matrix is optimal. See options for cov_params in the results instance.</p> <p>The same options as for weight matrix also apply to the calculation of the estimate of the covariance matrix of the parameter estimates.</p> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2009&ndash;2012 Statsmodels Developers<br>&copy; 2006&ndash;2008 Scipy Developers<br>&copy; 2006 Jonathan E. Taylor<br>Licensed under the 3-clause BSD License.<br>
    <a href="http://www.statsmodels.org/stable/generated/statsmodels.sandbox.regression.gmm.NonlinearIVGMM.fit.html" class="_attribution-link">http://www.statsmodels.org/stable/generated/statsmodels.sandbox.regression.gmm.NonlinearIVGMM.fit.html</a>
  </p>
</div>
