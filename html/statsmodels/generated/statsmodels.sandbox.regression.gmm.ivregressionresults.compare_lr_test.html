<h1 id="statsmodels-sandbox-regression-gmm-ivregressionresults-compare-lr-test">statsmodels.sandbox.regression.gmm.IVRegressionResults.compare_lr_test</h1> <dl class="method"> <dt id="statsmodels.sandbox.regression.gmm.IVRegressionResults.compare_lr_test">
<code>IVRegressionResults.compare_lr_test(restricted, large_sample=False)</code> </dt> <dd>
<p>Likelihood ratio test to test whether restricted model is correct</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<ul class="first simple"> <li>
<strong>restricted</strong> (<em>Result instance</em>) – The restricted model is assumed to be nested in the current model. The result instance of the restricted model is required to have two attributes, residual sum of squares, <code>ssr</code>, residual degrees of freedom, <code>df_resid</code>.</li> <li>
<strong>large_sample</strong> (<em>bool</em>) – Flag indicating whether to use a heteroskedasticity robust version of the LR test, which is a modified LM test.</li> </ul> </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">

<ul class="simple"> <li>
<strong>lr_stat</strong> (<em>float</em>) – likelihood ratio, chisquare distributed with df_diff degrees of freedom</li> <li>
<strong>p_value</strong> (<em>float</em>) – p-value of the test statistic</li> <li>
<strong>df_diff</strong> (<em>int</em>) – degrees of freedom of the restriction, i.e. difference in df between models</li> </ul> </td> </tr>  </table> <h4 class="rubric">Notes</h4> <p>The exact likelihood ratio is valid for homoskedastic data, and is defined as</p> <div class="math notranslate nohighlight"> \[D=-2\log\left(\frac{\mathcal{L}_{null}} {\mathcal{L}_{alternative}}\right)\]</div> <p>where <span class="math notranslate nohighlight">\(\mathcal{L}\)</span> is the likelihood of the model. With <span class="math notranslate nohighlight">\(D\)</span> distributed as chisquare with df equal to difference in number of parameters or equivalently difference in residual degrees of freedom.</p> <p>The large sample version of the likelihood ratio is defined as</p> <div class="math notranslate nohighlight"> \[D=n s^{\prime}S^{-1}s\]</div> <p>where <span class="math notranslate nohighlight">\(s=n^{-1}\sum_{i=1}^{n} s_{i}\)</span></p> <div class="math notranslate nohighlight"> \[s_{i} = x_{i,alternative} \epsilon_{i,null}\]</div> <p>is the average score of the model evaluated using the residuals from null model and the regressors from the alternative model and <span class="math notranslate nohighlight">\(S\)</span> is the covariance of the scores, <span class="math notranslate nohighlight">\(s_{i}\)</span>. The covariance of the scores is estimated using the same estimator as in the alternative model.</p> <p>This test compares the loglikelihood of the two models. This may not be a valid test, if there is unspecified heteroscedasticity or correlation. This method will issue a warning if this is detected but still return the results without taking unspecified heteroscedasticity or correlation into account.</p> <p>This test compares the loglikelihood of the two models. This may not be a valid test, if there is unspecified heteroscedasticity or correlation. This method will issue a warning if this is detected but still return the results without taking unspecified heteroscedasticity or correlation into account.</p> <p>is the average score of the model evaluated using the residuals from null model and the regressors from the alternative model and <span class="math notranslate nohighlight">\(S\)</span> is the covariance of the scores, <span class="math notranslate nohighlight">\(s_{i}\)</span>. The covariance of the scores is estimated using the same estimator as in the alternative model.</p> <p>TODO: put into separate function, needs tests</p> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2009&ndash;2012 Statsmodels Developers<br>&copy; 2006&ndash;2008 Scipy Developers<br>&copy; 2006 Jonathan E. Taylor<br>Licensed under the 3-clause BSD License.<br>
    <a href="http://www.statsmodels.org/stable/generated/statsmodels.sandbox.regression.gmm.IVRegressionResults.compare_lr_test.html" class="_attribution-link">http://www.statsmodels.org/stable/generated/statsmodels.sandbox.regression.gmm.IVRegressionResults.compare_lr_test.html</a>
  </p>
</div>
