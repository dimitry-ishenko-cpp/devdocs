<h1>pandas.crosstab</h1> <dl class="py function"> <dt class="sig sig-object py" id="pandas.crosstab"> <span class="sig-prename descclassname"><span class="pre">pandas.</span></span><span class="sig-name descname"><span class="pre">crosstab</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rownames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aggfunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">margins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">margins_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'All'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dropna</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/pandas-dev/pandas/blob/v2.2.2/pandas/core/reshape/pivot.py#L578-L748"><span class="viewcode-link"><span class="pre">[source]</span></span></a>
</dt> <dd>
<p>Compute a simple cross tabulation of two (or more) factors.</p> <p>By default, computes a frequency table of the factors unless an array of values and an aggregation function are passed.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<dl class="simple"> <dt>
<strong>index</strong><span class="classifier">:array-like, Series, or list of arrays/Series</span>
</dt>
<dd>
<p>Values to group by in the rows.</p> </dd> <dt>
<strong>columns</strong><span class="classifier">:array-like, Series, or list of arrays/Series</span>
</dt>
<dd>
<p>Values to group by in the columns.</p> </dd> <dt>
<strong>values</strong><span class="classifier">:array-like, optional</span>
</dt>
<dd>
<p>Array of values to aggregate according to the factors. Requires <cite>aggfunc</cite> be specified.</p> </dd> <dt>
<strong>rownames</strong><span class="classifier">:sequence, default None</span>
</dt>
<dd>
<p>If passed, must match number of row arrays passed.</p> </dd> <dt>
<strong>colnames</strong><span class="classifier">:sequence, default None</span>
</dt>
<dd>
<p>If passed, must match number of column arrays passed.</p> </dd> <dt>
<strong>aggfunc</strong><span class="classifier">:function, optional</span>
</dt>
<dd>
<p>If specified, requires <cite>values</cite> be specified as well.</p> </dd> <dt>
<strong>margins</strong><span class="classifier">:bool, default False</span>
</dt>
<dd>
<p>Add row/column margins (subtotals).</p> </dd> <dt>
<strong>margins_name</strong><span class="classifier">:str, default ‘All’</span>
</dt>
<dd>
<p>Name of the row/column that will contain the totals when margins is True.</p> </dd> <dt>
<strong>dropna</strong><span class="classifier">:bool, default True</span>
</dt>
<dd>
<p>Do not include columns whose entries are all NaN.</p> </dd> <dt>
<strong>normalize</strong><span class="classifier">:bool, {‘all’, ‘index’, ‘columns’}, or {0,1}, default False</span>
</dt>
<dd>
<p>Normalize by dividing all values by the sum of values.</p> <ul class="simple"> <li><p>If passed ‘all’ or <cite>True</cite>, will normalize over all values.</p></li> <li><p>If passed ‘index’ will normalize over each row.</p></li> <li><p>If passed ‘columns’ will normalize over each column.</p></li> <li><p>If margins is <cite>True</cite>, will also normalize margin values.</p></li> </ul> </dd> </dl> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<dl class="simple"> <dt>DataFrame</dt>
<dd>
<p>Cross tabulation of the data.</p> </dd> </dl> </dd> </dl> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="pandas.dataframe.pivot.html#pandas.DataFrame.pivot" title="pandas.DataFrame.pivot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataFrame.pivot</span></code></a></dt>
<dd>
<p>Reshape data based on column values.</p> </dd> <dt><a class="reference internal" href="pandas.pivot_table.html#pandas.pivot_table" title="pandas.pivot_table"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pivot_table</span></code></a></dt>
<dd>
<p>Create a pivot table as a DataFrame.</p> </dd> </dl> </div> <p class="rubric">Notes</p> <p>Any Series passed will have their name attributes used unless row or column names for the cross-tabulation are specified.</p> <p>Any input passed containing Categorical data will have <strong>all</strong> of its categories included in the cross-tabulation, even if the actual data does not contain any instances of a particular category.</p> <p>In the event that there aren’t overlapping indexes an empty DataFrame will be returned.</p> <p>Reference <a class="reference internal" href="../../user_guide/reshaping.html#reshaping-crosstabulations"><span class="std std-ref">the user guide</span></a> for more examples.</p> <p class="rubric">Examples</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; a = np.array(["foo", "foo", "foo", "foo", "bar", "bar",
...               "bar", "bar", "foo", "foo", "foo"], dtype=object)
&gt;&gt;&gt; b = np.array(["one", "one", "one", "two", "one", "one",
...               "one", "two", "two", "two", "one"], dtype=object)
&gt;&gt;&gt; c = np.array(["dull", "dull", "shiny", "dull", "dull", "shiny",
...               "shiny", "dull", "shiny", "shiny", "shiny"],
...              dtype=object)
&gt;&gt;&gt; pd.crosstab(a, [b, c], rownames=['a'], colnames=['b', 'c'])
b   one        two
c   dull shiny dull shiny
a
bar    1     2    1     0
foo    2     2    1     2
</pre></div> </div> <p>Here ‘c’ and ‘f’ are not represented in the data and will not be shown in the output because dropna is True by default. Set dropna=False to preserve categories with no data.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; foo = pd.Categorical(['a', 'b'], categories=['a', 'b', 'c'])
&gt;&gt;&gt; bar = pd.Categorical(['d', 'e'], categories=['d', 'e', 'f'])
&gt;&gt;&gt; pd.crosstab(foo, bar)
col_0  d  e
row_0
a      1  0
b      0  1
&gt;&gt;&gt; pd.crosstab(foo, bar, dropna=False)
col_0  d  e  f
row_0
a      1  0  0
b      0  1  0
c      0  0  0
</pre></div> </div> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2022, AQR Capital Management, LLC, Lambda Foundry, Inc. and PyData Development Team<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://pandas.pydata.org/pandas-docs/version/2.2.2/reference/api/pandas.crosstab.html" class="_attribution-link">https://pandas.pydata.org/pandas-docs/version/2.2.2/reference/api/pandas.crosstab.html</a>
  </p>
</div>
