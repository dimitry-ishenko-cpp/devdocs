<h1>pandas.core.groupby.DataFrameGroupBy.fillna</h1> <dl class="py method"> <dt class="sig sig-object py" id="pandas.core.groupby.DataFrameGroupBy.fillna"> <span class="sig-prename descclassname"><span class="pre">DataFrameGroupBy.</span></span><span class="sig-name descname"><span class="pre">fillna</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">_NoDefault.no_default</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downcast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">_NoDefault.no_default</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/pandas-dev/pandas/blob/v2.2.2/pandas/core/groupby/generic.py#L2378-L2522"><span class="viewcode-link"><span class="pre">[source]</span></span></a>
</dt> <dd>
<p>Fill NA/NaN values using the specified method within groups.</p> <div class="deprecated"> <p><span class="versionmodified deprecated">Deprecated since version 2.2.0: </span>This method is deprecated and will be removed in a future version. Use the <a class="reference internal" href="pandas.core.groupby.dataframegroupby.ffill.html#pandas.core.groupby.DataFrameGroupBy.ffill" title="pandas.core.groupby.DataFrameGroupBy.ffill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.ffill()</span></code></a> or <a class="reference internal" href="pandas.core.groupby.dataframegroupby.bfill.html#pandas.core.groupby.DataFrameGroupBy.bfill" title="pandas.core.groupby.DataFrameGroupBy.bfill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrameGroupBy.bfill()</span></code></a> for forward or backward filling instead. If you want to fill with a single value, use <code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.fillna()</span></code> instead.</p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters<span class="colon">:</span>
</dt> <dd class="field-odd">
<dl class="simple"> <dt>
<strong>value</strong><span class="classifier">:scalar, dict, Series, or DataFrame</span>
</dt>
<dd>
<p>Value to use to fill holes (e.g. 0), alternately a dict/Series/DataFrame of values specifying which value to use for each index (for a Series) or column (for a DataFrame). Values not in the dict/Series/DataFrame will not be filled. This value cannot be a list. Users wanting to use the <code class="docutils literal notranslate"><span class="pre">value</span></code> argument and not <code class="docutils literal notranslate"><span class="pre">method</span></code> should prefer <a class="reference internal" href="pandas.dataframe.fillna.html#pandas.DataFrame.fillna" title="pandas.DataFrame.fillna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.fillna()</span></code></a> as this will produce the same result and be more performant.</p> </dd> <dt>
<strong>method</strong><span class="classifier">:{{‘bfill’, ‘ffill’, None}}, default None</span>
</dt>
<dd>
<p>Method to use for filling holes. <code class="docutils literal notranslate"><span class="pre">'ffill'</span></code> will propagate the last valid observation forward within a group. <code class="docutils literal notranslate"><span class="pre">'bfill'</span></code> will use next valid observation to fill the gap.</p> </dd> <dt>
<strong>axis</strong><span class="classifier">:{0 or ‘index’, 1 or ‘columns’}</span>
</dt>
<dd>
<p>Axis along which to fill missing values. When the <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> <code class="docutils literal notranslate"><span class="pre">axis</span></code> argument is <code class="docutils literal notranslate"><span class="pre">0</span></code>, using <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> here will produce the same results as <a class="reference internal" href="pandas.dataframe.fillna.html#pandas.DataFrame.fillna" title="pandas.DataFrame.fillna"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DataFrame.fillna()</span></code></a>. When the <code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameGroupBy</span></code> <code class="docutils literal notranslate"><span class="pre">axis</span></code> argument is <code class="docutils literal notranslate"><span class="pre">1</span></code>, using <code class="docutils literal notranslate"><span class="pre">axis=0</span></code> or <code class="docutils literal notranslate"><span class="pre">axis=1</span></code> here will produce the same results.</p> </dd> <dt>
<strong>inplace</strong><span class="classifier">:bool, default False</span>
</dt>
<dd>
<p>Broken. Do not set to True.</p> </dd> <dt>
<strong>limit</strong><span class="classifier">:int, default None</span>
</dt>
<dd>
<p>If method is specified, this is the maximum number of consecutive NaN values to forward/backward fill within a group. In other words, if there is a gap with more than this number of consecutive NaNs, it will only be partially filled. If method is not specified, this is the maximum number of entries along the entire axis where NaNs will be filled. Must be greater than 0 if not None.</p> </dd> <dt>
<strong>downcast</strong><span class="classifier">:dict, default is None</span>
</dt>
<dd>
<p>A dict of item-&gt;dtype of what to downcast if possible, or the string ‘infer’ which will try to downcast to an appropriate equal type (e.g. float64 to int64 if possible).</p> </dd> </dl> </dd> <dt class="field-even">Returns<span class="colon">:</span>
</dt> <dd class="field-even">
<dl class="simple"> <dt>DataFrame</dt>
<dd>
<p>Object with missing values filled.</p> </dd> </dl> </dd> </dl> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><a class="reference internal" href="pandas.core.groupby.dataframegroupby.ffill.html#pandas.core.groupby.DataFrameGroupBy.ffill" title="pandas.core.groupby.DataFrameGroupBy.ffill"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ffill</span></code></a></dt>
<dd>
<p>Forward fill values within a group.</p> </dd> <dt><a class="reference internal" href="pandas.core.groupby.dataframegroupby.bfill.html#pandas.core.groupby.DataFrameGroupBy.bfill" title="pandas.core.groupby.DataFrameGroupBy.bfill"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bfill</span></code></a></dt>
<dd>
<p>Backward fill values within a group.</p> </dd> </dl> </div> <p class="rubric">Examples</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; df = pd.DataFrame(
...     {
...         "key": [0, 0, 1, 1, 1],
...         "A": [np.nan, 2, np.nan, 3, np.nan],
...         "B": [2, 3, np.nan, np.nan, np.nan],
...         "C": [np.nan, np.nan, 2, np.nan, np.nan],
...     }
... )
&gt;&gt;&gt; df
   key    A    B   C
0    0  NaN  2.0 NaN
1    0  2.0  3.0 NaN
2    1  NaN  NaN 2.0
3    1  3.0  NaN NaN
4    1  NaN  NaN NaN
</pre></div> </div> <p>Propagate non-null values forward or backward within each group along columns.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; df.groupby("key").fillna(method="ffill")
     A    B   C
0  NaN  2.0 NaN
1  2.0  3.0 NaN
2  NaN  NaN 2.0
3  3.0  NaN 2.0
4  3.0  NaN 2.0
</pre></div> </div> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; df.groupby("key").fillna(method="bfill")
     A    B   C
0  2.0  2.0 NaN
1  2.0  3.0 NaN
2  3.0  NaN 2.0
3  3.0  NaN NaN
4  NaN  NaN NaN
</pre></div> </div> <p>Propagate non-null values forward or backward within each group along rows.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; df.T.groupby(np.array([0, 0, 1, 1])).fillna(method="ffill").T
   key    A    B    C
0  0.0  0.0  2.0  2.0
1  0.0  2.0  3.0  3.0
2  1.0  1.0  NaN  2.0
3  1.0  3.0  NaN  NaN
4  1.0  1.0  NaN  NaN
</pre></div> </div> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; df.T.groupby(np.array([0, 0, 1, 1])).fillna(method="bfill").T
   key    A    B    C
0  0.0  NaN  2.0  NaN
1  0.0  2.0  3.0  NaN
2  1.0  NaN  2.0  2.0
3  1.0  3.0  NaN  NaN
4  1.0  NaN  NaN  NaN
</pre></div> </div> <p>Only replace the first NaN element within a group along rows.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; df.groupby("key").fillna(method="ffill", limit=1)
     A    B    C
0  NaN  2.0  NaN
1  2.0  3.0  NaN
2  NaN  NaN  2.0
3  3.0  NaN  2.0
4  3.0  NaN  NaN
</pre></div> </div> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2022, AQR Capital Management, LLC, Lambda Foundry, Inc. and PyData Development Team<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://pandas.pydata.org/pandas-docs/version/2.2.2/reference/api/pandas.core.groupby.DataFrameGroupBy.fillna.html" class="_attribution-link">https://pandas.pydata.org/pandas-docs/version/2.2.2/reference/api/pandas.core.groupby.DataFrameGroupBy.fillna.html</a>
  </p>
</div>
