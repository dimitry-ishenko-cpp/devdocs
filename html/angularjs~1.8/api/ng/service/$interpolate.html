<h1 class="api-profile-header-heading">
<a href="https://github.com/angular/angular.js/edit/v1.8.x/src/ng/interpolate.js?message=docs(%24interpolate)%3A%20describe%20your%20change...#L122" class="improve-docs btn btn-primary">Improve this Doc</a><a href="https://github.com/angular/angular.js/tree/v1.8.2/src/ng/interpolate.js#L122" class="view-source pull-right btn btn-primary"> View Source </a>$interpolate</h1> <ol class="api-profile-header-structure naked-list step-list"> <li> <a href="../provider/%24interpolateprovider.html">$interpolateProvider</a> </li> <li> service in module <a href="https://code.angularjs.org/1.8.2/docs/api/ng">ng</a> </li> </ol>  <div class="api-profile-description"> <h2 id="overview">Overview</h2> <p>Compiles a string with markup into an interpolation function. This service is used by the HTML <a href="%24compile.html">$compile</a> service for data binding. See <a href="../provider/%24interpolateprovider.html">$interpolateProvider</a> for configuring the interpolation markup.</p> <pre data-language="javascript">var $interpolate = ...; // injected
var exp = $interpolate('Hello {{name | uppercase}}!');
expect(exp({name:'AngularJS'})).toEqual('Hello ANGULARJS!');
</pre> <p><code>$interpolate</code> takes an optional fourth argument, <code>allOrNothing</code>. If <code>allOrNothing</code> is <code>true</code>, the interpolation function will return <code>undefined</code> unless all embedded expressions evaluate to a value other than <code>undefined</code>.</p> <pre data-language="javascript">var $interpolate = ...; // injected
var context = {greeting: 'Hello', name: undefined };

// default "forgiving" mode
var exp = $interpolate('{{greeting}} {{name}}!');
expect(exp(context)).toEqual('Hello !');

// "allOrNothing" mode
exp = $interpolate('{{greeting}} {{name}}!', false, null, true);
expect(exp(context)).toBeUndefined();
context.name = 'AngularJS';
expect(exp(context)).toEqual('Hello AngularJS!');
</pre> <p><code>allOrNothing</code> is useful for interpolating URLs. <code>ngSrc</code> and <code>ngSrcset</code> use this behavior.</p> <h4 id="escaped-interpolation">Escaped Interpolation</h4> <p>$interpolate provides a mechanism for escaping interpolation markers. Start and end markers can be escaped by preceding each of their characters with a REVERSE SOLIDUS U+005C (backslash). It will be rendered as a regular start/end marker, and will not be interpreted as an expression or binding.</p> <p>This enables web-servers to prevent script injection attacks and defacing attacks, to some degree, while also enabling code examples to work without relying on the <a href="../directive/ngnonbindable.html">ngNonBindable</a> directive.</p> <p><strong>For security purposes, it is strongly encouraged that web servers escape user-supplied data, replacing angle brackets (&lt;, &gt;) with &amp;lt; and &amp;gt; respectively, and replacing all interpolation start/end markers with their escaped counterparts.</strong></p> <p>Escaped interpolation markers are only replaced with the actual interpolation markers in rendered output when the $interpolate service processes the text. So, for HTML elements interpolated by <a href="%24compile.html">$compile</a>, or otherwise interpolated with the <code>mustHaveExpression</code> parameter set to <code>true</code>, the interpolated text must contain an unescaped interpolation expression. As such, this is typically useful only when user-data is used in rendering a template from the server, or when otherwise untrusted data is used by a directive.</p>  </div> <h2 id="known-issues">Known Issues</h2> <div class="known-issue"> <p>It is currently not possible for an interpolated expression to contain the interpolation end symbol. For example, <code>{{ '}}' }}</code> will be incorrectly interpreted as <code>{{ ' }}</code> + <code>' }}</code>, i.e. an interpolated expression consisting of a single-quote (<code>'</code>) and the <code>' }}</code> string.</p> </div> <div class="known-issue"> <p>All directives and components must use the standard <code>{{</code> <code>}}</code> interpolation symbols in their templates. If you change the application interpolation symbols the <a href="%24compile.html"><code>$compile</code></a> service will attempt to denormalize the standard symbols to the custom symbols. The denormalization process is not clever enough to know not to replace instances of the standard symbols where they would not normally be treated as interpolation symbols. For example in the following code snippet the closing braces of the literal object will get incorrectly denormalized:</p> <pre data-language="html">&lt;div data-context='{"context":{"id":3,"type":"page"}}"&gt;
</pre> <p>The workaround is to ensure that such instances are separated by whitespace:</p> <pre data-language="html">&lt;div data-context='{"context":{"id":3,"type":"page"} }"&gt;
</pre> <p>See <a href="https://github.com/angular/angular.js/pull/14610#issuecomment-219401099">https://github.com/angular/angular.js/pull/14610#issuecomment-219401099</a> for more information.</p> </div> <div> <h2 id="dependencies">Dependencies</h2> <ul> <li><a href="%24parse.html"><code>$parse</code></a></li>
<li><a href="%24sce.html"><code>$sce</code></a></li> </ul> <h2 id="usage">Usage</h2> <p><code>$interpolate(text, [mustHaveExpression], [trustedContext], [allOrNothing]);</code></p> <section class="api-section"> <h3 id="$interpolate-arguments">Arguments</h3> <table class="variables-matrix input-arguments"> <thead> <tr> <th>Param</th> <th>Type</th> <th>Details</th> </tr> </thead> <tbody> <tr> <td> text </td> <td> <code class="label type-hint type-hint-string">string</code> </td> <td> <p>The text with markup to interpolate.</p> </td> </tr> <tr> <td> mustHaveExpression <div><em>(optional)</em></div> </td> <td> <code class="label type-hint type-hint-boolean">boolean</code> </td> <td> <p>if set to true then the interpolation string must have embedded expression in order to return an interpolation function. Strings with no embedded expression will return null for the interpolation function.</p> </td> </tr> <tr> <td> trustedContext <div><em>(optional)</em></div> </td> <td> <code class="label type-hint type-hint-string">string</code> </td> <td> <p>when provided, the returned function passes the interpolated result through <a href="%24sce.html#getTrusted.html">$sce.getTrusted(interpolatedResult, trustedContext)</a> before returning it. Refer to the <a href="%24sce.html">$sce</a> service that provides Strict Contextual Escaping for details.</p> </td> </tr> <tr> <td> allOrNothing <div><em>(optional)</em></div> </td> <td> <code class="label type-hint type-hint-boolean">boolean</code> </td> <td> <p>if <code>true</code>, then the returned function returns undefined unless all embedded expressions evaluate to a value other than <code>undefined</code>.</p> </td> </tr> </tbody> </table> </section> <h3 id="$interpolate-returns">Returns</h3> <table class="variables-matrix return-arguments"> <tr> <td><code class="label type-hint type-hint-function">function(context)</code></td> <td>
<p>an interpolation function which is used to compute the interpolated string. The function has these parameters:</p> <ul> <li>
<code>context</code>: evaluation context for all expressions embedded in the interpolated text</li> </ul> </td> </tr> </table> <h2 id="$interpolate-methods">Methods</h2> <ul class="methods defs"> <li> <h3 id="startSymbol">startSymbol();</h3> <div>
<p>Symbol to denote the start of expression in the interpolated string. Defaults to <code>{{</code>.</p> <p>Use <a href="../provider/%24interpolateprovider.html#startSymbol.html"><code>$interpolateProvider.startSymbol</code></a> to change the symbol.</p> </div> <h4>Returns</h4> <table class="variables-matrix return-arguments"> <tr> <td><code class="label type-hint type-hint-string">string</code></td> <td>
<p>start symbol.</p> </td> </tr> </table> </li> <li> <h3 id="endSymbol">endSymbol();</h3> <div>
<p>Symbol to denote the end of expression in the interpolated string. Defaults to <code>}}</code>.</p> <p>Use <a href="../provider/%24interpolateprovider.html#endSymbol.html"><code>$interpolateProvider.endSymbol</code></a> to change the symbol.</p> </div> <h4>Returns</h4> <table class="variables-matrix return-arguments"> <tr> <td><code class="label type-hint type-hint-string">string</code></td> <td>
<p>end symbol.</p> </td> </tr> </table> </li> </ul> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2020 Google, Inc.<br>Licensed under the Creative Commons Attribution License 3.0.<br>
    <a href="https://code.angularjs.org/1.8.2/docs/api/ng/service/$interpolate" class="_attribution-link">https://code.angularjs.org/1.8.2/docs/api/ng/service/$interpolate</a>
  </p>
</div>
