<h1 id="accessibility-with-ngaria">
<a href="https://github.com/angular/angular.js/edit/v1.8.x/docs/content/guide/accessibility.ngdoc?message=docs(guide%2FAccessibility)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary">Improve this Doc</a>Accessibility with ngAria</h1> <p>The goal of ngAria is to improve AngularJS's default accessibility by enabling common <a href="http://www.w3.org/TR/wai-aria/">ARIA</a> attributes that convey state or semantic information for assistive technologies used by persons with disabilities.</p> <h2 id="including-ngaria">Including ngAria</h2> <p>Using <a href="../api/ngaria.html">ngAria</a> is as simple as requiring the ngAria module in your application. ngAria hooks into standard AngularJS directives and quietly injects accessibility support into your application at runtime.</p> <pre data-language="javascript">angular.module('myApp', ['ngAria'])...
</pre> <h3 id="using-ngaria">Using ngAria</h3> <p>Most of what ngAria does is only visible "under the hood". To see the module in action, once you've added it as a dependency, you can test a few things:</p> <ul> <li>Using your favorite element inspector, look for attributes added by ngAria in your own code.</li> <li>Test using your keyboard to ensure <code>tabindex</code> is used correctly.</li> <li>Fire up a screen reader such as VoiceOver or NVDA to check for ARIA support. <a href="http://webaim.org/articles/screenreader_testing/">Helpful screen reader tips.</a>
</li> </ul> <h2 id="supported-directives">Supported directives</h2> <p>Currently, ngAria interfaces with the following directives:</p> <ul> <li><a href="accessibility.html#ngmodel.html">ngModel</a></li> <li><a href="accessibility.html#ngdisabled.html">ngDisabled</a></li> <li><a href="accessibility.html#ngrequired.html">ngRequired</a></li> <li><a href="accessibility.html#ngreadonly.html">ngReadonly</a></li> <li><a href="accessibility.html#ngvaluechecked.html">ngChecked</a></li> <li><a href="accessibility.html#ngvaluechecked.html">ngValue</a></li> <li><a href="accessibility.html#ngshow.html">ngShow</a></li> <li><a href="accessibility.html#nghide.html">ngHide</a></li> <li><a href="accessibility.html#ngclick.html">ngClick</a></li> <li><a href="accessibility.html#ngdblclick.html">ngDblClick</a></li> <li><a href="accessibility.html#ngmessages.html">ngMessages</a></li> </ul> <h2 id="ngmodel">ngModel</h2> <p>Much of ngAria's heavy lifting happens in the <a href="../api/ng/directive/ngmodel.html">ngModel</a> directive. For elements using ngModel, special attention is paid by ngAria if that element also has a role or type of <code>checkbox</code>, <code>radio</code>, <code>range</code> or <code>textbox</code>.</p> <p>For those elements using ngModel, ngAria will dynamically bind and update the following ARIA attributes (if they have not been explicitly specified by the developer):</p> <ul> <li>aria-checked</li> <li>aria-valuemin</li> <li>aria-valuemax</li> <li>aria-valuenow</li> <li>aria-invalid</li> <li>aria-required</li> <li>aria-readonly</li> <li>aria-disabled</li> </ul>   <p>ngAria will also add <code>tabIndex</code>, ensuring custom elements with these roles will be reachable from the keyboard. It is still up to <strong>you</strong> as a developer to <strong>ensure custom controls will be accessible</strong>. As a rule, any time you create a widget involving user interaction, be sure to test it with your keyboard and at least one mobile and desktop screen reader.</p> <h2 id="ngvaluechecked">ngValue and ngChecked</h2> <p>To ease the transition between native inputs and custom controls, ngAria now supports <a href="../api/ng/directive/ngvalue.html">ngValue</a> and <a href="../api/ng/directive/ngchecked.html">ngChecked</a>. The original directives were created for native inputs only, so ngAria extends support to custom elements by managing <code>aria-checked</code> for accessibility.</p>  <pre data-language="html">&lt;custom-checkbox ng-checked="val"&gt;&lt;/custom-checkbox&gt;
&lt;custom-radio-button ng-value="val"&gt;&lt;/custom-radio-button&gt;
</pre> <p>Becomes:</p> <pre data-language="html">&lt;custom-checkbox ng-checked="val" aria-checked="true"&gt;&lt;/custom-checkbox&gt;
&lt;custom-radio-button ng-value="val" aria-checked="true"&gt;&lt;/custom-radio-button&gt;
</pre> <h2 id="ngdisabled">ngDisabled</h2> <p>The <code>disabled</code> attribute is only valid for certain elements such as <code>button</code>, <code>input</code> and <code>textarea</code>. To properly disable custom element directives such as <code>&lt;md-checkbox&gt;</code> or <code>&lt;taco-tab&gt;</code>, using ngAria with <a href="../api/ng/directive/ngdisabled.html">ngDisabled</a> will also add <code>aria-disabled</code>. This tells assistive technologies when a non-native input is disabled, helping custom controls to be more accessible.</p>  <pre data-language="html">&lt;md-checkbox ng-disabled="disabled"&gt;&lt;/md-checkbox&gt;
</pre> <p>Becomes:</p> <pre data-language="html">&lt;md-checkbox disabled aria-disabled="true"&gt;&lt;/md-checkbox&gt;
</pre> <div class="alert alert-info"> You can check whether a control is legitimately disabled for a screen reader by visiting <a href="chrome://accessibility.html">chrome://accessibility</a> and inspecting <a href="http://www.paciellogroup.com/blog/2015/01/the-browser-accessibility-tree/">the accessibility tree</a>. </div> <h2 id="ngrequired">ngRequired</h2> <p>The boolean <code>required</code> attribute is only valid for native form controls such as <code>input</code> and <code>textarea</code>. To properly indicate custom element directives such as <code>&lt;md-checkbox&gt;</code> or <code>&lt;custom-input&gt;</code> as required, using ngAria with <a href="../api/ng/directive/ngrequired.html">ngRequired</a> will also add <code>aria-required</code>. This tells accessibility APIs when a custom control is required.</p>  <pre data-language="html">&lt;md-checkbox ng-required="val"&gt;&lt;/md-checkbox&gt;
</pre> <p>Becomes:</p> <pre data-language="html">&lt;md-checkbox ng-required="val" aria-required="true"&gt;&lt;/md-checkbox&gt;
</pre> <h2 id="ngreadonly">ngReadonly</h2> <p>The boolean <code>readonly</code> attribute is only valid for native form controls such as <code>input</code> and <code>textarea</code>. To properly indicate custom element directives such as <code>&lt;md-checkbox&gt;</code> or <code>&lt;custom-input&gt;</code> as required, using ngAria with <a href="../api/ng/directive/ngreadonly.html">ngReadonly</a> will also add <code>aria-readonly</code>. This tells accessibility APIs when a custom control is read-only.</p>  <pre data-language="html">&lt;md-checkbox ng-readonly="val"&gt;&lt;/md-checkbox&gt;
</pre> <p>Becomes:</p> <pre data-language="html">&lt;md-checkbox ng-readonly="val" aria-readonly="true"&gt;&lt;/md-checkbox&gt;
</pre> <h2 id="ngshow">ngShow</h2> <p>The <a href="../api/ng/directive/ngshow.html">ngShow</a> directive shows or hides the given HTML element based on the expression provided to the <code>ngShow</code> attribute. The element is shown or hidden by removing or adding the <code>.ng-hide</code> CSS class onto the element.</p> <p>In its default setup, ngAria for <code>ngShow</code> is actually redundant. It toggles <code>aria-hidden</code> on the directive when it is hidden or shown. However, the default CSS of <code>display: none !important</code>, already hides child elements from a screen reader. It becomes more useful when the default CSS is overridden with properties that don’t affect assistive technologies, such as <code>opacity</code> or <code>transform</code>. By toggling <code>aria-hidden</code> dynamically with ngAria, we can ensure content visually hidden with this technique will not be read aloud in a screen reader.</p> <p>One caveat with this combination of CSS and <code>aria-hidden</code>: you must also remove links and other interactive child elements from the tab order using <code>tabIndex=“-1”</code> on each control. This ensures screen reader users won't accidentally focus on "mystery elements". Managing tab index on every child control can be complex and affect performance, so it’s best to just stick with the default <code>display: none</code> CSS. See the <a href="http://www.w3.org/TR/aria-in-html/#fourth-rule-of-aria-use">fourth rule of ARIA use</a>.</p>  <pre data-language="css">.ng-hide {
  display: block;
  opacity: 0;
}
</pre> <pre data-language="html">&lt;div ng-show="false" class="ng-hide" aria-hidden="true"&gt;&lt;/div&gt;
</pre> <p>Becomes:</p> <pre data-language="html">&lt;div ng-show="true" aria-hidden="false"&gt;&lt;/div&gt;
</pre> <p><em>Note: Child links, buttons or other interactive controls must also be removed from the tab order.</em></p> <h2 id="nghide">ngHide</h2> <p>The <a href="../api/ng/directive/nghide.html">ngHide</a> directive shows or hides the given HTML element based on the expression provided to the <code>ngHide</code> attribute. The element is shown or hidden by removing or adding the <code>.ng-hide</code> CSS class onto the element.</p> <p>The default CSS for <code>ngHide</code>, the inverse method to <code>ngShow</code>, makes ngAria redundant. It toggles <code>aria-hidden</code> on the directive when it is hidden or shown, but the content is already hidden with <code>display: none</code>. See explanation for <a href="accessibility.html#ngshow.html">ngShow</a> when overriding the default CSS.</p> <h2>
<span id="ngclick">ngClick</span> and <span id="ngdblclick">ngDblclick</span>
</h2> If <code>ng-click</code> or <code>ng-dblclick</code> is encountered, ngAria will add <code>tabindex="0"</code> to any element not in the list of built in aria nodes: <em> Button </em> Anchor <em> Input </em> Textarea <em> Select </em> Details/Summary To fix widespread accessibility problems with <code>ng-click</code> on <code>div</code> elements, ngAria will dynamically bind a keypress event by default as long as the element isn't in a node from the list of built in aria nodes. You can turn this functionality on or off with the <code>bindKeypress</code> configuration option. ngAria will also add the <code>button</code> role to communicate to users of assistive technologies. This can be disabled with the <code>bindRoleForClick</code> configuration option. For <code>ng-dblclick</code>, you must still manually add <code>ng-keypress</code> and a role to non-interactive elements such as <code>div</code> or <code>taco-button</code> to enable keyboard access. <h3>Example</h3> <code>html
&lt;div ng-click="toggleMenu()"&gt;&lt;/div&gt;</code> Becomes: <code>html
&lt;div ng-click="toggleMenu()" tabindex="0"&gt;&lt;/div&gt;</code> <h2 id="ngmessages">ngMessages</h2> <p>The ngMessages module makes it easy to display form validation or other messages with priority sequencing and animation. To expose these visual messages to screen readers, ngAria injects <code>aria-live="assertive"</code>, causing them to be read aloud any time a message is shown, regardless of the user's focus location.</p>  <pre data-language="html">&lt;div ng-messages="myForm.myName.$error"&gt;
  &lt;div ng-message="required"&gt;You did not enter a field&lt;/div&gt;
  &lt;div ng-message="maxlength"&gt;Your field is too long&lt;/div&gt;
&lt;/div&gt;
</pre> <p>Becomes:</p> <pre data-language="html">&lt;div ng-messages="myForm.myName.$error" aria-live="assertive"&gt;
  &lt;div ng-message="required"&gt;You did not enter a field&lt;/div&gt;
  &lt;div ng-message="maxlength"&gt;Your field is too long&lt;/div&gt;
&lt;/div&gt;
</pre> <h2 id="disabling-attributes">Disabling attributes</h2> <p>The attribute magic of ngAria may not work for every scenario. To disable individual attributes, you can use the <a href="../api/ngaria/provider/%24ariaprovider.html#config.html">config</a> method. Just keep in mind this will tell ngAria to ignore the attribute globally.</p>  <h2 id="common-accessibility-patterns">Common Accessibility Patterns</h2> <p>Accessibility best practices that apply to web apps in general also apply to AngularJS.</p> <ul> <li>
<strong>Text alternatives</strong>: Add alternate text content to make visual information accessible using <a href="http://www.w3.org/TR/html-alt-techniques/">these W3C guidelines</a>. The appropriate technique depends on the specific markup but can be accomplished using offscreen spans, <code>aria-label</code> or label elements, image <code>alt</code> attributes, <code>figure</code>/<code>figcaption</code> elements and more.</li> <li>
<strong>HTML Semantics</strong>: If you're creating custom element directives, Web Components or HTML in general, use native elements wherever possible to utilize built-in events and properties. Alternatively, use ARIA to communicate semantic meaning. See <a href="http://www.w3.org/TR/aria-in-html/#notes-on-aria-use-in-html">notes on ARIA use</a>.</li> <li>
<strong>Focus management</strong>: Guide the user around the app as views are appended/removed. Focus should <em>never</em> be lost, as this causes unexpected behavior and much confusion (referred to as "freak-out mode").</li> <li>
<strong>Announcing changes</strong>: When filtering or other UI messaging happens away from the user's focus, notify with <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions">ARIA Live Regions</a>.</li> <li>
<strong>Color contrast and scale</strong>: Make sure content is legible and interactive controls are usable at all screen sizes. Consider configurable UI themes for people with color blindness, low vision or other visual impairments.</li> <li>
<strong>Progressive enhancement</strong>: Some users do not browse with JavaScript enabled or do not have the latest browser. An accessible message about site requirements can inform users and improve the experience.</li> </ul> <h2 id="additional-resources">Additional Resources</h2> <ul> <li><a href="http://www.w3.org/TR/aria-in-html/">Using ARIA in HTML</a></li> <li><a href="https://www.youtube.com/watch?v=dmYDggEgU-s&amp;list=UUEGUP3TJJfMsEM_1y8iviSQ">AngularJS Accessibility at ngEurope</a></li> <li><a href="http://webaim.org/articles/screenreader_testing/">Testing with Screen Readers</a></li> <li><a href="https://chrome.google.com/webstore/detail/accessibility-developer-t/fpkknkljclfencbdbgkenhalefipecmb?hl=en">Chrome Accessibility Developer Tools</a></li> <li><a href="http://www.w3.org/wiki/Accessibility_testing">W3C Accessibility Testing</a></li> <li><a href="http://webaim.org">WebAIM</a></li> <li><a href="http://a11yproject.com">A11y Project</a></li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2020 Google, Inc.<br>Licensed under the Creative Commons Attribution License 3.0.<br>
    <a href="https://code.angularjs.org/1.8.2/docs/guide/accessibility" class="_attribution-link">https://code.angularjs.org/1.8.2/docs/guide/accessibility</a>
  </p>
</div>
