<h1 id="filters">
<a href="https://github.com/angular/angular.js/edit/v1.8.x/docs/content/guide/filter.ngdoc?message=docs(guide%2FFilters)%3A%20describe%20your%20change..." class="improve-docs btn btn-primary">Improve this Doc</a>Filters</h1> <p>Filters format the value of an expression for display to the user. They can be used in view templates, controllers or services. AngularJS comes with a collection of <a href="../api/ng/filter.html">built-in filters</a>, but it is easy to define your own as well.</p> <p>The underlying API is the <a href="../api/ng/provider/%24filterprovider.html"><code>$filterProvider</code></a>.</p> <h2 id="using-filters-in-view-templates">Using filters in view templates</h2> <p>Filters can be applied to expressions in view templates using the following syntax:</p> <pre>{{ expression | filter }}
</pre> <p>E.g. the markup <code>{{ 12 | currency }}</code> formats the number 12 as a currency using the <a href="../api/ng/filter/currency.html"><code>currency</code></a> filter. The resulting value is <code>$12.00</code>.</p> <p>Filters can be applied to the result of another filter. This is called "chaining" and uses the following syntax:</p> <pre>{{ expression | filter1 | filter2 | ... }}
</pre> <p>Filters may have arguments. The syntax for this is</p> <pre>{{ expression | filter:argument1:argument2:... }}
</pre> <p>E.g. the markup <code>{{ 1234 | number:2 }}</code> formats the number 1234 with 2 decimal points using the <a href="../api/ng/filter/number.html"><code>number</code></a> filter. The resulting value is <code>1,234.00</code>.</p> <h3 id="when-filters-are-executed">When filters are executed</h3> <p>In templates, filters are only executed when their inputs have changed. This is more performant than executing a filter on each <a href="../api/ng/type/%24rootscope.scope.html#%24digest.html"><code>$digest</code></a> as is the case with <a href="expression.html">expressions</a>.</p> <p>There are two exceptions to this rule:</p> <ol> <li>
<p>In general, this applies only to filters that take <a href="https://developer.mozilla.org/docs/Glossary/Primitive">primitive values</a> as inputs. Filters that receive <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Objects">Objects</a> as input are executed on each <code>$digest</code>, as it would be too costly to track if the inputs have changed.</p> </li> <li>
<p>Filters that are marked as <code>$stateful</code> are also executed on each $digest. See <a href="filter.html#stateful-filters.html">Stateful filters</a> for more information. Note that no AngularJS core filters are $stateful.</p> </li> </ol> <h2 id="using-filters-in-controllers-services-and-directives">Using filters in controllers, services, and directives</h2> <p>You can also use filters in controllers, services, and directives.</p> <div class="alert alert-info"> For this, inject a dependency with the name <code>&lt;filterName&gt;Filter</code> into your controller/service/directive. E.g. a filter called <code>number</code> is injected by using the dependency <code>numberFilter</code>. The injected argument is a function that takes the value to format as first argument, and filter parameters starting with the second argument. </div> <p>The example below uses the filter called <a href="../api/ng/filter/filter.html"><code>filter</code></a>. This filter reduces arrays into sub arrays based on conditions. The filter can be applied in the view template with markup like <code>{{ctrl.array | filter:'a'}}</code>, which would do a fulltext search for "a". However, using a filter in a view template will reevaluate the filter on every digest, which can be costly if the array is big.</p> <p>The example below therefore calls the filter directly in the controller. By this, the controller is able to call the filter only when needed (e.g. when the data is loaded from the backend or the filter expression is changed).</p>  <h2 id="creating-custom-filters">Creating custom filters</h2> <p>Writing your own filter is very easy: just register a new filter factory function with your module. Internally, this uses the <a href="../api/ng/provider/%24filterprovider.html"><code>filterProvider</code></a>. This factory function should return a new filter function which takes the input value as the first argument. Any filter arguments are passed in as additional arguments to the filter function.</p> <p>The filter function should be a <a href="http://en.wikipedia.org/wiki/Pure_function">pure function</a>, which means that it should always return the same result given the same input arguments and should not affect external state, for example, other AngularJS services. AngularJS relies on this contract and will by default execute a filter only when the inputs to the function change. <a href="filter.html#stateful-filters.html">Stateful filters</a> are possible, but less performant.</p> <div class="alert alert-warning"> <strong>Note:</strong> Filter names must be valid AngularJS <a href="expression.html"><code>Expressions</code></a> identifiers, such as <code>uppercase</code> or <code>orderBy</code>. Names with special characters, such as hyphens and dots, are not allowed. If you wish to namespace your filters, then you can use capitalization (<code>myappSubsectionFilterx</code>) or underscores (<code>myapp_subsection_filterx</code>). </div> <p>The following sample filter reverses a text string. In addition, it conditionally makes the text upper-case.</p>  <h3 id="stateful-filters">Stateful filters</h3> <p>It is strongly discouraged to write filters that are stateful, because the execution of those can't be optimized by AngularJS, which often leads to performance issues. Many stateful filters can be converted into stateless filters just by exposing the hidden state as a model and turning it into an argument for the filter.</p> <p>If you however do need to write a stateful filter, you have to mark the filter as <code>$stateful</code>, which means that it will be executed one or more times during the each <code>$digest</code> cycle.</p>  <h2 id="testing-custom-filters">Testing custom filters</h2> <p>See the <a href="http://docs.angularjs.org/tutorial/step_11#testing">phonecat tutorial</a> for an example.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2010&ndash;2020 Google, Inc.<br>Licensed under the Creative Commons Attribution License 3.0.<br>
    <a href="https://code.angularjs.org/1.8.2/docs/guide/filter" class="_attribution-link">https://code.angularjs.org/1.8.2/docs/guide/filter</a>
  </p>
</div>
