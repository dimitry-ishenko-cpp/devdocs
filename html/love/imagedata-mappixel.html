<h1>ImageData:mapPixel</h1>
<p>Transform an image by applying a function to every pixel. </p>
<p>This function is a <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Higher-order_function">higher-order function</a>. It takes another function as a parameter, and calls it once for each pixel in the ImageData. </p>
<p>The passed function is called with six parameters for each pixel in turn. The parameters are numbers that represent the x and y coordinates of the pixel and its red, green, blue and alpha values. The function should return the new red, green, blue, and alpha values for that pixel. </p> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">function pixelFunction(x, y, r, g, b, a)
    -- template for defining your own pixel mapping function
    -- perform computations giving the new values for r, g, b and a
    -- ...
    return r, g, b, a
end</pre> <p>In versions prior to <a href="https://love2d.org/wiki/11.0" title="11.0">11.0</a>, color component values were within the range of 0 to 255 instead of 0 to 1. </p> <h2 id="Function">Function</h2> <h3 id="Synopsis">Synopsis</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">ImageData:mapPixel( pixelFunction, x, y, width, height )</pre> <h3 id="Arguments">Arguments</h3> <dl>
<dt><code><a href="function.html" title="function">function</a> pixelFunction</code></dt> <dd> Function to apply to every pixel.</dd>
</dl>  <dl>
<dt>
<code><a href="number.html" title="number">number</a> x (0)</code> <span class="label label-green">Available since 0.9.0</span>
</dt> <dd> The x-axis of the top-left corner of the area within the ImageData to apply the function to.</dd> <dt>
<code><a href="number.html" title="number">number</a> y (0)</code> <span class="label label-green">Available since 0.9.0</span>
</dt> <dd> The y-axis of the top-left corner of the area within the ImageData to apply the function to.</dd> <dt>
<code><a href="number.html" title="number">number</a> width (ImageData:getWidth())</code> <span class="label label-green">Available since 0.9.0</span>
</dt> <dd> The width of the area within the ImageData to apply the function to.</dd> <dt>
<code><a href="number.html" title="number">number</a> height (ImageData:getHeight())</code> <span class="label label-green">Available since 0.9.0</span>
</dt> <dd> The height of the area within the ImageData to apply the function to.</dd>
</dl>  <h3 id="Returns">Returns</h3> <p>Nothing. </p> <h2 id="Examples">Examples</h2> <h3 id="Brighten_an_image:">Brighten an image:</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">function brighten( x, y, r, g, b, a )
   r = math.min(r * 3, 1)
   g = math.min(g * 3, 1)
   b = math.min(b * 3, 1)
   return r,g,b,a
end
 
imageData:mapPixel( brighten )</pre> <h3 id="Add_colored_stripes_to_an_image:">Add colored stripes to an image:</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">function stripey( x, y, r, g, b, a )
   r = math.min(r * math.sin(x*100)*2, 1)
   g = math.min(g * math.cos(x*150)*2, 1)
   b = math.min(b * math.sin(x*50)*2, 1)
   return r,g,b,a
end
 
imageData:mapPixel( stripey )</pre> <p>source: <a rel="nofollow" class="external free" href="http://khason.net/blog/hlsl-pixel-shader-effects-tutorial/">http://khason.net/blog/hlsl-pixel-shader-effects-tutorial/</a> (broken 11/16. See <a rel="nofollow" class="external text" href="http://blogs.microsoft.co.il/tamir/2008/06/17/hlsl-pixel-shader-effects-tutorial/">blogs.microsoft.co.il</a> or <a rel="nofollow" class="external text" href="https://web.archive.org/web/20150515111551/http://khason.net/blog/hlsl-pixel-shader-effects-tutorial/">archive.org</a> mirrors.) </p> <h2 id="See_Also">See Also</h2> <ul><li> <a href="imagedata.html" title="ImageData">ImageData</a>
</li></ul> <p><br> </p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2020 L&Ouml;VE Development Team<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://love2d.org/wiki/ImageData:mapPixel" class="_attribution-link">https://love2d.org/wiki/ImageData:mapPixel</a>
  </p>
</div>
