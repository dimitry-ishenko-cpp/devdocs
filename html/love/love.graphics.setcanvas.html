<h1>love.graphics.setCanvas</h1>
<p class="note note-green"> <b>Available since LÖVE <a href="https://love2d.org/wiki/0.8.0" title="0.8.0">0.8.0</a></b>  <br> It has been renamed from <a href="love.graphics.setrendertarget.html" title="love.graphics.setRenderTarget">love.graphics.setRenderTarget</a>. </p> <p>Captures drawing operations to a <a href="canvas.html" title="Canvas">Canvas</a>. </p> <h2 id="Function">Function</h2> <p>Sets the render target to a specified <a href="canvas.html" title="Canvas">Canvas</a>. All drawing operations until the next <i>love.graphics.setCanvas</i> call will be redirected to the <a href="canvas.html" title="Canvas">Canvas</a> and not shown on the screen. </p>
<p>When using a <a href="love.graphics.stencil.html" title="love.graphics.stencil">stencil</a> or <a href="love.graphics.setdepthmode.html" title="love.graphics.setDepthMode">depth testing</a> with an active Canvas, the stencil buffer or depth buffer must be explicitly enabled in setCanvas via the variants below. </p>
<p>Note that no canvas should be active when <i><a href="love.graphics.present.html" title="love.graphics.present">love.graphics.present</a></i> is called. <i>love.graphics.present</i> is called at the end of <a href="love.draw.html" title="love.draw">love.draw</a> in the default <a href="love.run.html" title="love.run">love.run</a>, hence if you activate a canvas using this function, you normally need to deactivate it at some point before <i>love.draw</i> finishes. </p> <h3 id="Synopsis">Synopsis</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">love.graphics.setCanvas( canvas, mipmap )</pre> <h3 id="Arguments">Arguments</h3> <dl>
<dt><code><a href="canvas.html" title="Canvas">Canvas</a> canvas</code></dt> <dd> The new target.</dd>
</dl>  <dl>
<dt>
<code><a href="number.html" title="number">number</a> mipmap (1)</code> <span class="label label-green">Available since 11.0</span>
</dt> <dd> The mipmap level to render to, for Canvases with <a href="texture-getmipmapcount.html" title="Texture:getMipmapCount">mipmaps</a>.</dd>
</dl>  <h3 id="Returns">Returns</h3> <p>Nothing. </p> <h2 id="Function_2">Function</h2> <p>Resets the render target to the screen, i.e. re-enables drawing to the screen. </p> <h3 id="Synopsis_2">Synopsis</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">love.graphics.setCanvas( )</pre> <h3 id="Arguments_2">Arguments</h3> <p>None. </p> <h3 id="Returns_2">Returns</h3> <p>Nothing. </p> <h2 id="Function_3">Function</h2> <p class="note note-green"> <b>Available since LÖVE <a href="https://love2d.org/wiki/0.9.0" title="0.9.0">0.9.0</a></b>  <br> This variant is not supported in earlier versions. </p> <p>Sets the render target to multiple simultaneous <a href="texturetype.html" title="TextureType">2D</a> <a href="canvas.html" title="Canvas">Canvases</a>. All drawing operations until the next <i>love.graphics.setCanvas</i> call will be redirected to the specified canvases and not shown on the screen. </p> <h3 id="Synopsis_3">Synopsis</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">love.graphics.setCanvas( canvas1, canvas2, ... )</pre> <h3 id="Arguments_3">Arguments</h3> <dl>
<dt><code><a href="canvas.html" title="Canvas">Canvas</a> canvas1</code></dt> <dd> The first render target.</dd> <dt><code><a href="canvas.html" title="Canvas">Canvas</a> canvas2</code></dt> <dd> The second render target.</dd> <dt><code><a href="canvas.html" title="Canvas">Canvas</a> ...</code></dt> <dd> More canvases.</dd>
</dl> <h3 id="Returns_3">Returns</h3> <p>Nothing. </p> <h3 id="Notes">Notes</h3> <p>Normally all drawing operations will draw only to the first canvas passed to the function, but that can be changed if a <a href="shader.html" title="Shader">pixel shader</a> is used with the <a href="love.graphics.newshader.html#Pixel_Shader_Function" title="love.graphics.newShader"><code>void effect</code> function</a> instead of the regular <code>vec4 effect</code>. </p>
<p>All canvas arguments must have the same widths and heights and the same <a href="texturemode.html" title="TextureMode" class="mw-redirect">texture type</a>. Not all computers which support Canvases will support multiple render targets. If <a href="love.graphics.issupported.html" title="love.graphics.isSupported">love.graphics.isSupported("multicanvas")</a> returns true, at least 4 simultaneously active canvases are supported. </p> <h2 id="Function_4">Function</h2> <p class="note note-green"> <b>Available since LÖVE <a href="https://love2d.org/wiki/11.0" title="11.0">11.0</a></b>  <br> This variant is not supported in earlier versions. </p> <p>Sets the render target to the specified <a href="texturetype.html" title="TextureType">layer/slice</a> and <a href="texture-getmipmapcount.html" title="Texture:getMipmapCount">mipmap level</a> of the given non-2D <a href="canvas.html" title="Canvas">Canvas</a>. All drawing operations until the next <i>love.graphics.setCanvas</i> call will be redirected to the <a href="canvas.html" title="Canvas">Canvas</a> and not shown on the screen. </p> <h3 id="Synopsis_4">Synopsis</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">love.graphics.setCanvas( canvas, slice, mipmap )</pre> <h3 id="Arguments_4">Arguments</h3> <dl>
<dt><code><a href="canvas.html" title="Canvas">Canvas</a> canvas</code></dt> <dd> The new render target.</dd> <dt><code><a href="number.html" title="number">number</a> slice</code></dt> <dd> For cubemaps this is the cube face index to render to (between 1 and 6). For Array textures this is the <a href="texture-getlayercount.html" title="Texture:getLayerCount">array layer</a>. For volume textures this is the depth slice. 2D canvases should use a value of 1.</dd> <dt><code><a href="number.html" title="number">number</a> mipmap (1)</code></dt> <dd> The mipmap level to render to, for Canvases with <a href="texture-getmipmapcount.html" title="Texture:getMipmapCount">mipmaps</a>.</dd>
</dl> <h3 id="Returns_4">Returns</h3> <p>Nothing. </p> <h2 id="Function_5">Function</h2> <p class="note note-green"> <b>Available since LÖVE <a href="https://love2d.org/wiki/11.0" title="11.0">11.0</a></b>  <br> This variant is not supported in earlier versions. </p> <p>Sets the active render target(s) and active stencil and depth buffers based on the specified setup information. All drawing operations until the next <i>love.graphics.setCanvas</i> call will be redirected to the specified <a href="canvas.html" title="Canvas">Canvases</a> and not shown on the screen. </p> <h3 id="Synopsis_5">Synopsis</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">love.graphics.setCanvas( setup )</pre> <h3 id="Arguments_5">Arguments</h3> <dl>
<dt><code><a href="table.html" title="table">table</a> setup</code></dt> <dd> A table specifying the active Canvas(es), their mipmap levels and active layers if applicable, and whether to use a stencil and/or depth buffer. <dl>
<dt><code><a href="https://love2d.org/w/index.php?title=RenderTargetSetup&amp;action=edit&amp;redlink=1" class="new" title="RenderTargetSetup (page does not exist)">RenderTargetSetup</a> [1]</code></dt> <dd> The Canvas to render to.</dd> <dt><code><a href="https://love2d.org/w/index.php?title=RenderTargetSetup&amp;action=edit&amp;redlink=1" class="new" title="RenderTargetSetup (page does not exist)">RenderTargetSetup</a> [2] (nil)</code></dt> <dd> An additional Canvas to render to, if multiple simultaneous render targets are wanted.</dd> <dt><code><a href="https://love2d.org/w/index.php?title=RenderTargetSetup&amp;action=edit&amp;redlink=1" class="new" title="RenderTargetSetup (page does not exist)">RenderTargetSetup</a> ...</code></dt> <dd> Additional Canvases to render to, if multiple simultaneous render targets are wanted.</dd> <dt><code><a href="boolean.html" title="boolean">boolean</a> stencil (false)</code></dt> <dd> Whether an internally managed stencil buffer should be used, if the <code>depthstencil</code> field isn't set.</dd> <dt><code><a href="boolean.html" title="boolean">boolean</a> depth (false)</code></dt> <dd> Whether an internally managed depth buffer should be used, if the <code>depthstencil</code> field isn't set.</dd> <dt><code><a href="https://love2d.org/w/index.php?title=RenderTargetSetup&amp;action=edit&amp;redlink=1" class="new" title="RenderTargetSetup (page does not exist)">RenderTargetSetup</a> depthstencil (nil)</code></dt> <dd> An optional custom depth/stencil <a href="pixelformat.html" title="PixelFormat">formatted</a> Canvas to use for the depth and/or stencil buffer.</dd>
</dl>
</dd>
</dl> <h3 id="Returns_5">Returns</h3> <p>Nothing. </p> <h3 id="Notes_2">Notes</h3> <p>The <code>RenderTargetSetup</code> parameters can either be a <a href="canvas.html" title="Canvas">Canvas</a> object, or a table in the following format: <code>{canvas, mipmap=#, layer=#, face=#}</code> </p> <dl>
<dt><code><a href="canvas.html" title="Canvas">Canvas</a> [1]</code></dt> <dd> The Canvas to use for this active render target.</dd> <dt><code><a href="number.html" title="number">number</a> mipmap (1)</code></dt> <dd> The mipmap level to render to, for Canvases with <a href="texture-getmipmapcount.html" title="Texture:getMipmapCount">mipmaps</a>.</dd> <dt><code><a href="number.html" title="number">number</a> layer (1)</code></dt> <dd> Only used for <a href="texturetype.html" title="TextureType">Volume and Array</a>-type Canvases. For Array textures this is the <a href="texture-getlayercount.html" title="Texture:getLayerCount">array layer</a> to render to. For volume textures this is the depth slice.</dd> <dt><code><a href="number.html" title="number">number</a> face (1)</code></dt> <dd> Only used for <a href="texturetype.html" title="TextureType">Cubemap</a>-type Canvases. The cube face index to render to (between 1 and 6)</dd>
</dl> <h2 id="Examples">Examples</h2> <h3 id="Drawing_to_a_canvas">Drawing to a canvas</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">function love.load()
    -- create canvas
    canvas = love.graphics.newCanvas()
 
    -- direct drawing operations to the canvas
    love.graphics.setCanvas(canvas)
 
    -- draw colored square to canvas
    love.graphics.setColor(0.8, 0.9, 0.4)
    love.graphics.rectangle("fill", 0, 0, 100, 100)
 
    -- re-enable drawing to the main screen
    love.graphics.setCanvas()
end
 
function love.draw()
    -- draw scaled canvas to screen
    love.graphics.setColor(1, 1, 1)
    love.graphics.draw(canvas, 200, 100, 0, 0.5, 0.5)
end</pre> <p><br> </p> <h3 id="Advanced_setup_with_the_table_variant_of_love.graphics.setCanvas">Advanced setup with the table variant of love.graphics.setCanvas</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">-- Allow love.graphics.stencil calls when drawing to the given Canvas.
love.graphics.setCanvas({canvas, stencil=true})
 
-- Use multiple simultaneous render targets when drawing to several canvases of the Array Texture type,
-- and use a custom depth buffer as well.
canvas1 = love.graphics.newCanvas(128, 128, 4, {type="array"})
canvas2 = love.graphics.newCanvas(128, 128, 8, {type="array"})
depthcanvas = love.graphics.newCanvas(128, 128, {format="depth24", readable=true})
 
love.graphics.setCanvas({
    {canvas1, layer = 3},
    {canvas2, layer = 1},
    depthstencil = depthcanvas,
})</pre> <h2 id="See_Also">See Also</h2> <ul>
<li> <a href="love.graphics.html" title="love.graphics">love.graphics</a>
</li> <li> <a href="love.graphics.getcanvas.html" title="love.graphics.getCanvas">love.graphics.getCanvas</a>
</li> <li> <a href="canvas.html" title="Canvas">Canvas</a>
</li> <li> <a href="canvas-renderto.html" title="Canvas:renderTo">Canvas:renderTo</a>
</li>
</ul> <p><br> </p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2020 L&Ouml;VE Development Team<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://love2d.org/wiki/love.graphics.setCanvas" class="_attribution-link">https://love2d.org/wiki/love.graphics.setCanvas</a>
  </p>
</div>
