<h1>love.graphics.newMesh</h1>
<p class="note note-green"> <b>Available since LÖVE <a href="https://love2d.org/wiki/0.9.0" title="0.9.0">0.9.0</a></b>  <br> This function is not supported in earlier versions. </p> <p>Creates a new <a href="mesh.html" title="Mesh">Mesh</a>. </p>
<p>Use <a href="mesh-settexture.html" title="Mesh:setTexture">Mesh:setTexture</a> if the Mesh should be textured with an <a href="image.html" title="Image">Image</a> or <a href="canvas.html" title="Canvas">Canvas</a> when it's drawn. </p>
<p>In versions prior to <a href="https://love2d.org/wiki/11.0" title="11.0">11.0</a>, color and byte component values were within the range of 0 to 255 instead of 0 to 1. </p>
<p><br> </p> <p class="note">This function can be slow if it is called repeatedly, such as from <a href="love.update.html" title="love.update">love.update</a> or <a href="love.draw.html" title="love.draw">love.draw</a>. If you need to use a specific resource often, create it once and store it somewhere it can be reused! </p> <h2 id="Function">Function</h2> <p class="note note-green"> <b>Available since LÖVE <a href="https://love2d.org/wiki/0.10.0" title="0.10.0">0.10.0</a></b>  <br> This variant is not supported in earlier versions. </p> <p>Creates a standard Mesh with the specified vertices. </p> <h3 id="Synopsis">Synopsis</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">mesh = love.graphics.newMesh( vertices, mode, usage )</pre> <h3 id="Arguments">Arguments</h3> <dl>
<dt><code><a href="table.html" title="table">table</a> vertices</code></dt> <dd> The table filled with vertex information tables for each vertex as follows: <dl>
<dt><code><a href="number.html" title="number">number</a> [1]</code></dt> <dd> The position of the vertex on the x-axis.</dd> <dt><code><a href="number.html" title="number">number</a> [2]</code></dt> <dd> The position of the vertex on the y-axis.</dd> <dt><code><a href="number.html" title="number">number</a> [3] (0)</code></dt> <dd> The u texture coordinate of the vertex. Texture coordinates are normally in the range of [0, 1], but can be greater or less (see <a href="wrapmode.html" title="WrapMode">WrapMode</a>.)</dd> <dt><code><a href="number.html" title="number">number</a> [4] (0)</code></dt> <dd> The v texture coordinate of the vertex. Texture coordinates are normally in the range of [0, 1], but can be greater or less (see <a href="wrapmode.html" title="WrapMode">WrapMode</a>.)</dd> <dt><code><a href="number.html" title="number">number</a> [5] (1)</code></dt> <dd> The red component of the vertex color.</dd> <dt><code><a href="number.html" title="number">number</a> [6] (1)</code></dt> <dd> The green component of the vertex color.</dd> <dt><code><a href="number.html" title="number">number</a> [7] (1)</code></dt> <dd> The blue component of the vertex color.</dd> <dt><code><a href="number.html" title="number">number</a> [8] (1)</code></dt> <dd> The alpha component of the vertex color.</dd>
</dl>
</dd>
</dl> <dl>
<dt><code><a href="meshdrawmode.html" title="MeshDrawMode">MeshDrawMode</a> mode ("fan")</code></dt> <dd> How the vertices are used when drawing. The default mode "fan" is sufficient for simple convex polygons.</dd> <dt><code><a href="spritebatchusage.html" title="SpriteBatchUsage">SpriteBatchUsage</a> usage ("dynamic")</code></dt> <dd> The expected usage of the Mesh. The specified usage mode affects the Mesh's memory usage and performance.</dd>
</dl> <h3 id="Returns">Returns</h3> <dl>
<dt><code><a href="mesh.html" title="Mesh">Mesh</a> mesh</code></dt> <dd> The new mesh.</dd>
</dl> <h2 id="Function_2">Function</h2> <p class="note note-green"> <b>Available since LÖVE <a href="https://love2d.org/wiki/0.10.0" title="0.10.0">0.10.0</a></b>  <br> This variant is not supported in earlier versions. </p> <p>Creates a standard Mesh with the specified number of vertices. </p> <h3 id="Synopsis_2">Synopsis</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">mesh = love.graphics.newMesh( vertexcount, mode, usage )</pre> <h3 id="Arguments_2">Arguments</h3> <dl>
<dt><code><a href="number.html" title="number">number</a> vertexcount</code></dt> <dd> The total number of vertices the Mesh will use. Each vertex is initialized to <code>{0,0, 0,0, 1,1,1,1}</code>.</dd> <dt><code><a href="meshdrawmode.html" title="MeshDrawMode">MeshDrawMode</a> mode ("fan")</code></dt> <dd> How the vertices are used when drawing. The default mode "fan" is sufficient for simple convex polygons.</dd> <dt><code><a href="spritebatchusage.html" title="SpriteBatchUsage">SpriteBatchUsage</a> usage ("dynamic")</code></dt> <dd> The expected usage of the Mesh. The specified usage mode affects the Mesh's memory usage and performance.</dd>
</dl> <h3 id="Returns_2">Returns</h3> <dl>
<dt><code><a href="mesh.html" title="Mesh">Mesh</a> mesh</code></dt> <dd> The new mesh.</dd>
</dl> <h3 id="Notes">Notes</h3> <p><a href="mesh-setvertices.html" title="Mesh:setVertices">Mesh:setVertices</a> or <a href="mesh-setvertex.html" title="Mesh:setVertex">Mesh:setVertex</a> and <a href="mesh-setdrawrange.html" title="Mesh:setDrawRange">Mesh:setDrawRange</a> can be used to specify vertex information once the Mesh is created. </p> <h2 id="Function_3">Function</h2> <p class="note note-green"> <b>Available since LÖVE <a href="https://love2d.org/wiki/0.10.0" title="0.10.0">0.10.0</a></b>  <br> This variant is not supported in earlier versions. </p> <p>Creates a Mesh with custom vertex attributes and the specified vertex data. </p> <h3 id="Synopsis_3">Synopsis</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">mesh = love.graphics.newMesh( vertexformat, vertices, mode, usage )</pre> <h3 id="Arguments_3">Arguments</h3> <dl>
<dt><code><a href="table.html" title="table">table</a> vertexformat</code></dt> <dd> A table in the form of <code>{attribute, ...}</code>. Each attribute is a table which specifies a custom vertex attribute used for each vertex. <dl>
<dt><code><a href="table.html" title="table">table</a> attribute</code></dt> <dd> A table containing the attribute's name, it's <a href="attributedatatype.html" title="AttributeDataType">data type</a>, and the number of components in the attribute, in the form of <code>{name, datatype, components}</code>.</dd> <dt><code><a href="table.html" title="table">table</a> ...</code></dt> <dd> Additional vertex attribute format tables.</dd>
</dl>
</dd>
</dl> <dl>
<dt><code><a href="table.html" title="table">table</a> vertices</code></dt> <dd> The table filled with vertex information tables for each vertex, in the form of <code>{vertex, ...}</code> where each vertex is a table in the form of <code>{attributecomponent, ...}</code>. <dl>
<dt><code><a href="number.html" title="number">number</a> attributecomponent</code></dt> <dd> The first component of the first vertex attribute in the vertex.</dd> <dt><code><a href="number.html" title="number">number</a> ...</code></dt> <dd> Additional components of all vertex attributes in the vertex.</dd>
</dl>
</dd>
</dl> <dl>
<dt><code><a href="meshdrawmode.html" title="MeshDrawMode">MeshDrawMode</a> mode ("fan")</code></dt> <dd> How the vertices are used when drawing. The default mode "fan" is sufficient for simple convex polygons.</dd> <dt><code><a href="spritebatchusage.html" title="SpriteBatchUsage">SpriteBatchUsage</a> usage ("dynamic")</code></dt> <dd> The expected usage of the Mesh. The specified usage mode affects the Mesh's memory usage and performance.</dd>
</dl> <h3 id="Returns_3">Returns</h3> <dl>
<dt><code><a href="mesh.html" title="Mesh">Mesh</a> mesh</code></dt> <dd> The new mesh.</dd>
</dl> <h3 id="Notes_2">Notes</h3> <p>The values in each vertex table are in the same order as the vertex attributes in the specified vertex format. If no value is supplied for a specific vertex attribute component, it will be set to a default value of 0 if its <a href="attributedatatype.html" title="AttributeDataType">data type</a> is "float", or 1 if its data type is "byte". </p>
<p>If the data type of an attribute is "float", components can be in the range 1 to 4, if the data type is "byte" it must be 4. </p>
<p>If a custom vertex attribute uses the name "VertexPosition", "VertexTexCoord", or "VertexColor", then the vertex data for that vertex attribute will be used for the standard vertex positions, texture coordinates, or vertex colors respectively, when drawing the Mesh. Otherwise a <a href="shader.html" title="Shader">Vertex Shader</a> is required in order to make use of the vertex attribute when the Mesh is drawn. </p>
<p>A Mesh <b>must</b> have a "VertexPosition" attribute in order to be drawn, but it can be attached from a different Mesh via <a href="mesh-attachattribute.html" title="Mesh:attachAttribute">Mesh:attachAttribute</a>. </p>
<p>To use a custom named vertex attribute in a Vertex Shader, it must be declared as an <code>attribute</code> variable of the same name. Variables can be sent from Vertex Shader code to Pixel Shader code by making a <code>varying</code> variable. For example: </p>
<p><i>Vertex Shader code</i> </p> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">attribute vec2 CoolVertexAttribute;
 
varying vec2 CoolVariable;
 
vec4 position(mat4 transform_projection, vec4 vertex_position)
{
    CoolVariable = CoolVertexAttribute;
    return transform_projection * vertex_position;
}</pre> <p><i>Pixel Shader code</i> </p> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">varying vec2 CoolVariable;
 
vec4 effect(vec4 color, Image tex, vec2 texcoord, vec2 pixcoord)
{
    vec4 texcolor = Texel(tex, texcoord + CoolVariable);
    return texcolor * color;
}</pre> <h2 id="Function_4">Function</h2> <p class="note note-green"> <b>Available since LÖVE <a href="https://love2d.org/wiki/0.10.0" title="0.10.0">0.10.0</a></b>  <br> This variant is not supported in earlier versions. </p> <p>Creates a Mesh with custom vertex attributes and the specified number of vertices. </p> <h3 id="Synopsis_4">Synopsis</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">mesh = love.graphics.newMesh( vertexformat, vertexcount, mode, usage )</pre> <h3 id="Arguments_4">Arguments</h3> <dl>
<dt><code><a href="table.html" title="table">table</a> vertexformat</code></dt> <dd> A table in the form of <code>{attribute, ...}</code>. Each attribute is a table which specifies a custom vertex attribute used for each vertex. <dl>
<dt><code><a href="table.html" title="table">table</a> attribute</code></dt> <dd> A table containing the attribute's name, it's <a href="attributedatatype.html" title="AttributeDataType">data type</a>, and the number of components in the attribute, in the form of <code>{name, datatype, components}</code>.</dd> <dt><code><a href="table.html" title="table">table</a> ...</code></dt> <dd> Additional vertex attribute format tables.</dd>
</dl>
</dd>
</dl> <dl>
<dt><code><a href="number.html" title="number">number</a> vertexcount</code></dt> <dd> The total number of vertices the Mesh will use.</dd> <dt><code><a href="meshdrawmode.html" title="MeshDrawMode">MeshDrawMode</a> mode ("fan")</code></dt> <dd> How the vertices are used when drawing. The default mode "fan" is sufficient for simple convex polygons.</dd> <dt><code><a href="spritebatchusage.html" title="SpriteBatchUsage">SpriteBatchUsage</a> usage ("dynamic")</code></dt> <dd> The expected usage of the Mesh. The specified usage mode affects the Mesh's memory usage and performance.</dd>
</dl> <h3 id="Returns_4">Returns</h3> <dl>
<dt><code><a href="mesh.html" title="Mesh">Mesh</a> mesh</code></dt> <dd> The new mesh.</dd>
</dl> <h3 id="Notes_3">Notes</h3> <p>Each vertex attribute component is initialized to 0 if its data type is "float", or 1 if its data type is "byte". <a href="mesh-setvertices.html" title="Mesh:setVertices">Mesh:setVertices</a> or <a href="mesh-setvertex.html" title="Mesh:setVertex">Mesh:setVertex</a> and <a href="mesh-setdrawrange.html" title="Mesh:setDrawRange">Mesh:setDrawRange</a> can be used to specify vertex information once the Mesh is created. </p>
<p>If the data type of an attribute is "float", components can be in the range 1 to 4, if the data type is "byte" it must be 4. </p>
<p>If a custom vertex attribute uses the name "VertexPosition", "VertexTexCoord", or "VertexColor", then the vertex data for that vertex attribute will be used for the standard vertex positions, texture coordinates, or vertex colors respectively, when drawing the Mesh. Otherwise a <a href="shader.html" title="Shader">Vertex Shader</a> is required in order to make use of the vertex attribute when the Mesh is drawn. </p>
<p>A Mesh <b>must</b> have a "VertexPosition" attribute in order to be drawn, but it can be attached from a different Mesh via <a href="mesh-attachattribute.html" title="Mesh:attachAttribute">Mesh:attachAttribute</a>. </p> <h2 id="Function_5">Function</h2> <p class="note note-red"> <b>Removed in LÖVE <a href="https://love2d.org/wiki/0.10.0" title="0.10.0">0.10.0</a></b>  <br> This variant is not supported in that and later versions. </p> <h3 id="Synopsis_5">Synopsis</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">mesh = love.graphics.newMesh( vertices, texture, mode )</pre> <h3 id="Arguments_5">Arguments</h3> <dl>
<dt><code><a href="table.html" title="table">table</a> vertices</code></dt> <dd> The table filled with vertex information tables for each vertex as follows: <dl>
<dt><code><a href="number.html" title="number">number</a> [1]</code></dt> <dd> The position of the vertex on the x-axis.</dd> <dt><code><a href="number.html" title="number">number</a> [2]</code></dt> <dd> The position of the vertex on the y-axis.</dd> <dt><code><a href="number.html" title="number">number</a> [3]</code></dt> <dd> The u texture coordinate. Texture coordinates are normally in the range of [0, 1], but can be greater or less (see <a href="wrapmode.html" title="WrapMode">WrapMode</a>.)</dd> <dt><code><a href="number.html" title="number">number</a> [4]</code></dt> <dd> The v texture coordinate. Texture coordinates are normally in the range of [0, 1], but can be greater or less (see <a href="wrapmode.html" title="WrapMode">WrapMode</a>.)</dd> <dt><code><a href="number.html" title="number">number</a> [5] (255)</code></dt> <dd> The red color component.</dd> <dt><code><a href="number.html" title="number">number</a> [6] (255)</code></dt> <dd> The green color component.</dd> <dt><code><a href="number.html" title="number">number</a> [7] (255)</code></dt> <dd> The blue color component.</dd> <dt><code><a href="number.html" title="number">number</a> [8] (255)</code></dt> <dd> The alpha color component.</dd>
</dl>
</dd>
</dl> <dl>
<dt><code><a href="texture.html" title="Texture">Texture</a> texture (nil)</code></dt> <dd> The <a href="image.html" title="Image">Image</a> or <a href="canvas.html" title="Canvas">Canvas</a> to use when drawing the Mesh. May be nil to use no texture.</dd> <dt><code><a href="meshdrawmode.html" title="MeshDrawMode">MeshDrawMode</a> mode ("fan")</code></dt> <dd> How the vertices are used when drawing. The default mode "fan" is sufficient for simple convex polygons.</dd>
</dl> <h3 id="Returns_5">Returns</h3> <dl>
<dt><code><a href="mesh.html" title="Mesh">Mesh</a> mesh</code></dt> <dd> The new mesh.</dd>
</dl> <h2 id="Function_6">Function</h2> <p class="note note-red"> <b>Available since LÖVE <a href="https://love2d.org/wiki/0.9.1" title="0.9.1">0.9.1</a> and removed in LÖVE <a href="https://love2d.org/wiki/0.10.0" title="0.10.0">0.10.0</a></b>  <br> This variant is not supported in earlier or later versions. </p> <h3 id="Synopsis_6">Synopsis</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">mesh = love.graphics.newMesh( vertexcount, texture, mode )</pre> <h3 id="Arguments_6">Arguments</h3> <dl>
<dt><code><a href="number.html" title="number">number</a> vertexcount</code></dt> <dd> The total number of vertices the Mesh will use. Each vertex is initialized to <code>{0,0, 0,0, 255,255,255,255}</code>.</dd> <dt><code><a href="texture.html" title="Texture">Texture</a> texture (nil)</code></dt> <dd> The <a href="image.html" title="Image">Image</a> or <a href="canvas.html" title="Canvas">Canvas</a> to use when drawing the Mesh. May be nil to use no texture.</dd> <dt><code><a href="meshdrawmode.html" title="MeshDrawMode">MeshDrawMode</a> mode ("fan")</code></dt> <dd> How the vertices are used when drawing. The default mode "fan" is sufficient for simple convex polygons.</dd>
</dl> <h3 id="Returns_6">Returns</h3> <dl>
<dt><code><a href="mesh.html" title="Mesh">Mesh</a> mesh</code></dt> <dd> The new mesh.</dd>
</dl> <h3 id="Notes_4">Notes</h3> <p><a href="mesh-setvertices.html" title="Mesh:setVertices">Mesh:setVertices</a> or <a href="mesh-setvertex.html" title="Mesh:setVertex">Mesh:setVertex</a> and <a href="mesh-setdrawrange.html" title="Mesh:setDrawRange">Mesh:setDrawRange</a> can be used to specify vertex information once the Mesh is created. </p> <h2 id="Examples">Examples</h2> <h3 id="Creates_and_draws_a_Mesh_identical_to_a_normal_drawn_image_but_with_different_colors_at_each_corner">Creates and draws a Mesh identical to a normal drawn image but with different colors at each corner</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">function love.load()
	image = love.graphics.newImage("pig.png")
 
	local vertices = {
		{
			-- top-left corner (red-tinted)
			0, 0, -- position of the vertex
			0, 0, -- texture coordinate at the vertex position
			1, 0, 0, -- color of the vertex
		},
		{
			-- top-right corner (green-tinted)
			image:getWidth(), 0,
			1, 0, -- texture coordinates are in the range of [0, 1]
			0, 1, 0
		},
		{
			-- bottom-right corner (blue-tinted)
			image:getWidth(), image:getHeight(),
			1, 1,
			0, 0, 1
		},
		{
			-- bottom-left corner (yellow-tinted)
			0, image:getHeight(),
			0, 1,
			1, 1, 0
		},
	}
 
	-- the Mesh DrawMode "fan" works well for 4-vertex Meshes.
	mesh = love.graphics.newMesh(vertices, "fan")
        mesh:setTexture(image)
end
 
function love.draw()
	love.graphics.draw(mesh, 0, 0)
end</pre> <h3 id="Creates_and_draws_a_textured_circle_with_a_red_tint_at_the_center.">Creates and draws a textured circle with a red tint at the center.</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">function CreateTexturedCircle(image, segments)
	segments = segments or 40
	local vertices = {}
 
	-- The first vertex is at the center, and has a red tint. We're centering the circle around the origin (0, 0).
	table.insert(vertices, {0, 0, 0.5, 0.5, 255, 0, 0})
 
	-- Create the vertices at the edge of the circle.
	for i=0, segments do
		local angle = (i / segments) * math.pi * 2
 
		-- Unit-circle.
		local x = math.cos(angle)
		local y = math.sin(angle)
 
		-- Our position is in the range of [-1, 1] but we want the texture coordinate to be in the range of [0, 1].
		local u = (x + 1) * 0.5
		local v = (y + 1) * 0.5
 
		-- The per-vertex color defaults to white.
		table.insert(vertices, {x, y, u, v})
	end
 
	-- The "fan" draw mode is perfect for our circle.
	local mesh = love.graphics.newMesh(vertices, "fan")
        mesh:setTexture(image)
 
        return mesh
end
 
function love.load()
	image = love.graphics.newImage("pig.png")
	mesh = CreateTexturedCircle(image)
end
 
function love.draw()
	local radius = 100
	local mx, my = love.mouse.getPosition()
 
	-- We created a unit-circle, so we can use the scale parameter for the radius directly.
	love.graphics.draw(mesh, mx, my, 0, radius, radius)
end</pre> <h3 id="Creates_a_circle_and_draws_it_more_efficiently_than_love.graphics.circle.">Creates a circle and draws it more efficiently than love.graphics.circle.</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">function CreateCircle(segments)
	segments = segments or 40
	local vertices = {}
 
	-- The first vertex is at the origin (0, 0) and will be the center of the circle.
	table.insert(vertices, {0, 0})
 
	-- Create the vertices at the edge of the circle.
	for i=0, segments do
		local angle = (i / segments) * math.pi * 2
 
		-- Unit-circle.
		local x = math.cos(angle)
		local y = math.sin(angle)
 
		table.insert(vertices, {x, y})
	end
 
	-- The "fan" draw mode is perfect for our circle.
	return love.graphics.newMesh(vertices, "fan")
end
 
function love.load()
	mesh = CreateCircle()
end
 
function love.draw()
	local radius = 100
	local mx, my = love.mouse.getPosition()
 
	-- We created a unit-circle, so we can use the scale parameter for the radius directly.
	love.graphics.draw(mesh, mx, my, 0, radius, radius)
end</pre> <h2 id="See_Also">See Also</h2> <ul>
<li> <a href="love.graphics.html" title="love.graphics">love.graphics</a>
</li> <li> <a href="mesh.html" title="Mesh">Mesh</a>
</li>
</ul> <p><br> </p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2020 L&Ouml;VE Development Team<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://love2d.org/wiki/love.graphics.newMesh" class="_attribution-link">https://love2d.org/wiki/love.graphics.newMesh</a>
  </p>
</div>
