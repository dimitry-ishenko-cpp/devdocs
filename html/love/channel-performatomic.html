<h1>Channel:performAtomic</h1>
<p class="note note-green"> <b>Available since LÖVE <a href="https://love2d.org/wiki/0.10.0" title="0.10.0">0.10.0</a></b>  <br> This function is not supported in earlier versions. </p> <p>Executes the specified function atomically with respect to this Channel. </p>
<p>Calling multiple methods in a row on the same Channel is often useful. However if multiple <a href="thread.html" title="Thread">Threads</a> are calling this Channel's methods at the same time, the different calls on each Thread might end up interleaved (e.g. one or more of the second thread's calls may happen in between the first thread's calls.) </p>
<p>This method avoids that issue by making sure the Thread calling the method has exclusive access to the Channel until the specified function has returned. </p> <p class="note">Long-running or otherwise expensive code should be avoided in the function given to this method. </p> <h2 id="Function">Function</h2> <h3 id="Synopsis">Synopsis</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">ret1, ... = Channel:performAtomic( func, arg1, ... )</pre> <h3 id="Arguments">Arguments</h3> <dl>
<dt><code><a href="function.html" title="function">function</a> func</code></dt> <dd> The function to call, the form of <code>function(channel, arg1, arg2, ...) end</code>. The Channel is passed as the first argument to the function when it is called.</dd> <dt><code><a href="https://love2d.org/w/index.php?title=any&amp;action=edit&amp;redlink=1" class="new" title="any (page does not exist)">any</a> arg1</code></dt> <dd> Additional arguments that the given function will receive when it is called.</dd> <dt><code><a href="https://love2d.org/w/index.php?title=any&amp;action=edit&amp;redlink=1" class="new" title="any (page does not exist)">any</a> ...</code></dt> <dd> Additional arguments that the given function will receive when it is called.</dd>
</dl> <h3 id="Returns">Returns</h3> <dl>
<dt><code><a href="https://love2d.org/w/index.php?title=any&amp;action=edit&amp;redlink=1" class="new" title="any (page does not exist)">any</a> ret1</code></dt> <dd> The first return value of the given function (if any.)</dd> <dt><code><a href="https://love2d.org/w/index.php?title=any&amp;action=edit&amp;redlink=1" class="new" title="any (page does not exist)">any</a> ...</code></dt> <dd> Any other return values.</dd>
</dl> <h2 id="Examples">Examples</h2> <h3 id="Re-set_a_Channel.27s_contents_to_only_have_a_single_value">Re-set a Channel's contents to only have a single value</h3> <pre dir="ltr" class="mw-geshi mw-code mw-content-ltr" data-language="lua">local function setChannel(channel, value)
    channel:clear()
    channel:push(value)
end
 
local c = love.thread.getChannel("MyChannel")
c:performAtomic(setChannel, "hello world")</pre> <h2 id="See_Also">See Also</h2> <ul>
<li> <a href="channel.html" title="Channel">Channel</a>
</li> <li> <a href="thread.html" title="Thread">Thread</a>
</li>
</ul> <p><br> </p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2020 L&Ouml;VE Development Team<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://love2d.org/wiki/Channel:performAtomic" class="_attribution-link">https://love2d.org/wiki/Channel:performAtomic</a>
  </p>
</div>
