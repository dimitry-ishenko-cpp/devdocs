<h1 class="wp-block-wporg-code-reference-title">
<span class="hook-func">apply_filters_ref_array</span>( ‘posts_clauses’, <nobr><span class="arg-type">string[]</span> <span class="arg-name">$clauses</span></nobr>, <nobr><span class="arg-type">WP_Query</span> <span class="arg-name">$query</span></nobr> )</h1> <section><p>Filters all query clauses at once, for convenience.</p> </section> <section><h2 id="description">Description</h2> <p>Covers the WHERE, GROUP BY, JOIN, ORDER BY, DISTINCT, fields (SELECT), and LIMIT clauses.</p> </section> <section><h2 id="parameters">Parameters</h2> <dl>
<dt>
<code>$clauses</code><span class="type"><span class="string[]">string[]</span></span>
</dt>
<dd><div class="desc"><span class="description">Associative array of the clauses for the query.<br> <ul class="param-hash">
<li>
<code>where</code> <span class="type">string</span><div class="desc">The WHERE clause of the query.</div>
</li> <li>
<code>groupby</code> <span class="type">string</span><div class="desc">The GROUP BY clause of the query.</div>
</li> <li>
<code>join</code> <span class="type">string</span><div class="desc">The JOIN clause of the query.</div>
</li> <li>
<code>orderby</code> <span class="type">string</span><div class="desc">The ORDER BY clause of the query.</div>
</li> <li>
<code>distinct</code> <span class="type">string</span><div class="desc">The DISTINCT clause of the query.</div>
</li> <li>
<code>fields</code> <span class="type">string</span><div class="desc">The SELECT clause of the query.</div>
</li> <li>
<code>limits</code> <span class="type">string</span><div class="desc">The LIMIT clause of the query.</div>
</li> </ul> </span></div></dd>
<dt>
<code>$query</code><span class="type"><span class="WP_Query"><a href="../classes/wp_query.html" rel="class">WP_Query</a></span></span>
</dt>
<dd><div class="desc"><span class="description">The <a href="../classes/wp_query.html" rel="class">WP_Query</a> instance (passed by reference).</span></div></dd>
</dl></section> <section><h2 id="more-information">More Information</h2> <p>The <code>posts_clauses</code> filter runs before the query gets executed and is essentially the sum of all filters that run immediately before it. So it should be used if you don’t intend to let another plugin override it, or if you need to alter several different parts of the query at once. If you’re only modifying a particular clause, you should probably use one of these clause-specific filters:</p> <pre class="wp-block-code" data-language="php"><code lang="php" class="language-php line-numbers">* posts_where_paged
* posts_groupby
* posts_join_paged
* posts_orderby
* posts_distinct
* post_limits
* posts_fields</code></pre> <p>Note: If you’re working on a caching plugin, use the <a href="posts_clauses_request.html">posts_clauses_request</a> filter instead. It’s basically the same filter, but it runs later (and after <a href="posts_selection.html">posts_selection</a>), specifically so that “regular” plugins can execute their filters <em>before</em> your caching plugin does anything.</p> </section> <section><h2 id="source">Source</h2> <pre class="wp-block-code" data-start="2955" aria-label="Function source code" data-language="php"><code id="wporg-source-code" lang="php" class="language-php line-numbers">$clauses = (array) apply_filters_ref_array( 'posts_clauses', array( compact( $pieces ), &amp;$this ) );
</code></pre>
<p class="wporg-dot-link-list"><a href="https://developer.wordpress.org/reference/files/wp-includes/class-wp-query.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/class-wp-query.php#L2955">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/class-wp-query.php#L2955-L2955">View on GitHub</a></p></section>  <section><h2 id="changelog">Changelog</h2> <section style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table "><table>
<thead><tr>
<th scope="col">Version</th>
<th scope="col">Description</th>
</tr></thead>
<tbody><tr class="">
<td><a href="https://developer.wordpress.org/reference/since/3.1.0/">3.1.0</a></td>
<td>Introduced.</td>
</tr></tbody>
</table></figure></section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2024 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/hooks/posts_clauses" class="_attribution-link">https://developer.wordpress.org/reference/hooks/posts_clauses</a>
  </p>
</div>
