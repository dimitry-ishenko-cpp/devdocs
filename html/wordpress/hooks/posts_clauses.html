<h1>apply_filters_ref_array( 'posts_clauses', string[] $clauses, WP_Query $query )</h1>  <section> <p>Filters all query clauses at once, for convenience.</p> </section>   <section> <header class="toc-header"><h2 id="description">Description</h2></header> <p>Covers the WHERE, GROUP BY, JOIN, ORDER BY, DISTINCT, fields (SELECT), and LIMIT clauses.</p> </section>  <section> <header class="toc-header"><h2 id="parameters">Parameters</h2></header> <dl> <dt> <code>$clauses</code> <span class="type"><span class="string[]">string[]</span></span> </dt> <dd> <div class="desc"> <span class="description">Associative array of the clauses for the query.<br> <ul class="param-hash">
<li>
<code>where</code><span class="type">string</span><div class="desc">The WHERE clause of the query.</div>
</li> <li>
<code>groupby</code><span class="type">string</span><div class="desc">The GROUP BY clause of the query.</div>
</li> <li>
<code>join</code><span class="type">string</span><div class="desc">The JOIN clause of the query.</div>
</li> <li>
<code>orderby</code><span class="type">string</span><div class="desc">The ORDER BY clause of the query.</div>
</li> <li>
<code>distinct</code><span class="type">string</span><div class="desc">The DISTINCT clause of the query.</div>
</li> <li>
<code>fields</code><span class="type">string</span><div class="desc">The SELECT clause of the query.</div>
</li> <li>
<code>limits</code><span class="type">string</span><div class="desc">The LIMIT clause of the query.</div>
</li> </ul> </span> </div> </dd> <dt> <code>$query</code> <span class="type"><span class="WP_Query"><a href="../classes/wp_query.html" rel="class">WP_Query</a></span></span> </dt> <dd> <div class="desc"> <span class="description">The <a href="../classes/wp_query.html" rel="class">WP_Query</a> instance (passed by reference).</span> </div> </dd> </dl> </section>  <section> <header class="toc-header"><h2 id="more-information">More Information</h2></header> <p>The <code>posts_clauses</code> filter runs before the query gets executed and is essentially the sum of all filters that run immediately before it. So it should be used if you don’t intend to let another plugin override it, or if you need to alter several different parts of the query at once. If you’re only modifying a particular clause, you should probably use one of these clause-specific filters:</p> <pre class="wp-block-code" data-language="php"><code lang="php" class="language-php line-numbers">* posts_where_paged
* posts_groupby
* posts_join_paged
* posts_orderby
* posts_distinct
* post_limits
* posts_fields</code></pre> <p>Note: If you’re working on a caching plugin, use the <a href="posts_clauses_request.html">posts_clauses_request</a> filter instead. It’s basically the same filter, but it runs later (and after <a href="posts_selection.html">posts_selection</a>), specifically so that “regular” plugins can execute their filters <em>before</em> your caching plugin does anything.</p> </section>  <section> <header class="toc-header"><h2 id="source">Source</h2></header> <p> File: <code>wp-includes/class-wp-query.php</code>. <a href="https://developer.wordpress.org/reference/files/wp-includes/class-wp-query.php/">View all references</a> </p> <pre class="wp-block-code" data-start="2901" aria-label="Function source code" data-language="php"><code lang="php" class="language-php line-numbers">$clauses = (array) apply_filters_ref_array( 'posts_clauses', array( compact( $pieces ), &amp;$this ) );
</code></pre>  </section>  <section> <header class="toc-header"><h2 id="related">Related</h2></header> <article class="used-by"> <header class="toc-header"><h3 id="used-by">Used By</h3></header> <table id="used-by-table" data-show="5">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="../classes/wp_query/get_posts.html">WP_Query::get_posts()</a> <span>wp-includes/class-wp-query.php</span> </td> <td class="related-desc"> <p>Retrieves an array of posts based on query variables.</p> </td> </tr> </tbody>

</table> </article> </section>  <section> <header class="toc-header"><h2 id="changelog">Changelog</h2></header> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/3.1.0/" alt="WordPress 3.1.0">3.1.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2022 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/hooks/posts_clauses" class="_attribution-link">https://developer.wordpress.org/reference/hooks/posts_clauses</a>
  </p>
</div>
