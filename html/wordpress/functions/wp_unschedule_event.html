<h1>wp_unschedule_event( int $timestamp, string $hook, array $args = array(), bool $wp_error = false ): bool|WP_Error</h1>  <section> <p>Unschedule a previously scheduled event.</p> </section>   <section> <header class="toc-header"><h2 id="description">Description</h2></header> <p>The $timestamp and $hook parameters are required so that the event can be identified.</p> </section>  <section> <header class="toc-header"><h2 id="parameters">Parameters</h2></header> <dl> <dt> <code>$timestamp</code> <span class="type"><span class="int">int</span></span> <span class="required">Required</span> </dt> <dd> <div class="desc"> <span class="description">Unix timestamp (UTC) of the event.</span> </div> </dd> <dt> <code>$hook</code> <span class="type"><span class="string">string</span></span> <span class="required">Required</span> </dt> <dd> <div class="desc"> <span class="description">Action hook of the event.</span> </div> </dd> <dt> <code>$args</code> <span class="type"><span class="array">array</span></span> <span class="required">Optional</span> </dt> <dd> <div class="desc"> <span class="description"> Array containing each separate argument to pass to the hook's callback function.<br> Although not passed to a callback, these arguments are used to uniquely identify the event, so they should be the same as those used when originally scheduling the event.<br> </span> </div> <p class="default">Default: <code>array()</code></p> </dd> <dt> <code>$wp_error</code> <span class="type"><span class="bool">bool</span></span> <span class="required">Optional</span> </dt> <dd> <div class="desc"> <span class="description"> Whether to return a <a href="../classes/wp_error.html" rel="class">WP_Error</a> on failure. </span> </div> <p class="default">Default: <code>false</code></p> </dd> </dl> </section>  <section> <header class="toc-header"><h2 id="return">Return</h2></header> <p><span class="return-type">bool|<a href="../classes/wp_error.html" rel="class">WP_Error</a></span> True if event successfully unscheduled. False or <a href="../classes/wp_error.html" rel="class">WP_Error</a> on failure.</p> </section>  <section> <header class="toc-header"><h2 id="more-information">More Information</h2></header> <p>Note that you need to know the exact time of the next occurrence when scheduled hook was set to run, and the function arguments it was supposed to have, in order to unschedule it. All future occurrences are unscheduled by calling this function.</p> </section>  <section> <header class="toc-header"><h2 id="source">Source</h2></header> <p> File: <code>wp-includes/cron.php</code>. <a href="https://developer.wordpress.org/reference/files/wp-includes/cron.php/">View all references</a> </p> <pre class="wp-block-code" data-start="459" aria-label="Function source code" data-language="php"><code lang="php" class="language-php line-numbers">function wp_unschedule_event( $timestamp, $hook, $args = array(), $wp_error = false ) {
	// Make sure timestamp is a positive integer.
	if ( ! is_numeric( $timestamp ) || $timestamp &lt;= 0 ) {
		if ( $wp_error ) {
			return new WP_Error(
				'invalid_timestamp',
				__( 'Event timestamp must be a valid Unix timestamp.' )
			);
		}

		return false;
	}

	/**
	 * Filter to preflight or hijack unscheduling of events.
	 *
	 * Returning a non-null value will short-circuit the normal unscheduling
	 * process, causing the function to return the filtered value instead.
	 *
	 * For plugins replacing wp-cron, return true if the event was successfully
	 * unscheduled, false or a WP_Error if not.
	 *
	 * @since 5.1.0
	 * @since 5.7.0 The `$wp_error` parameter was added, and a `WP_Error` object can now be returned.
	 *
	 * @param null|bool|WP_Error $pre       Value to return instead. Default null to continue unscheduling the event.
	 * @param int                $timestamp Timestamp for when to run the event.
	 * @param string             $hook      Action hook, the execution of which will be unscheduled.
	 * @param array              $args      Arguments to pass to the hook's callback function.
	 * @param bool               $wp_error  Whether to return a WP_Error on failure.
	 */
	$pre = apply_filters( 'pre_unschedule_event', null, $timestamp, $hook, $args, $wp_error );

	if ( null !== $pre ) {
		if ( $wp_error &amp;&amp; false === $pre ) {
			return new WP_Error(
				'pre_unschedule_event_false',
				__( 'A plugin prevented the event from being unscheduled.' )
			);
		}

		if ( ! $wp_error &amp;&amp; is_wp_error( $pre ) ) {
			return false;
		}

		return $pre;
	}

	$crons = _get_cron_array();
	$key   = md5( serialize( $args ) );
	unset( $crons[ $timestamp ][ $hook ][ $key ] );
	if ( empty( $crons[ $timestamp ][ $hook ] ) ) {
		unset( $crons[ $timestamp ][ $hook ] );
	}
	if ( empty( $crons[ $timestamp ] ) ) {
		unset( $crons[ $timestamp ] );
	}

	return _set_cron_array( $crons, $wp_error );
}
</code></pre>  </section>  <section> <header class="toc-header"><h2 id="hooks">Hooks</h2></header> <article class="hooks"> <dl> <dt class="signature-highlight"> <a href="../hooks/pre_unschedule_event.html" style="text-decoration: none"> <span class="hook-func">apply_filters</span>( 'pre_unschedule_event', <nobr><span class="arg-type">null|bool|WP_Error</span> <span class="arg-name">$pre</span></nobr>, <nobr><span class="arg-type">int</span> <span class="arg-name">$timestamp</span></nobr>, <nobr><span class="arg-type">string</span> <span class="arg-name">$hook</span></nobr>, <nobr><span class="arg-type">array</span> <span class="arg-name">$args</span></nobr>, <nobr><span class="arg-type">bool</span> <span class="arg-name">$wp_error</span></nobr> ) </a> </dt> <dd class="hook-desc"> 
<p>Filter to preflight or hijack unscheduling of events.</p> </dd> </dl> </article> </section>  <section> <header class="toc-header"><h2 id="related">Related</h2></header> <article class="uses"> <header class="toc-header"><h3 id="uses">Uses</h3></header> <table id="uses-table" data-show="2">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="_get_cron_array.html">_get_cron_array()</a> <span>wp-includes/cron.php</span> </td> <td class="related-desc"> <p>Retrieve cron info array option.</p> </td> </tr> <tr> <td class="related-title"> <a href="_set_cron_array.html">_set_cron_array()</a> <span>wp-includes/cron.php</span> </td> <td class="related-desc"> <p>Updates the cron option with the new cron array.</p> </td> </tr> <tr> <td class="related-title"> <a href="__.html">__()</a> <span>wp-includes/l10n.php</span> </td> <td class="related-desc"> <p>Retrieves the translation of $text.</p> </td> </tr> <tr> <td class="related-title"> <a href="apply_filters.html">apply_filters()</a> <span>wp-includes/plugin.php</span> </td> <td class="related-desc"> <p>Calls the callback functions that have been added to a filter hook.</p> </td> </tr> <tr> <td class="related-title"> <a href="is_wp_error.html">is_wp_error()</a> <span>wp-includes/load.php</span> </td> <td class="related-desc"> <p>Checks whether the given variable is a WordPress Error.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_error/__construct.html">WP_Error::__construct()</a> <span>wp-includes/class-wp-error.php</span> </td> <td class="related-desc"> <p>Initializes the error.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <header class="toc-header"><h3 id="used-by">Used By</h3></header> <table id="used-by-table" data-show="5">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="wp_clear_scheduled_hook.html">wp_clear_scheduled_hook()</a> <span>wp-includes/cron.php</span> </td> <td class="related-desc"> <p>Unschedules all events attached to the hook with the specified arguments.</p> </td> </tr> </tbody>

</table> </article> </section>  <section> <header class="toc-header"><h2 id="changelog">Changelog</h2></header> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/5.7.0/" alt="WordPress 5.7.0">5.7.0</a></td> <td><span class="since-description">The <code>$wp_error</code> parameter was added.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/5.1.0/" alt="WordPress 5.1.0">5.1.0</a></td> <td><span class="since-description">Return value modified to boolean indicating success or failure, <a href="../hooks/pre_unschedule_event.html">'pre_unschedule_event'</a> filter added to short-circuit the function.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/2.1.0/" alt="WordPress 2.1.0">2.1.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2022 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/wp_unschedule_event" class="_attribution-link">https://developer.wordpress.org/reference/functions/wp_unschedule_event</a>
  </p>
</div>
