<h1 class="wp-block-wporg-code-reference-title">wp_maybe_enqueue_oembed_host_js( <span class="arg-type">string</span> <span class="arg-name">$html</span> ): <span class="return-type">string</span>
</h1> <section><p>Enqueue the wp-embed script if the provided oEmbed HTML contains a post embed.</p> </section> <section><h2 id="description">Description</h2> <p>In order to only enqueue the wp-embed script on pages that actually contain post embeds, this function checks if the provided HTML contains post embed markup and if so enqueues the script so that it will get printed in the footer.</p> </section> <section><h2 id="parameters">Parameters</h2> <dl>
<dt>
<code>$html</code><span class="type"><span class="string">string</span></span><span class="required">required</span>
</dt>
<dd><div class="desc"><span class="description">Embed markup.</span></div></dd>
</dl></section> <section><h2 id="return">Return</h2> <span class="return-type">string</span> Embed markup (without modifications).</section> <section><h2 id="source">Source</h2> <pre class="wp-block-code" data-start="388" aria-label="Function source code" data-language="php"><code id="wporg-source-code" lang="php" class="language-php line-numbers">function wp_maybe_enqueue_oembed_host_js( $html ) {
	if (
		has_action( 'wp_head', 'wp_oembed_add_host_js' )
		&amp;&amp;
		preg_match( '/&lt;blockquote\s[^&gt;]*?wp-embedded-content/', $html )
	) {
		wp_enqueue_script( 'wp-embed' );
	}
	return $html;
}
</code></pre>
<p class="wporg-dot-link-list"><a href="https://developer.wordpress.org/reference/files/wp-includes/embed.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/embed.php#L388">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/embed.php#L388-L397">View on GitHub</a></p></section>  <section><h2 id="changelog">Changelog</h2> <section style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table "><table>
<thead><tr>
<th scope="col">Version</th>
<th scope="col">Description</th>
</tr></thead>
<tbody><tr class="">
<td><a href="https://developer.wordpress.org/reference/since/5.9.0/">5.9.0</a></td>
<td>Introduced.</td>
</tr></tbody>
</table></figure></section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2024 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/wp_maybe_enqueue_oembed_host_js" class="_attribution-link">https://developer.wordpress.org/reference/functions/wp_maybe_enqueue_oembed_host_js</a>
  </p>
</div>
