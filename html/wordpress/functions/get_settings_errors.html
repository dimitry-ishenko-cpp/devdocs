<h1>get_settings_errors( string $setting = '', bool $sanitize = false ): array</h1>  <section> <p>Fetches settings errors registered by <a href="add_settings_error.html" rel="function">add_settings_error()</a> .</p> </section>   <section> <header class="toc-header"><h2 id="description">Description</h2></header> <p>Checks the $wp_settings_errors array for any errors declared during the current pageload and returns them.</p> <p>If changes were just submitted ($_GET[‘settings-updated’]) and settings errors were saved to the ‘settings_errors’ transient then those errors will be returned instead. This is used to pass errors back across pageloads.</p> <p>Use the $sanitize argument to manually re-sanitize the option before returning errors.<br>This is useful if you have errors or notices you want to show even when the user hasn’t submitted data (i.e. when they first load an options page, or in the <a href="../hooks/admin_notices.html">‘admin_notices’</a> action hook).</p> </section>  <section> <header class="toc-header"><h2 id="parameters">Parameters</h2></header> <dl> <dt> <code>$setting</code> <span class="type"><span class="string">string</span></span> <span class="required">Optional</span> </dt> <dd> <div class="desc"> <span class="description"> Slug title of a specific setting whose errors you want.</span> </div> <p class="default">Default: <code>''</code></p> </dd> <dt> <code>$sanitize</code> <span class="type"><span class="bool">bool</span></span> <span class="required">Optional</span> </dt> <dd> <div class="desc"> <span class="description"> Whether to re-sanitize the setting value before returning errors.</span> </div> <p class="default">Default: <code>false</code></p> </dd> </dl> </section>  <section> <header class="toc-header"><h2 id="return">Return</h2></header> <p><span class="return-type">array</span> Array of settings errors.<br> </p>
<ul class="param-hash">
<li>
<code>setting</code><span class="type">string</span><div class="desc">Slug title of the setting to which this error applies.</div>
</li> <li>
<code>code</code><span class="type">string</span><div class="desc">Slug-name to identify the error. Used as part of <code>'id'</code> attribute in HTML output.</div>
</li> <li>
<code>message</code><span class="type">string</span><div class="desc">The formatted message text to display to the user (will be shown inside styled <code>&lt;div&gt;</code> and <code>&lt;p&gt;</code> tags).</div>
</li> <li>
<code>type</code><span class="type">string</span><div class="desc">Optional. Message type, controls HTML class. Possible values include <code>'error'</code>, <code>'success'</code>, <code>'warning'</code>, <code>'info'</code>. Default <code>'error'</code>.</div>
</li> </ul> </section>  <section> <header class="toc-header"><h2 id="source">Source</h2></header> <p> File: <code>wp-admin/includes/template.php</code>. <a href="https://developer.wordpress.org/reference/files/wp-admin/includes/template.php/">View all references</a> </p> <pre class="wp-block-code" data-start="1859" aria-label="Function source code" data-language="php"><code lang="php" class="language-php line-numbers">function get_settings_errors( $setting = '', $sanitize = false ) {
	global $wp_settings_errors;

	/*
	 * If $sanitize is true, manually re-run the sanitization for this option
	 * This allows the $sanitize_callback from register_setting() to run, adding
	 * any settings errors you want to show by default.
	 */
	if ( $sanitize ) {
		sanitize_option( $setting, get_option( $setting ) );
	}

	// If settings were passed back from options.php then use them.
	if ( isset( $_GET['settings-updated'] ) &amp;&amp; $_GET['settings-updated'] &amp;&amp; get_transient( 'settings_errors' ) ) {
		$wp_settings_errors = array_merge( (array) $wp_settings_errors, get_transient( 'settings_errors' ) );
		delete_transient( 'settings_errors' );
	}

	// Check global in case errors have been added on this pageload.
	if ( empty( $wp_settings_errors ) ) {
		return array();
	}

	// Filter the results to those of a specific setting if one was set.
	if ( $setting ) {
		$setting_errors = array();

		foreach ( (array) $wp_settings_errors as $key =&gt; $details ) {
			if ( $setting === $details['setting'] ) {
				$setting_errors[] = $wp_settings_errors[ $key ];
			}
		}

		return $setting_errors;
	}

	return $wp_settings_errors;
}
</code></pre>  </section>  <section> <header class="toc-header"><h2 id="related">Related</h2></header> <article class="uses"> <header class="toc-header"><h3 id="uses">Uses</h3></header> <table id="uses-table" data-show="3">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="sanitize_option.html">sanitize_option()</a> <span>wp-includes/formatting.php</span> </td> <td class="related-desc"> <p>Sanitizes various option values based on the nature of the option.</p> </td> </tr> <tr> <td class="related-title"> <a href="get_transient.html">get_transient()</a> <span>wp-includes/option.php</span> </td> <td class="related-desc"> <p>Retrieves the value of a transient.</p> </td> </tr> <tr> <td class="related-title"> <a href="delete_transient.html">delete_transient()</a> <span>wp-includes/option.php</span> </td> <td class="related-desc"> <p>Deletes a transient.</p> </td> </tr> <tr> <td class="related-title"> <a href="get_option.html">get_option()</a> <span>wp-includes/option.php</span> </td> <td class="related-desc"> <p>Retrieves an option value based on an option name.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <header class="toc-header"><h3 id="used-by">Used By</h3></header> <table id="used-by-table" data-show="5">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="settings_errors.html">settings_errors()</a> <span>wp-admin/includes/template.php</span> </td> <td class="related-desc"> <p>Displays settings errors registered by <a href="add_settings_error.html" rel="function">add_settings_error()</a> .</p> </td> </tr> </tbody>

</table> </article> </section>  <section> <header class="toc-header"><h2 id="changelog">Changelog</h2></header> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/3.0.0/" alt="WordPress 3.0.0">3.0.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2022 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/get_settings_errors" class="_attribution-link">https://developer.wordpress.org/reference/functions/get_settings_errors</a>
  </p>
</div>
