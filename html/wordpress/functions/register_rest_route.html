<h1>register_rest_route( string $namespace, string $route, array $args = array(), bool $override = false ): bool</h1>  <section> <p>Registers a REST API route.</p> </section>   <section> <header class="toc-header"><h2 id="description">Description</h2></header> <p>Note: Do not use before the <a href="../hooks/rest_api_init.html">‘rest_api_init’</a> hook.</p> </section>  <section> <header class="toc-header"><h2 id="parameters">Parameters</h2></header> <dl> <dt> <code>$namespace</code> <span class="type"><span class="string">string</span></span> <span class="required">Required</span> </dt> <dd> <div class="desc"> <span class="description">The first URL segment after core prefix. Should be unique to your package/plugin.</span> </div> </dd> <dt> <code>$route</code> <span class="type"><span class="string">string</span></span> <span class="required">Required</span> </dt> <dd> <div class="desc"> <span class="description">The base URL for route you are adding.</span> </div> </dd> <dt> <code>$args</code> <span class="type"><span class="array">array</span></span> <span class="required">Optional</span> </dt> <dd> <div class="desc"> <span class="description"> Either an array of options for the endpoint, or an array of arrays for multiple methods. </span> </div> <p class="default">Default: <code>array()</code></p> </dd> <dt> <code>$override</code> <span class="type"><span class="bool">bool</span></span> <span class="required">Optional</span> </dt> <dd> <div class="desc"> <span class="description"> If the route already exists, should we override it? True overrides, false merges (with newer overriding if duplicate keys exist). </span> </div> <p class="default">Default: <code>false</code></p> </dd> </dl> </section>  <section> <header class="toc-header"><h2 id="return">Return</h2></header> <p><span class="return-type">bool</span> True on success, false on error.</p> </section>  <section> <header class="toc-header"><h2 id="source">Source</h2></header> <p> File: <code>wp-includes/rest-api.php</code>. <a href="https://developer.wordpress.org/reference/files/wp-includes/rest-api.php/">View all references</a> </p> <pre class="wp-block-code" data-start="34" aria-label="Function source code" data-language="php"><code lang="php" class="language-php line-numbers">function register_rest_route( $namespace, $route, $args = array(), $override = false ) {
	if ( empty( $namespace ) ) {
		/*
		 * Non-namespaced routes are not allowed, with the exception of the main
		 * and namespace indexes. If you really need to register a
		 * non-namespaced route, call `WP_REST_Server::register_route` directly.
		 */
		_doing_it_wrong( 'register_rest_route', __( 'Routes must be namespaced with plugin or theme name and version.' ), '4.4.0' );
		return false;
	} elseif ( empty( $route ) ) {
		_doing_it_wrong( 'register_rest_route', __( 'Route must be specified.' ), '4.4.0' );
		return false;
	}

	$clean_namespace = trim( $namespace, '/' );

	if ( $clean_namespace !== $namespace ) {
		_doing_it_wrong( __FUNCTION__, __( 'Namespace must not start or end with a slash.' ), '5.4.2' );
	}

	if ( ! did_action( 'rest_api_init' ) ) {
		_doing_it_wrong(
			'register_rest_route',
			sprintf(
				/* translators: %s: rest_api_init */
				__( 'REST API routes must be registered on the %s action.' ),
				'&lt;code&gt;rest_api_init&lt;/code&gt;'
			),
			'5.1.0'
		);
	}

	if ( isset( $args['args'] ) ) {
		$common_args = $args['args'];
		unset( $args['args'] );
	} else {
		$common_args = array();
	}

	if ( isset( $args['callback'] ) ) {
		// Upgrade a single set to multiple.
		$args = array( $args );
	}

	$defaults = array(
		'methods'  =&gt; 'GET',
		'callback' =&gt; null,
		'args'     =&gt; array(),
	);

	foreach ( $args as $key =&gt; &amp;$arg_group ) {
		if ( ! is_numeric( $key ) ) {
			// Route option, skip here.
			continue;
		}

		$arg_group         = array_merge( $defaults, $arg_group );
		$arg_group['args'] = array_merge( $common_args, $arg_group['args'] );

		if ( ! isset( $arg_group['permission_callback'] ) ) {
			_doing_it_wrong(
				__FUNCTION__,
				sprintf(
					/* translators: 1: The REST API route being registered, 2: The argument name, 3: The suggested function name. */
					__( 'The REST API route definition for %1$s is missing the required %2$s argument. For REST API routes that are intended to be public, use %3$s as the permission callback.' ),
					'&lt;code&gt;' . $clean_namespace . '/' . trim( $route, '/' ) . '&lt;/code&gt;',
					'&lt;code&gt;permission_callback&lt;/code&gt;',
					'&lt;code&gt;__return_true&lt;/code&gt;'
				),
				'5.5.0'
			);
		}

		foreach ( $arg_group['args'] as $arg ) {
			if ( ! is_array( $arg ) ) {
				_doing_it_wrong(
					__FUNCTION__,
					sprintf(
						/* translators: 1: $args, 2: The REST API route being registered. */
						__( 'REST API %1$s should be an array of arrays. Non-array value detected for %2$s.' ),
						'&lt;code&gt;$args&lt;/code&gt;',
						'&lt;code&gt;' . $clean_namespace . '/' . trim( $route, '/' ) . '&lt;/code&gt;'
					),
					'6.1.0'
				);
				break; // Leave the foreach loop once a non-array argument was found.
			}
		}
	}

	$full_route = '/' . $clean_namespace . '/' . trim( $route, '/' );
	rest_get_server()-&gt;register_route( $clean_namespace, $full_route, $args, $override );
	return true;
}
</code></pre>  </section>  <section> <header class="toc-header"><h2 id="related">Related</h2></header> <article class="uses"> <header class="toc-header"><h3 id="uses">Uses</h3></header> <table id="uses-table" data-show="2">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="rest_get_server.html">rest_get_server()</a> <span>wp-includes/rest-api.php</span> </td> <td class="related-desc"> <p>Retrieves the current REST server instance.</p> </td> </tr> <tr> <td class="related-title"> <a href="did_action.html">did_action()</a> <span>wp-includes/plugin.php</span> </td> <td class="related-desc"> <p>Retrieves the number of times an action has been fired during the current request.</p> </td> </tr> <tr> <td class="related-title"> <a href="__.html">__()</a> <span>wp-includes/l10n.php</span> </td> <td class="related-desc"> <p>Retrieves the translation of $text.</p> </td> </tr> <tr> <td class="related-title"> <a href="_doing_it_wrong.html">_doing_it_wrong()</a> <span>wp-includes/functions.php</span> </td> <td class="related-desc"> <p>Marks something as being incorrectly called.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <header class="toc-header"><h3 id="used-by">Used By</h3></header> <table id="used-by-table" data-show="5">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="../classes/wp_rest_block_patterns_controller/register_routes.html">WP_REST_Block_Patterns_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-block-patterns-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for the objects of the controller.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_block_pattern_categories_controller/register_routes.html">WP_REST_Block_Pattern_Categories_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-block-pattern-categories-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for the objects of the controller.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_global_styles_controller/register_routes.html">WP_REST_Global_Styles_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-global-styles-controller.php</span> </td> <td class="related-desc"> <p>Registers the controllers routes.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_url_details_controller/register_routes.html">WP_REST_URL_Details_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-url-details-controller.php</span> </td> <td class="related-desc"> <p>Registers the necessary REST API routes.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_menu_locations_controller/register_routes.html">WP_REST_Menu_Locations_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-menu-locations-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for the objects of the controller.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_edit_site_export_controller/register_routes.html">WP_REST_Edit_Site_Export_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-edit-site-export-controller.php</span> </td> <td class="related-desc"> <p>Registers the site export route.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_widgets_controller/register_routes.html">WP_REST_Widgets_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-widgets-controller.php</span> </td> <td class="related-desc"> <p>Registers the widget routes for the controller.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_sidebars_controller/register_routes.html">WP_REST_Sidebars_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-sidebars-controller.php</span> </td> <td class="related-desc"> <p>Registers the controllers routes.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_templates_controller/register_routes.html">WP_REST_Templates_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-templates-controller.php</span> </td> <td class="related-desc"> <p>Registers the controllers routes.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_pattern_directory_controller/register_routes.html">WP_REST_Pattern_Directory_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-pattern-directory-controller.php</span> </td> <td class="related-desc"> <p>Registers the necessary REST API routes.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_widget_types_controller/register_routes.html">WP_REST_Widget_Types_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-widget-types-controller.php</span> </td> <td class="related-desc"> <p>Registers the widget type routes.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_site_health_controller/register_routes.html">WP_REST_Site_Health_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-site-health-controller.php</span> </td> <td class="related-desc"> <p>Registers API routes.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_application_passwords_controller/register_routes.html">WP_REST_Application_Passwords_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-application-passwords-controller.php</span> </td> <td class="related-desc"> <p>Registers the REST API routes for the application passwords controller.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_block_directory_controller/register_routes.html">WP_REST_Block_Directory_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-block-directory-controller.php</span> </td> <td class="related-desc"> <p>Registers the necessary REST API routes.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_plugins_controller/register_routes.html">WP_REST_Plugins_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-plugins-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for the plugins controller.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_block_types_controller/register_routes.html">WP_REST_Block_Types_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-block-types-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for block types.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_attachments_controller/register_routes.html">WP_REST_Attachments_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-attachments-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for attachments.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_search_controller/register_routes.html">WP_REST_Search_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-search-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for the search controller.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_themes_controller/register_routes.html">WP_REST_Themes_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-themes-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for themes.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_autosaves_controller/register_routes.html">WP_REST_Autosaves_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-autosaves-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for autosaves.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_block_renderer_controller/register_routes.html">WP_REST_Block_Renderer_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-block-renderer-controller.php</span> </td> <td class="related-desc"> <p>Registers the necessary REST API routes, one for each dynamic block.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_users_controller/register_routes.html">WP_REST_Users_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-users-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for users.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_revisions_controller/register_routes.html">WP_REST_Revisions_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-revisions-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for revisions based on post types supporting revisions.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_post_statuses_controller/register_routes.html">WP_REST_Post_Statuses_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-post-statuses-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for post statuses.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_settings_controller/register_routes.html">WP_REST_Settings_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-settings-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for the site’s settings.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_terms_controller/register_routes.html">WP_REST_Terms_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-terms-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for terms.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_posts_controller/register_routes.html">WP_REST_Posts_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-posts-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for posts.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_taxonomies_controller/register_routes.html">WP_REST_Taxonomies_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-taxonomies-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for taxonomies.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_post_types_controller/register_routes.html">WP_REST_Post_Types_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-post-types-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for post types.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_comments_controller/register_routes.html">WP_REST_Comments_Controller::register_routes()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-comments-controller.php</span> </td> <td class="related-desc"> <p>Registers the routes for comments.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_oembed_controller/register_routes.html">WP_oEmbed_Controller::register_routes()</a> <span>wp-includes/class-wp-oembed-controller.php</span> </td> <td class="related-desc"> <p>Register the oEmbed REST API route.</p> </td> </tr> </tbody>

</table>   </article> </section>  <section> <header class="toc-header"><h2 id="changelog">Changelog</h2></header> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/5.5.0/" alt="WordPress 5.5.0">5.5.0</a></td> <td><span class="since-description">Added a <code>_doing_it_wrong()</code> notice when the required <code>permission_callback</code> argument is not set.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/5.1.0/" alt="WordPress 5.1.0">5.1.0</a></td> <td><span class="since-description">Added a <code>_doing_it_wrong()</code> notice when not called on or after the <code>rest_api_init</code> hook.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/4.4.0/" alt="WordPress 4.4.0">4.4.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2022 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/register_rest_route" class="_attribution-link">https://developer.wordpress.org/reference/functions/register_rest_route</a>
  </p>
</div>
