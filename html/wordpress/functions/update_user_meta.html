<h1>update_user_meta( int $user_id, string $meta_key, mixed $meta_value, mixed $prev_value = '' ): int|bool</h1>  <section> <p>Updates user meta field based on user ID.</p> </section>   <section> <header class="toc-header"><h2 id="description">Description</h2></header> <p>Use the $prev_value parameter to differentiate between meta fields with the same key and user ID.</p> <p>If the meta field for the user does not exist, it will be added.</p> </section>  <section> <header class="toc-header"><h2 id="parameters">Parameters</h2></header> <dl> <dt> <code>$user_id</code> <span class="type"><span class="int">int</span></span> <span class="required">Required</span> </dt> <dd> <div class="desc"> <span class="description">User ID.</span> </div> </dd> <dt> <code>$meta_key</code> <span class="type"><span class="string">string</span></span> <span class="required">Required</span> </dt> <dd> <div class="desc"> <span class="description">Metadata key.</span> </div> </dd> <dt> <code>$meta_value</code> <span class="type"><span class="mixed">mixed</span></span> <span class="required">Required</span> </dt> <dd> <div class="desc"> <span class="description">Metadata value. Must be serializable if non-scalar.</span> </div> </dd> <dt> <code>$prev_value</code> <span class="type"><span class="mixed">mixed</span></span> <span class="required">Optional</span> </dt> <dd> <div class="desc"> <span class="description"> Previous value to check before updating.<br> If specified, only update existing metadata entries with this value. Otherwise, update all entries. </span> </div> <p class="default">Default: <code>''</code></p> </dd> </dl> </section>  <section> <header class="toc-header"><h2 id="return">Return</h2></header> <p><span class="return-type">int|bool</span> Meta ID if the key didn't exist, true on successful update, false on failure or if the value passed to the function is the same as the one that is already in the database.</p> </section>  <section> <header class="toc-header"><h2 id="more-information">More Information</h2></header> <p>Changes in behavior from the now deprecated update_usermeta:</p> <p>Update_user_meta does not delete the meta if the new value is empty.</p> <p>The actions are different.</p> </section>  <section> <header class="toc-header"><h2 id="source">Source</h2></header> <p> File: <code>wp-includes/user.php</code>. <a href="https://developer.wordpress.org/reference/files/wp-includes/user.php/">View all references</a> </p> <pre class="wp-block-code" data-start="1184" aria-label="Function source code" data-language="php"><code lang="php" class="language-php line-numbers">function update_user_meta( $user_id, $meta_key, $meta_value, $prev_value = '' ) {
	return update_metadata( 'user', $user_id, $meta_key, $meta_value, $prev_value );
}
</code></pre>  </section>  <section> <header class="toc-header"><h2 id="related">Related</h2></header> <article class="uses"> <header class="toc-header"><h3 id="uses">Uses</h3></header> <table id="uses-table" data-show="2">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="update_metadata.html">update_metadata()</a> <span>wp-includes/meta.php</span> </td> <td class="related-desc"> <p>Updates metadata for the specified object. If no value already exists for the specified object ID and metadata key, the metadata will be added.</p> </td> </tr> </tbody>

</table> </article> <article class="used-by"> <header class="toc-header"><h3 id="used-by">Used By</h3></header> <table id="used-by-table" data-show="5">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="../classes/wp_application_passwords/set_user_application_passwords.html">WP_Application_Passwords::set_user_application_passwords()</a> <span>wp-includes/class-wp-application-passwords.php</span> </td> <td class="related-desc"> <p>Sets a user’s application passwords.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_initialize_site.html">wp_initialize_site()</a> <span>wp-includes/ms-site.php</span> </td> <td class="related-desc"> <p>Runs the initialization routine for a given site.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_localize_community_events.html">wp_localize_community_events()</a> <span>wp-includes/script-loader.php</span> </td> <td class="related-desc"> <p>Localizes community events data that needs to be passed to dashboard.js.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_ajax_get_community_events.html">wp_ajax_get_community_events()</a> <span>wp-admin/includes/ajax-actions.php</span> </td> <td class="related-desc"> <p>Handles Ajax requests for community events</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_screen/render_meta_boxes_preferences.html">WP_Screen::render_meta_boxes_preferences()</a> <span>wp-admin/includes/class-wp-screen.php</span> </td> <td class="related-desc"> <p>Renders the meta boxes preferences.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_ajax_save_wporg_username.html">wp_ajax_save_wporg_username()</a> <span>wp-admin/includes/ajax-actions.php</span> </td> <td class="related-desc"> <p>Ajax handler for saving the user’s WordPress.org username.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_user_meta_session_tokens/update_sessions.html">WP_User_Meta_Session_Tokens::update_sessions()</a> <span>wp-includes/class-wp-user-meta-session-tokens.php</span> </td> <td class="related-desc"> <p>Updates the user’s sessions in the usermeta table.</p> </td> </tr> <tr> <td class="related-title"> <a href="choose_primary_blog.html">choose_primary_blog()</a> <span>wp-admin/includes/ms.php</span> </td> <td class="related-desc"> <p>Handles the display of choosing a user’s primary site.</p> </td> </tr> <tr> <td class="related-title"> <a href="send_confirmation_on_profile_email.html">send_confirmation_on_profile_email()</a> <span>wp-includes/user.php</span> </td> <td class="related-desc"> <p>Sends a confirmation request email when a change of user email address is attempted.</p> </td> </tr> <tr> <td class="related-title"> <a href="set_screen_options.html">set_screen_options()</a> <span>wp-admin/includes/misc.php</span> </td> <td class="related-desc"> <p>Saves option for number of rows when listing posts, pages, comments, etc.</p> </td> </tr> <tr> <td class="related-title"> <a href="populate_network.html">populate_network()</a> <span>wp-admin/includes/schema.php</span> </td> <td class="related-desc"> <p>Populate network settings.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_install.html">wp_install()</a> <span>wp-admin/includes/upgrade.php</span> </td> <td class="related-desc"> <p>Installs the site.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_install_defaults.html">wp_install_defaults()</a> <span>wp-admin/includes/upgrade.php</span> </td> <td class="related-desc"> <p>Creates the initial content for a newly-installed site.</p> </td> </tr> <tr> <td class="related-title"> <a href="default_password_nag_handler.html">default_password_nag_handler()</a> <span>wp-admin/includes/user.php</span> </td> <td class="related-desc"> </td> </tr> <tr> <td class="related-title"> <a href="default_password_nag_edit_user.html">default_password_nag_edit_user()</a> <span>wp-admin/includes/user.php</span> </td> <td class="related-desc"> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_plugin_install_list_table/prepare_items.html">WP_Plugin_Install_List_Table::prepare_items()</a> <span>wp-admin/includes/class-wp-plugin-install-list-table.php</span> </td> <td class="related-desc"> </td> </tr> <tr> <td class="related-title"> <a href="wp_ajax_save_user_color_scheme.html">wp_ajax_save_user_color_scheme()</a> <span>wp-admin/includes/ajax-actions.php</span> </td> <td class="related-desc"> <p>Ajax handler for auto-saving the selected color scheme for a user’s own profile.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_ajax_dismiss_wp_pointer.html">wp_ajax_dismiss_wp_pointer()</a> <span>wp-admin/includes/ajax-actions.php</span> </td> <td class="related-desc"> <p>Ajax handler for dismissing a WordPress pointer.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_ajax_closed_postboxes.html">wp_ajax_closed_postboxes()</a> <span>wp-admin/includes/ajax-actions.php</span> </td> <td class="related-desc"> <p>Ajax handler for closed post boxes.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_ajax_hidden_columns.html">wp_ajax_hidden_columns()</a> <span>wp-admin/includes/ajax-actions.php</span> </td> <td class="related-desc"> <p>Ajax handler for hidden columns.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_ajax_update_welcome_panel.html">wp_ajax_update_welcome_panel()</a> <span>wp-admin/includes/ajax-actions.php</span> </td> <td class="related-desc"> <p>Ajax handler for updating whether to display the welcome panel.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_ajax_meta_box_order.html">wp_ajax_meta_box_order()</a> <span>wp-admin/includes/ajax-actions.php</span> </td> <td class="related-desc"> <p>Ajax handler for saving the meta box order.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_nav_menu_setup.html">wp_nav_menu_setup()</a> <span>wp-admin/includes/nav-menu.php</span> </td> <td class="related-desc"> <p>Register nav menu meta boxes and advanced menu items.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_initial_nav_menu_meta_boxes.html">wp_initial_nav_menu_meta_boxes()</a> <span>wp-admin/includes/nav-menu.php</span> </td> <td class="related-desc"> <p>Limit the amount of meta boxes to pages, posts, links, and categories for first time users.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_user/update_user_level_from_caps.html">WP_User::update_user_level_from_caps()</a> <span>wp-includes/class-wp-user.php</span> </td> <td class="related-desc"> <p>Updates the maximum user level for the user.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_user/add_cap.html">WP_User::add_cap()</a> <span>wp-includes/class-wp-user.php</span> </td> <td class="related-desc"> <p>Adds capability and grant or deny access to capability.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_user/remove_cap.html">WP_User::remove_cap()</a> <span>wp-includes/class-wp-user.php</span> </td> <td class="related-desc"> <p>Removes capability from user.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_user/add_role.html">WP_User::add_role()</a> <span>wp-includes/class-wp-user.php</span> </td> <td class="related-desc"> <p>Adds role to user.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_user/remove_role.html">WP_User::remove_role()</a> <span>wp-includes/class-wp-user.php</span> </td> <td class="related-desc"> <p>Removes role from user.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_user/set_role.html">WP_User::set_role()</a> <span>wp-includes/class-wp-user.php</span> </td> <td class="related-desc"> <p>Sets the role of the user.</p> </td> </tr> <tr> <td class="related-title"> <a href="reset_password.html">reset_password()</a> <span>wp-includes/user.php</span> </td> <td class="related-desc"> <p>Handles resetting the user’s password.</p> </td> </tr> <tr> <td class="related-title"> <a href="register_new_user.html">register_new_user()</a> <span>wp-includes/user.php</span> </td> <td class="related-desc"> <p>Handles registering a new user.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_insert_user.html">wp_insert_user()</a> <span>wp-includes/user.php</span> </td> <td class="related-desc"> <p>Inserts a user into the database.</p> </td> </tr> <tr> <td class="related-title"> <a href="update_user_option.html">update_user_option()</a> <span>wp-includes/user.php</span> </td> <td class="related-desc"> <p>Updates user option with global blog capability.</p> </td> </tr> <tr> <td class="related-title"> <a href="add_new_user_to_blog.html">add_new_user_to_blog()</a> <span>wp-includes/ms-functions.php</span> </td> <td class="related-desc"> <p>Adds a newly created user to the appropriate blog</p> </td> </tr> <tr> <td class="related-title"> <a href="get_active_blog_for_user.html">get_active_blog_for_user()</a> <span>wp-includes/ms-functions.php</span> </td> <td class="related-desc"> <p>Gets one of a user’s active blogs.</p> </td> </tr> <tr> <td class="related-title"> <a href="add_user_to_blog.html">add_user_to_blog()</a> <span>wp-includes/ms-functions.php</span> </td> <td class="related-desc"> <p>Adds a user to a blog, along with specifying the user’s role.</p> </td> </tr> <tr> <td class="related-title"> <a href="remove_user_from_blog.html">remove_user_from_blog()</a> <span>wp-includes/ms-functions.php</span> </td> <td class="related-desc"> <p>Removes a user from a blog.</p> </td> </tr> </tbody>

</table>   </article> </section>  <section> <header class="toc-header"><h2 id="changelog">Changelog</h2></header> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/3.0.0/" alt="WordPress 3.0.0">3.0.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2022 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/update_user_meta" class="_attribution-link">https://developer.wordpress.org/reference/functions/update_user_meta</a>
  </p>
</div>
