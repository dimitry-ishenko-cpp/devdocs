<h1>wp_set_current_user( int|null $id, string $name = '' ): WP_User</h1>  <section> <p>Changes the current user by ID or name.</p> </section>   <section> <header class="toc-header"><h2 id="description">Description</h2></header> <p>Set $id to null and specify a name if you do not know a user’s ID.</p> <p>Some WordPress functionality is based on the current user and not based on the signed in user. Therefore, it opens the ability to edit and perform actions on users who aren’t signed in.</p> </section>  <section> <header class="toc-header"><h2 id="parameters">Parameters</h2></header> <dl> <dt> <code>$id</code> <span class="type"><span class="int">int</span>|<span class="null">null</span></span> <span class="required">Required</span> </dt> <dd> <div class="desc"> <span class="description">User ID.</span> </div> </dd> <dt> <code>$name</code> <span class="type"><span class="string">string</span></span> <span class="required">Optional</span> </dt> <dd> <div class="desc"> <span class="description">User's username.</span> </div> <p class="default">Default: <code>''</code></p> </dd> </dl> </section>  <section> <header class="toc-header"><h2 id="return">Return</h2></header> <p><span class="return-type"><a href="../classes/wp_user.html" rel="class">WP_User</a></span> Current user User object.</p> </section>  <section> <header class="toc-header"><h2 id="more-information">More Information</h2></header> <p>This function can be replaced via plugins. If plugins do not redefine these functions, then this will be used instead.</p> </section>  <section> <header class="toc-header"><h2 id="source">Source</h2></header> <p> File: <code>wp-includes/pluggable.php</code>. <a href="https://developer.wordpress.org/reference/files/wp-includes/pluggable.php/">View all references</a> </p> <pre class="wp-block-code" data-start="27" aria-label="Function source code" data-language="php"><code lang="php" class="language-php line-numbers">function wp_set_current_user( $id, $name = '' ) {
	global $current_user;

	// If `$id` matches the current user, there is nothing to do.
	if ( isset( $current_user )
	&amp;&amp; ( $current_user instanceof WP_User )
	&amp;&amp; ( $id == $current_user-&gt;ID )
	&amp;&amp; ( null !== $id )
	) {
		return $current_user;
	}

	$current_user = new WP_User( $id, $name );

	setup_userdata( $current_user-&gt;ID );

	/**
	 * Fires after the current user is set.
	 *
	 * @since 2.0.1
	 */
	do_action( 'set_current_user' );

	return $current_user;
}
</code></pre>  </section>  <section> <header class="toc-header"><h2 id="hooks">Hooks</h2></header> <article class="hooks"> <dl> <dt class="signature-highlight"> <a href="../hooks/set_current_user.html" style="text-decoration: none"> <span class="hook-func">do_action</span>( 'set_current_user' ) </a> </dt> <dd class="hook-desc"> 
<p>Fires after the current user is set.</p> </dd> </dl> </article> </section>  <section> <header class="toc-header"><h2 id="related">Related</h2></header> <article class="uses"> <header class="toc-header"><h3 id="uses">Uses</h3></header> <table id="uses-table" data-show="2">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="../classes/wp_user/__construct.html">WP_User::__construct()</a> <span>wp-includes/class-wp-user.php</span> </td> <td class="related-desc"> <p>Constructor.</p> </td> </tr> <tr> <td class="related-title"> <a href="setup_userdata.html">setup_userdata()</a> <span>wp-includes/user.php</span> </td> <td class="related-desc"> <p>Sets up global user vars.</p> </td> </tr> <tr> <td class="related-title"> <a href="do_action.html">do_action()</a> <span>wp-includes/plugin.php</span> </td> <td class="related-desc"> <p>Calls the callback functions that have been added to an action hook.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <header class="toc-header"><h3 id="used-by">Used By</h3></header> <table id="used-by-table" data-show="5">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="../classes/wp_customize_manager/_publish_changeset_values.html">WP_Customize_Manager::_publish_changeset_values()</a> <span>wp-includes/class-wp-customize-manager.php</span> </td> <td class="related-desc"> <p>Publishes the values of a changeset.</p> </td> </tr> <tr> <td class="related-title"> <a href="_wp_get_current_user.html">_wp_get_current_user()</a> <span>wp-includes/user.php</span> </td> <td class="related-desc"> <p>Retrieves the current user object.</p> </td> </tr> <tr> <td class="related-title"> <a href="rest_cookie_check_errors.html">rest_cookie_check_errors()</a> <span>wp-includes/rest-api.php</span> </td> <td class="related-desc"> <p>Checks for errors when using cookie-based authentication.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_importer/set_user.html">WP_Importer::set_user()</a> <span>wp-admin/includes/class-wp-importer.php</span> </td> <td class="related-desc"> </td> </tr> <tr> <td class="related-title"> <a href="wp_logout.html">wp_logout()</a> <span>wp-includes/pluggable.php</span> </td> <td class="related-desc"> <p>Logs the current user out.</p> </td> </tr> <tr> <td class="related-title"> <a href="set_current_user.html">set_current_user()</a> <span>wp-includes/pluggable-deprecated.php</span> </td> <td class="related-desc"> <p>Changes the current user by ID or name.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_xmlrpc_server/login.html">wp_xmlrpc_server::login()</a> <span>wp-includes/class-wp-xmlrpc-server.php</span> </td> <td class="related-desc"> <p>Log user in.</p> </td> </tr> </tbody>

</table>   </article> </section>  <section> <header class="toc-header"><h2 id="changelog">Changelog</h2></header> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/2.0.3/" alt="WordPress 2.0.3">2.0.3</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2022 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/wp_set_current_user" class="_attribution-link">https://developer.wordpress.org/reference/functions/wp_set_current_user</a>
  </p>
</div>
