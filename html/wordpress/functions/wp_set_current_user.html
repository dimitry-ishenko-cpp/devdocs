<h1 class="wp-block-wporg-code-reference-title">wp_set_current_user( <span class="arg-type">int|null</span> <span class="arg-name">$id</span>, <span class="arg-type">string</span> <span class="arg-name">$name</span> = <span class="arg-default">”</span> ): <span class="return-type"><a href="../classes/wp_user.html" rel="class">WP_User</a></span>
</h1> <section><p>Changes the current user by ID or name.</p> </section> <section><h2 id="description">Description</h2> <p>Set $id to null and specify a name if you do not know a user’s ID.</p> <p>Some WordPress functionality is based on the current user and not based on the signed in user. Therefore, it opens the ability to edit and perform actions on users who aren’t signed in.</p> </section> <section><h2 id="parameters">Parameters</h2> <dl>
<dt>
<code>$id</code><span class="type"><span class="int">int</span>|<span class="null">null</span></span><span class="required">required</span>
</dt>
<dd><div class="desc"><span class="description">User ID.</span></div></dd>
<dt>
<code>$name</code><span class="type"><span class="string">string</span></span><span class="required">optional</span>
</dt>
<dd>
<div class="desc"><span class="description">User’s username.</span></div>
<p class="default">Default:<code>''</code></p>
</dd>
</dl></section> <section><h2 id="return">Return</h2> <span class="return-type"><a href="../classes/wp_user.html" rel="class">WP_User</a></span> Current user User object.</section> <section><h2 id="more-information">More Information</h2> <p>This function can be replaced via plugins. If plugins do not redefine these functions, then this will be used instead.</p> </section> <section><h2 id="source">Source</h2> <pre class="wp-block-code" data-start="27" aria-label="Function source code" data-language="php"><code id="wporg-source-code" lang="php" class="language-php line-numbers">function wp_set_current_user( $id, $name = '' ) {
	global $current_user;

	// If `$id` matches the current user, there is nothing to do.
	if ( isset( $current_user )
	&amp;&amp; ( $current_user instanceof WP_User )
	&amp;&amp; ( $id === $current_user-&gt;ID )
	&amp;&amp; ( null !== $id )
	) {
		return $current_user;
	}

	$current_user = new WP_User( $id, $name );

	setup_userdata( $current_user-&gt;ID );

	/**
	 * Fires after the current user is set.
	 *
	 * @since 2.0.1
	 */
	do_action( 'set_current_user' );

	return $current_user;
}
</code></pre>
<p class="wporg-dot-link-list"><a href="https://developer.wordpress.org/reference/files/wp-includes/pluggable.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/pluggable.php#L27">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/pluggable.php#L27-L51">View on GitHub</a></p></section> <section><h2 id="hooks">Hooks</h2> <dl>
<dt class="wp-block-wporg-code-reference-title has-normal-font-size"><a href="../hooks/set_current_user.html"><span class="hook-func">do_action</span>( ‘set_current_user’ )</a></dt>
<dd>
<p>Fires after the current user is set.</p> </dd>
</dl></section>  <section><h2 id="changelog">Changelog</h2> <section style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table "><table>
<thead><tr>
<th scope="col">Version</th>
<th scope="col">Description</th>
</tr></thead>
<tbody><tr class="">
<td><a href="https://developer.wordpress.org/reference/since/2.0.3/">2.0.3</a></td>
<td>Introduced.</td>
</tr></tbody>
</table></figure></section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2024 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/wp_set_current_user" class="_attribution-link">https://developer.wordpress.org/reference/functions/wp_set_current_user</a>
  </p>
</div>
