<h1 class="wp-block-wporg-code-reference-title">wp_update_post( <span class="arg-type">array|object</span> <span class="arg-name">$postarr</span> = <span class="arg-default">array()</span>, <span class="arg-type">bool</span> <span class="arg-name">$wp_error</span> = <span class="arg-default">false</span>, <span class="arg-type">bool</span> <span class="arg-name">$fire_after_hooks</span> = <span class="arg-default">true</span> ): <span class="return-type">int|<a href="../classes/wp_error.html" rel="class">WP_Error</a></span>
</h1> <section><p>Updates a post with new post data.</p> </section> <section><h2 id="description">Description</h2> <p>The date does not have to be set for drafts. You can set the date and it will not be overridden.</p> </section> <section><h2 id="parameters">Parameters</h2> <dl>
<dt>
<code>$postarr</code><span class="type"><span class="array">array</span>|<span class="object">object</span></span><span class="required">optional</span>
</dt>
<dd>
<div class="desc">
<span class="description">Post data. Arrays are expected to be escaped, objects are not. See <a href="wp_insert_post.html" rel="function">wp_insert_post()</a> for accepted arguments.<br> Default array.</span><details class="extended-description"><summary>More Arguments from wp_insert_post( â€¦ $postarr )</summary><span class="description">An array of elements that make up a post to update or insert.<br> <ul class="param-hash">
<li>
<code>ID</code> <span class="type">int</span><div class="desc">The post ID. If equal to something other than 0, the post with that ID will be updated. Default 0.</div>
</li> <li>
<code>post_author</code> <span class="type">int</span><div class="desc">The ID of the user who added the post. Default is the current user ID.</div>
</li> <li>
<code>post_date</code> <span class="type">string</span><div class="desc">The date of the post. Default is the current time.</div>
</li> <li>
<code>post_date_gmt</code> <span class="type">string</span><div class="desc">The date of the post in the GMT timezone. Default is the value of <code>$post_date</code>.</div>
</li> <li>
<code>post_content</code> <span class="type">string</span><div class="desc">The post content. Default empty.</div>
</li> <li>
<code>post_content_filtered</code> <span class="type">string</span><div class="desc">The filtered post content. Default empty.</div>
</li> <li>
<code>post_title</code> <span class="type">string</span><div class="desc">The post title. Default empty.</div>
</li> <li>
<code>post_excerpt</code> <span class="type">string</span><div class="desc">The post excerpt. Default empty.</div>
</li> <li>
<code>post_status</code> <span class="type">string</span><div class="desc">The post status. Default <code>'draft'</code>.</div>
</li> <li>
<code>post_type</code> <span class="type">string</span><div class="desc">The post type. Default <code>'post'</code>.</div>
</li> <li>
<code>comment_status</code> <span class="type">string</span><div class="desc">Whether the post can accept comments. Accepts <code>'open'</code> or <code>'closed'</code>.<br> Default is the value of <code>'default_comment_status'</code> option.</div>
</li> <li>
<code>ping_status</code> <span class="type">string</span><div class="desc">Whether the post can accept pings. Accepts <code>'open'</code> or <code>'closed'</code>.<br> Default is the value of <code>'default_ping_status'</code> option.</div>
</li> <li>
<code>post_password</code> <span class="type">string</span><div class="desc">The password to access the post. Default empty.</div>
</li> <li>
<code>post_name</code> <span class="type">string</span><div class="desc">The post name. Default is the sanitized post title when creating a new post.</div>
</li> <li>
<code>to_ping</code> <span class="type">string</span><div class="desc">Space or carriage return-separated list of URLs to ping.<br> Default empty.</div>
</li> <li>
<code>pinged</code> <span class="type">string</span><div class="desc">Space or carriage return-separated list of URLs that have been pinged. Default empty.</div>
</li> <li>
<code>post_parent</code> <span class="type">int</span><div class="desc">Set this for the post it belongs to, if any. Default 0.</div>
</li> <li>
<code>menu_order</code> <span class="type">int</span><div class="desc">The order the post should be displayed in. Default 0.</div>
</li> <li>
<code>post_mime_type</code> <span class="type">string</span><div class="desc">The mime type of the post. Default empty.</div>
</li> <li>
<code>guid</code> <span class="type">string</span><div class="desc">Global Unique ID for referencing the post. Default empty.</div>
</li> <li>
<code>import_id</code> <span class="type">int</span><div class="desc">The post ID to be used when inserting a new post.<br> If specified, must not match any existing post ID. Default 0.</div>
</li> <li>
<code>post_category</code> <span class="type">int[]</span><div class="desc">Array of category IDs.<br> Defaults to value of the <code>'default_category'</code> option.</div>
</li> <li>
<code>tags_input</code> <span class="type">array</span><div class="desc">Array of tag names, slugs, or IDs. Default empty.</div>
</li> <li>
<code>tax_input</code> <span class="type">array</span><div class="desc">An array of taxonomy terms keyed by their taxonomy name.<br> If the taxonomy is hierarchical, the term list needs to be either an array of term IDs or a comma-separated string of IDs.<br> If the taxonomy is non-hierarchical, the term list can be an array that contains term names or slugs, or a comma-separated string of names or slugs. This is because, in hierarchical taxonomy, child terms can have the same names with different parent terms, so the only way to connect them is using ID. Default empty.</div>
</li> <li>
<code>meta_input</code> <span class="type">array</span><div class="desc">Array of post meta values keyed by their post meta key. Default empty.</div>
</li> <li>
<code>page_template</code> <span class="type">string</span><div class="desc">Page template to use.</div>
</li> </ul> </span></details>
</div>
<p class="default">Default:<code>array()</code></p>
</dd>
<dt>
<code>$wp_error</code><span class="type"><span class="bool">bool</span></span><span class="required">optional</span>
</dt>
<dd>
<div class="desc"><span class="description">Whether to return a <a href="../classes/wp_error.html" rel="class">WP_Error</a> on failure. </span></div>
<p class="default">Default:<code>false</code></p>
</dd>
<dt>
<code>$fire_after_hooks</code><span class="type"><span class="bool">bool</span></span><span class="required">optional</span>
</dt>
<dd>
<div class="desc"><span class="description">Whether to fire the after insert hooks. </span></div>
<p class="default">Default:<code>true</code></p>
</dd>
</dl></section> <section><h2 id="return">Return</h2> <span class="return-type">int|<a href="../classes/wp_error.html" rel="class">WP_Error</a></span> The post ID on success. The value 0 or <a href="../classes/wp_error.html" rel="class">WP_Error</a> on failure.</section> <section><h2 id="source">Source</h2> <pre class="wp-block-code" data-start="5097" aria-label="Function source code" data-language="php"><code id="wporg-source-code" lang="php" class="language-php line-numbers">function wp_update_post( $postarr = array(), $wp_error = false, $fire_after_hooks = true ) {
	if ( is_object( $postarr ) ) {
		// Non-escaped post was passed.
		$postarr = get_object_vars( $postarr );
		$postarr = wp_slash( $postarr );
	}

	// First, get all of the original fields.
	$post = get_post( $postarr['ID'], ARRAY_A );

	if ( is_null( $post ) ) {
		if ( $wp_error ) {
			return new WP_Error( 'invalid_post', __( 'Invalid post ID.' ) );
		}
		return 0;
	}

	// Escape data pulled from DB.
	$post = wp_slash( $post );

	// Passed post category list overwrites existing category list if not empty.
	if ( isset( $postarr['post_category'] ) &amp;&amp; is_array( $postarr['post_category'] )
		&amp;&amp; count( $postarr['post_category'] ) &gt; 0
	) {
		$post_cats = $postarr['post_category'];
	} else {
		$post_cats = $post['post_category'];
	}

	// Drafts shouldn't be assigned a date unless explicitly done so by the user.
	if ( isset( $post['post_status'] )
		&amp;&amp; in_array( $post['post_status'], array( 'draft', 'pending', 'auto-draft' ), true )
		&amp;&amp; empty( $postarr['edit_date'] ) &amp;&amp; ( '0000-00-00 00:00:00' === $post['post_date_gmt'] )
	) {
		$clear_date = true;
	} else {
		$clear_date = false;
	}

	// Merge old and new fields with new fields overwriting old ones.
	$postarr                  = array_merge( $post, $postarr );
	$postarr['post_category'] = $post_cats;
	if ( $clear_date ) {
		$postarr['post_date']     = current_time( 'mysql' );
		$postarr['post_date_gmt'] = '';
	}

	if ( 'attachment' === $postarr['post_type'] ) {
		return wp_insert_attachment( $postarr, false, 0, $wp_error );
	}

	// Discard 'tags_input' parameter if it's the same as existing post tags.
	if ( isset( $postarr['tags_input'] ) &amp;&amp; is_object_in_taxonomy( $postarr['post_type'], 'post_tag' ) ) {
		$tags      = get_the_terms( $postarr['ID'], 'post_tag' );
		$tag_names = array();

		if ( $tags &amp;&amp; ! is_wp_error( $tags ) ) {
			$tag_names = wp_list_pluck( $tags, 'name' );
		}

		if ( $postarr['tags_input'] === $tag_names ) {
			unset( $postarr['tags_input'] );
		}
	}

	return wp_insert_post( $postarr, $wp_error, $fire_after_hooks );
}
</code></pre>
<p class="wporg-dot-link-list"><a href="https://developer.wordpress.org/reference/files/wp-includes/post.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/post.php#L5097">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/post.php#L5097-L5163">View on GitHub</a></p></section>  <section><h2 id="changelog">Changelog</h2> <section style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table "><table>
<thead><tr>
<th scope="col">Version</th>
<th scope="col">Description</th>
</tr></thead>
<tbody>
<tr class="">
<td><a href="https://developer.wordpress.org/reference/since/5.6.0/">5.6.0</a></td>
<td><span class="since-description">Added the <code>$fire_after_hooks</code> parameter.</span></td>
</tr>
<tr class="">
<td><a href="https://developer.wordpress.org/reference/since/3.5.0/">3.5.0</a></td>
<td><span class="since-description">Added the <code>$wp_error</code> parameter to allow a <a href="../classes/wp_error.html" rel="class">WP_Error</a> to be returned on failure.</span></td>
</tr>
<tr class="">
<td><a href="https://developer.wordpress.org/reference/since/1.0.0/">1.0.0</a></td>
<td>Introduced.</td>
</tr>
</tbody>
</table></figure></section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2024 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/wp_update_post" class="_attribution-link">https://developer.wordpress.org/reference/functions/wp_update_post</a>
  </p>
</div>
