<h1>wp_update_post( array|object $postarr = array(), bool $wp_error = false, bool $fire_after_hooks = true ): int|WP_Error</h1>  <section> <p>Updates a post with new post data.</p> </section>   <section> <header class="toc-header"><h2 id="description">Description</h2></header> <p>The date does not have to be set for drafts. You can set the date and it will not be overridden.</p> </section>  <section> <header class="toc-header"><h2 id="parameters">Parameters</h2></header> <dl> <dt> <code>$postarr</code> <span class="type"><span class="array">array</span>|<span class="object">object</span></span> <span class="required">Optional</span> </dt> <dd> <div class="desc"> <span class="description"> Post data. Arrays are expected to be escaped, objects are not. See <a href="wp_insert_post.html" rel="function">wp_insert_post()</a> for accepted arguments.<br> Default array.</span> <details class="extended-description"> <summary> More Arguments from wp_insert_post( ... $postarr ) </summary> <span class="description">An array of elements that make up a post to update or insert.<br> <ul class="param-hash">
<li>
<code>ID</code><span class="type">int</span><div class="desc">The post ID. If equal to something other than 0, the post with that ID will be updated. Default 0.</div>
</li> <li>
<code>post_author</code><span class="type">int</span><div class="desc">The ID of the user who added the post. Default is the current user ID.</div>
</li> <li>
<code>post_date</code><span class="type">string</span><div class="desc">The date of the post. Default is the current time.</div>
</li> <li>
<code>post_date_gmt</code><span class="type">string</span><div class="desc">The date of the post in the GMT timezone. Default is the value of <code>$post_date</code>.</div>
</li> <li>
<code>post_content</code><span class="type">string</span><div class="desc">The post content. Default empty.</div>
</li> <li>
<code>post_content_filtered</code><span class="type">string</span><div class="desc">The filtered post content. Default empty.</div>
</li> <li>
<code>post_title</code><span class="type">string</span><div class="desc">The post title. Default empty.</div>
</li> <li>
<code>post_excerpt</code><span class="type">string</span><div class="desc">The post excerpt. Default empty.</div>
</li> <li>
<code>post_status</code><span class="type">string</span><div class="desc">The post status. Default <code>'draft'</code>.</div>
</li> <li>
<code>post_type</code><span class="type">string</span><div class="desc">The post type. Default <code>'post'</code>.</div>
</li> <li>
<code>comment_status</code><span class="type">string</span><div class="desc">Whether the post can accept comments. Accepts <code>'open'</code> or <code>'closed'</code>.<br> Default is the value of <code>'default_comment_status'</code> option.</div>
</li> <li>
<code>ping_status</code><span class="type">string</span><div class="desc">Whether the post can accept pings. Accepts <code>'open'</code> or <code>'closed'</code>.<br> Default is the value of <code>'default_ping_status'</code> option.</div>
</li> <li>
<code>post_password</code><span class="type">string</span><div class="desc">The password to access the post. Default empty.</div>
</li> <li>
<code>post_name</code><span class="type">string</span><div class="desc">The post name. Default is the sanitized post title when creating a new post.</div>
</li> <li>
<code>to_ping</code><span class="type">string</span><div class="desc">Space or carriage return-separated list of URLs to ping.<br> Default empty.</div>
</li> <li>
<code>pinged</code><span class="type">string</span><div class="desc">Space or carriage return-separated list of URLs that have been pinged. Default empty.</div>
</li> <li>
<code>post_modified</code><span class="type">string</span><div class="desc">The date when the post was last modified. Default is the current time.</div>
</li> <li>
<code>post_modified_gmt</code><span class="type">string</span><div class="desc">The date when the post was last modified in the GMT timezone. Default is the current time.</div>
</li> <li>
<code>post_parent</code><span class="type">int</span><div class="desc">Set this for the post it belongs to, if any. Default 0.</div>
</li> <li>
<code>menu_order</code><span class="type">int</span><div class="desc">The order the post should be displayed in. Default 0.</div>
</li> <li>
<code>post_mime_type</code><span class="type">string</span><div class="desc">The mime type of the post. Default empty.</div>
</li> <li>
<code>guid</code><span class="type">string</span><div class="desc">Global Unique ID for referencing the post. Default empty.</div>
</li> <li>
<code>import_id</code><span class="type">int</span><div class="desc">The post ID to be used when inserting a new post.<br> If specified, must not match any existing post ID. Default 0.</div>
</li> <li>
<code>post_category</code><span class="type">int[]</span><div class="desc">Array of category IDs.<br> Defaults to value of the <code>'default_category'</code> option.</div>
</li> <li>
<code>tags_input</code><span class="type">array</span><div class="desc">Array of tag names, slugs, or IDs. Default empty.</div>
</li> <li>
<code>tax_input</code><span class="type">array</span><div class="desc">An array of taxonomy terms keyed by their taxonomy name.<br> If the taxonomy is hierarchical, the term list needs to be either an array of term IDs or a comma-separated string of IDs.<br> If the taxonomy is non-hierarchical, the term list can be an array that contains term names or slugs, or a comma-separated string of names or slugs. This is because, in hierarchical taxonomy, child terms can have the same names with different parent terms, so the only way to connect them is using ID. Default empty.</div>
</li> <li>
<code>meta_input</code><span class="type">array</span><div class="desc">Array of post meta values keyed by their post meta key. Default empty.</div>
</li> <li>
<code>page_template</code><span class="type">string</span><div class="desc">Page template to use.</div>
</li> </ul> </span> </details> </div> <p class="default">Default: <code>array()</code></p> </dd> <dt> <code>$wp_error</code> <span class="type"><span class="bool">bool</span></span> <span class="required">Optional</span> </dt> <dd> <div class="desc"> <span class="description"> Whether to return a <a href="../classes/wp_error.html" rel="class">WP_Error</a> on failure. </span> </div> <p class="default">Default: <code>false</code></p> </dd> <dt> <code>$fire_after_hooks</code> <span class="type"><span class="bool">bool</span></span> <span class="required">Optional</span> </dt> <dd> <div class="desc"> <span class="description"> Whether to fire the after insert hooks. </span> </div> <p class="default">Default: <code>true</code></p> </dd> </dl> </section>  <section> <header class="toc-header"><h2 id="return">Return</h2></header> <p><span class="return-type">int|<a href="../classes/wp_error.html" rel="class">WP_Error</a></span> The post ID on success. The value 0 or <a href="../classes/wp_error.html" rel="class">WP_Error</a> on failure.</p> </section>  <section> <header class="toc-header"><h2 id="source">Source</h2></header> <p> File: <code>wp-includes/post.php</code>. <a href="https://developer.wordpress.org/reference/files/wp-includes/post.php/">View all references</a> </p> <pre class="wp-block-code" data-start="4754" aria-label="Function source code" data-language="php"><code lang="php" class="language-php line-numbers">function wp_update_post( $postarr = array(), $wp_error = false, $fire_after_hooks = true ) {
	if ( is_object( $postarr ) ) {
		// Non-escaped post was passed.
		$postarr = get_object_vars( $postarr );
		$postarr = wp_slash( $postarr );
	}

	// First, get all of the original fields.
	$post = get_post( $postarr['ID'], ARRAY_A );

	if ( is_null( $post ) ) {
		if ( $wp_error ) {
			return new WP_Error( 'invalid_post', __( 'Invalid post ID.' ) );
		}
		return 0;
	}

	// Escape data pulled from DB.
	$post = wp_slash( $post );

	// Passed post category list overwrites existing category list if not empty.
	if ( isset( $postarr['post_category'] ) &amp;&amp; is_array( $postarr['post_category'] )
		&amp;&amp; count( $postarr['post_category'] ) &gt; 0
	) {
		$post_cats = $postarr['post_category'];
	} else {
		$post_cats = $post['post_category'];
	}

	// Drafts shouldn't be assigned a date unless explicitly done so by the user.
	if ( isset( $post['post_status'] )
		&amp;&amp; in_array( $post['post_status'], array( 'draft', 'pending', 'auto-draft' ), true )
		&amp;&amp; empty( $postarr['edit_date'] ) &amp;&amp; ( '0000-00-00 00:00:00' === $post['post_date_gmt'] )
	) {
		$clear_date = true;
	} else {
		$clear_date = false;
	}

	// Merge old and new fields with new fields overwriting old ones.
	$postarr                  = array_merge( $post, $postarr );
	$postarr['post_category'] = $post_cats;
	if ( $clear_date ) {
		$postarr['post_date']     = current_time( 'mysql' );
		$postarr['post_date_gmt'] = '';
	}

	if ( 'attachment' === $postarr['post_type'] ) {
		return wp_insert_attachment( $postarr, false, 0, $wp_error );
	}

	// Discard 'tags_input' parameter if it's the same as existing post tags.
	if ( isset( $postarr['tags_input'] ) &amp;&amp; is_object_in_taxonomy( $postarr['post_type'], 'post_tag' ) ) {
		$tags      = get_the_terms( $postarr['ID'], 'post_tag' );
		$tag_names = array();

		if ( $tags &amp;&amp; ! is_wp_error( $tags ) ) {
			$tag_names = wp_list_pluck( $tags, 'name' );
		}

		if ( $postarr['tags_input'] === $tag_names ) {
			unset( $postarr['tags_input'] );
		}
	}

	return wp_insert_post( $postarr, $wp_error, $fire_after_hooks );
}
</code></pre>  </section>  <section> <header class="toc-header"><h2 id="related">Related</h2></header> <article class="uses"> <header class="toc-header"><h3 id="uses">Uses</h3></header> <table id="uses-table" data-show="5">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="get_the_terms.html">get_the_terms()</a> <span>wp-includes/category-template.php</span> </td> <td class="related-desc"> <p>Retrieves the terms of the taxonomy that are attached to the post.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_list_pluck.html">wp_list_pluck()</a> <span>wp-includes/functions.php</span> </td> <td class="related-desc"> <p>Plucks a certain field out of each object or array in an array.</p> </td> </tr> <tr> <td class="related-title"> <a href="current_time.html">current_time()</a> <span>wp-includes/functions.php</span> </td> <td class="related-desc"> <p>Retrieves the current time based on specified type.</p> </td> </tr> <tr> <td class="related-title"> <a href="is_object_in_taxonomy.html">is_object_in_taxonomy()</a> <span>wp-includes/taxonomy.php</span> </td> <td class="related-desc"> <p>Determines if the given object type is associated with the given taxonomy.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_insert_attachment.html">wp_insert_attachment()</a> <span>wp-includes/post.php</span> </td> <td class="related-desc"> <p>Inserts an attachment.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_insert_post.html">wp_insert_post()</a> <span>wp-includes/post.php</span> </td> <td class="related-desc"> <p>Inserts or update a post.</p> </td> </tr> <tr> <td class="related-title"> <a href="__.html">__()</a> <span>wp-includes/l10n.php</span> </td> <td class="related-desc"> <p>Retrieves the translation of $text.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_slash.html">wp_slash()</a> <span>wp-includes/formatting.php</span> </td> <td class="related-desc"> <p>Adds slashes to a string or recursively adds slashes to strings within an array.</p> </td> </tr> <tr> <td class="related-title"> <a href="get_post.html">get_post()</a> <span>wp-includes/post.php</span> </td> <td class="related-desc"> <p>Retrieves post data given a post ID or post object.</p> </td> </tr> <tr> <td class="related-title"> <a href="is_wp_error.html">is_wp_error()</a> <span>wp-includes/load.php</span> </td> <td class="related-desc"> <p>Checks whether the given variable is a WordPress Error.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_error/__construct.html">WP_Error::__construct()</a> <span>wp-includes/class-wp-error.php</span> </td> <td class="related-desc"> <p>Initializes the error.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <header class="toc-header"><h3 id="used-by">Used By</h3></header> <table id="used-by-table" data-show="5">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="../classes/wp_rest_global_styles_controller/update_item.html">WP_REST_Global_Styles_Controller::update_item()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-global-styles-controller.php</span> </td> <td class="related-desc"> <p>Updates a single global style config.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_set_unique_slug_on_create_template_part.html">wp_set_unique_slug_on_create_template_part()</a> <span>wp-includes/theme-templates.php</span> </td> <td class="related-desc"> <p>Sets a custom slug when creating auto-draft template parts.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_templates_controller/update_item.html">WP_REST_Templates_Controller::update_item()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-templates-controller.php</span> </td> <td class="related-desc"> <p>Updates a single template.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_autosaves_controller/create_item.html">WP_REST_Autosaves_Controller::create_item()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-autosaves-controller.php</span> </td> <td class="related-desc"> <p>Creates, updates or deletes an autosave revision.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_autosaves_controller/create_post_autosave.html">WP_REST_Autosaves_Controller::create_post_autosave()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-autosaves-controller.php</span> </td> <td class="related-desc"> <p>Creates autosave for the specified post.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_generate_user_request_key.html">wp_generate_user_request_key()</a> <span>wp-includes/user.php</span> </td> <td class="related-desc"> <p>Returns a confirmation key for a user action and stores the hashed version for future comparison.</p> </td> </tr> <tr> <td class="related-title"> <a href="_wp_privacy_account_request_confirmed.html">_wp_privacy_account_request_confirmed()</a> <span>wp-includes/user.php</span> </td> <td class="related-desc"> <p>Updates log when privacy request is confirmed.</p> </td> </tr> <tr> <td class="related-title"> <a href="_wp_privacy_completed_request.html">_wp_privacy_completed_request()</a> <span>wp-admin/includes/privacy-tools.php</span> </td> <td class="related-desc"> <p>Marks a request as completed by the admin and logs the current timestamp.</p> </td> </tr> <tr> <td class="related-title"> <a href="_wp_personal_data_cleanup_requests.html">_wp_personal_data_cleanup_requests()</a> <span>wp-admin/includes/privacy-tools.php</span> </td> <td class="related-desc"> <p>Cleans up failed and expired requests before displaying the list table.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_customize_manager/save_changeset_post.html">WP_Customize_Manager::save_changeset_post()</a> <span>wp-includes/class-wp-customize-manager.php</span> </td> <td class="related-desc"> <p>Saves the post for the loaded changeset.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_update_custom_css_post.html">wp_update_custom_css_post()</a> <span>wp-includes/theme.php</span> </td> <td class="related-desc"> <p>Updates the <code>custom_css</code> post for a given theme.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_rest_posts_controller/update_item.html">WP_REST_Posts_Controller::update_item()</a> <span>wp-includes/rest-api/endpoints/class-wp-rest-posts-controller.php</span> </td> <td class="related-desc"> <p>Updates a single post.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_customize_nav_menus/save_nav_menus_created_posts.html">WP_Customize_Nav_Menus::save_nav_menus_created_posts()</a> <span>wp-includes/class-wp-customize-nav-menus.php</span> </td> <td class="related-desc"> <p>Publishes the auto-draft posts that were created for nav menu items.</p> </td> </tr> <tr> <td class="related-title"> <a href="media_upload_form_handler.html">media_upload_form_handler()</a> <span>wp-admin/includes/media.php</span> </td> <td class="related-desc"> <p>Handles form submissions for the legacy media uploader.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_create_post_autosave.html">wp_create_post_autosave()</a> <span>wp-admin/includes/post.php</span> </td> <td class="related-desc"> <p>Creates autosave data for the specified post from <code>$_POST</code> data.</p> </td> </tr> <tr> <td class="related-title"> <a href="_fix_attachment_links.html">_fix_attachment_links()</a> <span>wp-admin/includes/post.php</span> </td> <td class="related-desc"> <p>Replaces hrefs of attachment anchors with up-to-date permalinks.</p> </td> </tr> <tr> <td class="related-title"> <a href="edit_post.html">edit_post()</a> <span>wp-admin/includes/post.php</span> </td> <td class="related-desc"> <p>Updates an existing post with values provided in <code>$_POST</code>.</p> </td> </tr> <tr> <td class="related-title"> <a href="bulk_edit_posts.html">bulk_edit_posts()</a> <span>wp-admin/includes/post.php</span> </td> <td class="related-desc"> <p>Processes the post data for the bulk editing of posts.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_ajax_save_attachment_order.html">wp_ajax_save_attachment_order()</a> <span>wp-admin/includes/ajax-actions.php</span> </td> <td class="related-desc"> <p>Ajax handler for saving the attachment order.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_ajax_send_attachment_to_editor.html">wp_ajax_send_attachment_to_editor()</a> <span>wp-admin/includes/ajax-actions.php</span> </td> <td class="related-desc"> <p>Ajax handler for sending an attachment to the editor.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_ajax_save_attachment.html">wp_ajax_save_attachment()</a> <span>wp-admin/includes/ajax-actions.php</span> </td> <td class="related-desc"> <p>Ajax handler for updating attachment attributes.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_ajax_save_attachment_compat.html">wp_ajax_save_attachment_compat()</a> <span>wp-admin/includes/ajax-actions.php</span> </td> <td class="related-desc"> <p>Ajax handler for saving backward compatible attachment attributes.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_embed/shortcode.html">WP_Embed::shortcode()</a> <span>wp-includes/class-wp-embed.php</span> </td> <td class="related-desc"> <p>The <a href="do_shortcode.html" rel="function">do_shortcode()</a> callback function.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_check_post_hierarchy_for_loops.html">wp_check_post_hierarchy_for_loops()</a> <span>wp-includes/post.php</span> </td> <td class="related-desc"> <p>Checks the given subset of the post hierarchy for hierarchy loops.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_trash_post.html">wp_trash_post()</a> <span>wp-includes/post.php</span> </td> <td class="related-desc"> <p>Moves a post or page to the Trash</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_untrash_post.html">wp_untrash_post()</a> <span>wp-includes/post.php</span> </td> <td class="related-desc"> <p>Restores a post from the Trash.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_restore_post_revision.html">wp_restore_post_revision()</a> <span>wp-includes/revision.php</span> </td> <td class="related-desc"> <p>Restores a post to the specified revision.</p> </td> </tr> <tr> <td class="related-title"> <a href="wp_update_nav_menu_item.html">wp_update_nav_menu_item()</a> <span>wp-includes/nav-menu.php</span> </td> <td class="related-desc"> <p>Saves the properties of a menu item or create a new one.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_xmlrpc_server/mt_publishpost.html">wp_xmlrpc_server::mt_publishPost()</a> <span>wp-includes/class-wp-xmlrpc-server.php</span> </td> <td class="related-desc"> <p>Sets a post’s publish status to ‘publish’.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_xmlrpc_server/mw_editpost.html">wp_xmlrpc_server::mw_editPost()</a> <span>wp-includes/class-wp-xmlrpc-server.php</span> </td> <td class="related-desc"> <p>Edit a post.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_xmlrpc_server/blogger_editpost.html">wp_xmlrpc_server::blogger_editPost()</a> <span>wp-includes/class-wp-xmlrpc-server.php</span> </td> <td class="related-desc"> <p>Edit a post.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_xmlrpc_server/_insert_post.html">wp_xmlrpc_server::_insert_post()</a> <span>wp-includes/class-wp-xmlrpc-server.php</span> </td> <td class="related-desc"> <p>Helper method for wp_newPost() and wp_editPost(), containing shared logic.</p> </td> </tr> </tbody>

</table>   </article> </section>  <section> <header class="toc-header"><h2 id="changelog">Changelog</h2></header> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/5.6.0/" alt="WordPress 5.6.0">5.6.0</a></td> <td><span class="since-description">Added the <code>$fire_after_hooks</code> parameter.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/3.5.0/" alt="WordPress 3.5.0">3.5.0</a></td> <td><span class="since-description">Added the <code>$wp_error</code> parameter to allow a <a href="../classes/wp_error.html" rel="class">WP_Error</a> to be returned on failure.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/1.0.0/" alt="WordPress 1.0.0">1.0.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2022 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/wp_update_post" class="_attribution-link">https://developer.wordpress.org/reference/functions/wp_update_post</a>
  </p>
</div>
