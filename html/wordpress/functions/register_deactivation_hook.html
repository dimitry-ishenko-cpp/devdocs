<h1>register_deactivation_hook( string $file, callable $callback )</h1>  <section> <p>Sets the deactivation hook for a plugin.</p> </section>   <section> <header class="toc-header"><h2 id="description">Description</h2></header> <p>When a plugin is deactivated, the action ‘deactivate_PLUGINNAME’ hook is called. In the name of this hook, PLUGINNAME is replaced with the name of the plugin, including the optional subdirectory. For example, when the plugin is located in wp-content/plugins/sampleplugin/sample.php, then the name of this hook will become ‘deactivate_sampleplugin/sample.php’.</p> <p>When the plugin consists of only one file and is (as by default) located at wp-content/plugins/sample.php the name of this hook will be ‘deactivate_sample.php’.</p> </section>  <section> <header class="toc-header"><h2 id="parameters">Parameters</h2></header> <dl> <dt> <code>$file</code> <span class="type"><span class="string">string</span></span> <span class="required">Required</span> </dt> <dd> <div class="desc"> <span class="description">The filename of the plugin including the path.</span> </div> </dd> <dt> <code>$callback</code> <span class="type"><span class="callable">callable</span></span> <span class="required">Required</span> </dt> <dd> <div class="desc"> <span class="description">The function hooked to the <code>'deactivate_PLUGIN'</code> action.</span> </div> </dd> </dl> </section>  <section> <header class="toc-header"><h2 id="source">Source</h2></header> <p> File: <code>wp-includes/plugin.php</code>. <a href="https://developer.wordpress.org/reference/files/wp-includes/plugin.php/">View all references</a> </p> <pre class="wp-block-code" data-start="891" aria-label="Function source code" data-language="php"><code lang="php" class="language-php line-numbers">function register_deactivation_hook( $file, $callback ) {
	$file = plugin_basename( $file );
	add_action( 'deactivate_' . $file, $callback );
}
</code></pre>  </section>  <section> <header class="toc-header"><h2 id="related">Related</h2></header> <article class="uses"> <header class="toc-header"><h3 id="uses">Uses</h3></header> <table id="uses-table" data-show="2">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="plugin_basename.html">plugin_basename()</a> <span>wp-includes/plugin.php</span> </td> <td class="related-desc"> <p>Gets the basename of a plugin.</p> </td> </tr> <tr> <td class="related-title"> <a href="add_action.html">add_action()</a> <span>wp-includes/plugin.php</span> </td> <td class="related-desc"> <p>Adds a callback function to an action hook.</p> </td> </tr> </tbody>

</table> </article> </section>  <section> <header class="toc-header"><h2 id="changelog">Changelog</h2></header> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/2.0.0/" alt="WordPress 2.0.0">2.0.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2022 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/register_deactivation_hook" class="_attribution-link">https://developer.wordpress.org/reference/functions/register_deactivation_hook</a>
  </p>
</div>
