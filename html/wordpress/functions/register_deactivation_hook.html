<h1 class="wp-block-wporg-code-reference-title">register_deactivation_hook( <span class="arg-type">string</span> <span class="arg-name">$file</span>, <span class="arg-type">callable</span> <span class="arg-name">$callback</span> )</h1> <section><p>Sets the deactivation hook for a plugin.</p> </section> <section><h2 id="description">Description</h2> <p>When a plugin is deactivated, the action ‘deactivate_PLUGINNAME’ hook is called. In the name of this hook, PLUGINNAME is replaced with the name of the plugin, including the optional subdirectory. For example, when the plugin is located in wp-content/plugins/sampleplugin/sample.php, then the name of this hook will become ‘deactivate_sampleplugin/sample.php’.</p> <p>When the plugin consists of only one file and is (as by default) located at wp-content/plugins/sample.php the name of this hook will be ‘deactivate_sample.php’.</p> </section> <section><h2 id="parameters">Parameters</h2> <dl>
<dt>
<code>$file</code><span class="type"><span class="string">string</span></span><span class="required">required</span>
</dt>
<dd><div class="desc"><span class="description">The filename of the plugin including the path.</span></div></dd>
<dt>
<code>$callback</code><span class="type"><span class="callable">callable</span></span><span class="required">required</span>
</dt>
<dd><div class="desc"><span class="description">The function hooked to the <code>'deactivate_PLUGIN'</code> action.</span></div></dd>
</dl></section> <section><h2 id="source">Source</h2> <pre class="wp-block-code" data-start="892" aria-label="Function source code" data-language="php"><code id="wporg-source-code" lang="php" class="language-php line-numbers">function register_deactivation_hook( $file, $callback ) {
	$file = plugin_basename( $file );
	add_action( 'deactivate_' . $file, $callback );
}
</code></pre>
<p class="wporg-dot-link-list"><a href="https://developer.wordpress.org/reference/files/wp-includes/plugin.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/plugin.php#L892">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/plugin.php#L892-L895">View on GitHub</a></p></section>  <section><h2 id="changelog">Changelog</h2> <section style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table "><table>
<thead><tr>
<th scope="col">Version</th>
<th scope="col">Description</th>
</tr></thead>
<tbody><tr class="">
<td><a href="https://developer.wordpress.org/reference/since/2.0.0/">2.0.0</a></td>
<td>Introduced.</td>
</tr></tbody>
</table></figure></section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2024 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/register_deactivation_hook" class="_attribution-link">https://developer.wordpress.org/reference/functions/register_deactivation_hook</a>
  </p>
</div>
