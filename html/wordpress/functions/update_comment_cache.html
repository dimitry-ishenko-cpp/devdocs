<h1>update_comment_cache( WP_Comment[] $comments, bool $update_meta_cache = true )</h1>  <section> <p>Updates the comment cache of given comments.</p> </section>   <section> <header class="toc-header"><h2 id="description">Description</h2></header> <p>Will add the comments in $comments to the cache. If comment ID already exists in the comment cache then it will not be updated. The comment is added to the cache using the comment group with the key using the ID of the comments.</p> </section>  <section> <header class="toc-header"><h2 id="parameters">Parameters</h2></header> <dl> <dt> <code>$comments</code> <span class="type"><span class="WP_Comment[]"><a href="../classes/wp_comment.html" rel="class">WP_Comment</a>[]</span></span> <span class="required">Required</span> </dt> <dd> <div class="desc"> <span class="description">Array of comment objects</span> </div> </dd> <dt> <code>$update_meta_cache</code> <span class="type"><span class="bool">bool</span></span> <span class="required">Optional</span> </dt> <dd> <div class="desc"> <span class="description">Whether to update commentmeta cache. </span> </div> <p class="default">Default: <code>true</code></p> </dd> </dl> </section>  <section> <header class="toc-header"><h2 id="source">Source</h2></header> <p> File: <code>wp-includes/comment.php</code>. <a href="https://developer.wordpress.org/reference/files/wp-includes/comment.php/">View all references</a> </p> <pre class="wp-block-code" data-start="3301" aria-label="Function source code" data-language="php"><code lang="php" class="language-php line-numbers">function update_comment_cache( $comments, $update_meta_cache = true ) {
	$data = array();
	foreach ( (array) $comments as $comment ) {
		$data[ $comment-&gt;comment_ID ] = $comment;
	}
	wp_cache_add_multiple( $data, 'comment' );

	if ( $update_meta_cache ) {
		// Avoid `wp_list_pluck()` in case `$comments` is passed by reference.
		$comment_ids = array();
		foreach ( $comments as $comment ) {
			$comment_ids[] = $comment-&gt;comment_ID;
		}
		update_meta_cache( 'comment', $comment_ids );
	}
}
</code></pre>  </section>  <section> <header class="toc-header"><h2 id="related">Related</h2></header> <article class="uses"> <header class="toc-header"><h3 id="uses">Uses</h3></header> <table id="uses-table" data-show="2">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="wp_cache_add_multiple.html">wp_cache_add_multiple()</a> <span>wp-includes/cache.php</span> </td> <td class="related-desc"> <p>Adds multiple values to the cache in one call.</p> </td> </tr> <tr> <td class="related-title"> <a href="update_meta_cache.html">update_meta_cache()</a> <span>wp-includes/meta.php</span> </td> <td class="related-desc"> <p>Updates the metadata cache for the specified objects.</p> </td> </tr> </tbody>

</table> </article> <article class="used-by"> <header class="toc-header"><h3 id="used-by">Used By</h3></header> <table id="used-by-table" data-show="5">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="_prime_comment_caches.html">_prime_comment_caches()</a> <span>wp-includes/comment.php</span> </td> <td class="related-desc"> <p>Adds any comments from the given IDs to the cache that do not already exist in cache.</p> </td> </tr> <tr> <td class="related-title"> <a href="../classes/wp_comments_list_table/prepare_items.html">WP_Comments_List_Table::prepare_items()</a> <span>wp-admin/includes/class-wp-comments-list-table.php</span> </td> <td class="related-desc"> </td> </tr> </tbody>

</table> </article> </section>  <section> <header class="toc-header"><h2 id="changelog">Changelog</h2></header> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/4.4.0/" alt="WordPress 4.4.0">4.4.0</a></td> <td><span class="since-description">Introduced the <code>$update_meta_cache</code> parameter.</span></td> </tr> <tr> <td><a href="https://developer.wordpress.org/reference/since/2.3.0/" alt="WordPress 2.3.0">2.3.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2022 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/functions/update_comment_cache" class="_attribution-link">https://developer.wordpress.org/reference/functions/update_comment_cache</a>
  </p>
</div>
