<h1>Requests_IRI::remove_dot_segments( string $input ): string</h1>  <section> <p>Remove dot segments from a path</p> </section>   <section> <header class="toc-header"><h2 id="parameters">Parameters</h2></header> <dl> <dt> <code>$input</code> <span class="type"><span class="string">string</span></span> <span class="required">Required</span> </dt>  </dl> </section>  <section> <header class="toc-header"><h2 id="return">Return</h2></header> <p><span class="return-type">string</span> </p> </section>  <section> <header class="toc-header"><h2 id="source">Source</h2></header> <p> File: <code>wp-includes/Requests/IRI.php</code>. <a href="https://developer.wordpress.org/reference/files/wp-includes/requests/iri.php/">View all references</a> </p> <pre class="wp-block-code" data-start="360" aria-label="Function source code" data-language="php"><code lang="php" class="language-php line-numbers">protected function remove_dot_segments($input) {
	$output = '';
	while (strpos($input, './') !== false || strpos($input, '/.') !== false || $input === '.' || $input === '..') {
		// A: If the input buffer begins with a prefix of "../" or "./",
		// then remove that prefix from the input buffer; otherwise,
		if (strpos($input, '../') === 0) {
			$input = substr($input, 3);
		}
		elseif (strpos($input, './') === 0) {
			$input = substr($input, 2);
		}
		// B: if the input buffer begins with a prefix of "/./" or "/.",
		// where "." is a complete path segment, then replace that prefix
		// with "/" in the input buffer; otherwise,
		elseif (strpos($input, '/./') === 0) {
			$input = substr($input, 2);
		}
		elseif ($input === '/.') {
			$input = '/';
		}
		// C: if the input buffer begins with a prefix of "/../" or "/..",
		// where ".." is a complete path segment, then replace that prefix
		// with "/" in the input buffer and remove the last segment and its
		// preceding "/" (if any) from the output buffer; otherwise,
		elseif (strpos($input, '/../') === 0) {
			$input = substr($input, 3);
			$output = substr_replace($output, '', strrpos($output, '/'));
		}
		elseif ($input === '/..') {
			$input = '/';
			$output = substr_replace($output, '', strrpos($output, '/'));
		}
		// D: if the input buffer consists only of "." or "..", then remove
		// that from the input buffer; otherwise,
		elseif ($input === '.' || $input === '..') {
			$input = '';
		}
		// E: move the first path segment in the input buffer to the end of
		// the output buffer, including the initial "/" character (if any)
		// and any subsequent characters up to, but not including, the next
		// "/" character or the end of the input buffer
		elseif (($pos = strpos($input, '/', 1)) !== false) {
			$output .= substr($input, 0, $pos);
			$input = substr_replace($input, '', 0, $pos);
		}
		else {
			$output .= $input;
			$input = '';
		}
	}
	return $output . $input;
}
</code></pre>  </section>  <section> <header class="toc-header"><h2 id="related">Related</h2></header> <article class="used-by"> <header class="toc-header"><h3 id="used-by">Used By</h3></header> <table id="used-by-table" data-show="5">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="set_path.html">Requests_IRI::set_path()</a> <span>wp-includes/Requests/IRI.php</span> </td> <td class="related-desc"> <p>Set the ipath.</p> </td> </tr> </tbody>

</table> </article> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2022 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/classes/requests_iri/remove_dot_segments" class="_attribution-link">https://developer.wordpress.org/reference/classes/requests_iri/remove_dot_segments</a>
  </p>
</div>
