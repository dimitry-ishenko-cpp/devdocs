<h1>WP_Customize_Manager::validate_setting_values( array $setting_values, array $options = array() ): array</h1>  <section> <p>Validates setting values.</p> </section>   <section> <header class="toc-header"><h2 id="description">Description</h2></header> <p>Validation is skipped for unregistered settings or for values that are already null since they will be skipped anyway. Sanitization is applied to values that pass validation, and values that become null or <code>WP_Error</code> after sanitizing are marked invalid.</p> <header class="toc-header"><h3 id="see-also">See also</h3></header> <ul> <li><a href="../wp_rest_request/has_valid_params.html">WP_REST_Request::has_valid_params()</a></li> <li><a href="../wp_customize_setting/validate.html">WP_Customize_Setting::validate()</a></li> </ul> </section>  <section> <header class="toc-header"><h2 id="parameters">Parameters</h2></header> <dl> <dt> <code>$setting_values</code> <span class="type"><span class="array">array</span></span> <span class="required">Required</span> </dt> <dd> <div class="desc"> <span class="description">Mapping of setting IDs to values to validate and sanitize.</span> </div> </dd> <dt> <code>$options</code> <span class="type"><span class="array">array</span></span> <span class="required">Optional</span> </dt> <dd> <div class="desc"> <span class="description">Options.<br> <ul class="param-hash">
<li>
<code>validate_existence</code><span class="type">bool</span><div class="desc">Whether a setting's existence will be checked.</div>
</li> <li>
<code>validate_capability</code><span class="type">bool</span><div class="desc">Whether the setting capability will be checked.</div>
</li> </ul> </span> </div> <p class="default">Default: <code>array()</code></p> </dd> </dl> </section>  <section> <header class="toc-header"><h2 id="return">Return</h2></header> <p><span class="return-type">array</span> Mapping of setting IDs to return value of validate method calls, either <code>true</code> or <code>WP_Error</code>.</p> </section>  <section> <header class="toc-header"><h2 id="source">Source</h2></header> <p> File: <code>wp-includes/class-wp-customize-manager.php</code>. <a href="https://developer.wordpress.org/reference/files/wp-includes/class-wp-customize-manager.php/">View all references</a> </p> <pre class="wp-block-code" data-start="2338" aria-label="Function source code" data-language="php"><code lang="php" class="language-php line-numbers">public function validate_setting_values( $setting_values, $options = array() ) {
	$options = wp_parse_args(
		$options,
		array(
			'validate_capability' =&gt; false,
			'validate_existence'  =&gt; false,
		)
	);

	$validities = array();
	foreach ( $setting_values as $setting_id =&gt; $unsanitized_value ) {
		$setting = $this-&gt;get_setting( $setting_id );
		if ( ! $setting ) {
			if ( $options['validate_existence'] ) {
				$validities[ $setting_id ] = new WP_Error( 'unrecognized', __( 'Setting does not exist or is unrecognized.' ) );
			}
			continue;
		}
		if ( $options['validate_capability'] &amp;&amp; ! current_user_can( $setting-&gt;capability ) ) {
			$validity = new WP_Error( 'unauthorized', __( 'Unauthorized to modify setting due to capability.' ) );
		} else {
			if ( is_null( $unsanitized_value ) ) {
				continue;
			}
			$validity = $setting-&gt;validate( $unsanitized_value );
		}
		if ( ! is_wp_error( $validity ) ) {
			/** This filter is documented in wp-includes/class-wp-customize-setting.php */
			$late_validity = apply_filters( "customize_validate_{$setting-&gt;id}", new WP_Error(), $unsanitized_value, $setting );
			if ( is_wp_error( $late_validity ) &amp;&amp; $late_validity-&gt;has_errors() ) {
				$validity = $late_validity;
			}
		}
		if ( ! is_wp_error( $validity ) ) {
			$value = $setting-&gt;sanitize( $unsanitized_value );
			if ( is_null( $value ) ) {
				$validity = false;
			} elseif ( is_wp_error( $value ) ) {
				$validity = $value;
			}
		}
		if ( false === $validity ) {
			$validity = new WP_Error( 'invalid_value', __( 'Invalid value.' ) );
		}
		$validities[ $setting_id ] = $validity;
	}
	return $validities;
}
</code></pre>  </section>  <section> <header class="toc-header"><h2 id="related">Related</h2></header> <article class="uses"> <header class="toc-header"><h3 id="uses">Uses</h3></header> <table id="uses-table" data-show="2">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="get_setting.html">WP_Customize_Manager::get_setting()</a> <span>wp-includes/class-wp-customize-manager.php</span> </td> <td class="related-desc"> <p>Retrieves a customize setting.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/current_user_can.html">current_user_can()</a> <span>wp-includes/capabilities.php</span> </td> <td class="related-desc"> <p>Returns whether the current user has the specified capability.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/__.html">__()</a> <span>wp-includes/l10n.php</span> </td> <td class="related-desc"> <p>Retrieves the translation of $text.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/wp_parse_args.html">wp_parse_args()</a> <span>wp-includes/functions.php</span> </td> <td class="related-desc"> <p>Merges user defined arguments into defaults array.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/apply_filters.html">apply_filters()</a> <span>wp-includes/plugin.php</span> </td> <td class="related-desc"> <p>Calls the callback functions that have been added to a filter hook.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/is_wp_error.html">is_wp_error()</a> <span>wp-includes/load.php</span> </td> <td class="related-desc"> <p>Checks whether the given variable is a WordPress Error.</p> </td> </tr> <tr> <td class="related-title"> <a href="../wp_error/__construct.html">WP_Error::__construct()</a> <span>wp-includes/class-wp-error.php</span> </td> <td class="related-desc"> <p>Initializes the error.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <header class="toc-header"><h3 id="used-by">Used By</h3></header> <table id="used-by-table" data-show="5">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="save_changeset_post.html">WP_Customize_Manager::save_changeset_post()</a> <span>wp-includes/class-wp-customize-manager.php</span> </td> <td class="related-desc"> <p>Saves the post for the loaded changeset.</p> </td> </tr> <tr> <td class="related-title"> <a href="customize_preview_settings.html">WP_Customize_Manager::customize_preview_settings()</a> <span>wp-includes/class-wp-customize-manager.php</span> </td> <td class="related-desc"> <p>Prints JavaScript settings for preview frame.</p> </td> </tr> </tbody>

</table> </article> </section>  <section> <header class="toc-header"><h2 id="changelog">Changelog</h2></header> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/4.6.0/" alt="WordPress 4.6.0">4.6.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2022 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/classes/wp_customize_manager/validate_setting_values" class="_attribution-link">https://developer.wordpress.org/reference/classes/wp_customize_manager/validate_setting_values</a>
  </p>
</div>
