<h1>WP_Query::get_queried_object(): WP_Term|WP_Post_Type|WP_Post|WP_User|null</h1>  <section> <p>Retrieves the currently queried object.</p> </section>   <section> <header class="toc-header"><h2 id="description">Description</h2></header> <p>If queried object is not set, then the queried object will be set from the category, tag, taxonomy, posts page, single post, page, or author query variable. After it is set up, it will be returned.</p> </section>  <section> <header class="toc-header"><h2 id="return">Return</h2></header> <p><span class="return-type"><a href="../wp_term.html" rel="class">WP_Term</a>|<a href="../wp_post_type.html" rel="class">WP_Post_Type</a>|<a href="../wp_post.html" rel="class">WP_Post</a>|<a href="../wp_user.html" rel="class">WP_User</a>|null</span> The queried object.</p> </section>  <section> <header class="toc-header"><h2 id="source">Source</h2></header> <p> File: <code>wp-includes/class-wp-query.php</code>. <a href="https://developer.wordpress.org/reference/files/wp-includes/class-wp-query.php/">View all references</a> </p> <pre class="wp-block-code" data-start="3740" aria-label="Function source code" data-language="php"><code lang="php" class="language-php line-numbers">public function get_queried_object() {
	if ( isset( $this-&gt;queried_object ) ) {
		return $this-&gt;queried_object;
	}

	$this-&gt;queried_object    = null;
	$this-&gt;queried_object_id = null;

	if ( $this-&gt;is_category || $this-&gt;is_tag || $this-&gt;is_tax ) {
		if ( $this-&gt;is_category ) {
			$cat           = $this-&gt;get( 'cat' );
			$category_name = $this-&gt;get( 'category_name' );

			if ( $cat ) {
				$term = get_term( $cat, 'category' );
			} elseif ( $category_name ) {
				$term = get_term_by( 'slug', $category_name, 'category' );
			}
		} elseif ( $this-&gt;is_tag ) {
			$tag_id = $this-&gt;get( 'tag_id' );
			$tag    = $this-&gt;get( 'tag' );

			if ( $tag_id ) {
				$term = get_term( $tag_id, 'post_tag' );
			} elseif ( $tag ) {
				$term = get_term_by( 'slug', $tag, 'post_tag' );
			}
		} else {
			// For other tax queries, grab the first term from the first clause.
			if ( ! empty( $this-&gt;tax_query-&gt;queried_terms ) ) {
				$queried_taxonomies = array_keys( $this-&gt;tax_query-&gt;queried_terms );
				$matched_taxonomy   = reset( $queried_taxonomies );
				$query              = $this-&gt;tax_query-&gt;queried_terms[ $matched_taxonomy ];

				if ( ! empty( $query['terms'] ) ) {
					if ( 'term_id' === $query['field'] ) {
						$term = get_term( reset( $query['terms'] ), $matched_taxonomy );
					} else {
						$term = get_term_by( $query['field'], reset( $query['terms'] ), $matched_taxonomy );
					}
				}
			}
		}

		if ( ! empty( $term ) &amp;&amp; ! is_wp_error( $term ) ) {
			$this-&gt;queried_object    = $term;
			$this-&gt;queried_object_id = (int) $term-&gt;term_id;

			if ( $this-&gt;is_category &amp;&amp; 'category' === $this-&gt;queried_object-&gt;taxonomy ) {
				_make_cat_compat( $this-&gt;queried_object );
			}
		}
	} elseif ( $this-&gt;is_post_type_archive ) {
		$post_type = $this-&gt;get( 'post_type' );

		if ( is_array( $post_type ) ) {
			$post_type = reset( $post_type );
		}

		$this-&gt;queried_object = get_post_type_object( $post_type );
	} elseif ( $this-&gt;is_posts_page ) {
		$page_for_posts = get_option( 'page_for_posts' );

		$this-&gt;queried_object    = get_post( $page_for_posts );
		$this-&gt;queried_object_id = (int) $this-&gt;queried_object-&gt;ID;
	} elseif ( $this-&gt;is_singular &amp;&amp; ! empty( $this-&gt;post ) ) {
		$this-&gt;queried_object    = $this-&gt;post;
		$this-&gt;queried_object_id = (int) $this-&gt;post-&gt;ID;
	} elseif ( $this-&gt;is_author ) {
		$author      = (int) $this-&gt;get( 'author' );
		$author_name = $this-&gt;get( 'author_name' );

		if ( $author ) {
			$this-&gt;queried_object_id = $author;
		} elseif ( $author_name ) {
			$user = get_user_by( 'slug', $author_name );

			if ( $user ) {
				$this-&gt;queried_object_id = $user-&gt;ID;
			}
		}

		$this-&gt;queried_object = get_userdata( $this-&gt;queried_object_id );
	}

	return $this-&gt;queried_object;
}
</code></pre>  </section>  <section> <header class="toc-header"><h2 id="related">Related</h2></header> <article class="uses"> <header class="toc-header"><h3 id="uses">Uses</h3></header> <table id="uses-table" data-show="4">  <thead> <tr> <th>Uses</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="../../functions/get_user_by.html">get_user_by()</a> <span>wp-includes/pluggable.php</span> </td> <td class="related-desc"> <p>Retrieves user info by a given field.</p> </td> </tr> <tr> <td class="related-title"> <a href="get.html">WP_Query::get()</a> <span>wp-includes/class-wp-query.php</span> </td> <td class="related-desc"> <p>Retrieves the value of a query variable.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/_make_cat_compat.html">_make_cat_compat()</a> <span>wp-includes/category.php</span> </td> <td class="related-desc"> <p>Updates category structure to old pre-2.3 from new taxonomy structure.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/get_term_by.html">get_term_by()</a> <span>wp-includes/taxonomy.php</span> </td> <td class="related-desc"> <p>Gets all term data from database by term field and data.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/get_userdata.html">get_userdata()</a> <span>wp-includes/pluggable.php</span> </td> <td class="related-desc"> <p>Retrieves user info by user ID.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/get_term.html">get_term()</a> <span>wp-includes/taxonomy.php</span> </td> <td class="related-desc"> <p>Gets all term data from database by term ID.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/get_option.html">get_option()</a> <span>wp-includes/option.php</span> </td> <td class="related-desc"> <p>Retrieves an option value based on an option name.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/get_post_type_object.html">get_post_type_object()</a> <span>wp-includes/post.php</span> </td> <td class="related-desc"> <p>Retrieves a post type object by name.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/get_post.html">get_post()</a> <span>wp-includes/post.php</span> </td> <td class="related-desc"> <p>Retrieves post data given a post ID or post object.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/is_wp_error.html">is_wp_error()</a> <span>wp-includes/load.php</span> </td> <td class="related-desc"> <p>Checks whether the given variable is a WordPress Error.</p> </td> </tr> </tbody>

</table>   </article>  <article class="used-by"> <header class="toc-header"><h3 id="used-by">Used By</h3></header> <table id="used-by-table" data-show="5">  <thead> <tr> <th>Used By</th> <th class="related-desc">Description</th> </tr> </thead> <tbody> <tr> <td class="related-title"> <a href="is_page.html">WP_Query::is_page()</a> <span>wp-includes/class-wp-query.php</span> </td> <td class="related-desc"> <p>Is the query for an existing single page?</p> </td> </tr> <tr> <td class="related-title"> <a href="is_single.html">WP_Query::is_single()</a> <span>wp-includes/class-wp-query.php</span> </td> <td class="related-desc"> <p>Is the query for an existing single post?</p> </td> </tr> <tr> <td class="related-title"> <a href="is_singular.html">WP_Query::is_singular()</a> <span>wp-includes/class-wp-query.php</span> </td> <td class="related-desc"> <p>Is the query for an existing single post of any post type (post, attachment, page, custom post types)?</p> </td> </tr> <tr> <td class="related-title"> <a href="get_queried_object_id.html">WP_Query::get_queried_object_id()</a> <span>wp-includes/class-wp-query.php</span> </td> <td class="related-desc"> <p>Retrieves the ID of the currently queried object.</p> </td> </tr> <tr> <td class="related-title"> <a href="is_attachment.html">WP_Query::is_attachment()</a> <span>wp-includes/class-wp-query.php</span> </td> <td class="related-desc"> <p>Is the query for an existing attachment page?</p> </td> </tr> <tr> <td class="related-title"> <a href="is_author.html">WP_Query::is_author()</a> <span>wp-includes/class-wp-query.php</span> </td> <td class="related-desc"> <p>Is the query for an existing author archive page?</p> </td> </tr> <tr> <td class="related-title"> <a href="is_category.html">WP_Query::is_category()</a> <span>wp-includes/class-wp-query.php</span> </td> <td class="related-desc"> <p>Is the query for an existing category archive page?</p> </td> </tr> <tr> <td class="related-title"> <a href="is_tag.html">WP_Query::is_tag()</a> <span>wp-includes/class-wp-query.php</span> </td> <td class="related-desc"> <p>Is the query for an existing tag archive page?</p> </td> </tr> <tr> <td class="related-title"> <a href="is_tax.html">WP_Query::is_tax()</a> <span>wp-includes/class-wp-query.php</span> </td> <td class="related-desc"> <p>Is the query for an existing custom taxonomy archive page?</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/get_queried_object.html">get_queried_object()</a> <span>wp-includes/query.php</span> </td> <td class="related-desc"> <p>Retrieves the currently queried object.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/_wp_menu_item_classes_by_context.html">_wp_menu_item_classes_by_context()</a> <span>wp-includes/nav-menu-template.php</span> </td> <td class="related-desc"> <p>Adds the class property classes for the current context, if applicable.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/get_body_class.html">get_body_class()</a> <span>wp-includes/post-template.php</span> </td> <td class="related-desc"> <p>Retrieves an array of the class names for the body element.</p> </td> </tr> <tr> <td class="related-title"> <a href="../../functions/redirect_canonical.html">redirect_canonical()</a> <span>wp-includes/canonical.php</span> </td> <td class="related-desc"> <p>Redirects incoming links to the proper URL based on the site url.</p> </td> </tr> </tbody>

</table>   </article> </section>  <section> <header class="toc-header"><h2 id="changelog">Changelog</h2></header> <table>  <thead> <tr> <th class="changelog-version">Version</th> <th class="changelog-desc">Description</th> </tr> </thead> <tbody> <tr> <td><a href="https://developer.wordpress.org/reference/since/1.5.0/" alt="WordPress 1.5.0">1.5.0</a></td> <td>Introduced.</td> </tr> </tbody> </table> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2022 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/classes/wp_query/get_queried_object" class="_attribution-link">https://developer.wordpress.org/reference/classes/wp_query/get_queried_object</a>
  </p>
</div>
