<h1 class="wp-block-wporg-code-reference-title">WP_Query::parse_query( <span class="arg-type">string|array</span> <span class="arg-name">$query</span> = <span class="arg-default">”</span> )</h1> <section><p>Parses a query string and sets query type booleans.</p> </section> <section><h2 id="parameters">Parameters</h2> <dl>
<dt>
<code>$query</code><span class="type"><span class="string">string</span>|<span class="array">array</span></span><span class="required">optional</span>
</dt>
<dd>
<div class="desc"><span class="description">Array or string of Query parameters.<br> <ul class="param-hash">
<li>
<code>attachment_id</code> <span class="type">int</span><div class="desc">Attachment post ID. Used for <code>'attachment'</code> post_type.</div>
</li> <li>
<code>author</code> <span class="type">int|string</span><div class="desc">Author ID, or comma-separated list of IDs.</div>
</li> <li>
<code>author_name</code> <span class="type">string</span><div class="desc">User <code>'user_nicename'</code>.</div>
</li> <li>
<code>author__in</code> <span class="type">int[]</span><div class="desc">An array of author IDs to query from.</div>
</li> <li>
<code>author__not_in</code> <span class="type">int[]</span><div class="desc">An array of author IDs not to query from.</div>
</li> <li>
<code>cache_results</code> <span class="type">bool</span><div class="desc">Whether to cache post information. Default true.</div>
</li> <li>
<code>cat</code> <span class="type">int|string</span><div class="desc">Category ID or comma-separated list of IDs (this or any children).</div>
</li> <li>
<code>category__and</code> <span class="type">int[]</span><div class="desc">An array of category IDs (AND in).</div>
</li> <li>
<code>category__in</code> <span class="type">int[]</span><div class="desc">An array of category IDs (OR in, no children).</div>
</li> <li>
<code>category__not_in</code> <span class="type">int[]</span><div class="desc">An array of category IDs (NOT in).</div>
</li> <li>
<code>category_name</code> <span class="type">string</span><div class="desc">Use category slug (not name, this or any children).</div>
</li> <li>
<code>comment_count</code> <span class="type">array|int</span><div class="desc">Filter results by comment count. Provide an integer to match comment count exactly. Provide an array with integer <code>'value'</code> and <code>'compare'</code> operator (<code>'='</code>, <code>'!='</code>, <code>'&gt;'</code>, <code>'&gt;='</code>, <code>'&lt;'</code>, <code>'&lt;='</code> ) to compare against comment_count in a specific way.</div>
</li> <li>
<code>comment_status</code> <span class="type">string</span><div class="desc">Comment status.</div>
</li> <li>
<code>comments_per_page</code> <span class="type">int</span><div class="desc">The number of comments to return per page.<br> Default <code>'comments_per_page'</code> option.</div>
</li> <li>
<code>date_query</code> <span class="type">array</span><div class="desc">An associative array of <a href="../wp_date_query.html" rel="class">WP_Date_Query</a> arguments.<br> See WP_Date_Query::__construct().</div>
</li> <li>
<code>day</code> <span class="type">int</span><div class="desc">Day of the month. Accepts numbers 1-31.</div>
</li> <li>
<code>exact</code> <span class="type">bool</span><div class="desc">Whether to search by exact keyword. Default false.</div>
</li> <li>
<code>fields</code> <span class="type">string</span><div class="desc">Post fields to query for. Accepts:<br> <ul>
<li>
<code>''</code> Returns an array of complete post objects (<code>WP_Post[]</code>).</li> <li>
<code>'ids'</code> Returns an array of post IDs (<code>int[]</code>).</li> <li>
<code>'id=&gt;parent'</code> Returns an associative array of parent post IDs, keyed by post ID (<code>int[]</code>).</li>
</ul> Default <code>''</code>.</div>
</li> <li>
<code>hour</code> <span class="type">int</span><div class="desc">Hour of the day. Accepts numbers 0-23.</div>
</li> <li>
<code>ignore_sticky_posts</code> <span class="type">int|bool</span><div class="desc">Whether to ignore sticky posts or not. Setting this to false excludes stickies from <code>'post__in'</code>. Accepts <code>1|true</code>, <code>0|false</code>.<br> Default false.</div>
</li> <li>
<code>m</code> <span class="type">int</span><div class="desc">Combination YearMonth. Accepts any four-digit year and month numbers 01-12. </div>
</li> <li>
<code>meta_key</code> <span class="type">string|string[]</span><div class="desc">Meta key or keys to filter by.</div>
</li> <li>
<code>meta_value</code> <span class="type">string|string[]</span><div class="desc">Meta value or values to filter by.</div>
</li> <li>
<code>meta_compare</code> <span class="type">string</span><div class="desc">MySQL operator used for comparing the meta value.<br> See WP_Meta_Query::__construct() for accepted values and default value.</div>
</li> <li>
<code>meta_compare_key</code> <span class="type">string</span><div class="desc">MySQL operator used for comparing the meta key.<br> See WP_Meta_Query::__construct() for accepted values and default value.</div>
</li> <li>
<code>meta_type</code> <span class="type">string</span><div class="desc">MySQL data type that the meta_value column will be CAST to for comparisons.<br> See WP_Meta_Query::__construct() for accepted values and default value.</div>
</li> <li>
<code>meta_type_key</code> <span class="type">string</span><div class="desc">MySQL data type that the meta_key column will be CAST to for comparisons.<br> See WP_Meta_Query::__construct() for accepted values and default value.</div>
</li> <li>
<code>meta_query</code> <span class="type">array</span><div class="desc">An associative array of <a href="../wp_meta_query.html" rel="class">WP_Meta_Query</a> arguments.<br> See WP_Meta_Query::__construct() for accepted values.</div>
</li> <li>
<code>menu_order</code> <span class="type">int</span><div class="desc">The menu order of the posts.</div>
</li> <li>
<code>minute</code> <span class="type">int</span><div class="desc">Minute of the hour. Accepts numbers 0-59.</div>
</li> <li>
<code>monthnum</code> <span class="type">int</span><div class="desc">The two-digit month. Accepts numbers 1-12.</div>
</li> <li>
<code>name</code> <span class="type">string</span><div class="desc">Post slug.</div>
</li> <li>
<code>nopaging</code> <span class="type">bool</span><div class="desc">Show all posts (true) or paginate (false). Default false.</div>
</li> <li>
<code>no_found_rows</code> <span class="type">bool</span><div class="desc">Whether to skip counting the total rows found. Enabling can improve performance. Default false.</div>
</li> <li>
<code>offset</code> <span class="type">int</span><div class="desc">The number of posts to offset before retrieval.</div>
</li> <li>
<code>order</code> <span class="type">string</span><div class="desc">Designates ascending or descending order of posts. Default <code>'DESC'</code>.<br> Accepts <code>'ASC'</code>, <code>'DESC'</code>.</div>
</li> <li>
<code>orderby</code> <span class="type">string|array</span><div class="desc">Sort retrieved posts by parameter. One or more options may be passed.<br> To use <code>'meta_value'</code>, or <code>'meta_value_num'</code>, <code>'meta_key=keyname'</code> must be also be defined. To sort by a specific <code>$meta_query</code> clause, use that clause’s array key. Accepts:<br> <ul>
<li><code>'none'</code></li> <li><code>'name'</code></li> <li><code>'author'</code></li> <li><code>'date'</code></li> <li><code>'title'</code></li> <li><code>'modified'</code></li> <li><code>'menu_order'</code></li> <li><code>'parent'</code></li> <li><code>'ID'</code></li> <li><code>'rand'</code></li> <li><code>'relevance'</code></li> <li>
<code>'RAND(x)'</code> (where <code>'x'</code> is an integer seed value)</li> <li><code>'comment_count'</code></li> <li><code>'meta_value'</code></li> <li><code>'meta_value_num'</code></li> <li><code>'post__in'</code></li> <li><code>'post_name__in'</code></li> <li><code>'post_parent__in'</code></li> <li>The array keys of <code>$meta_query</code>.</li>
</ul> Default is <code>'date'</code>, except when a search is being performed, when the default is <code>'relevance'</code>.</div>
</li> <li>
<code>p</code> <span class="type">int</span><div class="desc">Post ID.</div>
</li> <li>
<code>page</code> <span class="type">int</span><div class="desc">Show the number of posts that would show up on page X of a static front page.</div>
</li> <li>
<code>paged</code> <span class="type">int</span><div class="desc">The number of the current page.</div>
</li> <li>
<code>page_id</code> <span class="type">int</span><div class="desc">Page ID.</div>
</li> <li>
<code>pagename</code> <span class="type">string</span><div class="desc">Page slug.</div>
</li> <li>
<code>perm</code> <span class="type">string</span><div class="desc">Show posts if user has the appropriate capability.</div>
</li> <li>
<code>ping_status</code> <span class="type">string</span><div class="desc">Ping status.</div>
</li> <li>
<code>post__in</code> <span class="type">int[]</span><div class="desc">An array of post IDs to retrieve, sticky posts will be included.</div>
</li> <li>
<code>post__not_in</code> <span class="type">int[]</span><div class="desc">An array of post IDs not to retrieve. Note: a string of comma- separated IDs will NOT work.</div>
</li> <li>
<code>post_mime_type</code> <span class="type">string</span><div class="desc">The mime type of the post. Used for <code>'attachment'</code> post_type.</div>
</li> <li>
<code>post_name__in</code> <span class="type">string[]</span><div class="desc">An array of post slugs that results must match.</div>
</li> <li>
<code>post_parent</code> <span class="type">int</span><div class="desc">Page ID to retrieve child pages for. Use 0 to only retrieve top-level pages.</div>
</li> <li>
<code>post_parent__in</code> <span class="type">int[]</span><div class="desc">An array containing parent page IDs to query child pages from.</div>
</li> <li>
<code>post_parent__not_in</code> <span class="type">int[]</span><div class="desc">An array containing parent page IDs not to query child pages from.</div>
</li> <li>
<code>post_type</code> <span class="type">string|string[]</span><div class="desc">A post type slug (string) or array of post type slugs.<br> Default <code>'any'</code> if using <code>'tax_query'</code>.</div>
</li> <li>
<code>post_status</code> <span class="type">string|string[]</span><div class="desc">A post status (string) or array of post statuses.</div>
</li> <li>
<code>posts_per_page</code> <span class="type">int</span><div class="desc">The number of posts to query for. Use -1 to request all posts.</div>
</li> <li>
<code>posts_per_archive_page</code> <span class="type">int</span><div class="desc">The number of posts to query for by archive page. Overrides <code>'posts_per_page'</code> when <a href="../../functions/is_archive.html" rel="function">is_archive()</a> , or <a href="../../functions/is_search.html" rel="function">is_search()</a> are true.</div>
</li> <li>
<code>s</code> <span class="type">string</span><div class="desc">Search keyword(s). Prepending a term with a hyphen will exclude posts matching that term. Eg, ‘pillow -sofa’ will return posts containing <code>'pillow'</code> but not <code>'sofa'</code>. The character used for exclusion can be modified using the the <code>'wp_query_search_exclusion_prefix'</code> filter.</div>
</li> <li>
<code>search_columns</code> <span class="type">string[]</span><div class="desc">Array of column names to be searched. Accepts <code>'post_title'</code>, <code>'post_excerpt'</code> and <code>'post_content'</code>. Default empty array.</div>
</li> <li>
<code>second</code> <span class="type">int</span><div class="desc">Second of the minute. Accepts numbers 0-59.</div>
</li> <li>
<code>sentence</code> <span class="type">bool</span><div class="desc">Whether to search by phrase. Default false.</div>
</li> <li>
<code>suppress_filters</code> <span class="type">bool</span><div class="desc">Whether to suppress filters. Default false.</div>
</li> <li>
<code>tag</code> <span class="type">string</span><div class="desc">Tag slug. Comma-separated (either), Plus-separated (all).</div>
</li> <li>
<code>tag__and</code> <span class="type">int[]</span><div class="desc">An array of tag IDs (AND in).</div>
</li> <li>
<code>tag__in</code> <span class="type">int[]</span><div class="desc">An array of tag IDs (OR in).</div>
</li> <li>
<code>tag__not_in</code> <span class="type">int[]</span><div class="desc">An array of tag IDs (NOT in).</div>
</li> <li>
<code>tag_id</code> <span class="type">int</span><div class="desc">Tag id or comma-separated list of IDs.</div>
</li> <li>
<code>tag_slug__and</code> <span class="type">string[]</span><div class="desc">An array of tag slugs (AND in).</div>
</li> <li>
<code>tag_slug__in</code> <span class="type">string[]</span><div class="desc">An array of tag slugs (OR in). unless <code>'ignore_sticky_posts'</code> is true. Note: a string of comma-separated IDs will NOT work.</div>
</li> <li>
<code>tax_query</code> <span class="type">array</span><div class="desc">An associative array of <a href="../wp_tax_query.html" rel="class">WP_Tax_Query</a> arguments.<br> See WP_Tax_Query::__construct().</div>
</li> <li>
<code>title</code> <span class="type">string</span><div class="desc">Post title.</div>
</li> <li>
<code>update_post_meta_cache</code> <span class="type">bool</span><div class="desc">Whether to update the post meta cache. Default true.</div>
</li> <li>
<code>update_post_term_cache</code> <span class="type">bool</span><div class="desc">Whether to update the post term cache. Default true.</div>
</li> <li>
<code>update_menu_item_cache</code> <span class="type">bool</span><div class="desc">Whether to update the menu item cache. Default false.</div>
</li> <li>
<code>lazy_load_term_meta</code> <span class="type">bool</span><div class="desc">Whether to lazy-load term meta. Setting to false will disable cache priming for term meta, so that each <a href="../../functions/get_term_meta.html" rel="function">get_term_meta()</a> call will hit the database.<br> Defaults to the value of <code>$update_post_term_cache</code>.</div>
</li> <li>
<code>w</code> <span class="type">int</span><div class="desc">The week number of the year. Accepts numbers 0-53.</div>
</li> <li>
<code>year</code> <span class="type">int</span><div class="desc">The four-digit year. Accepts any four-digit year.</div>
</li> </ul> </span></div>
<p class="default">Default:<code>''</code></p>
</dd>
</dl></section> <section><h2 id="source">Source</h2> <pre class="wp-block-code" data-start="791" aria-label="Function source code" data-language="php"><code id="wporg-source-code" lang="php" class="language-php line-numbers">public function parse_query( $query = '' ) {
	if ( ! empty( $query ) ) {
		$this-&gt;init();
		$this-&gt;query      = wp_parse_args( $query );
		$this-&gt;query_vars = $this-&gt;query;
	} elseif ( ! isset( $this-&gt;query ) ) {
		$this-&gt;query = $this-&gt;query_vars;
	}

	$this-&gt;query_vars         = $this-&gt;fill_query_vars( $this-&gt;query_vars );
	$qv                       = &amp;$this-&gt;query_vars;
	$this-&gt;query_vars_changed = true;

	if ( ! empty( $qv['robots'] ) ) {
		$this-&gt;is_robots = true;
	} elseif ( ! empty( $qv['favicon'] ) ) {
		$this-&gt;is_favicon = true;
	}

	if ( ! is_scalar( $qv['p'] ) || (int) $qv['p'] &lt; 0 ) {
		$qv['p']     = 0;
		$qv['error'] = '404';
	} else {
		$qv['p'] = (int) $qv['p'];
	}

	$qv['page_id']  = is_scalar( $qv['page_id'] ) ? absint( $qv['page_id'] ) : 0;
	$qv['year']     = is_scalar( $qv['year'] ) ? absint( $qv['year'] ) : 0;
	$qv['monthnum'] = is_scalar( $qv['monthnum'] ) ? absint( $qv['monthnum'] ) : 0;
	$qv['day']      = is_scalar( $qv['day'] ) ? absint( $qv['day'] ) : 0;
	$qv['w']        = is_scalar( $qv['w'] ) ? absint( $qv['w'] ) : 0;
	$qv['m']        = is_scalar( $qv['m'] ) ? preg_replace( '|[^0-9]|', '', $qv['m'] ) : '';
	$qv['paged']    = is_scalar( $qv['paged'] ) ? absint( $qv['paged'] ) : 0;
	$qv['cat']      = preg_replace( '|[^0-9,-]|', '', $qv['cat'] ); // Array or comma-separated list of positive or negative integers.
	$qv['author']   = is_scalar( $qv['author'] ) ? preg_replace( '|[^0-9,-]|', '', $qv['author'] ) : ''; // Comma-separated list of positive or negative integers.
	$qv['pagename'] = is_scalar( $qv['pagename'] ) ? trim( $qv['pagename'] ) : '';
	$qv['name']     = is_scalar( $qv['name'] ) ? trim( $qv['name'] ) : '';
	$qv['title']    = is_scalar( $qv['title'] ) ? trim( $qv['title'] ) : '';

	if ( is_scalar( $qv['hour'] ) &amp;&amp; '' !== $qv['hour'] ) {
		$qv['hour'] = absint( $qv['hour'] );
	} else {
		$qv['hour'] = '';
	}

	if ( is_scalar( $qv['minute'] ) &amp;&amp; '' !== $qv['minute'] ) {
		$qv['minute'] = absint( $qv['minute'] );
	} else {
		$qv['minute'] = '';
	}

	if ( is_scalar( $qv['second'] ) &amp;&amp; '' !== $qv['second'] ) {
		$qv['second'] = absint( $qv['second'] );
	} else {
		$qv['second'] = '';
	}

	if ( is_scalar( $qv['menu_order'] ) &amp;&amp; '' !== $qv['menu_order'] ) {
		$qv['menu_order'] = absint( $qv['menu_order'] );
	} else {
		$qv['menu_order'] = '';
	}

	// Fairly large, potentially too large, upper bound for search string lengths.
	if ( ! is_scalar( $qv['s'] ) || ( ! empty( $qv['s'] ) &amp;&amp; strlen( $qv['s'] ) &gt; 1600 ) ) {
		$qv['s'] = '';
	}

	// Compat. Map subpost to attachment.
	if ( is_scalar( $qv['subpost'] ) &amp;&amp; '' != $qv['subpost'] ) {
		$qv['attachment'] = $qv['subpost'];
	}
	if ( is_scalar( $qv['subpost_id'] ) &amp;&amp; '' != $qv['subpost_id'] ) {
		$qv['attachment_id'] = $qv['subpost_id'];
	}

	$qv['attachment_id'] = is_scalar( $qv['attachment_id'] ) ? absint( $qv['attachment_id'] ) : 0;

	if ( ( '' !== $qv['attachment'] ) || ! empty( $qv['attachment_id'] ) ) {
		$this-&gt;is_single     = true;
		$this-&gt;is_attachment = true;
	} elseif ( '' !== $qv['name'] ) {
		$this-&gt;is_single = true;
	} elseif ( $qv['p'] ) {
		$this-&gt;is_single = true;
	} elseif ( '' !== $qv['pagename'] || ! empty( $qv['page_id'] ) ) {
		$this-&gt;is_page   = true;
		$this-&gt;is_single = false;
	} else {
		// Look for archive queries. Dates, categories, authors, search, post type archives.

		if ( isset( $this-&gt;query['s'] ) ) {
			$this-&gt;is_search = true;
		}

		if ( '' !== $qv['second'] ) {
			$this-&gt;is_time = true;
			$this-&gt;is_date = true;
		}

		if ( '' !== $qv['minute'] ) {
			$this-&gt;is_time = true;
			$this-&gt;is_date = true;
		}

		if ( '' !== $qv['hour'] ) {
			$this-&gt;is_time = true;
			$this-&gt;is_date = true;
		}

		if ( $qv['day'] ) {
			if ( ! $this-&gt;is_date ) {
				$date = sprintf( '%04d-%02d-%02d', $qv['year'], $qv['monthnum'], $qv['day'] );
				if ( $qv['monthnum'] &amp;&amp; $qv['year'] &amp;&amp; ! wp_checkdate( $qv['monthnum'], $qv['day'], $qv['year'], $date ) ) {
					$qv['error'] = '404';
				} else {
					$this-&gt;is_day  = true;
					$this-&gt;is_date = true;
				}
			}
		}

		if ( $qv['monthnum'] ) {
			if ( ! $this-&gt;is_date ) {
				if ( 12 &lt; $qv['monthnum'] ) {
					$qv['error'] = '404';
				} else {
					$this-&gt;is_month = true;
					$this-&gt;is_date  = true;
				}
			}
		}

		if ( $qv['year'] ) {
			if ( ! $this-&gt;is_date ) {
				$this-&gt;is_year = true;
				$this-&gt;is_date = true;
			}
		}

		if ( $qv['m'] ) {
			$this-&gt;is_date = true;
			if ( strlen( $qv['m'] ) &gt; 9 ) {
				$this-&gt;is_time = true;
			} elseif ( strlen( $qv['m'] ) &gt; 7 ) {
				$this-&gt;is_day = true;
			} elseif ( strlen( $qv['m'] ) &gt; 5 ) {
				$this-&gt;is_month = true;
			} else {
				$this-&gt;is_year = true;
			}
		}

		if ( $qv['w'] ) {
			$this-&gt;is_date = true;
		}

		$this-&gt;query_vars_hash = false;
		$this-&gt;parse_tax_query( $qv );

		foreach ( $this-&gt;tax_query-&gt;queries as $tax_query ) {
			if ( ! is_array( $tax_query ) ) {
				continue;
			}

			if ( isset( $tax_query['operator'] ) &amp;&amp; 'NOT IN' !== $tax_query['operator'] ) {
				switch ( $tax_query['taxonomy'] ) {
					case 'category':
						$this-&gt;is_category = true;
						break;
					case 'post_tag':
						$this-&gt;is_tag = true;
						break;
					default:
						$this-&gt;is_tax = true;
				}
			}
		}
		unset( $tax_query );

		if ( empty( $qv['author'] ) || ( '0' == $qv['author'] ) ) {
			$this-&gt;is_author = false;
		} else {
			$this-&gt;is_author = true;
		}

		if ( '' !== $qv['author_name'] ) {
			$this-&gt;is_author = true;
		}

		if ( ! empty( $qv['post_type'] ) &amp;&amp; ! is_array( $qv['post_type'] ) ) {
			$post_type_obj = get_post_type_object( $qv['post_type'] );
			if ( ! empty( $post_type_obj-&gt;has_archive ) ) {
				$this-&gt;is_post_type_archive = true;
			}
		}

		if ( $this-&gt;is_post_type_archive || $this-&gt;is_date || $this-&gt;is_author || $this-&gt;is_category || $this-&gt;is_tag || $this-&gt;is_tax ) {
			$this-&gt;is_archive = true;
		}
	}

	if ( '' != $qv['feed'] ) {
		$this-&gt;is_feed = true;
	}

	if ( '' != $qv['embed'] ) {
		$this-&gt;is_embed = true;
	}

	if ( '' != $qv['tb'] ) {
		$this-&gt;is_trackback = true;
	}

	if ( '' != $qv['paged'] &amp;&amp; ( (int) $qv['paged'] &gt; 1 ) ) {
		$this-&gt;is_paged = true;
	}

	// If we're previewing inside the write screen.
	if ( '' != $qv['preview'] ) {
		$this-&gt;is_preview = true;
	}

	if ( is_admin() ) {
		$this-&gt;is_admin = true;
	}

	if ( str_contains( $qv['feed'], 'comments-' ) ) {
		$qv['feed']         = str_replace( 'comments-', '', $qv['feed'] );
		$qv['withcomments'] = 1;
	}

	$this-&gt;is_singular = $this-&gt;is_single || $this-&gt;is_page || $this-&gt;is_attachment;

	if ( $this-&gt;is_feed &amp;&amp; ( ! empty( $qv['withcomments'] ) || ( empty( $qv['withoutcomments'] ) &amp;&amp; $this-&gt;is_singular ) ) ) {
		$this-&gt;is_comment_feed = true;
	}

	if ( ! ( $this-&gt;is_singular || $this-&gt;is_archive || $this-&gt;is_search || $this-&gt;is_feed
			|| ( wp_is_serving_rest_request() &amp;&amp; $this-&gt;is_main_query() )
			|| $this-&gt;is_trackback || $this-&gt;is_404 || $this-&gt;is_admin || $this-&gt;is_robots || $this-&gt;is_favicon ) ) {
		$this-&gt;is_home = true;
	}

	// Correct `is_*` for 'page_on_front' and 'page_for_posts'.
	if ( $this-&gt;is_home &amp;&amp; 'page' === get_option( 'show_on_front' ) &amp;&amp; get_option( 'page_on_front' ) ) {
		$_query = wp_parse_args( $this-&gt;query );
		// 'pagename' can be set and empty depending on matched rewrite rules. Ignore an empty 'pagename'.
		if ( isset( $_query['pagename'] ) &amp;&amp; '' === $_query['pagename'] ) {
			unset( $_query['pagename'] );
		}

		unset( $_query['embed'] );

		if ( empty( $_query ) || ! array_diff( array_keys( $_query ), array( 'preview', 'page', 'paged', 'cpage' ) ) ) {
			$this-&gt;is_page = true;
			$this-&gt;is_home = false;
			$qv['page_id'] = get_option( 'page_on_front' );
			// Correct &lt;!--nextpage--&gt; for 'page_on_front'.
			if ( ! empty( $qv['paged'] ) ) {
				$qv['page'] = $qv['paged'];
				unset( $qv['paged'] );
			}
		}
	}

	if ( '' !== $qv['pagename'] ) {
		$this-&gt;queried_object = get_page_by_path( $qv['pagename'] );

		if ( $this-&gt;queried_object &amp;&amp; 'attachment' === $this-&gt;queried_object-&gt;post_type ) {
			if ( preg_match( '/^[^%]*%(?:postname)%/', get_option( 'permalink_structure' ) ) ) {
				// See if we also have a post with the same slug.
				$post = get_page_by_path( $qv['pagename'], OBJECT, 'post' );
				if ( $post ) {
					$this-&gt;queried_object = $post;
					$this-&gt;is_page        = false;
					$this-&gt;is_single      = true;
				}
			}
		}

		if ( ! empty( $this-&gt;queried_object ) ) {
			$this-&gt;queried_object_id = (int) $this-&gt;queried_object-&gt;ID;
		} else {
			unset( $this-&gt;queried_object );
		}

		if ( 'page' === get_option( 'show_on_front' ) &amp;&amp; isset( $this-&gt;queried_object_id ) &amp;&amp; get_option( 'page_for_posts' ) == $this-&gt;queried_object_id ) {
			$this-&gt;is_page       = false;
			$this-&gt;is_home       = true;
			$this-&gt;is_posts_page = true;
		}

		if ( isset( $this-&gt;queried_object_id ) &amp;&amp; get_option( 'wp_page_for_privacy_policy' ) == $this-&gt;queried_object_id ) {
			$this-&gt;is_privacy_policy = true;
		}
	}

	if ( $qv['page_id'] ) {
		if ( 'page' === get_option( 'show_on_front' ) &amp;&amp; get_option( 'page_for_posts' ) == $qv['page_id'] ) {
			$this-&gt;is_page       = false;
			$this-&gt;is_home       = true;
			$this-&gt;is_posts_page = true;
		}

		if ( get_option( 'wp_page_for_privacy_policy' ) == $qv['page_id'] ) {
			$this-&gt;is_privacy_policy = true;
		}
	}

	if ( ! empty( $qv['post_type'] ) ) {
		if ( is_array( $qv['post_type'] ) ) {
			$qv['post_type'] = array_map( 'sanitize_key', $qv['post_type'] );
		} else {
			$qv['post_type'] = sanitize_key( $qv['post_type'] );
		}
	}

	if ( ! empty( $qv['post_status'] ) ) {
		if ( is_array( $qv['post_status'] ) ) {
			$qv['post_status'] = array_map( 'sanitize_key', $qv['post_status'] );
		} else {
			$qv['post_status'] = preg_replace( '|[^a-z0-9_,-]|', '', $qv['post_status'] );
		}
	}

	if ( $this-&gt;is_posts_page &amp;&amp; ( ! isset( $qv['withcomments'] ) || ! $qv['withcomments'] ) ) {
		$this-&gt;is_comment_feed = false;
	}

	$this-&gt;is_singular = $this-&gt;is_single || $this-&gt;is_page || $this-&gt;is_attachment;
	// Done correcting `is_*` for 'page_on_front' and 'page_for_posts'.

	if ( '404' == $qv['error'] ) {
		$this-&gt;set_404();
	}

	$this-&gt;is_embed = $this-&gt;is_embed &amp;&amp; ( $this-&gt;is_singular || $this-&gt;is_404 );

	$this-&gt;query_vars_hash    = md5( serialize( $this-&gt;query_vars ) );
	$this-&gt;query_vars_changed = false;

	/**
	 * Fires after the main query vars have been parsed.
	 *
	 * @since 1.5.0
	 *
	 * @param WP_Query $query The WP_Query instance (passed by reference).
	 */
	do_action_ref_array( 'parse_query', array( &amp;$this ) );
}
</code></pre>
<p class="wporg-dot-link-list"><a href="https://developer.wordpress.org/reference/files/wp-includes/class-wp-query.php/">View all references</a> <a href="https://core.trac.wordpress.org/browser/tags/6.7/src/wp-includes/class-wp-query.php#L791">View on Trac</a> <a href="https://github.com/WordPress/wordpress-develop/blob/6.7/src/wp-includes/class-wp-query.php#L791-L1141">View on GitHub</a></p></section> <section><h2 id="hooks">Hooks</h2> <dl>
<dt class="wp-block-wporg-code-reference-title has-normal-font-size"><a href="../../hooks/parse_query.html"><span class="hook-func">do_action_ref_array</span>( ‘parse_query’, <nobr><span class="arg-type">WP_Query</span> <span class="arg-name">$query</span></nobr> )</a></dt>
<dd>
<p>Fires after the main query vars have been parsed.</p> </dd>
</dl></section>  <section><h2 id="changelog">Changelog</h2> <section style="margin-top:var(--wp--preset--spacing--20);"><figure class="wp-block-table "><table>
<thead><tr>
<th scope="col">Version</th>
<th scope="col">Description</th>
</tr></thead>
<tbody>
<tr class="">
<td><a href="https://developer.wordpress.org/reference/since/6.2.0/">6.2.0</a></td>
<td><span class="since-description">Introduced the <code>$search_columns</code> parameter.</span></td>
</tr>
<tr class="">
<td><a href="https://developer.wordpress.org/reference/since/6.1.0/">6.1.0</a></td>
<td><span class="since-description">Introduced the <code>$update_menu_item_cache</code> parameter.</span></td>
</tr>
<tr class="">
<td><a href="https://developer.wordpress.org/reference/since/5.3.0/">5.3.0</a></td>
<td><span class="since-description">Introduced the <code>$meta_type_key</code> parameter.</span></td>
</tr>
<tr class="">
<td><a href="https://developer.wordpress.org/reference/since/5.1.0/">5.1.0</a></td>
<td><span class="since-description">Introduced the <code>$meta_compare_key</code> parameter.</span></td>
</tr>
<tr class="">
<td><a href="https://developer.wordpress.org/reference/since/4.9.0/">4.9.0</a></td>
<td><span class="since-description">Introduced the <code>$comment_count</code> parameter.</span></td>
</tr>
<tr class="wporg-hidden">
<td><a href="https://developer.wordpress.org/reference/since/4.6.0/">4.6.0</a></td>
<td><span class="since-description">Added <code>'post_name__in'</code> support for <code>$orderby</code>. Introduced the <code>$lazy_load_term_meta</code> argument.</span></td>
</tr>
<tr class="wporg-hidden">
<td><a href="https://developer.wordpress.org/reference/since/4.5.0/">4.5.0</a></td>
<td><span class="since-description">Removed the <code>$comments_popup</code> parameter.<br> Introduced the <code>$comment_status</code> and <code>$ping_status</code> parameters.<br> Introduced <code>RAND(x)</code> syntax for <code>$orderby</code>, which allows an integer seed value to random sorts.</span></td>
</tr>
<tr class="wporg-hidden">
<td><a href="https://developer.wordpress.org/reference/since/4.4.0/">4.4.0</a></td>
<td><span class="since-description">Introduced <code>$post_name__in</code> and <code>$title</code> parameters. <code>$s</code> was updated to support excluded search terms, by prepending a hyphen.</span></td>
</tr>
<tr class="wporg-hidden">
<td><a href="https://developer.wordpress.org/reference/since/4.2.0/">4.2.0</a></td>
<td><span class="since-description">Introduced the ability to order by specific clauses of a <code>$meta_query</code>, by passing the clause’s array key to <code>$orderby</code>.</span></td>
</tr>
<tr class="wporg-hidden">
<td><a href="https://developer.wordpress.org/reference/since/1.5.0/">1.5.0</a></td>
<td>Introduced.</td>
</tr>
</tbody>
</table></figure><a class="wp-block-wporg-code-table-show-more" href="#">Show 5 more</a><a class="wp-block-wporg-code-table-show-less" href="#">Show less</a></section> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2003&ndash;2024 WordPress Foundation<br>Licensed under the GNU GPLv2+ License.<br>
    <a href="https://developer.wordpress.org/reference/classes/wp_query/parse_query" class="_attribution-link">https://developer.wordpress.org/reference/classes/wp_query/parse_query</a>
  </p>
</div>
