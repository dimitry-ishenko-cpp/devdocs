<h1 id="page-subtitle">Internationalization</h1>      <p>Internationalization and translation</p> <p>The principle of internationalization is that it should be possible to make a Drupal site in any language (or a multi-lingual site), where only content in the desired language is displayed for any particular page request. In order to make this happen, developers of modules, themes, and installation profiles need to make sure that all of the displayable content and user interface (UI) text that their project deals with is internationalized properly, so that it can be translated using the standard Drupal translation mechanisms.</p> <h3 id="internationalization">Internationalization</h3> <p>Different <a href="../../../core-core.api.php/group/info_types/8.1.x.html" title="Types of information in Drupal." class="local">types of information in Drupal</a> have different methods for internationalization, and different portions of the UI also have different methods for internationalization. Here is a list of the different mechanisms for internationalization, and some notes:</p> <ul> <li>UI text is always put into code and related files in English.</li> <li>Any time UI text is displayed using PHP code, it should be passed through either the global <a href="../../../core-includes-bootstrap.inc/function/t/8.1.x.html" title="Translates a string to the current language or to a given language." class="local">t</a>() function or a <a href="../../../core-includes-bootstrap.inc/function/t/8.1.x.html" title="Translates a string to the current language or to a given language." class="local">t</a>() method on the class. If it involves plurals, it should be passed through either the global <a href="../../../core-lib-drupal-core-stringtranslation-pluraltranslatablemarkup.php/function/pluraltranslatablemarkup-createfromtranslatedstring/8.1.x.html" title="Constructs a new class instance from already translated markup." class="local">\Drupal\Core\StringTranslation\PluralTranslatableMarkup::createFromTranslatedString</a>() or a formatPlural() method on the class. Use <a href="../../../core-lib-drupal-core-stringtranslation-stringtranslationtrait.php/trait/stringtranslationtrait/8.1.x.html" title="Wrapper methods for \Drupal\Core\StringTranslation\TranslationInterface." class="local">\Drupal\Core\StringTranslation\StringTranslationTrait</a> to get these methods into a class.</li> <li>Dates displayed in the UI should be passed through the 'date' service class's format() method. Again see the Services topic; the method to call is \Drupal\Core\Datetime\Date::format().</li> <li>Some YML files contain UI text that is automatically translatable: <ul> <li>
<strong>*.routing.yml files</strong>: route titles. This also applies to *.links.task.yml, *.links.action.yml, and *.links.contextual.yml files.</li> <li>
<strong>*.info.yml files</strong>: module names and descriptions.</li> </ul> </li> <li>For configuration, make sure any configuration that is displayable to users is marked as translatable in the configuration schema. Configuration types label, text, and date_format are translatable; string is non-translatable text. See the <a href="../../../core-core.api.php/group/config_api/8.1.x.html" title="Information about the Configuration API." class="local">Config API topic</a> for more information.</li> <li>For annotation, make sure that any text that is displayable in the UI is wrapped in @Translation(). See the <a href="../../../core-lib-drupal-core-annotation-translation.php/group/plugin_translatable/8.1.x.html" title="Describes how to put translatable UI text into annotations." class="local">Plugin translatables topic</a> for more information.</li> <li>Content entities are translatable if they have </li> </ul> <pre class="php" data-language="php">  translatable = TRUE,
  </pre>
<p> in their annotation. The use of entities to store user-editable content to be displayed in the site is highly recommended over creating your own method for storing, retrieving, displaying, and internationalizing content.</p> <ul> <li>For Twig templates, use 't' or 'trans' filters to indicate translatable text. See <a href="https://www.drupal.org/node/2133321">https://www.drupal.org/node/2133321</a> for more information.</li> <li>In JavaScript code, use the Drupal.t() and Drupal.formatPlural() functions (defined in core/misc/drupal.js) to translate UI text.</li> <li>If you are using a custom module, theme, etc. that is not hosted on Drupal.org, see <a href="../../../core-modules-locale-locale.api.php/group/interface_translation_properties/8.1.x.html" title=".info.yml file properties for interface translation settings." class="local">Interface translation properties topic</a> for information on how to make sure your UI text is translatable.</li> </ul> <h3 id="translation">Translation</h3> <p>Once your data and user interface are internationalized, the following Core modules are used to translate it into different languages (machine names of modules in parentheses):</p> <ul> <li>
<strong>Language (language)</strong>: Define which languages are active on the site.</li> <li>
<strong>Interface Translation (locale)</strong>: Translate UI text.</li> <li>
<strong>Content Translation (content_translation)</strong>: Translate content entities.</li> <li>
<strong>Configuration Translation (config_translation)</strong>: Translate configuration.</li> </ul> <p>The Interface Translation module deserves special mention, because besides providing a UI for translating UI text, it also imports community translations from the <a href="https://localize.drupal.org">Drupal translation server.</a> If UI text and provided configuration in Drupal Core and contributed modules, themes, and installation profiles is properly internationalized (as described above), the text is automatically added to the translation server for community members to translate, via *.po files that are generated by scanning the project files.</p> <h3 id="context">Translation string sharing and context</h3> <p>By default, translated strings are only translated once, no matter where they are being used. For instance, there are many forms with Save buttons on them, and they all would have <a href="../../../core-includes-bootstrap.inc/function/t/8.1.x.html" title="Translates a string to the current language or to a given language." class="local">t</a>('Save') in their code. The translation system will only store this string once in the translation database, so that if the translation is updated, all forms using that text will get the updated translation.</p> <p>Because the source of translation strings is English, and some words in English have multiple meanings or uses, this centralized, shared translation string storage can sometimes lead to ambiguous translations that are not correct for every place the string is used. As an example, the English word "May", in a string by itself, could be part of a list of full month names or part of a list of 3-letter abbreviated month names. So, in languages where the month name for May is longer than 3 letters, you'd need to translate May differently depending on how it's being used. To address this problem, the translation system includes the concept of the "context" of a translated string, which can be used to disambiguate text for translators, and obtain the correct translation for each usage of the string.</p> <p>Here are some examples of how to provide translation context with strings, so that this information can be included in *.po files, displayed on the localization server for translators, and used to obtain the correct translation in the user interface:</p> <pre class="php" data-language="php">// PHP code
t('May', array(), array('context' =&gt; 'Long month name');
\Drupal::translation()-&gt;formatPlural($count, '1 something',
  '@count somethings', array(), array('context' =&gt; 'My context'));

// JavaScript code
Drupal.t('May', {}, {'context': 'Long month name'});
Drupal.formatPlural(count, '1 something', '@count somethings', {},
  {'context': 'My context'});

// *.links.yml file
title: 'May'
title_context: 'Long month name'

// *.routing.yml file
my.route.name:
  pattern: '/something'
  defaults:
    _title: 'May'
    _title_context: 'Long month name'

// Config schema to say that a certain piece of configuration should be
// translatable using the Config Translation API. Note that the schema label
// is also translatable, but it cannot have context.
date_format:
 type: string
 label: 'PHP date format'
 translatable: true
 translation context: 'PHP date format'

// Twig template
{% trans with {'context': 'Long month name'} %}
 May
{% endtrans %}
</pre> <h3>See also</h3> <p> <a href="../transliteration/8.1.x.html" title="Transliterate from Unicode to US-ASCII" class="local">Transliteration</a></p> <p><a href="../../../core-includes-bootstrap.inc/function/t/8.1.x.html" title="Translates a string to the current language or to a given language." class="local">t</a>()</p> <h3>File</h3> 
<dl> <dt>core/lib/Drupal/Core/Language/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Language%21language.api.php/8.1.x">language.api.php</a>, line 10</dt> <dd>Hooks provided by the base system for language support.</dd> </dl> <h3>Classes</h3>  <table> <thead> <tr> <th scope="col"> Name </th> <th scope="col"> Location </th> <th scope="col"> Description </th> </tr> </thead> <tbody> <tr> <td data-th="Name"> <a href="../../../core-lib-drupal-core-datetime-dateformatter.php/class/dateformatter/8.1.x.html">DateFormatter</a> </td> <td data-th="Location"> core/lib/Drupal/Core/Datetime/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Datetime%21DateFormatter.php/8.1.x">DateFormatter.php</a> </td> <td data-th="Description"> Provides a service to handle various date related functionality. </td> </tr> </tbody> </table>  <h3>Interfaces</h3>  <table> <thead> <tr> <th scope="col"> Name </th> <th scope="col"> Location </th> <th scope="col"> Description </th> </tr> </thead> <tbody> <tr> <td data-th="Name"> <a href="../../../core-lib-drupal-core-stringtranslation-translationinterface.php/interface/translationinterface/8.1.x.html">TranslationInterface</a> </td> <td data-th="Location"> core/lib/Drupal/Core/StringTranslation/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21StringTranslation%21TranslationInterface.php/8.1.x">TranslationInterface.php</a> </td> <td data-th="Description"> Interface for the translation.manager translation service. </td> </tr> </tbody> </table>  <h3>Traits</h3>  <table> <thead> <tr> <th scope="col"> Name </th> <th scope="col"> Location </th> <th scope="col"> Description </th> </tr> </thead> <tbody> <tr> <td data-th="Name"> <a href="../../../core-lib-drupal-core-stringtranslation-stringtranslationtrait.php/trait/stringtranslationtrait/8.1.x.html">StringTranslationTrait</a> </td> <td data-th="Location"> core/lib/Drupal/Core/StringTranslation/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21StringTranslation%21StringTranslationTrait.php/8.1.x">StringTranslationTrait.php</a> </td> <td data-th="Description"> Wrapper methods for <a href="../../../core-lib-drupal-core-stringtranslation-translationinterface.php/interface/translationinterface/8.1.x.html" title="Interface for the translation.manager translation service." class="local">\Drupal\Core\StringTranslation\TranslationInterface</a>. </td> </tr> </tbody> </table><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Language!language.api.php/group/i18n/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Language!language.api.php/group/i18n/8.1.x</a>
  </p>
</div>
