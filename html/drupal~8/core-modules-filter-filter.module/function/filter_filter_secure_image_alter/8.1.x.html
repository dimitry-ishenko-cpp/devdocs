<h1 id="page-subtitle">function filter_filter_secure_image_alter</h1>     <pre class="signature">filter_filter_secure_image_alter(&amp;$image)</pre> <p>Implements <a href="../../../core-modules-filter-filter.api.php/function/hook_filter_secure_image_alter/8.1.x.html" title="Alters images with an invalid source." class="local">hook_filter_secure_image_alter</a>().</p> <p>Formats an image DOM element that has an invalid source.</p> <h3>Parameters</h3> <p> <strong>DOMElement $image</strong>: An IMG node to format, parsed from the filtered text.</p> <h3>See also</h3> <p> <a href="../_filter_html_image_secure_process/8.1.x.html" title="Process callback for local image filter." class="local">_filter_html_image_secure_process</a>()</p> <h3>Related topics</h3>   <dl api-related-topics> <dt><a href="../../group/standard_filters/8.1.x.html">Standard filters</a></dt> <dd>Filters implemented by the Filter module.</dd> </dl>   <h3>File</h3> 
<dl> <dt>core/modules/filter/<a href="../../8.1.x.html">filter.module</a>, line 813</dt> <dd>Framework for handling the filtering of content.</dd> </dl> <h3>Code</h3> <pre class="php" data-language="php">function filter_filter_secure_image_alter(&amp;$image) {
  // Turn an invalid image into an error indicator.
  $image-&gt;setAttribute('src', base_path() . 'core/misc/icons/e32700/error.svg');
  $image-&gt;setAttribute('alt', t('Image removed.'));
  $image-&gt;setAttribute('title', t('This image has been removed. For security reasons, only images from the local domain are allowed.'));
  $image-&gt;setAttribute('height', '16');
  $image-&gt;setAttribute('width', '16');

  // Add a CSS class to aid in styling.
  $class = ($image-&gt;getAttribute('class') ? trim($image-&gt;getAttribute('class')) . ' ' : '');
  $class .= 'filter-image-invalid';
  $image-&gt;setAttribute('class', $class);
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!modules!filter!filter.module/function/filter_filter_secure_image_alter/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!modules!filter!filter.module/function/filter_filter_secure_image_alter/8.1.x</a>
  </p>
</div>
