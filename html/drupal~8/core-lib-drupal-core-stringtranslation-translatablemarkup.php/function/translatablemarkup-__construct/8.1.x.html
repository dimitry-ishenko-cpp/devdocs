<h1 id="page-subtitle">public function TranslatableMarkup::__construct</h1>     <pre class="signature">public <a href="../../class/translatablemarkup/8.1.x.html">TranslatableMarkup</a>::__construct($string, array $arguments = array(), array $options = array(), TranslationInterface $string_translation = NULL)</pre> <p>Constructs a new class instance.</p> <p>When possible, use the <a href="../../../core-lib-drupal-core-stringtranslation-stringtranslationtrait.php/trait/stringtranslationtrait/8.1.x.html" title="Wrapper methods for \Drupal\Core\StringTranslation\TranslationInterface." class="local">\Drupal\Core\StringTranslation\StringTranslationTrait</a> $this-&gt;t(). Otherwise create a new <a href="../../class/translatablemarkup/8.1.x.html" title="Provides translatable markup class." class="local">\Drupal\Core\StringTranslation\TranslatableMarkup</a> object directly.</p> <p>Calling the trait's <a href="../../../core-includes-bootstrap.inc/function/t/8.1.x.html" title="Translates a string to the current language or to a given language." class="local">t</a>() method or instantiating a new TranslatableMarkup object serves two purposes:</p> <ul> <li>At run-time it translates user-visible text into the appropriate language.</li> <li>Static analyzers detect calls to <a href="../../../core-includes-bootstrap.inc/function/t/8.1.x.html" title="Translates a string to the current language or to a given language." class="local">t</a>() and new TranslatableMarkup, and add the first argument (the string to be translated) to the database of strings that need translation. These strings are expected to be in English, so the first argument should always be in English.</li> </ul> <p>To allow the site to be localized, it is important that all human-readable text that will be displayed on the site or sent to a user is made available in one of the ways supported by the <a href="https://www.drupal.org/node/322729">Localization API</a>. See the <a href="https://www.drupal.org/node/322729">Localization API</a> pages for more information, including recommendations on how to break up or not break up strings for translation.</p> <h3 id="sec_translating_vars">Translating Variables</h3> <p>$string should always be an English literal string.</p> <p>$string should never contain a variable, such as:</p> <pre class="php" data-language="php">new TranslatableMarkup($text)
</pre>
<p> There are several reasons for this:</p> <ul> <li>Using a variable for $string that is user input is a security risk.</li> <li>Using a variable for $string that has even guaranteed safe text (for example, user interface text provided literally in code), will not be picked up by the localization static text processor. (The parameter could be a variable if the entire string in $text has been passed into <a href="../../../core-includes-bootstrap.inc/function/t/8.1.x.html" title="Translates a string to the current language or to a given language." class="local">t</a>() or new TranslatableMarkup() elsewhere as the first argument, but that strategy is not recommended.)</li> </ul> <p>It is especially important never to call new TranslatableMarkup($user_text) or <a href="../../../core-includes-bootstrap.inc/function/t/8.1.x.html" title="Translates a string to the current language or to a given language." class="local">t</a>($user_text) where $user_text is some text that a user entered -- doing that can lead to cross-site scripting and other security problems. However, you can use variable substitution in your string, to put variable text such as user names or link URLs into translated text. Variable substitution looks like this:</p> <pre class="php" data-language="php">new TranslatableMarkup("@name's blog", array('@name' =&gt; $account-&gt;getDisplayName()));
</pre>
<p> Basically, you can put placeholders like @name into your string, and the method will substitute the sanitized values at translation time. (See the Localization API pages referenced above and the documentation of <a href="../../../core-lib-drupal-component-render-formattablemarkup.php/function/formattablemarkup-placeholderformat/8.1.x.html" title="Replaces placeholders in a string with values." class="local">\Drupal\Component\Render\FormattableMarkup::placeholderFormat</a>() for details about how to safely and correctly define variables in your string.) Translators can then rearrange the string as necessary for the language (e.g., in Spanish, it might be "blog de @name").</p> <h3>Parameters</h3> <p> <strong>string $string</strong>: A string containing the English text to translate.</p> <p><strong>array $arguments</strong>: (optional) An associative array of replacements to make after translation. Based on the first character of the key, the value is escaped and/or themed. See <a href="../../../core-lib-drupal-component-render-formattablemarkup.php/function/formattablemarkup-placeholderformat/8.1.x.html" title="Replaces placeholders in a string with values." class="local">\Drupal\Component\Render\FormattableMarkup::placeholderFormat</a>() for details.</p> <p><strong>array $options</strong>: (optional) An associative array of additional options, with the following elements:</p> <ul> <li>
<strong>'langcode' (defaults to the current language)</strong>: A language code, to translate to a language other than what is used to display the page.</li> <li>
<strong>'context' (defaults to the empty context)</strong>: The context the source string belongs to.</li> </ul> <p><strong><a href="../../../core-lib-drupal-core-stringtranslation-translationinterface.php/interface/translationinterface/8.1.x.html" title="Interface for the translation.manager translation service." class="local">\Drupal\Core\StringTranslation\TranslationInterface</a> $string_translation</strong>: (optional) The string translation service.</p> <h3>Throws</h3> <p> \InvalidArgumentException Exception thrown when $string is not a string.</p> <p class="api-override">Overrides <a href="../../../core-lib-drupal-component-render-formattablemarkup.php/function/formattablemarkup-__construct/8.1.x.html">FormattableMarkup::__construct</a></p> <h3>See also</h3> <p> <a href="../../../core-lib-drupal-component-render-formattablemarkup.php/function/formattablemarkup-placeholderformat/8.1.x.html" title="Replaces placeholders in a string with values." class="local">\Drupal\Component\Render\FormattableMarkup::placeholderFormat</a>()</p> <p><a href="../../../core-lib-drupal-core-stringtranslation-stringtranslationtrait.php/function/stringtranslationtrait-t/8.1.x.html" title="Translates a string to the current language or to a given language." class="local">\Drupal\Core\StringTranslation\StringTranslationTrait::t</a>()</p> <h3>Related topics</h3>   <dl api-related-topics> <dt><a href="../../../core-includes-common.inc/group/sanitization/8.1.x.html">Sanitization functions</a></dt> <dd>Functions to sanitize values.</dd> </dl>    <h3>File</h3> 
<dl> <dt>core/lib/Drupal/Core/StringTranslation/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21StringTranslation%21TranslatableMarkup.php/8.1.x">TranslatableMarkup.php</a>, line 137</dt>  </dl> <h3>Class</h3> 
<dl> <dt>
<a href="../../class/translatablemarkup/8.1.x.html">TranslatableMarkup</a> </dt> <dd>Provides translatable markup class.</dd> </dl> <h3>Namespace</h3> <a href="https://api.drupal.org/api/drupal/namespace/Drupal%21Core%21StringTranslation/8.1.x">Drupal\Core\StringTranslation</a> <h3>Code</h3> <pre class="php" data-language="php">public function __construct($string, array $arguments = array(), array $options = array(), TranslationInterface $string_translation = NULL) {
  if (!is_string($string)) {
    $message = $string instanceof TranslatableMarkup ? '$string ("' . $string-&gt;getUntranslatedString() . '") must be a string.' : '$string ("' . (string) $string . '") must be a string.';
    throw new \InvalidArgumentException($message);
  }
  $this-&gt;string = $string;
  $this-&gt;arguments = $arguments;
  $this-&gt;options = $options;
  $this-&gt;stringTranslation = $string_translation;
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!lib!Drupal!Core!StringTranslation!TranslatableMarkup.php/function/TranslatableMarkup::__construct/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!lib!Drupal!Core!StringTranslation!TranslatableMarkup.php/function/TranslatableMarkup::__construct/8.1.x</a>
  </p>
</div>
