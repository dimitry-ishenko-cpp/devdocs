<h1 id="page-subtitle">public static function Html::getUniqueId</h1>     <pre class="signature">public static <a href="../../class/html/8.1.x.html">Html</a>::getUniqueId($id)</pre> <p>Prepares a string for use as a valid HTML ID and guarantees uniqueness.</p> <p>This function ensures that each passed HTML ID value only exists once on the page. By tracking the already returned ids, this function enables forms, blocks, and other content to be output multiple times on the same page, without breaking (X)HTML validation.</p> <p>For already existing IDs, a counter is appended to the ID string. Therefore, JavaScript and CSS code should not rely on any value that was generated by this function and instead should rely on manually added CSS classes or similarly reliable constructs.</p> <p>Two consecutive hyphens separate the counter from the original ID. To manage uniqueness across multiple Ajax requests on the same page, Ajax requests POST an array of all IDs currently present on the page, which are used to prime this function's cache upon first invocation.</p> <p>To allow reverse-parsing of IDs submitted via Ajax, any multiple consecutive hyphens in the originally passed $id are replaced with a single hyphen.</p> <h3>Parameters</h3> <p> <strong>string $id</strong>: The ID to clean.</p> <h3>Return value</h3> <p> string The cleaned ID.</p>  <h3>File</h3> 
<dl> <dt>core/lib/Drupal/Component/Utility/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Component%21Utility%21Html.php/8.1.x">Html.php</a>, line 149</dt>  </dl> <h3>Class</h3> 
<dl> <dt>
<a href="../../class/html/8.1.x.html">Html</a> </dt> <dd>Provides DOMDocument helpers for parsing and serializing HTML strings.</dd> </dl> <h3>Namespace</h3> <a href="https://api.drupal.org/api/drupal/namespace/Drupal%21Component%21Utility/8.1.x">Drupal\Component\Utility</a> <h3>Code</h3> <pre class="php" data-language="php">public static function getUniqueId($id) {
  // If this is an Ajax request, then content returned by this page request
  // will be merged with content already on the base page. The HTML IDs must
  // be unique for the fully merged content. Therefore use unique IDs.
  if (static::$isAjax) {
    return static::getId($id) . '--' . Crypt::randomBytesBase64(8);
  }

  // @todo Remove all that code once we switch over to random IDs only,
  // see https://www.drupal.org/node/1090592.
  if (!isset(static::$seenIdsInit)) {
    static::$seenIdsInit = array();
  }
  if (!isset(static::$seenIds)) {
    static::$seenIds = static::$seenIdsInit;
  }

  $id = static::getId($id);

  // Ensure IDs are unique by appending a counter after the first occurrence.
  // The counter needs to be appended with a delimiter that does not exist in
  // the base ID. Requiring a unique delimiter helps ensure that we really do
  // return unique IDs and also helps us re-create the $seen_ids array during
  // Ajax requests.
  if (isset(static::$seenIds[$id])) {
    $id = $id . '--' . ++static::$seenIds[$id];
  }
  else {
    static::$seenIds[$id] = 1;
  }
  return $id;
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!lib!Drupal!Component!Utility!Html.php/function/Html::getUniqueId/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!lib!Drupal!Component!Utility!Html.php/function/Html::getUniqueId/8.1.x</a>
  </p>
</div>
