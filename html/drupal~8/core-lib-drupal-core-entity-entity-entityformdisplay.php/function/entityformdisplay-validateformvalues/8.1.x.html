<h1 id="page-subtitle">public function EntityFormDisplay::validateFormValues</h1>     <pre class="signature">public <a href="../../class/entityformdisplay/8.1.x.html">EntityFormDisplay</a>::validateFormValues(FieldableEntityInterface $entity, array &amp;$form, FormStateInterface $form_state)</pre> <p>Validates submitted widget values and sets the corresponding form errors.</p> <p>This method invokes entity validation and takes care of flagging them on the form. This is particularly useful when all elements on the form are managed by the form display.</p> <p>As an alternative, entity validation can be invoked separately such that some violations can be flagged manually. In that case \Drupal\Core\Entity\Display\EntityFormDisplayInterface::flagViolations() must be used for flagging violations related to the form display.</p> <p>Note that there are two levels of validation for fields in forms: widget validation and field validation:</p> <ul> <li>Widget validation steps are specific to a given widget's own form structure and UI metaphors. They are executed during normal form validation, usually through Form API's #element_validate property. Errors reported at this level are typically those that prevent the extraction of proper field values from the submitted form input.</li> <li>If no form / widget errors were reported for the field, field validation steps are performed according to the "constraints" specified by the field definition as part of the entity validation. That validation is independent of the specific widget being used in a given form, and is also performed on REST entity submissions.</li> </ul> <h3>Parameters</h3> <p> <strong><a href="../../../core-lib-drupal-core-entity-fieldableentityinterface.php/interface/fieldableentityinterface/8.1.x.html" title="Interface for entities having fields." class="local">\Drupal\Core\Entity\FieldableEntityInterface</a> $entity</strong>: The entity.</p> <p><strong>array $form</strong>: The form structure where field elements are attached to. This might be a full form structure, or a sub-element of a larger form.</p> <p><strong><a href="../../../core-lib-drupal-core-form-formstateinterface.php/interface/formstateinterface/8.1.x.html" title="Provides an interface for an object containing the current state of a form." class="local">\Drupal\Core\Form\FormStateInterface</a> $form_state</strong>: The form state.</p> <p class="api-override">Overrides <a href="../../../core-lib-drupal-core-entity-display-entityformdisplayinterface.php/function/entityformdisplayinterface-validateformvalues/8.1.x.html">EntityFormDisplayInterface::validateFormValues</a></p> <h3>File</h3> 
<dl> <dt>core/lib/Drupal/Core/Entity/Entity/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Entity%21Entity%21EntityFormDisplay.php/8.1.x">EntityFormDisplay.php</a>, line 232</dt>  </dl> <h3>Class</h3> 
<dl> <dt>
<a href="../../class/entityformdisplay/8.1.x.html">EntityFormDisplay</a> </dt> <dd>Configuration entity that contains widget options for all components of a entity form in a given form mode.</dd> </dl> <h3>Namespace</h3> <a href="https://api.drupal.org/api/drupal/namespace/Drupal%21Core%21Entity%21Entity/8.1.x">Drupal\Core\Entity\Entity</a> <h3>Code</h3> <pre class="php" data-language="php">public function validateFormValues(FieldableEntityInterface $entity, array &amp;$form, FormStateInterface $form_state) {
  $violations = $entity-&gt;validate();
  $violations-&gt;filterByFieldAccess();

  // Flag entity level violations.
  foreach ($violations-&gt;getEntityViolations() as $violation) {
    /** @var \Symfony\Component\Validator\ConstraintViolationInterface $violation */
    $form_state-&gt;setErrorByName('', $violation-&gt;getMessage());
  }

  $this-&gt;flagWidgetsErrorsFromViolations($violations, $form, $form_state);
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Entity!Entity!EntityFormDisplay.php/function/EntityFormDisplay::validateFormValues/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Entity!Entity!EntityFormDisplay.php/function/EntityFormDisplay::validateFormValues/8.1.x</a>
  </p>
</div>
