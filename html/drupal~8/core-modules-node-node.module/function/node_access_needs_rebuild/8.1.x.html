<h1 id="page-subtitle">function node_access_needs_rebuild</h1>     <pre class="signature">node_access_needs_rebuild($rebuild = NULL)</pre> <p>Toggles or reads the value of a flag for rebuilding the node access grants.</p> <p>When the flag is set, a message is displayed to users with 'access administration pages' permission, pointing to the 'rebuild' confirm form. This can be used as an alternative to direct node_access_rebuild calls, allowing administrators to decide when they want to perform the actual (possibly time consuming) rebuild.</p> <p>When unsure if the current user is an administrator, <a href="../node_access_rebuild/8.1.x.html" title="Rebuilds the node access database." class="local">node_access_rebuild</a>() should be used instead.</p> <h3>Parameters</h3> <p> <strong>$rebuild</strong>: (optional) The boolean value to be written.</p> <h3>Return value</h3> <p> bool|null The current value of the flag if no value was provided for $rebuild. If a value was provided for $rebuild, nothing (NULL) is returned.</p> <h3>See also</h3> <p> <a href="../node_access_rebuild/8.1.x.html" title="Rebuilds the node access database." class="local">node_access_rebuild</a>()</p> <h3>Related topics</h3>   <dl api-related-topics> <dt><a href="../../group/node_access/8.1.x.html">Node access rights</a></dt> <dd>The node access system determines who can do what to which nodes.</dd> </dl>    <h3>File</h3> 
<dl> <dt>core/modules/node/<a href="../../8.1.x.html">node.module</a>, line 1110</dt> <dd>The core module that allows content to be submitted to the site.</dd> </dl> <h3>Code</h3> <pre class="php" data-language="php">function node_access_needs_rebuild($rebuild = NULL) {
  if (!isset($rebuild)) {
    return \Drupal::state()-&gt;get('node.node_access_needs_rebuild') ? : FALSE;
  }
  elseif ($rebuild) {
    \Drupal::state()-&gt;set('node.node_access_needs_rebuild', TRUE);
  }
  else {
    \Drupal::state()-&gt;delete('node.node_access_needs_rebuild');
  }
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!modules!node!node.module/function/node_access_needs_rebuild/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!modules!node!node.module/function/node_access_needs_rebuild/8.1.x</a>
  </p>
</div>
