<h1 id="page-subtitle">function drupal_get_messages</h1>     <pre class="signature">drupal_get_messages(<del>$type</del> = NULL, <del>$clear_queue</del> = TRUE)</pre> <p>Returns all messages that have been set with <a href="../drupal_set_message/8.1.x.html" title="Sets a message to display to the user." class="local">drupal_set_message</a>().</p> <h3>Parameters</h3> <p> <strong>string $type</strong>: (optional) Limit the messages returned by type. Defaults to NULL, meaning all types. These values are supported:</p> <ul> <li>NULL</li> <li>'status'</li> <li>'warning'</li> <li>'error'</li> </ul> <p><strong>bool $clear_queue</strong>: (optional) If this is TRUE, the queue will be cleared of messages of the type specified in the $type parameter. Otherwise the queue will be left intact. Defaults to TRUE.</p> <h3>Return value</h3> <p> array An associative, nested array of messages grouped by message type, with the top-level keys as the message type. The messages returned are limited to the type specified in the $type parameter, if any. If there are no messages of the specified type, an empty array is returned. See <a href="../drupal_set_message/8.1.x.html" title="Sets a message to display to the user." class="local">drupal_set_message</a>() for the array structure of individual messages.</p> <h3>See also</h3> <p> <a href="../drupal_set_message/8.1.x.html" title="Sets a message to display to the user." class="local">drupal_set_message</a>()</p> <p><a href="../../../core-modules-system-templates-status-messages.html.twig/8.1.x.html" title="Default theme implementation for status messages." class="local">status-messages.html.twig</a></p>  <h3>File</h3> 
<dl> <dt>core/includes/<a href="../../8.1.x.html">bootstrap.inc</a>, line 491</dt> <dd>Functions that need to be loaded on every Drupal request.</dd> </dl> <h3>Code</h3> <pre class="php" data-language="php">function drupal_get_messages($type = NULL, $clear_queue = TRUE) {
  if ($messages = drupal_set_message()) {
    if ($type) {
      if ($clear_queue) {
        unset($_SESSION['messages'][$type]);
      }
      if (isset($messages[$type])) {
        return array($type =&gt; $messages[$type]);
      }
    }
    else {
      if ($clear_queue) {
        unset($_SESSION['messages']);
      }
      return $messages;
    }
  }
  return array();
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!includes!bootstrap.inc/function/drupal_get_messages/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!includes!bootstrap.inc/function/drupal_get_messages/8.1.x</a>
  </p>
</div>
