<h1 id="page-subtitle">public static function Unicode::validateUtf8</h1>     <pre class="signature">public static <a href="../../class/unicode/8.1.x.html">Unicode</a>::validateUtf8($text)</pre> <p>Checks whether a string is valid UTF-8.</p> <p>All functions designed to filter input should use drupal_validate_utf8 to ensure they operate on valid UTF-8 strings to prevent bypass of the filter.</p> <p>When text containing an invalid UTF-8 lead byte (0xC0 - 0xFF) is presented as UTF-8 to Internet Explorer 6, the program may misinterpret subsequent bytes. When these subsequent bytes are HTML control characters such as quotes or angle brackets, parts of the text that were deemed safe by filters end up in locations that are potentially unsafe; An onerror attribute that is outside of a tag, and thus deemed safe by a filter, can be interpreted by the browser as if it were inside the tag.</p> <p>The function does not return FALSE for strings containing character codes above U+10FFFF, even though these are prohibited by RFC 3629.</p> <h3>Parameters</h3> <p> <strong>string $text</strong>: The text to check.</p> <h3>Return value</h3> <p> bool TRUE if the text is valid UTF-8, FALSE if not.</p>  <h3>File</h3> 
<dl> <dt>core/lib/Drupal/Component/Utility/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Component%21Utility%21Unicode.php/8.1.x">Unicode.php</a>, line 685</dt>  </dl> <h3>Class</h3> 
<dl> <dt>
<a href="../../class/unicode/8.1.x.html">Unicode</a> </dt> <dd>Provides Unicode-related conversions and operations.</dd> </dl> <h3>Namespace</h3> <a href="https://api.drupal.org/api/drupal/namespace/Drupal%21Component%21Utility/8.1.x">Drupal\Component\Utility</a> <h3>Code</h3> <pre class="php" data-language="php">public static function validateUtf8($text) {
  if (strlen($text) == 0) {
    return TRUE;
  }
  // With the PCRE_UTF8 modifier 'u', preg_match() fails silently on strings
  // containing invalid UTF-8 byte sequences. It does not reject character
  // codes above U+10FFFF (represented by 4 or more octets), though.
  return (preg_match('/^./us', $text) == 1);
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!lib!Drupal!Component!Utility!Unicode.php/function/Unicode::validateUtf8/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!lib!Drupal!Component!Utility!Unicode.php/function/Unicode::validateUtf8/8.1.x</a>
  </p>
</div>
