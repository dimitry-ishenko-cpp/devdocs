<h1 id="page-subtitle">function db_query_temporary</h1>     <pre class="signature">db_query_temporary($query, array <del>$args</del> = array(), array <del>$options</del> = array())</pre> <p>Executes a SELECT query string and saves the result set to a temporary table.</p> <p>The execution of the query string happens against the active database.</p> <h3>Parameters</h3> <p> <strong>string $query</strong>: The prepared SELECT statement query to run. Although it will accept both named and unnamed placeholders, named placeholders are strongly preferred as they are more self-documenting.</p> <p><strong>array $args</strong>: An array of values to substitute into the query. If the query uses named placeholders, this is an associative array in any order. If the query uses unnamed placeholders (?), this is an indexed array and the order must match the order of placeholders in the query string.</p> <p><strong>array $options</strong>: An array of options to control how the query operates.</p> <h3>Return value</h3> <p> The name of the temporary table.</p> <div class="api-deprecated"> <h3>Deprecated</h3> <p> as of <a href="../../../core-lib-drupal.php/class/drupal/8.1.x.html" title="Static Service Container wrapper." class="local">Drupal</a> 8.0.x, will be removed in <a href="../../../core-lib-drupal.php/class/drupal/8.1.x.html" title="Static Service Container wrapper." class="local">Drupal</a> 9.0.0. Instead, get a database connection injected into your service from the container and call queryTemporary() on it. For example, $injected_database-&gt;queryTemporary($query, $args, $options);</p> </div> <h3>See also</h3> <p> <a href="../../../core-lib-drupal-core-database-connection.php/function/connection-querytemporary/8.1.x.html" title="Runs a SELECT query and stores its results in a temporary table." class="local">\Drupal\Core\Database\Connection::queryTemporary</a>()</p> <p><a href="../../../core-lib-drupal-core-database-connection.php/function/connection-defaultoptions/8.1.x.html" title="Returns the default query options for any given query." class="local">\Drupal\Core\Database\Connection::defaultOptions</a>()</p> <h3>Related topics</h3>   <dl api-related-topics> <dt><a href="../../../core-lib-drupal-core-database-database.api.php/group/database/8.1.x.html">Database abstraction layer</a></dt> <dd>Allow the use of different database servers using the same code base.</dd> </dl>    <h3>File</h3> 
<dl> <dt>core/includes/<a href="../../8.1.x.html">database.inc</a>, line 130</dt> <dd>Core systems for the database layer.</dd> </dl> <h3>Code</h3> <pre class="php" data-language="php">function db_query_temporary($query, array $args = array(), array $options = array()) {
  if (empty($options['target'])) {
    $options['target'] = 'default';
  }

  return Database::getConnection($options['target'])-&gt;queryTemporary($query, $args, $options);
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!includes!database.inc/function/db_query_temporary/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!includes!database.inc/function/db_query_temporary/8.1.x</a>
  </p>
</div>
