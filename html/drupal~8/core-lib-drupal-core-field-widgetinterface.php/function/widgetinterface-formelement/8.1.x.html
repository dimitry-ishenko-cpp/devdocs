<h1 id="page-subtitle">public function WidgetInterface::formElement</h1>     <pre class="signature">public <a href="../../interface/widgetinterface/8.1.x.html">WidgetInterface</a>::formElement(FieldItemListInterface $items, $delta, array $element, array &amp;$form, FormStateInterface $form_state)</pre> <p>Returns the form for a single field widget.</p> <p>Field widget form elements should be based on the passed-in $element, which contains the base form element properties derived from the field configuration.</p> <p>The BaseWidget methods will set the weight, field name and delta values for each form element. If there are multiple values for this field, the formElement() method will be called as many times as needed.</p> <p>Other modules may alter the form element provided by this function using <a href="../../../core-modules-field-field.api.php/function/hook_field_widget_form_alter/8.1.x.html" title="Alter forms for field widgets provided by other modules." class="local">hook_field_widget_form_alter</a>() or <a href="../../../core-modules-field-field.api.php/function/hook_field_widget_widget_type_form_alter/8.1.x.html" title="Alter widget forms for a specific widget provided by another module." class="local">hook_field_widget_WIDGET_TYPE_form_alter</a>().</p> <p>The FAPI element callbacks (such as #process, #element_validate, #value_callback, etc.) used by the widget do not have access to the original $field_definition passed to the widget's constructor. Therefore, if any information is needed from that definition by those callbacks, the widget implementing this method, or a hook_field_widget[_WIDGET_TYPE]_form_alter() implementation, must extract the needed properties from the field definition and set them as ad-hoc $element['#custom'] properties, for later use by its element callbacks.</p> <h3>Parameters</h3> <p> <strong><a href="../../../core-lib-drupal-core-field-fielditemlistinterface.php/interface/fielditemlistinterface/8.1.x.html" title="Interface for fields, being lists of field items." class="local">\Drupal\Core\Field\FieldItemListInterface</a> $items</strong>: Array of default values for this field.</p> <p><strong>int $delta</strong>: The order of this item in the array of sub-elements (0, 1, 2, etc.).</p> <p><strong>array $element</strong>: A form element array containing basic properties for the widget:</p> <ul> <li>
<strong>#field_parents</strong>: The 'parents' space for the field in the form. Most widgets can simply overlook this property. This identifies the location where the field values are placed within $form_state-&gt;getValues(), and is used to access processing information for the field through the getWidgetState() and setWidgetState() methods.</li> <li>
<strong>#title</strong>: The sanitized element label for the field, ready for output.</li> <li>
<strong>#description</strong>: The sanitized element description for the field, ready for output.</li> <li>
<strong>#required</strong>: A Boolean indicating whether the element value is required; for required multiple value fields, only the first widget's values are required.</li> <li>
<strong>#delta</strong>: The order of this item in the array of sub-elements; see $delta above.</li> </ul> <p><strong>array $form</strong>: The form structure where widgets are being attached to. This might be a full form structure, or a sub-element of a larger form.</p> <p><strong><a href="../../../core-lib-drupal-core-form-formstateinterface.php/interface/formstateinterface/8.1.x.html" title="Provides an interface for an object containing the current state of a form." class="local">\Drupal\Core\Form\FormStateInterface</a> $form_state</strong>: The current state of the form.</p> <h3>Return value</h3> <p> array The form elements for a single widget for this field.</p> <h3>See also</h3> <p> <a href="../../../core-modules-field-field.api.php/function/hook_field_widget_form_alter/8.1.x.html" title="Alter forms for field widgets provided by other modules." class="local">hook_field_widget_form_alter</a>()</p> <p><a href="../../../core-modules-field-field.api.php/function/hook_field_widget_widget_type_form_alter/8.1.x.html" title="Alter widget forms for a specific widget provided by another module." class="local">hook_field_widget_WIDGET_TYPE_form_alter</a>()</p>  <h3>File</h3> 
<dl> <dt>core/lib/Drupal/Core/Field/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Field%21WidgetInterface.php/8.1.x">WidgetInterface.php</a>, line 104</dt>  </dl> <h3>Class</h3> 
<dl> <dt>
<a href="../../interface/widgetinterface/8.1.x.html">WidgetInterface</a> </dt> <dd>Interface definition for field widget plugins.</dd> </dl> <h3>Namespace</h3> <a href="https://api.drupal.org/api/drupal/namespace/Drupal%21Core%21Field/8.1.x">Drupal\Core\Field</a> <h3>Code</h3> <pre class="php" data-language="php">public function formElement(FieldItemListInterface $items, $delta, array $element, array &amp;$form, FormStateInterface $form_state);
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Field!WidgetInterface.php/function/WidgetInterface::formElement/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Field!WidgetInterface.php/function/WidgetInterface::formElement/8.1.x</a>
  </p>
</div>
