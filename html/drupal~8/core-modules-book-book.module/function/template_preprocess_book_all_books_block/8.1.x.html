<h1 id="page-subtitle">function template_preprocess_book_all_books_block</h1>     <pre class="signature">template_preprocess_book_all_books_block(&amp;$variables)</pre> <p>Prepares variables for book listing block templates.</p> <p>Default template: <a href="../../../core-modules-book-templates-book-all-books-block.html.twig/8.1.x.html" title="Default theme implementation for rendering book outlines within a block." class="local">book-all-books-block.html.twig</a>.</p> <p>All non-renderable elements are removed so that the template has full access to the structured data but can also simply iterate over all elements and render them (as in the default template).</p> <h3>Parameters</h3> <p> <strong>array $variables</strong>: An associative array containing the following key:</p> <ul> <li>
<strong>book_menus</strong>: An associative array containing renderable menu links for all book menus.</li> </ul> <h3>File</h3> 
<dl> <dt>core/modules/book/<a href="../../8.1.x.html">book.module</a>, line 365</dt> <dd>Allows users to create and organize related content in an outline.</dd> </dl> <h3>Code</h3> <pre class="php" data-language="php">function template_preprocess_book_all_books_block(&amp;$variables) {
  // Remove all non-renderable elements.
  $elements = $variables['book_menus'];
  $variables['book_menus'] = array();
  foreach (Element::children($elements) as $index) {
    $variables['book_menus'][] = array(
      'id' =&gt; $index,
      'menu' =&gt; $elements[$index],
      'title' =&gt; $elements[$index]['#book_title'],
    );
  }
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!modules!book!book.module/function/template_preprocess_book_all_books_block/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!modules!book!book.module/function/template_preprocess_book_all_books_block/8.1.x</a>
  </p>
</div>
