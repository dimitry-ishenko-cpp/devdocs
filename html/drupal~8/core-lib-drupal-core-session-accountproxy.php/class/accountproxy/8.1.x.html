<h1 id="page-subtitle">class AccountProxy</h1>      <p>A proxied implementation of AccountInterface.</p> <p>The reason why we need an account proxy is that we don't want to have global state directly stored in the container.</p> <p>This proxy object avoids multiple invocations of the authentication manager which can happen if the current user is accessed in constructors. It also allows legacy code to change the current user where the user cannot be directly injected into dependent code.</p> <h3>Hierarchy</h3> <ul>
<li class="first last">class \Drupal\Core\Session\<a href="8.1.x.html" class="active active">AccountProxy</a> implements <a href="../../../core-lib-drupal-core-session-accountproxyinterface.php/interface/accountproxyinterface/8.1.x.html">AccountProxyInterface</a>
</li> </ul>
  <h3>File</h3> 
<dl> <dt>core/lib/Drupal/Core/Session/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Session%21AccountProxy.php/8.1.x">AccountProxy.php</a>, line 16</dt>  </dl> <h3>Namespace</h3> <a href="https://api.drupal.org/api/drupal/namespace/Drupal%21Core%21Session/8.1.x">Drupal\Core\Session</a>  <h3>Members</h3>   <table> <thead> <tr> <th scope="col"> Name </th> <th scope="col"> Modifiers </th> <th scope="col"> Type </th> <th scope="col"> Description </th> </tr> </thead> <tbody> <tr> <td data-th="Name"> <a href="../../../core-lib-drupal-core-session-accountinterface.php/constant/accountinterface-anonymous_role/8.1.x.html">AccountInterface::ANONYMOUS_ROLE</a> </td> <td data-th="Modifiers"> </td> <td data-th="Type"> constant </td> <td data-th="Description"> Role ID for anonymous users. </td> </tr> <tr> <td data-th="Name"> <a href="../../../core-lib-drupal-core-session-accountinterface.php/constant/accountinterface-authenticated_role/8.1.x.html">AccountInterface::AUTHENTICATED_ROLE</a> </td> <td data-th="Modifiers"> </td> <td data-th="Type"> constant </td> <td data-th="Description"> Role ID for authenticated users. </td> </tr> <tr> <td data-th="Name"> <a href="../../property/accountproxy-account/8.1.x.html">AccountProxy::$account</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> property </td> <td data-th="Description"> The instantiated account. </td> </tr> <tr> <td data-th="Name"> <a href="../../property/accountproxy-initialaccountid/8.1.x.html">AccountProxy::$initialAccountId</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> property </td> <td data-th="Description"> Initial account id. </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-getaccount/8.1.x.html">AccountProxy::getAccount</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Gets the currently wrapped account. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountproxyinterface.php/function/accountproxyinterface-getaccount/8.1.x.html">AccountProxyInterface::getAccount</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-getaccountname/8.1.x.html">AccountProxy::getAccountName</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Returns the unaltered login name of this account. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountinterface.php/function/accountinterface-getaccountname/8.1.x.html">AccountInterface::getAccountName</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-getdisplayname/8.1.x.html">AccountProxy::getDisplayName</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Returns the display name of this account. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountinterface.php/function/accountinterface-getdisplayname/8.1.x.html">AccountInterface::getDisplayName</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-getemail/8.1.x.html">AccountProxy::getEmail</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Returns the email address of this account. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountinterface.php/function/accountinterface-getemail/8.1.x.html">AccountInterface::getEmail</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-getlastaccessedtime/8.1.x.html">AccountProxy::getLastAccessedTime</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> The timestamp when the account last accessed the site. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountinterface.php/function/accountinterface-getlastaccessedtime/8.1.x.html">AccountInterface::getLastAccessedTime</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-getpreferredadminlangcode/8.1.x.html">AccountProxy::getPreferredAdminLangcode</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Returns the preferred administrative language code of the account. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountinterface.php/function/accountinterface-getpreferredadminlangcode/8.1.x.html">AccountInterface::getPreferredAdminLangcode</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-getpreferredlangcode/8.1.x.html">AccountProxy::getPreferredLangcode</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Returns the preferred language code of the account. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountinterface.php/function/accountinterface-getpreferredlangcode/8.1.x.html">AccountInterface::getPreferredLangcode</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-getroles/8.1.x.html">AccountProxy::getRoles</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Returns a list of roles. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountinterface.php/function/accountinterface-getroles/8.1.x.html">AccountInterface::getRoles</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-gettimezone/8.1.x.html">AccountProxy::getTimeZone</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Returns the timezone of this account. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountinterface.php/function/accountinterface-gettimezone/8.1.x.html">AccountInterface::getTimeZone</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-getusername/8.1.x.html">AccountProxy::getUsername</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Returns the unaltered login name of this account. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountinterface.php/function/accountinterface-getusername/8.1.x.html">AccountInterface::getUsername</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-haspermission/8.1.x.html">AccountProxy::hasPermission</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Checks whether a user has a certain permission. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountinterface.php/function/accountinterface-haspermission/8.1.x.html">AccountInterface::hasPermission</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-id/8.1.x.html">AccountProxy::id</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Returns the user ID or 0 for anonymous. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountinterface.php/function/accountinterface-id/8.1.x.html">AccountInterface::id</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-isanonymous/8.1.x.html">AccountProxy::isAnonymous</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Returns TRUE if the account is anonymous. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountinterface.php/function/accountinterface-isanonymous/8.1.x.html">AccountInterface::isAnonymous</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-isauthenticated/8.1.x.html">AccountProxy::isAuthenticated</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Returns TRUE if the account is authenticated. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountinterface.php/function/accountinterface-isauthenticated/8.1.x.html">AccountInterface::isAuthenticated</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-loaduserentity/8.1.x.html">AccountProxy::loadUserEntity</a> </td> <td data-th="Modifiers"> protected </td> <td data-th="Type"> function </td> <td data-th="Description"> Load a user entity. </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-setaccount/8.1.x.html">AccountProxy::setAccount</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Sets the currently wrapped account. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountproxyinterface.php/function/accountproxyinterface-setaccount/8.1.x.html">AccountProxyInterface::setAccount</a></em> </td> </tr> <tr> <td data-th="Name"> <a href="../../function/accountproxy-setinitialaccountid/8.1.x.html">AccountProxy::setInitialAccountId</a> </td> <td data-th="Modifiers"> public </td> <td data-th="Type"> function </td> <td data-th="Description"> Sets the id of the initial account. <em class="api-inheritance-source">Overrides <a href="../../../core-lib-drupal-core-session-accountproxyinterface.php/function/accountproxyinterface-setinitialaccountid/8.1.x.html">AccountProxyInterface::setInitialAccountId</a></em> </td> </tr> </tbody> </table><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Session!AccountProxy.php/class/AccountProxy/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Session!AccountProxy.php/class/AccountProxy/8.1.x</a>
  </p>
</div>
