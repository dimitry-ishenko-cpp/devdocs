<h1 id="page-subtitle">public function ContentEntityBase::preSave</h1>     <pre class="signature">public <a href="../../class/contententitybase/8.1.x.html">ContentEntityBase</a>::preSave(EntityStorageInterface $storage)</pre> <p>Acts on an entity before the presave hook is invoked.</p> <p>Used before the entity is saved and before invoking the presave hook. Note that in case of translatable content entities this callback is only fired on their current translation. It is up to the developer to iterate over all translations if needed. This is different from its counterpart in the Field API, FieldItemListInterface::preSave(), which is fired on all field translations automatically. @todo Adjust existing implementations and the documentation according to <a href="https://www.drupal.org/node/2577609">https://www.drupal.org/node/2577609</a> to have a consistent API.</p> <h3>Parameters</h3> <p> <strong><a href="../../../core-lib-drupal-core-entity-entitystorageinterface.php/interface/entitystorageinterface/8.1.x.html" title="Defines the interface for entity storage classes." class="local">\Drupal\Core\Entity\EntityStorageInterface</a> $storage</strong>: The entity storage object.</p> <h3>Throws</h3> <p> \Exception When there is a problem that should prevent saving the entity.</p> <p class="api-override">Overrides <a href="../../../core-lib-drupal-core-entity-entity.php/function/entity-presave/8.1.x.html">Entity::preSave</a></p> <h3>See also</h3> <p> <a href="../../../core-lib-drupal-core-field-fielditemlistinterface.php/function/fielditemlistinterface-presave/8.1.x.html" title="Defines custom presave behavior for field values." class="local">\Drupal\Core\Field\FieldItemListInterface::preSave</a>()</p>  <h3>File</h3> 
<dl> <dt>core/lib/Drupal/Core/Entity/<a href="https://api.drupal.org/api/drupal/core%21lib%21Drupal%21Core%21Entity%21ContentEntityBase.php/8.1.x">ContentEntityBase.php</a>, line 348</dt>  </dl> <h3>Class</h3> 
<dl> <dt>
<a href="../../class/contententitybase/8.1.x.html">ContentEntityBase</a> </dt> <dd>Implements Entity Field API specific enhancements to the Entity class.</dd> </dl> <h3>Namespace</h3> <a href="https://api.drupal.org/api/drupal/namespace/Drupal%21Core%21Entity/8.1.x">Drupal\Core\Entity</a> <h3>Code</h3> <pre class="php" data-language="php">public function preSave(EntityStorageInterface $storage) {
  // An entity requiring validation should not be saved if it has not been
  // actually validated.
  if ($this-&gt;validationRequired &amp;&amp; !$this-&gt;validated) {
    // @todo Make this an assertion in https://www.drupal.org/node/2408013.
    throw new \LogicException('Entity validation was skipped.');
  }
  else {
    $this-&gt;validated = FALSE;
  }

  parent::preSave($storage);
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2001&ndash;2016 by the original authors<br>Licensed under the GNU General Public License, version 2 and later.<br>Drupal is a registered trademark of Dries Buytaert.<br>
    <a href="https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Entity!ContentEntityBase.php/function/ContentEntityBase::preSave/8.1.x" class="_attribution-link">https://api.drupal.org/api/drupal/core!lib!Drupal!Core!Entity!ContentEntityBase.php/function/ContentEntityBase::preSave/8.1.x</a>
  </p>
</div>
