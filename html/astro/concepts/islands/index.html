<h1 id="_top" class="astro-556cgime">Astro Islands</h1> <div class="content-panel astro-ayt3hsza"> <div class="sl-container astro-ayt3hsza"> <div class="sl-markdown-content astro-klj6ju3r"> <p>Astro pioneered and popularized a frontend architecture called <strong>Islands.</strong> Islands architecture results in better frontend performance by helping you avoid monolithic JavaScript patterns and stripping all non-essential JavaScript from the page automatically. Developers keep using their favorite UI components and frameworks with Astro and still get these benefits.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="a-brief-history">A brief history</h2></div> <p>The term “component island” was first coined by Etsy’s frontend architect <a href="https://twitter.com/ksylor">Katie Sylor-Miller</a> in 2019. This idea was then expanded on and documented in <a href="https://jasonformat.com/islands-architecture/">this post</a> by Preact creator Jason Miller on August 11, 2020.</p> <blockquote> <p>The general idea of an “Islands” architecture is deceptively simple: render HTML pages on the server, and inject placeholders or slots around highly dynamic regions […] that can then be “hydrated” on the client into small self-contained widgets, reusing their server-rendered initial HTML.<br> — Jason Miller, Creator of Preact</p> </blockquote> <p>The technique that this architectural pattern builds on is also known as <strong>partial</strong> or <strong>selective hydration.</strong></p> <p>In contrast, most JavaScript-based web frameworks hydrate &amp; render an entire website as one large JavaScript application (also known as a single-page application, or SPA). SPAs provide simplicity and power but suffer from page-load performance problems due to heavy client-side JavaScript usage.</p> <p>SPAs have their place, even <a href="../../guides/migrate-to-astro/from-create-react-app/index.html">embedded inside an Astro page</a>. But, SPAs lack the native ability to selectively and strategically hydrate, making them a heavy-handed choice for most projects on the web today.</p> <p>Astro became popular as the first mainstream JavaScript web framework with selective hydration built-in, using that component islands pattern first coined by Sylor-Miller.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="what-is-an-island">What is an island?</h2></div> <p><strong>In Astro, an “island” refers to any interactive UI component on the page.</strong> Think of an island as an interactive widget floating in a sea of otherwise static, lightweight, server-rendered HTML.</p> <div class="diagram not-content astro-y4w3wuan"> <div class="header app astro-y4w3wuan">Header (interactive island)</div> <div class="sidebar astro-y4w3wuan">Sidebar (static HTML)</div> <div class="main astro-y4w3wuan"><p>Static content like text, images, etc.</p></div> <div class="carousel app astro-y4w3wuan">Image carousel (interactive island)</div> <div class="footer astro-y4w3wuan">Footer (static HTML)</div> </div> <p class="credit astro-y4w3wuan">Source: <a href="https://jasonformat.com/islands-architecture/">Islands Architecture: Jason Miller</a></p> <p>An island always runs in isolation from other islands on the page, and multiple islands can exist on a page. Islands can still share state and communicate with each other, even though they run in different component contexts.</p> <p>This flexibility allows Astro to support multiple UI frameworks like <a href="https://react.dev/">React</a>, <a href="https://preactjs.com/">Preact</a>, <a href="https://svelte.dev/">Svelte</a>, <a href="https://vuejs.org/">Vue</a>, and <a href="https://www.solidjs.com/">SolidJS</a>. Because they are independent, you can even mix several frameworks on each page.</p> <aside aria-label="Tip" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true">Tip</p>
<section class="starlight-aside__content"><p>Although most developers will stick to just one UI framework, Astro supports multiple frameworks in the same project. This allows you to:</p>
<ul> <li>Choose the framework that is best for each component.</li> <li>Learn a new framework without needing to start a new project.</li> <li>Collaborate with others even when working in different frameworks.</li> <li>Incrementally convert an existing site to another framework with no downtime.</li> </ul></section></aside> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="creating-an-island">Creating an island</h2></div> <p>By default, Astro will automatically render every UI component to just HTML &amp; CSS, <strong>stripping out all client-side JavaScript automatically.</strong></p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">&lt;MyReactComponent /&gt;</pre>

</div> <p>This may sound strict, but this behavior is what keeps Astro websites fast by default and protects developers from accidentally sending unnecessary or unwanted JavaScript that might slow down their website.</p> <p>Turning any static UI component into an interactive island requires only a <code dir="auto">client:*</code> directive. Astro then automatically builds and bundles your client-side JavaScript for optimized performance.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">&lt;!-- This component is now interactive on the page!
     The rest of your website remains static. --&gt;
&lt;MyReactComponent client:load /&gt;</pre>

</div> <p>With islands, client-side JavaScript is only loaded for the explicit interactive components that you mark using <code dir="auto">client:*</code> directives.</p> <p>And because interaction is configured at the component-level, you can handle different loading priorities for each component based on its usage. For example, <code dir="auto">client:idle</code> tells a component to load when the browser becomes idle, and <code dir="auto">client:visible</code> tells a component to load only once it enters the viewport.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="what-are-the-benefits-of-islands">What are the benefits of Islands?</h2></div> <p>The most obvious benefit of building with Astro Islands is performance: the majority of your website is converted to fast, static HTML and JavaScript is only loaded for the individual components that need it. JavaScript is one of the slowest assets that you can load per-byte, so every byte counts.</p> <p>Another benefit is parallel loading. In the example illustration above, the low-priority “image carousel” island doesn’t need to block the high-priority “header” island. The two load in parallel and hydrate in isolation, meaning that the header becomes interactive immediately without having to wait for the heavier carousel lower down the page.</p> <p>Even better, you can tell Astro exactly how and when to render each component. If that image carousel is really expensive to load, you can attach a special <a href="../../reference/directives-reference/index.html#client-directives">client directive</a> that tells Astro to only load the carousel when it becomes visible on the page. If the user never sees it, it never loads.</p> <p>In Astro, it’s up to you as the developer to explicitly tell Astro which components on the page need to also run in the browser. Astro will only hydrate exactly what’s needed on the page and leave the rest of your site as static HTML.</p> <p><strong>Islands are the secret to Astro’s fast-by-default performance story!</strong></p> <span id="docsearch-lvl0" hidden class="astro-klj6ju3r">Learn</span> </div>   </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 Fred K. Schott<br>Licensed under the MIT License.<br>
    <a href="https://docs.astro.build/en/concepts/islands/" class="_attribution-link">https://docs.astro.build/en/concepts/islands/</a>
  </p>
</div>
