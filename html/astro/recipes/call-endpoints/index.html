<h1 id="_top" class="astro-556cgime">Call endpoints from the server</h1> <div class="content-panel astro-ayt3hsza"> <div class="sl-container astro-ayt3hsza"> <div class="sl-markdown-content astro-klj6ju3r"> <p>Endpoints can be used to serve many kinds of data. This recipe calls a server endpoint from a page’s component script to display a greeting, without requiring an additional fetch request.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="prerequisites">Prerequisites</h2></div> <ul> <li>A project with <a href="../../guides/server-side-rendering/index.html">SSR</a> (output: ‘server’) enabled</li> </ul> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="recipe">Recipe</h2></div> <ol role="list" class="sl-steps"> <li> <p>Create an endpoint in a new file <code dir="auto">src/pages/api/hello.ts</code> that returns some data:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/api/hello.ts</span></div>
<pre data-language="ts">import type { APIRoute } from 'astro'


export const GET: APIRoute = () =&gt; {
  return new Response(
    JSON.stringify({
      greeting: 'Hello',
    }),
  )
}</pre>

</div> </li> <li> <p>On any Astro page, import the <code dir="auto">GET()</code> method from the endpoint. Call it with the <a href="../../reference/api-reference/index.html#astro-global"><code dir="auto">Astro</code> global</a> to provide the request context, and use the response on the page:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
import { GET } from './api/hello.ts'


let response = await GET(Astro)
const data = await response.json()
---


&lt;h1&gt;{data.greeting} world!&lt;/h1&gt;</pre>

</div> </li> </ol> <span id="docsearch-lvl0" hidden class="astro-klj6ju3r">Recipes</span> </div>   </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 Fred K. Schott<br>Licensed under the MIT License.<br>
    <a href="https://docs.astro.build/en/recipes/call-endpoints/" class="_attribution-link">https://docs.astro.build/en/recipes/call-endpoints/</a>
  </p>
</div>
