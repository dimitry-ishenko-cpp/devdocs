<h1 id="_top" class="astro-556cgime">Use Bun with Astro</h1> <div class="content-panel astro-ayt3hsza"> <div class="sl-container astro-ayt3hsza"> <div class="sl-markdown-content astro-klj6ju3r"> <p><a href="https://bun.sh/">Bun</a> is an all-in-one JavaScript runtime &amp; toolkit. See <a href="https://bun.sh/docs">Bun’s documentation</a> for more information.</p> <aside aria-label="Caution" class="starlight-aside starlight-aside--caution"><p class="starlight-aside__title" aria-hidden="true">Caution</p>
<section class="starlight-aside__content"><p>Using Bun with Astro may reveal rough edges. Some integrations may not work as expected. Consult <a href="https://bun.sh/guides/ecosystem/astro">Bun’s official documentation for working with Astro</a> for details.</p>
<p>If you have any problems using Bun, please <a href="https://github.com/oven-sh/bun/issues/new/choose">open an Issue on GitHub with Bun directly</a>.</p></section></aside> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="prerequisites">Prerequisites</h2></div> <ul> <li>Bun installed locally on your machine. See the <a href="https://bun.sh/docs/installation">installation instructions</a> in Bun’s official documentation.</li> </ul> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="create-a-new-astro-project-with-bun">Create a new Astro project with Bun</h2></div> <p>Create a new Astro project with Bun using the following <code dir="auto">create-astro</code> command:</p> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="bash">bunx create-astro@latest my-astro-project-using-bun</pre>

</div> <aside aria-label="Tip" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true">Tip</p>
<section class="starlight-aside__content"><p>You may also <a href="../../install-and-setup/index.html#use-a-theme-or-starter-template">create a new Astro project from any existing Astro GitHub repository</a> using the <code dir="auto">--template</code> flag:</p>
<div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="bash">bunx create-astro@latest my-astro-project-using-bun --template eliancodes/brutal</pre>

</div></section></aside> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="install-dependencies">Install dependencies</h2></div> <p>If you’re starting a new project using <code dir="auto">bunx create-astro</code>, the CLI will automatically use Bun to install dependencies and you can skip this step.</p> <p>Otherwise, you’ll need to install your dependencies with Bun:</p> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="bash">bun install</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="add-types">Add Types</h2></div> <p>Bun publishes the <a href="https://www.npmjs.com/package/@types/bun"><code dir="auto">@types/bun</code></a> package, containing the runtime types for Bun.</p> <p>Install <code dir="auto">@types/bun</code> using the following command:</p> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="sh">bun add -d @types/bun</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="using-astro-integrations">Using Astro integrations</h2></div> <p>You can also use any of the official Astro integrations with the <code dir="auto">astro add</code> command:</p> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="bash">bunx astro add react</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="run-astro-with-bun">Run Astro with Bun</h2></div> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>Use the <a href="https://bun.sh/docs/cli/bunx#shebangs"><code dir="auto">--bun</code> CLI flag</a> before every <code dir="auto">astro</code> command to use Bun’s own runtime in place of Node.</p></section></aside> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="run-the-development-server">Run the development server</h3></div> <p>To run the development server using Bun as the runtime, use the following command:</p> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="bash">bunx --bun astro dev</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="building-your-site-with-bun">Building your site with Bun</h3></div> <p>To build your site using Bun as the runtime, use the following command:</p> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="bash">bunx --bun astro build</pre>

</div> <p>Astro will output your site to the <code dir="auto">dist/</code> directory. Then, you can serve your site using the <code dir="auto">preview</code> command:</p> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="bash">bunx --bun astro preview</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="add-ssr-with-bun">Add SSR with Bun</h2></div> <p>Since Bun features <a href="https://bun.sh/docs/runtime/nodejs-apis">Node.js API compatibility</a>, you can use any Astro adapter for <a href="../../guides/server-side-rendering/index.html">server-side rendering</a> to your Astro project:</p> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="bash">bunx astro add vercel</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="testing-in-bun">Testing in Bun</h2></div> <p>Bun ships with a fast, built-in, Jest-compatible test runner through the <code dir="auto">bun test</code> command. If you like to use that read <a href="https://bun.sh/docs/cli/test"><code dir="auto">bun test</code> documentation</a>.</p> <p>However, it is also possible to use Cypress or Playwright for a modern approach to testing web apps.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="cypress">Cypress</h3></div> <p>Cypress is a front-end testing tool and is on a mission to “make the testing experience enjoyable and generate developer happiness”. This enables you to write end-to-end tests for your Astro site.</p> <p>Install Cypress with the following command:</p> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="bash">bun add cypress --dev</pre>

</div> <p>For the rest of the configuration and to start your first test, follow the rest of Cypress process in the <a href="../../guides/testing/index.html#configuration">Astro Testing Guide</a>.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="playwright">Playwright</h3></div> <p>Playwright is an end-to-end testing framework that allows you to test your Astro code on all modern rendering engines including Chromium, WebKit, and Firefox.</p> <p>Install Playwright using the following command:</p> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="bash">bun create playwright</pre>

</div> <p>To create your first Playwright test, follow the instructions for the rest of the Playwright process in the <a href="../../guides/testing/index.html#create-your-first-playwright-test">Astro Testing Guide</a>.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="official-resources">Official Resources</h2></div> <ul> <li><a href="https://bun.sh/guides/ecosystem/astro">Build an app with Astro and Bun</a></li> </ul> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="community-resources">Community Resources</h2></div> <p>Using Bun with Astro? Add your blog post or video to this page!</p> <ul> <li>
<a href="https://blog.otterlord.dev/posts/hello-from-bun/">Building a Cloudflare Pages site with Bun</a> - blog post</li> </ul> <span id="docsearch-lvl0" hidden class="astro-klj6ju3r">Recipes</span> </div>   </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 Fred K. Schott<br>Licensed under the MIT License.<br>
    <a href="https://docs.astro.build/en/recipes/bun/" class="_attribution-link">https://docs.astro.build/en/recipes/bun/</a>
  </p>
</div>
