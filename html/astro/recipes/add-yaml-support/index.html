<h1 id="_top" class="astro-556cgime">Installing a Vite or Rollup plugin</h1> <div class="content-panel astro-ayt3hsza"> <div class="sl-container astro-ayt3hsza"> <div class="sl-markdown-content astro-klj6ju3r"> <p>Astro builds on top of Vite, and supports both Vite and Rollup plugins. This recipe uses a Rollup plugin to add the ability to import a YAML (<code dir="auto">.yml</code>) file in Astro.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="recipe">Recipe</h2></div> <ol role="list" class="sl-steps"> <li> <p>Install <code dir="auto">@rollup/plugin-yaml</code>:</p> <starlight-tabs data-sync-key="package-managers" class="astro-tx2opqu5"> <div class="tablist-wrapper not-content astro-tx2opqu5"> <ul role="tablist" class="astro-tx2opqu5"> <li role="presentation" class="tab astro-tx2opqu5"> <a role="tab" href="#tab-panel-513" id="tab-513" aria-selected="true" tabindex="0" class="astro-tx2opqu5"> npm </a> </li>
<li role="presentation" class="tab astro-tx2opqu5"> <a role="tab" href="#tab-panel-514" id="tab-514" aria-selected="false" tabindex="-1" class="astro-tx2opqu5"> pnpm </a> </li>
<li role="presentation" class="tab astro-tx2opqu5"> <a role="tab" href="#tab-panel-515" id="tab-515" aria-selected="false" tabindex="-1" class="astro-tx2opqu5"> Yarn </a> </li> </ul> </div> <section id="tab-panel-513" aria-labelledby="tab-513" role="tabpanel"> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="shell">npm install @rollup/plugin-yaml --save-dev</pre>

</div> </section> <section id="tab-panel-514" aria-labelledby="tab-514" role="tabpanel" hidden> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="shell">pnpm add @rollup/plugin-yaml --save-dev</pre>

</div> </section> <section id="tab-panel-515" aria-labelledby="tab-515" role="tabpanel" hidden> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="shell">yarn add @rollup/plugin-yaml --save-dev</pre>

</div> </section> </starlight-tabs>  </li> <li> <p>Import the plugin in your <code dir="auto">astro.config.mjs</code> and add it to the Vite plugins array:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro.config.mjs</span></div>
<pre data-language="js">import { defineConfig } from 'astro/config';
import yaml from '@rollup/plugin-yaml';


export default defineConfig({
  vite: {
    plugins: [yaml()]
  }
});</pre>

</div> </li> <li> <p>Finally, you can import YAML data using an <code dir="auto">import</code> statement:</p> <div class="expressive-code">

<pre data-language="js">import yml from './data.yml';</pre>

</div> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>While you can now import YAML data in your Astro project, your editor will not provide types for the imported data. To add types, create or find an existing <code dir="auto">*.d.ts</code> file in the <code dir="auto">src</code> directory of your project and add the following:</p>
<div class="expressive-code">
<div class="_pre-heading"><span class="title">src/files.d.ts</span></div>
<pre data-language="ts">// Specify the file extension you want to import
declare module "*.yml" {
  const value: any; // Add type definitions here if desired
  export default value;
}</pre>

</div>
<p>This will allow your editor to provide type hints for your YAML data.</p></section></aside> </li> </ol> <span id="docsearch-lvl0" hidden class="astro-klj6ju3r">Recipes</span> </div>   </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 Fred K. Schott<br>Licensed under the MIT License.<br>
    <a href="https://docs.astro.build/en/recipes/add-yaml-support/" class="_attribution-link">https://docs.astro.build/en/recipes/add-yaml-support/</a>
  </p>
</div>
