<h1 class="content-title astro-j75b3yus" id="overview">Build HTML Forms in Astro Pages</h1> <p>In SSR mode, Astro pages can both display and handle forms. In this recipe, you’ll use a standard HTML form to submit data to the server. Your frontmatter script will handle the data on the server, sending no JavaScript to the client.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="prerequisites">Prerequisites</h2></div> <ul> <li>A project with <a href="../../guides/server-side-rendering/index.html">SSR</a> (<code>output: 'server'</code>) enabled</li> </ul> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="recipe">Recipe</h2></div> <ol> <li> <p>Create or identify a <code>.astro</code> page which will contain your form and your handling code. For example, you could add a registration page:</p> <div class="expressive-code ec ec-s1gwf">
<div class="_pre-heading"><span class="title">src/pages/register.astro</span></div>


</div> </li> <li> <p>Add a <code>&lt;form&gt;</code> tag with some inputs to the page. Each input should have a <code>name</code> attribute that describes the value of that input.</p> <p>Be sure to include a <code>&lt;button&gt;</code> or <code>&lt;input type="submit"&gt;</code> element to submit the form.</p> <div class="expressive-code ec ec-s1gwf">
<div class="_pre-heading"><span class="title">src/pages/register.astro</span></div>


</div> </li> <li> <p>Use <a href="https://developer.mozilla.org/en-US/docs/Learn/Forms/Form_validation#using_built-in_form_validation">validation attributes</a> to provide basic client-side validation that works even if JavaScript is disabled.</p> <p>In this example,</p> <ul> <li>
<code>required</code> prevents form submission until the field is filled.</li> <li>
<code>minlength</code> sets a minimum required length for the input text.</li> <li>
<code>type="email"</code> also introduces validation that will only accept a valid email format.</li> </ul> <div class="expressive-code ec ec-s1gwf">
<div class="_pre-heading"><span class="title">src/pages/register.astro</span></div>


</div> <aside class="content tip astro-duqfclob" aria-label="Tip"> <p class="title astro-duqfclob" aria-hidden="true">  Tip </p> <section class="astro-duqfclob"> <p>You can add custom validation logic that refers to multiple fields using a <code>&lt;script&gt;</code> tag and the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Constraint_validation#complex_constraints_using_the_constraint_validation_api">Constraint Validation API</a>.</p>
<p>To write complex validation logic more easily, you can build your form using a <a href="../../core-concepts/framework-components/index.html">frontend framework</a> and choose a form library like <a href="https://react-hook-form.com/">React Hook Form</a> or <a href="https://felte.dev/">Felte</a>.</p> </section> </aside> </li> <li> <p>The form submission will cause the browser to request the page again. Change the form’s data transfer <code>method</code> to <code>POST</code> to send the form data as part of the <code>Request</code> body, rather than as URL parameters.</p> <div class="expressive-code ec ec-s1gwf">
<div class="_pre-heading"><span class="title">src/pages/register.astro</span></div>


</div> </li> <li> <p>Check for the <code>POST</code> method in the frontmatter and access the form data using <code>Astro.request.formData()</code>. Wrap this in a <code>try ... catch</code> block to handle cases when the <code>POST</code> request wasn’t sent by a form and the <code>formData</code> is invalid.</p> <div class="expressive-code ec ec-s1gwf">
<div class="_pre-heading"><span class="title">src/pages/register.astro</span></div>


</div> </li> <li> <p>Validate the form data on the server. This should include the same validation done on the client to prevent malicious submissions to your endpoint and to support the rare legacy browser that doesn’t have form validation.</p> <p>It can also include validation that can’t be done on the client. For example, this example checks if the email is already in the database.</p> <p>Error messages can be sent back to the client by storing them in an <code>errors</code> object and accessing it in the template.</p> <div class="expressive-code ec ec-s1gwf">
<div class="_pre-heading"><span class="title">src/pages/register.astro</span></div>


</div> </li> </ol> <hr class="astro-763jalmv"> <h2 class="astro-763jalmv">More recipes</h2> <div class="astro-t6xftchq"> <section class="cards-nav astro-t6xftchq astro-kq5jy4fu"> <ul class="fluid-grid astro-oxk5cgh7"> <li class="card card--maximal  astro-kq5jy4fu astro-har75nup"> <div class="stack astro-har75nup"> <h3 class="astro-har75nup"> <a href="../../core-concepts/sharing-state/index.html" aria-current="false" class="astro-har75nup"> Share State Between Islands </a> </h3> <p class="description astro-kq5jy4fu">Learn how to share state across framework components with Nano Stores.</p> </div> </li>
<li class="card card--maximal  astro-kq5jy4fu astro-har75nup"> <div class="stack astro-har75nup"> <h3 class="astro-har75nup"> <a href="../../guides/rss/index.html" aria-current="false" class="astro-har75nup"> Add an RSS feed </a> </h3> <p class="description astro-kq5jy4fu">Add an RSS feed to your Astro site to let users subscribe to your content.</p> </div> </li>
<li class="card card--maximal  astro-kq5jy4fu astro-har75nup"> <div class="stack astro-har75nup"> <h3 class="astro-har75nup"> <a href="../add-yaml-support/index.html" aria-current="false" class="astro-har75nup"> Installing a Vite or Rollup plugin </a> </h3> <p class="description astro-kq5jy4fu">Learn how you can import YAML data by adding a Rollup plugin to your project.</p> </div> </li>
<li class="card card--maximal  astro-kq5jy4fu astro-har75nup"> <div class="stack astro-har75nup"> <h3 class="astro-har75nup"> <a href="../build-forms-api/index.html" aria-current="false" class="astro-har75nup"> Build Forms With API Routes </a> </h3> <p class="description astro-kq5jy4fu">Learn how to use JavaScript to send form submissions to an API Route</p> </div> </li>
<li class="card card--maximal  astro-kq5jy4fu astro-har75nup"> <div class="stack astro-har75nup"> <h3 class="astro-har75nup"> <a href="index.html" aria-current="page" class="astro-har75nup"> Build HTML Forms in Astro Pages </a> </h3> <p class="description astro-kq5jy4fu">Learn how to build HTML forms and handle submissions in your frontmatter</p> </div> </li>
<li class="card card--maximal  astro-kq5jy4fu astro-har75nup"> <div class="stack astro-har75nup"> <h3 class="astro-har75nup"> <a href="../bun/index.html" aria-current="false" class="astro-har75nup"> Use Bun with Astro </a> </h3> <p class="description astro-kq5jy4fu">Learn how to use Bun with your Astro site.</p> </div> </li>
<li class="card card--maximal  astro-kq5jy4fu astro-har75nup"> <div class="stack astro-har75nup"> <h3 class="astro-har75nup"> <a href="../call-endpoints/index.html" aria-current="false" class="astro-har75nup"> Call endpoints from the server </a> </h3> <p class="description astro-kq5jy4fu">Learn how to call endpoints from the server in Astro.</p> </div> </li>
<li class="card card--maximal  astro-kq5jy4fu astro-har75nup"> <div class="stack astro-har75nup"> <h3 class="astro-har75nup"> <a href="../captcha/index.html" aria-current="false" class="astro-har75nup"> Verify a Captcha </a> </h3> <p class="description astro-kq5jy4fu">Learn how to create an API route and fetch it from the client.</p> </div> </li>
<li class="card card--maximal  astro-kq5jy4fu astro-har75nup"> <div class="stack astro-har75nup"> <h3 class="astro-har75nup"> <a href="../docker/index.html" aria-current="false" class="astro-har75nup"> Build your Astro Site with Docker </a> </h3> <p class="description astro-kq5jy4fu">Learn how to build your Astro site using Docker.</p> </div> </li>
<li class="card card--maximal  astro-kq5jy4fu astro-har75nup"> <div class="stack astro-har75nup"> <h3 class="astro-har75nup"> <a href="../external-links/index.html" aria-current="false" class="astro-har75nup"> Add icons to external links </a> </h3> <p class="description astro-kq5jy4fu">Learn how to install a rehype plugin to add icons to external links in your Markdown files</p> </div> </li>
<li class="card card--maximal  astro-kq5jy4fu astro-har75nup"> <div class="stack astro-har75nup"> <h3 class="astro-har75nup"> <a href="../i18n/index.html" aria-current="false" class="astro-har75nup"> Add i18n features </a> </h3> <p class="description astro-kq5jy4fu">Use dynamic routing and content collections to add internationalization support to your Astro site.</p> </div> </li>
<li class="card card--maximal  astro-kq5jy4fu astro-har75nup"> <div class="stack astro-har75nup"> <h3 class="astro-har75nup"> <a href="../modified-time/index.html" aria-current="false" class="astro-har75nup"> Add Last Modified Time </a> </h3> <p class="description astro-kq5jy4fu">Build a remark plugin to add the last modified time to your Markdown and MDX.</p> </div> </li>
<li class="card card--maximal  astro-kq5jy4fu astro-har75nup"> <div class="stack astro-har75nup"> <h3 class="astro-har75nup"> <a href="../reading-time/index.html" aria-current="false" class="astro-har75nup"> Add Reading Time </a> </h3> <p class="description astro-kq5jy4fu">Build a remark plugin to add reading time to your Markdown or MDX files.</p> </div> </li>
<li class="card card--maximal  astro-kq5jy4fu astro-har75nup"> <div class="stack astro-har75nup"> <h3 class="astro-har75nup"> <a href="../sharing-state/index.html" aria-current="false" class="astro-har75nup"> Share State Between Astro Components </a> </h3> <p class="description astro-kq5jy4fu">Learn how to share state across Astro components with Nano Stores.</p> </div> </li> </ul> </section> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 Fred K. Schott<br>Licensed under the MIT License.<br>
    <a href="https://docs.astro.build/en/recipes/build-forms/" class="_attribution-link">https://docs.astro.build/en/recipes/build-forms/</a>
  </p>
</div>
