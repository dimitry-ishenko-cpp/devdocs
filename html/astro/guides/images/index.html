<h1 id="_top" class="astro-556cgime">Images</h1> <div class="content-panel astro-ayt3hsza"> <div class="sl-container astro-ayt3hsza"> <div class="sl-markdown-content astro-klj6ju3r"> <p>Astro provides several ways for you to use images on your site, whether they are stored locally inside your project, linked to from an external URL, or managed in a CMS or CDN!</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="where-to-store-images">Where to store images</h2></div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="src-vs-public">
<code dir="auto">src/</code> vs <code dir="auto">public/</code>
</h3></div> <p>We recommend that local images are kept in <code dir="auto">src/</code> when possible so that Astro can transform, optimize and bundle them. Files in the <code dir="auto">/public</code> directory are always served or copied into the build folder as-is, with no processing.</p> <p>Your local images stored in <code dir="auto">src/</code> can be used by all files in your project: <code dir="auto">.astro</code>, <code dir="auto">.md</code>, <code dir="auto">.mdx</code>, <code dir="auto">.mdoc</code>, and other UI frameworks. Images can be stored in any folder, including alongside your content.</p> <p>Store your images in the <code dir="auto">public/</code> folder if you want to avoid any processing or to have a direct public link to them.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="remote-images">Remote images</h3></div> <p>You can also choose to store your images remotely, in a content management system (CMS) or digital asset management (DAM) platform.</p> <p>For extra protection when dealing with external sources, remote images will only be processed from <a href="#authorizing-remote-images">authorized image sources</a> specified in your configuration. However, any remote images can be displayed.</p> <p>Astro can fetch your data remotely using APIs or display images from their full URL path. See our <a href="../cms/index.html">CMS guides</a> for examples of integrating common services.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="images-in-astro-files">Images in <code dir="auto">.astro</code> files</h2></div> <p>In <code dir="auto">.astro</code> files, <strong>local images must be imported into the file in order to be used</strong>. Remote and <code dir="auto">public/</code> images do not require importing.</p> <p>Import and use Astro’s built-in <code dir="auto">&lt;Image /&gt;</code> component for optimized images using <code dir="auto">astro:assets</code>. Alternatively, Astro syntax supports writing an HTML <code dir="auto">&lt;img&gt;</code> tag directly, which skips image processing.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/blog/my-images.astro</span></div>
<pre data-language="astro">---
import { Image } from 'astro:assets';
import localBirdImage from '../../images/subfolder/localBirdImage.png';
---
&lt;Image src={localBirdImage} alt="A bird sitting on a nest of eggs." /&gt;
&lt;Image src="/images/bird-in-public-folder.jpg" alt="A bird." width="50" height="50" /&gt;
&lt;Image src="https://example.com/remote-bird.jpg" alt="A bird." width="50" height="50" /&gt;


&lt;img src={localBirdImage.src} alt="A bird sitting on a nest of eggs."&gt;
&lt;img src="/images/bird-in-public-folder.jpg" alt="A bird."&gt;
&lt;img src="https://example.com/remote-bird.jpg" alt="A bird."&gt;</pre>

</div> <p>To dynamically import images from the <code dir="auto">src/</code> folder, see the following recipe:</p> <div class="root astro-u7553m4s"> <div class="flex astro-u7553m4s"> <img src="data:image/webp;base64,UklGRuQEAABXRUJQVlA4WAoAAAAYAAAAMwAANQAAQUxQSGsCAAABoEZrmyFJeiMix7Zt27a9tm3btm3btm3bthVffO8iMyo7avZ/REwAVoo2y6zNnEnJOBS6dBzQdavzbr3ppFUaw5g0nEO94/9g7qebAZlzzpmaMQbo8SQpXsQLeRbyXU0YYNFdP9Mrc4PwkKG7HLD9FAdXA8CxJAOLVZn78hLY0hz2onhltKqIBHJnuJIsuv7KwFI9OQuuHIc16Vmy520wZW1DKUv5WV2YkubQl/dlWQZ13uRfJQkfhEG5DtOVXoJWpn9xI7iS4DDrXVYexJMXolzjsiyrg0abXPPoT9QYJcmjjKmVOVuRRewNlAjlCxfs2BX5rgILTN7/hOOOP/7E088++11q1K1HH374SSccf/xxW3WDMTEWHe5krDJWGfnb7og1aPw6JVIZH6TQk/vCFWU4in8wwUAOgi1Aw08ZUqDn/nBFXQPTFF4V0ztQE7klpldgmsKbq+KWqri5Aq2KNFcOWhVpVqJVEaj/D72VaQpviekZkrkZtU3BSCZzBwCbtwslDfKPB9cBXM7F9KmQfKA73H/upyQjnl8MgQMavM2QDPkX320Dg+bfUhPin7wQFi1/SksZBsO2+DEteu6HWo0/YUhK+DCAK6gimg4Dr2mITtf8SVLFS9Ak+CePtECP7W7/krHBF2qOBC3SIF7JNWAtgJbTdrngofd/FTIII+U//9UQJChzn10AADaz+G/Drq/Tk6+fdOYZZ5xx+tGHfkmv/PX6N/5g4V/v3nnoOMAg17gsc9iD5Fvb1kfhoOeo5Bh0HD5nlfU2WHX+6M4NAcAh0qK//+G69RoBtXKz2siOU+ENiDa1nAEAAFZQOCA8AgAAUA0AnQEqNAA2AD7lYqZPKSUjIiwVXZkgHIlkAMdkbc6KwKFXtoJpaNoyqLQ/FGN00F6wVZIfnXiVi1ZJjkcZ0nNZIsE90QHkgj4yGAjIg8GNR3g1bfXluGis9CqpEDIaIKQSEfuf2Uk/tJygs2T/CpkLOAD++90v7wUm4rf+3+Af0bFf9FDxRxPx/uyNmmuUn84N1S8oeCamnnI71i6f4UiRm8f9Hp1bg3B4DsRB5+mUgzo/4bnweeaxZgh0SL/aJJmVmzy9c8202SrAoix1gA9Mu6pJtpQzIzp5YuIDPxOw+qfShBsZNu7bs2FbLYm9QXO6KOogBnG8yukH0OwiE+DnM/TVmtkTBW16oDUc1kwDuwb2koEyJK3+nIi9vTEJbmgjzNy0hv2qQpmT8IGeGOmWASc8HdwGSXXiapinC4l4um2zabGEmrQWa8rLxGRQ/ZFsnmAvLdTLDk89DnLcpQ78xNMPbbKut8V2OvI0rPE6x/rStU9bxZRN+0T+Wa/kZPFrAtpeEMeI31JeMUUw7ki5RB5R3I4uviJ32A/q+PzE5/JGDVkn7vjHQboTyXOWWQI8qKDwRfPeR4/MHhDprmFlw7Qf/Y4VNXdX4X9DXrU1Dk02qM1tPVpcTLNneaESBYpH9S35JjhN7dD4DlrRVZjvdfI3Xa90VJCaBoCsRLS3lj97HXa2WoLFvBUR1hrmHn7KW+bQCefXaR8JfLC4VFMIDMFfZf8Lf7+0sF+p2hrsjrlHvC/Z1Mf4AABFWElGDgAAAE1NACoAAAAIAAAAAAAA" width="24" alt="" class="astro-u7553m4s"> <strong class="astro-u7553m4s">Related recipe:</strong> <a href="../../recipes/dynamically-importing-images/index.html" class="astro-u7553m4s"> Dynamically import images </a> </div> </div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="image--astroassets">
<code dir="auto">&lt;Image /&gt;</code> (<code dir="auto">astro:assets</code>)</h3></div> <p>Use the built-in <code dir="auto">&lt;Image /&gt;</code> Astro component to display optimized versions of your local images and <a href="#authorizing-remote-images">configured remote images</a>.</p> <p>Images in the <code dir="auto">public/</code> folder, as well as remote images not specifically configured in your project, can also be used with the Image component, but will not be processed.</p> <p><code dir="auto">&lt;Image /&gt;</code> can transform a local or authorized remote image’s dimensions, file type, and quality for control over your displayed image. The resulting <code dir="auto">&lt;img&gt;</code> tag includes <code dir="auto">alt</code>, <code dir="auto">loading</code>, and <code dir="auto">decoding</code> attributes and infers image dimensions to avoid <strong>Cumulative Layout Shift (CLS)</strong>.</p> <aside aria-label="What is Cumulative Layout Shift?" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true">What is Cumulative Layout Shift?</p>
<section class="starlight-aside__content"><p><a href="https://web.dev/cls/">Cumulative Layout Shift (CLS)</a> is a Core Web Vital metric for measuring how much content shifted on your page during loading. The <code dir="auto">&lt;Image /&gt;</code> component optimizes for CLS by automatically setting the correct <code dir="auto">width</code> and <code dir="auto">height</code> for your local images.</p></section></aside> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/components/MyComponent.astro</span></div>
<pre data-language="astro">---
// import the Image component and the image
import { Image } from 'astro:assets';
import myImage from '../assets/my_image.png'; // Image is 1600x900
---


&lt;!-- `alt` is mandatory on the Image component --&gt;
&lt;Image src={myImage} alt="A description of my image." /&gt;</pre>

</div> <div class="expressive-code">

<pre data-language="html">&lt;!-- Output --&gt;
&lt;!-- Image is optimized, proper attributes are enforced --&gt;
&lt;img
  src="/_astro/my_image.hash.webp"
  width="1600"
  height="900"
  decoding="async"
  loading="lazy"
  alt="A description of my image."
/&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="properties">Properties</h4></div> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="src-required">src (required)</h5></div> <p>The format of the <code dir="auto">src</code> value of your image file depends on where your image file is located:</p> <ul> <li> <p><strong>Local images in <code dir="auto">src/</code></strong> - you must <strong>also import the image</strong> using a relative file path or configure and use an <a href="../imports/index.html#aliases">import alias</a>. Then use the import name as the <code dir="auto">src</code> value:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
import { Image } from 'astro:assets';
import myImportedImage from '../assets/my-local-image.png';
---
&lt;Image src={myImportedImage} alt="descriptive text" /&gt;</pre>

</div> </li> <li> <p><strong>Images in the <code dir="auto">public/</code> folder</strong> - use the image’s <strong>file path relative to the public folder</strong>:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
import { Image } from 'astro:assets';
---
&lt;Image
  src="/images/my-public-image.png"
  alt="descriptive text"
  width="200"
  height="150"
/&gt;</pre>

</div> </li> <li> <p><strong>Remote images</strong> - use the image’s <strong>full URL</strong> as the property value:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
import { Image } from 'astro:assets';
---
&lt;Image
  src="https://example.com/remote-image.jpg"
  alt="descriptive text"
  width="200"
  height="150"
/&gt;</pre>

</div> </li> </ul> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="alt-required">alt (required)</h5></div> <p>Use the required <code dir="auto">alt</code> attribute to provide a string of <a href="https://www.w3.org/WAI/tutorials/images/">descriptive alt text</a> for images.</p> <p>If an image is merely decorative (i.e. doesn’t contribute to the understanding of the page), set <code dir="auto">alt=""</code> so that screen readers and other assistive technologies know to ignore the image.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="width-and-height-required-for-images-in-public">width and height (required for images in <code dir="auto">public/</code>)</h5></div> <p>These properties define the dimensions to use for the image.</p> <p>When using images in their original aspect ratio, <code dir="auto">width</code> and <code dir="auto">height</code> are optional. These dimensions can be automatically inferred from image files located in <code dir="auto">src/</code>. For remote images, add <a href="#infersize">the <code dir="auto">inferSize</code> attribute set to <code dir="auto">true</code></a> on the <code dir="auto">&lt;Image /&gt;</code> or <code dir="auto">&lt;Picture /&gt;</code> component or use <a href="#inferremotesize"><code dir="auto">inferRemoteSize()</code> function</a>.</p> <p>However, both of these properties are required for images stored in your <code dir="auto">public/</code> folder as Astro is unable to analyze these files.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="densities">densities</h5></div> <p><span> <strong>Added in:</strong> <code>astro@3.3.0</code> </span></p> <p>A list of pixel densities to generate for the image.</p> <p>If provided, this value will be used to generate a <code dir="auto">srcset</code> attribute on the <code dir="auto">&lt;img&gt;</code> tag. Do not provide a value for <code dir="auto">widths</code> when using this value.</p> <p>Densities that are equal to widths larger than the original image will be ignored to avoid upscaling the image.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/components/MyComponent.astro</span></div>
<pre data-language="astro">---
import { Image } from 'astro:assets';
import myImage from '../assets/my_image.png';
---
&lt;Image
  src={myImage}
  width={myImage.width / 2}
  densities={[1.5, 2]}
  alt="A description of my image."
/&gt;</pre>

</div> <div class="expressive-code">

<pre data-language="html">&lt;!-- Output --&gt;
&lt;img
  src="/_astro/my_image.hash.webp"
  srcset="
    /_astro/my_image.hash.webp 1.5x
    /_astro/my_image.hash.webp 2x
  "
  alt="A description of my image."
  width="800"
  height="450"
  loading="lazy"
  decoding="async"
/&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="widths">widths</h5></div> <p><span> <strong>Added in:</strong> <code>astro@3.3.0</code> </span></p> <p>A list of widths to generate for the image.</p> <p>If provided, this value will be used to generate a <code dir="auto">srcset</code> attribute on the <code dir="auto">&lt;img&gt;</code> tag. A <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/sizes"><code dir="auto">sizes</code> property</a> must also be provided.</p> <p>Do not provide a value for <code dir="auto">densities</code> when using this value. Only one of these two values can be used to generate a <code dir="auto">srcset</code>.</p> <p>Widths that are larger than the original image will be ignored to avoid upscaling the image.</p> <div class="expressive-code">

<pre data-language="astro">---
import { Image } from 'astro:assets';
import myImage from '../assets/my_image.png'; // Image is 1600x900
---
&lt;Image
  src={myImage}
  widths={[240, 540, 720, myImage.width]}
  sizes={`(max-width: 360px) 240px, (max-width: 720px) 540px, (max-width: 1600px) 720px, ${myImage.width}px`}
  alt="A description of my image."
/&gt;</pre>

</div> <div class="expressive-code">

<pre data-language="html">&lt;!-- Output --&gt;
&lt;img
  src="/_astro/my_image.hash.webp"
  srcset="
    /_astro/my_image.hash.webp 240w,
    /_astro/my_image.hash.webp 540w,
    /_astro/my_image.hash.webp 720w,
    /_astro/my_image.hash.webp 1600w
  "
  sizes="
    (max-width: 360px) 240px,
    (max-width: 720px) 540px,
    (max-width: 1600px) 720px,
    1600px
  "
  alt="A description of my image."
  width="1600"
  height="900"
  loading="lazy"
  decoding="async"
/&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="format">format</h5></div> <p>You can optionally state the <a href="https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Image_types#common_image_file_types">image file type</a> output to be used.</p> <p>By default, the <code dir="auto">&lt;Image /&gt;</code> component will produce a <code dir="auto">.webp</code> file.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="quality">quality</h5></div> <p><code dir="auto">quality</code> is an optional property that can either be:</p> <ul> <li>a preset (<code dir="auto">low</code>, <code dir="auto">mid</code>, <code dir="auto">high</code>, <code dir="auto">max</code>) that is automatically normalized between formats.</li> <li>a number from <code dir="auto">0</code> to <code dir="auto">100</code> (interpreted differently between formats).</li> </ul> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="infersize">inferSize</h5></div> <p><span> <strong>Added in:</strong> <code>astro@4.4.0</code> </span></p> <p>Allows you to set the original <code dir="auto">width</code> and <code dir="auto">height</code> of a remote image automatically.</p> <p>By default, this value is set to <code dir="auto">false</code> and you must manually specify both dimensions for your remote image.</p> <p>Add <code dir="auto">inferSize</code> to the <code dir="auto">&lt;Image /&gt;</code> component (or <code dir="auto">inferSize: true</code> to <code dir="auto">getImage()</code>) to infer these values from the image content when fetched. This is helpful if you don’t know the dimensions of the remote image, or if they might change:</p> <div class="expressive-code">

<pre data-language="astro">---
import { Image } from 'astro:assets';
---
&lt;Image src="https://example.com/cat.png" inferSize alt="A cat sleeping in the sun." /&gt;</pre>

</div> <p><code dir="auto">inferSize</code> can fetch the dimensions of a <a href="#authorizing-remote-images">remote image from a domain that has not been authorized</a>, however the image itself will remain unprocessed.</p> <div tabindex="-1" class="heading-wrapper level-h6"><h6 id="inferremotesize">inferRemoteSize()</h6></div> <p><span> <strong>Added in:</strong> <code>astro@4.12.0</code> </span></p> <p>A function to infer the dimensions of remote images. This can be used as an alternative to passing the <code dir="auto">inferSize</code> property.</p> <div class="expressive-code">

<pre data-language="ts">import { inferRemoteSize } from 'astro:assets';
const {width, height} = await inferRemoteSize("https://example.com/cat.png");</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="additional-properties">Additional properties</h5></div> <p>In addition to the properties above, the <code dir="auto">&lt;Image /&gt;</code> component accepts all properties accepted by the HTML <code dir="auto">&lt;img&gt;</code> tag.</p> <p>For example, you can provide a <code dir="auto">class</code> to the final <code dir="auto">&lt;img&gt;</code> element.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
import { Image } from 'astro:assets';
import myImage from '../assets/my_image.png';
---


&lt;!-- `alt` is mandatory on the Image component --&gt;
&lt;Image src={myImage} alt="" class="my-class" /&gt;</pre>

</div> <div class="expressive-code">

<pre data-language="html">&lt;!-- Output --&gt;
&lt;img
  src="/_astro/my_image.hash.webp"
  width="1600"
  height="900"
  decoding="async"
  loading="lazy"
  class="my-class"
  alt=""
/&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="setting-default-values">Setting Default Values</h4></div> <p>Currently, there is no way to specify default values for all <code dir="auto">&lt;Image /&gt;</code> components. Required attributes should be set on each individual component.</p> <p>As an alternative, you can wrap these components in another Astro component for reuse. For example, you could create a component for your blog post images:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/components/BlogPostImage.astro</span></div>
<pre data-language="astro">---
import { Image } from 'astro:assets';


const { src, ...attrs } = Astro.props;
---
&lt;Image src={src} {...attrs} /&gt;


&lt;style&gt;
  img :global(img), svg {
    margin-block: 2.5rem;
    border-radius: 0.75rem;
  }
&lt;/style&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="picture-"><code dir="auto">&lt;Picture /&gt;</code></h3></div> <p><span> <strong>Added in:</strong> <code>astro@3.3.0</code> </span></p> <p>Use the built-in <code dir="auto">&lt;Picture /&gt;</code> Astro component to display a responsive image with multiple formats and/or sizes.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
import { Picture } from 'astro:assets';
import myImage from '../assets/my_image.png'; // Image is 1600x900
---


&lt;!-- `alt` is mandatory on the Picture component --&gt;
&lt;Picture src={myImage} formats={['avif', 'webp']} alt="A description of my image." /&gt;</pre>

</div> <div class="expressive-code">

<pre data-language="html">&lt;!-- Output --&gt;
&lt;picture&gt;
  &lt;source srcset="/_astro/my_image.hash.avif" type="image/avif" /&gt;
  &lt;source srcset="/_astro/my_image.hash.webp" type="image/webp" /&gt;
  &lt;img
    src="/_astro/my_image.hash.png"
    width="1600"
    height="900"
    decoding="async"
    loading="lazy"
    alt="A description of my image."
  /&gt;
&lt;/picture&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="properties-1">Properties</h4></div> <p><code dir="auto">&lt;Picture /&gt;</code> accepts all the properties of the <code dir="auto">&lt;Image /&gt;</code> component, plus the following:</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="formats"><code dir="auto">formats</code></h5></div> <p>An array of image formats to use for the <code dir="auto">&lt;source&gt;</code> tags. Entries will be added as <code dir="auto">&lt;source&gt;</code> elements in the order they are listed, and this order determines which format is displayed. For the best performance, list the most modern format first (e.g. <code dir="auto">webp</code> or <code dir="auto">avif</code>). By default, this is set to <code dir="auto">['webp']</code>.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="fallbackformat"><code dir="auto">fallbackFormat</code></h5></div> <p>Format to use as a fallback value for the <code dir="auto">&lt;img&gt;</code> tag.</p> <p>Defaults to <code dir="auto">.png</code> for static images (or <code dir="auto">.jpg</code> if the image is a JPG), <code dir="auto">.gif</code> for animated images, and <code dir="auto">.svg</code> for SVG files.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="pictureattributes"><code dir="auto">pictureAttributes</code></h5></div> <p>An object of attributes to be added to the <code dir="auto">&lt;picture&gt;</code> tag.</p> <p>Use this property to apply attributes to the outer <code dir="auto">&lt;picture&gt;</code> element itself. Attributes applied to the <code dir="auto">&lt;Picture /&gt;</code> component directly will apply to the inner <code dir="auto">&lt;img&gt;</code> element, except for those used for image transformation.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/components/MyComponent.astro</span></div>
<pre data-language="astro">---
import { Picture } from "astro:assets";
import myImage from "../my_image.png"; // Image is 1600x900
---


&lt;Picture
  src={myImage}
  alt="A description of my image."
  pictureAttributes={{ style: "background-color: red;" }}
/&gt;</pre>

</div> <div class="expressive-code">

<pre data-language="html">&lt;!-- Output --&gt;
&lt;picture style="background-color: red;"&gt;
  &lt;source srcset="/_astro/my_image.hash.webp" type="image/webp" /&gt;
  &lt;img
    src="/_astro/my_image.hash.png"
    alt="A description of my image."
    width="1600"
    height="900"
    loading="lazy"
    decoding="async"
  /&gt;
&lt;/picture&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="img"><code dir="auto">&lt;img&gt;</code></h3></div> <p>The <a href="../../basics/astro-syntax/index.html">Astro template syntax</a> also supports writing an <code dir="auto">&lt;img&gt;</code> tag directly, with full control over its final output. These images will not be processed and optimized.</p> <p>It accepts all HTML <code dir="auto">&lt;img&gt;</code> tag properties, and the only required property is <code dir="auto">src</code>.</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="local-images-in-src">Local images in <code dir="auto">src/</code>
</h4></div> <p>Local images must be <strong>imported from the relative path</strong> from the existing <code dir="auto">.astro</code> file, or configure and use an <a href="../imports/index.html#aliases">import alias</a>. Then, you can access the image’s <code dir="auto">src</code> and other properties to use in the <code dir="auto">&lt;img&gt;</code> tag.</p> <p>For example, use the image’s own <code dir="auto">height</code> and <code dir="auto">width</code> properties to avoid CLS and improve Core Web Vitals.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/posts/post-1.astro</span></div>
<pre data-language="astro">---
// import local images
import myDog from '../../images/pets/local-dog.jpg';
---
// access the image properties
&lt;img src={myDog.src} width={myDog.width} height={myDog.height} alt="A barking dog." /&gt;</pre>

</div> <p>Imported image assets match the following signature:</p> <div class="expressive-code">

<pre data-language="ts">interface ImageMetadata {
  src: string;
  width: number;
  height: number;
  format: string;
}</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="images-in-public">Images in <code dir="auto">public/</code>
</h4></div> <p>For images located within <code dir="auto">public/</code> use the image’s <strong>file path relative to the public folder</strong> as the <code dir="auto">src</code> value:</p> <div class="expressive-code">

<pre data-language="astro">&lt;img src="/images/public-cat.jpg" alt="A sleeping cat." &gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="remote-images-1">Remote images</h4></div> <p>For remote images, use the image’s <strong>full URL</strong> as the <code dir="auto">src</code> value:</p> <div class="expressive-code">

<pre data-language="astro">&lt;img src="https://example.com/remote-cat.jpg" alt="A sleeping cat." &gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="choosing-image--vs-img">Choosing <code dir="auto">&lt;Image /&gt;</code> vs <code dir="auto">&lt;img&gt;</code>
</h3></div> <p>The <code dir="auto">&lt;Image /&gt;</code> component optimizes your image and infers width and height (of local images) based on the original aspect ratio to avoid CLS.</p> <p>Use the HTML <code dir="auto">&lt;img&gt;</code> element when you cannot use the <code dir="auto">&lt;Image /&gt;</code> component, for example:</p> <ul> <li>for unsupported image formats</li> <li>when you do not want your image optimized by Astro</li> <li>to access and change the <code dir="auto">src</code> attribute dynamically client-side</li> </ul> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="authorizing-remote-images">Authorizing remote images</h3></div> <p>You can configure lists of authorized image source URL domains and patterns for image optimization using <a href="../../reference/configuration-reference/index.html#imagedomains"><code dir="auto">image.domains</code></a> and <a href="../../reference/configuration-reference/index.html#imageremotepatterns"><code dir="auto">image.remotePatterns</code></a>. This configuration is an extra layer of safety to protect your site when showing images from an external source.</p> <p>Remote images from other sources will not be optimized, but using the <code dir="auto">&lt;Image /&gt;</code> component for these images will prevent Cumulative Layout Shift (CLS).</p> <p>For example, the following configuration will only allow remote images from <code dir="auto">astro.build</code> to be optimized:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro.config.mjs</span></div>
<pre data-language="ts">export default defineConfig({
  image: {
    domains: ["astro.build"],
  }
});</pre>

</div> <p>The following configuration will only allow remote images from HTTPS hosts:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro.config.mjs</span></div>
<pre data-language="ts">export default defineConfig({
  image: {
    remotePatterns: [{ protocol: "https" }],
  }
});</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="using-images-from-a-cms-or-cdn">Using Images from a CMS or CDN</h2></div> <p>Image CDNs work with all Astro image options. Use an image’s full URL as the <code dir="auto">src</code> attribute in the <code dir="auto">&lt;Image /&gt;</code> component, an <code dir="auto">&lt;img&gt;</code> tag, or in Markdown notation. For image optimization with remote images, also <a href="#authorizing-remote-images">configure your authorized domains or URL patterns</a>.</p> <p>Alternatively, if the CDN provides a Node.js SDK, you can use that in your project. For example, <a href="https://cloudinary.com/documentation/node_integration">Cloudinary’s SDK</a> can generate an <code dir="auto">&lt;img&gt;</code> tag with the appropriate <code dir="auto">src</code> for you.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="images-in-markdown-files">Images in Markdown files</h2></div> <p>Use standard Markdown <code dir="auto">![alt](src)</code> syntax in your <code dir="auto">.md</code> files. This syntax works with Astro’s <a href="../../reference/image-service-reference/index.html">Image Service API</a> to optimize your local images stored in <code dir="auto">src/</code>. Remote images and images stored in the <code dir="auto">public/</code> folder are not optimized.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/post-1.md</span></div>
<pre data-language="md"># My Markdown Page


&lt;!-- Local image stored in src/assets/ --&gt;
&lt;!-- Use a relative file path or import alias --&gt;
![A starry night sky.](../assets/stars.png)


&lt;!-- Image stored in public/images/ --&gt;
&lt;!-- Use the file path relative to public/ --&gt;
![A starry night sky.](/images/stars.png)


&lt;!-- Remote image on another server --&gt;
&lt;!-- Use the full URL of the image --&gt;
![Astro](https://example.com/images/remote-image.png)</pre>

</div> <p>The <code dir="auto">&lt;img&gt;</code> tag is not supported for local images, and the <code dir="auto">&lt;Image /&gt;</code> component is unavailable in <code dir="auto">.md</code> files.</p> <p>If you require more control over your image attributes, we recommend using the <code dir="auto">.mdx</code> file format, which allows you to include Astro’s <code dir="auto">&lt;Image /&gt;</code> component or a JSX <code dir="auto">&lt;img /&gt;</code> tag in addition to the Markdown syntax. Use the <a href="../integrations-guide/mdx/index.html">MDX integration</a> to add support for MDX to Astro.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="images-in-mdx-files">Images in MDX files</h2></div> <p>You can use Astro’s <code dir="auto">&lt;Image /&gt;</code> component and JSX <code dir="auto">&lt;img /&gt;</code> tags in your <code dir="auto">.mdx</code> files by importing both the component and your image. Use them just as they are <a href="#images-in-astro-files">used in <code dir="auto">.astro</code> files</a>.</p> <p>Additionally, there is support for <a href="#images-in-markdown-files">standard Markdown <code dir="auto">![alt](src)</code> syntax</a> with no import required.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/post-1.mdx</span></div>
<pre data-language="mdx">---
title: My Page title
---
import { Image } from 'astro:assets';
import rocket from '../assets/rocket.png';


# My MDX Page


// Local image stored in the the same folder
![Houston in the wild](houston.png)


// Local image stored in src/assets/
&lt;Image src={rocket} alt="A rocketship in space." /&gt;
&lt;img src={rocket.src} alt="A rocketship in space." /&gt;
![A rocketship in space](../assets/rocket.png)


// Image stored in public/images/
&lt;Image src="/images/stars.png" alt="A starry night sky." /&gt;
&lt;img src="/images/stars.png" alt="A starry night sky." /&gt;
![A starry night sky.](/images/stars.png)


// Remote image on another server
&lt;Image src="https://example.com/images/remote-image.png" /&gt;
&lt;img src="https://example.com/images/remote-image.png" /&gt;
![Astro](https://example.com/images/remote-image.png)</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="images-in-content-collections">Images in content collections</h2></div> <p>Images in content collections will be processed the same way they are in <a href="#images-in-markdown-files">Markdown</a> and <a href="#images-in-mdx-files">MDX</a> depending on which file type you are using.</p> <p>Additionally, you can declare an associated image for a content collections entry, such as a blog post’s cover image, in your frontmatter using its path relative to the current folder:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/content/blog/my-post.md</span></div>
<pre data-language="md">---
title: "My first blog post"
cover: "./firstpostcover.jpeg" # will resolve to "src/content/blog/firstblogcover.jpeg"
coverAlt: "A photograph of a sunset behind a mountain range."
---


This is a blog post</pre>

</div> <p>The <code dir="auto">image</code> helper for the content collections schema lets you validate the image metadata using Zod.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/content/config.ts</span></div>
<pre data-language="ts">import { defineCollection, z } from "astro:content";


const blogCollection = defineCollection({
  schema: ({ image }) =&gt; z.object({
    title: z.string(),
    cover: image().refine((img) =&gt; img.width &gt;= 1080, {
      message: "Cover image must be at least 1080 pixels wide!",
    }),
    coverAlt: z.string(),
  }),
});


export const collections = {
  blog: blogCollection,
};</pre>

</div> <p>The image will be imported and transformed into metadata, allowing you to pass it as a <code dir="auto">src</code> to <code dir="auto">&lt;Image/&gt;</code>, <code dir="auto">&lt;img&gt;</code>, or <code dir="auto">getImage()</code>.</p> <p>The example below shows a blog index page that renders the cover photo and title of each blog post from the schema above:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/blog.astro</span></div>
<pre data-language="astro">---
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
const allBlogPosts = await getCollection("blog");
---


{
  allBlogPosts.map((post) =&gt; (
    &lt;div&gt;
      &lt;Image src={post.data.cover} alt={post.data.coverAlt} /&gt;
      &lt;h2&gt;
        &lt;a href={"/blog/" + post.slug}&gt;{post.data.title}&lt;/a&gt;
      &lt;/h2&gt;
    &lt;/div&gt;
  ))
}</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="images-in-ui-framework-components">Images in UI framework components</h2></div> <p>When adding images in a UI framework component, use the framework’s own image syntax to render an image (e.g. <code dir="auto">&lt;img /&gt;</code> in JSX, <code dir="auto">&lt;img&gt;</code> in Svelte).</p> <p>Local images must <strong>first be imported</strong> to access their <a href="#local-images-in-src">image properties</a> such as <code dir="auto">src</code>.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/components/ReactImage.jsx</span></div>
<pre data-language="jsx">import stars from "../assets/stars.png";


export default function ReactImage() {
  return (
    &lt;img src={stars.src} alt="A starry night sky." /&gt;
  )
}</pre>

</div> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/components/SvelteImage.svelte</span></div>
<pre data-language="svelte">&lt;script&gt;
  import stars from '../assets/stars.png';
&lt;/script&gt;


&lt;img src={stars.src} alt="A starry night sky." /&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="passing-the-image-component">Passing the Image component</h4></div> <p>The <code dir="auto">&lt;Image /&gt;</code> component, like any other Astro component, <strong>is unavailable to UI framework components</strong>.</p> <p>But, you can pass the static content generated by <code dir="auto">&lt;Image /&gt;</code> to a framework component inside a <code dir="auto">.astro</code> file as children or using a <a href="../framework-components/index.html#can-i-use-astro-components-inside-my-framework-components">named <code dir="auto">&lt;slot/&gt;</code></a>:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/components/ImageWrapper.astro</span></div>
<pre data-language="astro">---
import ReactComponent from './ReactComponent.jsx';
import { Image } from 'astro:assets';
import stars from '~/stars/docline.png';
---


&lt;ReactComponent&gt;
  &lt;Image src={stars} alt="A starry night sky." /&gt;
&lt;/ReactComponent&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="generating-images-with-getimage">Generating images with <code dir="auto">getImage()</code>
</h2></div> <aside aria-label="Caution" class="starlight-aside starlight-aside--caution"><p class="starlight-aside__title" aria-hidden="true">Caution</p>
<section class="starlight-aside__content"><p><code dir="auto">getImage()</code> relies on server-only APIs and breaks the build when used on the client.</p></section></aside> <p>The <code dir="auto">getImage()</code> function is intended for generating images destined to be used somewhere else than directly in HTML, for example in an <a href="../endpoints/index.html#server-endpoints-api-routes">API Route</a>. It also allows you to create your own custom <code dir="auto">&lt;Image /&gt;</code> component.</p> <div class="root astro-u7553m4s"> <div class="flex astro-u7553m4s"> <img src="data:image/webp;base64,UklGRuQEAABXRUJQVlA4WAoAAAAYAAAAMwAANQAAQUxQSGsCAAABoEZrmyFJeiMix7Zt27a9tm3btm3btm3bthVffO8iMyo7avZ/REwAVoo2y6zNnEnJOBS6dBzQdavzbr3ppFUaw5g0nEO94/9g7qebAZlzzpmaMQbo8SQpXsQLeRbyXU0YYNFdP9Mrc4PwkKG7HLD9FAdXA8CxJAOLVZn78hLY0hz2onhltKqIBHJnuJIsuv7KwFI9OQuuHIc16Vmy520wZW1DKUv5WV2YkubQl/dlWQZ13uRfJQkfhEG5DtOVXoJWpn9xI7iS4DDrXVYexJMXolzjsiyrg0abXPPoT9QYJcmjjKmVOVuRRewNlAjlCxfs2BX5rgILTN7/hOOOP/7E088++11q1K1HH374SSccf/xxW3WDMTEWHe5krDJWGfnb7og1aPw6JVIZH6TQk/vCFWU4in8wwUAOgi1Aw08ZUqDn/nBFXQPTFF4V0ztQE7klpldgmsKbq+KWqri5Aq2KNFcOWhVpVqJVEaj/D72VaQpviekZkrkZtU3BSCZzBwCbtwslDfKPB9cBXM7F9KmQfKA73H/upyQjnl8MgQMavM2QDPkX320Dg+bfUhPin7wQFi1/SksZBsO2+DEteu6HWo0/YUhK+DCAK6gimg4Dr2mITtf8SVLFS9Ak+CePtECP7W7/krHBF2qOBC3SIF7JNWAtgJbTdrngofd/FTIII+U//9UQJChzn10AADaz+G/Drq/Tk6+fdOYZZ5xx+tGHfkmv/PX6N/5g4V/v3nnoOMAg17gsc9iD5Fvb1kfhoOeo5Bh0HD5nlfU2WHX+6M4NAcAh0qK//+G69RoBtXKz2siOU+ENiDa1nAEAAFZQOCA8AgAAUA0AnQEqNAA2AD7lYqZPKSUjIiwVXZkgHIlkAMdkbc6KwKFXtoJpaNoyqLQ/FGN00F6wVZIfnXiVi1ZJjkcZ0nNZIsE90QHkgj4yGAjIg8GNR3g1bfXluGis9CqpEDIaIKQSEfuf2Uk/tJygs2T/CpkLOAD++90v7wUm4rf+3+Af0bFf9FDxRxPx/uyNmmuUn84N1S8oeCamnnI71i6f4UiRm8f9Hp1bg3B4DsRB5+mUgzo/4bnweeaxZgh0SL/aJJmVmzy9c8202SrAoix1gA9Mu6pJtpQzIzp5YuIDPxOw+qfShBsZNu7bs2FbLYm9QXO6KOogBnG8yukH0OwiE+DnM/TVmtkTBW16oDUc1kwDuwb2koEyJK3+nIi9vTEJbmgjzNy0hv2qQpmT8IGeGOmWASc8HdwGSXXiapinC4l4um2zabGEmrQWa8rLxGRQ/ZFsnmAvLdTLDk89DnLcpQ78xNMPbbKut8V2OvI0rPE6x/rStU9bxZRN+0T+Wa/kZPFrAtpeEMeI31JeMUUw7ki5RB5R3I4uviJ32A/q+PzE5/JGDVkn7vjHQboTyXOWWQI8qKDwRfPeR4/MHhDprmFlw7Qf/Y4VNXdX4X9DXrU1Dk02qM1tPVpcTLNneaESBYpH9S35JjhN7dD4DlrRVZjvdfI3Xa90VJCaBoCsRLS3lj97HXa2WoLFvBUR1hrmHn7KW+bQCefXaR8JfLC4VFMIDMFfZf8Lf7+0sF+p2hrsjrlHvC/Z1Mf4AABFWElGDgAAAE1NACoAAAAIAAAAAAAA" width="24" alt="" class="astro-u7553m4s"> <strong class="astro-u7553m4s">Related recipe:</strong> <a href="../../recipes/build-custom-img-component/index.html" class="astro-u7553m4s"> Build a custom image component </a> </div> </div> <p><code dir="auto">getImage()</code> takes an options object with the <a href="#properties">same properties as the Image component</a> (except <code dir="auto">alt</code>).</p> <div class="expressive-code">

<pre data-language="astro">---
import { getImage } from "astro:assets";
import myBackground from "../background.png";


const optimizedBackground = await getImage({src: myBackground, format: 'webp'});
---


&lt;div style={`background-image: url(${optimizedBackground.src});`}&gt;&lt;/div&gt;</pre>

</div> <p>It returns an object with the following properties:</p> <div class="expressive-code">

<pre data-language="js">{
  rawOptions: {...}, // Original parameters passed
  options: {...}, // Validated parameters passed
  src: "...", // Path to the generated image
  srcSet: {
    values: [...], // Generated values for srcset, every entry has a url and a size descriptor
    attribute: "", // Generated srcset attribute from the values
  }
  attributes: {...} // Additional HTML attributes needed to render the image (width, height, style, etc..)
}</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="alt-text">Alt Text</h2></div> <p>Not all users can see images in the same way, so accessibility is an especially important concern when using images. Use the <code dir="auto">alt</code> attribute to provide <a href="https://www.w3.org/WAI/tutorials/images/">descriptive alt text</a> for images.</p> <p>This attribute is required for both the <code dir="auto">&lt;Image /&gt;</code> and <code dir="auto">&lt;Picture /&gt;</code> components. If no alt text is provided, a helpful error message will be provided reminding you to include the <code dir="auto">alt</code> attribute.</p> <p>If the image is merely decorative (i.e. doesn’t contribute to the understanding of the page), set <code dir="auto">alt=""</code> so that screen readers know to ignore the image.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="default-image-service">Default image service</h2></div> <p><a href="https://github.com/lovell/sharp">Sharp</a> is the default image service used for <code dir="auto">astro:assets</code>. You can further configure the image service using the <a href="../../reference/configuration-reference/index.html#imageservice"><code dir="auto">image.service</code></a> option.</p> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>When using a <a href="https://pnpm.io/pnpm-vs-npm#npms-flat-tree">strict package manager</a> like <code dir="auto">pnpm</code>, you may need to manually install Sharp into your project even though it is an Astro dependency:</p>
<div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="bash">pnpm add sharp</pre>

</div></section></aside> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="configure-squoosh">Configure Squoosh</h3></div> <p>If you would prefer to use <a href="https://github.com/GoogleChromeLabs/squoosh">Squoosh</a> to transform your images, update your config with the following:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro.config.mjs</span></div>
<pre data-language="js">import { defineConfig, squooshImageService } from 'astro/config';


export default defineConfig({
  image: {
    service: squooshImageService(),
  },
});</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="configure-no-op-passthrough-service">Configure no-op passthrough service</h3></div> <p>If your <a href="https://astro.build/integrations/?search=&amp;categories%5B%5D=adapters">adapter for <code dir="auto">server</code> or <code dir="auto">hybrid</code> mode</a> does not support Astro’s built-in Squoosh and Sharp image optimization (e.g. Deno, Cloudflare), you can configure a no-op image service to allow you to use the <code dir="auto">&lt;Image /&gt;</code> and <code dir="auto">&lt;Picture /&gt;</code> components. Note that Astro does not perform any image transformation and processing in these environments. However, you can still enjoy the other benefits of using <code dir="auto">astro:assets</code>, including no Cumulative Layout Shift (CLS), the enforced <code dir="auto">alt</code> attribute, and a consistent authoring experience.</p> <p>Configure the <code dir="auto">passthroughImageService()</code> to avoid both Squoosh and Sharp image processing:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro.config.mjs</span></div>
<pre data-language="js">import { defineConfig, passthroughImageService } from 'astro/config';


export default defineConfig({
  image: {
    service: passthroughImageService()
  }
});</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="community-integrations">Community Integrations</h2></div> <p>There are several third-party <a href="https://astro.build/integrations?search=images">community image integrations</a> for optimizing and working with images in your Astro project.</p> <span id="docsearch-lvl0" hidden class="astro-klj6ju3r">Learn</span> </div>   </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 Fred K. Schott<br>Licensed under the MIT License.<br>
    <a href="https://docs.astro.build/en/guides/images/" class="_attribution-link">https://docs.astro.build/en/guides/images/</a>
  </p>
</div>
