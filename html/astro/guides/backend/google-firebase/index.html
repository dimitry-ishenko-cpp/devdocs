<h1 id="_top" class="astro-556cgime">Firebase &amp; Astro</h1> <div class="content-panel astro-ayt3hsza"> <div class="sl-container astro-ayt3hsza"> <div class="sl-markdown-content astro-klj6ju3r"> <p><a href="https://firebase.google.com/">Firebase</a> is an app development platform that provides a NoSQL database, authentication, realtime subscriptions, functions, and storage.</p> <p>See our separate guide for <a href="../../deploy/google-firebase/index.html">deploying to Firebase hosting</a>.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="initializing-firebase-in-astro">Initializing Firebase in Astro</h2></div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="prerequisites">Prerequisites</h3></div> <ul> <li>A <a href="https://firebase.google.com/docs/web/setup">Firebase project with a web app configured</a>.</li> <li>An Astro project with <a href="../../server-side-rendering/index.html">server-side rendering (SSR)</a> enabled.</li> <li>Firebase credentials: You will need two sets of credentials to connect Astro to Firebase: <ul> <li>Web app credentials: These credentials will be used by the client side of your app. You can find them in the Firebase console under <em>Project settings &gt; General</em>. Scroll down to the <strong>Your apps</strong> section and click on the <strong>Web app</strong> icon.</li> <li>Project credentials: These credentials will be used by the server side of your app. You can generate them in the Firebase console under <em>Project settings &gt; Service accounts &gt; Firebase Admin SDK &gt; Generate new private key</em>.</li> </ul> </li> </ul> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="adding-firebase-credentials">Adding Firebase credentials</h3></div> <p>To add your Firebase credentials to Astro, create an <code dir="auto">.env</code> file in the root of your project with the following variables:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">.env</span></div>
<pre data-language="ini">FIREBASE_PRIVATE_KEY_ID=YOUR_PRIVATE_KEY_ID
FIREBASE_PRIVATE_KEY=YOUR_PRIVATE_KEY
FIREBASE_PROJECT_ID=YOUR_PROJECT_ID
FIREBASE_CLIENT_EMAIL=YOUR_CLIENT_EMAIL
FIREBASE_CLIENT_ID=YOUR_CLIENT_ID
FIREBASE_AUTH_URI=YOUR_AUTH_URI
FIREBASE_TOKEN_URI=YOUR_TOKEN_URI
FIREBASE_AUTH_CERT_URL=YOUR_AUTH_CERT_URL
FIREBASE_CLIENT_CERT_URL=YOUR_CLIENT_CERT_URL</pre>

</div> <p>Now, these environment variables are available for use in your project.</p> <p>If you would like to have IntelliSense for your Firebase environment variables, edit or create the file <code dir="auto">env.d.ts</code> in your <code dir="auto">src/</code> directory and configure your types:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/env.d.ts</span></div>
<pre data-language="ts">interface ImportMetaEnv {
  readonly FIREBASE_PRIVATE_KEY_ID: string;
  readonly FIREBASE_PRIVATE_KEY: string;
  readonly FIREBASE_PROJECT_ID: string;
  readonly FIREBASE_CLIENT_EMAIL: string;
  readonly FIREBASE_CLIENT_ID: string;
  readonly FIREBASE_AUTH_URI: string;
  readonly FIREBASE_TOKEN_URI: string;
  readonly FIREBASE_AUTH_CERT_URL: string
  readonly FIREBASE_CLIENT_CERT_URL: string;
}


interface ImportMeta {
  readonly env: ImportMetaEnv;
}</pre>

</div> <aside aria-label="Tip" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true">Tip</p>
<section class="starlight-aside__content"><p>Read more about <a href="../../environment-variables/index.html">environment variables</a> and <code dir="auto">.env</code> files in Astro.</p></section></aside> <p>Your project should now include these new files:</p> <starlight-file-tree class="not-content astro-amtfieur" data-pagefind-ignore><ul>
<li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>src/ </span></span></summary><ul><li class="file"><span class="tree-entry"><span class="highlight"><strong>env.d.ts</strong></span></span></li></ul></details></li>
<li class="file"><span class="tree-entry"><span class="highlight"><strong>.env</strong></span></span></li>
<li class="file"><span class="tree-entry"><span class="">astro.config.mjs</span></span></li>
<li class="file"><span class="tree-entry"><span class="">package.json</span></span></li>
</ul></starlight-file-tree> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="installing-dependencies">Installing dependencies</h3></div> <p>To connect Astro with Firebase, install the following packages using the single command below for your preferred package manager:</p> <ul> <li>
<code dir="auto">firebase</code> - the Firebase SDK for the client side</li> <li>
<code dir="auto">firebase-admin</code> - the Firebase Admin SDK for the server side</li> </ul> <starlight-tabs data-sync-key="package-managers" class="astro-tx2opqu5"> <div class="tablist-wrapper not-content astro-tx2opqu5"> <ul role="tablist" class="astro-tx2opqu5"> <li role="presentation" class="tab astro-tx2opqu5"> <a role="tab" href="#tab-panel-163" id="tab-163" aria-selected="true" tabindex="0" class="astro-tx2opqu5"> npm </a> </li>
<li role="presentation" class="tab astro-tx2opqu5"> <a role="tab" href="#tab-panel-164" id="tab-164" aria-selected="false" tabindex="-1" class="astro-tx2opqu5"> pnpm </a> </li>
<li role="presentation" class="tab astro-tx2opqu5"> <a role="tab" href="#tab-panel-165" id="tab-165" aria-selected="false" tabindex="-1" class="astro-tx2opqu5"> Yarn </a> </li> </ul> </div> <section id="tab-panel-163" aria-labelledby="tab-163" role="tabpanel"> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="shell">npm install firebase firebase-admin</pre>

</div> </section> <section id="tab-panel-164" aria-labelledby="tab-164" role="tabpanel" hidden> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="shell">pnpm add firebase firebase-admin</pre>

</div> </section> <section id="tab-panel-165" aria-labelledby="tab-165" role="tabpanel" hidden> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="shell">yarn add firebase firebase-admin</pre>

</div> </section> </starlight-tabs>  <p>Next, create a folder named <code dir="auto">firebase</code> in the <code dir="auto">src/</code> directory and add two new files to this folder: <code dir="auto">client.ts</code> and <code dir="auto">server.ts</code>.</p> <p>In <code dir="auto">client.ts</code>, add the following code to initialize Firebase in the client using your web app credentials and the <code dir="auto">firebase</code> package:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/firebase/client.ts</span></div>
<pre data-language="ts">import { initializeApp } from "firebase/app";


const firebaseConfig = {
  apiKey: "my-public-api-key",
  authDomain: "my-auth-domain",
  projectId: "my-project-id",
  storageBucket: "my-storage-bucket",
  messagingSenderId: "my-sender-id",
  appId: "my-app-id",
};


export const app = initializeApp(firebaseConfig);</pre>

</div> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>Remember to replace the <code dir="auto">firebaseConfig</code> object with your own web app credentials.</p></section></aside> <p>In <code dir="auto">server.ts</code>, add the following code to initialize Firebase in the server using your project credentials and the <code dir="auto">firebase-admin</code> package:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/firebase/server.ts</span></div>
<pre data-language="ts">import type { ServiceAccount } from "firebase-admin";
import { initializeApp, cert, getApps } from "firebase-admin/app";


const activeApps = getApps();
const serviceAccount = {
  type: "service_account",
  project_id: import.meta.env.FIREBASE_PROJECT_ID,
  private_key_id: import.meta.env.FIREBASE_PRIVATE_KEY_ID,
  private_key: import.meta.env.FIREBASE_PRIVATE_KEY,
  client_email: import.meta.env.FIREBASE_CLIENT_EMAIL,
  client_id: import.meta.env.FIREBASE_CLIENT_ID,
  auth_uri: import.meta.env.FIREBASE_AUTH_URI,
  token_uri: import.meta.env.FIREBASE_TOKEN_URI,
  auth_provider_x509_cert_url: import.meta.env.FIREBASE_AUTH_CERT_URL,
  client_x509_cert_url: import.meta.env.FIREBASE_CLIENT_CERT_URL,
};


const initApp = () =&gt; {
  if (import.meta.env.PROD) {
    console.info('PROD env detected. Using default service account.')
    // Use default config in firebase functions. Should be already injected in the server by Firebase.
    return initializeApp()
  }
  console.info('Loading service account from env.')
  return initializeApp({
    credential: cert(serviceAccount as ServiceAccount)
  })
}


export const app = activeApps.length === 0 ? initApp() : activeApps[0];</pre>

</div> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>Remember to replace the <code dir="auto">serviceAccount</code> object with your own project credentials.</p></section></aside> <p>Finally, your project should now include these new files:</p> <starlight-file-tree class="not-content astro-amtfieur" data-pagefind-ignore><ul>
<li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>src </span></span></summary><ul>
<li class="file"><span class="tree-entry"><span class="">env.d.ts</span></span></li>
<li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>firebase </span></span></summary><ul>
<li class="file"><span class="tree-entry"><span class="highlight"><strong>client.ts</strong></span></span></li>
<li class="file"><span class="tree-entry"><span class="highlight"><strong>server.ts</strong></span></span></li>
</ul></details></li>
</ul></details></li>
<li class="file"><span class="tree-entry"><span class="">.env</span></span></li>
<li class="file"><span class="tree-entry"><span class="">astro.config.mjs</span></span></li>
<li class="file"><span class="tree-entry"><span class="">package.json</span></span></li>
</ul></starlight-file-tree> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="adding-authentication-with-firebase">Adding authentication with Firebase</h2></div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="prerequisites-1">Prerequisites</h3></div> <ul> <li>An Astro project <a href="#initializing-firebase-in-astro">initialized with Firebase</a>.</li> <li>A Firebase project with email/password authentication enabled in the Firebase console under <em>Authentication &gt; Sign-in</em> method.</li> </ul> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="creating-auth-server-endpoints">Creating auth server endpoints</h3></div> <p>Firebase authentication in Astro requires the following three <a href="../../endpoints/index.html">Astro server endpoints</a>:</p> <ul> <li>
<code dir="auto">GET /api/auth/signin</code> - to sign in a user</li> <li>
<code dir="auto">GET /api/auth/signout</code> - to sign out a user</li> <li>
<code dir="auto">POST /api/auth/register</code> - to register a user</li> </ul> <p>Create three endpoints related to authentication in a new directory <code dir="auto">src/pages/api/auth/</code>: <code dir="auto">signin.ts</code>, <code dir="auto">signout.ts</code> and <code dir="auto">register.ts</code>.</p> <p><code dir="auto">signin.ts</code> contains the code to sign in a user using Firebase:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/api/auth/signin.ts</span></div>
<pre data-language="ts">import type { APIRoute } from "astro";
import { app } from "../../../firebase/server";
import { getAuth } from "firebase-admin/auth";


export const GET: APIRoute = async ({ request, cookies, redirect }) =&gt; {
  const auth = getAuth(app);


  /* Get token from request headers */
  const idToken = request.headers.get("Authorization")?.split("Bearer ")[1];
  if (!idToken) {
    return new Response(
      "No token found",
      { status: 401 }
    );
  }


  /* Verify id token */
  try {
    await auth.verifyIdToken(idToken);
  } catch (error) {
    return new Response(
      "Invalid token",
      { status: 401 }
    );
  }


  /* Create and set session cookie */
  const fiveDays = 60 * 60 * 24 * 5 * 1000;
  const sessionCookie = await auth.createSessionCookie(idToken, {
    expiresIn: fiveDays,
  });


  cookies.set("__session", sessionCookie, {
    path: "/",
  });


  return redirect("/dashboard");
};</pre>

</div> <aside aria-label="Caution" class="starlight-aside starlight-aside--caution"><p class="starlight-aside__title" aria-hidden="true">Caution</p>
<section class="starlight-aside__content"><p>Firebase only allows the use of <a href="https://firebase.google.com/docs/hosting/manage-cache#using_cookies">one cookie, and it must be named <code dir="auto">__session</code></a>. Any other cookies the client sends will not be visible to your application.</p></section></aside> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>This is a basic implementation of the signin endpoint. You can add more logic to this endpoint to suit your needs.</p></section></aside> <p><code dir="auto">signout.ts</code> contains the code to log out a user by deleting the session cookie:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/api/auth/signout.ts</span></div>
<pre data-language="ts">import type { APIRoute } from "astro";


export const GET: APIRoute = async ({ redirect, cookies }) =&gt; {
  cookies.delete("__session", {
    path: "/",
  });
  return redirect("/signin");
};</pre>

</div> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>This is a basic implementation of the signout endpoint. You can add more logic to this endpoint to suit your needs.</p></section></aside> <p><code dir="auto">register.ts</code> contains the code to register a user using Firebase:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/api/auth/register.ts</span></div>
<pre data-language="ts">import type { APIRoute } from "astro";
import { getAuth } from "firebase-admin/auth";
import { app } from "../../../firebase/server";


export const POST: APIRoute = async ({ request, redirect }) =&gt; {
  const auth = getAuth(app);


  /* Get form data */
  const formData = await request.formData();
  const email = formData.get("email")?.toString();
  const password = formData.get("password")?.toString();
  const name = formData.get("name")?.toString();


  if (!email || !password || !name) {
    return new Response(
      "Missing form data",
      { status: 400 }
    );
  }


  /* Create user */
  try {
    await auth.createUser({
      email,
      password,
      displayName: name,
    });
  } catch (error: any) {
    return new Response(
      "Something went wrong",
      { status: 400 }
    );
  }
  return redirect("/signin");
};</pre>

</div> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>This is a basic implementation of the register endpoint. You can add more logic to this endpoint to suit your needs.</p></section></aside> <p>After creating server endpoints for authentication, your project directory should now include these new files:</p> <starlight-file-tree class="not-content astro-amtfieur" data-pagefind-ignore><ul>
<li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>src </span></span></summary><ul>
<li class="file"><span class="tree-entry"><span class="">env.d.ts</span></span></li>
<li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>firebase </span></span></summary><ul>
<li class="file"><span class="tree-entry"><span class="">client.ts</span></span></li>
<li class="file"><span class="tree-entry"><span class="">server.ts</span></span></li>
</ul></details></li>
<li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>pages </span></span></summary><ul><li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>api </span></span></summary><ul><li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>auth </span></span></summary><ul>
<li class="file"><span class="tree-entry"><span class="highlight"><strong>signin.ts</strong></span></span></li>
<li class="file"><span class="tree-entry"><span class="highlight"><strong>signout.ts</strong></span></span></li>
<li class="file"><span class="tree-entry"><span class="highlight"><strong>register.ts</strong></span></span></li>
</ul></details></li></ul></details></li></ul></details></li>
</ul></details></li>
<li class="file"><span class="tree-entry"><span class="">.env</span></span></li>
<li class="file"><span class="tree-entry"><span class="">astro.config.mjs</span></span></li>
<li class="file"><span class="tree-entry"><span class="">package.json</span></span></li>
</ul></starlight-file-tree> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="creating-pages">Creating pages</h3></div> <p>Create the pages that will use the Firebase endpoints:</p> <ul> <li>
<code dir="auto">src/pages/register</code> - will contain a form to register a user</li> <li>
<code dir="auto">src/pages/signin</code> - will contain a form to sign in a user</li> <li>
<code dir="auto">src/pages/dashboard</code> - will contain a dashboard that can only be accessed by authenticated users</li> </ul> <p>The example <code dir="auto">src/pages/register.astro</code> below includes a form that will send a <code dir="auto">POST</code> request to the <code dir="auto">/api/auth/register</code> endpoint. This endpoint will create a new user using the data from the form and then will redirect the user to the <code dir="auto">/signin</code> page.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/register.astro</span></div>
<pre data-language="astro">---
import Layout from "../layouts/Layout.astro";
---


&lt;Layout title="Register"&gt;
  &lt;h1&gt;Register&lt;/h1&gt;
  &lt;p&gt;Already have an account? &lt;a href="/signin.html"&gt;Sign in&lt;/a&gt;&lt;/p&gt;
  &lt;form action="/api/auth/register" method="post"&gt;
    &lt;label for="name"&gt;Name&lt;/label&gt;
    &lt;input type="text" name="name" id="name" /&gt;
    &lt;label for="email" for="email"&gt;Email&lt;/label&gt;
    &lt;input type="email" name="email" id="email" /&gt;
    &lt;label for="password"&gt;Password&lt;/label&gt;
    &lt;input type="password" name="password" id="password" /&gt;
    &lt;button type="submit"&gt;Login&lt;/button&gt;
  &lt;/form&gt;
&lt;/Layout&gt;</pre>

</div> <p><code dir="auto">src/pages/signin.astro</code> uses the Firebase server app to verify the user’s session cookie. If the user is authenticated, the page will redirect the user to the <code dir="auto">/dashboard</code> page.</p> <p>The example page below contains a form that will send a <code dir="auto">POST</code> request to the <code dir="auto">/api/auth/signin</code> endpoint with the ID token generated by the Firebase client app.</p> <p>The endpoint will verify the ID token and create a new session cookie for the user. Then, the endpoint will redirect the user to the <code dir="auto">/dashboard</code> page.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/signin.astro</span></div>
<pre data-language="astro">---
import { app } from "../firebase/server";
import { getAuth } from "firebase-admin/auth";
import Layout from "../layouts/Layout.astro";


/* Check if the user is authenticated */
const auth = getAuth(app);
if (Astro.cookies.has("__session")) {
  const sessionCookie = Astro.cookies.get("__session").value;
  const decodedCookie = await auth.verifySessionCookie(sessionCookie);
  if (decodedCookie) {
    return Astro.redirect("/dashboard");
  }
}
---


&lt;Layout title="Sign in"&gt;
  &lt;h1&gt;Sign in&lt;/h1&gt;
  &lt;p&gt;New here? &lt;a href="/register.html"&gt;Create an account&lt;/a&gt;&lt;/p&gt;
  &lt;form action="/api/auth/signin" method="post"&gt;
    &lt;label for="email" for="email"&gt;Email&lt;/label&gt;
    &lt;input type="email" name="email" id="email" /&gt;
    &lt;label for="password"&gt;Password&lt;/label&gt;
    &lt;input type="password" name="password" id="password" /&gt;
    &lt;button type="submit"&gt;Login&lt;/button&gt;
  &lt;/form&gt;
&lt;/Layout&gt;
&lt;script&gt;
  import {
    getAuth,
    inMemoryPersistence,
    signInWithEmailAndPassword,
  } from "firebase/auth";
  import { app } from "../firebase/client";


  const auth = getAuth(app);
  // This will prevent the browser from storing session data
  auth.setPersistence(inMemoryPersistence);


  const form = document.querySelector("form") as HTMLFormElement;
  form.addEventListener("submit", async (e) =&gt; {
    e.preventDefault();
    const formData = new FormData(form);
    const email = formData.get("email")?.toString();
    const password = formData.get("password")?.toString();


    if (!email || !password) {
      return;
    }
    const userCredential = await signInWithEmailAndPassword(
      auth,
      email,
      password
    );
    const idToken = await userCredential.user.getIdToken();
    const response = await fetch("/api/auth/signin", {
      method: "GET",
      headers: {
        Authorization: `Bearer ${idToken}`,
      },
    });


    if (response.redirected) {
      window.location.assign(response.url);
    }
  });
&lt;/script&gt;</pre>

</div> <p><code dir="auto">src/pages/dashboard.astro</code> will verify the user’s session cookie using the Firebase server app. If the user is not authenticated, the page will redirect the user to the <code dir="auto">/signin</code> page.</p> <p>The example page below display the user’s name and a button to sign out. Clicking the button will send a <code dir="auto">GET</code> request to the <code dir="auto">/api/auth/signout</code> endpoint.</p> <p>The endpoint will delete the user’s session cookie and redirect the user to the <code dir="auto">/signin</code> page.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/dashboard.astro</span></div>
<pre data-language="astro">---
import { app } from "../firebase/server";
import { getAuth } from "firebase-admin/auth";
import Layout from "../layouts/Layout.astro";


const auth = getAuth(app);


/* Check current session */
if (!Astro.cookies.has("__session")) {
  return Astro.redirect("/signin");
}
const sessionCookie = Astro.cookies.get("__session").value;
const decodedCookie = await auth.verifySessionCookie(sessionCookie);
const user = await auth.getUser(decodedCookie.uid);


if (!user) {
  return Astro.redirect("/signin");
}
---


&lt;Layout title="dashboard"&gt;
  &lt;h1&gt;Welcome {user.displayName}&lt;/h1&gt;
  &lt;p&gt;We are happy to see you here&lt;/p&gt;
  &lt;form action="/api/auth/signout"&gt;
    &lt;button type="submit"&gt;Sign out&lt;/button&gt;
  &lt;/form&gt;
&lt;/Layout&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="adding-oauth-providers">Adding OAuth providers</h3></div> <p>To add OAuth providers to your app, you need to enable them in the Firebase console.</p> <p>In the Firebase console, go to the <strong>Authentication</strong> section and click on the <strong>Sign-in method</strong> tab. Then, click on the <strong>Add a new provider</strong> button and enable the providers you want to use.</p> <p>The example below uses the <strong>Google</strong> provider.</p> <p>Edit the <code dir="auto">signin.astro</code> page to add:</p> <ul> <li>a button to sign in with Google underneath the existing form</li> <li>an event listener on the button to handle the sign in process in the existing <code dir="auto">&lt;script&gt;</code>.</li> </ul> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/signin.astro</span></div>
<pre data-language="astro">---
import { app } from "../firebase/server";
import { getAuth } from "firebase-admin/auth";
import Layout from "../layouts/Layout.astro";


/* Check if the user is authenticated */
const auth = getAuth(app);
if (Astro.cookies.has("__session")) {
  const sessionCookie = Astro.cookies.get("__session").value;
  const decodedCookie = await auth.verifySessionCookie(sessionCookie);
  if (decodedCookie) {
    return Astro.redirect("/dashboard");
  }
}
---


&lt;Layout title="Sign in"&gt;
  &lt;h1&gt;Sign in&lt;/h1&gt;
  &lt;p&gt;New here? &lt;a href="/register.html"&gt;Create an account&lt;/a&gt;&lt;/p&gt;
  &lt;form action="/api/auth/signin" method="post"&gt;
    &lt;label for="email" for="email"&gt;Email&lt;/label&gt;
    &lt;input type="email" name="email" id="email" /&gt;
    &lt;label for="password"&gt;Password&lt;/label&gt;
    &lt;input type="password" name="password" id="password" /&gt;
    &lt;button type="submit"&gt;Login&lt;/button&gt;
  &lt;/form&gt;
  &lt;button id="google"&gt;Sign in with Google&lt;/button&gt;
&lt;/Layout&gt;
&lt;script&gt;
  import {
    getAuth,
    inMemoryPersistence,
    signInWithEmailAndPassword,
    GoogleAuthProvider,
    signInWithPopup,
  } from "firebase/auth";
  import { app } from "../firebase/client";


  const auth = getAuth(app);
  auth.setPersistence(inMemoryPersistence);


  const form = document.querySelector("form") as HTMLFormElement;
  form.addEventListener("submit", async (e) =&gt; {
    e.preventDefault();
    const formData = new FormData(form);
    const email = formData.get("email")?.toString();
    const password = formData.get("password")?.toString();


    if (!email || !password) {
      return;
    }
    const userCredential = await signInWithEmailAndPassword(
      auth,
      email,
      password
    );
    const idToken = await userCredential.user.getIdToken();
    const response = await fetch("/api/auth/signin", {
      headers: {
        Authorization: `Bearer ${idToken}`,
      },
    });


    if (response.redirected) {
      window.location.assign(response.url);
    }
  });


  const googleSignin = document.querySelector("#google") as HTMLButtonElement;
  googleSignin.addEventListener("click", async () =&gt; {
    const provider = new GoogleAuthProvider();
    const userCredential = await signInWithPopup(auth, provider);
    const idToken = await userCredential.user.getIdToken();
    const res = await fetch("/api/auth/signin", {
      headers: {
        Authorization: `Bearer ${idToken}`,
      },
    });


    if (res.redirected) {
      window.location.assign(res.url);
    }
  });
&lt;/script&gt;</pre>

</div> <p>When clicked, the Google sign in button will open a popup window to sign in with Google. Once the user signs in, it will send a <code dir="auto">POST</code> request to the <code dir="auto">/api/auth/signin</code> endpoint with the ID token generated by OAuth provider.</p> <p>The endpoint will verify the ID token and create a new session cookie for the user. Then, the endpoint will redirect the user to the <code dir="auto">/dashboard</code> page.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="connecting-to-firestore-database">Connecting to Firestore database</h2></div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="prerequisites-2">Prerequisites</h3></div> <ul> <li> <p>An Astro project initialized with Firebase as described in the <a href="#initializing-firebase-in-astro">Initializing Firebase in Astro</a> section.</p> </li> <li> <p>A Firebase project with a Firestore database. You can follow the <a href="https://firebase.google.com/docs/firestore/quickstart">Firebase documentation to create a new project and set up a Firestore database</a>.</p> </li> </ul> <p>In this recipe, the Firestore collection will be called <strong>friends</strong> and will contain documents with the following fields:</p> <ul> <li>
<code dir="auto">id</code>: autogenerated by Firestore</li> <li>
<code dir="auto">name</code>: a string field</li> <li>
<code dir="auto">age</code>: a number field</li> <li>
<code dir="auto">isBestFriend</code>: a boolean field</li> </ul> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="creating-the-server-endpoints">Creating the server endpoints</h3></div> <p>Create two new files in a new directory <code dir="auto">src/pages/api/friends/</code>: <code dir="auto">index.ts</code> and <code dir="auto">[id].ts</code>. These will create two server endpoints to interact with the Firestore database in the following ways:</p> <ul> <li>
<code dir="auto">POST /api/friends</code>: to create a new document in the friends collection.</li> <li>
<code dir="auto">POST /api/friends/:id</code>: to update a document in the friends collection.</li> <li>
<code dir="auto">DELETE /api/friends/:id</code>: to delete a document in the friends collection.</li> </ul> <p><code dir="auto">index.ts</code> will contain the code to create a new document in the friends collection:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/api/friends/index.ts</span></div>
<pre data-language="ts">import type { APIRoute } from "astro";
import { app } from "../../../firebase/server";
import { getFirestore } from "firebase-admin/firestore";


export const POST: APIRoute = async ({ request, redirect }) =&gt; {
  const formData = await request.formData();
  const name = formData.get("name")?.toString();
  const age = formData.get("age")?.toString();
  const isBestFriend = formData.get("isBestFriend") === "on";


  if (!name || !age) {
    return new Response("Missing required fields", {
      status: 400,
    });
  }
  try {
    const db = getFirestore(app);
    const friendsRef = db.collection("friends");
    await friendsRef.add({
      name,
      age: parseInt(age),
      isBestFriend,
    });
  } catch (error) {
    return new Response("Something went wrong", {
      status: 500,
    });
  }
  return redirect("/dashboard");
};</pre>

</div> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>This is a basic implementation of the <code dir="auto">friends</code> endpoint. You can add more logic to this endpoint to suit your needs.</p></section></aside> <p><code dir="auto">[id].ts</code> will contain the code to update and delete a document in the friends collection:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/api/friends/[id].ts</span></div>
<pre data-language="ts">import type { APIRoute } from "astro";
import { app } from "../../../firebase/server";
import { getFirestore } from "firebase-admin/firestore";


const db = getFirestore(app);
const friendsRef = db.collection("friends");


export const POST: APIRoute = async ({ params, redirect, request }) =&gt; {
  const formData = await request.formData();
  const name = formData.get("name")?.toString();
  const age = formData.get("age")?.toString();
  const isBestFriend = formData.get("isBestFriend") === "on";


  if (!name || !age) {
    return new Response("Missing required fields", {
      status: 400,
    });
  }


  if (!params.id) {
    return new Response("Cannot find friend", {
      status: 404,
    });
  }


  try {
    await friendsRef.doc(params.id).update({
      name,
      age: parseInt(age),
      isBestFriend,
    });
  } catch (error) {
    return new Response("Something went wrong", {
      status: 500,
    });
  }
  return redirect("/dashboard");
};


export const DELETE: APIRoute = async ({ params, redirect }) =&gt; {
  if (!params.id) {
    return new Response("Cannot find friend", {
      status: 404,
    });
  }


  try {
    await friendsRef.doc(params.id).delete();
  } catch (error) {
    return new Response("Something went wrong", {
      status: 500,
    });
  }
  return redirect("/dashboard");
};</pre>

</div> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>This is a basic implementation of the <code dir="auto">friends/:id</code> endpoint. You can add more logic to this endpoint to suit your needs.</p></section></aside> <p>After creating server endpoints for Firestore, your project directory should now include these new files:</p> <starlight-file-tree class="not-content astro-amtfieur" data-pagefind-ignore><ul>
<li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>src </span></span></summary><ul>
<li class="file"><span class="tree-entry"><span class="">env.d.ts</span></span></li>
<li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>firebase </span></span></summary><ul>
<li class="file"><span class="tree-entry"><span class="">client.ts</span></span></li>
<li class="file"><span class="tree-entry"><span class="">server.ts</span></span></li>
</ul></details></li>
<li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>pages </span></span></summary><ul><li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>api </span></span></summary><ul><li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>friends </span></span></summary><ul>
<li class="file"><span class="tree-entry"><span class="highlight"><strong>index.ts</strong></span></span></li>
<li class="file"><span class="tree-entry"><span class="highlight"><strong>[id].ts</strong></span></span></li>
</ul></details></li></ul></details></li></ul></details></li>
</ul></details></li>
<li class="file"><span class="tree-entry"><span class="">.env</span></span></li>
<li class="file"><span class="tree-entry"><span class="">astro.config.mjs</span></span></li>
<li class="file"><span class="tree-entry"><span class="">package.json</span></span></li>
</ul></starlight-file-tree> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="creating-pages-1">Creating pages</h3></div> <p>Create the pages that will use the Firestore endpoints:</p> <ul> <li>
<code dir="auto">src/pages/add.astro</code> - will contain a form to add a new friend.</li> <li>
<code dir="auto">src/pages/edit/[id].astro</code> - will contain a form to edit a friend and a button to delete a friend.</li> <li>
<code dir="auto">src/pages/friend/[id].astro</code> - will contain the details of a friend.</li> <li>
<code dir="auto">src/pages/dashboard.astro</code> - will display a list of friends.</li> </ul> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="add-a-new-record">Add a new record</h4></div> <p>The example <code dir="auto">src/pages/add.astro</code> below includes a form that will send a <code dir="auto">POST</code> request to the <code dir="auto">/api/friends</code> endpoint. This endpoint will create a new friend using the data from the form and then will redirect the user to the <code dir="auto">/dashboard</code> page.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/add.astro</span></div>
<pre data-language="astro">---
import Layout from "../layouts/Layout.astro";
---


&lt;Layout title="Add a new friend"&gt;
  &lt;h1&gt;Add a new friend&lt;/h1&gt;
  &lt;form method="post" action="/api/friends"&gt;
    &lt;label for="name"&gt;Name&lt;/label&gt;
    &lt;input type="text" id="name" name="name" /&gt;
    &lt;label for="age"&gt;Age&lt;/label&gt;
    &lt;input type="number" id="age" name="age" /&gt;
    &lt;label for="isBestFriend"&gt;Is best friend?&lt;/label&gt;
    &lt;input type="checkbox" id="isBestFriend" name="isBestFriend" /&gt;
    &lt;button type="submit"&gt;Add friend&lt;/button&gt;
  &lt;/form&gt;
&lt;/Layout&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="edit-or-delete-a-record">Edit or Delete a record</h4></div> <p><code dir="auto">src/pages/edit/[id].astro</code> will contain a form to edit a friend data and a button to delete a friend. On submit, this page will send a <code dir="auto">POST</code> request to the <code dir="auto">/api/friends/:id</code> endpoint to update a friend data.</p> <p>If the user clicks the delete button, this page will send a <code dir="auto">DELETE</code> request to the <code dir="auto">/api/friends/:id</code> endpoint to delete a friend.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/edit/[id].astro</span></div>
<pre data-language="astro">---
import Layout from "../../layouts/Layout.astro";
import { app } from "../../firebase/server";
import { getFirestore } from "firebase-admin/firestore";


interface Friend {
  name: string;
  age: number;
  isBestFriend: boolean;
}


const { id } = Astro.params;


if (!id) {
  return Astro.redirect("/404");
}


const db = getFirestore(app);
const friendsRef = db.collection("friends");
const friendSnapshot = await friendsRef.doc(id).get();


if (!friendSnapshot.exists) {
  return Astro.redirect("/404");
}


const friend = friendSnapshot.data() as Friend;
---


&lt;Layout title="Edit {friend.name}"&gt;
  &lt;h1&gt;Edit {friend.name}&lt;/h1&gt;
  &lt;p&gt;Here you can edit or delete your friend's data.&lt;/p&gt;
  &lt;form method="post" action={`/api/friends/${id}`}&gt;
    &lt;label for="name"&gt;Name&lt;/label&gt;
    &lt;input type="text" id="name" name="name" value={friend.name} /&gt;
    &lt;label for="age"&gt;Age&lt;/label&gt;
    &lt;input type="number" id="age" name="age" value={friend.age} /&gt;
    &lt;label for="isBestFriend"&gt;Is best friend?&lt;/label&gt;
    &lt;input
      type="checkbox"
      id="isBestFriend"
      name="isBestFriend"
      checked={friend.isBestFriend}
    /&gt;
    &lt;button type="submit"&gt;Edit friend&lt;/button&gt;
  &lt;/form&gt;
  &lt;button type="button" id="delete-document"&gt;Delete&lt;/button&gt;
&lt;/Layout&gt;
&lt;script&gt;
  const deleteButton = document.getElementById(
    "delete-document"
  ) as HTMLButtonElement;
  const url = document.querySelector("form")?.getAttribute("action") as string;
  deleteButton.addEventListener("click", async () =&gt; {
    const response = await fetch(url, {
      method: "DELETE",
    });
    if (response.redirected) {
      window.location.assign(response.url);
    }
  });
&lt;/script&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="display-an-individual-record">Display an individual record</h4></div> <p><code dir="auto">src/pages/friend/[id].astro</code> will display the details of a friend.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/friend/[id].astro</span></div>
<pre data-language="astro">---
import Layout from "../../layouts/Layout.astro";
import { app } from "../../firebase/server";
import { getFirestore } from "firebase-admin/firestore";


interface Friend {
  name: string;
  age: number;
  isBestFriend: boolean;
}


const { id } = Astro.params;


if (!id) {
  return Astro.redirect("/404");
}


const db = getFirestore(app);
const friendsRef = db.collection("friends");
const friendSnapshot = await friendsRef.doc(id).get();


if (!friendSnapshot.exists) {
  return Astro.redirect("/404");
}


const friend = friendSnapshot.data() as Friend;
---


&lt;Layout title={friend.name}&gt;
  &lt;h1&gt;{friend.name}&lt;/h1&gt;
  &lt;p&gt;Age: {friend.age}&lt;/p&gt;
  &lt;p&gt;Is best friend: {friend.isBestFriend ? "Yes" : "No"}&lt;/p&gt;
&lt;/Layout&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="display-a-list-of-records-with-an-edit-button">Display a list of records with an edit button</h4></div> <p>Finally, <code dir="auto">src/pages/dashboard.astro</code> will display a list of friends. Each friend will have a link to their details page and an edit button that will redirect the user to the edit page.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/dashboard.astro</span></div>
<pre data-language="astro">---
import { app } from "../firebase/server";
import { getFirestore } from "firebase-admin/firestore";
import Layout from "../layouts/Layout.astro";


interface Friend {
  id: string;
  name: string;
  age: number;
  isBestFriend: boolean;
}


const db = getFirestore(app);
const friendsRef = db.collection("friends");
const friendsSnapshot = await friendsRef.get();
const friends = friendsSnapshot.docs.map((doc) =&gt; ({
  id: doc.id,
  ...doc.data(),
})) as Friend[];
---


&lt;Layout title="My friends"&gt;
  &lt;h1&gt;Friends&lt;/h1&gt;
  &lt;ul&gt;
    {
      friends.map((friend) =&gt; (
        &lt;li&gt;
          &lt;a href={`/friend/${friend.id}`}&gt;{friend.name}&lt;/a&gt;
          &lt;span&gt;({friend.age})&lt;/span&gt;
          &lt;strong&gt;{friend.isBestFriend ? "Bestie" : "Friend"}&lt;/strong&gt;
          &lt;a href={`/edit/${friend.id}`}&gt;Edit&lt;/a&gt;
        &lt;/li&gt;
      ))
    }
  &lt;/ul&gt;
&lt;/Layout&gt;</pre>

</div> <p>After creating all the pages, you should have the following file structure:</p> <starlight-file-tree class="not-content astro-amtfieur" data-pagefind-ignore><ul>
<li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>src </span></span></summary><ul>
<li class="file"><span class="tree-entry"><span class="">env.d.ts</span></span></li>
<li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>firebase </span></span></summary><ul>
<li class="file"><span class="tree-entry"><span class="">client.ts</span></span></li>
<li class="file"><span class="tree-entry"><span class="">server.ts</span></span></li>
</ul></details></li>
<li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>pages </span></span></summary><ul>
<li class="file"><span class="tree-entry"><span class="">dashboard.astro</span></span></li>
<li class="file"><span class="tree-entry"><span class="">add.astro</span></span></li>
<li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>edit </span></span></summary><ul><li class="file"><span class="tree-entry"><span class="">[id].astro</span></span></li></ul></details></li>
<li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>friend </span></span></summary><ul><li class="file"><span class="tree-entry"><span class="">[id].astro</span></span></li></ul></details></li>
<li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>api </span></span></summary><ul><li class="directory"><details open><summary><span class="tree-entry"><span class=""><span><span class="sr-only">Directory</span></span>friends </span></span></summary><ul>
<li class="file"><span class="tree-entry"><span class="">index.ts</span></span></li>
<li class="file"><span class="tree-entry"><span class="">[id].ts</span></span></li>
</ul></details></li></ul></details></li>
</ul></details></li>
</ul></details></li>
<li class="file"><span class="tree-entry"><span class="">.env</span></span></li>
<li class="file"><span class="tree-entry"><span class="">astro.config.mjs</span></span></li>
<li class="file"><span class="tree-entry"><span class="">package.json</span></span></li>
</ul></starlight-file-tree> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="community-resources">Community Resources</h2></div> <ul> <li><a href="https://github.com/kevinzunigacuellar/astro-firebase">Astro and Firebase SSR app example</a></li> <li><a href="https://www.launchfa.st/blog/vue-astro-firebase-realtime-database">Using Firebase Realtime Database in Astro with Vue: A Step-by-Step Guide</a></li> </ul> <h2 class="astro-klj6ju3r">More backend service guides</h2> <section> <section class="cards-nav not-content astro-kq5jy4fu"> <ul class="fluid-grid fluid-grid--minimal astro-oxk5cgh7"> <li class="card card--minimal  astro-kq5jy4fu astro-har75nup"> <div class="logo circle astro-anndpidy" style="--logo-size: 4rem; --logo-padding: .2em;"> <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTIiIGhlaWdodD0iOTgiIGZpbGw9Im5vbmUiIGNsYXNzPSJ1LW1heC13aWR0aC0xMDAtcGVyY2VudCIgdmlld0JveD0iMCAwIDExMiA5OCI+Cgk8cGF0aCBmaWxsPSIjRkQzNjZFIiBkPSJNMTExLjEgNzMuNDczdjI0LjQ5SDQ4Ljg3Yy0xOC4xMyAwLTMzLjk2LTkuODQ5LTQyLjQyOS0yNC40OUE0OC42ODMgNDguNjgzIDAgMCAxIDAgNTIuMjkzVjQ1LjY3YTQ4LjUyIDQ4LjUyIDAgMCAxIDEuNzMyLTEwLjA0OEM3LjU0NSAxNS4wNjQgMjYuNDQ4IDAgNDguODcxIDBjMjIuNDIyIDAgNDEuMzIzIDE1LjA2NCA0Ny4xMzYgMzUuNjIzSDY5LjM5OEM2NS4wMyAyOC45MjIgNTcuNDcgMjQuNDkxIDQ4Ljg3MiAyNC40OTFjLTguNTk5IDAtMTYuMTYgNC40My0yMC41MjggMTEuMTMyYTI0LjI2MiAyNC4yNjIgMCAwIDAtMy4wNDIgNi42OCAyNC40ODggMjQuNDg4IDAgMCAwLS45MjEgNi42NzljMCA3LjAyIDIuOTUyIDEzLjM0OCA3LjY4NSAxNy44MTFhMjQuMzkgMjQuMzkgMCAwIDAgMTYuODA2IDYuNjh6Ii8+Cgk8cGF0aCBmaWxsPSIjRkQzNjZFIiBkPSJNMTExLjEgNDIuMzAzdjI0LjQ5SDY1LjY3NmEyNC40MDYgMjQuNDA2IDAgMCAwIDcuNjg2LTE3LjgxYzAtMi4zMTYtLjMyMS00LjU1Ni0uOTIyLTYuNjh6Ii8+Cjwvc3ZnPgo=" alt="" loading="lazy" decoding="async" width="64" height="64" class="astro-anndpidy"> </div> <div class="stack sl-flex astro-har75nup"> <h3 class="astro-har75nup"> <a href="../appwriteio/index.html" aria-current="false" class="astro-har75nup"> Appwrite </a> </h3> </div> </li>
<li class="card card--minimal  astro-kq5jy4fu astro-har75nup"> <div class="logo circle astro-anndpidy" style="--logo-size: 4rem; --logo-padding: .1875em;"> <img src="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTExIDE1MSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iLTMuNSUiIHgyPSIxMDAuOCUiIHkxPSIxNyUiIHkyPSI5Mi45JSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii4xIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjxwYXRoIGlkPSJiIiBkPSJtOTUuOCAzMy42YTMuNCAzLjQgMCAwIDAgLTUuOC0xLjlsLTE3LjcgMTcuOS0xNC0yNi42YTMuMyAzLjMgMCAwIDAgLTYgMGwtNy43IDE0LjQtMTkuMi0zNS40Yy0xLjUtMy02LTIuMi02LjQgMWwtMTguNSAxMTguMiA0OS41IDI3LjdjMy4xIDEuNyA3IDEuNyAxMCAwbDUwLTI3Ljd6Ii8+PG1hc2sgaWQ9ImMiIGZpbGw9IiNmZmYiPjx1c2UgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIiB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSguMikiPjx1c2UgZmlsbD0idXJsKCNhKSIgZmlsbC1ydWxlPSJub256ZXJvIiB4bGluazpocmVmPSIjYiIvPjxnIGZpbGwtcnVsZT0ibm9uemVybyIgbWFzaz0idXJsKCNjKSI+PHBhdGggZD0ibS41IDEyMS4yIDE4LjYtMTE4LjJjLjUtMy4yIDQuOC00IDYuNC0xbDE5LjEgMzUuNSA3LjctMTQuNGEzLjQgMy40IDAgMCAxIDYgMGw1MS43IDk4aC0xMDkuNXoiIGZpbGw9IiNmZmEwMDAiLz48cGF0aCBkPSJtNjQuNSA3NS4yLTIwLTM3LjYtNDQgODMuNnoiIGZpbGw9IiNmNTdjMDAiLz48cGF0aCBkPSJtMTEwIDEyMS4yLTE0LjItODcuNmEzLjQgMy40IDAgMCAwIC01LjgtMS45bC04OS41IDg5LjUgNDkuNSAyNy43YzMuMSAxLjcgNyAxLjcgMTAgMHoiIGZpbGw9IiNmZmNhMjgiLz48cGF0aCBkPSJtOTUuOCAzMy42YTMuNCAzLjQgMCAwIDAgLTUuOC0xLjlsLTE3LjcgMTcuOS0xNC0yNi42YTMuMyAzLjMgMCAwIDAgLTYgMGwtNy43IDE0LjQtMTkuMi0zNS40Yy0xLjUtMy02LTIuMi02LjQgMWwtMTguNSAxMTguMi41LjMgNzEuMi03MSAxNy44LTE3LjlhMy41IDMuNSAwIDAgMSA1LjggMS45bDE0IDg2LjcuMi0uMS0xNC4yLTg3LjZ6bS05NS4xIDg3LjQgMTguMy0xMTcuMWMuNS0zLjMgNC44LTQgNi40LTEuMWwxOS4xIDM1LjYgNy43LTE0LjVhMy40IDMuNCAwIDAgMSA2IDBsMTMuOCAyNi4xeiIgZmlsbD0iI2ZmZiIgZmlsbC1vcGFjaXR5PSIuMiIvPjxwYXRoIGQ9Im02MCAxNDhhMTAuNCAxMC40IDAgMCAxIC0xMCAwbC00OS40LTI3LjYtLjEuOCA0OS41IDI3LjdjMy4xIDEuNyA3IDEuNyAxMCAwbDUwLTI3Ljd2LS44eiIgZmlsbD0iI2E1MjcxNCIgb3BhY2l0eT0iLjIiLz48L2c+PHBhdGggZD0ibS0yNi45LTYuN2gxNjQuM3YxNjMuN2gtMTY0LjN6IiBtYXNrPSJ1cmwoI2MpIi8+PHBhdGggZD0ibTk1LjggMzMuNmEzLjQgMy40IDAgMCAwIC01LjgtMS45bC0xNy43IDE3LjktMTQtMjYuNmEzLjMgMy4zIDAgMCAwIC02IDBsLTcuNyAxNC40LTE5LjItMzUuNGMtMS41LTMtNi0yLjItNi40IDFsLTE4LjUgMTE4LjIgNDkuNSAyNy43YzMuMSAxLjcgNyAxLjcgMTAgMGw1MC0yNy43eiIgZmlsbD0idXJsKCNhKSIgZmlsbC1ydWxlPSJub256ZXJvIiBtYXNrPSJ1cmwoI2MpIi8+PC9nPjwvc3ZnPg==" alt="" loading="lazy" decoding="async" width="64" height="64" class="astro-anndpidy"> </div> <div class="stack sl-flex astro-har75nup"> <h3 class="astro-har75nup"> <a href="index.html" aria-current="page" class="astro-har75nup"> Firebase </a> </h3> </div> </li>
<li class="card card--minimal  astro-kq5jy4fu astro-har75nup"> <div class="logo circle astro-anndpidy" style="--logo-size: 4rem; --logo-padding: .1em;"> <img src="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iY3NzLWxmYm82aiBlMWlnazh4MDQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDcyIDY2IiB3aWR0aD0iODAiIGhlaWdodD0iNzQiPjxwYXRoIGQ9Ik0yOSwyLjI2YTQuNjcsNC42NywwLDAsMC04LDBMMTQuNDIsMTMuNTNBMzIuMjEsMzIuMjEsMCwwLDEsMzIuMTcsNDAuMTlIMjcuNTVBMjcuNjgsMjcuNjgsMCwwLDAsMTIuMDksMTcuNDdMNiwyOGExNS45MiwxNS45MiwwLDAsMSw5LjIzLDEyLjE3SDQuNjJBLjc2Ljc2LDAsMCwxLDQsMzkuMDZsMi45NC01YTEwLjc0LDEwLjc0LDAsMCwwLTMuMzYtMS45bC0yLjkxLDVhNC41NCw0LjU0LDAsMCwwLDEuNjksNi4yNEE0LjY2LDQuNjYsMCwwLDAsNC42Miw0NEgxOS4xNWExOS40LDE5LjQsMCwwLDAtOC0xNy4zMWwyLjMxLTRBMjMuODcsMjMuODcsMCwwLDEsMjMuNzYsNDRIMzYuMDdhMzUuODgsMzUuODgsMCwwLDAtMTYuNDEtMzEuOGw0LjY3LThhLjc3Ljc3LDAsMCwxLDEuMDUtLjI3Yy41My4yOSwyMC4yOSwzNC43NywyMC42NiwzNS4xN2EuNzYuNzYsMCwwLDEtLjY4LDEuMTNINDAuNnEuMDksMS45MSwwLDMuODFoNC43OEE0LjU5LDQuNTksMCwwLDAsNTAsMzkuNDNhNC40OSw0LjQ5LDAsMCwwLS42Mi0yLjI4WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEsIDExKSIgZmlsbD0iI2ZmZmZmZiI+PC9wYXRoPjwvc3ZnPg==" alt="" loading="lazy" decoding="async" width="64" height="64" class="astro-anndpidy"> </div> <div class="stack sl-flex astro-har75nup"> <h3 class="astro-har75nup"> <a href="../sentry/index.html" aria-current="false" class="astro-har75nup"> Sentry </a> </h3> </div> </li>
<li class="card card--minimal  astro-kq5jy4fu astro-har75nup"> <div class="logo circle astro-anndpidy" style="--logo-size: 4rem; --logo-padding: .2em;"> <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxMDkgMTEzIj4KICA8cGF0aCBmaWxsPSJ1cmwoI2EpIiBkPSJNNjMuNyAxMTAuM2E0LjkgNC45IDAgMCAxLTguNy0zbC0xLTY3LjJoNDUuMmE5LjggOS44IDAgMCAxIDcuNyAxNS44bC00My4yIDU0LjRaIi8+CiAgPHBhdGggZmlsbD0idXJsKCNiKSIgZmlsbC1vcGFjaXR5PSIuMiIgZD0iTTYzLjcgMTEwLjNhNC45IDQuOSAwIDAgMS04LjctM2wtMS02Ny4yaDQ1LjJhOS44IDkuOCAwIDAgMSA3LjcgMTUuOGwtNDMuMiA1NC40WiIvPgogIDxwYXRoIGZpbGw9IiMzRUNGOEUiIGQ9Ik00NS4zIDJBNC45IDQuOSAwIDAgMSA1NCA1bC41IDY3LjNIOS44YTkuOCA5LjggMCAwIDEtNy42LTE1LjlMNDUuMyAyLjFaIi8+CiAgPGRlZnM+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSI1NCIgeDI9Ijk0LjIiIHkxPSI1NSIgeTI9IjcxLjgiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzI0OTM2MSIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMzRUNGOEUiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImIiIHgxPSIzNi4yIiB4Mj0iNTQuNSIgeTE9IjMwLjYiIHkyPSI2NS4xIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLW9wYWNpdHk9IjAiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgPC9kZWZzPgo8L3N2Zz4K" alt="" loading="lazy" decoding="async" width="64" height="64" class="astro-anndpidy"> </div> <div class="stack sl-flex astro-har75nup"> <h3 class="astro-har75nup"> <a href="../supabase/index.html" aria-current="false" class="astro-har75nup"> Supabase </a> </h3> </div> </li>
<li class="card card--minimal  astro-kq5jy4fu astro-har75nup"> <div class="logo circle astro-anndpidy" style="--logo-size: 4rem; --logo-padding: .2em;"> <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzA0IiBoZWlnaHQ9IjMyMCIgdmlld0JveD0iMCAwIDMwNCAzMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0zMDQgMTAuNzA5M0wyOTYuNDQ1IDUuMTA1MDhMMjgxLjUxNiAyMC45NkwyNjkuNTQ2IDMuODA1ODZMMjYyLjY2MiA2Ljk0NDAxTDI3Mi4xMzYgMzAuOTIwNUwyNjcuNzQ5IDM1LjU3OTdMMjMzLjc0MiAwTDIyNi4wMzUgMy43ODg4TDI1Ni4yNzUgNjguMjY4OEwyMjcuOTM5IDc4LjE1MjVIMjI3LjI2M0wyMTEuOTAyIDYwLjAyOTlMMTk2LjUyOSA3OC4xNjc1SDEwNy40NjlMOTIuMDk1NyA2MC4wMjk5TDc2LjY4OTkgNzguMjA1OUg3Ni4yMTUzTDQ3LjcyMjkgNjguMjY4OEw3Ny45NjU1IDMuNzg4OEw3MC4yNTgyIDBMMzYuMjUxMiAzNS41Nzk3TDMxLjg2MzkgMzAuOTIwNUw0MS4zMzg1IDYuOTQxODZMMzQuNDUzOCAzLjgwNTg2TDIyLjQ4MzggMjAuOTU3OUw3LjU1NDc1IDUuMTA1MDhMMCAxMC43MDkzTDIzLjI0MTkgNDkuMTg4M0wxMS4yODA2IDYxLjcwMjRMMTUuNDYzOCA5My4zNzZMNDMuMTY2IDEwMy44NzJMNDMuMTEwMSAxMTcuNTY2SDE2Ljg3NjhWMTIzLjQ3N0wyNy4wMzIxIDEzNy44NDdMNDMuMTEwMSAxNDMuNjJWMjM2LjU3Nkw4NC4yMDYgMjk3LjI1Mkw5My42MjQ3IDMyMEwxMDguNDI1IDI5OC41ODhMMTIzLjc2NiAzMjBMMTM3LjE5NyAyOTguNTg4TDE1MS45OTkgMzIwTDE2Ni43OTkgMjk4LjU4OEwxODAuMjMyIDMyMEwxOTUuNTcxIDI5OC41ODhMMjEwLjM3MSAzMjBMMjE5Ljc5MiAyOTcuMjUyTDI2MC44ODYgMjM2LjU3NlYxNDMuNjJMMjc2Ljk2NiAxMzcuODQ3TDI4Ny4xMTkgMTIzLjQ3N1YxMTcuNTY2SDI2MC44ODZMMjYwLjkyNiAxMDMuODM2TDI4OC41MzQgOTMuMzc2TDI5Mi43MTUgNjEuNzA0NUwyODAuNzU0IDQ5LjE5MDRMMzAzLjk5OCAxMC43MTE1TDMwNCAxMC43MDkzWk0xODMuOTg3IDI2MC4yNzdIOTguNjg0MUwxMDkuMzQ4IDIzOC43NDNMMTIwLjAxIDI2MC4yNzdMMTMwLjY3MyAyNDUuODQ1TDE0MS4zMzcgMjYwLjI3N0wxNTEuOTk5IDI0NS44NDVMMTYyLjY2MSAyNjAuMjc3TDE3My4zMjUgMjQ1Ljg0NUwxODMuOTg3IDI2MC4yNzdMMTk0LjY1IDIzOC43NDNMMjA1LjMxNCAyNjAuMjc3SDE4My45ODdaTTIzNi4yMDkgMTYxLjc0MUwxOTEuODU0IDE3Ni4yMDVMMTg5Ljk0MiAyMTcuMDJMMTUxLjk1MiAyMjUuMzcyTDExMy45NjEgMjE3LjAyTDExMi4wNSAxNzYuMjA1TDY3LjY5NDIgMTYxLjc0MVYxMzkuOTUzTDEyNS4wMzYgMTU2LjA3M0wxMjQuMzM4IDIxMS4xSDE3OS41NjZMMTc4Ljg2NiAxNTYuMDczTDIzNi4yMDkgMTM5Ljk1M1YxNjEuNzQxWiIgZmlsbD0iIzRmZjhkMiIvPgo8L3N2Zz4K" alt="" loading="lazy" decoding="async" width="64" height="64" class="astro-anndpidy"> </div> <div class="stack sl-flex astro-har75nup"> <h3 class="astro-har75nup"> <a href="../turso/index.html" aria-current="false" class="astro-har75nup"> Turso </a> </h3> </div> </li>
<li class="card card--minimal  astro-kq5jy4fu astro-har75nup"> <div class="logo circle astro-anndpidy" style="--logo-size: 4rem; --logo-padding: 0.234em 0.234em 0.1875em;"> <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjEgNDY3Ij4KICA8cGF0aCBmaWxsPSIjMDZENkEwIiBkPSJNMzg5IDQ2NmMzMy0zMyA1NC03MyA2MC0xMTIgNy00MC0zLTc1LTI3LTk5TDMwMSAzNzdsODggODlaIi8+CiAgPHBhdGggZmlsbD0iI0ZCMCIgZD0iTTcyIDQ2NmMtMzMtMzItNTQtNzItNjAtMTEyLTctMzkgMy03NCAyNy05OGwxMjEgMTIxLTg4IDg5WiIvPgogIDxwYXRoIGZpbGw9IiNGRjAwNzUiIGQ9Ik0xIDEyMmMwIDQ2IDE4IDg5IDUwIDEyMmwxMjIgMTIxYTE3MiAxNzIgMCAwIDAtMS0yNDNMNTEgMUMxOSAzMyAxIDc3IDEgMTIyWiIvPgogIDxwYXRoIGZpbGw9IiMwMDc2RkYiIGQ9Ik00NjAgMTIxYzAgNDYtMTggOTAtNTAgMTIyTDI4OCAzNjRhMTcyIDE3MiAwIDAgMSAxLTI0M0w0MTAgMGMzMiAzMiA1MCA3NiA1MCAxMjFaIi8+Cjwvc3ZnPgo=" alt="" loading="lazy" decoding="async" width="64" height="64" class="astro-anndpidy"> </div> <div class="stack sl-flex astro-har75nup"> <h3 class="astro-har75nup"> <a href="../xata/index.html" aria-current="false" class="astro-har75nup"> Xata </a> </h3> </div> </li> </ul> </section> </section> <span id="docsearch-lvl0" hidden class="astro-klj6ju3r">Recipes</span> </div>   </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 Fred K. Schott<br>Licensed under the MIT License.<br>
    <a href="https://docs.astro.build/en/guides/backend/google-firebase/" class="_attribution-link">https://docs.astro.build/en/guides/backend/google-firebase/</a>
  </p>
</div>
