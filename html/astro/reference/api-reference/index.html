<h1 id="_top" class="astro-556cgime">API Reference</h1> <div class="content-panel astro-ayt3hsza"> <div class="sl-container astro-ayt3hsza"> <div class="sl-markdown-content astro-klj6ju3r"> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="astro-global">
<code dir="auto">Astro</code> global</h2></div> <p>The <code dir="auto">Astro</code> global is available in all contexts in <code dir="auto">.astro</code> files. It has the following functions:</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astroglob"><code dir="auto">Astro.glob()</code></h3></div> <p><code dir="auto">Astro.glob()</code> is a way to load many local files into your static site setup.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/components/my-component.astro</span></div>
<pre data-language="astro">---
const posts = await Astro.glob('../pages/post/*.md'); // returns an array of posts that live at ./src/pages/post/*.md
---


&lt;div&gt;
{posts.slice(0, 3).map((post) =&gt; (
  &lt;article&gt;
    &lt;h2&gt;{post.frontmatter.title}&lt;/h2&gt;
    &lt;p&gt;{post.frontmatter.description}&lt;/p&gt;
    &lt;a href={post.url}&gt;Read more&lt;/a&gt;
  &lt;/article&gt;
))}
&lt;/div&gt;</pre>

</div> <p><code dir="auto">.glob()</code> only takes one parameter: a relative URL glob of which local files you’d like to import. It’s asynchronous, and returns an array of the exports from matching files.</p> <p><code dir="auto">.glob()</code> can’t take variables or strings that interpolate them, as they aren’t statically analyzable. (See <a href="../../guides/troubleshooting/index.html#supported-values">the troubleshooting guide</a> for a workaround.) This is because <code dir="auto">Astro.glob()</code> is a wrapper of Vite’s <a href="https://vitejs.dev/guide/features.html#glob-import"><code dir="auto">import.meta.glob()</code></a>.</p> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>You can also use <code dir="auto">import.meta.glob()</code> itself in your Astro project. You may want to do this when:</p>
<ul> <li>You need this feature in a file that isn’t <code dir="auto">.astro</code>, like an API route. <code dir="auto">Astro.glob()</code> is only available in <code dir="auto">.astro</code> files, while <code dir="auto">import.meta.glob()</code> is available anywhere in the project.</li> <li>You don’t want to load each file immediately. <code dir="auto">import.meta.glob()</code> can return functions that import the file content, rather than returning the content itself. Note that this import includes all styles and scripts for any imported files. These will be bundled and added to the page whether or not a file is actually used, as this is decided by static analysis, not at runtime.</li> <li>You want access to each file’s path. <code dir="auto">import.meta.glob()</code> returns a map of a file’s path to its content, while <code dir="auto">Astro.glob()</code> returns a list of content.</li> <li>You want to pass multiple patterns; for example, you want to add a “negative pattern” that filters out certain files. <code dir="auto">import.meta.glob()</code> can optionally take an array of glob strings, rather than a single string.</li> </ul>
<p>Read more in the <a href="https://vitejs.dev/guide/features.html#glob-import">Vite documentation</a>.</p></section></aside> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="markdown-files">Markdown Files</h4></div> <p>Markdown files loaded with <code dir="auto">Astro.glob()</code> return the following <code dir="auto">MarkdownInstance</code> interface:</p> <div class="expressive-code">

<pre data-language="ts">export interface MarkdownInstance&lt;T extends Record&lt;string, any&gt;&gt; {
  /* Any data specified in this file's YAML frontmatter */
  frontmatter: T;
  /* The absolute file path of this file */
  file: string;
  /* The rendered path of this file */
  url: string | undefined;
  /* Astro Component that renders the contents of this file */
  Content: AstroComponentFactory;
  /** (Markdown only) Raw Markdown file content, excluding layout HTML and YAML frontmatter */
  rawContent(): string;
  /** (Markdown only) Markdown file compiled to HTML, excluding layout HTML */
  compiledContent(): string;
  /* Function that returns an array of the h1...h6 elements in this file */
  getHeadings(): Promise&lt;{ depth: number; slug: string; text: string }[]&gt;;
  default: AstroComponentFactory;
}</pre>

</div> <p>You can optionally provide a type for the <code dir="auto">frontmatter</code> variable using a TypeScript generic.</p> <div class="expressive-code">

<pre data-language="astro">---
interface Frontmatter {
  title: string;
  description?: string;
}
const posts = await Astro.glob&lt;Frontmatter&gt;('../pages/post/*.md');
---


&lt;ul&gt;
  {posts.map(post =&gt; &lt;li&gt;{post.frontmatter.title}&lt;/li&gt;)}
&lt;/ul&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="astro-files">Astro Files</h4></div> <p>Astro files have the following interface:</p> <div class="expressive-code">

<pre data-language="ts">export interface AstroInstance {
  /* The file path of this file */
  file: string;
  /* The URL for this file (if it is in the pages directory) */
  url: string | undefined;
  default: AstroComponentFactory;
}</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="other-files">Other Files</h4></div> <p>Other files may have various different interfaces, but <code dir="auto">Astro.glob()</code> accepts a TypeScript generic if you know exactly what an unrecognized file type contains.</p> <div class="expressive-code">

<pre data-language="ts">---
interface CustomDataFile {
  default: Record&lt;string, any&gt;;
}
const data = await Astro.glob&lt;CustomDataFile&gt;('../data/**/*.js');
---</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astroprops"><code dir="auto">Astro.props</code></h3></div> <p><code dir="auto">Astro.props</code> is an object containing any values that have been passed as <a href="../../basics/astro-components/index.html#component-props">component attributes</a>. Layout components for <code dir="auto">.md</code> and <code dir="auto">.mdx</code> files receive frontmatter values as props.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/components/Heading.astro</span></div>
<pre data-language="astro">---
const { title, date } = Astro.props;
---
&lt;div&gt;
  &lt;h1&gt;{title}&lt;/h1&gt;
  &lt;p&gt;{date}&lt;/p&gt;
&lt;/div&gt;</pre>

</div> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
import Heading from '../components/Heading.astro';
---
&lt;Heading title="My First Post" date="09 Aug 2022" /&gt;</pre>

</div> <div class="read-more astro-szj46hnz">  <span class="astro-szj46hnz">Learn more about how <a href="../../guides/markdown-content/index.html#frontmatter-layout">Markdown and MDX Layouts</a> handle props.</span> </div> <div class="read-more astro-szj46hnz">  <span class="astro-szj46hnz">Learn how to add <a href="../../guides/typescript/index.html#component-props">TypeScript type definitions for your props</a>.</span> </div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astroparams"><code dir="auto">Astro.params</code></h3></div> <p><code dir="auto">Astro.params</code> is an object containing the values of dynamic route segments matched for this request.</p> <p>In static builds, this will be the <code dir="auto">params</code> returned by <code dir="auto">getStaticPaths()</code> used for prerendering <a href="../../guides/routing/index.html#dynamic-routes">dynamic routes</a>.</p> <p>In SSR builds, this can be any value matching the path segments in the dynamic route pattern.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/posts/[id].astro</span></div>
<pre data-language="astro">---
export function getStaticPaths() {
  return [
    { params: { id: '1' } },
    { params: { id: '2' } },
    { params: { id: '3' } }
  ];
}


const { id } = Astro.params;
---
&lt;h1&gt;{id}&lt;/h1&gt;</pre>

</div> <p>See also: <a href="#params"><code dir="auto">params</code></a></p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astrorequest"><code dir="auto">Astro.request</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">Request</code></p> <p><code dir="auto">Astro.request</code> is a standard <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Request</a> object. It can be used to get the <code dir="auto">url</code>, <code dir="auto">headers</code>, <code dir="auto">method</code>, and even body of the request.</p> <div class="expressive-code">

<pre data-language="astro">&lt;p&gt;Received a {Astro.request.method} request to "{Astro.request.url}".&lt;/p&gt;
&lt;p&gt;Received request headers: &lt;code&gt;{JSON.stringify(Object.fromEntries(Astro.request.headers))}&lt;/code&gt;</pre>

</div> <p>See also: <a href="#astrourl"><code dir="auto">Astro.url</code></a></p> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>With the default <code dir="auto">output: 'static'</code> option, <code dir="auto">Astro.request.url</code> does not contain search parameters, like <code dir="auto">?foo=bar</code>, as it’s not possible to determine them ahead of time during static builds. However in <code dir="auto">output: 'server'</code> mode, <code dir="auto">Astro.request.url</code> does contain search parameters as it can be determined from a server request.</p></section></aside> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astroresponse"><code dir="auto">Astro.response</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">ResponseInit &amp; { readonly headers: Headers }</code></p> <p><code dir="auto">Astro.response</code> is a standard <code dir="auto">ResponseInit</code> object. It has the following structure.</p> <ul> <li>
<code dir="auto">status</code>: The numeric status code of the response, e.g., <code dir="auto">200</code>.</li> <li>
<code dir="auto">statusText</code>: The status message associated with the status code, e.g., <code dir="auto">'OK'</code>.</li> <li>
<code dir="auto">headers</code>: A <a href="https://developer.mozilla.org/en-US/docs/Web/API/Headers"><code dir="auto">Headers</code></a> instance that you can use to set the HTTP headers of the response.</li> </ul> <p><code dir="auto">Astro.response</code> is used to set the <code dir="auto">status</code>, <code dir="auto">statusText</code>, and <code dir="auto">headers</code> for a page’s response.</p> <div class="expressive-code">

<pre data-language="astro">---
if(condition) {
  Astro.response.status = 404;
  Astro.response.statusText = 'Not found';
}
---</pre>

</div> <p>Or to set a header:</p> <div class="expressive-code">

<pre data-language="astro">---
Astro.response.headers.set('Set-Cookie', 'a=b; Path=/;');
---</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astrocookies"><code dir="auto">Astro.cookies</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">AstroCookies</code><br></p>
<span> <strong>Added in:</strong> <code>astro@1.4.0</code> </span> <p><code dir="auto">Astro.cookies</code> contains utilities for reading and manipulating cookies in <a href="../../guides/server-side-rendering/index.html">server-side rendering</a> mode.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="get"><code dir="auto">get</code></h5></div> 
<p><strong>Type:</strong> <code>(key: string, options?: <a href="#astrocookiegetoptions">AstroCookieGetOptions</a>) =&gt; <a href="#astrocookie">AstroCookie</a> | undefined</code></p> <p>Gets the cookie as an <a href="#astrocookie"><code dir="auto">AstroCookie</code></a> object, which contains the <code dir="auto">value</code> and utility functions for converting the cookie to non-string types.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="has"><code dir="auto">has</code></h5></div> 
<p><strong>Type:</strong> <code>(key: string, options?: <a href="#astrocookiegetoptions">AstroCookieGetOptions</a>) =&gt; boolean</code></p> <p>Whether this cookie exists. If the cookie has been set via <code dir="auto">Astro.cookies.set()</code> this will return true, otherwise it will check cookies in the <code dir="auto">Astro.request</code>.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="set"><code dir="auto">set</code></h5></div> 
<p><strong>Type:</strong> <code>(key: string, value: string | object, options?: <a href="#astrocookiesetoptions">AstroCookieSetOptions</a>) =&gt; void</code></p> <p>Sets the cookie <code dir="auto">key</code> to the given value. This will attempt to convert the cookie value to a string. Options provide ways to set <a href="https://www.npmjs.com/package/cookie#options-1">cookie features</a>, such as the <code dir="auto">maxAge</code> or <code dir="auto">httpOnly</code>.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="delete"><code dir="auto">delete</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">(key: string, options?: AstroCookieDeleteOptions) =&gt; void</code></p> <p>Invalidates a cookie by setting the expiration date in the past (0 in Unix time).</p> <p>Once a cookie is “deleted” (expired), <code dir="auto">Astro.cookies.has()</code> will return <code dir="auto">false</code> and <code dir="auto">Astro.cookies.get()</code> will return an <a href="#astrocookie"><code dir="auto">AstroCookie</code></a> with a <code dir="auto">value</code> of <code dir="auto">undefined</code>. Options available when deleting a cookie are: <code dir="auto">domain</code>, <code dir="auto">path</code>, <code dir="auto">httpOnly</code>, <code dir="auto">sameSite</code>, and <code dir="auto">secure</code>.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="merge"><code dir="auto">merge</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">(cookies: AstroCookies) =&gt; void</code></p> <p>Merges a new <code dir="auto">AstroCookies</code> instance into the current instance. Any new cookies will be added to the current instance and any cookies with the same name will overwrite existing values.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="headers"><code dir="auto">headers</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">() =&gt; Iterator&lt;string&gt;</code></p> <p>Gets the header values for <code dir="auto">Set-Cookie</code> that will be sent out with the response.</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="astrocookie"><code dir="auto">AstroCookie</code></h4></div> <p>Getting a cookie via <code dir="auto">Astro.cookies.get()</code> returns a <code dir="auto">AstroCookie</code> type. It has the following structure.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="value"><code dir="auto">value</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">string</code></p> <p>The raw string value of the cookie.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="json"><code dir="auto">json</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">() =&gt; Record&lt;string, any&gt;</code></p> <p>Parses the cookie value via <code dir="auto">JSON.parse()</code>, returning an object. Throws if the cookie value is not valid JSON.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="number"><code dir="auto">number</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">() =&gt; number</code></p> <p>Parses the cookie value as a Number. Returns NaN if not a valid number.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="boolean"><code dir="auto">boolean</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">() =&gt; boolean</code></p> <p>Converts the cookie value to a boolean.</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="astrocookiegetoptions"><code dir="auto">AstroCookieGetOptions</code></h4></div> <p><span> <strong>Added in:</strong> <code>astro@4.1.0</code> </span></p> <p>Getting a cookie also allows specifying options via the <code dir="auto">AstroCookieGetOptions</code> interface:</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="decode"><code dir="auto">decode</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">(value: string) =&gt; string</code></p> <p>Allows customization of how a cookie is deserialized into a value.</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="astrocookiesetoptions"><code dir="auto">AstroCookieSetOptions</code></h4></div> <p><span> <strong>Added in:</strong> <code>astro@4.1.0</code> </span></p> <p>Setting a cookie via <code dir="auto">Astro.cookies.set()</code> allows passing in a <code dir="auto">AstroCookieSetOptions</code> to customize how the cookie is serialized.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="domain"><code dir="auto">domain</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">string</code></p> <p>Specifies the domain. If no domain is set, most clients will interpret to apply to the current domain.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="expires"><code dir="auto">expires</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">Date</code></p> <p>Specifies the date on which the cookie will expire.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="httponly"><code dir="auto">httpOnly</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">boolean</code></p> <p>If true, the cookie will not be accessible client-side.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="maxage"><code dir="auto">maxAge</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">number</code></p> <p>Specifies a number, in seconds, for which the cookie is valid.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="path"><code dir="auto">path</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">string</code></p> <p>Specifies a subpath of the domain in which the cookie is applied.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="samesite"><code dir="auto">sameSite</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">boolean | 'lax' | 'none' | 'strict'</code></p> <p>Specifies the value of the <a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis-09#section-5.4.7">SameSite</a> cookie header.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="secure"><code dir="auto">secure</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">boolean</code></p> <p>If true, the cookie is only set on https sites.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="encode"><code dir="auto">encode</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">(value: string) =&gt; string</code></p> <p>Allows customizing how the cookie is serialized.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astroredirect"><code dir="auto">Astro.redirect()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(path: string, status?: number) =&gt; Response</code></p> <p>Allows you to redirect to another page, and optionally provide an <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#redirection_messages">HTTP response status code</a> as a second parameter.</p> <p>A page (and not a child component) must <code dir="auto">return</code> the result of <code dir="auto">Astro.redirect()</code> for the redirect to occur.</p> <p>For statically-generated sites, this will produce a client redirect using a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#http-equiv"><code dir="auto">&lt;meta http-equiv="refresh"&gt;</code> tag</a> and does not support status codes.</p> <p>When using an on-demand rendering mode, status codes are supported. Astro will serve redirected requests with a default HTTP response status of <code dir="auto">302</code> unless another code is specified.</p> <p>The following example redirects a user to a login page:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/account.astro</span></div>
<pre data-language="astro">---
import { isLoggedIn } from '../utils';


const cookie = Astro.request.headers.get('cookie');


// If the user is not logged in, redirect them to the login page
if (!isLoggedIn(cookie)) {
  return Astro.redirect('/login');
}
---</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astrorewrite"><code dir="auto">Astro.rewrite()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(rewritePayload: string | URL | Request) =&gt; Promise&lt;Response&gt;</code><br></p>
<span> <strong>Added in:</strong> <code>astro@4.13.0</code> </span> <p>Allows you to serve content from a different URL or path without redirecting the browser to a new page.</p> <p>The method accepts either a string, a <code dir="auto">URL</code>, or a <code dir="auto">Request</code> for the location of the path.</p> <p>Use a string to provide an explicit path:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
return Astro.rewrite("/login")
---</pre>

</div> <p>Use a <code dir="auto">URL</code> type when you need to construct the URL path for the rewrite. The following example renders a page’s parent path by creating a new URL from the relative <code dir="auto">"../"</code> path:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/blog/index.astro</span></div>
<pre data-language="astro">---
return Astro.rewrite(new URL("../", Astro.url))
---</pre>

</div> <p>Use a <code dir="auto">Request</code> type for complete control of the <code dir="auto">Request</code> sent to the server for the new path. The following example sends a request to render the parent page while also providing headers:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/blog/index.astro</span></div>
<pre data-language="astro">---
return Astro.rewrite(new Request(new URL("../", Astro.url), {
  headers: {
    "x-custom-header": JSON.stringify(Astro.locals.someValue)
  }
}))
---</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astrourl"><code dir="auto">Astro.url</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">URL</code><br></p>
<span> <strong>Added in:</strong> <code>astro@1.0.0-rc</code> </span> <p>A <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL">URL</a> object constructed from the current <code dir="auto">Astro.request.url</code> URL string value. Useful for interacting with individual properties of the request URL, like pathname and origin.</p> <p>Equivalent to doing <code dir="auto">new URL(Astro.request.url)</code>.</p> <div class="expressive-code">

<pre data-language="astro">&lt;h1&gt;The current URL is: {Astro.url}&lt;/h1&gt;
&lt;h1&gt;The current URL pathname is: {Astro.url.pathname}&lt;/h1&gt;
&lt;h1&gt;The current URL origin is: {Astro.url.origin}&lt;/h1&gt;</pre>

</div> <p>You can also use <code dir="auto">Astro.url</code> to create new URLs by passing it as an argument to <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/URL"><code dir="auto">new URL()</code></a>.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
// Example: Construct a canonical URL using your production domain
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
// Example: Construct a URL for SEO meta tags using your current domain
const socialImageURL = new URL('/images/preview.png', Astro.url);
---
&lt;link rel="canonical" href={canonicalURL} /&gt;
&lt;meta property="og:image" content={socialImageURL} /&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astroclientaddress"><code dir="auto">Astro.clientAddress</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">string</code><br></p>
<span> <strong>Added in:</strong> <code>astro@1.0.0-rc</code> </span> <p>Specifies the <a href="https://en.wikipedia.org/wiki/IP_address">IP address</a> of the request. This property is only available when building for SSR (server-side rendering) and should not be used for static sites.</p> <div class="expressive-code">

<pre data-language="astro">---
const ip = Astro.clientAddress;
---


&lt;div&gt;Your IP address is: &lt;span class="address"&gt;{ ip }&lt;/span&gt;&lt;/div&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astrosite"><code dir="auto">Astro.site</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">URL | undefined</code></p> <p><code dir="auto">Astro.site</code> returns a <code dir="auto">URL</code> made from <code dir="auto">site</code> in your Astro config. If <code dir="auto">site</code> in your Astro config isn’t defined, <code dir="auto">Astro.site</code> won’t be defined.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astrogenerator"><code dir="auto">Astro.generator</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">string</code><br></p>
<span> <strong>Added in:</strong> <code>astro@1.0.0</code> </span> <p><code dir="auto">Astro.generator</code> is a convenient way to add a <a href="https://html.spec.whatwg.org/multipage/semantics.html#meta-generator"><code dir="auto">&lt;meta name="generator"&gt;</code></a> tag with your current version of Astro. It follows the format <code dir="auto">"Astro v1.x.x"</code>.</p> <div class="expressive-code">

<pre data-language="astro">&lt;html&gt;
  &lt;head&gt;
    &lt;meta name="generator" content={Astro.generator} /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;footer&gt;
      &lt;p&gt;Built with &lt;a href="https://astro.build"&gt;{Astro.generator}&lt;/a&gt;&lt;/p&gt;
    &lt;/footer&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astroslots"><code dir="auto">Astro.slots</code></h3></div> <p><code dir="auto">Astro.slots</code> contains utility functions for modifying an Astro component’s slotted children.</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="astroslotshas"><code dir="auto">Astro.slots.has()</code></h4></div> 
<p><strong>Type:</strong> <code dir="auto">(slotName: string) =&gt; boolean</code></p> <p>You can check whether content for a specific slot name exists with <code dir="auto">Astro.slots.has()</code>. This can be useful when you want to wrap slot contents, but only want to render the wrapper elements when the slot is being used.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
---
&lt;slot /&gt;


{Astro.slots.has('more') &amp;&amp; (
  &lt;aside&gt;
    &lt;h2&gt;More&lt;/h2&gt;
    &lt;slot name="more" /&gt;
  &lt;/aside&gt;
)}</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="astroslotsrender"><code dir="auto">Astro.slots.render()</code></h4></div> 
<p><strong>Type:</strong> <code dir="auto">(slotName: string, args?: any[]) =&gt; Promise&lt;string&gt;</code></p> <p>You can asynchronously render the contents of a slot to a string of HTML using <code dir="auto">Astro.slots.render()</code>.</p> <div class="expressive-code">

<pre data-language="astro">---
const html = await Astro.slots.render('default');
---
&lt;Fragment set:html={html} /&gt;</pre>

</div> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>This is for advanced use cases! In most circumstances, it is simpler to render slot contents with <a href="../../basics/astro-components/index.html#slots">the <code dir="auto">&lt;slot /&gt;</code> element</a>.</p></section></aside> <p><code dir="auto">Astro.slots.render()</code> optionally accepts a second argument: an array of parameters that will be forwarded to any function children. This can be useful for custom utility components.</p> <p>For example, this <code dir="auto">&lt;Shout /&gt;</code> component converts its <code dir="auto">message</code> prop to uppercase and passes it to the default slot:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/components/Shout.astro</span></div>
<pre data-language="astro">---
const message = Astro.props.message.toUpperCase();
let html = '';
if (Astro.slots.has('default')) {
  html = await Astro.slots.render('default', [message]);
}
---
&lt;Fragment set:html={html} /&gt;</pre>

</div> <p>A callback function passed as <code dir="auto">&lt;Shout /&gt;</code>’s child will receive the all-caps <code dir="auto">message</code> parameter:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
import Shout from "../components/Shout.astro";
---
&lt;Shout message="slots!"&gt;
  {(message) =&gt; &lt;div&gt;{message}&lt;/div&gt;}
&lt;/Shout&gt;


&lt;!-- renders as &lt;div&gt;SLOTS!&lt;/div&gt; --&gt;</pre>

</div> <p>Callback functions can be passed to named slots inside a wrapping HTML element tag with a <code dir="auto">slot</code> attribute. This element is only used to transfer the callback to a named slot and will not be rendered onto the page.</p> <div class="expressive-code">

<pre data-language="astro">&lt;Shout message="slots!"&gt;
  &lt;fragment slot="message"&gt;
    {(message) =&gt; &lt;div&gt;{message}&lt;/div&gt;}
  &lt;/fragment&gt;
&lt;/Shout&gt;</pre>

</div> <p>Use a standard HTML element for the wrapping tag, or any lower case tag (e.g. <code dir="auto">&lt;fragment&gt;</code> instead of <code dir="auto">&lt;Fragment /&gt;</code>) that will not be interpreted as a component. Do not use the HTML <code dir="auto">&lt;slot&gt;</code> element as this will be interpreted as an Astro slot.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astroself"><code dir="auto">Astro.self</code></h3></div> <p><code dir="auto">Astro.self</code> allows Astro components to be recursively called. This behaviour lets you render an Astro component from within itself by using <code dir="auto">&lt;Astro.self&gt;</code> in the component template. This can be helpful for iterating over large data stores and nested data-structures.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">NestedList.astro</span></div>
<pre data-language="astro">---
const { items } = Astro.props;
---
&lt;ul class="nested-list"&gt;
  {items.map((item) =&gt; (
    &lt;li&gt;
      &lt;!-- If there is a nested data-structure we render `&lt;Astro.self&gt;` --&gt;
      &lt;!-- and can pass props through with the recursive call --&gt;
      {Array.isArray(item) ? (
        &lt;Astro.self items={item} /&gt;
      ) : (
        item
      )}
    &lt;/li&gt;
  ))}
&lt;/ul&gt;</pre>

</div> <p>This component could then be used like this:</p> <div class="expressive-code">

<pre data-language="astro">---
import NestedList from './NestedList.astro';
---
&lt;NestedList items={['A', ['B', 'C'], 'D']} /&gt;</pre>

</div> <p>And would render HTML like this:</p> <div class="expressive-code">

<pre data-language="html">&lt;ul class="nested-list"&gt;
  &lt;li&gt;A&lt;/li&gt;
  &lt;li&gt;
    &lt;ul class="nested-list"&gt;
      &lt;li&gt;B&lt;/li&gt;
      &lt;li&gt;C&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;D&lt;/li&gt;
&lt;/ul&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astrolocals"><code dir="auto">Astro.locals</code></h3></div> <p><span> <strong>Added in:</strong> <code>astro@2.4.0</code> </span></p> <p><code dir="auto">Astro.locals</code> is an object containing any values from the <a href="#contextlocals"><code dir="auto">context.locals</code></a> object from a middleware. Use this to access data returned by middleware in your <code dir="auto">.astro</code> files.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/Orders.astro</span></div>
<pre data-language="astro">---
const title = Astro.locals.welcomeTitle();
const orders = Array.from(Astro.locals.orders.entries());
---
&lt;h1&gt;{title}&lt;/h1&gt;
&lt;ul&gt;
    {orders.map(order =&gt; {
        return &lt;li&gt;{/* do something with each order */}&lt;/li&gt;
    })}
&lt;/ul&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astropreferredlocale"><code dir="auto">Astro.preferredLocale</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">string | undefined</code><br></p>
<span> <strong>Added in:</strong> <code>astro@3.5.0</code> </span> <p><code dir="auto">Astro.preferredLocale</code> is a computed value that represents the preferred locale of the user.</p> <p>It is computed by checking the configured locales in your <code dir="auto">i18n.locales</code> array and locales supported by the users’s browser via the header <code dir="auto">Accept-Language</code>. This value is <code dir="auto">undefined</code> if no such match exists.</p> <p>This property is only available when building for SSR (server-side rendering) and should not be used for static sites.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astropreferredlocalelist"><code dir="auto">Astro.preferredLocaleList</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">string[] | undefined</code><br></p>
<span> <strong>Added in:</strong> <code>astro@3.5.0</code> </span> <p><code dir="auto">Astro.preferredLocaleList</code> represents the array of all locales that are both requested by the browser and supported by your website. This produces a list of all compatible languages between your site and your visitor.</p> <p>If none of the browser’s requested languages are found in your locales array, then the value is <code dir="auto">[]</code>: you do not support any of your visitor’s preferred locales.</p> <p>If the browser does not specify any preferred languages, then this value will be <a href="../configuration-reference/index.html#i18nlocales"><code dir="auto">i18n.locales</code></a>: all of your supported locales will be considered equally preferred by a visitor with no preferences.</p> <p>This property is only available when building for SSR (server-side rendering) and should not be used for static sites.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="astrocurrentlocale"><code dir="auto">Astro.currentLocale</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">string | undefined</code><br></p>
<span> <strong>Added in:</strong> <code>astro@3.5.6</code> </span> <p>The locale computed from the current URL, using the syntax specified in your <code dir="auto">locales</code> configuration. If the URL does not contain a <code dir="auto">/[locale]/</code> prefix, then the value will default to <code dir="auto">i18n.defaultLocale</code>.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="endpoint-context">Endpoint Context</h2></div> <p><a href="../../guides/endpoints/index.html">Endpoint functions</a> receive a context object as the first parameter. It mirrors many of the <code dir="auto">Astro</code> global properties.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">endpoint.json.ts</span></div>
<pre data-language="ts">import type { APIContext } from 'astro';


export function GET(context: APIContext) {
  // ...
}</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="contextparams"><code dir="auto">context.params</code></h3></div> <p><code dir="auto">context.params</code> is an object containing the values of dynamic route segments matched for this request.</p> <p>In static builds, this will be the <code dir="auto">params</code> returned by <code dir="auto">getStaticPaths()</code> used for prerendering <a href="../../guides/routing/index.html#dynamic-routes">dynamic routes</a>.</p> <p>In SSR builds, this can be any value matching the path segments in the dynamic route pattern.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/posts/[id].json.ts</span></div>
<pre data-language="ts">import type { APIContext } from 'astro';


export function getStaticPaths() {
  return [
    { params: { id: '1' } },
    { params: { id: '2' } },
    { params: { id: '3' } }
  ];
}


export function GET({ params }: APIContext) {
  return new Response(
    JSON.stringify({ id: params.id }),
  );
}</pre>

</div> <p>See also: <a href="#params"><code dir="auto">params</code></a></p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="contextprops"><code dir="auto">context.props</code></h3></div> <p><span> <strong>Added in:</strong> <code>astro@1.5.0</code> </span></p> <p><code dir="auto">context.props</code> is an object containing any <code dir="auto">props</code> passed from <code dir="auto">getStaticPaths()</code>. Because <code dir="auto">getStaticPaths()</code> is not used when building for SSR (server-side rendering), <code dir="auto">context.props</code> is only available in static builds.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/posts/[id].json.ts</span></div>
<pre data-language="ts">import type { APIContext } from 'astro';


export function getStaticPaths() {
  return [
    { params: { id: '1' }, props: { author: 'Blu' } },
    { params: { id: '2' }, props: { author: 'Erika' } },
    { params: { id: '3' }, props: { author: 'Matthew' } }
  ];
}


export function GET({ props }: APIContext) {
  return new Response(
    JSON.stringify({ author: props.author }),
  );
}</pre>

</div> <p>See also: <a href="#data-passing-with-props">Data Passing with <code dir="auto">props</code></a></p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="contextrequest"><code dir="auto">context.request</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">Request</code></p> <p>A standard <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request">Request</a> object. It can be used to get the <code dir="auto">url</code>, <code dir="auto">headers</code>, <code dir="auto">method</code>, and even body of the request.</p> <div class="expressive-code">

<pre data-language="ts">import type { APIContext } from 'astro';


export function GET({ request }: APIContext) {
  return new Response(`Hello ${request.url}`);
}</pre>

</div> <p>See also: <a href="#astrorequest">Astro.request</a></p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="contextcookies"><code dir="auto">context.cookies</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">AstroCookies</code></p> <p><code dir="auto">context.cookies</code> contains utilities for reading and manipulating cookies.</p> <p>See also: <a href="#astrocookies">Astro.cookies</a></p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="contexturl"><code dir="auto">context.url</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">URL</code><br></p>
<span> <strong>Added in:</strong> <code>astro@1.5.0</code> </span> <p>A <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL">URL</a> object constructed from the current <code dir="auto">context.request.url</code> URL string value.</p> <p>See also: <a href="#astrourl">Astro.url</a></p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="contextclientaddress"><code dir="auto">context.clientAddress</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">string</code><br></p>
<span> <strong>Added in:</strong> <code>astro@1.5.0</code> </span> <p>Specifies the <a href="https://en.wikipedia.org/wiki/IP_address">IP address</a> of the request. This property is only available when building for SSR (server-side rendering) and should not be used for static sites.</p> <div class="expressive-code">

<pre data-language="ts">import type { APIContext } from 'astro';


export function GET({ clientAddress }: APIContext) {
  return new Response(`Your IP address is: ${clientAddress}`);
}</pre>

</div> <p>See also: <a href="#astroclientaddress">Astro.clientAddress</a></p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="contextsite"><code dir="auto">context.site</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">URL | undefined</code><br></p>
<span> <strong>Added in:</strong> <code>astro@1.5.0</code> </span> <p><code dir="auto">context.site</code> returns a <code dir="auto">URL</code> made from <code dir="auto">site</code> in your Astro config. If undefined, this will return a URL generated from <code dir="auto">localhost</code>.</p> <p>See also: <a href="#astrosite">Astro.site</a></p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="contextgenerator"><code dir="auto">context.generator</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">string</code><br></p>
<span> <strong>Added in:</strong> <code>astro@1.5.0</code> </span> <p><code dir="auto">context.generator</code> is a convenient way to indicate the version of Astro your project is running. It follows the format <code dir="auto">"Astro v1.x.x"</code>.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/site-info.json.ts</span></div>
<pre data-language="ts">import type { APIContext } from 'astro';


export function GET({ generator, site }: APIContext) {
  const body = JSON.stringify({ generator, site });
  return new Response(body);
}</pre>

</div> <p>See also: <a href="#astrogenerator">Astro.generator</a></p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="contextredirect"><code dir="auto">context.redirect()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(path: string, status?: number) =&gt; Response</code><br></p>
<span> <strong>Added in:</strong> <code>astro@1.5.0</code> </span> <p><code dir="auto">context.redirect()</code> returns a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response">Response</a> object that allows you to redirect to another page. This function is only available when building for SSR (server-side rendering) and should not be used for static sites.</p> <div class="expressive-code">

<pre data-language="ts">import type { APIContext } from 'astro';


export function GET({ redirect }: APIContext) {
  return redirect('/login', 302);
}</pre>

</div> <p>See also: <a href="#astroredirect"><code dir="auto">Astro.redirect()</code></a></p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="contextrewrite"><code dir="auto">context.rewrite()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(rewritePayload: string | URL | Request) =&gt; Promise&lt;Response&gt;</code><br></p>
<span> <strong>Added in:</strong> <code>astro@4.13.0</code> </span> <p>Allows you to serve content from a different URL or path without redirecting the browser to a new page.</p> <p>The method accepts either a string, a <code dir="auto">URL</code>, or a <code dir="auto">Request</code> for the location of the path.</p> <p>Use a string to provide an explicit path:</p> <div class="expressive-code">

<pre data-language="ts">import type { APIContext } from 'astro';


export function GET({ rewrite }: APIContext) {
  return rewrite('/login');
}</pre>

</div> <p>Use a <code dir="auto">URL</code> type when you need to construct the URL path for the rewrite. The following example renders a page’s parent path by creating a new URL from the relative <code dir="auto">"../"</code> path:</p> <div class="expressive-code">

<pre data-language="ts">import type { APIContext } from 'astro';


export function GET({ rewrite }: APIContext) {
  return rewrite(new URL("../", Astro.url));
}</pre>

</div> <p>Use a <code dir="auto">Request</code> type for complete control of the <code dir="auto">Request</code> sent to the server for the new path. The following example sends a request to render the parent page while also providing headers:</p> <div class="expressive-code">

<pre data-language="ts">import type { APIContext } from 'astro';


export function GET({ rewrite }: APIContext) {
  return rewrite(new Request(new URL("../", Astro.url), {
   headers: {
     "x-custom-header": JSON.stringify(Astro.locals.someValue)
   }
 }));
}</pre>

</div> <p>See also: <a href="#astrorewrite"><code dir="auto">Astro.rewrite()</code></a></p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="contextlocals"><code dir="auto">context.locals</code></h3></div> <p><span> <strong>Added in:</strong> <code>astro@2.4.0</code> </span></p> <p><code dir="auto">context.locals</code> is an object used to store and access arbitrary information during the lifecycle of a request.</p> <p>Middleware functions can read and write the values of <code dir="auto">context.locals</code>:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/middleware.ts</span></div>
<pre data-language="ts">import type { MiddlewareHandler } from 'astro';


export const onRequest: MiddlewareHandler = ({ locals }, next) =&gt; {
  if (!locals.title) {
    locals.title = "Default Title";
  }
  return next();
}</pre>

</div> <p>API endpoints can only read information from <code dir="auto">context.locals</code>:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/hello.ts</span></div>
<pre data-language="ts">import type { APIContext } from 'astro';


export function GET({ locals }: APIContext) {
  return new Response(locals.title); // "Default Title"
}</pre>

</div> <p>See also: <a href="#astrolocals"><code dir="auto">Astro.locals</code></a></p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="getstaticpaths"><code dir="auto">getStaticPaths()</code></h2></div> <p><strong>Type:</strong> <code dir="auto">(options: GetStaticPathsOptions) =&gt; Promise&lt;GetStaticPathsResult&gt; | GetStaticPathsResult</code></p> <p>If a page uses dynamic params in the filename, that component will need to export a <code dir="auto">getStaticPaths()</code> function.</p> <p>This function is required because Astro is a static site builder. That means that your entire site is built ahead of time. If Astro doesn’t know to generate a page at build time, your users won’t see it when they visit your site.</p> <div class="expressive-code">

<pre data-language="astro">---
export async function getStaticPaths() {
  return [
    { params: { /* required */ }, props: { /* optional */ } },
    { params: { ... } },
    { params: { ... } },
    // ...
  ];
}
---
&lt;!-- Your HTML template here. --&gt;</pre>

</div> <p>The <code dir="auto">getStaticPaths()</code> function should return an array of objects to determine which paths will be pre-rendered by Astro.</p> <p>It can also be used in static file endpoints for <a href="../../guides/endpoints/index.html#params-and-dynamic-routing">dynamic routing</a>.</p> <aside aria-label="Caution" class="starlight-aside starlight-aside--caution"><p class="starlight-aside__title" aria-hidden="true">Caution</p>
<section class="starlight-aside__content"><p>The <code dir="auto">getStaticPaths()</code> function executes in its own isolated scope once, before any page loads. Therefore you can’t reference anything from its parent scope, other than file imports. The compiler will warn if you break this requirement.</p></section></aside> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="params"><code dir="auto">params</code></h3></div> <p>The <code dir="auto">params</code> key of every returned object tells Astro what routes to build. The returned params must map back to the dynamic parameters and rest parameters defined in your component filepath.</p> <p><code dir="auto">params</code> are encoded into the URL, so only strings are supported as values. The value for each <code dir="auto">params</code> object must match the parameters used in the page name.</p> <p>For example, suppose that you have a page at <code dir="auto">src/pages/posts/[id].astro</code>. If you export <code dir="auto">getStaticPaths</code> from this page and return the following for paths:</p> <div class="expressive-code">

<pre data-language="astro">---
export async function getStaticPaths() {
  return [
    { params: { id: '1' } },
    { params: { id: '2' } },
    { params: { id: '3' } }
  ];
}


const { id } = Astro.params;
---
&lt;h1&gt;{id}&lt;/h1&gt;</pre>

</div> <p>Then Astro will statically generate <code dir="auto">posts/1</code>, <code dir="auto">posts/2</code>, and <code dir="auto">posts/3</code> at build time.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="data-passing-with-props">Data Passing with <code dir="auto">props</code>
</h3></div> <p>To pass additional data to each generated page, you can also set a <code dir="auto">props</code> value on every returned path object. Unlike <code dir="auto">params</code>, <code dir="auto">props</code> are not encoded into the URL and so aren’t limited to only strings.</p> <p>For example, suppose that you generate pages based off of data fetched from a remote API. You can pass the full data object to the page component inside of <code dir="auto">getStaticPaths</code>:</p> <div class="expressive-code">

<pre data-language="astro">---
export async function getStaticPaths() {
  const data = await fetch('...').then(response =&gt; response.json());


  return data.map((post) =&gt; {
    return {
      params: { id: post.id },
      props: { post },
    };
  });
}


const { id } = Astro.params;
const { post } = Astro.props;
---
&lt;h1&gt;{id}: {post.name}&lt;/h1&gt;</pre>

</div> <p>You can also pass a regular array, which may be helpful when generating or stubbing a known list of routes.</p> <div class="expressive-code">

<pre data-language="astro">---
export async function getStaticPaths() {
  const posts = [
    {id: '1', category: "astro", title: "API Reference"},
    {id: '2', category: "react", title: "Creating a React Counter!"}
  ];
  return posts.map((post) =&gt; {
    return {
      params: { id: post.id },
      props: { post }
    };
  });
}
const {id} = Astro.params;
const {post} = Astro.props;
---
&lt;body&gt;
  &lt;h1&gt;{id}: {post.title}&lt;/h1&gt;
  &lt;h2&gt;Category: {post.category}&lt;/h2&gt;
&lt;/body&gt;</pre>

</div> <p>Then Astro will statically generate <code dir="auto">posts/1</code> and <code dir="auto">posts/2</code> at build time using the page component in <code dir="auto">pages/posts/[id].astro</code>. The page can reference this data using <code dir="auto">Astro.props</code>:</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="paginate"><code dir="auto">paginate()</code></h3></div> <p>Pagination is a common use-case for websites that Astro natively supports via the <code dir="auto">paginate()</code> function. <code dir="auto">paginate()</code> will automatically generate the array to return from <code dir="auto">getStaticPaths()</code> that creates one URL for every page of the paginated collection. The page number will be passed as a param, and the page data will be passed as a <code dir="auto">page</code> prop.</p> <div class="expressive-code">

<pre data-language="js">export async function getStaticPaths({ paginate }) {
  // Load your data with fetch(), Astro.glob(), etc.
  const response = await fetch(`https://pokeapi.co/api/v2/pokemon?limit=150`);
  const result = await response.json();
  const allPokemon = result.results;


  // Return a paginated collection of paths for all posts
  return paginate(allPokemon, { pageSize: 10 });
}


// If set up correctly, The page prop now has everything that
// you need to render a single page (see next section).
const { page } = Astro.props;</pre>

</div> <p><code dir="auto">paginate()</code> assumes a file name of <code dir="auto">[page].astro</code> or <code dir="auto">[...page].astro</code>. The <code dir="auto">page</code> param becomes the page number in your URL:</p> <ul> <li>
<code dir="auto">/posts/[page].astro</code> would generate the URLs <code dir="auto">/posts/1</code>, <code dir="auto">/posts/2</code>, <code dir="auto">/posts/3</code>, etc.</li> <li>
<code dir="auto">/posts/[...page].astro</code> would generate the URLs <code dir="auto">/posts</code>, <code dir="auto">/posts/2</code>, <code dir="auto">/posts/3</code>, etc.</li> </ul> <p><code dir="auto">paginate()</code> has the following arguments:</p> <ul> <li>
<code dir="auto">pageSize</code> - The number of items shown per page (<code dir="auto">10</code> by default)</li> <li>
<code dir="auto">params</code> - Send additional parameters for creating dynamic routes</li> <li>
<code dir="auto">props</code> - Send additional props to be available on each page</li> </ul> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="the-pagination-page-prop">The pagination <code dir="auto">page</code> prop</h4></div> <p>Pagination will pass a <code dir="auto">page</code> prop to every rendered page that represents a single page of data in the paginated collection. This includes the data that you’ve paginated (<code dir="auto">page.data</code>) as well as metadata for the page (<code dir="auto">page.url</code>, <code dir="auto">page.start</code>, <code dir="auto">page.end</code>, <code dir="auto">page.total</code>, etc). This metadata is useful for things like a “Next Page” button or a “Showing 1-10 of 100” message.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="pagedata"><code dir="auto">page.data</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">Array</code></p> <p>Array of data returned from <code dir="auto">data()</code> for the current page.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="pagestart"><code dir="auto">page.start</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">number</code></p> <p>Index of first item on current page, starting at <code dir="auto">0</code>. (e.g. if <code dir="auto">pageSize: 25</code>, this would be <code dir="auto">0</code> on page 1, <code dir="auto">25</code> on page 2, etc.)</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="pageend"><code dir="auto">page.end</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">number</code></p> <p>Index of last item on current page.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="pagesize"><code dir="auto">page.size</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">number</code><br> <strong>Default:</strong> <code dir="auto">10</code></p> <p>How many items per-page.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="pagetotal"><code dir="auto">page.total</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">number</code></p> <p>The total number of items across all pages.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="pagecurrentpage"><code dir="auto">page.currentPage</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">number</code></p> <p>The current page number, starting with <code dir="auto">1</code>.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="pagelastpage"><code dir="auto">page.lastPage</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">number</code></p> <p>The total number of pages.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="pageurlcurrent"><code dir="auto">page.url.current</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">string</code></p> <p>Get the URL of the current page (useful for canonical URLs).</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="pageurlprev"><code dir="auto">page.url.prev</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">string | undefined</code></p> <p>Get the URL of the previous page (will be <code dir="auto">undefined</code> if on page 1). If a value is set for <a href="../configuration-reference/index.html#base"><code dir="auto">base</code></a>, prepend the base path to the URL.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="pageurlnext"><code dir="auto">page.url.next</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">string | undefined</code></p> <p>Get the URL of the next page (will be <code dir="auto">undefined</code> if no more pages). If a value is set for <a href="../configuration-reference/index.html#base"><code dir="auto">base</code></a>, prepend the base path to the URL.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="pageurlfirst"><code dir="auto">page.url.first</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">string | undefined</code><br></p>
<span> <strong>Added in:</strong> <code>astro@4.12.0</code> </span> <p>Get the URL of the first page (will be <code dir="auto">undefined</code> if on page 1). If a value is set for <a href="../configuration-reference/index.html#base"><code dir="auto">base</code></a>, prepend the base path to the URL.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="pageurllast"><code dir="auto">page.url.last</code></h5></div> 
<p><strong>Type:</strong> <code dir="auto">string | undefined</code><br></p>
<span> <strong>Added in:</strong> <code>astro@4.12.0</code> </span> <p>Get the URL of the last page (will be <code dir="auto">undefined</code> if no more pages). If a value is set for <a href="../configuration-reference/index.html#base"><code dir="auto">base</code></a>, prepend the base path to the URL.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="importmeta"><code dir="auto">import.meta</code></h2></div> <p>All ESM modules include a <code dir="auto">import.meta</code> property. Astro adds <code dir="auto">import.meta.env</code> through <a href="https://vitejs.dev/guide/env-and-mode.html">Vite</a>.</p> <p><strong><code dir="auto">import.meta.env.SSR</code></strong> can be used to know when rendering on the server. Sometimes you might want different logic, like a component that should only be rendered in the client:</p> <div class="expressive-code">

<pre data-language="jsx">export default function () {
  return import.meta.env.SSR ? &lt;div class="spinner"&gt;&lt;/div&gt; : &lt;FancyComponent /&gt;;
}</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="images-astroassets">Images (<code dir="auto">astro:assets</code>)</h2></div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="getimage"><code dir="auto">getImage()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(options: UnresolvedImageTransform) =&gt; Promise&lt;GetImageResult&gt;</code></p> <aside aria-label="Caution" class="starlight-aside starlight-aside--caution"><p class="starlight-aside__title" aria-hidden="true">Caution</p>
<section class="starlight-aside__content"><p><code dir="auto">getImage()</code> relies on server-only APIs and breaks the build when used on the client.</p></section></aside> <p>The <code dir="auto">getImage()</code> function is intended for generating images destined to be used somewhere else than directly in HTML, for example in an <a href="../../guides/endpoints/index.html#server-endpoints-api-routes">API Route</a>. It also allows you to create your own custom <code dir="auto">&lt;Image /&gt;</code> component.</p> <p><code dir="auto">getImage()</code> takes an options object with the <a href="#properties">same properties as the Image component</a> (except <code dir="auto">alt</code>).</p> <div class="expressive-code">

<pre data-language="astro">---
import { getImage } from "astro:assets";
import myBackground from "../background.png"


const optimizedBackground = await getImage({src: myBackground, format: 'avif'})
---


&lt;div style={`background-image: url(${optimizedBackground.src});`}&gt;&lt;/div&gt;</pre>

</div> <p>It returns an object with the following type:</p> <div class="expressive-code">

<pre data-language="ts">type GetImageResult = {
  /* Additional HTML attributes needed to render the image (width, height, style, etc..) */
  attributes: Record&lt;string, any&gt;;
  /* Validated parameters passed */
  options: ImageTransform;
  /* Original parameters passed */
  rawOptions: ImageTransform;
  /* Path to the generated image */
  src: string;
  srcSet: {
    /* Generated values for srcset, every entry has a url and a size descriptor */
    values: SrcSetValue[];
    /* A value ready to use in`srcset` attribute */
    attribute: string;
  };
}</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="content-collections-astrocontent">Content Collections (<code dir="auto">astro:content</code>)</h2></div> <p><span> <strong>Added in:</strong> <code>astro@2.0.0</code> </span></p> <p>Content collections offer APIs to configure and query your Markdown or MDX documents in <code dir="auto">src/content/</code>. For features and usage examples, <a href="../../guides/content-collections/index.html">see our content collections guide</a>.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="definecollection"><code dir="auto">defineCollection()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(input: CollectionConfig) =&gt; CollectionConfig</code></p> <p><code dir="auto">defineCollection()</code> is a utility to configure a collection in a <code dir="auto">src/content/config.*</code> file.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/content/config.ts</span></div>
<pre data-language="ts">import { z, defineCollection } from 'astro:content';
const blog = defineCollection({
  type: 'content',
  schema: z.object({
    title: z.string(),
    permalink: z.string().optional(),
  }),
});


// Expose your defined collection to Astro
// with the `collections` export
export const collections = { blog };</pre>

</div> <p>This function accepts the following properties:</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="type"><code dir="auto">type</code></h4></div> 
<p><strong>Type:</strong> <code dir="auto">'content' | 'data'</code><br> <strong>Default:</strong> <code dir="auto">'content'</code><br></p>
<span> <strong>Added in:</strong> <code>astro@2.5.0</code> </span> <p><code dir="auto">type</code> is a string that defines the type of entries stored within a collection:</p> <ul> <li>
<code dir="auto">'content'</code> - for content-authoring formats like Markdown (<code dir="auto">.md</code>), MDX (<code dir="auto">.mdx</code>), or Markdoc (<code dir="auto">.mdoc</code>)</li> <li>
<code dir="auto">'data'</code> - for data-only formats like JSON (<code dir="auto">.json</code>) or YAML (<code dir="auto">.yaml</code>)</li> </ul> <aside aria-label="Tip" class="starlight-aside starlight-aside--tip"><p class="starlight-aside__title" aria-hidden="true">Tip</p>
<section class="starlight-aside__content"><p>This means collections <strong>cannot</strong> store a mix of content and data formats. You must split these entries into separate collections by type.</p></section></aside> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="schema"><code dir="auto">schema</code></h4></div> 
<p><strong>Type:</strong> <code>ZodType | (context: <a href="#schemacontext">SchemaContext</a>) =&gt; ZodType</code></p> <p><code dir="auto">schema</code> is an optional Zod object to configure the type and shape of document frontmatter for a collection. Each value must use <a href="https://github.com/colinhacks/zod">a Zod validator</a>.</p> <p><a href="../../guides/content-collections/index.html#defining-a-collection-schema">See the <code dir="auto">Content Collection</code> guide</a> for example usage.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="reference"><code dir="auto">reference()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(collection: string) =&gt; ZodEffects&lt;ZodString, { collection, id: string } | { collection, slug: string }&gt;</code><br></p>
<span> <strong>Added in:</strong> <code>astro@2.5.0</code> </span> <p>The <code dir="auto">reference()</code> function is used in the content config to define a relationship, or “reference,” from one collection to another. This accepts a collection name and validates the entry identifier(s) specified in your content frontmatter or data file.</p> <p>This example defines references from a blog author to the <code dir="auto">authors</code> collection and an array of related posts to the same <code dir="auto">blog</code> collection:</p> <div class="expressive-code">

<pre data-language="ts">import { defineCollection, reference, z } from 'astro:content';


const blog = defineCollection({
  type: 'content',
  schema: z.object({
    // Reference a single author from the `authors` collection by `id`
    author: reference('authors'),
    // Reference an array of related posts from the `blog` collection by `slug`
    relatedPosts: z.array(reference('blog')),
  })
});


const authors = defineCollection({
  type: 'data',
  schema: z.object({ /* ... */ })
});


export const collections = { blog, authors };</pre>

</div> <p><a href="../../guides/content-collections/index.html#defining-collection-references">See the <code dir="auto">Content Collection</code> guide</a> for example usage.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="getcollection"><code dir="auto">getCollection()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(collection: string, filter?: (entry: CollectionEntry&lt;collection&gt;) =&gt; boolean) =&gt; CollectionEntry&lt;collection&gt;[]</code></p> <p><code dir="auto">getCollection()</code> is a function that retrieves a list of content collection entries by collection name.</p> <p>It returns all items in the collection by default, and accepts an optional <code dir="auto">filter</code> function to narrow by entry properties. This allows you to query for only some items in a collection based on <code dir="auto">id</code>, <code dir="auto">slug</code>, or frontmatter values via the <code dir="auto">data</code> object.</p> <div class="expressive-code">

<pre data-language="astro">---
import { getCollection } from 'astro:content';


// Get all `src/content/blog/` entries
const allBlogPosts = await getCollection('blog');


// Only return posts with `draft: true` in the frontmatter
const draftBlogPosts = await getCollection('blog', ({ data }) =&gt; {
  return data.draft === true;
});
---</pre>

</div> <p><a href="../../guides/content-collections/index.html#querying-collections">See the <code dir="auto">Content Collection</code> guide</a> for example usage.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="getentry"><code dir="auto">getEntry()</code></h3></div> <p><span> <strong>Added in:</strong> <code>astro@2.5.0</code> </span></p> <p><strong>Types:</strong></p> <ul> <li><code dir="auto">(collection: string, contentSlugOrDataId: string) =&gt; CollectionEntry&lt;collection&gt;</code></li> <li><code dir="auto">({ collection: string, id: string }) =&gt; CollectionEntry&lt;collection&gt;</code></li> <li><code dir="auto">({ collection: string, slug: string }) =&gt; CollectionEntry&lt;collection&gt;</code></li> </ul> <p><code dir="auto">getEntry()</code> is a function that retrieves a single collection entry by collection name and either the entry <code dir="auto">id</code> (for <code dir="auto">type: 'data'</code> collections) or entry <code dir="auto">slug</code> (for <code dir="auto">type: 'content'</code> collections). <code dir="auto">getEntry()</code> can also be used to get referenced entries to access the <code dir="auto">data</code>, <code dir="auto">body</code>, or <code dir="auto">render()</code> properties:</p> <div class="expressive-code">

<pre data-language="astro">---
import { getEntry } from 'astro:content';


// Get `src/content/blog/enterprise.md`
const enterprisePost = await getEntry('blog', 'enterprise');


// Get `src/content/captains/picard.yaml`
const picardProfile = await getEntry('captains', 'picard');


// Get the profile referenced by `data.captain`
const enterpriseCaptainProfile = await getEntry(enterprisePost.data.captain);
---</pre>

</div> <p>See the <code dir="auto">Content Collections</code> guide for examples of <a href="../../guides/content-collections/index.html#querying-collections">querying collection entries</a>.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="getentries"><code dir="auto">getEntries()</code></h3></div> <p><span> <strong>Added in:</strong> <code>astro@2.5.0</code> </span></p> <p><strong>Types:</strong></p> <ul> <li><code dir="auto">(Array&lt;{ collection: string, id: string }&gt;) =&gt; Array&lt;CollectionEntry&lt;collection&gt;&gt;</code></li> <li><code dir="auto">(Array&lt;{ collection: string, slug: string }&gt;) =&gt; Array&lt;CollectionEntry&lt;collection&gt;&gt;</code></li> </ul> <p><code dir="auto">getEntries()</code> is a function that retrieves multiple collection entries from the same collection. This is useful for <a href="../../guides/content-collections/index.html#defining-collection-references">returning an array of referenced entries</a> to access their associated <code dir="auto">data</code>, <code dir="auto">body</code>, and <code dir="auto">render()</code> properties.</p> <div class="expressive-code">

<pre data-language="astro">---
import { getEntries } from 'astro:content';


const enterprisePost = await getEntry('blog', 'enterprise');


// Get related posts referenced by `data.relatedPosts`
const enterpriseRelatedPosts = await getEntries(enterprisePost.data.relatedPosts);
---</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="getentrybyslug"><code dir="auto">getEntryBySlug()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(collection: string, slug: string) =&gt; Promise&lt;CollectionEntry&lt;collection&gt;&gt;</code></p> <aside aria-label="Deprecated" class="starlight-aside starlight-aside--caution"><p class="starlight-aside__title" aria-hidden="true">Deprecated</p>
<section class="starlight-aside__content"><p>Use the <a href="#getentry"><code dir="auto">getEntry()</code> function</a> to query content entries. This accepts the same arguments as <code dir="auto">getEntryBySlug()</code>, and supports querying by <code dir="auto">id</code> for JSON or YAML collections.</p></section></aside> <p><code dir="auto">getEntryBySlug()</code> is a function that retrieves a single collection entry by collection name and entry <code dir="auto">slug</code>.</p> <div class="expressive-code">

<pre data-language="astro">---
import { getEntryBySlug } from 'astro:content';


const enterprise = await getEntryBySlug('blog', 'enterprise');
---</pre>

</div> <p><a href="../../guides/content-collections/index.html#querying-collections">See the <code dir="auto">Content Collection</code> guide</a> for example usage.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="getdataentrybyid"><code dir="auto">getDataEntryById()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(collection: string, id: string) =&gt; Promise&lt;CollectionEntry&lt;collection&gt;&gt;</code><br></p>
<span> <strong>Added in:</strong> <code>astro@2.5.0</code> </span> <aside aria-label="Deprecated" class="starlight-aside starlight-aside--caution"><p class="starlight-aside__title" aria-hidden="true">Deprecated</p>
<section class="starlight-aside__content"><p>Use the <a href="#getentry"><code dir="auto">getEntry()</code> function</a> to query data entries. This accepts the same arguments as <code dir="auto">getDataEntryById()</code>, and supports querying by <code dir="auto">slug</code> for content authoring formats like Markdown.</p></section></aside> <p><code dir="auto">getDataEntryById()</code> is a function that retrieves a single collection entry by collection name and entry <code dir="auto">id</code>.</p> <div class="expressive-code">

<pre data-language="astro">---
import { getDataEntryById } from 'astro:content';


const picardProfile = await getDataEntryById('captains', 'picard');
---</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="collection-entry-type">Collection Entry Type</h3></div> <p>Query functions including <a href="#getcollection"><code dir="auto">getCollection()</code></a>, <a href="#getentry"><code dir="auto">getEntry()</code></a>, and <a href="#getentries"><code dir="auto">getEntries()</code></a> each return entries with the <code dir="auto">CollectionEntry</code> type. This type is available as a utility from <code dir="auto">astro:content</code>:</p> <div class="expressive-code">

<pre data-language="ts">import type { CollectionEntry } from 'astro:content';</pre>

</div> <p>The <code dir="auto">CollectionEntry&lt;TCollectionName&gt;</code> type is an object with the following values. <code dir="auto">TCollectionName</code> is the name of the collection you’re querying (e.g. <code dir="auto">CollectionEntry&lt;'blog'&gt;</code>).</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="id"><code dir="auto">id</code></h4></div> <p><strong>Available for:</strong> <code dir="auto">type: 'content'</code> and <code dir="auto">type: 'data'</code> collections<br> <strong>Example Types:</strong></p> <ul> <li>content collections: <code dir="auto">'entry-1.md' | 'entry-2.md' | ...</code>
</li> <li>data collections: <code dir="auto">'author-1' | 'author-2' | ...</code>
</li> </ul> <p>A unique ID using the file path relative to <code dir="auto">src/content/[collection]</code>. Enumerates all possible string values based on the collection entry file paths. Note that collections <a href="#type">defined as <code dir="auto">type: 'content'</code></a> include the file extension in their ID, while collections defined as <code dir="auto">type: 'data'</code> do not.</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="collection"><code dir="auto">collection</code></h4></div> <p><strong>Available for:</strong> <code dir="auto">type: 'content'</code> and <code dir="auto">type: 'data'</code> collections<br> <strong>Example Type:</strong> <code dir="auto">'blog' | 'authors' | ...</code></p> <p>The name of a top-level folder under <code dir="auto">src/content/</code> in which entries are located. This is the name used to reference the collection in your schema, and in querying functions.</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="data"><code dir="auto">data</code></h4></div> <p><strong>Available for:</strong> <code dir="auto">type: 'content'</code> and <code dir="auto">type: 'data'</code> collections<br> <strong>Type:</strong> <code dir="auto">CollectionSchema&lt;TCollectionName&gt;</code></p> <p>An object of frontmatter properties inferred from your collection schema (<a href="#definecollection">see <code dir="auto">defineCollection()</code> reference</a>). Defaults to <code dir="auto">any</code> if no schema is configured.</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="slug"><code dir="auto">slug</code></h4></div> <p><strong>Available for:</strong> <code dir="auto">type: 'content'</code> collections only<br> <strong>Example Type:</strong> <code dir="auto">'entry-1' | 'entry-2' | ...</code></p> <p>A URL-ready slug for Markdown or MDX documents. Defaults to the <code dir="auto">id</code> without the file extension, but can be overridden by setting <a href="../../guides/content-collections/index.html#defining-custom-slugs">the <code dir="auto">slug</code> property</a> in a file’s frontmatter.</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="body"><code dir="auto">body</code></h4></div> <p><strong>Available for:</strong> <code dir="auto">type: 'content'</code> collections only<br> <strong>Type:</strong> <code dir="auto">string</code></p> <p>A string containing the raw, uncompiled body of the Markdown or MDX document.</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="render"><code dir="auto">render()</code></h4></div> <p><strong>Available for:</strong> <code dir="auto">type: 'content'</code> collections only<br> <strong>Type:</strong> <code dir="auto">() =&gt; Promise&lt;RenderedEntry&gt;</code></p> <p>A function to compile a given Markdown or MDX document for rendering. This returns the following properties:</p> <ul> <li>
<code dir="auto">&lt;Content /&gt;</code> - A component used to render the document’s contents in an Astro file.</li> <li>
<code dir="auto">headings</code> - A generated list of headings, <a href="../../guides/markdown-content/index.html#exported-properties">mirroring Astro’s <code dir="auto">getHeadings()</code> utility</a> on Markdown and MDX imports.</li> <li>
<code dir="auto">remarkPluginFrontmatter </code> - The modified frontmatter object after any <a href="../../guides/markdown-content/index.html#modifying-frontmatter-programmatically">remark or rehype plugins have been applied</a>. Set to type <code dir="auto">any</code>.</li> </ul> <div class="expressive-code">

<pre data-language="astro">---
import { getEntryBySlug } from 'astro:content';
const entry = await getEntryBySlug('blog', 'entry-1');


const { Content, headings, remarkPluginFrontmatter } = await entry.render();
---</pre>

</div> <p><a href="../../guides/content-collections/index.html#rendering-content-to-html">See the <code dir="auto">Content Collection</code> guide</a> for example usage.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="other-content-collection-types">Other Content Collection Types</h3></div> <p>The <code dir="auto">astro:content</code> module also exports the following types for use in your Astro project:</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="collectionkey"><code dir="auto">CollectionKey</code></h4></div> <p><span> <strong>Added in:</strong> <code>astro@3.1.0</code> </span></p> <p>A string union of all collection names defined in your <code dir="auto">src/content/config.*</code> file. This type can be useful when defining a generic function that accepts any collection name.</p> <div class="expressive-code">

<pre data-language="ts">import type { CollectionKey, getCollection } from 'astro:content';


async function getCollection(collection: CollectionKey) {
  return getCollection(collection);
}</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="contentcollectionkey"><code dir="auto">ContentCollectionKey</code></h4></div> <p><span> <strong>Added in:</strong> <code>astro@3.1.0</code> </span></p> <p>A string union of all the names of <code dir="auto">type: 'content'</code> collections defined in your <code dir="auto">src/content/config.*</code> file.</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="datacollectionkey"><code dir="auto">DataCollectionKey</code></h4></div> <p><span> <strong>Added in:</strong> <code>astro@3.1.0</code> </span></p> <p>A string union of all the names of <code dir="auto">type: 'data'</code> collection defined in your <code dir="auto">src/content/config.*</code> file.</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="schemacontext"><code dir="auto">SchemaContext</code></h4></div> <p>The <code dir="auto">context</code> object that <code dir="auto">defineCollection</code> uses for the function shape of <code dir="auto">schema</code>. This type can be useful when building reusable schemas for multiple collections.</p> <p>This includes the following property:</p> <ul> <li>
<code dir="auto">image</code> - The <code dir="auto">image()</code> schema helper that allows you <a href="../../guides/images/index.html#images-in-content-collections">to use local images in Content Collections</a>
</li> </ul> <div class="expressive-code">

<pre data-language="ts">import type { SchemaContext } from 'astro:content';


export const imageSchema = ({ image }: SchemaContext) =&gt;
    z.object({
        image: image(),
        description: z.string().optional(),
    });


const blog = defineCollection({
  type: 'content',
  schema: ({ image }) =&gt; z.object({
    title: z.string(),
    permalink: z.string().optional(),
    image: imageSchema({ image })
  }),
});</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="middleware-astromiddleware">Middleware (<code dir="auto">astro:middleware</code>)</h2></div> <p><span> <strong>Added in:</strong> <code>astro@2.6.0</code> </span></p> <p>Middleware allows you to intercept requests and responses and inject behaviors dynamically every time a page or endpoint is about to be rendered. For features and usage examples, <a href="../../guides/middleware/index.html">see our middleware guide</a>.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="onrequest"><code dir="auto">onRequest()</code></h3></div> <p><strong>Type:</strong> <code dir="auto">(context: APIContext, next: MiddlewareNext) =&gt; Promise&lt;Response&gt; | Response | Promise&lt;void&gt; | void</code></p> <p>A required exported function from <code dir="auto">src/middleware.js</code> that will be called before rendering every page or API route. It receives two arguments: <a href="#context">context</a> and <a href="#next">next()</a>. <code dir="auto">onRequest()</code> must return a <code dir="auto">Response</code>: either directly, or by calling <code dir="auto">next()</code>.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/middleware.js</span></div>
<pre data-language="js">export function onRequest (context, next) {
    // intercept response data from a request
    // optionally, transform the response
    // return a Response directly, or the result of calling `next()`
    return next();
};</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="context"><code dir="auto">context</code></h4></div> 
<p><strong>Type:</strong> <code dir="auto">APIContext</code></p> <p>The first argument of <code dir="auto">onRequest()</code> is a context object. It mirrors many of the <code dir="auto">Astro</code> global properties.</p> <div class="read-more astro-szj46hnz">  <span class="astro-szj46hnz">See <a href="#endpoint-context">Endpoint contexts</a> for more information about the context object.</span> </div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="next"><code dir="auto">next()</code></h4></div> 
<p><strong>Type:</strong> <code dir="auto">(rewritePayload?: string | URL | Request) =&gt; Promise&lt;Response&gt;</code><br></p> <p>The second argument of <code dir="auto">onRequest()</code> is a function that calls all the subsequent middleware in the chain and returns a <code dir="auto">Response</code>. For example, other middleware could modify the HTML body of a response and awaiting the result of <code dir="auto">next()</code> would allow your middleware to respond to those changes.</p> <p>Since Astro v4.13.0, <code dir="auto">next()</code> accepts an optional URL path parameter in the form of a string, <code dir="auto">URL</code>, or <code dir="auto">Request</code> to <a href="../../guides/routing/index.html#rewrites">rewrite</a> the current request without retriggering a new rendering phase.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="sequence"><code dir="auto">sequence()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(...handlers: MiddlewareHandler[]) =&gt; MiddlewareHandler</code></p> <p>A function that accepts middleware functions as arguments, and will execute them in the order in which they are passed.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/middleware.js</span></div>
<pre data-language="js">import { sequence } from "astro:middleware";


async function validation(_, next) {...}
async function auth(_, next) {...}
async function greeting(_, next) {...}


export const onRequest = sequence(validation, auth, greeting);</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="createcontext"><code dir="auto">createContext()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(context: CreateContext) =&gt; APIContext</code><br></p>
<span> <strong>Added in:</strong> <code>astro@2.8.0</code> </span> <p>A low-level API to create an <a href="#endpoint-context"><code dir="auto">APIContext</code></a>to be passed to an Astro middleware <code dir="auto">onRequest()</code> function.</p> <p>This function can be used by integrations/adapters to programmatically execute the Astro middleware.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="tryserializelocals"><code dir="auto">trySerializeLocals()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(value: unknown) =&gt; string</code><br></p>
<span> <strong>Added in:</strong> <code>astro@2.8.0</code> </span> <p>A low-level API that takes in any value and tries to return a serialized version (a string) of it. If the value cannot be serialized, the function will throw a runtime error.</p> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="internationalization-astroi18n">Internationalization (<code dir="auto">astro:i18n</code>)</h2></div> <p><span> <strong>Added in:</strong> <code>astro@3.5.0</code> </span></p> <p>This module provides functions to help you create URLs using your project’s configured locales.</p> <p>Creating routes for your project with the i18n router will depend on certain configuration values you have set that affect your page routes. When creating routes with these functions, be sure to take into account your individual settings for:</p> <ul> <li><a href="../configuration-reference/index.html#base"><code dir="auto">base</code></a></li> <li><a href="../configuration-reference/index.html#trailingslash"><code dir="auto">trailingSlash</code></a></li> <li><a href="../configuration-reference/index.html#buildformat"><code dir="auto">build.format</code></a></li> <li><a href="../configuration-reference/index.html#site"><code dir="auto">site</code></a></li> </ul> <p>Also, note that the returned URLs created by these functions for your <code dir="auto">defaultLocale</code> will reflect your <code dir="auto">i18n.routing</code> configuration.</p> <p>For features and usage examples, <a href="../../guides/internationalization/index.html">see our i18n routing guide</a>.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="getrelativelocaleurl"><code dir="auto">getRelativeLocaleUrl()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(locale: string, path?: string,  options?: GetLocaleOptions) =&gt; string</code></p> <p>Use this function to retrieve a relative path for a locale. If the locale doesn’t exist, Astro throws an error.</p> <div class="expressive-code">

<pre data-language="astro">---
getRelativeLocaleUrl("fr");
// returns /fr


getRelativeLocaleUrl("fr", "");
// returns /fr


getRelativeLocaleUrl("fr", "getting-started");
// returns /fr/getting-started


getRelativeLocaleUrl("fr_CA", "getting-started", {
  prependWith: "blog"
});
// returns /blog/fr-ca/getting-started


getRelativeLocaleUrl("fr_CA", "getting-started", {
  prependWith: "blog",
  normalizeLocale: false
});
// returns /blog/fr_CA/getting-started
---</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="getabsolutelocaleurl"><code dir="auto">getAbsoluteLocaleUrl()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(locale: string, path: string, options?: GetLocaleOptions) =&gt; string</code></p> <p>Use this function to retrieve an absolute path for a locale when [<code dir="auto">site</code>] has a value. If [<code dir="auto">site</code>] isn’t configured, the function returns a relative URL. If the locale doesn’t exist, Astro throws an error.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
// If `site` is set to be `https://example.com`


getAbsoluteLocaleUrl("fr");
// returns https://example.com/fr


getAbsoluteLocaleUrl("fr", "");
// returns https://example.com/fr


getAbsoluteLocaleUrl("fr", "getting-started");
// returns https://example.com/fr/getting-started


getAbsoluteLocaleUrl("fr_CA", "getting-started", {
  prependWith: "blog"
});
// returns https://example.com/blog/fr-ca/getting-started


getAbsoluteLocaleUrl("fr_CA", "getting-started", {
  prependWith: "blog",
  normalizeLocale: false
});
// returns https://example.com/blog/fr_CA/getting-started
---</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="getrelativelocaleurllist"><code dir="auto">getRelativeLocaleUrlList()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(path?: string, options?: GetLocaleOptions) =&gt; string[]</code></p> <p>Use this like <a href="#getrelativelocaleurl"><code dir="auto">getRelativeLocaleUrl</code></a> to return a list of relative paths for all the locales.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="getabsolutelocaleurllist"><code dir="auto">getAbsoluteLocaleUrlList()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(path?: string, options?: GetLocaleOptions) =&gt; string[]</code></p> <p>Use this like <a href="../../guides/internationalization/index.html#custom-locale-paths"><code dir="auto">getAbsoluteLocaleUrl</code></a> to return a list of absolute paths for all the locales.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="getpathbylocale"><code dir="auto">getPathByLocale()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(locale: string) =&gt; string</code></p> <p>A function that returns the <code dir="auto">path</code> associated to one or more <code dir="auto">codes</code> when <a href="../../guides/internationalization/index.html#custom-locale-paths">custom locale paths</a> are configured.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro.config.mjs</span></div>
<pre data-language="js">export default defineConfig({
  i18n: {
    locales: ["es", "en", {
      path: "french",
      codes: ["fr", "fr-BR", "fr-CA"]
    }]
  }
})</pre>

</div> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
getPathByLocale("fr"); // returns "french"
getPathByLocale("fr-CA"); // returns "french"
---</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="getlocalebypath"><code dir="auto">getLocaleByPath()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(path: string) =&gt; string</code></p> <p>A function that returns the <code dir="auto">code</code> associated to a locale <code dir="auto">path</code>.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">astro.config.mjs</span></div>
<pre data-language="js">export default defineConfig({
  i18n: {
    locales: ["es", "en", {
      path: "french",
      codes: ["fr", "fr-BR", "fr-CA"]
    }]
  }
})</pre>

</div> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
getLocaleByPath("french"); // returns "fr" because that's the first code configured
---</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="redirecttodefaultlocale"><code dir="auto">redirectToDefaultLocale()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(context: APIContext, statusCode?: ValidRedirectStatus) =&gt; Promise&lt;Response&gt;</code><br></p>
<span> <strong>Added in:</strong> <code>astro@4.6.0</code> </span> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>Available only when <code dir="auto">i18n.routing</code> is set to <code dir="auto">"manual"</code></p></section></aside> <p>A function that returns a <code dir="auto">Response</code> that redirects to the <code dir="auto">defaultLocale</code> configured. It accepts an optional valid redirect status code.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">middleware.js</span></div>
<pre data-language="js">import { defineMiddleware } from "astro:middleware";
import { redirectToDefaultLocale } from "astro:i18n";


export const onRequest = defineMiddleware((context, next) =&gt; {
  if (context.url.pathname.startsWith("/about")) {
    return next();
  } else {
    return redirectToDefaultLocale(context, 302);
  }
})</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="redirecttofallback"><code dir="auto">redirectToFallback()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(context: APIContext, response: Response) =&gt; Promise&lt;Response&gt;</code><br></p>
<span> <strong>Added in:</strong> <code>astro@4.6.0</code> </span> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>Available only when <code dir="auto">i18n.routing</code> is set to <code dir="auto">"manual"</code></p></section></aside> <p>A function that allows you to use your <a href="../configuration-reference/index.html#i18nfallback"><code dir="auto">i18n.fallback</code> configuration</a> in your own middleware.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">middleware.js</span></div>
<pre data-language="js">import { defineMiddleware } from "astro:middleware";
import { redirectToFallback } from "astro:i18n";


export const onRequest = defineMiddleware(async (context, next) =&gt; {
  const response = await next();
  if (response.status &gt;= 300) {
    return redirectToFallback(context, response)
  }
  return response;
})</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="notfound"><code dir="auto">notFound()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(context: APIContext, response?: Response) =&gt; Promise&lt;Response&gt; | undefined</code><br></p>
<span> <strong>Added in:</strong> <code>astro@4.6.0</code> </span> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>Available only when <code dir="auto">i18n.routing</code> is set to <code dir="auto">"manual"</code></p></section></aside> <p>Use this function in your routing middleware to return a 404 when:</p> <ul> <li>the current path isn’t a root. e.g. <code dir="auto">/</code> or <code dir="auto">/&lt;base&gt;</code>
</li> <li>the URL doesn’t contain a locale</li> </ul> <p>When a <code dir="auto">Response</code> is passed, the new <code dir="auto">Response</code> emitted by this function will contain the same headers of the original response.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">middleware.js</span></div>
<pre data-language="js">import { defineMiddleware } from "astro:middleware";
import { notFound } from "astro:i18n";


export const onRequest = defineMiddleware((context, next) =&gt; {
  const pathNotFound = notFound(context);
  if (pathNotFound) {
    return pathNotFound;
  }
  return next();
})</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="middleware"><code dir="auto">middleware()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(options: { prefixDefaultLocale: boolean, redirectToDefaultLocale: boolean }) =&gt; MiddlewareHandler</code><br></p>
<span> <strong>Added in:</strong> <code>astro@4.6.0</code> </span> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>Available only when <code dir="auto">i18n.routing</code> is set to <code dir="auto">"manual"</code></p></section></aside> <p>A function that allows you to programmatically create the Astro i18n middleware.</p> <p>This is use useful when you still want to use the default i18n logic, but add only a few exceptions to your website.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">middleware.js</span></div>
<pre data-language="js">import { middleware } from "astro:i18n";
import { sequence, defineMiddleware } from "astro:middleware";


const customLogic = defineMiddleware(async (context, next) =&gt; {
  const response = await next();


  // Custom logic after resolving the response.
  // It's possible to catch the response coming from Astro i18n middleware.


  return response;
});


export const onRequest = sequence(customLogic, middleware({
  prefixDefaultLocale: true,
  redirectToDefaultLocale: false
}))</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="requesthaslocale"><code dir="auto">requestHasLocale()</code></h3></div> 
<p><strong>Type:</strong> <code dir="auto">(context: APIContext) =&gt; boolean</code><br></p>
<span> <strong>Added in:</strong> <code>astro@4.6.0</code> </span> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>Available only when <code dir="auto">i18n.routing</code> is set to <code dir="auto">"manual"</code></p></section></aside> <p>Checks whether the current URL contains a configured locale. Internally, this function will use <code dir="auto">APIContext#url.pathname</code>.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">middleware.js</span></div>
<pre data-language="js">import { defineMiddleware } from "astro:middleware";
import { requestHasLocale } from "astro:i18n";


export const onRequest = defineMiddleware(async (context, next) =&gt; {
  if (requestHasLocale(context)) {
    return next();
  }
  return new Response("Not found", { status: 404 });
})</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h2"><h2 id="built-in-components">Built-in Components</h2></div> <p>Astro includes several built-in components for you to use in your projects. All built-in components are available in <code dir="auto">.astro</code> files via <code dir="auto">import {} from 'astro:components';</code>.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="code-"><code dir="auto">&lt;Code /&gt;</code></h3></div> <div class="expressive-code">

<pre data-language="astro">---
import { Code } from 'astro:components';
---
&lt;!-- Syntax highlight some JavaScript code. --&gt;
&lt;Code code={`const foo = 'bar';`} lang="js" /&gt;
&lt;!-- Optional: Customize your theme. --&gt;
&lt;Code code={`const foo = 'bar';`} lang="js" theme="dark-plus" /&gt;
&lt;!-- Optional: Enable word wrapping. --&gt;
&lt;Code code={`const foo = 'bar';`} lang="js" wrap /&gt;
&lt;!-- Optional: Output inline code. --&gt;
&lt;p&gt;
  &lt;Code code={`const foo = 'bar';`} lang="js" inline /&gt;
  will be rendered inline.
&lt;/p&gt;
&lt;!-- Optional: defaultColor --&gt;
&lt;Code code={`const foo = 'bar';`} lang="js" defaultColor={false} /&gt;</pre>

</div> <p>This component provides syntax highlighting for code blocks at build time (no client-side JavaScript included). The component is powered internally by Shiki and it supports all popular <a href="https://shiki.style/themes">themes</a> and <a href="https://shiki.style/languages">languages</a>. Plus, you can add your custom themes, languages, <a href="#transformers">transformers</a>, and <a href="https://shiki.style/guide/dual-themes#without-default-color">default colors</a> by passing them to the <code dir="auto">theme</code>, <code dir="auto">lang</code>, <code dir="auto">transformers</code>, and <code dir="auto">defaultColor</code> attributes respectively.</p> <aside aria-label="Note" class="starlight-aside starlight-aside--note"><p class="starlight-aside__title" aria-hidden="true">Note</p>
<section class="starlight-aside__content"><p>This component <strong>does not</strong> inherit the settings from your <a href="../../guides/markdown-content/index.html#shiki-configuration">Shiki configuration</a>. You will have to set them using the component props.</p></section></aside> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="transformers">Transformers</h4></div> <p><span> <strong>Added in:</strong> <code>astro@4.11.0</code> </span></p> <p><a href="https://shiki.style/packages/transformers#shikijs-transformers">Shiki transformers</a> can optionally be applied to code by passing them in through the <code dir="auto">transformers</code> property as an array. Since Astro v4.14.0, you can also provide a string for <a href="https://shiki.style/guide/transformers#meta">Shiki’s <code dir="auto">meta</code> attribute</a> to pass options to transformers.</p> <p>Note that <code dir="auto">transformers</code> only applies classes and you must provide your own CSS rules to target the elements of your code block.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
import { transformerNotationFocus, transformerMetaHighlight } from '@shikijs/transformers'
import { Code } from 'astro:components'
const code = `const foo = 'hello'
const bar = ' world'
console.log(foo + bar) // [!code focus]
`
---
&lt;Code
  code={code}
  lang="js"
  transformers={[transformerMetaHighlight()]}
  meta="{1,3}" /&gt;


  &lt;style is:global&gt;
    pre.has-focused .line:not(.focused) {
      filter: blur(1px);
    }
  &lt;/style&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="fragment-"><code dir="auto">&lt;Fragment /&gt;</code></h3></div> <p>A component used with <a href="../directives-reference/index.html#sethtml"><code dir="auto">set:*</code> directives</a> to render HTML content without any additional wrapping elements:</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/components/SetHtml.astro</span></div>
<pre data-language="astro">---
const htmlString = '&lt;p&gt;Raw HTML content&lt;/p&gt;';
---
&lt;Fragment set:html={htmlString} /&gt;</pre>

</div> <p>See more about <a href="../../basics/astro-syntax/index.html#fragments">using fragments</a> in Astro syntax.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="prism-"><code dir="auto">&lt;Prism /&gt;</code></h3></div> <p>To use the <code dir="auto">Prism</code> highlighter component, first <strong>install</strong> the <code dir="auto">@astrojs/prism</code> package:</p> <starlight-tabs data-sync-key="package-managers" class="astro-tx2opqu5"> <div class="tablist-wrapper not-content astro-tx2opqu5"> <ul role="tablist" class="astro-tx2opqu5"> <li role="presentation" class="tab astro-tx2opqu5"> <a role="tab" href="#tab-panel-590" id="tab-590" aria-selected="true" tabindex="0" class="astro-tx2opqu5"> npm </a> </li>
<li role="presentation" class="tab astro-tx2opqu5"> <a role="tab" href="#tab-panel-591" id="tab-591" aria-selected="false" tabindex="-1" class="astro-tx2opqu5"> pnpm </a> </li>
<li role="presentation" class="tab astro-tx2opqu5"> <a role="tab" href="#tab-panel-592" id="tab-592" aria-selected="false" tabindex="-1" class="astro-tx2opqu5"> Yarn </a> </li> </ul> </div> <section id="tab-panel-590" aria-labelledby="tab-590" role="tabpanel"> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="shell">npm install @astrojs/prism</pre>

</div> </section> <section id="tab-panel-591" aria-labelledby="tab-591" role="tabpanel" hidden> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="shell">pnpm add @astrojs/prism</pre>

</div> </section> <section id="tab-panel-592" aria-labelledby="tab-592" role="tabpanel" hidden> <div class="expressive-code">
<div class="_pre-heading">
<span class="sr-only">Terminal window</span>
</div>
<pre data-language="shell">yarn add @astrojs/prism</pre>

</div> </section> </starlight-tabs>  <div class="expressive-code">

<pre data-language="astro">---
import { Prism } from '@astrojs/prism';
---
&lt;Prism lang="js" code={`const foo = 'bar';`} /&gt;</pre>

</div> <p>This component provides language-specific syntax highlighting for code blocks by applying Prism’s CSS classes. Note that <strong>you need to provide a Prism CSS stylesheet</strong> (or bring your own) for syntax highlighting to appear! See the <a href="../../guides/markdown-content/index.html#prism-configuration">Prism configuration section</a> for more details.</p> <p>See the <a href="https://prismjs.com/#supported-languages">list of languages supported by Prism</a> where you can find a language’s corresponding alias. And, you can also display your Astro code blocks with <code dir="auto">lang="astro"</code>!</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="image-"><code dir="auto">&lt;Image /&gt;</code></h3></div> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/components/MyComponent.astro</span></div>
<pre data-language="astro">---
// import the Image component and the image
import { Image } from 'astro:assets';
import myImage from "../assets/my_image.png"; // Image is 1600x900
---


&lt;!-- `alt` is mandatory on the Image component --&gt;
&lt;Image src={myImage} alt="A description of my image." /&gt;</pre>

</div> <div class="expressive-code">

<pre data-language="html">&lt;!-- Output --&gt;
&lt;!-- Image is optimized, proper attributes are enforced --&gt;
&lt;img
  src="/_astro/my_image.hash.webp"
  width="1600"
  height="900"
  decoding="async"
  loading="lazy"
  alt="A description of my image."
/&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="properties">Properties</h4></div> <ul> <li>src (required)</li> <li>alt (required)</li> <li>width and height (required for <code dir="auto">public/</code> and remote images)</li> <li>format</li> <li>quality</li> <li>densities</li> <li>widths</li> </ul> <p>In addition to the properties above, the <code dir="auto">&lt;Image /&gt;</code> component accepts all properties accepted by the HTML <code dir="auto">&lt;img&gt;</code> tag.</p> <p>See more in the <a href="../../guides/images/index.html#image--astroassets">Images Guide</a>.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="picture-"><code dir="auto">&lt;Picture /&gt;</code></h3></div> <p><span> <strong>Added in:</strong> <code>astro@3.3.0</code> </span></p> <p>Use the built-in <code dir="auto">&lt;Picture /&gt;</code> Astro component to display a responsive image with multiple formats and/or sizes.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
import { Picture } from 'astro:assets';
import myImage from "../assets/my_image.png"; // Image is 1600x900
---


&lt;!-- `alt` is mandatory on the Picture component --&gt;
&lt;Picture src={myImage} formats={['avif', 'webp']} alt="A description of my image." /&gt;</pre>

</div> <div class="expressive-code">

<pre data-language="html">&lt;!-- Output --&gt;
&lt;picture&gt;
  &lt;source srcset="/_astro/my_image.hash.avif" type="image/avif" /&gt;
  &lt;source srcset="/_astro/my_image.hash.webp" type="image/webp" /&gt;
  &lt;img
    src="/_astro/my_image.hash.png"
    width="1600"
    height="900"
    decoding="async"
    loading="lazy"
    alt="A description of my image."
  /&gt;
&lt;/picture&gt;</pre>

</div> <p>See more in the <a href="../../guides/images/index.html#picture-">Images Guide</a>.</p> <div tabindex="-1" class="heading-wrapper level-h4"><h4 id="properties-1">Properties</h4></div> <p><code dir="auto">&lt;Picture /&gt;</code> accepts all the properties of the <code dir="auto">&lt;Image /&gt;</code> component, plus the following:</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="formats"><code dir="auto">formats</code></h5></div> <p>An array of image formats to use for the <code dir="auto">&lt;source&gt;</code> tags. By default, this is set to <code dir="auto">['webp']</code>.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="fallbackformat"><code dir="auto">fallbackFormat</code></h5></div> <p>Format to use as a fallback value for the <code dir="auto">&lt;img&gt;</code> tag. Defaults to <code dir="auto">.png</code> for static images, <code dir="auto">.gif</code> for animated images, and <code dir="auto">.svg</code> for SVG files.</p> <div tabindex="-1" class="heading-wrapper level-h5"><h5 id="pictureattributes"><code dir="auto">pictureAttributes</code></h5></div> <p>An object of attributes to be added to the <code dir="auto">&lt;picture&gt;</code> tag. Use this property to apply attributes to the outer <code dir="auto">&lt;picture&gt;</code> element itself. Attributes applied to the <code dir="auto">&lt;Picture /&gt;</code> component directly will apply to the inner <code dir="auto">&lt;img&gt;</code> element, except for those used for image transformation.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="content-"><code dir="auto">&lt;Content /&gt;</code></h3></div> <p>A generic component used to render the content of a <a href="../../guides/content-collections/index.html#what-are-content-collections">content collection entry</a>.</p> <p>First, query one or more entries using <code dir="auto">getCollection()</code> or <code dir="auto">getEntry()</code>. Then, the <code dir="auto">entry.render()</code> function can return the <code dir="auto">&lt;Content /&gt;</code> component for use in a <code dir="auto">.astro</code> file template.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/render-example.astro</span></div>
<pre data-language="astro">---
import { getEntry } from 'astro:content';
const entry = await getEntry('blog', 'post-1');
const { Content } = await entry.render();
---
&lt;p&gt;Published on: {entry.data.published.toDateString()}&lt;/p&gt;
&lt;Content /&gt;</pre>

</div> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="viewtransitions-"><code dir="auto">&lt;ViewTransitions /&gt;</code></h3></div> <p><span> <strong>Added in:</strong> <code>astro@2.9.0</code> </span></p> <p>Opt in to using view transitions on individual pages by importing and adding the <code dir="auto">&lt;ViewTransitions /&gt;</code> routing component to <code dir="auto">&lt;head&gt;</code> on every desired page.</p> <div class="expressive-code">
<div class="_pre-heading"><span class="title">src/pages/index.astro</span></div>
<pre data-language="astro">---
import { ViewTransitions } from 'astro:transitions';
---
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;title&gt;My Homepage&lt;/title&gt;
    &lt;ViewTransitions /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Welcome to my website!&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>

</div> <p>See more about how to <a href="../../guides/view-transitions/index.html#router-control">control the router</a> and <a href="../../guides/view-transitions/index.html#transition-directives">add transition directives</a> to page elements and components.</p> <div tabindex="-1" class="heading-wrapper level-h3"><h3 id="debug-"><code dir="auto">&lt;Debug /&gt;</code></h3></div> <div class="expressive-code">

<pre data-language="astro">---
import { Debug } from 'astro:components';
const serverObject = {
  a: 0,
  b: "string",
  c: {
    nested: "object"
  }
}
---
&lt;Debug {serverObject} /&gt;</pre>

</div> <p>This component provides a way to inspect values on the client-side, without any JavaScript.</p> <span id="docsearch-lvl0" hidden class="astro-klj6ju3r">Reference</span> </div>   </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 Fred K. Schott<br>Licensed under the MIT License.<br>
    <a href="https://docs.astro.build/en/reference/api-reference/" class="_attribution-link">https://docs.astro.build/en/reference/api-reference/</a>
  </p>
</div>
