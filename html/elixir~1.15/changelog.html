<h1>   <span>Changelog for Elixir v1.15</span> </h1> <p>This release requires Erlang/OTP 24 and later.</p>
<p>Elixir v1.15 is a smaller release with focused improvements on compilation and boot times. This release also completes our integration process with Erlang/OTP logger, bringing new features such as log rotation and compaction out of the box.</p>
<p>You will also find additional convenience functions in <a href="code.html"><code class="inline">Code</code></a>, <a href="map.html"><code class="inline">Map</code></a>, <a href="keyword.html"><code class="inline">Keyword</code></a>, all Calendar modules, and others.</p>
<h2 id="compile-and-boot-time-improvements" class="section-heading"> <a href="#compile-and-boot-time-improvements">  Compile and boot-time improvements </a> </h2> <p>The last several releases brought improvements to compilation time and this version is no different. In particular, Elixir now caches and prunes load paths before compilation, ensuring your project (and dependencies!) compile faster and in an environment closer to production.</p>
<p>In a nutshell the Erlang VM loads modules from code paths. Each application that ships with Erlang and Elixir plus each dependency become an entry in your code path. The larger the code path, the more work Erlang has to do in order to find a module.</p>
<p>In previous versions, Mix would only add entries to the load paths. Therefore, if you compiled 20 dependencies and you went to compile the 21st, the code path would have 21 entries (plus all Erlang and Elixir apps). This allowed modules from unrelated dependencies to be seen and made compilation slower the more dependencies you had. With this release, we will now prune the code paths to only the ones listed as dependencies, bringing the behaviour closer to <a href="https://hexdocs.pm/mix/1.15/Mix.Tasks.Release.html"><code class="inline">mix release</code></a>.</p>
<p>Furthermore, Erlang/OTP 26 allows us to start applications concurrently and cache the code path lookups, decreasing the cost of booting applications. The combination of Elixir v1.15 and Erlang/OTP 26 should reduce the boot time of applications, such as when starting <code class="inline">iex -S mix</code> or running a single test with <a href="https://hexdocs.pm/mix/1.15/Mix.Tasks.Test.html"><code class="inline">mix test</code></a>, from 5% to 30%.</p>
<p>The compiler is also smarter in several ways: <code class="inline">@behaviour</code> declarations no longer add compile-time dependencies and aliases in patterns and guards add no dependency whatsoever, as no dispatching happens. Furthermore, Mix now tracks the digests of <code class="inline">@external_resource</code> files, reducing the amount of recompilation when swapping branches. Finally, dependencies are automatically recompiled when their compile-time configuration changes.</p>
<h3 id="potential-incompatibilities" class="section-heading"> <a href="#potential-incompatibilities">  Potential incompatibilities </a> </h3> <p>Due to the code path pruning, if you have an application or dependency that does not specify its dependencies on Erlang and Elixir application, it may no longer compile successfully in Elixir v1.15. You can temporarily disable code path pruning by setting <code class="inline">prune_code_paths: false</code> in your <code class="inline">mix.exs</code>, although doing so may lead to runtime bugs that are only manifested inside a <a href="https://hexdocs.pm/mix/1.15/Mix.Tasks.Release.html"><code class="inline">mix release</code></a>.</p>
<h2 id="compiler-warnings-and-errors" class="section-heading"> <a href="#compiler-warnings-and-errors">  Compiler warnings and errors </a> </h2> <p>The Elixir compiler can now emit many errors for a single file, making sure more feedback is reported to developers before compilation is aborted.</p>
<p>In Elixir v1.14, an undefined function would be reported as:</p>
<pre data-language="elixir">** (CompileError) undefined function foo/0 (there is no such import)
    my_file.exs:1</pre>
<p>In Elixir v1.15, the new reports will look like:</p>
<pre data-language="elixir">error: undefined function foo/0 (there is no such import)
  my_file.exs:1

** (CompileError) my_file.exs: cannot compile file (errors have been logged)</pre>
<p>A new function, called <a href="code.html#with_diagnostics/2"><code class="inline">Code.with_diagnostics/2</code></a>, has been added so this information can be leveraged by editors, allowing them to point to several errors at once.</p>
<h3 id="potential-incompatibilities-1" class="section-heading"> <a href="#potential-incompatibilities-1">  Potential incompatibilities </a> </h3> <p>As part of this effort, the behaviour where undefined variables were transformed into nullary function calls, often leading to confusing error reports, has been disabled during project compilation. You can invoke <code class="inline">Code.compiler_options(on_undefined_variable: :warn)</code> at the top of your <code class="inline">mix.exs</code> to bring the old behaviour back.</p>
<h2 id="integration-with-erlang-otp-logger" class="section-heading"> <a href="#integration-with-erlang-otp-logger">  Integration with Erlang/OTP logger </a> </h2> <p>This release provides additional features such as global logger metadata and file logging (with rotation and compaction) out-of-the-box!</p>
<p>This release also soft-deprecates Elixir's Logger Backends in favor of Erlang's Logger handlers. Elixir will automatically convert your <code class="inline">:console</code> backend configuration into the new configuration. Previously, you would set:</p>
<pre data-language="elixir">config :logger, :console,
  level: :error,
  format: "$time $message $metadata"</pre>
<p>Which is now translated to the equivalent:</p>
<pre data-language="elixir">config :logger, :default_handler,
  level: :error

config :logger, :default_formatter,
  format: "$time $message $metadata"</pre>
<p>If you use <a href="https://hexdocs.pm/logger/1.15/Logger.Backends.Console.html"><code class="inline">Logger.Backends.Console</code></a> with a custom device or other backends, they are still fully supported and functional. If you implement your own backends, you want to consider migrating to <a href="https://github.com/elixir-lang/logger_backends"><code class="inline">:logger_backends</code></a> in the long term.</p>
<p>See the new <a href="https://hexdocs.pm/logger/1.15/Logger.html"><code class="inline">Logger</code></a> documentation for more information on the new features and on compatibility.</p>
<h2 id="v1-15-4-2023-07-18" class="section-heading"> <a href="#v1-15-4-2023-07-18">  v1.15.4 (2023-07-18) </a> </h2> <h3 id="1-bug-fixes" class="section-heading"> <a href="#1-bug-fixes">  1. Bug fixes </a> </h3> <h4>Mix</h4>
<ul>
<li>[mix archive.build] Disable protocol consolidation when building archiveson archive.install</li>
<li>[mix compile] Track removed files per local dependency (this addresses a bug where files depending on modules from path dependencies always recompiled)</li>
<li>[mix release] Do not strip relevant chunks from Erlang/OTP 26</li>
</ul>
<h2 id="v1-15-3-2023-07-15" class="section-heading"> <a href="#v1-15-3-2023-07-15">  v1.15.3 (2023-07-15) </a> </h2> <h3 id="1-enhancements" class="section-heading"> <a href="#1-enhancements">  1. Enhancements </a> </h3> <h4>Elixir</h4>
<ul><li>[Kernel] Improve better stacktraces when executing unnested Elixir code in a file</li></ul>
<h4>Mix</h4>
<ul><li>[Mix] Allow to opt out of starting apps in <a href="https://hexdocs.pm/mix/1.15/Mix.html#install/2"><code class="inline">Mix.install/2</code></a>
</li></ul>
<h3 id="2-bug-fixes" class="section-heading"> <a href="#2-bug-fixes">  2. Bug fixes </a> </h3> <h4>Elixir</h4>
<ul><li>[Code] Ensure <code class="inline">with_diagnostics</code> propagate warnings from inner Erlang passes</li></ul>
<h4>IEx</h4>
<ul><li>[IEx] Fix <code class="inline">--remsh</code> on Erlang/OTP 25 and earlier</li></ul>
<h4>Mix</h4>
<ul><li>[mix compile.elixir] Ensure <code class="inline">__mix_recompile__?</code> callbacks are properly invoked</li></ul>
<h2 id="v1-15-2-2023-07-01" class="section-heading"> <a href="#v1-15-2-2023-07-01">  v1.15.2 (2023-07-01) </a> </h2> <h3 id="1-bug-fixes-1" class="section-heading"> <a href="#1-bug-fixes-1">  1. Bug fixes </a> </h3> <h4>IEx</h4>
<ul><li>[IEx] Fix CLI being unable to boot on Windows</li></ul>
<h2 id="v1-15-1-2023-06-30" class="section-heading"> <a href="#v1-15-1-2023-06-30">  v1.15.1 (2023-06-30) </a> </h2> <h3 id="1-enhancements-1" class="section-heading"> <a href="#1-enhancements-1">  1. Enhancements </a> </h3> <ul><li>[Code] <a href="code.html#string_to_quoted/2"><code class="inline">Code.string_to_quoted/2</code></a> honors <code class="inline">:static_atoms_encoder</code> for multi-letter sigils</li></ul>
<h3 id="2-bug-fixes-1" class="section-heading"> <a href="#2-bug-fixes-1">  2. Bug fixes </a> </h3> <h4>ExUnit</h4>
<ul>
<li>[ExUnit.CaptureLog] Fix race condition on concurrent <code class="inline">capture_log</code>
</li>
<li>[ExUnit.CaptureLog] Respect options passed to nested <code class="inline">capture_log</code> calls</li>
<li>[ExUnit.Doctest] Properly compile doctests without results terminated by fences</li>
<li>[ExUnit.Doctest] Allow variables defined in doctests to be used in expectation</li>
</ul>
<h4>IEx</h4>
<ul>
<li>[IEx] Ensure <code class="inline">pry</code> works on Erlang/OTP 25 and earlier while IEx is booting</li>
<li>[IEx] <code class="inline">Code.Fragment.surround_context</code> considers surround context around spaces and parens</li>
</ul>
<h4>Logger</h4>
<ul>
<li>[Logger] Do not assume Logger has been loaded at compile-time</li>
<li>[Logger.Formatter] Properly handle <code class="inline">:function</code> as metadata</li>
</ul>
<h4>Mix</h4>
<ul>
<li>[mix compile] Ensure the current project is available on the code path after its Elixir sources are compiled</li>
<li>[mix compile] Guarantee yecc/leex are available when emitting warnings from previous runs</li>
<li>[mix compile] Fix bug where an external resource was deleted after its mtime was successfully retrieved</li>
<li>[mix compile] Track removed modules and exports across local deps</li>
<li>[mix deps] Fix an issue where dependencies could not be started in an umbrella projects</li>
<li>[mix release] Properly handle optional dependencies when there is a conflict in the application start mode</li>
<li>[mix release] Remove <code class="inline">--werl</code> from release scripts on Erlang/OTP 26</li>
</ul>
<h2 id="v1-15-0-2023-06-19" class="section-heading"> <a href="#v1-15-0-2023-06-19">  v1.15.0 (2023-06-19) </a> </h2> <h3 id="1-enhancements-2" class="section-heading"> <a href="#1-enhancements-2">  1. Enhancements </a> </h3> <h4>EEx</h4>
<ul><li>[EEx] Include source code snippets in syntax errors</li></ul>
<h4>Elixir</h4>
<ul>
<li>[Calendar] Add support for epoch time (<code class="inline">%s</code>) to <a href="calendar.html#strftime/2"><code class="inline">Calendar.strftime/2</code></a>
</li>
<li>[Code] <a href="code.html#format_string!/2"><code class="inline">Code.format_string!/2</code></a> now converts <code class="inline">'charlists'</code> into <code class="inline">~c"charlists"</code> by default</li>
<li>[Code] Add <code class="inline">:on_undefined_variable</code> to the compiler options to preserve the warning behaviour which was deprecated back in Elixir v1.4</li>
<li>[Code] Add <a href="code.html#loaded?/1"><code class="inline">Code.loaded?/1</code></a> and <code class="inline">Code.ensure_all_loaded(!)/1</code>
</li>
<li>[Code] Add <a href="code.html#prepend_paths/1"><code class="inline">Code.prepend_paths/1</code></a>, <a href="code.html#append_paths/1"><code class="inline">Code.append_paths/1</code></a>, and <a href="code.html#delete_paths/1"><code class="inline">Code.delete_paths/1</code></a>
</li>
<li>[Code] Add <a href="code.html#with_diagnostics/2"><code class="inline">Code.with_diagnostics/2</code></a> to return diagnostics when compiling and evaluating code</li>
<li>[Code.Fragment] Support nested expressions in <a href="code.fragment.html#cursor_context/1"><code class="inline">Code.Fragment.cursor_context/1</code></a>
</li>
<li>[Code.Fragment] Keep operators and no paren calls in <a href="code.fragment.html#container_cursor_to_quoted/1"><code class="inline">Code.Fragment.container_cursor_to_quoted/1</code></a>
</li>
<li>[Date] Add <a href="date.html#before?/2"><code class="inline">Date.before?/2</code></a> and <a href="date.html#after?/2"><code class="inline">Date.after?/2</code></a>
</li>
<li>[DateTime] Add <a href="datetime.html#before?/2"><code class="inline">DateTime.before?/2</code></a> and <a href="datetime.html#after?/2"><code class="inline">DateTime.after?/2</code></a>
</li>
<li>[DateTime] Support precision in <a href="datetime.html#utc_now/2"><code class="inline">DateTime.utc_now/2</code></a>
</li>
<li>[File] Support distributed <a href="file.stream.html"><code class="inline">File.Stream</code></a>
</li>
<li>[Inspect] <a href="inspect.html"><code class="inline">Inspect</code></a> now renders <code class="inline">'charlists'</code> as <code class="inline">~c"charlists"</code> by default</li>
<li>[Kernel] Break down <code class="inline">case</code> and <code class="inline">cond</code> inside <a href="kernel.html#dbg/2"><code class="inline">dbg/2</code></a>
</li>
<li>[Kernel] Add <code class="inline">t:nonempty_binary/0</code> and <code class="inline">t:nonempty_bitstring/0</code>
</li>
<li>[Kernel] Treat <code class="inline">@behaviour</code>s as runtime dependencies</li>
<li>[Kernel] Do not add runtime dependencies for alias references in patterns and guards</li>
<li>[Kernel] Warn for nested calls without parens inside keywords</li>
<li>[Kernel] Support for multi-letter uppercase sigils</li>
<li>[Kernel] Introduce mechanism to collect several errors in a module. Previously, as soon as there was a compilation error, compilation would fail. Now the compiler became a bit smarter and will report multiple errors whenever possible as multiple <code class="inline">error: ...</code> messages, similar to <code class="inline">warning: ...</code>
</li>
<li>[Kernel] Raise instead of warning on undefined variables. Previously, an undefined variable would attempt to invoke a function of the same name, which led to confusing error messages, especially to newcomers. To enable the previous behaviour, invoke <code class="inline">Code.compiler_options(on_undefined_variable: :warn)</code> at the top of your <code class="inline">mix.exs</code>
</li>
<li>[Kernel.CLI] Support <code class="inline">--sname undefined</code>/<code class="inline">--name undefined</code> so a name is automatically generated</li>
<li>[Keyword] Add <a href="keyword.html#split_with/2"><code class="inline">Keyword.split_with/2</code></a>
</li>
<li>[Macro] Improve error message when piping into an expression ending in bracket-based access</li>
<li>[Macro.Env] Add <a href="macro.env.html#lookup_alias_as/2"><code class="inline">Macro.Env.lookup_alias_as/2</code></a>
</li>
<li>[Map] Add <a href="map.html#split_with/2"><code class="inline">Map.split_with/2</code></a>
</li>
<li>[Map] Add <a href="map.html#intersect/2"><code class="inline">Map.intersect/2</code></a> and <a href="map.html#intersect/3"><code class="inline">Map.intersect/3</code></a>
</li>
<li>[MapSet] Add <a href="mapset.html#split_with/2"><code class="inline">MapSet.split_with/2</code></a>
</li>
<li>[MapSet] Optimize most functions</li>
<li>[NaiveDateTime] Add <a href="naivedatetime.html#beginning_of_day/1"><code class="inline">NaiveDateTime.beginning_of_day/1</code></a> and <a href="naivedatetime.html#end_of_day/1"><code class="inline">NaiveDateTime.end_of_day/1</code></a>
</li>
<li>[NaiveDateTime] Add <a href="naivedatetime.html#before?/2"><code class="inline">NaiveDateTime.before?/2</code></a> and <a href="naivedatetime.html#after?/2"><code class="inline">NaiveDateTime.after?/2</code></a>
</li>
<li>[NaiveDateTime] Support precision in <a href="naivedatetime.html#utc_now/2"><code class="inline">NaiveDateTime.utc_now/2</code></a>
</li>
<li>[Module] Mark functions as generated in "Docs" chunk</li>
<li>[Module] Add <a href="module.html#get_last_attribute/3"><code class="inline">Module.get_last_attribute/3</code></a>
</li>
<li>[OptionParser] Support <code class="inline">:return_separator</code> option</li>
<li>[Process] Add <code class="inline">Process.alias/0,1</code> and <a href="process.html#unalias/1"><code class="inline">Process.unalias/1</code></a>
</li>
<li>[Range] Add <a href="range.html#split/2"><code class="inline">Range.split/2</code></a>
</li>
<li>[String] Update Unicode to version 15.0.0</li>
<li>[String] Add <code class="inline">:fast_ascii</code> mode to <a href="string.html#valid?/2"><code class="inline">String.valid?/2</code></a>
</li>
<li>[Supervisor] Add support for automatic shutdown in <a href="supervisor.html"><code class="inline">Supervisor</code></a>
</li>
<li>[System] Support <code class="inline">:lines</code> in <a href="system.html#cmd/3"><code class="inline">System.cmd/3</code></a> to capture output line by line</li>
<li>[Task] Remove head of line blocking on <a href="task.html#yield_many/2"><code class="inline">Task.yield_many/2</code></a>
</li>
<li>[Task] Enable selective receive optimizations in Erlang/OTP 26+</li>
<li>[Task] Reduce tasks footprint by avoiding unecessary work during spawning</li>
<li>[Task.Supervisor] Do not copy args on temporary <a href="task.supervisor.html#start_child/2"><code class="inline">Task.Supervisor.start_child/2</code></a>
</li>
<li>[Time] Add <a href="time.html#before?/2"><code class="inline">Time.before?/2</code></a> and <a href="time.html#after?/2"><code class="inline">Time.after?/2</code></a>
</li>
<li>[URI] Add <a href="uri.html#append_path/2"><code class="inline">URI.append_path/2</code></a>
</li>
</ul>
<h4>ExUnit</h4>
<ul>
<li>[ExUnit] Add more color configuration to ExUnit CLI formatter</li>
<li>[ExUnit.Callbacks] Accept <code class="inline">{module, function}</code> tuples in ExUnit <code class="inline">setup</code> callbacks</li>
<li>[ExUnit.Case] Add <a href="https://hexdocs.pm/ex_unit/1.15/ExUnit.Case.html#get_last_registered_test/1"><code class="inline">ExUnit.Case.get_last_registered_test/1</code></a>
</li>
<li>[ExUnit.Doctest] Add <a href="https://hexdocs.pm/ex_unit/1.15/ExUnit.DocTest.html#doctest_file/2"><code class="inline">ExUnit.DocTest.doctest_file/2</code></a>
</li>
<li>[ExUnit.Doctest] Include <code class="inline">doctest_data</code> in doctest tags</li>
<li>[ExUnit.Formatter] When comparing two anonymous functions, defined at the same place but capturing a different environment, we will now also diff the environments</li>
</ul>
<h4>IEx</h4>
<ul>
<li>[IEx] Make pry opt-in on dbg with <code class="inline">--dbg pry</code>
</li>
<li>[IEX] Support <code class="inline">IEX_HOME</code>
</li>
<li>[IEx.Autocomplete] Only provide aliases when autocompleting <code class="inline">alias</code>, <code class="inline">import</code>, and <code class="inline">require</code>
</li>
<li>[IEx.Autocomplete] Provide field completion on map and struct updates</li>
<li>[IEx.Helpers] Add <code class="inline">runtime_info(:allocators)</code>
</li>
<li>[IEx.Info] Implement protocol for <a href="range.html"><code class="inline">Range</code></a>, <a href="datetime.html"><code class="inline">DateTime</code></a>, and <a href="regex.html"><code class="inline">Regex</code></a>
</li>
</ul>
<h4>Logger</h4>
<ul>
<li>[Logger] Add <a href="https://hexdocs.pm/logger/1.15/Logger.html#add_handlers/1"><code class="inline">Logger.add_handlers/1</code></a> and <a href="https://hexdocs.pm/logger/1.15/Logger.html#default_formatter/1"><code class="inline">Logger.default_formatter/1</code></a>
</li>
<li>[Logger] Introduce <code class="inline">default_formatter</code> and <code class="inline">default_handler</code> configuration for Logger which configures Erlang/OTP logger</li>
<li>[Logger] Add <code class="inline">:always_evaluate_messages</code> configuration to Logger</li>
<li>[Logger.Formatter] Implement the Erlang Logger formatter API</li>
<li>[Logger.Formatter] Add support for ports in Logger metadata</li>
</ul>
<h4>Mix</h4>
<ul>
<li>[mix app.start] Allow applications to be started concurrently via the <code class="inline">:start_concurrently</code> configuration</li>
<li>[mix compile] Set <code class="inline">--all-warnings</code> by default</li>
<li>[mix compile] Reduce the amount of filesystem lookups for path dependencies by storing timestamps in manifests</li>
<li>[mix compile] Track digests of <code class="inline">@external_resources</code>
</li>
<li>[mix compile.app] Write <code class="inline">optional_applications</code> to <code class="inline">.app</code> file</li>
<li>[mix compile.elixir] Add <code class="inline">--purge-consolidation-path-if-stale</code> which will purge the given consolidation path if compilation is required</li>
<li>[mix deps.compile] Automatically recompile dependencies if their compile env changes</li>
<li>[mix deps.get] Automatically install Hex and Rebar on <a href="https://hexdocs.pm/mix/1.15/Mix.Tasks.Deps.Get.html"><code class="inline">mix deps.get</code></a>/<a href="https://hexdocs.pm/mix/1.15/Mix.Tasks.Deps.Update.html"><code class="inline">mix deps.update</code></a>
</li>
<li>[mix deps.get] Support <code class="inline">--check-locked</code> which raises if changes to the lockfile are required</li>
<li>[mix eval] Allow passing additional arguments</li>
<li>[mix format] Support <code class="inline">--no-exit</code> option</li>
<li>[mix format] Allow multiple formatters per file extension and sigil</li>
<li>[mix format] Show diffs whenever <code class="inline">--check-formatted</code> fails</li>
<li>[mix format] Allow the formatting root to be configured</li>
<li>[mix loadpaths] Cache deps and archive loadpaths in Erlang/OTP 26</li>
<li>[mix profile.fprof] Support <code class="inline">--trace-to-file</code> to improve performance when working with large outputs</li>
<li>[mix release] Allow passing additional arguments to the <code class="inline">eval</code> command</li>
<li>[mix xref graph] Support <code class="inline">--output</code> flag</li>
<li>[Mix.Project] Support <code class="inline">def cli</code> to unify all CLI defaults in a single place</li>
<li>[Mix.Project] Add <a href="https://hexdocs.pm/mix/1.15/Mix.Project.html#deps_tree/1"><code class="inline">Mix.Project.deps_tree/1</code></a>
</li>
</ul>
<h3 id="2-bug-fixes-2" class="section-heading"> <a href="#2-bug-fixes-2">  2. Bug fixes </a> </h3> <h4>Elixir</h4>
<ul>
<li>[Code.Formatter] Fix a scenario where a keyword followed by parenthesis could go above the maximum line length</li>
<li>[Code.Formatter] Remove unnecessary parens in nullary type funs</li>
<li>[Exception] Fix operator precedence when printing guards in <a href="exception.html#blame/3"><code class="inline">Exception.blame/3</code></a>
</li>
<li>[File] Do not raise if there are file system race conditions in <a href="file.html#cp/2"><code class="inline">File.cp/2</code></a>
</li>
<li>[File] Do not raise when deleting write-only empty directories on <a href="file.html#rm_rf/1"><code class="inline">File.rm_rf/1</code></a>
</li>
<li>[Kernel] Expand macros on the left side of -&gt; in <code class="inline">try/rescue</code>
</li>
<li>[Kernel] Raise on misplaced <code class="inline">...</code> inside typespecs</li>
<li>[Kernel] Do not import <code class="inline">behaviour_info</code> and <code class="inline">module_info</code> functions from Erlang modules</li>
<li>[Kernel] Raise when macros are given to dialyzer</li>
<li>[Kernel.ParallelCompiler] Make sure compiler doesn't crash when there are stray messages in the inbox</li>
<li>[Kernel.ParallelCompiler] Track compile and runtime warnings separately</li>
<li>[Module] Ensure that <a href="module.html#get_attribute/3"><code class="inline">Module.get_attribute/3</code></a> returns <code class="inline">nil</code> and not the given default value when an attribute has been explicitly set as <code class="inline">nil</code>
</li>
<li>[System] Fix race condition when a script would terminate before <a href="system.html#stop/1"><code class="inline">System.stop/1</code></a> executes</li>
<li>[Task] Do not double log Task failure reports</li>
<li>[URI] Make sure <a href="uri.html#merge/2"><code class="inline">URI.merge/2</code></a> works accordingly with relative paths</li>
</ul>
<h4>ExUnit</h4>
<ul>
<li>[ExUnit] Fix crash when <code class="inline">@tag capture_log: true</code> was set to true and the Logger application was shut down in the middle of the test</li>
<li>[ExUnit] Do not merge context as tags inside the runner to reduce memory usage when emitting events to formatters</li>
<li>[ExUnit] Mark test cases as invalid when an exit occurs during <code class="inline">setup_all</code>
</li>
<li>[ExUnit] Do not expand or collect vars from quote in ExUnit assertions</li>
<li>[ExUnit.DocTest] Ensure proper line is returned when failing to parse doctest results</li>
<li>[ExUnit.Doctest] Fix line information when a doctest with multiple assertions fails</li>
</ul>
<h4>IEx</h4>
<ul>
<li>[IEx] Do not spawn a process to read IO. This fixes a bug where multiline paste stopped working whenever the input reader was killed</li>
<li>[IEx] Do not perform completion for prompts triggered during code evaluation</li>
</ul>
<h4>Mix</h4>
<ul>
<li>[mix compile] Include <code class="inline">cwd</code> in compiler cache key</li>
<li>[mix release] Fix Windows service when invoking <code class="inline">erlsrv.exe</code> in path with spaces</li>
<li>[mix xref] Raise early if <a href="https://hexdocs.pm/mix/1.15/Mix.Tasks.Xref.html"><code class="inline">mix xref</code></a> is used at the umbrella root</li>
</ul>
<h3 id="3-soft-deprecations-no-warnings-emitted" class="section-heading"> <a href="#3-soft-deprecations-no-warnings-emitted">  3. Soft deprecations (no warnings emitted) </a> </h3> <h4>Elixir</h4>
<ul>
<li>[File] <a href="file.html#cp/3"><code class="inline">File.cp/3</code></a> and <a href="file.html#cp_r/3"><code class="inline">File.cp_r/3</code></a> with a function as third argument is deprecated in favor of a keyword list</li>
<li>[Kernel] Require pin variable when accessing variable inside binary size in match</li>
<li>[Kernel.ParallelCompiler] Require the <code class="inline">:return_diagnostics</code> option to be set to true when compiling or requiring code</li>
</ul>
<h4>Logger</h4>
<ul>
<li>[Logger] <code class="inline">add_backend/2</code>, <code class="inline">remove_backend/2</code>, and <code class="inline">configure_backend/2</code> have been deprecated in favor of the new <code class="inline">:logger_backends</code> dependency</li>
<li>[Logger] The <code class="inline">:console</code> configuration has been deprecated in favor of <code class="inline">:default_formatter</code>
</li>
<li>[Logger] The <code class="inline">:backends</code> configuration has been deprecated in favor of <a href="https://hexdocs.pm/logger/1.15/Logger.html#add_handlers/1"><code class="inline">Logger.add_handlers/1</code></a>
</li>
</ul>
<h4>Mix</h4>
<ul>
<li>[Mix.Project] <code class="inline">:preferred_cli_env</code> is deprecated in favor of <code class="inline">:preferred_envs</code> in <code class="inline">def cli</code>
</li>
<li>[Mix.Project] <code class="inline">:preferred_cli_target</code> is deprecated in favor of <code class="inline">:preferred_targets</code> in <code class="inline">def cli</code>
</li>
<li>[mix local] The environment variable <code class="inline">HEX_MIRROR</code> is deprecated in favor of <code class="inline">HEX_BUILDS_URL</code>
</li>
</ul>
<h3 id="4-hard-deprecations" class="section-heading"> <a href="#4-hard-deprecations">  4. Hard deprecations </a> </h3> <h4>Elixir</h4>
<ul>
<li>[Calendar] <code class="inline">Calendar.ISO.day_of_week/3</code> is deprecated in favor of <a href="calendar.iso.html#day_of_week/4"><code class="inline">Calendar.ISO.day_of_week/4</code></a>
</li>
<li>[Exception] <code class="inline">Exception.exception?/1</code> is deprecated in favor of <a href="kernel.html#is_exception/1"><code class="inline">Kernel.is_exception/1</code></a>
</li>
<li>[Kernel] Deprecate <code class="inline">...</code> as a valid function call identifier</li>
<li>[Regex] <code class="inline">Regex.regex?/1</code> is deprecated in favor of <a href="kernel.html#is_struct/2"><code class="inline">Kernel.is_struct/2</code></a>
</li>
</ul>
<h4>Logger</h4>
<ul><li>[Logger] <a href="https://hexdocs.pm/logger/1.15/Logger.html#warn/2"><code class="inline">Logger.warn/2</code></a> is deprecated in favor of <a href="https://hexdocs.pm/logger/1.15/Logger.html#warning/2"><code class="inline">Logger.warning/2</code></a>
</li></ul>
<h2 id="v1-14" class="section-heading"> <a href="#v1-14">  v1.14 </a> </h2> <p>The CHANGELOG for v1.14 releases can be found <a href="https://github.com/elixir-lang/elixir/blob/v1.14/CHANGELOG.md">in the v1.14 branch</a>.</p> <div class="bottom-actions"> <div class="bottom-actions-item"> <a href="writing-documentation.html" class="bottom-actions-button" rel="prev"> <span class="subheader"> ← Previous Page </span> <span class="title"> Writing Documentation </span> </a> </div>  </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012 Plataformatec<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://hexdocs.pm/elixir/1.15.4/changelog.html" class="_attribution-link">https://hexdocs.pm/elixir/1.15.4/changelog.html</a>
  </p>
</div>
