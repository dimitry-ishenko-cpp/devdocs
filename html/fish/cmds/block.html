<h1 id="cmd-block">block - temporarily block delivery of events</h1> <section id="synopsis"> <h2>Synopsis</h2> <pre data-language="shell">block [(--local | --global)]
block --erase
</pre> </section> <section id="description"> <h2>Description</h2> <p><code>block</code> prevents events triggered by <code>fish</code> or the <a class="reference internal" href="emit.html"><span class="doc">emit</span></a> command from being delivered and acted upon while the block is in place.</p> <p>In functions, <code>block</code> can be useful while performing work that should not be interrupted by the shell.</p> <p>The block can be removed. Any events which triggered while the block was in place will then be delivered.</p> <p>Event blocks should not be confused with code blocks, which are created with <code>begin</code>, <code>if</code>, <code>while</code> or <code>for</code></p> <p>Without options, the <code>block</code> command acts with function scope.</p> <p>The following options are available:</p> <dl class="simple"> <dt>
<strong>-l</strong> or <strong>--local</strong>
</dt>
<dd>
<p>Release the block automatically at the end of the current innermost code block scope.</p> </dd> <dt>
<strong>-g</strong> or <strong>--global</strong>
</dt>
<dd>
<p>Never automatically release the lock.</p> </dd> <dt>
<strong>-e</strong> or <strong>--erase</strong>
</dt>
<dd>
<p>Release global block.</p> </dd> <dt>
<strong>-h</strong> or <strong>--help</strong>
</dt>
<dd>
<p>Displays help about using this command.</p> </dd> </dl> </section> <section id="example"> <h2>Example</h2> <pre data-language="shell"># Create a function that listens for events
function --on-event foo foo; echo 'foo fired'; end

# Block the delivery of events
block -g

emit foo
# No output will be produced

block -e
# 'foo fired' will now be printed
</pre> </section> <section id="notes"> <h2>Notes</h2> <p>Events are only received from the current fish process as there is no way to send events from one fish process to another (yet).</p> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005-2009 Axel Liljencrantz, 2009-2023 fish-shell contributors<br>Licensed under the GNU General Public License, version 2.<br>
    <a href="https://fishshell.com/docs/3.7/cmds/block.html" class="_attribution-link">https://fishshell.com/docs/3.7/cmds/block.html</a>
  </p>
</div>
