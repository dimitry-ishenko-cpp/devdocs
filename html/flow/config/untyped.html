<h1>.flowconfig [untyped]</h1> <p>Flow needs to know which files to parse and of those how to handle any Flow types within them. For third party libraries you may wish to not parse, parse but not preserve types, or parse but not raise errors, depending on the quality and compatibility of their Flow implementation.</p> <p>Different sections are available to specify different behaviours, and by combining them most use cases are expected to be met.</p> <h2 id="toc-untyped">
<code>[untyped]</code> </h2> <p>The <code>[untyped]</code> section in a <code>.flowconfig</code> file tells Flow to not typecheck files matching the specified regular expressions and instead throw away types and treat modules as <code>any</code>.</p> <p>This is different from the <code>[ignore]</code> config section that causes matching files to be ignored by the module resolver, which inherently makes them un-typechecked, and also unresolvable by <code>import</code> or <code>require</code>. When ignored <code>[libs]</code> must then be specified for each <code>import</code> using <code>flow-typed</code>, which may not always be desired.</p> <p>It is also different from the <code>[declarations]</code> section. This also does not typecheck the file contents, but <code>[declarations]</code> does extract and use the signatures of functions, classes, etc, when checking other code.</p> <p><code>[untyped]</code> instead causes a file to be ignored by the typechecker as if it had <code>noflow</code> in it, resolve modules as <code>any</code> type, but allow them to NOT be ignored by the module resolver. Any matching file is skipped by Flow (not even parsed, like other <code>noflow</code> files!), but can still be <code>require()</code>‘d.</p> <p>Things to keep in mind:</p> <ol> <li>These are <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Str.html#TYPEregexp">OCaml regular expressions</a>.</li> <li>These regular expressions match against absolute paths. They probably should start with <code>.*</code>
</li> </ol> <p>An example <code>[untyped]</code> section might look like:</p> <pre data-language="plaintext">[untyped]
.*/third_party/.*
.*/src/\(foo\|bar\)/.*
.*\.untype\.js</pre> <p>This <code>[untyped]</code> section will parse:</p> <ol> <li>Any file or directory under a directory named <code>third_party</code>
</li> <li>Any file or directory under <code>.*/src/foo</code> or under <code>.*/src/bar</code>
</li> <li>Any file that ends with the extension <code>.untype.js</code>
</li> </ol> <p>Starting with Flow v0.23.0, you may use the <code>&lt;PROJECT_ROOT&gt;</code> placeholder in your regular expressions. At runtime, Flow will treat the placeholder as if it were the absolute path to the project’s root directory. This is useful for writing regular expressions that are relative rather than absolute.</p> <p>For example, you can write:</p> <pre data-language="plaintext">[untyped]
&lt;PROJECT_ROOT&gt;/third_party/.*</pre> <p>Which would parse in declaration mode any file or directory under the directory named <code>third_party/</code> within the project root. However, unlike the previous example’s <code>.*/third_party/.*</code>, it would NOT parse files or directories under directories named <code>third_party/</code>, like <code>src/third_party/</code>.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2013&ndash;present Facebook Inc.<br>Licensed under the MIT License.<br>
    <a href="https://flow.org/en/docs/config/untyped" class="_attribution-link">https://flow.org/en/docs/config/untyped</a>
  </p>
</div>
