<h1>SELECT INTO</h1> <p>SELECT INTO — define a new table from the results of a query</p>   <h2>Synopsis</h2> <pre data-language="sql">
[ WITH [ RECURSIVE ] with_query [, ...] ]
SELECT [ ALL | DISTINCT [ ON ( expression [, ...] ) ] ]
    * | expression [ [ AS ] output_name ] [, ...]
    INTO [ TEMPORARY | TEMP | UNLOGGED ] [ TABLE ] new_table
    [ FROM from_item [, ...] ]
    [ WHERE condition ]
    [ GROUP BY expression [, ...] ]
    [ HAVING condition ]
    [ WINDOW window_name AS ( window_definition ) [, ...] ]
    [ { UNION | INTERSECT | EXCEPT } [ ALL | DISTINCT ] select ]
    [ ORDER BY expression [ ASC | DESC | USING operator ] [ NULLS { FIRST | LAST } ] [, ...] ]
    [ LIMIT { count | ALL } ]
    [ OFFSET start [ ROW | ROWS ] ]
    [ FETCH { FIRST | NEXT } [ count ] { ROW | ROWS } ONLY ]
    [ FOR { UPDATE | SHARE } [ OF table_name [, ...] ] [ NOWAIT ] [...] ]
</pre>  <div class="refsect1" id="id-1.9.3.173.5"> <h2>Description</h2> <p><code class="command">SELECT INTO</code> creates a new table and fills it with data computed by a query. The data is not returned to the client, as it is with a normal <code class="command">SELECT</code>. The new table's columns have the names and data types associated with the output columns of the <code class="command">SELECT</code>.</p> </div> <div class="refsect1" id="id-1.9.3.173.6"> <h2>Parameters</h2> <div class="variablelist"> <dl class="variablelist"> <dt>
<code class="literal">TEMPORARY</code> or <code class="literal">TEMP</code>
</dt> <dd> <p>If specified, the table is created as a temporary table. Refer to <a class="xref" href="sql-createtable.html" title="CREATE TABLE">CREATE TABLE</a> for details.</p> </dd> <dt><code class="literal">UNLOGGED</code></dt> <dd> <p>If specified, the table is created as an unlogged table. Refer to <a class="xref" href="sql-createtable.html" title="CREATE TABLE">CREATE TABLE</a> for details.</p> </dd> <dt><code>new_table</code></dt> <dd> <p>The name (optionally schema-qualified) of the table to be created.</p> </dd> </dl> </div> <p>All other parameters are described in detail under <a class="xref" href="sql-select.html" title="SELECT">SELECT</a>.</p> </div> <div class="refsect1" id="id-1.9.3.173.7"> <h2>Notes</h2> <p><a class="link" href="sql-createtableas.html" title="CREATE TABLE AS"><code class="command">CREATE TABLE AS</code></a> is functionally similar to <code class="command">SELECT INTO</code>. <code class="command">CREATE TABLE AS</code> is the recommended syntax, since this form of <code class="command">SELECT INTO</code> is not available in ECPG or PL/pgSQL, because they interpret the <code class="literal">INTO</code> clause differently. Furthermore, <code class="command">CREATE TABLE AS</code> offers a superset of the functionality provided by <code class="command">SELECT INTO</code>.</p> <p>In contrast to <code class="command">CREATE TABLE AS</code>, <code class="command">SELECT INTO</code> does not allow specifying properties like a table's access method with <a class="xref" href="sql-createtable.html#SQL-CREATETABLE-METHOD"><code class="literal">USING method</code></a> or the table's tablespace with <a class="xref" href="sql-createtable.html#SQL-CREATETABLE-TABLESPACE"><code class="literal">TABLESPACE tablespace_name</code></a>. Use <code class="command">CREATE TABLE AS</code> if necessary. Therefore, the default table access method is chosen for the new table. See <a class="xref" href="runtime-config-client.html#GUC-DEFAULT-TABLE-ACCESS-METHOD">default_table_access_method</a> for more information.</p> </div> <div class="refsect1" id="id-1.9.3.173.8"> <h2>Examples</h2> <p>Create a new table <code class="literal">films_recent</code> consisting of only recent entries from the table <code class="literal">films</code>:</p> <pre data-language="sql">
SELECT * INTO films_recent FROM films WHERE date_prod &gt;= '2002-01-01';
</pre> </div> <div class="refsect1" id="id-1.9.3.173.9"> <h2>Compatibility</h2> <p>The SQL standard uses <code class="command">SELECT INTO</code> to represent selecting values into scalar variables of a host program, rather than creating a new table. This indeed is the usage found in ECPG (see <a class="xref" href="https://www.postgresql.org/docs/16/ecpg.html" title="Chapter 36. ECPG — Embedded SQL in C">Chapter 36</a>) and PL/pgSQL (see <a class="xref" href="https://www.postgresql.org/docs/16/plpgsql.html" title="Chapter 43. PL/pgSQL — SQL Procedural Language">Chapter 43</a>). The PostgreSQL usage of <code class="command">SELECT INTO</code> to represent table creation is historical. Some other SQL implementations also use <code class="command">SELECT INTO</code> in this way (but most SQL implementations support <code class="command">CREATE TABLE AS</code> instead). Apart from such compatibility considerations, it is best to use <code class="command">CREATE TABLE AS</code> for this purpose in new code.</p> </div> <div class="refsect1" id="id-1.9.3.173.10"> <h2>See Also</h2>
<span class="simplelist"><a class="xref" href="sql-createtableas.html" title="CREATE TABLE AS">CREATE TABLE AS</a></span> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1996&ndash;2023 The PostgreSQL Global Development Group<br>Licensed under the PostgreSQL License.<br>
    <a href="https://www.postgresql.org/docs/16/sql-selectinto.html" class="_attribution-link">https://www.postgresql.org/docs/16/sql-selectinto.html</a>
  </p>
</div>
