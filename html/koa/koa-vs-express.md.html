<h1 tabindex="-1" dir="auto" id="koa-vs-express">Koa vs Express</h1> <p dir="auto">Philosophically, Koa aims to "fix and replace Node", whereas Express "augments Node". Koa uses promises and async functions to rid apps of callback hell and simplify error handling. It exposes its own <code>ctx.request</code> and <code>ctx.response</code> objects instead of Node's <code>req</code> and <code>res</code> objects.</p> <p dir="auto">Express, on the other hand, augments Node's <code>req</code> and <code>res</code> objects with additional properties and methods and includes many other "framework" features, such as routing and templating, which Koa does not.</p> <p dir="auto">Thus, Koa can be viewed as an abstraction of Node.js's <code>http</code> modules, where as Express is an application framework for Node.js.</p> <table> <thead> <tr> <th align="right">Feature</th> <th>Koa</th> <th>Express</th> <th>Connect</th> </tr> </thead> <tbody> <tr> <td align="right">Middleware Kernel</td> <td>✓</td> <td>✓</td> <td>✓</td> </tr> <tr> <td align="right">Routing</td> <td></td> <td>✓</td> <td></td> </tr> <tr> <td align="right">Templating</td> <td></td> <td>✓</td> <td></td> </tr> <tr> <td align="right">Sending Files</td> <td></td> <td>✓</td> <td></td> </tr> <tr> <td align="right">JSONP</td> <td></td> <td>✓</td> <td></td> </tr> </tbody> </table> <p dir="auto">Thus, if you'd like to be closer to Node.js and traditional Node.js-style coding, you probably want to stick to Connect/Express or similar frameworks. If you want to get rid of callbacks, use Koa.</p> <p dir="auto">As result of this different philosophy is that traditional Node.js "middleware", i.e. functions of the form <code>(req, res, next)</code>, are incompatible with Koa. Your application will essentially have to be rewritten from the ground, up.</p> <h2 tabindex="-1" dir="auto" id="does-koa-replace-express">Does Koa replace Express?</h2> <p dir="auto">It's more like Connect, but a lot of the Express goodies were moved to the middleware level in Koa to help form a stronger foundation. This makes middleware more enjoyable and less error-prone to write, for the entire stack, not just the end application code.</p> <p dir="auto">Typically many middleware would re-implement similar features, or even worse incorrectly implement them, when features like signed cookie secrets among others are typically application-specific, not middleware-specific.</p> <h2 tabindex="-1" dir="auto" id="does-koa-replace-connect">Does Koa replace Connect?</h2> <p dir="auto">No, just a different take on similar functionality now that generators allow us to write code with fewer callbacks. Connect is equally capable, and some may still prefer it, it's up to what you prefer.</p> <h2 tabindex="-1" dir="auto" id="why-isnt-koa-just-express-40">Why isn't Koa just Express 4.0?</h2> <p dir="auto">Koa is a pretty large departure from what people know about Express, the design is fundamentally much different, so the migration from Express 3.0 to this Express 4.0 would effectively mean rewriting the entire application, so we thought it would be more appropriate to create a new library.</p> <h2 tabindex="-1" dir="auto" id="how-is-koa-different-from-connectexpress">How is Koa different from Connect/Express?</h2> <h3 tabindex="-1" dir="auto" id="promises-based-control-flow">Promises-based control flow</h3> <p dir="auto">No callback hell.</p> <p dir="auto">Better error handling through try/catch.</p> <p dir="auto">No need for domains.</p> <h3 tabindex="-1" dir="auto" id="koa-is-barebones">Koa is barebones</h3> <p dir="auto">Unlike both Connect and Express, Koa does not include any middleware.</p> <p dir="auto">Unlike Express, routing is not provided.</p> <p dir="auto">Unlike Express, many convenience utilities are not provided. For example, sending files.</p> <p dir="auto">Koa is more modular.</p> <h3 tabindex="-1" dir="auto" id="koa-relies-less-on-middleware">Koa relies less on middleware</h3> <p dir="auto">For example, instead of a "body parsing" middleware, you would instead use a body parsing function.</p> <h3 tabindex="-1" dir="auto" id="koa-abstracts-nodes-requestresponse">Koa abstracts Node's request/response</h3> <p dir="auto">Less hackery.</p> <p dir="auto">Better user experience.</p> <p dir="auto">Proper stream handling.</p> <h3 tabindex="-1" dir="auto" id="koa-routing-third-party-libraries-support">Koa routing (third party libraries support)</h3> <p dir="auto">Since Express comes with its own routing, but Koa does not have any built-in routing, there are third party libraries available such as koa-router and koa-route. Similarly, just like we have helmet for security in Express, for Koa we have koa-helmet available and the list goes on for Koa available third party libraries.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2020 Koa contributors<br>Licensed under the MIT License.<br>
    <a href="https://github.com/koajs/koa/tree/master/docs/koa-vs-express.md" class="_attribution-link">https://github.com/koajs/koa/tree/master/docs/koa-vs-express.md</a>
  </p>
</div>
