<devsite-bookmark></devsite-bookmark>   <devsite-mathjax config="TeX-AMS-MML_SVG"></devsite-mathjax>  <h1 id="tensorflow::ops::segmentsum" data-text="tensorflow::ops::SegmentSum">tensorflow::ops::SegmentSum</h1> <p><code translate="no" dir="ltr">#include &lt;math_ops.h&gt;</code></p> <p>Computes the sum along segments of a tensor. </p> <h2 id="summary" data-text="Summary">Summary</h2> <p>Read <a href="https://tensorflow.org/api_docs/python/tf/math#Segmentation">the section on segmentation</a> for an explanation of segments.</p> <p>Computes a tensor such that \(output_i = \sum_j data_j\) where sum is over <code translate="no" dir="ltr">j</code> such that <code translate="no" dir="ltr">segment_ids[j] == i</code>.</p> <p>If the sum is empty for a given segment ID <code translate="no" dir="ltr">i</code>, <code translate="no" dir="ltr">output[i] = 0</code>.</p> <p>Caution: On CPU, values in <code translate="no" dir="ltr">segment_ids</code> are always validated to be sorted, and an error is thrown for indices that are not increasing. On GPU, this does not throw an error for unsorted indices. On GPU, out-of-order indices result in safe but unspecified behavior, which may include treating out-of-order indices as the same as a smaller following index.</p> <p> <figure id="@name"> <img src="https://www.tensorflow.org/versions/r2.9/api_docs/cc/images/SegmentSum.png"> </figure> </p> <p>For example:</p> <p>c = tf.constant([[1,2,3,4], [4, 3, 2, 1], [5,6,7,8]]) tf.math.segment_sum(c, tf.constant([0, 0, 1])).numpy() array([[5, 5, 5, 5], [5, 6, 7, 8]], dtype=int32)</p> <p>Args:</p>
<ul> <li>scope: A <a href="../scope.html#classtensorflow_1_1_scope">Scope</a> object</li> <li>segment_ids: A 1-D tensor whose size is equal to the size of <code translate="no" dir="ltr">data</code>'s first dimension. Values should be sorted and can be repeated.</li> </ul> <p>Caution: The values are always validated to be sorted on CPU, never validated on GPU.</p> <p>Returns:</p>
<ul> <li>
<code translate="no" dir="ltr"><a href="../output.html#classtensorflow_1_1_output">Output</a></code>: Has same shape as data, except for dimension 0 which has size <code translate="no" dir="ltr">k</code>, the number of segments. </li> </ul> <table class="constructors responsive"> <tr> <th colspan="2"> Constructors and Destructors </th> </tr> <tr> <td colspan="2"> <code translate="no" dir="ltr"><a href="#classtensorflow_1_1ops_1_1_segment_sum_1a4f3c70df95d8be6a28060d01172358b5">SegmentSum</a>(const ::<a href="../scope.html#classtensorflow_1_1_scope">tensorflow::Scope</a> &amp; scope, ::<a href="../input.html#classtensorflow_1_1_input">tensorflow::Input</a> data, ::<a href="../input.html#classtensorflow_1_1_input">tensorflow::Input</a> segment_ids)</code> <br> </td> </tr> </table> <table class="properties responsive"> <tr> <th colspan="2"> Public attributes </th> </tr> <tr> <td> <code translate="no" dir="ltr"><a href="#classtensorflow_1_1ops_1_1_segment_sum_1a2a06a8d703c2aaac86320935d50be188">operation</a></code> </td> <td> <div> <code translate="no" dir="ltr"><a href="../operation.html#classtensorflow_1_1_operation">Operation</a></code> </div> </td> </tr> <tr> <td> <code translate="no" dir="ltr"><a href="#classtensorflow_1_1ops_1_1_segment_sum_1a475eb3ccf98c3aa9097ae79ad39b06ac">output</a></code> </td> <td> <div> <code translate="no" dir="ltr">::<a href="../output.html#classtensorflow_1_1_output">tensorflow::Output</a></code> </div> </td> </tr> </table> <table class="methods responsive"> <tr> <th colspan="2"> Public functions </th> </tr> <tr> <td> <code translate="no" dir="ltr"><a href="#classtensorflow_1_1ops_1_1_segment_sum_1a02ad69e7aabc1982f43a6f669d6dd884">node</a>() const </code> </td> <td> <div> <code translate="no" dir="ltr">::tensorflow::Node *</code> </div> </td> </tr> <tr> <td> <code translate="no" dir="ltr"><a href="#classtensorflow_1_1ops_1_1_segment_sum_1ab999a101c40c98e2574092d55e877ec2">operator::tensorflow::Input</a>() const </code> </td> <td>  </td> </tr> <tr> <td> <code translate="no" dir="ltr"><a href="#classtensorflow_1_1ops_1_1_segment_sum_1af298372906f96c26410a5edaeb58a2e4">operator::tensorflow::Output</a>() const </code> </td> <td>  </td> </tr> </table> <h2 id="public-attributes_1" data-text="Public attributes">Public attributes</h2> <div id="classtensorflow_1_1ops_1_1_segment_sum_1a2a06a8d703c2aaac86320935d50be188"> <h3 id="operation" data-text="operation">operation</h3> <pre class="prettyprint" translate="no" dir="ltr" data-language="cpp">Operation operation</pre>  </div> <div id="classtensorflow_1_1ops_1_1_segment_sum_1a475eb3ccf98c3aa9097ae79ad39b06ac"> <h3 id="output" data-text="output">output</h3> <pre class="prettyprint" translate="no" dir="ltr" data-language="cpp">::tensorflow::Output output</pre>  </div> <h2 id="public-functions_1" data-text="Public functions">Public functions</h2> <div id="classtensorflow_1_1ops_1_1_segment_sum_1a4f3c70df95d8be6a28060d01172358b5"> <h3 id="segmentsum" data-text="SegmentSum">SegmentSum</h3> <pre class="prettyprint" translate="no" dir="ltr" data-language="cpp"> SegmentSum(
  const ::tensorflow::Scope &amp; scope,
  ::tensorflow::Input data,
  ::tensorflow::Input segment_ids
)</pre>  </div> <div id="classtensorflow_1_1ops_1_1_segment_sum_1a02ad69e7aabc1982f43a6f669d6dd884"> <h3 id="node" data-text="node">node</h3> <pre class="prettyprint" translate="no" dir="ltr" data-language="cpp">::tensorflow::Node * node() const </pre>  </div> <div id="classtensorflow_1_1ops_1_1_segment_sum_1ab999a101c40c98e2574092d55e877ec2"> <h3 id="operator::tensorflow::input" data-text="operator::tensorflow::Input">operator::tensorflow::Input</h3> <pre class="prettyprint" translate="no" dir="ltr" data-language="cpp">operator::tensorflow::Input() const </pre>  </div> <div id="classtensorflow_1_1ops_1_1_segment_sum_1af298372906f96c26410a5edaeb58a2e4"> <h3 id="operator::tensorflow::output" data-text="operator::tensorflow::Output">operator::tensorflow::Output</h3> <pre class="prettyprint" translate="no" dir="ltr" data-language="cpp">operator::tensorflow::Output() const </pre>  </div>  <devsite-thumb-rating position="footer"> </devsite-thumb-rating><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2022 The TensorFlow Authors. All rights reserved.<br>Licensed under the Creative Commons Attribution License 4.0.<br>Code samples licensed under the Apache 2.0 License.<br>
    <a href="https://www.tensorflow.org/versions/r2.9/api_docs/cc/class/tensorflow/ops/segment-sum" class="_attribution-link">https://www.tensorflow.org/versions/r2.9/api_docs/cc/class/tensorflow/ops/segment-sum</a>
  </p>
</div>
