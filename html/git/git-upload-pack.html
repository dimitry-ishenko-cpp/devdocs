<h1>git-upload-pack</h1>  <h2 id="_name">Name</h2> <div class="sectionbody">  <p>git-upload-pack - Send objects packed back to git-fetch-pack</p>  </div>   <h2 id="_synopsis">Synopsis</h2> <div class="sectionbody"> <div class="verseblock"> <pre class="content">git-upload-pack [--[no-]strict] [--timeout=&lt;n&gt;] [--stateless-rpc]
                  [--advertise-refs] &lt;directory&gt;</pre> </div> </div>   <h2 id="_description">Description</h2> <div class="sectionbody">  <p>Invoked by <code>git fetch-pack</code>, learns what objects the other side is missing, and sends them after packing.</p>   <p>This command is usually not invoked directly by the end user. The UI for the protocol is on the <code>git fetch-pack</code> side, and the program pair is meant to be used to pull updates from a remote repository. For push operations, see <code>git send-pack</code>.</p>  </div>   <h2 id="_options">Options</h2> <div class="sectionbody"> <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/git-upload-pack.txt---no-strict"> --[no-]strict </dt> <dd> <p>Do not try &lt;directory&gt;/.git/ if &lt;directory&gt; is not a Git directory.</p> </dd> <dt class="hdlist1" id="Documentation/git-upload-pack.txt---timeoutltngt"> --timeout=&lt;n&gt; </dt> <dd> <p>Interrupt transfer after &lt;n&gt; seconds of inactivity.</p> </dd> <dt class="hdlist1" id="Documentation/git-upload-pack.txt---stateless-rpc"> --stateless-rpc </dt> <dd> <p>Perform only a single read-write cycle with stdin and stdout. This fits with the HTTP POST request processing model where a program may read the request, write a response, and must exit.</p> </dd> <dt class="hdlist1" id="Documentation/git-upload-pack.txt---http-backend-info-refs"> --http-backend-info-refs </dt> <dd> <p>Used by <a href="git-http-backend.html">git-http-backend[1]</a> to serve up <code>$GIT_URL/info/refs?service=git-upload-pack</code> requests. See "Smart Clients" in <a href="gitprotocol-http.html">gitprotocol-http[5]</a> and "HTTP Transport" in the <a href="gitprotocol-v2.html">gitprotocol-v2[5]</a> documentation. Also understood by <a href="git-receive-pack.html">git-receive-pack[1]</a>.</p> </dd> <dt class="hdlist1" id="Documentation/git-upload-pack.txt-ltdirectorygt"> &lt;directory&gt; </dt> <dd> <p>The repository to sync from.</p> </dd> </dl> </div> </div>   <h2 id="_environment">Environment</h2> <div class="sectionbody"> <div class="dlist"> <dl> <dt class="hdlist1" id="Documentation/git-upload-pack.txt-codeGITPROTOCOLcode"> <code>GIT_PROTOCOL</code> </dt> <dd> <p>Internal variable used for handshaking the wire protocol. Server admins may need to configure some transports to allow this variable to be passed. See the discussion in <a href="git.html">git[1]</a>.</p> </dd> <dt class="hdlist1" id="Documentation/git-upload-pack.txt-codeGITNOLAZYFETCHcode"> <code>GIT_NO_LAZY_FETCH</code> </dt> <dd> <p>When cloning or fetching from a partial repository (i.e., one itself cloned with <code>--filter</code>), the server-side <code>upload-pack</code> may need to fetch extra objects from its upstream in order to complete the request. By default, <code>upload-pack</code> will refuse to perform such a lazy fetch, because <code>git fetch</code> may run arbitrary commands specified in configuration and hooks of the source repository (and <code>upload-pack</code> tries to be safe to run even in untrusted <code>.git</code> directories).</p>  <p>This is implemented by having <code>upload-pack</code> internally set the <code>GIT_NO_LAZY_FETCH</code> variable to <code>1</code>. If you want to override it (because you are fetching from a partial clone, and you are sure you trust it), you can explicitly set <code>GIT_NO_LAZY_FETCH</code> to <code>0</code>.</p>  </dd> </dl> </div> </div>   <h2 id="_security">Security</h2> <div class="sectionbody">  <p>Most Git commands should not be run in an untrusted <code>.git</code> directory (see the section <code>SECURITY</code> in <a href="git.html">git[1]</a>). <code>upload-pack</code> tries to avoid any dangerous configuration options or hooks from the repository itâ€™s serving, making it safe to clone an untrusted directory and run commands on the resulting clone.</p>   <p>For an extra level of safety, you may be able to run <code>upload-pack</code> as an alternate user. The details will be platform dependent, but on many systems you can run:</p>  <div class="literalblock"> <div class="content"> <pre data-language="shell">git clone --no-local --upload-pack='sudo -u nobody git-upload-pack' ...</pre> </div> </div> </div>   <h2 id="_see_also">See also</h2> <div class="sectionbody">  <p><a href="gitnamespaces.html">gitnamespaces[7]</a></p>  </div>      <h3 hidden="true" data-pagefind-weight="7">upload-pack</h3><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 Linus Torvalds and others<br>Licensed under the GNU General Public License version 2.<br>
    <a href="https://git-scm.com/docs/git-upload-pack" class="_attribution-link">https://git-scm.com/docs/git-upload-pack</a>
  </p>
</div>
