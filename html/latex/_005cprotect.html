<div class="section" id="g_t_005cprotect">   <h3 class="section" id="g_t_005cprotect">\protect</h3>    <p>All LaTeX commands are either <em>fragile</em> or <em>robust</em>. A fragile command can break when it is used in the argument to certain other commands. Commands that contain data that LaTeX writes to an auxiliary file and re-reads later are fragile. This includes material that goes into a table of contents, list of figures, list of tables, etc. Fragile commands also include line breaks, any command that has an optional argument, and many more. To prevent such commands from breaking, one solution is to preceded them with the command <code>\protect</code>. </p> <p>For example, when LaTeX runs the <code>\section{<var>section
name</var>}</code> command it writes the <var>section name</var> text to the <samp>.aux</samp> auxiliary file, moving it there for use elsewhere in the document such as in the table of contents. Any argument that is internally expanded by LaTeX without typesetting it directly is referred to as a  <em>moving argument</em>. A command is fragile if it can expand during this process into invalid TeX code. Some examples of moving arguments are those that appear in the <code>\caption{...}</code> command (see <a href="figure.html"><code>figure</code></a>), in the <code>\thanks{...}</code> command (see <a href="_005cmaketitle.html"><code>\maketitle</code></a>), and in @-expressions in the <code>tabular</code> and <code>array</code> environments (see <a href="tabular.html"><code>tabular</code></a>). </p> <p>If you get strange errors from commands used in moving arguments, try preceding it with <code>\protect</code>. Every fragile commands must be protected with their own <code>\protect</code>. </p> <p>Although usually a <code>\protect</code> command doesn’t hurt, length commands are robust and should not be preceded by a <code>\protect</code> command. Nor can a <code>\protect</code> command be used in the argument to <code>\addtocounter</code> or <code>\setcounter</code> command. </p> <p>In this example the <code>\caption</code> command gives a mysterious error about an extra curly brace. Fix the problem by preceding each <code>\raisebox</code> command with <code>\protect</code>. </p>  <pre data-language="latex">\begin{figure}
  ...
  \caption{Company headquarters of A\raisebox{1pt}{B}\raisebox{-1pt}{C}}
\end{figure}
</pre> <p>In the next example the <code>\tableofcontents</code> command gives an error because the <code>\(..\)</code> in the section title expands to illegal TeX in the <samp>.toc</samp> file. You can solve this by changing <code>\(..\)</code> to <code>\protect\(..\protect\)</code>. </p>  <pre data-language="latex">\begin{document}
\tableofcontents
...
\section{Einstein's \( e=mc^2 \)}
...
</pre> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2007–2018 Karl Berry<br>Public Domain Software<br>
    <a href="http://latexref.xyz/_005cprotect.html" class="_attribution-link">http://latexref.xyz/_005cprotect.html</a>
  </p>
</div>
