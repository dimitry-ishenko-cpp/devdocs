<div class="section" id="g_t_005copenin-_0026-_005copenout">   <h3 class="section" id="g_t_005copenin-_0026-_005copenout">\openin &amp; \openout</h3>        <p>Synopsis: </p>  <pre data-language="latex">\openin <var>number</var>=<var>filename</var>
</pre> <p>or: </p>  <pre data-language="latex">\openout <var>number</var>=<var>filename</var>
</pre> <p>Open a file for reading material, or for writing it. In most engines, the <var>number</var> must be between 0 and 15, as in <code>\openin3</code>; in LuaLaTeX, <var>number</var> can be between 0 and 127. </p> <p>Here TeX opens the file <samp>presidents.tex</samp> for reading. </p>  <pre data-language="latex">\newread\presidentsfile
\openin\presidentsfile=presidents
\typeout{presidentsfile is \the\presidentsfile}
\read\presidentsfile to\presidentline
\typeout{\presidentline}
</pre> <p>The <code>\newread</code> command allocates input stream numbers from 0 to 15 (there is also a <code>\newwrite</code>). The <code>\presidentsfile</code> is more memorable but under the hood it is still a number; the first <code>\typeout</code> gives something like ‘<samp>presidentsfile is 1</samp>’. In addition, <code>\newread</code> keeps track of the allocation so that if you use too many then you get an error like ‘<samp>! No room for a new \read</samp>’. The second <code>\typeout</code> gives the first line of the file, something like ‘<samp>1 Washington, George</samp>’. </p> <p>Ordinarily TeX will not try to open the file until the next page shipout. To change this, use <code>\immediate\openin <var>number</var>=<var>filename</var></code> or <code>\immediate\openout <var>number</var>=<var>filename</var></code>. </p> <p>Close files with <code>\closein <var>number</var></code> and <code>\closeout <var>number</var></code>. </p> <p>How LaTeX handles filenames varies among distributions, and even can vary among versions of a distribution. If the file does not have an extension then TeX will add a <samp>.tex</samp>. This creates <samp>presidents.tex</samp>, writes one line to it, and closes it. </p>  <pre data-language="latex">\newwrite\presidentsfile
\openout\presidentsfile=presidents
\write\presidentsfile{1 Washington, George}
\closeout\presidentsfile
</pre> <p>But filenames with a period can cause trouble: if TeX finds a <var>filename</var> of <samp>presidents.dat</samp> it could look first for <samp>presidents.dat.tex</samp> and later for <samp>presidents.dat</samp>, or it could do the opposite. Your distribution’s documentation should say more, and if you find something that works for you then you are good, but to ensure complete portability the best thing is to use file names containing only the twenty six ASCII letters (not case-sensitive) and the ten digits, along with underscore and dash, and in particular with no dot or space. </p> <p>For <code>\openin</code>, if TeX cannot find the file then it does not give an error. It just considers that the stream is not open (test for this with <code>\ifeof</code>; one recourse is the command <code>\InputIfFileExists</code>, see <a href="class-and-package-commands.html">Class and package commands</a>). If you try to use the same number twice, LaTeX won’t give you an error. If you try to use a bad number then you get an error message like ‘<samp>! Bad number (16). &lt;to be read again&gt; = l.30 \openin16=test.jh</samp>’. </p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2007–2018 Karl Berry<br>Public Domain Software<br>
    <a href="http://latexref.xyz/_005copenin-_0026-_005copenout.html" class="_attribution-link">http://latexref.xyz/_005copenin-_0026-_005copenout.html</a>
  </p>
</div>
