<div class="subsection" id="g_t_005cwrite18">   <h4 class="subsection" id="g_t_005cwrite18">\write18</h4>      <p>Synopsis: </p>  <pre data-language="latex">\write18{<var>shell_command</var>}
</pre> <p>Issue a command to the operating system shell. The operating system runs the command and LaTeX’s execution is blocked until that finishes. </p>   <p>This sequence (on Unix) </p>  <pre data-language="latex">\usepackage{graphicx}  % in preamble
  ...
\newcommand{\fignum}{1}
\immediate\write18{cd pix &amp;&amp; asy figure\fignum}
\includegraphics{pix\figure\fignum.pdf}
</pre> <p>will run Asymptote (the <code>asy</code> program) on <samp>pix/figure1.asy</samp>, so that the document can later read in the resulting graphic (see <a href="_005cincludegraphics.html"><code>\includegraphics</code></a>). Like any <code>\write</code>, here LaTeX expands macros in <var>shell_command</var> so that <code>\fignum</code> is replaced by ‘<samp>1</samp>’. </p> <p>Another example is that you can automatically run BibTeX at the start of each LaTeX run (see <a href="using-bibtex.html">Using BibTeX</a>) by including <code>\immediate\write18{bibtex8 \jobname}</code> as the first line of the file. Note that <code>\jobname</code> expands to the basename of the root file unless the <code>--jobname</code> option is passed on the command line, in which case this is the option argument. </p> <p>You sometimes need to do a multi-step process to get the information that you want. This will insert into the input a list of all PDF files in the current directory (but see <code>texosquery</code> below): </p>  <pre data-language="latex">\immediate\write18{ls *.pdf &gt; tmp.dat}
\input{tmp.dat}
</pre> <p>The standard behavior of any <code>\write</code> is to wait until a page is being shipped out before expanding the macros or writing to the stream (see <a href="_005cwrite.html"><code>\write</code></a>). But sometimes you want it done now. For this, use <code>\immediate\write18{<var>shell_command</var>}</code>. </p> <p>There are obvious security issues with allowing system commands inside a LaTeX file. If you download a file off the net and it contains commands to delete all your files then you would be unhappy. The standard settings in modern distributions turn off full shell access. You can turn it on, if you are sure the shell commands are safe, by compiling with <code>latex --enable-write18 <var>filename</var></code> (see <a href="command-line-options.html">Command line options</a>). (The <code>--shell-escape</code> option is a synonym, in TeX Live.) </p>  <p>In the place of full shell access, modern distributions by default use a restricted version that allows some commands to work, such as those that run Metafont to generate missing fonts, even if you do not use the <code>enable-write18</code> option. By default this list of allowed commands is short and features only commands that are under the control of the distribution maintainers (see <a href="command-line-options.html">Command line options</a>). </p>     <p>The <var>shell_command</var> text is always passed to <samp>/bin/sh</samp> on Unix-like operating systems, and the DOS command interpreter <samp>cmd.exe</samp> on Windows. Any different shell set by the user, and the <code>SHELL</code> environment variable, is ignored. </p>       <p>If what you need is system information, such as the operating system name, locale information, or directory contents, take a look at the <code>texosquery</code> package, which provides a convenient and secure interface for this, unlike the above examples using the raw <code>\write18</code>: <a href="https://ctan.org/pkg/texosquery">https://ctan.org/pkg/texosquery</a>. </p>     <p>LaTeX provides a package <code>shellesc</code> on top of the primitive <code>\write18</code> command. Its primary purpose is to provide a command <code>\ShellEscape</code> which works identically on all TeX engines; LuaTeX intentionally did not retain <code>\write18</code> as a way to invoke a shell command, so some engine-specific code is needed. The <code>shellesc</code> package also provides a command <code>\DelayedShellEscape</code>, executed at <code>\output</code> time, for the same reason. </p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2007–2018 Karl Berry<br>Public Domain Software<br>
    <a href="http://latexref.xyz/_005cwrite18.html" class="_attribution-link">http://latexref.xyz/_005cwrite18.html</a>
  </p>
</div>
