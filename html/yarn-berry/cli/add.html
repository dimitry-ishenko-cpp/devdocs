<h1>yarn add</h1>

<div class="css-elchao exirf770">
<p>Add dependencies to the project.</p>
<h2 id="usage">
Usage</h2>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">$&gt; yarn add ...</code></pre></div>
<h2 id="examples">
Examples</h2>
<p>Add a regular package to the current workspace :</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">yarn add lodash</code></pre></div>
<p>Add a specific version for a package to the current workspace :</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">yarn add lodash@1.2.3</code></pre></div>
<p>Add a package from a GitHub repository (the master branch) to the current workspace using a URL :</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">yarn add lodash@https://github.com/lodash/lodash</code></pre></div>
<p>Add a package from a GitHub repository (the master branch) to the current workspace using the GitHub protocol :</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">yarn add lodash@github:lodash/lodash</code></pre></div>
<p>Add a package from a GitHub repository (the master branch) to the current workspace using the GitHub protocol (shorthand) :</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">yarn add lodash@lodash/lodash</code></pre></div>
<p>Add a package from a specific branch of a GitHub repository to the current workspace using the GitHub protocol (shorthand) :</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">yarn add lodash-es@lodash/lodash#es</code></pre></div>
<h2 id="options">
Options</h2>
<table>
<thead><tr>
<th><div>Definition</div></th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><span id="options-json" class="header-code"><code class="language-text">--json</code></span></td>
<td>Format the output as an NDJSON stream</td>
</tr>
<tr>
<td><span id="options-E%2C-exact" class="header-code"><code class="language-text">-E,--exact</code></span></td>
<td>Don't use any semver modifier on the resolved range</td>
</tr>
<tr>
<td><span id="options-T%2C-tilde" class="header-code"><code class="language-text">-T,--tilde</code></span></td>
<td>Use the <code class="language-text">~</code> semver modifier on the resolved range</td>
</tr>
<tr>
<td><span id="options-C%2C-caret" class="header-code"><code class="language-text">-C,--caret</code></span></td>
<td>Use the <code class="language-text">^</code> semver modifier on the resolved range</td>
</tr>
<tr>
<td><span id="options-D%2C-dev" class="header-code"><code class="language-text">-D,--dev</code></span></td>
<td>Add a package as a dev dependency</td>
</tr>
<tr>
<td><span id="options-P%2C-peer" class="header-code"><code class="language-text">-P,--peer</code></span></td>
<td>Add a package as a peer dependency</td>
</tr>
<tr>
<td><span id="options-O%2C-optional" class="header-code"><code class="language-text">-O,--optional</code></span></td>
<td>Add / upgrade a package to an optional regular / peer dependency</td>
</tr>
<tr>
<td><span id="options-prefer-dev" class="header-code"><code class="language-text">--prefer-dev</code></span></td>
<td>Add / upgrade a package to a dev dependency</td>
</tr>
<tr>
<td><span id="options-i%2C-interactive" class="header-code"><code class="language-text">-i,--interactive</code></span></td>
<td>Reuse the specified package from other workspaces in the project</td>
</tr>
<tr>
<td><span id="options-cached" class="header-code"><code class="language-text">--cached</code></span></td>
<td>Reuse the highest version already used somewhere within the project</td>
</tr>
<tr>
<td><span id="options-mode%20%230" class="header-code"><code class="language-text">--mode #0</code></span></td>
<td>Change what artifacts installs generate</td>
</tr>
</tbody>
</table>
<h2 id="details">
Details</h2>
<p>This command adds a package to the package.json for the nearest workspace.</p>
<ul>
<li><p>If it didn't exist before, the package will by default be added to the regular <code class="language-text">dependencies</code> field, but this behavior can be overriden thanks to the <code class="language-text">-D,--dev</code> flag (which will cause the dependency to be added to the <code class="language-text">devDependencies</code> field instead) and the <code class="language-text">-P,--peer</code> flag (which will do the same but for <code class="language-text">peerDependencies</code>).</p></li>
<li><p>If the package was already listed in your dependencies, it will by default be upgraded whether it's part of your <code class="language-text">dependencies</code> or <code class="language-text">devDependencies</code> (it won't ever update <code class="language-text">peerDependencies</code>, though).</p></li>
<li><p>If set, the <code class="language-text">--prefer-dev</code> flag will operate as a more flexible <code class="language-text">-D,--dev</code> in that it will add the package to your <code class="language-text">devDependencies</code> if it isn't already listed in either <code class="language-text">dependencies</code> or <code class="language-text">devDependencies</code>, but it will also happily upgrade your <code class="language-text">dependencies</code> if that's what you already use (whereas <code class="language-text">-D,--dev</code> would throw an exception).</p></li>
<li><p>If set, the <code class="language-text">-O,--optional</code> flag will add the package to the <code class="language-text">optionalDependencies</code> field and, in combination with the <code class="language-text">-P,--peer</code> flag, it will add the package as an optional peer dependency. If the package was already listed in your <code class="language-text">dependencies</code>, it will be upgraded to <code class="language-text">optionalDependencies</code>. If the package was already listed in your <code class="language-text">peerDependencies</code>, in combination with the <code class="language-text">-P,--peer</code> flag, it will be upgraded to an optional peer dependency: <code class="language-text">"peerDependenciesMeta": { 
"&lt;package&gt;": { "optional": true } }</code></p></li>
<li><p>If the added package doesn't specify a range at all its <code class="language-text">latest</code> tag will be resolved and the returned version will be used to generate a new semver range (using the <code class="language-text">^</code> modifier by default unless otherwise configured via the <code class="language-text">defaultSemverRangePrefix</code> configuration, or the <code class="language-text">~</code> modifier if <code class="language-text">-T,--tilde</code> is specified, or no modifier at all if <code class="language-text">-E,--exact</code> is specified). Two exceptions to this rule: the first one is that if the package is a workspace then its local version will be used, and the second one is that if you use <code class="language-text">-P,--peer</code> the default range will be <code class="language-text">*</code> and won't be resolved at all.</p></li>
<li><p>If the added package specifies a range (such as <code class="language-text">^1.0.0</code>, <code class="language-text">latest</code>, or <code class="language-text">rc</code>), Yarn will add this range as-is in the resulting package.json entry (in particular, tags such as <code class="language-text">rc</code> will be encoded as-is rather than being converted into a semver range).</p></li>
</ul>
<p>If the <code class="language-text">--cached</code> option is used, Yarn will preferably reuse the highest version already used somewhere within the project, even if through a transitive dependency.</p>
<p>If the <code class="language-text">-i,--interactive</code> option is used (or if the <code class="language-text">preferInteractive</code> settings is toggled on) the command will first try to check whether other workspaces in the project use the specified package and, if so, will offer to reuse them.</p>
<p>If the <code class="language-text">--mode=&lt;mode&gt;</code> option is set, Yarn will change which artifacts are generated. The modes currently supported are:</p>
<ul>
<li><p><code class="language-text">skip-build</code> will not run the build scripts at all. Note that this is different from setting <code class="language-text">enableScripts</code> to false because the later will disable build scripts, and thus affect the content of the artifacts generated on disk, whereas the former will just disable the build step - but not the scripts themselves, which just won't run.</p></li>
<li><p><code class="language-text">update-lockfile</code> will skip the link step altogether, and only fetch packages that are missing from the lockfile (or that have no associated checksums). This mode is typically used by tools like Renovate or Dependabot to keep a lockfile up-to-date without incurring the full install cost.</p></li>
</ul>
<p>For a compilation of all the supported protocols, please consult the dedicated page from our website: <a href="../features/protocols.html">https://yarnpkg.com/features/protocols</a>.</p>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016&ndash;present Yarn Contributors<br>Licensed under the BSD License.<br>
    <a href="https://yarnpkg.com/cli/add" class="_attribution-link">https://yarnpkg.com/cli/add</a>
  </p>
</div>
