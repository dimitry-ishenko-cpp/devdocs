<h1>PnPify</h1>

<div class="css-elchao exirf770">
<div class="toc"><ul>
<li><a href="#motivation">Motivation</a></li>
<li><a href="#pnpify">PnPify</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#caveat">Caveat</a></li>
<li><a href="#ide-support">IDE Support</a></li>
</ul></div>
<h2 id="motivation">
Motivation</h2>
<p>Plug'n'Play is, by design, compatible with all projects that only make use of the <code class="language-text">require</code> API - whether it's <code class="language-text">require</code>, <code class="language-text">require.resolve</code>, or <code class="language-text">createRequireFromPath</code>. However, some rare projects prefer to reimplement the Node resolution themselves and as such aren't compatible by default with our environment (unless they integrate their resolvers with the <a href="pnpapi.html">PnP API</a>).</p>
<h2 id="pnpify">
PnPify</h2>
<p>PnPify is a tool designed to work around these compatibility issues. It's not perfect - it brings its own set of caveats and doesn't allow you to leverage all the features that PnP has to offer - but it's often good enough to unblock you until better solutions are implemented.</p>
<p>How it works is simple: when a non-PnP-compliant project tries to access the <code class="language-text">node_modules</code> directories (for example through <code class="language-text">readdir</code> or <code class="language-text">readFile</code>), PnPify intercepts those calls and converts them into calls to the PnP API. Then, based on the result, it simulates the existence of a virtual <code class="language-text">node_modules</code> folder that the underlying tool will then consume - still unaware that the files are extracted from a virtual filesystem.</p>
<h2 id="usage">
Usage</h2>
<ol><li>Add PnPify to your dependencies:</li></ol>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> @yarnpkg/pnpify</code></pre></div>
<ol start="2"><li>Use pnpify to run the incompatible tool:</li></ol>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token function">yarn</span> pnpify tsc</code></pre></div>
<p>More details about the run command can be found on its <a href="../pnpify/cli/run.html">dedicated page</a>.</p>
<h2 id="caveat">
Caveat</h2>
<ul>
<li><p>Due to how PnPify emulates the <code class="language-text">node_modules</code> directory, some problems are to be expected, especially with tools that watch directories inside <code class="language-text">node_modules</code>.</p></li>
<li><p>PnPify isn't designed to be a long-term solution; its purpose is purely to help projects during their transition to the stricter Plug'n'Play module resolution scheme. Relying on PnPify doesn't allow you to take full advantage of everything Plug'n'Play has to offer, in particular perfect flattening and boundary checks.</p></li>
</ul>
<h2 id="ide-support">
IDE Support</h2>
<p>When using Plug'n'Play installs with your favorite text editors you will probably want to keep using your extensions, like ESLint or Prettier. To do so, you may need to use <code class="language-text">yarn sdks</code>. For more information, consult the detailed documentation in the <a href="../getting-started/editor-sdks.html">Editor SDKs</a> section.</p>
</div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016&ndash;present Yarn Contributors<br>Licensed under the BSD License.<br>
    <a href="https://yarnpkg.com/advanced/pnpify" class="_attribution-link">https://yarnpkg.com/advanced/pnpify</a>
  </p>
</div>
