<p class="_links"><a href="../dart-io/dart-io-library.html" class="_links-link">dart:io</a></p> <h1>HttpClientRequest class  </h1>  <p>HTTP request for a client connection.</p> <p>To set up a request, set the headers using the headers property provided in this class and write the data to the body of the request. <code>HttpClientRequest</code> is an <a href="iosink-class.html">IOSink</a>. Use the methods from IOSink, such as <code>writeCharCode()</code>, to write the body of the HTTP request. When one of the IOSink methods is used for the first time, the request header is sent. Calling any methods that change the header after it is sent throws an exception.</p> <p>When writing string data through the <a href="iosink-class.html">IOSink</a> the encoding used is determined from the "charset" parameter of the "Content-Type" header.</p> <pre class="language-dart" data-language="dart">var client = HttpClient();
HttpClientRequest request = await client.get('localhost', 80, '/file.txt');
request.headers.contentType =
    ContentType('application', 'json', charset: 'utf-8');
request.write('text contentüëçüéØ'); // Strings written will be UTF-8 encoded.</pre> <p>If no charset is provided the default of ISO-8859-1 (Latin 1) is used.</p> <pre class="language-dart" data-language="dart">var client = HttpClient();
HttpClientRequest request = await client.get('localhost', 80, '/file.txt');
request.headers.add(HttpHeaders.contentTypeHeader, "text/plain");
request.write('bl√•b√¶rgr√∏d'); // Strings written will be ISO-8859-1 encoded</pre> <p>An exception is thrown if you use an unsupported encoding and the <code>write()</code> method being used takes a string parameter.</p>   <dl class="dl-horizontal"> <dt>Implemented types</dt> <dd> <ul class="comma-separated clazz-relationships"> <li><a href="iosink-class.html">IOSink</a></li> </ul> </dd> </dl>   <h2 id="constructors">Constructors</h2> <dl class="constructor-summary-list"> <dt id="HttpClientRequest"> <a href="httpclientrequest/httpclientrequest">HttpClientRequest</a>() </dt>  </dl>   <h2 id="instance-properties">Properties</h2> <dl> <dt id="bufferOutput"> <a href="httpclientrequest/bufferoutput">bufferOutput</a> ‚Üî <a href="../dart-core/bool-class.html">bool</a> <div class="features">read / write</div>
</dt> <dd> Gets or sets if the <a href="httpclientrequest-class">HttpClientRequest</a> should buffer output.  </dd> <dt id="connectionInfo"> <a href="httpclientrequest/connectioninfo">connectionInfo</a> ‚Üí <a href="httpconnectioninfo-class">HttpConnectionInfo</a>? <div class="features">read-only</div>
</dt> <dd> Gets information about the client connection.  </dd> <dt id="contentLength"> <a href="httpclientrequest/contentlength">contentLength</a> ‚Üî <a href="../dart-core/int-class.html">int</a> <div class="features">read / write</div>
</dt> <dd> Gets and sets the content length of the request.  </dd> <dt id="cookies"> <a href="httpclientrequest/cookies">cookies</a> ‚Üí <a href="../dart-core/list-class.html">List</a>&lt;<wbr><a href="cookie-class.html">Cookie</a>&gt;</wbr> <div class="features">read-only</div>
</dt> <dd> Cookies to present to the server (in the 'cookie' header).  </dd> <dt id="done"> <a href="httpclientrequest/done">done</a> ‚Üí <a href="../dart-async/future-class.html">Future</a>&lt;<wbr><a href="httpclientresponse-class">HttpClientResponse</a>&gt;</wbr> <div class="features">read-only, override</div>
</dt> <dd> A <code>HttpClientResponse</code> future that will complete once the response is available.  </dd> <dt id="encoding"> <a href="iosink/encoding.html">encoding</a> ‚Üî <a href="../dart-convert/encoding-class.html">Encoding</a> <div class="features">read / write, inherited</div>
</dt> <dd class="inherited"> The <a href="../dart-convert/encoding-class.html">Encoding</a> used when writing strings.  </dd> <dt id="followRedirects"> <a href="httpclientrequest/followredirects">followRedirects</a> ‚Üî <a href="../dart-core/bool-class.html">bool</a> <div class="features">read / write</div>
</dt> <dd> Whether to follow redirects automatically.  </dd> <dt id="hashCode"> <a href="../dart-core/object/hashcode.html">hashCode</a> ‚Üí <a href="../dart-core/int-class.html">int</a> <div class="features">read-only, inherited</div>
</dt> <dd class="inherited"> The hash code for this object.  </dd> <dt id="headers"> <a href="httpclientrequest/headers">headers</a> ‚Üí <a href="httpheaders-class">HttpHeaders</a> <div class="features">read-only</div>
</dt> <dd> Returns the client request headers.  </dd> <dt id="maxRedirects"> <a href="httpclientrequest/maxredirects">maxRedirects</a> ‚Üî <a href="../dart-core/int-class.html">int</a> <div class="features">read / write</div>
</dt> <dd> Set this property to the maximum number of redirects to follow when <a href="httpclientrequest/followredirects">followRedirects</a> is <code>true</code>. If this number is exceeded an error event will be added with a <a href="redirectexception-class.html">RedirectException</a>.  </dd> <dt id="method"> <a href="httpclientrequest/method">method</a> ‚Üí <a href="../dart-core/string-class.html">String</a> <div class="features">read-only</div>
</dt> <dd> The method of the request.  </dd> <dt id="persistentConnection"> <a href="httpclientrequest/persistentconnection">persistentConnection</a> ‚Üî <a href="../dart-core/bool-class.html">bool</a> <div class="features">read / write</div>
</dt> <dd> The requested persistent connection state.  </dd> <dt id="runtimeType"> <a href="../dart-core/object/runtimetype.html">runtimeType</a> ‚Üí <a href="../dart-core/type-class.html">Type</a> <div class="features">read-only, inherited</div>
</dt> <dd class="inherited"> A representation of the runtime type of the object.  </dd> <dt id="uri"> <a href="httpclientrequest/uri">uri</a> ‚Üí <a href="../dart-core/uri-class.html">Uri</a> <div class="features">read-only</div>
</dt> <dd> The uri of the request.  </dd> </dl>   <h2 id="instance-methods">Methods</h2> <dl> <dt id="abort"> <a href="httpclientrequest/abort">abort</a>(<wbr>[<a href="../dart-core/object-class.html">Object</a>? exception, <a href="../dart-core/stacktrace-class.html">StackTrace</a>? stackTrace]) ‚Üí void </wbr> <div class="features">@Since("2.10")</div>
</dt> <dd> Aborts the client connection.  </dd> <dt id="add"> <a href="iosink/add.html">add</a>(<wbr><a href="../dart-core/list-class.html">List</a>&lt;<wbr><a href="../dart-core/int-class.html">int</a>&gt;</wbr> data) ‚Üí void </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Adds byte <code>data</code> to the target consumer, ignoring <a href="iosink/encoding.html">encoding</a>.  </dd> <dt id="addError"> <a href="iosink/adderror.html">addError</a>(<wbr><a href="../dart-core/object-class.html">Object</a> error, [<a href="../dart-core/stacktrace-class.html">StackTrace</a>? stackTrace]) ‚Üí void </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Passes the error to the target consumer as an error event.  </dd> <dt id="addStream"> <a href="iosink/addstream.html">addStream</a>(<wbr><a href="../dart-async/stream-class.html">Stream</a>&lt;<wbr><a href="../dart-core/list-class.html">List</a>&lt;<wbr><a href="../dart-core/int-class.html">int</a>&gt;</wbr>&gt;</wbr> stream) ‚Üí <a href="../dart-async/future-class.html">Future</a> </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Adds all elements of the given <code>stream</code>.  </dd> <dt id="close"> <a href="httpclientrequest/close">close</a>(<wbr>) ‚Üí <a href="../dart-async/future-class.html">Future</a>&lt;<wbr><a href="httpclientresponse-class">HttpClientResponse</a>&gt;</wbr> </wbr> <div class="features">override</div>
</dt> <dd> Close the request for input. Returns the value of <a href="httpclientrequest/done">done</a>.  </dd> <dt id="flush"> <a href="iosink/flush.html">flush</a>(<wbr>) ‚Üí <a href="../dart-async/future-class.html">Future</a> </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Returns a <a href="../dart-async/future-class.html">Future</a> that completes once all buffered data is accepted by the underlying <a href="../dart-async/streamconsumer-class.html">StreamConsumer</a>.  </dd> <dt id="noSuchMethod"> <a href="../dart-core/object/nosuchmethod.html">noSuchMethod</a>(<wbr><a href="../dart-core/invocation-class.html">Invocation</a> invocation) ‚Üí dynamic </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Invoked when a non-existent method or property is accessed.  </dd> <dt id="toString"> <a href="../dart-core/object/tostring.html">toString</a>(<wbr>) ‚Üí <a href="../dart-core/string-class.html">String</a> </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> A string representation of this object.  </dd> <dt id="write"> <a href="iosink/write.html">write</a>(<wbr><a href="../dart-core/object-class.html">Object</a>? object) ‚Üí void </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Converts <code>object</code> to a String by invoking <a href="../dart-core/object/tostring.html">Object.toString</a> and <a href="iosink/add.html">add</a>s the encoding of the result to the target consumer.  </dd> <dt id="writeAll"> <a href="iosink/writeall.html">writeAll</a>(<wbr><a href="../dart-core/iterable-class.html">Iterable</a> objects, [<a href="../dart-core/string-class.html">String</a> separator = ""]) ‚Üí void </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Iterates over the given <code>objects</code> and <a href="iosink/write.html">write</a>s them in sequence.  </dd> <dt id="writeCharCode"> <a href="iosink/writecharcode.html">writeCharCode</a>(<wbr><a href="../dart-core/int-class.html">int</a> charCode) ‚Üí void </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Writes the character of <code>charCode</code>.  </dd> <dt id="writeln"> <a href="iosink/writeln.html">writeln</a>(<wbr>[<a href="../dart-core/object-class.html">Object</a>? object = ""]) ‚Üí void </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Converts <code>object</code> to a String by invoking <a href="../dart-core/object/tostring.html">Object.toString</a> and writes the result to <code>this</code>, followed by a newline.  </dd> </dl>   <h2 id="operators">Operators</h2> <dl> <dt id="operator =="> <a href="../dart-core/object/operator_equals.html">operator ==</a>(<wbr><a href="../dart-core/object-class.html">Object</a> other) ‚Üí <a href="../dart-core/bool-class.html">bool</a> </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> The equality operator.  </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012 the Dart project authors<br>Licensed under the BSD 3-Clause "New" or "Revised" License.<br>
    <a href="https://api.dart.dev/stable/2.18.5/dart-io/HttpClientRequest-class.html" class="_attribution-link">https://api.dart.dev/stable/2.18.5/dart-io/HttpClientRequest-class.html</a>
  </p>
</div>
