<p class="_links"><a href="../../dart-io/dart-io-library.html" class="_links-link">dart:io</a></p> <h1>upgrade method  </h1> <section class="multi-line-signature"> <a href="../../dart-async/future-class.html">Future</a>&lt;<wbr><a href="../websocket-class.html">WebSocket</a>&gt;</wbr> upgrade(<wbr><ol class="parameter-list">
<li>
<a href="../httprequest-class.html">HttpRequest</a> request, </li> <li>{dynamic protocolSelector(<ol class="parameter-list">
<li>
<a href="../../dart-core/list-class.html">List</a>&lt;<wbr><a href="../../dart-core/string-class.html">String</a>&gt;</wbr> protocols</li> </ol> )?, </li> <li>
<a href="../compressionoptions-class.html">CompressionOptions</a> compression = CompressionOptions.compressionDefault}</li> </ol>) </wbr></section>  <p>Upgrades a <a href="../httprequest-class.html">HttpRequest</a> to a <code>WebSocket</code> connection. If the request is not a valid WebSocket upgrade request an HTTP response with status code 500 will be returned. Otherwise the returned future will complete with the <code>WebSocket</code> when the upgrade process is complete.</p> <p>If <code>protocolSelector</code> is provided, <code>protocolSelector</code> will be called to select what protocol to use, if any were provided by the client. <code>protocolSelector</code> is should return either a <a href="../../dart-core/string-class.html">String</a> or a <a href="../../dart-async/future-class.html">Future</a> completing with a <a href="../../dart-core/string-class.html">String</a>. The <a href="../../dart-core/string-class.html">String</a> must exist in the list of protocols.</p> <p>If <code>compression</code> is provided, the <code>WebSocket</code> created will be configured to negotiate with the specified <a href="../compressionoptions-class.html">CompressionOptions</a>. If none is specified then the <code>WebSocket</code> will be created with the default <a href="../compressionoptions-class.html">CompressionOptions</a>.</p>   <h2 id="source">Implementation</h2> <pre class="language-dart" data-language="dart">static Future&lt;WebSocket&gt; upgrade(HttpRequest request,
    {Function(List&lt;String&gt; protocols)? protocolSelector,
    CompressionOptions compression = CompressionOptions.compressionDefault}) {
  return _WebSocketTransformerImpl._upgrade(
      request, protocolSelector, compression);
}</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012 the Dart project authors<br>Licensed under the BSD 3-Clause "New" or "Revised" License.<br>
    <a href="https://api.dart.dev/stable/2.18.5/dart-io/WebSocketTransformer/upgrade.html" class="_attribution-link">https://api.dart.dev/stable/2.18.5/dart-io/WebSocketTransformer/upgrade.html</a>
  </p>
</div>
