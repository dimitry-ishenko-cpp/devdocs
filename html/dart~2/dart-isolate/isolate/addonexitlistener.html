<p class="_links"><a href="../../dart-isolate/dart-isolate-library.html" class="_links-link">dart:isolate</a></p> <h1>addOnExitListener method  </h1> <section class="multi-line-signature"> void addOnExitListener(<wbr><ol class="parameter-list">
<li>
<a href="../sendport-class.html">SendPort</a> responsePort, </li> <li>{<a href="../../dart-core/object-class.html">Object</a>? response}</li> </ol>) </wbr></section>  <p>Requests an exit message on <code>responsePort</code> when the isolate terminates.</p> <p>The isolate will send <code>response</code> as a message on <code>responsePort</code> as the last thing before it terminates. It will run no further code after the message has been sent.</p> <p>Adding the same port more than once will only cause it to receive one exit message, using the last response value that was added, and it only needs to be removed once using <a href="removeonexitlistener.html">removeOnExitListener</a>.</p> <p>If the isolate has terminated before it can receive this request, no exit message will be sent.</p> <p>The <code>response</code> object must follow the same restrictions as enforced by <a href="../sendport/send.html">SendPort.send</a>. It is recommended to only use simple values that can be sent to all isolates, like <code>null</code>, booleans, numbers or strings.</p> <p>Since isolates run concurrently, it's possible for it to exit before the exit listener is established, and in that case no response will be sent on <code>responsePort</code>. To avoid this, either use the corresponding parameter to the spawn function, or start the isolate paused, add the listener and then resume the isolate.</p>   <h2 id="source">Implementation</h2> <pre class="language-dart" data-language="dart">/* TODO(lrn): Can we do better? Can the system recognize this message and
 * send a reply if the receiving isolate is dead?
 */
external void addOnExitListener(SendPort responsePort, {Object? response});</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012 the Dart project authors<br>Licensed under the BSD 3-Clause "New" or "Revised" License.<br>
    <a href="https://api.dart.dev/stable/2.18.5/dart-isolate/Isolate/addOnExitListener.html" class="_attribution-link">https://api.dart.dev/stable/2.18.5/dart-isolate/Isolate/addOnExitListener.html</a>
  </p>
</div>
