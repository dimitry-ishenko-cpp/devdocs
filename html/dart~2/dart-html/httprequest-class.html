<p class="_links"><a href="../dart-html/dart-html-library.html" class="_links-link">dart:html</a></p> <h1>HttpRequest class  </h1>  <p>A client-side XHR request for getting data from a URL, formally known as XMLHttpRequest.</p> <p>HttpRequest can be used to obtain data from HTTP and FTP protocols, and is useful for AJAX-style page updates.</p> <p>The simplest way to get the contents of a text file, such as a JSON-formatted file, is with <a href="httprequest/getstring">getString</a>. For example, the following code gets the contents of a JSON file and prints its length:</p> <pre class="language-dart" data-language="dart">var path = 'myData.json';
HttpRequest.getString(path).then((String fileContents) {
  print(fileContents.length);
}).catchError((error) {
  print(error.toString());
});</pre> <h2 id="fetching-data-from-other-servers">Fetching data from other servers</h2> <p>For security reasons, browsers impose restrictions on requests made by embedded apps. With the default behavior of this class, the code making the request must be served from the same origin (domain name, port, and application layer protocol) as the requested resource. In the example above, the myData.json file must be co-located with the app that uses it.</p> <h2 id="other-resources">Other resources</h2> <ul> <li>
<a href="https://dart.dev/tutorials/web/fetch-data/">Fetch data dynamically</a>, a tutorial shows how to load data from a static file or from a server.</li> <li><a href="https://dart.dev/guides/libraries/library-tour#using-http-resources-with-httprequest">Dart article on using HttpRequests</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest">JS XMLHttpRequest</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest/Using_XMLHttpRequest">Using XMLHttpRequest</a></li> </ul>   <dl class="dl-horizontal"> <dt>Inheritance</dt> <dd> <ul class="gt-separated dark clazz-relationships"> <li><a href="../dart-core/object-class.html">Object</a></li> <li><a href="eventtarget-class.html">EventTarget</a></li> <li><a href="httprequesteventtarget-class">HttpRequestEventTarget</a></li> <li>HttpRequest</li> </ul> </dd> <dt>Annotations</dt> <dd> <ul class="annotation-list clazz-relationships"> <li>@Native("XMLHttpRequest")</li> </ul> </dd> </dl>   <h2 id="constructors">Constructors</h2> <dl class="constructor-summary-list"> <dt id="HttpRequest"> <a href="httprequest/httprequest">HttpRequest</a>() <div class="constructor-modifier features">factory</div>
</dt> <dd> General constructor for any type of request (GET, POST, etc).  </dd> </dl>   <h2 id="instance-properties">Properties</h2> <dl> <dt id="hashCode"> <a href="../dart-core/object/hashcode.html">hashCode</a> → <a href="../dart-core/int-class.html">int</a> <div class="features">read-only, inherited</div>
</dt> <dd class="inherited"> The hash code for this object.  </dd> <dt id="on"> <a href="eventtarget/on.html">on</a> → <a href="events-class.html">Events</a> <div class="features">read-only, inherited</div>
</dt> <dd class="inherited"> This is an ease-of-use accessor for event streams which should only be used when an explicit accessor is not available.  </dd> <dt id="onAbort"> <a href="httprequesteventtarget/onabort">onAbort</a> → <a href="../dart-async/stream-class.html">Stream</a>&lt;<wbr><a href="progressevent-class.html">ProgressEvent</a>&gt;</wbr> <div class="features">read-only, inherited</div>
</dt> <dd class="inherited"> Stream of <code>abort</code> events handled by this <a href="httprequesteventtarget-class">HttpRequestEventTarget</a>.  </dd> <dt id="onError"> <a href="httprequesteventtarget/onerror">onError</a> → <a href="../dart-async/stream-class.html">Stream</a>&lt;<wbr><a href="progressevent-class.html">ProgressEvent</a>&gt;</wbr> <div class="features">read-only, inherited</div>
</dt> <dd class="inherited"> Stream of <code>error</code> events handled by this <a href="httprequesteventtarget-class">HttpRequestEventTarget</a>.  </dd> <dt id="onLoad"> <a href="httprequesteventtarget/onload">onLoad</a> → <a href="../dart-async/stream-class.html">Stream</a>&lt;<wbr><a href="progressevent-class.html">ProgressEvent</a>&gt;</wbr> <div class="features">read-only, inherited</div>
</dt> <dd class="inherited"> Stream of <code>load</code> events handled by this <a href="httprequesteventtarget-class">HttpRequestEventTarget</a>.  </dd> <dt id="onLoadEnd"> <a href="httprequesteventtarget/onloadend">onLoadEnd</a> → <a href="../dart-async/stream-class.html">Stream</a>&lt;<wbr><a href="progressevent-class.html">ProgressEvent</a>&gt;</wbr> <div class="features">@SupportedBrowser(SupportedBrowser.CHROME), @SupportedBrowser(SupportedBrowser.FIREFOX), @SupportedBrowser(SupportedBrowser.IE, '10'), @SupportedBrowser(SupportedBrowser.SAFARI), read-only, inherited</div>
</dt> <dd class="inherited"> Stream of <code>loadend</code> events handled by this <a href="httprequesteventtarget-class">HttpRequestEventTarget</a>.  </dd> <dt id="onLoadStart"> <a href="httprequesteventtarget/onloadstart">onLoadStart</a> → <a href="../dart-async/stream-class.html">Stream</a>&lt;<wbr><a href="progressevent-class.html">ProgressEvent</a>&gt;</wbr> <div class="features">read-only, inherited</div>
</dt> <dd class="inherited"> Stream of <code>loadstart</code> events handled by this <a href="httprequesteventtarget-class">HttpRequestEventTarget</a>.  </dd> <dt id="onProgress"> <a href="httprequesteventtarget/onprogress">onProgress</a> → <a href="../dart-async/stream-class.html">Stream</a>&lt;<wbr><a href="progressevent-class.html">ProgressEvent</a>&gt;</wbr> <div class="features">@SupportedBrowser(SupportedBrowser.CHROME), @SupportedBrowser(SupportedBrowser.FIREFOX), @SupportedBrowser(SupportedBrowser.IE, '10'), @SupportedBrowser(SupportedBrowser.SAFARI), read-only, inherited</div>
</dt> <dd class="inherited"> Stream of <code>progress</code> events handled by this <a href="httprequesteventtarget-class">HttpRequestEventTarget</a>.  </dd> <dt id="onReadyStateChange"> <a href="httprequest/onreadystatechange">onReadyStateChange</a> → <a href="../dart-async/stream-class.html">Stream</a>&lt;<wbr><a href="event-class.html">Event</a>&gt;</wbr> <div class="features">read-only</div>
</dt> <dd> Event listeners to be notified every time the <a href="httprequest-class">HttpRequest</a> object's <code>readyState</code> changes values.  </dd> <dt id="onTimeout"> <a href="httprequesteventtarget/ontimeout">onTimeout</a> → <a href="../dart-async/stream-class.html">Stream</a>&lt;<wbr><a href="progressevent-class.html">ProgressEvent</a>&gt;</wbr> <div class="features">read-only, inherited</div>
</dt> <dd class="inherited"> Stream of <code>timeout</code> events handled by this <a href="httprequesteventtarget-class">HttpRequestEventTarget</a>.  </dd> <dt id="readyState"> <a href="httprequest/readystate">readyState</a> → <a href="../dart-core/int-class.html">int</a> <div class="features">read-only</div>
</dt> <dd> Indicator of the current state of the request:  </dd> <dt id="response"> <a href="httprequest/response">response</a> → dynamic <div class="features">@SupportedBrowser(SupportedBrowser.CHROME), @SupportedBrowser(SupportedBrowser.FIREFOX), @SupportedBrowser(SupportedBrowser.IE, '10'), @SupportedBrowser(SupportedBrowser.SAFARI), read-only</div>
</dt> <dd> The data received as a reponse from the request.  </dd> <dt id="responseHeaders"> <a href="httprequest/responseheaders">responseHeaders</a> → <a href="../dart-core/map-class.html">Map</a>&lt;<wbr><a href="../dart-core/string-class.html">String</a>, <a href="../dart-core/string-class.html">String</a>&gt;</wbr> <div class="features">read-only</div>
</dt> <dd> Returns all response headers as a key-value map.  </dd> <dt id="responseText"> <a href="httprequest/responsetext">responseText</a> → <a href="../dart-core/string-class.html">String</a>? <div class="features">read-only</div>
</dt> <dd> The response in String form or empty String on failure.  </dd> <dt id="responseType"> <a href="httprequest/responsetype">responseType</a> ↔ <a href="../dart-core/string-class.html">String</a> <div class="features">read / write</div>
</dt> <dd> <a href="../dart-core/string-class.html">String</a> telling the server the desired response format.  </dd> <dt id="responseUrl"> <a href="httprequest/responseurl">responseUrl</a> → <a href="../dart-core/string-class.html">String</a>? <div class="features">@JSName('responseURL'), read-only</div>
</dt>  <dt id="responseXml"> <a href="httprequest/responsexml">responseXml</a> → <a href="document-class.html">Document</a>? <div class="features">@JSName('responseXML'), read-only</div>
</dt> <dd> The request response, or null on failure.  </dd> <dt id="runtimeType"> <a href="../dart-core/object/runtimetype.html">runtimeType</a> → <a href="../dart-core/type-class.html">Type</a> <div class="features">read-only, inherited</div>
</dt> <dd class="inherited"> A representation of the runtime type of the object.  </dd> <dt id="status"> <a href="httprequest/status">status</a> → <a href="../dart-core/int-class.html">int</a>? <div class="features">read-only</div>
</dt> <dd> The HTTP result code from the request (200, 404, etc). See also: <a href="http://en.wikipedia.org/wiki/List_of_HTTP_status_codes">HTTP Status Codes</a>  </dd> <dt id="statusText"> <a href="httprequest/statustext">statusText</a> → <a href="../dart-core/string-class.html">String</a>? <div class="features">read-only</div>
</dt> <dd> The request response string (such as "OK"). See also: <a href="http://en.wikipedia.org/wiki/List_of_HTTP_status_codes">HTTP Status Codes</a>  </dd> <dt id="timeout"> <a href="httprequest/timeout">timeout</a> ↔ <a href="../dart-core/int-class.html">int</a>? <div class="features">read / write</div>
</dt> <dd> Length of time in milliseconds before a request is automatically terminated.  </dd> <dt id="upload"> <a href="httprequest/upload">upload</a> → <a href="httprequestupload-class">HttpRequestUpload</a> <div class="features">@Unstable(), read-only</div>
</dt> <dd> <a href="eventtarget-class.html">EventTarget</a> that can hold listeners to track the progress of the request.  </dd> <dt id="withCredentials"> <a href="httprequest/withcredentials">withCredentials</a> ↔ <a href="../dart-core/bool-class.html">bool</a>? <div class="features">read / write</div>
</dt> <dd> True if cross-site requests should use credentials such as cookies or authorization headers; false otherwise.  </dd> </dl>   <h2 id="instance-methods">Methods</h2> <dl> <dt id="abort"> <a href="httprequest/abort">abort</a>(<wbr>) → void </wbr> </dt> <dd> Stop the current request. </dd> <dt id="addEventListener"> <a href="eventtarget/addeventlistener.html">addEventListener</a>(<wbr><a href="../dart-core/string-class.html">String</a> type, <a href="eventlistener.html">EventListener</a>? listener, [<a href="../dart-core/bool-class.html">bool</a>? useCapture]) → void </wbr> <div class="features">inherited</div>
</dt>  <dt id="dispatchEvent"> <a href="eventtarget/dispatchevent.html">dispatchEvent</a>(<wbr><a href="event-class.html">Event</a> event) → <a href="../dart-core/bool-class.html">bool</a> </wbr> <div class="features">inherited</div>
</dt>  <dt id="getAllResponseHeaders"> <a href="httprequest/getallresponseheaders">getAllResponseHeaders</a>(<wbr>) → <a href="../dart-core/string-class.html">String</a> </wbr> <div class="features">@Unstable()</div>
</dt> <dd> Retrieve all the response headers from a request.  </dd> <dt id="getResponseHeader"> <a href="httprequest/getresponseheader">getResponseHeader</a>(<wbr><a href="../dart-core/string-class.html">String</a> name) → <a href="../dart-core/string-class.html">String</a>? </wbr> <div class="features">@Unstable()</div>
</dt> <dd> Return the response header named <code>header</code>, or null if not found.  </dd> <dt id="noSuchMethod"> <a href="../dart-core/object/nosuchmethod.html">noSuchMethod</a>(<wbr><a href="../dart-core/invocation-class.html">Invocation</a> invocation) → dynamic </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> Invoked when a non-existent method or property is accessed.  </dd> <dt id="open"> <a href="httprequest/open">open</a>(<wbr><a href="../dart-core/string-class.html">String</a> method, <a href="../dart-core/string-class.html">String</a> url, {<a href="../dart-core/bool-class.html">bool</a>? async, <a href="../dart-core/string-class.html">String</a>? user, <a href="../dart-core/string-class.html">String</a>? password}) → void </wbr> </dt> <dd> Specify the desired <code>url</code>, and <code>method</code> to use in making the request. </dd> <dt id="overrideMimeType"> <a href="httprequest/overridemimetype">overrideMimeType</a>(<wbr><a href="../dart-core/string-class.html">String</a> mime) → void </wbr> <div class="features">@SupportedBrowser(SupportedBrowser.CHROME), @SupportedBrowser(SupportedBrowser.FIREFOX), @SupportedBrowser(SupportedBrowser.SAFARI)</div>
</dt> <dd> Specify a particular MIME type (such as <code>text/xml</code>) desired for the response.  </dd> <dt id="removeEventListener"> <a href="eventtarget/removeeventlistener.html">removeEventListener</a>(<wbr><a href="../dart-core/string-class.html">String</a> type, <a href="eventlistener.html">EventListener</a>? listener, [<a href="../dart-core/bool-class.html">bool</a>? useCapture]) → void </wbr> <div class="features">inherited</div>
</dt>  <dt id="send"> <a href="httprequest/send">send</a>(<wbr>[dynamic body_OR_data]) → void </wbr> </dt> <dd> Send the request with any given <code>data</code>. </dd> <dt id="setRequestHeader"> <a href="httprequest/setrequestheader">setRequestHeader</a>(<wbr><a href="../dart-core/string-class.html">String</a> name, <a href="../dart-core/string-class.html">String</a> value) → void </wbr> </dt> <dd> Sets the value of an HTTP request header. </dd> <dt id="toString"> <a href="../dart-core/object/tostring.html">toString</a>(<wbr>) → <a href="../dart-core/string-class.html">String</a> </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> A string representation of this object.  </dd> </dl>   <h2 id="operators">Operators</h2> <dl> <dt id="operator =="> <a href="../dart-core/object/operator_equals.html">operator ==</a>(<wbr><a href="../dart-core/object-class.html">Object</a> other) → <a href="../dart-core/bool-class.html">bool</a> </wbr> <div class="features">inherited</div>
</dt> <dd class="inherited"> The equality operator.  </dd> </dl>   <h2 id="static-properties">Static Properties</h2> <dl> <dt id="supportsCrossOrigin"> <a href="httprequest/supportscrossorigin">supportsCrossOrigin</a> → <a href="../dart-core/bool-class.html">bool</a> <div class="features">read-only</div>
</dt> <dd> Checks to see if the current platform supports making cross origin requests.  </dd> <dt id="supportsLoadEndEvent"> <a href="httprequest/supportsloadendevent">supportsLoadEndEvent</a> → <a href="../dart-core/bool-class.html">bool</a> <div class="features">read-only</div>
</dt> <dd> Checks to see if the LoadEnd event is supported on the current platform.  </dd> <dt id="supportsOverrideMimeType"> <a href="httprequest/supportsoverridemimetype">supportsOverrideMimeType</a> → <a href="../dart-core/bool-class.html">bool</a> <div class="features">read-only</div>
</dt> <dd> Checks to see if the overrideMimeType method is supported on the current platform.  </dd> <dt id="supportsProgressEvent"> <a href="httprequest/supportsprogressevent">supportsProgressEvent</a> → <a href="../dart-core/bool-class.html">bool</a> <div class="features">read-only</div>
</dt> <dd> Checks to see if the Progress event is supported on the current platform.  </dd> </dl>   <h2 id="static-methods">Static Methods</h2> <dl> <dt id="getString"> <a href="httprequest/getstring">getString</a>(<wbr><a href="../dart-core/string-class.html">String</a> url, {<a href="../dart-core/bool-class.html">bool</a>? withCredentials, void onProgress(<a href="progressevent-class.html">ProgressEvent</a> e)?}) → <a href="../dart-async/future-class.html">Future</a>&lt;<wbr><a href="../dart-core/string-class.html">String</a>&gt;</wbr> </wbr> </dt> <dd> Creates a GET request for the specified <code>url</code>. </dd> <dt id="postFormData"> <a href="httprequest/postformdata">postFormData</a>(<wbr><a href="../dart-core/string-class.html">String</a> url, <a href="../dart-core/map-class.html">Map</a>&lt;<wbr><a href="../dart-core/string-class.html">String</a>, <a href="../dart-core/string-class.html">String</a>&gt;</wbr> data, {<a href="../dart-core/bool-class.html">bool</a>? withCredentials, <a href="../dart-core/string-class.html">String</a>? responseType, <a href="../dart-core/map-class.html">Map</a>&lt;<wbr><a href="../dart-core/string-class.html">String</a>, <a href="../dart-core/string-class.html">String</a>&gt;</wbr>? requestHeaders, void onProgress(<a href="progressevent-class.html">ProgressEvent</a> e)?}) → <a href="../dart-async/future-class.html">Future</a>&lt;<wbr><a href="httprequest-class">HttpRequest</a>&gt;</wbr> </wbr> </dt> <dd> Makes a server POST request with the specified data encoded as form data. </dd> <dt id="request"> <a href="httprequest/request">request</a>(<wbr><a href="../dart-core/string-class.html">String</a> url, {<a href="../dart-core/string-class.html">String</a>? method, <a href="../dart-core/bool-class.html">bool</a>? withCredentials, <a href="../dart-core/string-class.html">String</a>? responseType, <a href="../dart-core/string-class.html">String</a>? mimeType, <a href="../dart-core/map-class.html">Map</a>&lt;<wbr><a href="../dart-core/string-class.html">String</a>, <a href="../dart-core/string-class.html">String</a>&gt;</wbr>? requestHeaders, dynamic sendData, void onProgress(<a href="progressevent-class.html">ProgressEvent</a> e)?}) → <a href="../dart-async/future-class.html">Future</a>&lt;<wbr><a href="httprequest-class">HttpRequest</a>&gt;</wbr> </wbr> </dt> <dd> Creates and sends a URL request for the specified <code>url</code>. </dd> <dt id="requestCrossOrigin"> <a href="httprequest/requestcrossorigin">requestCrossOrigin</a>(<wbr><a href="../dart-core/string-class.html">String</a> url, {<a href="../dart-core/string-class.html">String</a>? method, <a href="../dart-core/string-class.html">String</a>? sendData}) → <a href="../dart-async/future-class.html">Future</a>&lt;<wbr><a href="../dart-core/string-class.html">String</a>&gt;</wbr> </wbr> </dt> <dd> Makes a cross-origin request to the specified URL. </dd> </dl>   <h2 id="constants">Constants</h2> <dl> <dt id="DONE" class="constant"> <a href="httprequest/done-constant">DONE</a> → const <a href="../dart-core/int-class.html">int</a> </dt> <dd> <div> <code>4</code> </div> </dd> <dt id="HEADERS_RECEIVED" class="constant"> <a href="httprequest/headers_received-constant">HEADERS_RECEIVED</a> → const <a href="../dart-core/int-class.html">int</a> </dt> <dd> <div> <code>2</code> </div> </dd> <dt id="LOADING" class="constant"> <a href="httprequest/loading-constant">LOADING</a> → const <a href="../dart-core/int-class.html">int</a> </dt> <dd> <div> <code>3</code> </div> </dd> <dt id="OPENED" class="constant"> <a href="httprequest/opened-constant">OPENED</a> → const <a href="../dart-core/int-class.html">int</a> </dt> <dd> <div> <code>1</code> </div> </dd> <dt id="readyStateChangeEvent" class="constant"> <a href="httprequest/readystatechangeevent-constant">readyStateChangeEvent</a> → const <a href="eventstreamprovider-class.html">EventStreamProvider</a>&lt;<wbr><a href="event-class.html">Event</a>&gt;</wbr> </dt> <dd> Static factory designed to expose <code>readystatechange</code> events to event handlers that are not necessarily instances of <a href="httprequest-class">HttpRequest</a>. <div> <code>const EventStreamProvider&lt;Event&gt;('readystatechange')</code> </div> </dd> <dt id="UNSENT" class="constant"> <a href="httprequest/unsent-constant">UNSENT</a> → const <a href="../dart-core/int-class.html">int</a> </dt> <dd> <div> <code>0</code> </div> </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2012 the Dart project authors<br>Licensed under the BSD 3-Clause "New" or "Revised" License.<br>
    <a href="https://api.dart.dev/stable/2.18.5/dart-html/HttpRequest-class.html" class="_attribution-link">https://api.dart.dev/stable/2.18.5/dart-html/HttpRequest-class.html</a>
  </p>
</div>
