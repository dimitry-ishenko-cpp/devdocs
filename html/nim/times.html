<h1 class="title">std/times</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1" target="_blank">Edit</a>  
<p>The <code><span class="Identifier">times</span></code> module contains routines and types for dealing with time using the <a href="https://en.wikipedia.org/wiki/Proleptic_Gregorian_calendar">proleptic Gregorian calendar</a>. It's also available for the <a href="backends.html#backends-the-javascript-target">JavaScript target</a>.</p> <p>Although the <code><span class="Identifier">times</span></code> module supports nanosecond time resolution, the resolution used by <code><span class="Identifier">getTime</span><span class="Punctuation">(</span><span class="Punctuation">)</span></code> depends on the platform and backend (JS is limited to millisecond precision).</p> <h2 id="examples">Examples</h2>

<pre class="listing" data-language="nim">import std/[times, os]
# Simple benchmarking
let time = cpuTime()
sleep(100) # Replace this with something to be timed
echo "Time taken: ", cpuTime() - time

# Current date &amp; time
let now1 = now()     # Current timestamp as a DateTime in local time
let now2 = now().utc # Current timestamp as a DateTime in UTC
let now3 = getTime() # Current timestamp as a Time

# Arithmetic using Duration
echo "One hour from now      : ", now() + initDuration(hours = 1)
# Arithmetic using TimeInterval
echo "One year from now      : ", now() + 1.years
echo "One month from now     : ", now() + 1.months</pre> <h2 id="parsing-and-formatting-dates">Parsing and Formatting Dates</h2>
<p>The <code><span class="Identifier">DateTime</span></code> type can be parsed and formatted using the different <code><span class="Identifier">parse</span></code> and <code><span class="Identifier">format</span></code> procedures.</p> 
<pre class="listing" data-language="nim">let dt = parse("2000-01-01", "yyyy-MM-dd")
echo dt.format("yyyy-MM-dd")</pre> <p>The different format patterns that are supported are documented below.</p> <table>
<tr>
<th>Pattern</th>
<th>Description</th>
<th>Example</th>
</tr> <tr>
<td><code><span class="Identifier">d</span></code></td>
<td>Numeric value representing the day of the month, it will be either one or two digits long.</td>
<td><p><code><span class="DecNumber">1</span><span class="Operator">/</span><span class="DecNumber">04</span><span class="Operator">/</span><span class="DecNumber">2012</span> <span class="Operator">-&gt;</span> <span class="DecNumber">1</span></code><br><code><span class="DecNumber">21</span><span class="Operator">/</span><span class="DecNumber">04</span><span class="Operator">/</span><span class="DecNumber">2012</span> <span class="Operator">-&gt;</span> <span class="DecNumber">21</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">dd</span></code></td>
<td>Same as above, but is always two digits. </td>
<td><p><code><span class="DecNumber">1</span><span class="Operator">/</span><span class="DecNumber">04</span><span class="Operator">/</span><span class="DecNumber">2012</span> <span class="Operator">-&gt;</span> <span class="DecNumber">01</span></code><br><code><span class="DecNumber">21</span><span class="Operator">/</span><span class="DecNumber">04</span><span class="Operator">/</span><span class="DecNumber">2012</span> <span class="Operator">-&gt;</span> <span class="DecNumber">21</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">ddd</span></code></td>
<td>Three letter string which indicates the day of the week. </td>
<td><p><code><span class="Identifier">Saturday</span> <span class="Operator">-&gt;</span> <span class="Identifier">Sat</span></code><br><code><span class="Identifier">Monday</span> <span class="Operator">-&gt;</span> <span class="Identifier">Mon</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">dddd</span></code></td>
<td>Full string for the day of the week. </td>
<td><p><code><span class="Identifier">Saturday</span> <span class="Operator">-&gt;</span> <span class="Identifier">Saturday</span></code><br><code><span class="Identifier">Monday</span> <span class="Operator">-&gt;</span> <span class="Identifier">Monday</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">GG</span></code></td>
<td>The last two digits of the Iso Week-Year</td>
<td><p><code><span class="DecNumber">30</span><span class="Operator">/</span><span class="DecNumber">12</span><span class="Operator">/</span><span class="DecNumber">2012</span> <span class="Operator">-&gt;</span> <span class="DecNumber">13</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">GGGG</span></code></td>
<td>The Iso week-calendar year padded to four digits</td>
<td><p><code><span class="DecNumber">30</span><span class="Operator">/</span><span class="DecNumber">12</span><span class="Operator">/</span><span class="DecNumber">2012</span> <span class="Operator">-&gt;</span> <span class="DecNumber">2013</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">h</span></code></td>
<td>The hours in one digit if possible. Ranging from 1-12. </td>
<td><p><code><span class="DecNumber">5</span><span class="Identifier">pm</span> <span class="Operator">-&gt;</span> <span class="DecNumber">5</span></code><br><code><span class="DecNumber">2</span><span class="Identifier">am</span> <span class="Operator">-&gt;</span> <span class="DecNumber">2</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">hh</span></code></td>
<td>The hours in two digits always. If the hour is one digit, 0 is prepended. </td>
<td><p><code><span class="DecNumber">5</span><span class="Identifier">pm</span> <span class="Operator">-&gt;</span> <span class="DecNumber">05</span></code><br><code><span class="DecNumber">11</span><span class="Identifier">am</span> <span class="Operator">-&gt;</span> <span class="DecNumber">11</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">H</span></code></td>
<td>The hours in one digit if possible, ranging from 0-23. </td>
<td><p><code><span class="DecNumber">5</span><span class="Identifier">pm</span> <span class="Operator">-&gt;</span> <span class="DecNumber">17</span></code><br><code><span class="DecNumber">2</span><span class="Identifier">am</span> <span class="Operator">-&gt;</span> <span class="DecNumber">2</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">HH</span></code></td>
<td>The hours in two digits always. 0 is prepended if the hour is one digit. </td>
<td><p><code><span class="DecNumber">5</span><span class="Identifier">pm</span> <span class="Operator">-&gt;</span> <span class="DecNumber">17</span></code><br><code><span class="DecNumber">2</span><span class="Identifier">am</span> <span class="Operator">-&gt;</span> <span class="DecNumber">02</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">m</span></code></td>
<td>The minutes in one digit if possible. </td>
<td><p><code><span class="DecNumber">5</span><span class="Punctuation">:</span><span class="DecNumber">30</span> <span class="Operator">-&gt;</span> <span class="DecNumber">30</span></code><br><code><span class="DecNumber">2</span><span class="Punctuation">:</span><span class="DecNumber">01</span> <span class="Operator">-&gt;</span> <span class="DecNumber">1</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">mm</span></code></td>
<td>Same as above but always two digits, 0 is prepended if the minute is one digit. </td>
<td><p><code><span class="DecNumber">5</span><span class="Punctuation">:</span><span class="DecNumber">30</span> <span class="Operator">-&gt;</span> <span class="DecNumber">30</span></code><br><code><span class="DecNumber">2</span><span class="Punctuation">:</span><span class="DecNumber">01</span> <span class="Operator">-&gt;</span> <span class="DecNumber">01</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">M</span></code></td>
<td>The month in one digit if possible. </td>
<td><p><code><span class="Identifier">September</span> <span class="Operator">-&gt;</span> <span class="DecNumber">9</span></code><br><code><span class="Identifier">December</span> <span class="Operator">-&gt;</span> <span class="DecNumber">12</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">MM</span></code></td>
<td>The month in two digits always. 0 is prepended if the month value is one digit. </td>
<td><p><code><span class="Identifier">September</span> <span class="Operator">-&gt;</span> <span class="DecNumber">09</span></code><br><code><span class="Identifier">December</span> <span class="Operator">-&gt;</span> <span class="DecNumber">12</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">MMM</span></code></td>
<td>Abbreviated three-letter form of the month. </td>
<td><p><code><span class="Identifier">September</span> <span class="Operator">-&gt;</span> <span class="Identifier">Sep</span></code><br><code><span class="Identifier">December</span> <span class="Operator">-&gt;</span> <span class="Identifier">Dec</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">MMMM</span></code></td>
<td>Full month string, properly capitalized.</td>
<td><p><code><span class="Identifier">September</span> <span class="Operator">-&gt;</span> <span class="Identifier">September</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">s</span></code></td>
<td>Seconds as one digit if possible.</td>
<td><p><code><span class="DecNumber">00</span><span class="Punctuation">:</span><span class="DecNumber">00</span><span class="Punctuation">:</span><span class="DecNumber">06</span> <span class="Operator">-&gt;</span> <span class="DecNumber">6</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">ss</span></code></td>
<td>Same as above but always two digits. 0 is prepended if the second is one digit.</td>
<td><p><code><span class="DecNumber">00</span><span class="Punctuation">:</span><span class="DecNumber">00</span><span class="Punctuation">:</span><span class="DecNumber">06</span> <span class="Operator">-&gt;</span> <span class="DecNumber">06</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">t</span></code></td>
<td>
<code><span class="Identifier">A</span></code> when time is in the AM. <code><span class="Identifier">P</span></code> when time is in the PM. </td>
<td><p><code><span class="DecNumber">5</span><span class="Identifier">pm</span> <span class="Operator">-&gt;</span> <span class="Identifier">P</span></code><br><code><span class="DecNumber">2</span><span class="Identifier">am</span> <span class="Operator">-&gt;</span> <span class="Identifier">A</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">tt</span></code></td>
<td>Same as above, but <code><span class="Identifier">AM</span></code> and <code><span class="Identifier">PM</span></code> instead of <code><span class="Identifier">A</span></code> and <code><span class="Identifier">P</span></code> respectively. </td>
<td><p><code><span class="DecNumber">5</span><span class="Identifier">pm</span> <span class="Operator">-&gt;</span> <span class="Identifier">PM</span></code><br><code><span class="DecNumber">2</span><span class="Identifier">am</span> <span class="Operator">-&gt;</span> <span class="Identifier">AM</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">yy</span></code></td>
<td>The last two digits of the year. When parsing, the current century is assumed.</td>
<td><p><code><span class="DecNumber">2012</span> <span class="Identifier">AD</span> <span class="Operator">-&gt;</span> <span class="DecNumber">12</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">yyyy</span></code></td>
<td>The year, padded to at least four digits. Is always positive, even when the year is BC. When the year is more than four digits, '+' is prepended. </td>
<td><p><code><span class="DecNumber">2012</span> <span class="Identifier">AD</span> <span class="Operator">-&gt;</span> <span class="DecNumber">2012</span></code><br><code><span class="DecNumber">24</span> <span class="Identifier">AD</span> <span class="Operator">-&gt;</span> <span class="DecNumber">0024</span></code><br><code><span class="DecNumber">24</span> <span class="Identifier">BC</span> <span class="Operator">-&gt;</span> <span class="DecNumber">00024</span></code><br><code><span class="DecNumber">12345</span> <span class="Identifier">AD</span> <span class="Operator">-&gt;</span> <span class="Operator">+</span><span class="DecNumber">12345</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">YYYY</span></code></td>
<td>The year without any padding. Is always positive, even when the year is BC.</td>
<td><p><code><span class="DecNumber">2012</span> <span class="Identifier">AD</span> <span class="Operator">-&gt;</span> <span class="DecNumber">2012</span></code><br><code><span class="DecNumber">24</span> <span class="Identifier">AD</span> <span class="Operator">-&gt;</span> <span class="DecNumber">24</span></code><br><code><span class="DecNumber">24</span> <span class="Identifier">BC</span> <span class="Operator">-&gt;</span> <span class="DecNumber">24</span></code><br><code><span class="DecNumber">12345</span> <span class="Identifier">AD</span> <span class="Operator">-&gt;</span> <span class="DecNumber">12345</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">uuuu</span></code></td>
<td>The year, padded to at least four digits. Will be negative when the year is BC. When the year is more than four digits, '+' is prepended unless the year is BC.</td>
<td><p><code><span class="DecNumber">2012</span> <span class="Identifier">AD</span> <span class="Operator">-&gt;</span> <span class="DecNumber">2012</span></code><br><code><span class="DecNumber">24</span> <span class="Identifier">AD</span> <span class="Operator">-&gt;</span> <span class="DecNumber">0024</span></code><br><code><span class="DecNumber">24</span> <span class="Identifier">BC</span> <span class="Operator">-&gt;</span> <span class="Operator">-</span><span class="DecNumber">0023</span></code><br><code><span class="DecNumber">12345</span> <span class="Identifier">AD</span> <span class="Operator">-&gt;</span> <span class="Operator">+</span><span class="DecNumber">12345</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">UUUU</span></code></td>
<td>The year without any padding. Will be negative when the year is BC.</td>
<td><p><code><span class="DecNumber">2012</span> <span class="Identifier">AD</span> <span class="Operator">-&gt;</span> <span class="DecNumber">2012</span></code><br><code><span class="DecNumber">24</span> <span class="Identifier">AD</span> <span class="Operator">-&gt;</span> <span class="DecNumber">24</span></code><br><code><span class="DecNumber">24</span> <span class="Identifier">BC</span> <span class="Operator">-&gt;</span> <span class="Operator">-</span><span class="DecNumber">23</span></code><br><code><span class="DecNumber">12345</span> <span class="Identifier">AD</span> <span class="Operator">-&gt;</span> <span class="DecNumber">12345</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">V</span></code></td>
<td>The Iso Week-Number as one or two digits </td>
<td><p><code><span class="DecNumber">3</span><span class="Operator">/</span><span class="DecNumber">2</span><span class="Operator">/</span><span class="DecNumber">2012</span> <span class="Operator">-&gt;</span> <span class="DecNumber">5</span></code><br><code><span class="DecNumber">1</span><span class="Operator">/</span><span class="DecNumber">4</span><span class="Operator">/</span><span class="DecNumber">2012</span> <span class="Operator">-&gt;</span> <span class="DecNumber">13</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">VV</span></code></td>
<td>The Iso Week-Number as two digits always. 0 is prepended if one digit. </td>
<td><p><code><span class="DecNumber">3</span><span class="Operator">/</span><span class="DecNumber">2</span><span class="Operator">/</span><span class="DecNumber">2012</span> <span class="Operator">-&gt;</span> <span class="DecNumber">05</span></code><br><code><span class="DecNumber">1</span><span class="Operator">/</span><span class="DecNumber">4</span><span class="Operator">/</span><span class="DecNumber">2012</span> <span class="Operator">-&gt;</span> <span class="DecNumber">13</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">z</span></code></td>
<td>Displays the timezone offset from UTC. </td>
<td><p><code><span class="Identifier">UTC</span><span class="Operator">+</span><span class="DecNumber">7</span> <span class="Operator">-&gt;</span> <span class="Operator">+</span><span class="DecNumber">7</span></code><br><code><span class="Identifier">UTC</span><span class="Operator">-</span><span class="DecNumber">5</span> <span class="Operator">-&gt;</span> <span class="Operator">-</span><span class="DecNumber">5</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">zz</span></code></td>
<td>Same as above but with leading 0. </td>
<td><p><code><span class="Identifier">UTC</span><span class="Operator">+</span><span class="DecNumber">7</span> <span class="Operator">-&gt;</span> <span class="Operator">+</span><span class="DecNumber">07</span></code><br><code><span class="Identifier">UTC</span><span class="Operator">-</span><span class="DecNumber">5</span> <span class="Operator">-&gt;</span> <span class="Operator">-</span><span class="DecNumber">05</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">zzz</span></code></td>
<td>Same as above but with <code><span class="Punctuation">:</span><span class="Identifier">mm</span></code> where <em>mm</em> represents minutes. </td>
<td><p><code><span class="Identifier">UTC</span><span class="Operator">+</span><span class="DecNumber">7</span> <span class="Operator">-&gt;</span> <span class="Operator">+</span><span class="DecNumber">07</span><span class="Punctuation">:</span><span class="DecNumber">00</span></code><br><code><span class="Identifier">UTC</span><span class="Operator">-</span><span class="DecNumber">5</span> <span class="Operator">-&gt;</span> <span class="Operator">-</span><span class="DecNumber">05</span><span class="Punctuation">:</span><span class="DecNumber">00</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">ZZZ</span></code></td>
<td>Same as above but with <code><span class="Identifier">mm</span></code> where <em>mm</em> represents minutes. </td>
<td><p><code><span class="Identifier">UTC</span><span class="Operator">+</span><span class="DecNumber">7</span> <span class="Operator">-&gt;</span> <span class="Operator">+</span><span class="DecNumber">0700</span></code><br><code><span class="Identifier">UTC</span><span class="Operator">-</span><span class="DecNumber">5</span> <span class="Operator">-&gt;</span> <span class="Operator">-</span><span class="DecNumber">0500</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">zzzz</span></code></td>
<td>Same as above but with <code><span class="Punctuation">:</span><span class="Identifier">ss</span></code> where <em>ss</em> represents seconds. </td>
<td><p><code><span class="Identifier">UTC</span><span class="Operator">+</span><span class="DecNumber">7</span> <span class="Operator">-&gt;</span> <span class="Operator">+</span><span class="DecNumber">07</span><span class="Punctuation">:</span><span class="DecNumber">00</span><span class="Punctuation">:</span><span class="DecNumber">00</span></code><br><code><span class="Identifier">UTC</span><span class="Operator">-</span><span class="DecNumber">5</span> <span class="Operator">-&gt;</span> <span class="Operator">-</span><span class="DecNumber">05</span><span class="Punctuation">:</span><span class="DecNumber">00</span><span class="Punctuation">:</span><span class="DecNumber">00</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">ZZZZ</span></code></td>
<td>Same as above but with <code><span class="Identifier">ss</span></code> where <em>ss</em> represents seconds. </td>
<td><p><code><span class="Identifier">UTC</span><span class="Operator">+</span><span class="DecNumber">7</span> <span class="Operator">-&gt;</span> <span class="Operator">+</span><span class="DecNumber">070000</span></code><br><code><span class="Identifier">UTC</span><span class="Operator">-</span><span class="DecNumber">5</span> <span class="Operator">-&gt;</span> <span class="Operator">-</span><span class="DecNumber">050000</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">g</span></code></td>
<td>Era: AD or BC </td>
<td><p><code><span class="DecNumber">300</span> <span class="Identifier">AD</span> <span class="Operator">-&gt;</span> <span class="Identifier">AD</span></code><br><code><span class="DecNumber">300</span> <span class="Identifier">BC</span> <span class="Operator">-&gt;</span> <span class="Identifier">BC</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">fff</span></code></td>
<td>Milliseconds display</td>
<td><p><code><span class="DecNumber">1000000</span> <span class="Identifier">nanoseconds</span> <span class="Operator">-&gt;</span> <span class="DecNumber">1</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">ffffff</span></code></td>
<td>Microseconds display</td>
<td><p><code><span class="DecNumber">1000000</span> <span class="Identifier">nanoseconds</span> <span class="Operator">-&gt;</span> <span class="DecNumber">1000</span></code><br></p></td>
</tr> <tr>
<td><code><span class="Identifier">fffffffff</span></code></td>
<td>Nanoseconds display</td>
<td><p><code><span class="DecNumber">1000000</span> <span class="Identifier">nanoseconds</span> <span class="Operator">-&gt;</span> <span class="DecNumber">1000000</span></code><br></p></td>
</tr> </table>
<p>Other strings can be inserted by putting them in <code><span class="CharLit">''</span></code>. For example <code><span class="Identifier">hh</span><span class="CharLit">'-&gt;'</span><span class="Identifier">mm</span></code> will give <code><span class="DecNumber">01</span><span class="Operator">-&gt;</span><span class="DecNumber">56</span></code>. In addition to spaces, the following characters can be inserted without quoting them: <code><span class="Punctuation">:</span></code> <code><span class="Operator">-</span></code> <code><span class="Punctuation">,</span></code> <code><span class="Operator">.</span></code> <code><span class="Punctuation">(</span></code> <code><span class="Punctuation">)</span></code> <code><span class="Operator">/</span></code> <code><span class="Punctuation">[</span></code> <code><span class="Punctuation">]</span></code>. A literal <code><span class="CharLit">'</span></code> can be specified with <code><span class="CharLit">''</span></code>.</p> <p>However you don't need to necessarily separate format patterns, as an unambiguous format string like <code><span class="Identifier">yyyyMMddhhmmss</span></code> is also valid (although only for years in the range 1..9999).</p> <h2 id="duration-vs-timeinterval">Duration vs TimeInterval</h2>
<p>The <code><span class="Identifier">times</span></code> module exports two similar types that are both used to represent some amount of time: <a href="#Duration">Duration</a> and <a href="#TimeInterval">TimeInterval</a>. This section explains how they differ and when one should be preferred over the other (short answer: use <code><span class="Identifier">Duration</span></code> unless support for months and years is needed).</p> <h3 id="duration-vs-timeinterval-duration">Duration</h3>
<p>A <code><span class="Identifier">Duration</span></code> represents a duration of time stored as seconds and nanoseconds. A <code><span class="Identifier">Duration</span></code> is always fully normalized, so <code><span class="Identifier">initDuration</span><span class="Punctuation">(</span><span class="Identifier">hours</span> <span class="Operator">=</span> <span class="DecNumber">1</span><span class="Punctuation">)</span></code> and <code><span class="Identifier">initDuration</span><span class="Punctuation">(</span><span class="Identifier">minutes</span> <span class="Operator">=</span> <span class="DecNumber">60</span><span class="Punctuation">)</span></code> are equivalent.</p> <p>Arithmetic with a <code><span class="Identifier">Duration</span></code> is very fast, especially when used with the <code><span class="Identifier">Time</span></code> type, since it only involves basic arithmetic. Because <code><span class="Identifier">Duration</span></code> is more performant and easier to understand it should generally preferred.</p> <h3 id="duration-vs-timeinterval-timeinterval">TimeInterval</h3>
<p>A <code><span class="Identifier">TimeInterval</span></code> represents an amount of time expressed in calendar units, for example "1 year and 2 days". Since some units cannot be normalized (the length of a year is different for leap years for example), the <code><span class="Identifier">TimeInterval</span></code> type uses separate fields for every unit. The <code><span class="Identifier">TimeInterval</span></code>'s returned from this module generally don't normalize <strong>anything</strong>, so even units that could be normalized (like seconds, milliseconds and so on) are left untouched.</p> <p>Arithmetic with a <code><span class="Identifier">TimeInterval</span></code> can be very slow, because it requires timezone information.</p> <p>Since it's slower and more complex, the <code><span class="Identifier">TimeInterval</span></code> type should be avoided unless the program explicitly needs the features it offers that <code><span class="Identifier">Duration</span></code> doesn't have.</p> <h3 id="duration-vs-timeinterval-how-long-is-a-dayqmark">How long is a day?</h3>
<p>It should be especially noted that the handling of days differs between <code><span class="Identifier">TimeInterval</span></code> and <code><span class="Identifier">Duration</span></code>. The <code><span class="Identifier">Duration</span></code> type always treats a day as exactly 86400 seconds. For <code><span class="Identifier">TimeInterval</span></code>, it's more complex.</p> <p>As an example, consider the amount of time between these two timestamps, both in the same timezone:</p> <ul class="simple">
<li>2018-03-25T12:00+02:00</li> <li>2018-03-26T12:00+01:00</li> </ul> <p>If only the date &amp; time is considered, it appears that exactly one day has passed. However, the UTC offsets are different, which means that the UTC offset was changed somewhere in between. This happens twice each year for timezones that use daylight savings time. Because of this change, the amount of time that has passed is actually 25 hours.</p> <p>The <code><span class="Identifier">TimeInterval</span></code> type uses calendar units, and will say that exactly one day has passed. The <code><span class="Identifier">Duration</span></code> type on the other hand normalizes everything to seconds, and will therefore say that 90000 seconds has passed, which is the same as 25 hours.</p> <h2 id="see-also">See also</h2>
<ul class="simple">
<li><a href="monotimes.html">monotimes module</a></li> </ul>  <h2 id="6">Imports</h2> <dl> <a href="strutils.html">strutils</a>, <a href="math.html">math</a>, <a href="options.html">options</a>, <a href="since.html">since</a>, <a href="winlean.html">winlean</a>, <a href="time_t.html">time_t</a> </dl>   <h2 id="7">Types</h2> <dl> <div id="DateTime"> <dt><pre>DateTime = object of RootObj</pre></dt> <dd> Represents a time in different parts. Although this type can represent leap seconds, they are generally not supported in this module. They are not ignored, but the <code><span class="Identifier">DateTime</span></code>'s returned by procedures in this module will never have a leap second. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L314" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L314" target="_blank">Edit</a> </dd> </div> <div id="DateTimeLocale"> <dt><pre data-language="nim">DateTimeLocale = object
  MMM*: array[mJan .. mDec, string]
  MMMM*: array[mJan .. mDec, string]
  ddd*: array[dMon .. dSun, string]
  dddd*: array[dMon .. dSun, string]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1547" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1547" target="_blank">Edit</a> </dd> </div> <div id="Duration"> <dt><pre>Duration = object</pre></dt> <dd> <p>Represents a fixed duration of time, meaning a duration that has constant length independent of the context.</p> <p>To create a new <code><span class="Identifier">Duration</span></code>, use <a href="#initDuration,int64,int64,int64,int64,int64,int64,int64,int64">initDuration</a>. Instead of trying to access the private attributes, use <a href="#inSeconds,Duration">inSeconds</a> for converting to seconds and <a href="#inNanoseconds,Duration">inNanoseconds</a> for converting to nanoseconds.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L332" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L332" target="_blank">Edit</a> </dd> </div> <div id="DurationParts"> <dt><pre data-language="nim">DurationParts = array[FixedTimeUnit, int64]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L396" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L396" target="_blank">Edit</a> </dd> </div> <div id="FixedTimeUnit"> <dt><pre data-language="nim">FixedTimeUnit = range[Nanoseconds .. Weeks]</pre></dt> <dd> Subrange of <code><span class="Identifier">TimeUnit</span></code> that only includes units of fixed duration. These are the units that can be represented by a <code><span class="Identifier">Duration</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L347" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L347" target="_blank">Edit</a> </dd> </div> <div id="HourRange"> <dt><pre data-language="nim">HourRange = range[0 .. 23]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L295" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L295" target="_blank">Edit</a> </dd> </div> <div id="IsoWeekRange"> <dt><pre data-language="nim">IsoWeekRange = range[1 .. 53]</pre></dt> <dd> An ISO 8601 calendar week number. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L303" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L303" target="_blank">Edit</a> </dd> </div> <div id="IsoYear"> <dt><pre>IsoYear = distinct int</pre></dt> <dd> An ISO 8601 calendar year number.<div class="admonition admonition-warning">
<span class="admonition-warning-text"><b>Warning:</b></span> The ISO week-based year can correspond to the following or previous year from 29 December to January 3.</div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L305" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L305" target="_blank">Edit</a> </dd> </div> <div id="MinuteRange"> <dt><pre data-language="nim">MinuteRange = range[0 .. 59]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L296" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L296" target="_blank">Edit</a> </dd> </div> <div id="Month"> <dt><pre data-language="nim">Month = enum
  mJan = (1, "January"), mFeb = "February", mMar = "March", mApr = "April",
  mMay = "May", mJun = "June", mJul = "July", mAug = "August",
  mSep = "September", mOct = "October", mNov = "November", mDec = "December"</pre></dt> <dd> Represents a month. Note that the enum starts at <code><span class="DecNumber">1</span></code>, so <code><span class="Identifier">ord</span><span class="Punctuation">(</span><span class="Identifier">month</span><span class="Punctuation">)</span></code> will give the month number in the range <code><span class="FloatNumber">1.</span><span class="Operator">.</span><span class="DecNumber">12</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L268" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L268" target="_blank">Edit</a> </dd> </div> <div id="MonthdayRange"> <dt><pre data-language="nim">MonthdayRange = range[1 .. 31]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L294" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L294" target="_blank">Edit</a> </dd> </div> <div id="NanosecondRange"> <dt><pre data-language="nim">NanosecondRange = range[0 .. 999999999]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L301" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L301" target="_blank">Edit</a> </dd> </div> <div id="SecondRange"> <dt><pre data-language="nim">SecondRange = range[0 .. 60]</pre></dt> <dd> Includes the value 60 to allow for a leap second. Note however that the <code><span class="Identifier">second</span></code> of a <code><span class="Identifier">DateTime</span></code> will never be a leap second. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L297" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L297" target="_blank">Edit</a> </dd> </div> <div id="Time"> <dt><pre>Time = object</pre></dt> <dd> Represents a point in time. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L310" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L310" target="_blank">Edit</a> </dd> </div> <div id="TimeFormat"> <dt><pre data-language="nim">TimeFormat = object
  ## \
  ## Contains the patterns encoded as bytes.
  ## Literal values are encoded in a special way.
  ## They start with `Lit.byte`, then the length of the literal, then the
  ## raw char values of the literal. For example, the literal `foo` would
  ## be encoded as `@[Lit.byte, 3.byte, 'f'.byte, 'o'.byte, 'o'.byte]`.</pre></dt> <dd> <p>Represents a format for parsing and printing time types.</p> <p>To create a new <code><span class="Identifier">TimeFormat</span></code> use <a href="#initTimeFormat,string">initTimeFormat proc</a>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1605" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1605" target="_blank">Edit</a> </dd> </div> <div id="TimeFormatParseError"> <dt><pre>TimeFormatParseError = object of ValueError</pre></dt> <dd> Raised when parsing a <code><span class="Identifier">TimeFormat</span></code> string fails. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1621" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1621" target="_blank">Edit</a> </dd> </div> <div id="TimeInterval"> <dt><pre data-language="nim">TimeInterval = object
  nanoseconds*: int          ## The number of nanoseconds
  microseconds*: int         ## The number of microseconds
  milliseconds*: int         ## The number of milliseconds
  seconds*: int              ## The number of seconds
  minutes*: int              ## The number of minutes
  hours*: int                ## The number of hours
  days*: int                 ## The number of days
  weeks*: int                ## The number of weeks
  months*: int               ## The number of months
  years*: int                ## The number of years</pre></dt> <dd> <p> Represents a non-fixed duration of time. Can be used to add and subtract non-fixed time units from a <a href="#DateTime">DateTime</a> or <a href="#Time">Time</a>.</p> <p>Create a new <code><span class="Identifier">TimeInterval</span></code> with <a href="#initTimeInterval,int,int,int,int,int,int,int,int,int,int">initTimeInterval proc</a>.</p> <p>Note that <code><span class="Identifier">TimeInterval</span></code> doesn't represent a fixed duration of time, since the duration of some units depend on the context (e.g a year can be either 365 or 366 days long). The non-fixed time units are years, months, days and week.</p> <p>Note that <code><span class="Identifier">TimeInterval</span></code>'s returned from the <code><span class="Identifier">times</span></code> module are never normalized. If you want to normalize a time unit, <a href="#Duration">Duration</a> should be used instead.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L351" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L351" target="_blank">Edit</a> </dd> </div> <div id="TimeIntervalParts"> <dt><pre data-language="nim">TimeIntervalParts = array[TimeUnit, int]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L397" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L397" target="_blank">Edit</a> </dd> </div> <div id="TimeParseError"> <dt><pre>TimeParseError = object of ValueError</pre></dt> <dd> Raised when parsing input using a <code><span class="Identifier">TimeFormat</span></code> fails. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1618" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1618" target="_blank">Edit</a> </dd> </div> <div id="TimeUnit"> <dt><pre data-language="nim">TimeUnit = enum
  Nanoseconds, Microseconds, Milliseconds, Seconds, Minutes, Hours, Days, Weeks,
  Months, Years</pre></dt> <dd> Different units of time. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L343" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L343" target="_blank">Edit</a> </dd> </div> <div id="Timezone"> <dt><pre>Timezone = ref object</pre></dt> <dd> Timezone interface for supporting <a href="#DateTime">DateTime</a>s of arbitrary timezones. The <code><span class="Identifier">times</span></code> module only supplies implementations for the system's local time and UTC. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L378" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L378" target="_blank">Edit</a> </dd> </div> <div id="WeekDay"> <dt><pre data-language="nim">WeekDay = enum
  dMon = "Monday", dTue = "Tuesday", dWed = "Wednesday", dThu = "Thursday",
  dFri = "Friday", dSat = "Saturday", dSun = "Sunday"</pre></dt> <dd> Represents a weekday. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L284" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L284" target="_blank">Edit</a> </dd> </div> <div id="YeardayRange"> <dt><pre data-language="nim">YeardayRange = range[0 .. 365]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L300" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L300" target="_blank">Edit</a> </dd> </div> <div id="ZonedTime"> <dt><pre data-language="nim">ZonedTime = object
  time*: Time                ## The point in time being represented.
  utcOffset*: int            ## The offset in seconds west of UTC,
                             ## including any offset due to DST.
  isDst*: bool               ## Determines whether DST is in effect.</pre></dt> <dd> Represents a point in time with an associated UTC offset and DST flag. This type is only used for implementing timezones. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L388" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L388" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="10">Consts</h2> <dl> <div id="DefaultLocale"> <dt><pre data-language="nim">DefaultLocale = (MMM: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug",
                       "Sep", "Oct", "Nov", "Dec"], MMMM: ["January",
    "February", "March", "April", "May", "June", "July", "August", "September",
    "October", "November", "December"],
                 ddd: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"], dddd: [
    "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"])</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1625" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1625" target="_blank">Edit</a> </dd> </div> <div id="DurationZero"> <dt><pre data-language="nim">DurationZero = (seconds: 0, nanosecond: 0)</pre></dt> <dd> <p> Zero value for durations. Useful for comparisons.</p> 
<pre class="listing" data-language="nim">doAssert initDuration(seconds = 1) &gt; DurationZero
doAssert initDuration(seconds = 0) == DurationZero</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L655" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L655" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="$-procs-all"> <div id="$,DateTime"> <dt><pre data-language="nim">proc `$`(dt: DateTime): string {....tags: [], raises: [], gcsafe, forbids: [].}</pre></dt> <dd> Converts a <code><span class="Identifier">DateTime</span></code> object to a string representation. It uses the format <code><span class="Identifier">yyyy</span><span class="Operator">-</span><span class="Identifier">MM</span><span class="Operator">-</span><span class="Identifier">dd</span><span class="CharLit">'T'</span><span class="Identifier">HH</span><span class="Punctuation">:</span><span class="Identifier">mm</span><span class="Punctuation">:</span><span class="Identifier">sszzz</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dt = dateTime(2000, mJan, 01, 12, 00, 00, 00, utc())
doAssert $dt == "2000-01-01T12:00:00Z"
doAssert $default(DateTime) == "Uninitialized DateTime"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2328" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2328" target="_blank">Edit</a> </dd> </div> <div id="$,Duration"> <dt><pre data-language="nim">proc `$`(dur: Duration): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Human friendly string representation of a <code><span class="Identifier">Duration</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert $initDuration(seconds = 2) == "2 seconds"
doAssert $initDuration(weeks = 1, days = 2) == "1 week and 2 days"
doAssert $initDuration(hours = 1, minutes = 2, seconds = 3) ==
  "1 hour, 2 minutes, and 3 seconds"
doAssert $initDuration(milliseconds = -1500) ==
  "-1 second and -500 milliseconds"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L794" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L794" target="_blank">Edit</a> </dd> </div> <div id="$,TimeFormat"> <dt><pre data-language="nim">proc `$`(f: TimeFormat): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Returns the format string that was used to construct <code><span class="Identifier">f</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let f = initTimeFormat("yyyy-MM-dd")
doAssert $f == "yyyy-MM-dd"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1637" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1637" target="_blank">Edit</a> </dd> </div> <div id="$,IsoYear"> <dt><pre data-language="nim">proc `$`(p: IsoYear): string {.borrow, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L562" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L562" target="_blank">Edit</a> </dd> </div> <div id="$,TimeInterval"> <dt><pre data-language="nim">proc `$`(ti: TimeInterval): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Get string representation of <code><span class="Identifier">TimeInterval</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert $initTimeInterval(years = 1, nanoseconds = 123) ==
  "1 year and 123 nanoseconds"
doAssert $initTimeInterval() == "0 nanoseconds"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2563" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2563" target="_blank">Edit</a> </dd> </div> <div id="$,Time"> <dt><pre data-language="nim">proc `$`(time: Time): string {....tags: [], raises: [], gcsafe, forbids: [].}</pre></dt> <dd> Converts a <code><span class="Identifier">Time</span></code> value to a string representation. It will use the local time zone and use the format <code><span class="Identifier">yyyy</span><span class="Operator">-</span><span class="Identifier">MM</span><span class="Operator">-</span><span class="Identifier">dd</span><span class="CharLit">'T'</span><span class="Identifier">HH</span><span class="Punctuation">:</span><span class="Identifier">mm</span><span class="Punctuation">:</span><span class="Identifier">sszzz</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dt = dateTime(1970, mJan, 01, 00, 00, 00, 00, local())
let tm = dt.toTime()
doAssert $tm == "1970-01-01T00:00:00" &amp; format(dt, "zzz")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2340" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2340" target="_blank">Edit</a> </dd> </div> <div id="$,Timezone"> <dt><pre data-language="nim">proc `$`(zone: Timezone): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Returns the name of the timezone. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1247" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1247" target="_blank">Edit</a> </dd> </div> </div> <div id="*-procs-all"> <div id="*,Duration,int64"> <dt><pre data-language="nim">proc `*`(a: Duration; b: int64): Duration {....gcsafe, noSideEffect, ...gcsafe,
    extern: "ntMulDuration", raises: [], tags: [], forbids: [].}</pre></dt> <dd> Multiply a duration by some scalar. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert initDuration(seconds = 1) * 5 == initDuration(seconds = 5)
doAssert initDuration(minutes = 45) * 3 == initDuration(hours = 2, minutes = 15)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L864" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L864" target="_blank">Edit</a> </dd> </div> <div id="*,int64,Duration"> <dt><pre data-language="nim">proc `*`(a: int64; b: Duration): Duration {....gcsafe, noSideEffect, ...gcsafe,
    extern: "ntMulInt64Duration", raises: [], tags: [], forbids: [].}</pre></dt> <dd> Multiply a duration by some scalar. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert 5 * initDuration(seconds = 1) == initDuration(seconds = 5)
doAssert 3 * initDuration(minutes = 45) == initDuration(hours = 2, minutes = 15)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L856" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L856" target="_blank">Edit</a> </dd> </div> </div> <div id="*=-procs-all"> <div id="*=,Duration,int"> <dt><pre data-language="nim">proc `*=`(a: var Duration; b: int) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L878" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L878" target="_blank">Edit</a> </dd> </div> </div> <div id="+-procs-all"> <div id="+,Duration,Duration"> <dt><pre data-language="nim">proc `+`(a, b: Duration): Duration {....gcsafe, noSideEffect, ...gcsafe,
                                     extern: "ntAddDuration", raises: [],
                                     tags: [], forbids: [].}</pre></dt> <dd> Add two durations together. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert initDuration(seconds = 1) + initDuration(days = 1) ==
  initDuration(seconds = 1, days = 1)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L813" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L813" target="_blank">Edit</a> </dd> </div> <div id="+,Time,Duration"> <dt><pre data-language="nim">proc `+`(a: Time; b: Duration): Time {....gcsafe, noSideEffect, ...gcsafe,
                                       extern: "ntAddTime", raises: [],
                                       tags: [], forbids: [].}</pre></dt> <dd> Add a duration of time to a <code><span class="Identifier">Time</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert (fromUnix(0) + initDuration(seconds = 1)) == fromUnix(1)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1008" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1008" target="_blank">Edit</a> </dd> </div> <div id="+,DateTime,Duration"> <dt><pre data-language="nim">proc `+`(dt: DateTime; dur: Duration): DateTime {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dt = dateTime(2017, mMar, 30, 00, 00, 00, 00, utc())
let dur = initDuration(hours = 5)
doAssert $(dt + dur) == "2017-03-30T05:00:00Z"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1455" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1455" target="_blank">Edit</a> </dd> </div> <div id="+,DateTime,TimeInterval"> <dt><pre data-language="nim">proc `+`(dt: DateTime; interval: TimeInterval): DateTime {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <p>Adds <code><span class="Identifier">interval</span></code> to <code><span class="Identifier">dt</span></code>. Components from <code><span class="Identifier">interval</span></code> are added in the order of their size, i.e. first the <code><span class="Identifier">years</span></code> component, then the <code><span class="Identifier">months</span></code> component and so on. The returned <code><span class="Identifier">DateTime</span></code> will have the same timezone as the input.</p> <p>Note that when adding months, monthday overflow is allowed. This means that if the resulting month doesn't have enough days it, the month will be incremented and the monthday will be set to the number of days overflowed. So adding one month to <code><span class="DecNumber">31</span> <span class="Identifier">October</span></code> will result in <code><span class="DecNumber">31</span> <span class="Identifier">November</span></code>, which will overflow and result in <code><span class="DecNumber">1</span> <span class="Identifier">December</span></code>.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dt = dateTime(2017, mMar, 30, 00, 00, 00, 00, utc())
doAssert $(dt + 1.months) == "2017-04-30T00:00:00Z"
# This is correct and happens due to monthday overflow.
doAssert $(dt - 1.months) == "2017-03-02T00:00:00Z"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2673" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2673" target="_blank">Edit</a> </dd> </div> <div id="+,TimeInterval,TimeInterval"> <dt><pre data-language="nim">proc `+`(ti1, ti2: TimeInterval): TimeInterval {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Adds two <code><span class="Identifier">TimeInterval</span></code> objects together. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2380" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2380" target="_blank">Edit</a> </dd> </div> <div id="+,Time,TimeInterval"> <dt><pre data-language="nim">proc `+`(time: Time; interval: TimeInterval): Time {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Adds <code><span class="Identifier">interval</span></code> to <code><span class="Identifier">time</span></code>. If <code><span class="Identifier">interval</span></code> contains any years, months, weeks or days the operation is performed in the local timezone. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let tm = fromUnix(0)
doAssert tm + 5.seconds == fromUnix(5)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2713" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2713" target="_blank">Edit</a> </dd> </div> </div> <div id="+=-procs-all"> <div id="+=,DateTime,Duration"> <dt><pre data-language="nim">proc `+=`(a: var DateTime; b: Duration) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1495" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1495" target="_blank">Edit</a> </dd> </div> <div id="+=,DateTime,TimeInterval"> <dt><pre data-language="nim">proc `+=`(a: var DateTime; b: TimeInterval) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2739" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2739" target="_blank">Edit</a> </dd> </div> <div id="+=,TimeInterval,TimeInterval"> <dt><pre data-language="nim">proc `+=`(a: var TimeInterval; b: TimeInterval) {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2423" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2423" target="_blank">Edit</a> </dd> </div> <div id="+=,Duration,Duration"> <dt><pre data-language="nim">proc `+=`(d1: var Duration; d2: Duration) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L872" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L872" target="_blank">Edit</a> </dd> </div> <div id="+=,Time,Duration"> <dt><pre data-language="nim">proc `+=`(t: var Time; b: Duration) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1034" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1034" target="_blank">Edit</a> </dd> </div> <div id="+=,Time,TimeInterval"> <dt><pre data-language="nim">proc `+=`(t: var Time; b: TimeInterval) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2745" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2745" target="_blank">Edit</a> </dd> </div> </div> <div id="--procs-all"> <div id="-,Duration,Duration"> <dt><pre data-language="nim">proc `-`(a, b: Duration): Duration {....gcsafe, noSideEffect, ...gcsafe,
                                     extern: "ntSubDuration", raises: [],
                                     tags: [], forbids: [].}</pre></dt> <dd> Subtract a duration from another. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert initDuration(seconds = 1, days = 1) - initDuration(seconds = 1) ==
  initDuration(days = 1)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L820" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L820" target="_blank">Edit</a> </dd> </div> <div id="-,Time,Time"> <dt><pre data-language="nim">proc `-`(a, b: Time): Duration {....gcsafe, noSideEffect, ...gcsafe,
                                 extern: "ntDiffTime", raises: [], tags: [],
                                 forbids: [].}</pre></dt> <dd> Computes the duration between two points in time. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert initTime(1000, 100) - initTime(500, 20) ==
  initDuration(minutes = 8, seconds = 20, nanoseconds = 80)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1001" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1001" target="_blank">Edit</a> </dd> </div> <div id="-,Duration"> <dt><pre data-language="nim">proc `-`(a: Duration): Duration {....gcsafe, noSideEffect, ...gcsafe,
                                  extern: "ntReverseDuration", raises: [],
                                  tags: [], forbids: [].}</pre></dt> <dd> Reverse a duration. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert -initDuration(seconds = 1) == initDuration(seconds = -1)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L827" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L827" target="_blank">Edit</a> </dd> </div> <div id="-,Time,Duration"> <dt><pre data-language="nim">proc `-`(a: Time; b: Duration): Time {....gcsafe, noSideEffect, ...gcsafe,
                                       extern: "ntSubTime", raises: [],
                                       tags: [], forbids: [].}</pre></dt> <dd> Subtracts a duration of time from a <code><span class="Identifier">Time</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert (fromUnix(0) - initDuration(seconds = 1)) == fromUnix(-1)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1014" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1014" target="_blank">Edit</a> </dd> </div> <div id="-,DateTime,DateTime"> <dt><pre data-language="nim">proc `-`(dt1, dt2: DateTime): Duration {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Compute the duration between <code><span class="Identifier">dt1</span></code> and <code><span class="Identifier">dt2</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dt1 = dateTime(2017, mMar, 30, 00, 00, 00, 00, utc())
let dt2 = dateTime(2017, mMar, 25, 00, 00, 00, 00, utc())

doAssert dt1 - dt2 == initDuration(days = 5)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1471" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1471" target="_blank">Edit</a> </dd> </div> <div id="-,DateTime,Duration"> <dt><pre data-language="nim">proc `-`(dt: DateTime; dur: Duration): DateTime {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dt = dateTime(2017, mMar, 30, 00, 00, 00, 00, utc())
let dur = initDuration(days = 5)
doAssert $(dt - dur) == "2017-03-25T00:00:00Z"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1463" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1463" target="_blank">Edit</a> </dd> </div> <div id="-,DateTime,TimeInterval"> <dt><pre data-language="nim">proc `-`(dt: DateTime; interval: TimeInterval): DateTime {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Subtract <code><span class="Identifier">interval</span></code> from <code><span class="Identifier">dt</span></code>. Components from <code><span class="Identifier">interval</span></code> are subtracted in the order of their size, i.e. first the <code><span class="Identifier">years</span></code> component, then the <code><span class="Identifier">months</span></code> component and so on. The returned <code><span class="Identifier">DateTime</span></code> will have the same timezone as the input. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dt = dateTime(2017, mMar, 30, 00, 00, 00, 00, utc())
doAssert $(dt - 5.days) == "2017-03-25T00:00:00Z"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2702" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2702" target="_blank">Edit</a> </dd> </div> <div id="-,TimeInterval,TimeInterval"> <dt><pre data-language="nim">proc `-`(ti1, ti2: TimeInterval): TimeInterval {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <p>Subtracts TimeInterval <code><span class="Identifier">ti1</span></code> from <code><span class="Identifier">ti2</span></code>.</p> <p>Time components are subtracted one-by-one, see output:</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let ti1 = initTimeInterval(hours = 24)
let ti2 = initTimeInterval(hours = 4)
doAssert (ti1 - ti2) == initTimeInterval(hours = 20)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2412" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2412" target="_blank">Edit</a> </dd> </div> <div id="-,TimeInterval"> <dt><pre data-language="nim">proc `-`(ti: TimeInterval): TimeInterval {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Reverses a time interval <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let day = -initTimeInterval(hours = 24)
doAssert day.hours == -24</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2393" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2393" target="_blank">Edit</a> </dd> </div> <div id="-,Time,TimeInterval"> <dt><pre data-language="nim">proc `-`(time: Time; interval: TimeInterval): Time {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Subtracts <code><span class="Identifier">interval</span></code> from Time <code><span class="Identifier">time</span></code>. If <code><span class="Identifier">interval</span></code> contains any years, months, weeks or days the operation is performed in the local timezone. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let tm = fromUnix(5)
doAssert tm - 5.seconds == fromUnix(0)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2726" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2726" target="_blank">Edit</a> </dd> </div> </div> <div id="-=-procs-all"> <div id="-=,DateTime,Duration"> <dt><pre data-language="nim">proc `-=`(a: var DateTime; b: Duration) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1498" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1498" target="_blank">Edit</a> </dd> </div> <div id="-=,DateTime,TimeInterval"> <dt><pre data-language="nim">proc `-=`(a: var DateTime; b: TimeInterval) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2742" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2742" target="_blank">Edit</a> </dd> </div> <div id="-=,TimeInterval,TimeInterval"> <dt><pre data-language="nim">proc `-=`(a: var TimeInterval; b: TimeInterval) {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2426" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2426" target="_blank">Edit</a> </dd> </div> <div id="-=,Duration,Duration"> <dt><pre data-language="nim">proc `-=`(dt: var Duration; ti: Duration) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L875" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L875" target="_blank">Edit</a> </dd> </div> <div id="-=,Time,Duration"> <dt><pre data-language="nim">proc `-=`(t: var Time; b: Duration) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1037" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1037" target="_blank">Edit</a> </dd> </div> <div id="-=,Time,TimeInterval"> <dt><pre data-language="nim">proc `-=`(t: var Time; b: TimeInterval) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2748" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2748" target="_blank">Edit</a> </dd> </div> </div> <div id="&lt;-procs-all"> <div id="&lt;,DateTime,DateTime"> <dt><pre data-language="nim">proc `&lt;`(a, b: DateTime): bool {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Returns true if <code><span class="Identifier">a</span></code> happened before <code><span class="Identifier">b</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1481" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1481" target="_blank">Edit</a> </dd> </div> <div id="&lt;,Duration,Duration"> <dt><pre data-language="nim">proc `&lt;`(a, b: Duration): bool {....gcsafe, noSideEffect, ...gcsafe,
                                 extern: "ntLtDuration", raises: [], tags: [],
                                 forbids: [].}</pre></dt> <dd> Note that a duration can be negative, so even if <code><span class="Identifier">a</span> <span class="Operator">&lt;</span> <span class="Identifier">b</span></code> is true <code><span class="Identifier">a</span></code> might represent a larger absolute duration. Use <code><span class="Identifier">abs</span><span class="Punctuation">(</span><span class="Identifier">a</span><span class="Punctuation">)</span> <span class="Operator">&lt;</span> <span class="Identifier">abs</span><span class="Punctuation">(</span><span class="Identifier">b</span><span class="Punctuation">)</span></code> to compare the absolute duration. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert initDuration(seconds = 1) &lt; initDuration(seconds = 2)
doAssert initDuration(seconds = -2) &lt; initDuration(seconds = 1)
doAssert initDuration(seconds = -2).abs &lt; initDuration(seconds = 1).abs == false</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L833" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L833" target="_blank">Edit</a> </dd> </div> <div id="&lt;,Time,Time"> <dt><pre data-language="nim">proc `&lt;`(a, b: Time): bool {....gcsafe, noSideEffect, ...gcsafe, extern: "ntLtTime",
                             raises: [], tags: [], forbids: [].}</pre></dt> <dd> Returns true if <code><span class="Identifier">a</span> <span class="Operator">&lt;</span> <span class="Identifier">b</span></code>, that is if <code><span class="Identifier">a</span></code> happened before <code><span class="Identifier">b</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert initTime(50, 0) &lt; initTime(99, 0)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1020" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1020" target="_blank">Edit</a> </dd> </div> </div> <div id="&lt;=-procs-all"> <div id="&lt;=,DateTime,DateTime"> <dt><pre data-language="nim">proc `&lt;=`(a, b: DateTime): bool {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Returns true if <code><span class="Identifier">a</span></code> happened before or at the same time as <code><span class="Identifier">b</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1485" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1485" target="_blank">Edit</a> </dd> </div> <div id="&lt;=,Duration,Duration"> <dt><pre data-language="nim">proc `&lt;=`(a, b: Duration): bool {....gcsafe, noSideEffect, ...gcsafe,
                                  extern: "ntLeDuration", raises: [], tags: [],
                                  forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L845" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L845" target="_blank">Edit</a> </dd> </div> <div id="&lt;=,Time,Time"> <dt><pre data-language="nim">proc `&lt;=`(a, b: Time): bool {....gcsafe, noSideEffect, ...gcsafe, extern: "ntLeTime",
                              raises: [], tags: [], forbids: [].}</pre></dt> <dd> Returns true if <code><span class="Identifier">a</span> <span class="Operator">&lt;=</span> <span class="Identifier">b</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1026" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1026" target="_blank">Edit</a> </dd> </div> </div> <div id="==-procs-all"> <div id="==,DateTime,DateTime"> <dt><pre data-language="nim">proc `==`(a, b: DateTime): bool {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Returns true if <code><span class="Identifier">a</span></code> and <code><span class="Identifier">b</span></code> represent the same point in time. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1489" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1489" target="_blank">Edit</a> </dd> </div> <div id="==,Duration,Duration"> <dt><pre data-language="nim">proc `==`(a, b: Duration): bool {....gcsafe, noSideEffect, ...gcsafe,
                                  extern: "ntEqDuration", raises: [], tags: [],
                                  forbids: [].}</pre></dt> <dd> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let
  d1 = initDuration(weeks = 1)
  d2 = initDuration(days = 7)
doAssert d1 == d2</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L848" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L848" target="_blank">Edit</a> </dd> </div> <div id="==,IsoYear,IsoYear"> <dt><pre data-language="nim">proc `==`(a, b: IsoYear): bool {.borrow, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L561" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L561" target="_blank">Edit</a> </dd> </div> <div id="==,Time,Time"> <dt><pre data-language="nim">proc `==`(a, b: Time): bool {....gcsafe, noSideEffect, ...gcsafe, extern: "ntEqTime",
                              raises: [], tags: [], forbids: [].}</pre></dt> <dd> Returns true if <code><span class="Identifier">a</span> <span class="Operator">==</span> <span class="Identifier">b</span></code>, that is if both times represent the same point in time. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1030" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1030" target="_blank">Edit</a> </dd> </div> <div id="==,Timezone,Timezone"> <dt><pre data-language="nim">proc `==`(zone1, zone2: Timezone): bool {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Two <code><span class="Identifier">Timezone</span></code>'s are considered equal if their name is equal. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert local() == local()
doAssert local() != utc()</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1251" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1251" target="_blank">Edit</a> </dd> </div> </div> <div id="abs-procs-all"> <div id="abs,Duration"> <dt><pre data-language="nim">proc abs(a: Duration): Duration {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert initDuration(milliseconds = -1500).abs ==
  initDuration(milliseconds = 1500)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L902" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L902" target="_blank">Edit</a> </dd> </div> </div> <div id="between-procs-all"> <div id="between,DateTime,DateTime"> <dt><pre data-language="nim">proc between(startDt, endDt: DateTime): TimeInterval {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Gives the difference between <code><span class="Identifier">startDt</span></code> and <code><span class="Identifier">endDt</span></code> as a <code><span class="Identifier">TimeInterval</span></code>. The following guarantees about the result is given:<ul class="simple">
<li>All fields will have the same sign.</li> <li>If <code><span class="Identifier">startDt</span><span class="Operator">.</span><span class="Identifier">timezone</span> <span class="Operator">==</span> <span class="Identifier">endDt</span><span class="Operator">.</span><span class="Identifier">timezone</span></code>, it is guaranteed that <code><span class="Identifier">startDt</span> <span class="Operator">+</span> <span class="Identifier">between</span><span class="Punctuation">(</span><span class="Identifier">startDt</span><span class="Punctuation">,</span> <span class="Identifier">endDt</span><span class="Punctuation">)</span> <span class="Operator">==</span> <span class="Identifier">endDt</span></code>.</li> <li>If <code><span class="Identifier">startDt</span><span class="Operator">.</span><span class="Identifier">timezone</span> <span class="Operator">!=</span> <span class="Identifier">endDt</span><span class="Operator">.</span><span class="Identifier">timezone</span></code>, then the result will be equivalent to <code><span class="Identifier">between</span><span class="Punctuation">(</span><span class="Identifier">startDt</span><span class="Operator">.</span><span class="Identifier">utc</span><span class="Punctuation">,</span> <span class="Identifier">endDt</span><span class="Operator">.</span><span class="Identifier">utc</span><span class="Punctuation">)</span></code>.</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var a = dateTime(2015, mMar, 25, 12, 0, 0, 00, utc())
var b = dateTime(2017, mApr, 1, 15, 0, 15, 00, utc())
var ti = initTimeInterval(years = 2, weeks = 1, hours = 3, seconds = 15)
doAssert between(a, b) == ti
doAssert between(a, b) == -between(b, a)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2442" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2442" target="_blank">Edit</a> </dd> </div> </div> <div id="convert-procs-all"> <div id="convert,FixedTimeUnit,FixedTimeUnit,T"> <dt><pre data-language="nim">proc convert[T: SomeInteger](unitFrom, unitTo: FixedTimeUnit; quantity: T): T {.
    inline.}</pre></dt> <dd> Convert a quantity of some duration unit to another duration unit. This proc only deals with integers, so the result might be truncated. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert convert(Days, Hours, 2) == 48
doAssert convert(Days, Weeks, 13) == 1 # Truncated
doAssert convert(Seconds, Milliseconds, -1) == -1000</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L435" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L435" target="_blank">Edit</a> </dd> </div> </div> <div id="cpuTime-procs-all"> <div id="cpuTime"> <dt><pre data-language="nim">proc cpuTime(): float {....tags: [TimeEffect], raises: [], forbids: [].}</pre></dt> <dd> Gets time spent that the CPU spent to run the current process in seconds. This may be more useful for benchmarking than <code><span class="Identifier">epochTime</span></code>. However, it may measure the real time instead (depending on the OS). The value of the result has no meaning. To generate useful timing values, take the difference between the results of two <code><span class="Identifier">cpuTime</span></code> calls: <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t0 = cpuTime()
# some useless work here (calculate fibonacci)
var fib = @[0, 1, 1]
for i in 1..10:
  fib.add(fib[^1] + fib[^2])
echo "CPU time [s] ", cpuTime() - t0
echo "Fib is [s] ", fib</pre>When the flag <code><span class="Operator">--</span><span class="Identifier">benchmarkVM</span></code> is passed to the compiler, this proc is also available at compile time <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2823" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2823" target="_blank">Edit</a> </dd> </div> </div> <div id="dateTime-procs-all"> <div id="dateTime,int,Month,MonthdayRange,HourRange,MinuteRange,SecondRange,NanosecondRange,Timezone"> <dt><pre data-language="nim">proc dateTime(year: int; month: Month; monthday: MonthdayRange;
              hour: HourRange = 0; minute: MinuteRange = 0;
              second: SecondRange = 0; nanosecond: NanosecondRange = 0;
              zone: Timezone = local()): DateTime {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Create a new <a href="#DateTime">DateTime</a> in the specified timezone. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert $dateTime(2017, mMar, 30, zone = utc()) == "2017-03-30T00:00:00Z"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1418" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1418" target="_blank">Edit</a> </dd> </div> </div> <div id="days-procs-all"> <div id="days,int"> <dt><pre data-language="nim">proc days(d: int): TimeInterval {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>TimeInterval of <code><span class="Identifier">d</span></code> days.</p> <p><code><span class="Identifier">echo</span> <span class="Identifier">getTime</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">+</span> <span class="FloatNumber">2.</span><span class="Identifier">days</span></code></p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2608" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2608" target="_blank">Edit</a> </dd> </div> </div> <div id="div-procs-all"> <div id="div,Duration,int64"> <dt><pre data-language="nim">proc `div`(a: Duration; b: int64): Duration {....gcsafe, noSideEffect, ...gcsafe,
    extern: "ntDivDuration", raises: [], tags: [], forbids: [].}</pre></dt> <dd> Integer division for durations. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert initDuration(seconds = 3) div 2 ==
  initDuration(milliseconds = 1500)
doAssert initDuration(minutes = 45) div 30 ==
  initDuration(minutes = 1, seconds = 30)
doAssert initDuration(nanoseconds = 3) div 2 ==
  initDuration(nanoseconds = 1)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L881" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L881" target="_blank">Edit</a> </dd> </div> </div> <div id="epochTime-procs-all"> <div id="epochTime"> <dt><pre data-language="nim">proc epochTime(): float {....tags: [TimeEffect], raises: [], forbids: [].}</pre></dt> <dd> <p>Gets time after the UNIX epoch (1970) in seconds. It is a float because sub-second resolution is likely to be supported (depending on the hardware/OS).</p> <p><code><span class="Identifier">getTime</span></code> should generally be preferred over this proc.</p> <div class="admonition admonition-warning">
<span class="admonition-warning-text"><b>Warning:</b></span> Unsuitable for benchmarking (but still better than <code><span class="Identifier">now</span></code>), use <code><span class="Identifier">monotimes</span><span class="Operator">.</span><span class="Identifier">getMonoTime</span></code> or <code><span class="Identifier">cpuTime</span></code> instead, depending on the use case.</div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2782" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2782" target="_blank">Edit</a> </dd> </div> </div> <div id="format-procs-all"> <div id="format,DateTime,static[string]"> <dt><pre data-language="nim">proc format(dt: DateTime; f: static[string]): string {....raises: [].}</pre></dt> <dd> Overload that validates <code><span class="Identifier">format</span></code> at compile time. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2215" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2215" target="_blank">Edit</a> </dd> </div> <div id="format,DateTime,string,DateTimeLocale"> <dt><pre data-language="nim">proc format(dt: DateTime; f: string; loc: DateTimeLocale = DefaultLocale): string {.
    ...raises: [TimeFormatParseError], tags: [], forbids: [].}</pre></dt> <dd> <p>Shorthand for constructing a <code><span class="Identifier">TimeFormat</span></code> and using it to format <code><span class="Identifier">dt</span></code>.</p> <p>See <a href="#parsing-and-formatting-dates">Parsing and formatting dates</a> for documentation of the <code><span class="Identifier">format</span></code> argument.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dt = dateTime(2000, mJan, 01, 00, 00, 00, 00, utc())
doAssert "2000-01-01" == format(dt, "yyyy-MM-dd")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2203" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2203" target="_blank">Edit</a> </dd> </div> <div id="format,DateTime,TimeFormat,DateTimeLocale"> <dt><pre data-language="nim">proc format(dt: DateTime; f: TimeFormat; loc: DateTimeLocale = DefaultLocale): string {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> Format <code><span class="Identifier">dt</span></code> using the format specified by <code><span class="Identifier">f</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let f = initTimeFormat("yyyy-MM-dd")
let dt = dateTime(2000, mJan, 01, 00, 00, 00, 00, utc())
doAssert "2000-01-01" == dt.format(f)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2180" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2180" target="_blank">Edit</a> </dd> </div> <div id="format,Time,static[string],Timezone"> <dt><pre data-language="nim">proc format(time: Time; f: static[string]; zone: Timezone = local()): string {.
    ...raises: [].}</pre></dt> <dd> Overload that validates <code><span class="Identifier">f</span></code> at compile time. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2238" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2238" target="_blank">Edit</a> </dd> </div> <div id="format,Time,string,Timezone"> <dt><pre data-language="nim">proc format(time: Time; f: string; zone: Timezone = local()): string {.
    ...raises: [TimeFormatParseError], tags: [], forbids: [].}</pre></dt> <dd> <p>Shorthand for constructing a <code><span class="Identifier">TimeFormat</span></code> and using it to format <code><span class="Identifier">time</span></code>. Will use the timezone specified by <code><span class="Identifier">zone</span></code>.</p> <p>See <a href="#parsing-and-formatting-dates">Parsing and formatting dates</a> for documentation of the <code><span class="Identifier">f</span></code> argument.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var dt = dateTime(1970, mJan, 01, 00, 00, 00, 00, utc())
var tm = dt.toTime()
doAssert format(tm, "yyyy-MM-dd'T'HH:mm:ss", utc()) == "1970-01-01T00:00:00"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2225" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2225" target="_blank">Edit</a> </dd> </div> </div> <div id="formatValue-procs-all"> <div id="formatValue,string,,string"> <dt><pre data-language="nim">proc formatValue(result: var string; value: DateTime | Time; specifier: string)</pre></dt> <dd> adapter for strformat. Not intended to be called directly. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2220" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2220" target="_blank">Edit</a> </dd> </div> </div> <div id="fromUnix-procs-all"> <div id="fromUnix,int64"> <dt><pre data-language="nim">proc fromUnix(unix: int64): Time {....gcsafe, tags: [], raises: [], noSideEffect,
                                   ...forbids: [].}</pre></dt> <dd> Convert a unix timestamp (seconds since <code><span class="DecNumber">1970</span><span class="Operator">-</span><span class="DecNumber">01</span><span class="Operator">-</span><span class="DecNumber">01</span><span class="Identifier">T00</span><span class="Punctuation">:</span><span class="DecNumber">00</span><span class="Punctuation">:</span><span class="DecNumber">00</span><span class="Identifier">Z</span></code>) to a <code><span class="Identifier">Time</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert $fromUnix(0).utc == "1970-01-01T00:00:00Z"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L922" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L922" target="_blank">Edit</a> </dd> </div> </div> <div id="fromUnixFloat-procs-all"> <div id="fromUnixFloat,float"> <dt><pre data-language="nim">proc fromUnixFloat(seconds: float): Time {....gcsafe, tags: [], raises: [],
    noSideEffect, ...forbids: [].}</pre></dt> <dd> Convert a unix timestamp in seconds to a <code><span class="Identifier">Time</span></code>; same as <code><span class="Identifier">fromUnix</span></code> but with subsecond resolution. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert fromUnixFloat(123456.0) == fromUnixFloat(123456)
doAssert fromUnixFloat(-123456.0) == fromUnixFloat(-123456)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L937" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L937" target="_blank">Edit</a> </dd> </div> </div> <div id="fromWinTime-procs-all"> <div id="fromWinTime,int64"> <dt><pre data-language="nim">proc fromWinTime(win: int64): Time {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Convert a Windows file time (100-nanosecond intervals since <code><span class="DecNumber">1601</span><span class="Operator">-</span><span class="DecNumber">01</span><span class="Operator">-</span><span class="DecNumber">01</span><span class="Identifier">T00</span><span class="Punctuation">:</span><span class="DecNumber">00</span><span class="Punctuation">:</span><span class="DecNumber">00</span><span class="Identifier">Z</span></code>) to a <code><span class="Identifier">Time</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L960" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L960" target="_blank">Edit</a> </dd> </div> </div> <div id="getClockStr-procs-all"> <div id="getClockStr"> <dt><pre data-language="nim">proc getClockStr(dt = now()): string {....gcsafe, extern: "nt$1",
                                       tags: [TimeEffect], raises: [],
                                       forbids: [].}</pre></dt> <dd> Gets the current local clock time as a string of the format <code><span class="Identifier">HH</span><span class="Punctuation">:</span><span class="Identifier">mm</span><span class="Punctuation">:</span><span class="Identifier">ss</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">echo getClockStr(now() - 1.hours)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1513" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1513" target="_blank">Edit</a> </dd> </div> </div> <div id="getDateStr-procs-all"> <div id="getDateStr"> <dt><pre data-language="nim">proc getDateStr(dt = now()): string {....gcsafe, extern: "nt$1",
                                      tags: [TimeEffect], raises: [],
                                      forbids: [].}</pre></dt> <dd> Gets the current local date as a string of the format <code><span class="Identifier">YYYY</span><span class="Operator">-</span><span class="Identifier">MM</span><span class="Operator">-</span><span class="Identifier">dd</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">echo getDateStr(now() - 1.months)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1501" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1501" target="_blank">Edit</a> </dd> </div> </div> <div id="getDayOfWeek-procs-all"> <div id="getDayOfWeek,MonthdayRange,Month,int"> <dt><pre data-language="nim">proc getDayOfWeek(monthday: MonthdayRange; month: Month; year: int): WeekDay {.
    ...tags: [], raises: [], gcsafe, forbids: [].}</pre></dt> <dd> Returns the day of the week enum from day, month and year. Equivalent with <code><span class="Identifier">dateTime</span><span class="Punctuation">(</span><span class="Identifier">year</span><span class="Punctuation">,</span> <span class="Identifier">month</span><span class="Punctuation">,</span> <span class="Identifier">monthday</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Punctuation">)</span><span class="Operator">.</span><span class="Identifier">weekday</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert getDayOfWeek(13, mJun, 1990) == dWed
doAssert $getDayOfWeek(13, mJun, 1990) == "Wednesday"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L537" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L537" target="_blank">Edit</a> </dd> </div> </div> <div id="getDayOfYear-procs-all"> <div id="getDayOfYear,MonthdayRange,Month,int"> <dt><pre data-language="nim">proc getDayOfYear(monthday: MonthdayRange; month: Month; year: int): YeardayRange {.
    ...tags: [], raises: [], gcsafe, forbids: [].}</pre></dt> <dd> Returns the day of the year. Equivalent with <code><span class="Identifier">dateTime</span><span class="Punctuation">(</span><span class="Identifier">year</span><span class="Punctuation">,</span> <span class="Identifier">month</span><span class="Punctuation">,</span> <span class="Identifier">monthday</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Punctuation">,</span> <span class="DecNumber">0</span><span class="Punctuation">)</span><span class="Operator">.</span><span class="Identifier">yearday</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert getDayOfYear(1, mJan, 2000) == 0
doAssert getDayOfYear(10, mJan, 2000) == 9
doAssert getDayOfYear(10, mFeb, 2000) == 40</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L517" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L517" target="_blank">Edit</a> </dd> </div> </div> <div id="getDaysInMonth-procs-all"> <div id="getDaysInMonth,Month,int"> <dt><pre data-language="nim">proc getDaysInMonth(month: Month; year: int): int {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Get the number of days in <code><span class="Identifier">month</span></code> of <code><span class="Identifier">year</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert getDaysInMonth(mFeb, 2000) == 29
doAssert getDaysInMonth(mFeb, 2001) == 28</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L466" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L466" target="_blank">Edit</a> </dd> </div> </div> <div id="getDaysInYear-procs-all"> <div id="getDaysInYear,int"> <dt><pre data-language="nim">proc getDaysInYear(year: int): int {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Get the number of days in a <code><span class="Identifier">year</span></code> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert getDaysInYear(2000) == 366
doAssert getDaysInYear(2001) == 365</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L554" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L554" target="_blank">Edit</a> </dd> </div> </div> <div id="getIsoWeekAndYear-procs-all"> <div id="getIsoWeekAndYear,DateTime"> <dt><pre data-language="nim">proc getIsoWeekAndYear(dt: DateTime): tuple[isoweek: IsoWeekRange,
    isoyear: IsoYear] {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Returns the ISO 8601 week and year.<div class="admonition admonition-warning">
<span class="admonition-warning-text"><b>Warning:</b></span> The ISO week-based year can correspond to the following or previous year from 29 December to January 3.</div> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert getIsoWeekAndYear(initDateTime(21, mApr, 2018, 00, 00, 00)) == (isoweek: 16.IsoWeekRange, isoyear: 2018.IsoYear)
block:
  let (w, y) = getIsoWeekAndYear(initDateTime(30, mDec, 2019, 00, 00, 00))
  assert w == 01.IsoWeekRange
  assert y == 2020.IsoYear
assert getIsoWeekAndYear(initDateTime(13, mSep, 2020, 00, 00, 00)) == (isoweek: 37.IsoWeekRange, isoyear: 2020.IsoYear)
block:
  let (w, y) = getIsoWeekAndYear(initDateTime(2, mJan, 2021, 00, 00, 00))
  assert w.int &gt; 52
  assert w.int &lt; 54
  assert y.int mod 100 == 20</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L582" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L582" target="_blank">Edit</a> </dd> </div> </div> <div id="getTime-procs-all"> <div id="getTime"> <dt><pre data-language="nim">proc getTime(): Time {....tags: [TimeEffect], gcsafe, raises: [], forbids: [].}</pre></dt> <dd> Gets the current time as a <code><span class="Identifier">Time</span></code> with up to nanosecond resolution. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L976" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L976" target="_blank">Edit</a> </dd> </div> </div> <div id="getWeeksInIsoYear-procs-all"> <div id="getWeeksInIsoYear,IsoYear"> <dt><pre data-language="nim">proc getWeeksInIsoYear(y: IsoYear): IsoWeekRange {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Returns the number of weeks in the specified ISO 8601 week-based year, which can be either 53 or 52. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert getWeeksInIsoYear(IsoYear(2019)) == 52
assert getWeeksInIsoYear(IsoYear(2020)) == 53</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L564" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L564" target="_blank">Edit</a> </dd> </div> </div> <div id="high-procs-all"> <div id="high,typedesc[Duration]"> <dt><pre data-language="nim">proc high(typ: typedesc[Duration]): Duration</pre></dt> <dd> Get the longest representable duration. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L894" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L894" target="_blank">Edit</a> </dd> </div> <div id="high,typedesc[Time]"> <dt><pre data-language="nim">proc high(typ: typedesc[Time]): Time</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1040" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1040" target="_blank">Edit</a> </dd> </div> </div> <div id="hour-procs-all"> <div id="hour,DateTime"> <dt><pre data-language="nim">proc hour(dt: DateTime): HourRange {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> The number of hours past midnight, in the range 0 to 23. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1071" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1071" target="_blank">Edit</a> </dd> </div> </div> <div id="hour=-procs-all"> <div id="hour=,DateTime,HourRange"> <dt><pre data-language="nim">proc hour=(dt: var DateTime; value: HourRange) {.
    ...deprecated: "Deprecated since v1.3.1", raises: [], tags: [], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> Deprecated since v1.3.1 </div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2864" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2864" target="_blank">Edit</a> </dd> </div> </div> <div id="hours-procs-all"> <div id="hours,int"> <dt><pre data-language="nim">proc hours(h: int): TimeInterval {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>TimeInterval of <code><span class="Identifier">h</span></code> hours.</p> <p><code><span class="Identifier">echo</span> <span class="Identifier">getTime</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">+</span> <span class="FloatNumber">2.</span><span class="Identifier">hours</span></code></p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2602" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2602" target="_blank">Edit</a> </dd> </div> </div> <div id="inDays-procs-all"> <div id="inDays,Duration"> <dt><pre data-language="nim">proc inDays(dur: Duration): int64 {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Converts the duration to the number of whole days. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dur = initDuration(hours = -50)
doAssert dur.inDays == -2</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L710" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L710" target="_blank">Edit</a> </dd> </div> </div> <div id="inHours-procs-all"> <div id="inHours,Duration"> <dt><pre data-language="nim">proc inHours(dur: Duration): int64 {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Converts the duration to the number of whole hours. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dur = initDuration(minutes = 60, days = 2)
doAssert dur.inHours == 49</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L717" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L717" target="_blank">Edit</a> </dd> </div> </div> <div id="initDateTime-procs-all"> <div id="initDateTime,MonthdayRange,Month,int,HourRange,MinuteRange,SecondRange,NanosecondRange,Timezone"> <dt><pre data-language="nim">proc initDateTime(monthday: MonthdayRange; month: Month; year: int;
                  hour: HourRange; minute: MinuteRange; second: SecondRange;
                  nanosecond: NanosecondRange; zone: Timezone = local()): DateTime {.
    ...deprecated: "use `dateTime`", raises: [], tags: [], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> use `dateTime` </div> Create a new <a href="#DateTime">DateTime</a> in the specified timezone. <p><strong class="examples_text">Example: cmd: --warning:deprecated:off</strong></p> <pre class="listing" data-language="nim">assert $initDateTime(30, mMar, 2017, 00, 00, 00, 00, utc()) == "2017-03-30T00:00:00Z"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1438" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1438" target="_blank">Edit</a> </dd> </div> <div id="initDateTime,MonthdayRange,Month,int,HourRange,MinuteRange,SecondRange,Timezone"> <dt><pre data-language="nim">proc initDateTime(monthday: MonthdayRange; month: Month; year: int;
                  hour: HourRange; minute: MinuteRange; second: SecondRange;
                  zone: Timezone = local()): DateTime {.
    ...deprecated: "use `dateTime`", raises: [], tags: [], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> use `dateTime` </div> Create a new <a href="#DateTime">DateTime</a> in the specified timezone. <p><strong class="examples_text">Example: cmd: --warning:deprecated:off</strong></p> <pre class="listing" data-language="nim">assert $initDateTime(30, mMar, 2017, 00, 00, 00, utc()) == "2017-03-30T00:00:00Z"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1447" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1447" target="_blank">Edit</a> </dd> </div> <div id="initDateTime,WeekDay,IsoWeekRange,IsoYear,HourRange,MinuteRange,SecondRange,NanosecondRange,Timezone"> <dt><pre data-language="nim">proc initDateTime(weekday: WeekDay; isoweek: IsoWeekRange; isoyear: IsoYear;
                  hour: HourRange; minute: MinuteRange; second: SecondRange;
                  nanosecond: NanosecondRange; zone: Timezone = local()): DateTime {.
    ...gcsafe, raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1530" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1530" target="_blank">Edit</a> </dd> </div> <div id="initDateTime,WeekDay,IsoWeekRange,IsoYear,HourRange,MinuteRange,SecondRange,Timezone"> <dt><pre data-language="nim">proc initDateTime(weekday: WeekDay; isoweek: IsoWeekRange; isoyear: IsoYear;
                  hour: HourRange; minute: MinuteRange; second: SecondRange;
                  zone: Timezone = local()): DateTime {....gcsafe, raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1535" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1535" target="_blank">Edit</a> </dd> </div> </div> <div id="initDuration-procs-all"> <div id="initDuration,int64,int64,int64,int64,int64,int64,int64,int64"> <dt><pre data-language="nim">proc initDuration(nanoseconds, microseconds, milliseconds, seconds, minutes,
                  hours, days, weeks: int64 = 0): Duration {....raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> Create a new <a href="#Duration">Duration</a>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dur = initDuration(seconds = 1, milliseconds = 1)
doAssert dur.inMilliseconds == 1001
doAssert dur.inSeconds == 1</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L662" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L662" target="_blank">Edit</a> </dd> </div> </div> <div id="initTime-procs-all"> <div id="initTime,int64,NanosecondRange"> <dt><pre data-language="nim">proc initTime(unix: int64; nanosecond: NanosecondRange): Time {....raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> Create a <a href="#Time">Time</a> from a unix timestamp and a nanosecond part. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L912" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L912" target="_blank">Edit</a> </dd> </div> </div> <div id="initTimeFormat-procs-all"> <div id="initTimeFormat,string"> <dt><pre data-language="nim">proc initTimeFormat(format: string): TimeFormat {.
    ...raises: [TimeFormatParseError], tags: [], forbids: [].}</pre></dt> <dd> <p>Construct a new time format for parsing &amp; formatting time types.</p> <p>See <a href="#parsing-and-formatting-dates">Parsing and formatting dates</a> for documentation of the <code><span class="Identifier">format</span></code> argument.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let f = initTimeFormat("yyyy-MM-dd")
doAssert "2000-01-01" == "2000-01-01".parse(f).format(f)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1761" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1761" target="_blank">Edit</a> </dd> </div> </div> <div id="initTimeInterval-procs-all"> <div id="initTimeInterval,int,int,int,int,int,int,int,int,int,int"> <dt><pre data-language="nim">proc initTimeInterval(nanoseconds, microseconds, milliseconds, seconds, minutes,
                      hours, days, weeks, months, years: int = 0): TimeInterval {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Creates a new <a href="#TimeInterval">TimeInterval</a>.</p> <p>This proc doesn't perform any normalization! For example, <code><span class="Identifier">initTimeInterval</span><span class="Punctuation">(</span><span class="Identifier">hours</span> <span class="Operator">=</span> <span class="DecNumber">24</span><span class="Punctuation">)</span></code> and <code><span class="Identifier">initTimeInterval</span><span class="Punctuation">(</span><span class="Identifier">days</span> <span class="Operator">=</span> <span class="DecNumber">1</span><span class="Punctuation">)</span></code> are not equal.</p> <p>You can also use the convenience procedures called <code><span class="Identifier">milliseconds</span></code>, <code><span class="Identifier">seconds</span></code>, <code><span class="Identifier">minutes</span></code>, <code><span class="Identifier">hours</span></code>, <code><span class="Identifier">days</span></code>, <code><span class="Identifier">months</span></code>, and <code><span class="Identifier">years</span></code>.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let day = initTimeInterval(hours = 24)
let dt = dateTime(2000, mJan, 01, 12, 00, 00, 00, utc())
doAssert $(dt + day) == "2000-01-02T12:00:00Z"
doAssert initTimeInterval(hours = 24) != initTimeInterval(days = 1)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2353" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2353" target="_blank">Edit</a> </dd> </div> </div> <div id="inMicroseconds-procs-all"> <div id="inMicroseconds,Duration"> <dt><pre data-language="nim">proc inMicroseconds(dur: Duration): int64 {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Converts the duration to the number of whole microseconds. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dur = initDuration(seconds = -2)
doAssert dur.inMicroseconds == -2000000</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L745" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L745" target="_blank">Edit</a> </dd> </div> </div> <div id="inMilliseconds-procs-all"> <div id="inMilliseconds,Duration"> <dt><pre data-language="nim">proc inMilliseconds(dur: Duration): int64 {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Converts the duration to the number of whole milliseconds. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dur = initDuration(seconds = -2)
doAssert dur.inMilliseconds == -2000</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L738" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L738" target="_blank">Edit</a> </dd> </div> </div> <div id="inMinutes-procs-all"> <div id="inMinutes,Duration"> <dt><pre data-language="nim">proc inMinutes(dur: Duration): int64 {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Converts the duration to the number of whole minutes. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dur = initDuration(hours = 2, seconds = 10)
doAssert dur.inMinutes == 120</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L724" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L724" target="_blank">Edit</a> </dd> </div> </div> <div id="inNanoseconds-procs-all"> <div id="inNanoseconds,Duration"> <dt><pre data-language="nim">proc inNanoseconds(dur: Duration): int64 {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Converts the duration to the number of whole nanoseconds. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dur = initDuration(seconds = -2)
doAssert dur.inNanoseconds == -2000000000</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L752" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L752" target="_blank">Edit</a> </dd> </div> </div> <div id="inSeconds-procs-all"> <div id="inSeconds,Duration"> <dt><pre data-language="nim">proc inSeconds(dur: Duration): int64 {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Converts the duration to the number of whole seconds. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dur = initDuration(hours = 2, milliseconds = 10)
doAssert dur.inSeconds == 2 * 60 * 60</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L731" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L731" target="_blank">Edit</a> </dd> </div> </div> <div id="inWeeks-procs-all"> <div id="inWeeks,Duration"> <dt><pre data-language="nim">proc inWeeks(dur: Duration): int64 {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Converts the duration to the number of whole weeks. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dur = initDuration(days = 8)
doAssert dur.inWeeks == 1</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L703" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L703" target="_blank">Edit</a> </dd> </div> </div> <div id="inZone-procs-all"> <div id="inZone,DateTime,Timezone"> <dt><pre data-language="nim">proc inZone(dt: DateTime; zone: Timezone): DateTime {....tags: [], raises: [],
    gcsafe, forbids: [].}</pre></dt> <dd> Returns a <code><span class="Identifier">DateTime</span></code> representing the same point in time as <code><span class="Identifier">dt</span></code> but using <code><span class="Identifier">zone</span></code> as the timezone. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1267" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1267" target="_blank">Edit</a> </dd> </div> <div id="inZone,Time,Timezone"> <dt><pre data-language="nim">proc inZone(time: Time; zone: Timezone): DateTime {....tags: [], raises: [],
    gcsafe, forbids: [].}</pre></dt> <dd> Convert <code><span class="Identifier">time</span></code> into a <code><span class="Identifier">DateTime</span></code> using <code><span class="Identifier">zone</span></code> as the timezone. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1262" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1262" target="_blank">Edit</a> </dd> </div> </div> <div id="isDst-procs-all"> <div id="isDst,DateTime"> <dt><pre data-language="nim">proc isDst(dt: DateTime): bool {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> Determines whether DST is in effect. Always false for the JavaScript backend. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1109" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1109" target="_blank">Edit</a> </dd> </div> </div> <div id="isDst=-procs-all"> <div id="isDst=,DateTime,bool"> <dt><pre data-language="nim">proc isDst=(dt: var DateTime; value: bool) {.
    ...deprecated: "Deprecated since v1.3.1", raises: [], tags: [], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> Deprecated since v1.3.1 </div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2882" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2882" target="_blank">Edit</a> </dd> </div> </div> <div id="isInitialized-procs-all"> <div id="isInitialized,DateTime"> <dt><pre data-language="nim">proc isInitialized(dt: DateTime): bool {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert now().isInitialized
doAssert not default(DateTime).isInitialized</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1131" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1131" target="_blank">Edit</a> </dd> </div> </div> <div id="isLeapDay-procs-all"> <div id="isLeapDay,DateTime"> <dt><pre data-language="nim">proc isLeapDay(dt: DateTime): bool {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Returns whether <code><span class="Identifier">t</span></code> is a leap day, i.e. Feb 29 in a leap year. This matters as it affects time offset calculations. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dt = dateTime(2020, mFeb, 29, 00, 00, 00, 00, utc())
doAssert dt.isLeapDay
doAssert dt+1.years-1.years != dt
let dt2 = dateTime(2020, mFeb, 28, 00, 00, 00, 00, utc())
doAssert not dt2.isLeapDay
doAssert dt2+1.years-1.years == dt2
doAssertRaises(Exception): discard dateTime(2021, mFeb, 29, 00, 00, 00, 00, utc())</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1141" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1141" target="_blank">Edit</a> </dd> </div> </div> <div id="isLeapYear-procs-all"> <div id="isLeapYear,int"> <dt><pre data-language="nim">proc isLeapYear(year: int): bool {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Returns true if <code><span class="Identifier">year</span></code> is a leap year. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert isLeapYear(2000)
doAssert not isLeapYear(1900)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L459" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L459" target="_blank">Edit</a> </dd> </div> </div> <div id="local-procs-all"> <div id="local"> <dt><pre data-language="nim">proc local(): Timezone {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Get the <code><span class="Identifier">Timezone</span></code> implementation for the local timezone. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert now().timezone == local()
doAssert local().name == "LOCAL"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1384" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1384" target="_blank">Edit</a> </dd> </div> <div id="local,DateTime"> <dt><pre data-language="nim">proc local(dt: DateTime): DateTime {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Shorthand for <code><span class="Identifier">dt</span><span class="Operator">.</span><span class="Identifier">inZone</span><span class="Punctuation">(</span><span class="Identifier">local</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">)</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1398" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1398" target="_blank">Edit</a> </dd> </div> <div id="local,Time"> <dt><pre data-language="nim">proc local(t: Time): DateTime {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Shorthand for <code><span class="Identifier">t</span><span class="Operator">.</span><span class="Identifier">inZone</span><span class="Punctuation">(</span><span class="Identifier">local</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">)</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1406" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1406" target="_blank">Edit</a> </dd> </div> </div> <div id="low-procs-all"> <div id="low,typedesc[Duration]"> <dt><pre data-language="nim">proc low(typ: typedesc[Duration]): Duration</pre></dt> <dd> Get the longest representable duration of negative direction. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L898" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L898" target="_blank">Edit</a> </dd> </div> <div id="low,typedesc[Time]"> <dt><pre data-language="nim">proc low(typ: typedesc[Time]): Time</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1043" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1043" target="_blank">Edit</a> </dd> </div> </div> <div id="microseconds-procs-all"> <div id="microseconds,int"> <dt><pre data-language="nim">proc microseconds(micros: int): TimeInterval {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> TimeInterval of <code><span class="Identifier">micros</span></code> microseconds. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2582" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2582" target="_blank">Edit</a> </dd> </div> </div> <div id="milliseconds-procs-all"> <div id="milliseconds,int"> <dt><pre data-language="nim">proc milliseconds(ms: int): TimeInterval {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> TimeInterval of <code><span class="Identifier">ms</span></code> milliseconds. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2586" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2586" target="_blank">Edit</a> </dd> </div> </div> <div id="minute-procs-all"> <div id="minute,DateTime"> <dt><pre data-language="nim">proc minute(dt: DateTime): MinuteRange {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> The number of minutes after the hour, in the range 0 to 59. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1065" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1065" target="_blank">Edit</a> </dd> </div> </div> <div id="minute=-procs-all"> <div id="minute=,DateTime,MinuteRange"> <dt><pre data-language="nim">proc minute=(dt: var DateTime; value: MinuteRange) {.
    ...deprecated: "Deprecated since v1.3.1", raises: [], tags: [], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> Deprecated since v1.3.1 </div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2861" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2861" target="_blank">Edit</a> </dd> </div> </div> <div id="minutes-procs-all"> <div id="minutes,int"> <dt><pre data-language="nim">proc minutes(m: int): TimeInterval {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>TimeInterval of <code><span class="Identifier">m</span></code> minutes.</p> <p><code><span class="Identifier">echo</span> <span class="Identifier">getTime</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">+</span> <span class="FloatNumber">5.</span><span class="Identifier">minutes</span></code></p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2596" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2596" target="_blank">Edit</a> </dd> </div> </div> <div id="month-procs-all"> <div id="month,DateTime"> <dt><pre data-language="nim">proc month(dt: DateTime): Month {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> The month as an enum, the ordinal value is in the range 1 to 12. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1083" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1083" target="_blank">Edit</a> </dd> </div> </div> <div id="monthday-procs-all"> <div id="monthday,DateTime"> <dt><pre data-language="nim">proc monthday(dt: DateTime): MonthdayRange {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> The day of the month, in the range 1 to 31. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1077" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1077" target="_blank">Edit</a> </dd> </div> </div> <div id="monthdayZero=-procs-all"> <div id="monthdayZero=,DateTime,int"> <dt><pre data-language="nim">proc monthdayZero=(dt: var DateTime; value: int) {.
    ...deprecated: "Deprecated since v1.3.1", raises: [], tags: [], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> Deprecated since v1.3.1 </div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2867" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2867" target="_blank">Edit</a> </dd> </div> </div> <div id="months-procs-all"> <div id="months,int"> <dt><pre data-language="nim">proc months(m: int): TimeInterval {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>TimeInterval of <code><span class="Identifier">m</span></code> months.</p> <p><code><span class="Identifier">echo</span> <span class="Identifier">getTime</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">+</span> <span class="FloatNumber">2.</span><span class="Identifier">months</span></code></p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2620" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2620" target="_blank">Edit</a> </dd> </div> </div> <div id="monthZero=-procs-all"> <div id="monthZero=,DateTime,int"> <dt><pre data-language="nim">proc monthZero=(dt: var DateTime; value: int) {.
    ...deprecated: "Deprecated since v1.3.1", raises: [], tags: [], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> Deprecated since v1.3.1 </div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2870" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2870" target="_blank">Edit</a> </dd> </div> </div> <div id="name-procs-all"> <div id="name,Timezone"> <dt><pre data-language="nim">proc name(zone: Timezone): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>The name of the timezone.</p> <p>If possible, the name will be the name used in the tz database. If the timezone doesn't exist in the tz database, or if the timezone name is unknown, then any string that describes the timezone unambiguously might be used. For example, the string "LOCAL" is used for the system's local timezone.</p> <p>See also: <a href="https://en.wikipedia.org/wiki/Tz_database">https://en.wikipedia.org/wiki/Tz_database</a></p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1223" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1223" target="_blank">Edit</a> </dd> </div> </div> <div id="nanosecond-procs-all"> <div id="nanosecond,DateTime"> <dt><pre data-language="nim">proc nanosecond(dt: DateTime): NanosecondRange {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> The number of nanoseconds after the second, in the range 0 to 999_999_999. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1053" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1053" target="_blank">Edit</a> </dd> </div> <div id="nanosecond,Time"> <dt><pre data-language="nim">proc nanosecond(time: Time): NanosecondRange {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Get the fractional part of a <code><span class="Identifier">Time</span></code> as the number of nanoseconds of the second. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L917" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L917" target="_blank">Edit</a> </dd> </div> </div> <div id="nanosecond=-procs-all"> <div id="nanosecond=,DateTime,NanosecondRange"> <dt><pre data-language="nim">proc nanosecond=(dt: var DateTime; value: NanosecondRange) {.
    ...deprecated: "Deprecated since v1.3.1", raises: [], tags: [], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> Deprecated since v1.3.1 </div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2855" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2855" target="_blank">Edit</a> </dd> </div> </div> <div id="nanoseconds-procs-all"> <div id="nanoseconds,int"> <dt><pre data-language="nim">proc nanoseconds(nanos: int): TimeInterval {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> TimeInterval of <code><span class="Identifier">nanos</span></code> nanoseconds. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2578" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2578" target="_blank">Edit</a> </dd> </div> </div> <div id="newTimezone-procs-all"> <div id="newTimezone,string,proc(Time),proc(Time)"> <dt><pre data-language="nim">proc newTimezone(name: string; zonedTimeFromTimeImpl: proc (time: Time): ZonedTime {.
    ...tags: [], raises: [], gcsafe.}; zonedTimeFromAdjTimeImpl: proc (
    adjTime: Time): ZonedTime {....tags: [], raises: [], gcsafe.}): owned Timezone {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Create a new <code><span class="Identifier">Timezone</span></code>.</p> <p><code><span class="Identifier">zonedTimeFromTimeImpl</span></code> and <code><span class="Identifier">zonedTimeFromAdjTimeImpl</span></code> is used as the underlying implementations for <code><span class="Identifier">zonedTimeFromTime</span></code> and <code><span class="Identifier">zonedTimeFromAdjTime</span></code>.</p> <p>If possible, the name parameter should match the name used in the tz database. If the timezone doesn't exist in the tz database, or if the timezone name is unknown, then any string that describes the timezone unambiguously can be used. Note that the timezones name is used for checking equality!</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">proc utcTzInfo(time: Time): ZonedTime =
  ZonedTime(utcOffset: 0, isDst: false, time: time)
let utc = newTimezone("Etc/UTC", utcTzInfo, utcTzInfo)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1195" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1195" target="_blank">Edit</a> </dd> </div> </div> <div id="now-procs-all"> <div id="now"> <dt><pre data-language="nim">proc now(): DateTime {....tags: [TimeEffect], gcsafe, raises: [], forbids: [].}</pre></dt> <dd> Get the current time as a <code><span class="Identifier">DateTime</span></code> in the local timezone. Shorthand for <code><span class="Identifier">getTime</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Operator">.</span><span class="Identifier">local</span></code>.<div class="admonition admonition-warning">
<span class="admonition-warning-text"><b>Warning:</b></span> Unsuitable for benchmarking, use <code><span class="Identifier">monotimes</span><span class="Operator">.</span><span class="Identifier">getMonoTime</span></code> or <code><span class="Identifier">cpuTime</span></code> instead, depending on the use case.</div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1410" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1410" target="_blank">Edit</a> </dd> </div> </div> <div id="parse-procs-all"> <div id="parse,string,string,Timezone,DateTimeLocale"> <dt><pre data-language="nim">proc parse(input, f: string; tz: Timezone = local();
           loc: DateTimeLocale = DefaultLocale): DateTime {.
    ...raises: [TimeParseError, TimeFormatParseError], tags: [TimeEffect],
    forbids: [].}</pre></dt> <dd> <p>Shorthand for constructing a <code><span class="Identifier">TimeFormat</span></code> and using it to parse <code><span class="Identifier">input</span></code> as a <code><span class="Identifier">DateTime</span></code>.</p> <p>See <a href="#parsing-and-formatting-dates">Parsing and formatting dates</a> for documentation of the <code><span class="Identifier">f</span></code> argument.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let dt = dateTime(2000, mJan, 01, 00, 00, 00, 00, utc())
doAssert dt == parse("2000-01-01", "yyyy-MM-dd", utc())</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2292" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2292" target="_blank">Edit</a> </dd> </div> <div id="parse,string,static[string],Timezone,DateTimeLocale"> <dt><pre data-language="nim">proc parse(input: string; f: static[string]; zone: Timezone = local();
           loc: DateTimeLocale = DefaultLocale): DateTime {.
    ...raises: [TimeParseError].}</pre></dt> <dd> Overload that validates <code><span class="Identifier">f</span></code> at compile time. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2305" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2305" target="_blank">Edit</a> </dd> </div> <div id="parse,string,TimeFormat,Timezone,DateTimeLocale"> <dt><pre data-language="nim">proc parse(input: string; f: TimeFormat; zone: Timezone = local();
           loc: DateTimeLocale = DefaultLocale): DateTime {.
    ...raises: [TimeParseError], tags: [TimeEffect], forbids: [].}</pre></dt> <dd> <p>Parses <code><span class="Identifier">input</span></code> as a <code><span class="Identifier">DateTime</span></code> using the format specified by <code><span class="Identifier">f</span></code>. If no UTC offset was parsed, then <code><span class="Identifier">input</span></code> is assumed to be specified in the <code><span class="Identifier">zone</span></code> timezone. If a UTC offset was parsed, the result will be converted to the <code><span class="Identifier">zone</span></code> timezone.</p> <p>Month and day names from the passed in <code><span class="Identifier">loc</span></code> are used.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let f = initTimeFormat("yyyy-MM-dd")
let dt = dateTime(2000, mJan, 01, 00, 00, 00, 00, utc())
doAssert dt == "2000-01-01".parse(f, utc())</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2244" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2244" target="_blank">Edit</a> </dd> </div> </div> <div id="parseTime-procs-all"> <div id="parseTime,string,string,Timezone"> <dt><pre data-language="nim">proc parseTime(input, f: string; zone: Timezone): Time {.
    ...raises: [TimeParseError, TimeFormatParseError], tags: [TimeEffect],
    forbids: [].}</pre></dt> <dd> <p>Shorthand for constructing a <code><span class="Identifier">TimeFormat</span></code> and using it to parse <code><span class="Identifier">input</span></code> as a <code><span class="Identifier">DateTime</span></code>, then converting it a <code><span class="Identifier">Time</span></code>.</p> <p>See <a href="#parsing-and-formatting-dates">Parsing and formatting dates</a> for documentation of the <code><span class="Identifier">format</span></code> argument.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let tStr = "1970-01-01T00:00:00+00:00"
doAssert parseTime(tStr, "yyyy-MM-dd'T'HH:mm:sszzz", utc()) == fromUnix(0)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2311" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2311" target="_blank">Edit</a> </dd> </div> <div id="parseTime,string,static[string],Timezone"> <dt><pre data-language="nim">proc parseTime(input: string; f: static[string]; zone: Timezone): Time {.
    ...raises: [TimeParseError].}</pre></dt> <dd> Overload that validates <code><span class="Identifier">format</span></code> at compile time. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2322" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2322" target="_blank">Edit</a> </dd> </div> </div> <div id="second-procs-all"> <div id="second,DateTime"> <dt><pre data-language="nim">proc second(dt: DateTime): SecondRange {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> The number of seconds after the minute, in the range 0 to 59. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1059" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1059" target="_blank">Edit</a> </dd> </div> </div> <div id="second=-procs-all"> <div id="second=,DateTime,SecondRange"> <dt><pre data-language="nim">proc second=(dt: var DateTime; value: SecondRange) {.
    ...deprecated: "Deprecated since v1.3.1", raises: [], tags: [], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> Deprecated since v1.3.1 </div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2858" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2858" target="_blank">Edit</a> </dd> </div> </div> <div id="seconds-procs-all"> <div id="seconds,int"> <dt><pre data-language="nim">proc seconds(s: int): TimeInterval {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>TimeInterval of <code><span class="Identifier">s</span></code> seconds.</p> <p><code><span class="Identifier">echo</span> <span class="Identifier">getTime</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">+</span> <span class="FloatNumber">5.</span><span class="Identifier">seconds</span></code></p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2590" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2590" target="_blank">Edit</a> </dd> </div> </div> <div id="timezone-procs-all"> <div id="timezone,DateTime"> <dt><pre data-language="nim">proc timezone(dt: DateTime): Timezone {.inline, ...raises: [], tags: [],
                                        forbids: [].}</pre></dt> <dd> The timezone represented as an implementation of <code><span class="Identifier">Timezone</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1115" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1115" target="_blank">Edit</a> </dd> </div> </div> <div id="timezone=-procs-all"> <div id="timezone=,DateTime,Timezone"> <dt><pre data-language="nim">proc timezone=(dt: var DateTime; value: Timezone) {.
    ...deprecated: "Deprecated since v1.3.1", raises: [], tags: [], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> Deprecated since v1.3.1 </div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2885" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2885" target="_blank">Edit</a> </dd> </div> </div> <div id="toParts-procs-all"> <div id="toParts,Duration"> <dt><pre data-language="nim">proc toParts(dur: Duration): DurationParts {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Converts a duration into an array consisting of fixed time units.</p> <p>Each value in the array gives information about a specific unit of time, for example <code><span class="Identifier">result</span><span class="Punctuation">[</span><span class="Identifier">Days</span><span class="Punctuation">]</span></code> gives a count of days.</p> <p>This procedure is useful for converting <code><span class="Identifier">Duration</span></code> values to strings.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var dp = toParts(initDuration(weeks = 2, days = 1))
doAssert dp[Days] == 1
doAssert dp[Weeks] == 2
doAssert dp[Minutes] == 0
dp = toParts(initDuration(days = -1))
doAssert dp[Days] == -1</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L759" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L759" target="_blank">Edit</a> </dd> </div> <div id="toParts,TimeInterval"> <dt><pre data-language="nim">proc toParts(ti: TimeInterval): TimeIntervalParts {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <p>Converts a <code><span class="Identifier">TimeInterval</span></code> into an array consisting of its time units, starting with nanoseconds and ending with years.</p> <p>This procedure is useful for converting <code><span class="Identifier">TimeInterval</span></code> values to strings. E.g. then you need to implement custom interval printing</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var tp = toParts(initTimeInterval(years = 1, nanoseconds = 123))
doAssert tp[Years] == 1
doAssert tp[Nanoseconds] == 123</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2547" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2547" target="_blank">Edit</a> </dd> </div> </div> <div id="toTime-procs-all"> <div id="toTime,DateTime"> <dt><pre data-language="nim">proc toTime(dt: DateTime): Time {....tags: [], raises: [], gcsafe, forbids: [].}</pre></dt> <dd> Converts a <code><span class="Identifier">DateTime</span></code> to a <code><span class="Identifier">Time</span></code> representing the same point in time. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1155" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1155" target="_blank">Edit</a> </dd> </div> </div> <div id="toUnix-procs-all"> <div id="toUnix,Time"> <dt><pre data-language="nim">proc toUnix(t: Time): int64 {....gcsafe, tags: [], raises: [], noSideEffect,
                              ...forbids: [].}</pre></dt> <dd> Convert <code><span class="Identifier">t</span></code> to a unix timestamp (seconds since <code><span class="DecNumber">1970</span><span class="Operator">-</span><span class="DecNumber">01</span><span class="Operator">-</span><span class="DecNumber">01</span><span class="Identifier">T00</span><span class="Punctuation">:</span><span class="DecNumber">00</span><span class="Punctuation">:</span><span class="DecNumber">00</span><span class="Identifier">Z</span></code>). See also <code><span class="Identifier">toUnixFloat</span></code> for subsecond resolution. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert fromUnix(0).toUnix() == 0</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L930" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L930" target="_blank">Edit</a> </dd> </div> </div> <div id="toUnixFloat-procs-all"> <div id="toUnixFloat,Time"> <dt><pre data-language="nim">proc toUnixFloat(t: Time): float {....gcsafe, tags: [], raises: [], forbids: [].}</pre></dt> <dd> Same as <code><span class="Identifier">toUnix</span></code> but using subsecond resolution. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let t = getTime()
# `&lt;` because of rounding errors
doAssert abs(t.toUnixFloat().fromUnixFloat - t) &lt; initDuration(nanoseconds = 1000)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L947" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L947" target="_blank">Edit</a> </dd> </div> </div> <div id="toWinTime-procs-all"> <div id="toWinTime,Time"> <dt><pre data-language="nim">proc toWinTime(t: Time): int64 {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Convert <code><span class="Identifier">t</span></code> to a Windows file time (100-nanosecond intervals since <code><span class="DecNumber">1601</span><span class="Operator">-</span><span class="DecNumber">01</span><span class="Operator">-</span><span class="DecNumber">01</span><span class="Identifier">T00</span><span class="Punctuation">:</span><span class="DecNumber">00</span><span class="Punctuation">:</span><span class="DecNumber">00</span><span class="Identifier">Z</span></code>). <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L968" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L968" target="_blank">Edit</a> </dd> </div> </div> <div id="utc-procs-all"> <div id="utc"> <dt><pre data-language="nim">proc utc(): Timezone {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Get the <code><span class="Identifier">Timezone</span></code> implementation for the UTC timezone. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert now().utc.timezone == utc()
doAssert utc().name == "Etc/UTC"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1375" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1375" target="_blank">Edit</a> </dd> </div> <div id="utc,DateTime"> <dt><pre data-language="nim">proc utc(dt: DateTime): DateTime {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Shorthand for <code><span class="Identifier">dt</span><span class="Operator">.</span><span class="Identifier">inZone</span><span class="Punctuation">(</span><span class="Identifier">utc</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">)</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1394" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1394" target="_blank">Edit</a> </dd> </div> <div id="utc,Time"> <dt><pre data-language="nim">proc utc(t: Time): DateTime {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Shorthand for <code><span class="Identifier">t</span><span class="Operator">.</span><span class="Identifier">inZone</span><span class="Punctuation">(</span><span class="Identifier">utc</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">)</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1402" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1402" target="_blank">Edit</a> </dd> </div> </div> <div id="utcOffset-procs-all"> <div id="utcOffset,DateTime"> <dt><pre data-language="nim">proc utcOffset(dt: DateTime): int {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> The offset in seconds west of UTC, including any offset due to DST. Note that the sign of this number is the opposite of the one in a formatted offset string like <code><span class="Operator">+</span><span class="DecNumber">01</span><span class="Punctuation">:</span><span class="DecNumber">00</span></code> (which would be equivalent to the UTC offset <code><span class="Operator">-</span><span class="DecNumber">3600</span></code>). <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1121" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1121" target="_blank">Edit</a> </dd> </div> </div> <div id="utcOffset=-procs-all"> <div id="utcOffset=,DateTime,int"> <dt><pre data-language="nim">proc utcOffset=(dt: var DateTime; value: int) {.
    ...deprecated: "Deprecated since v1.3.1", raises: [], tags: [], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> Deprecated since v1.3.1 </div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2888" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2888" target="_blank">Edit</a> </dd> </div> </div> <div id="weekday-procs-all"> <div id="weekday,DateTime"> <dt><pre data-language="nim">proc weekday(dt: DateTime): WeekDay {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> The day of the week as an enum, the ordinal value is in the range 0 (monday) to 6 (sunday). <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1097" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1097" target="_blank">Edit</a> </dd> </div> </div> <div id="weekday=-procs-all"> <div id="weekday=,DateTime,WeekDay"> <dt><pre data-language="nim">proc weekday=(dt: var DateTime; value: WeekDay) {.
    ...deprecated: "Deprecated since v1.3.1", raises: [], tags: [], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> Deprecated since v1.3.1 </div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2876" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2876" target="_blank">Edit</a> </dd> </div> </div> <div id="weeks-procs-all"> <div id="weeks,int"> <dt><pre data-language="nim">proc weeks(w: int): TimeInterval {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>TimeInterval of <code><span class="Identifier">w</span></code> weeks.</p> <p><code><span class="Identifier">echo</span> <span class="Identifier">getTime</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">+</span> <span class="FloatNumber">2.</span><span class="Identifier">weeks</span></code></p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2614" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2614" target="_blank">Edit</a> </dd> </div> </div> <div id="year-procs-all"> <div id="year,DateTime"> <dt><pre data-language="nim">proc year(dt: DateTime): int {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> The year, using astronomical year numbering (meaning that before year 1 is year 0, then year -1 and so on). <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1090" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1090" target="_blank">Edit</a> </dd> </div> </div> <div id="year=-procs-all"> <div id="year=,DateTime,int"> <dt><pre data-language="nim">proc year=(dt: var DateTime; value: int) {.
    ...deprecated: "Deprecated since v1.3.1", raises: [], tags: [], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> Deprecated since v1.3.1 </div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2873" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2873" target="_blank">Edit</a> </dd> </div> </div> <div id="yearday-procs-all"> <div id="yearday,DateTime"> <dt><pre data-language="nim">proc yearday(dt: DateTime): YeardayRange {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> The number of days since January 1, in the range 0 to 365. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1103" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1103" target="_blank">Edit</a> </dd> </div> </div> <div id="yearday=-procs-all"> <div id="yearday=,DateTime,YeardayRange"> <dt><pre data-language="nim">proc yearday=(dt: var DateTime; value: YeardayRange) {.
    ...deprecated: "Deprecated since v1.3.1", raises: [], tags: [], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> Deprecated since v1.3.1 </div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2879" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2879" target="_blank">Edit</a> </dd> </div> </div> <div id="years-procs-all"> <div id="years,int"> <dt><pre data-language="nim">proc years(y: int): TimeInterval {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>TimeInterval of <code><span class="Identifier">y</span></code> years.</p> <p><code><span class="Identifier">echo</span> <span class="Identifier">getTime</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">+</span> <span class="FloatNumber">2.</span><span class="Identifier">years</span></code></p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L2626" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L2626" target="_blank">Edit</a> </dd> </div> </div> <div id="zonedTimeFromAdjTime-procs-all"> <div id="zonedTimeFromAdjTime,Timezone,Time"> <dt><pre data-language="nim">proc zonedTimeFromAdjTime(zone: Timezone; adjTime: Time): ZonedTime {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Returns the <code><span class="Identifier">ZonedTime</span></code> for some local time.</p> <p>Note that the <code><span class="Identifier">Time</span></code> argument does not represent a point in time, it represent a local time! E.g if <code><span class="Identifier">adjTime</span></code> is <code><span class="Identifier">fromUnix</span><span class="Punctuation">(</span><span class="DecNumber">0</span><span class="Punctuation">)</span></code>, it should be interpreted as 1970-01-01T00:00:00 in the <code><span class="Identifier">zone</span></code> timezone, not in UTC.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1239" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1239" target="_blank">Edit</a> </dd> </div> </div> <div id="zonedTimeFromTime-procs-all"> <div id="zonedTimeFromTime,Timezone,Time"> <dt><pre data-language="nim">proc zonedTimeFromTime(zone: Timezone; time: Time): ZonedTime {....raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> Returns the <code><span class="Identifier">ZonedTime</span></code> for some point in time. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/times.nim#L1235" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/times.nim#L1235" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/times.html" class="_attribution-link">https://nim-lang.org/docs/times.html</a>
  </p>
</div>
