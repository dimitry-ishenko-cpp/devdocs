<h1 class="title">sums</h1>  <p class="module-desc">Fast sumation functions. </p>
<p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">static:
  block:
    const data = [1, 2, 3, 4, 5, 6, 7, 8, 9]
    doAssert sumKbn(data) == 45
    doAssert sumPairs(data) == 45</pre>  <h2 id="6">Imports</h2> <dl> <a href="math.html">math</a> </dl>  <h2 id="13">Funcs</h2> <dl>  <dt><pre id="sumKbn%2CopenArray%5BT%5D" data-language="nim">func sumKbn[T](x: openArray[T]): T</pre></dt> <dd> Kahan-Babuška-Neumaier summation: O(1) error growth, at the expense of a considerable increase in computational expense. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/std/sums.nim#L12" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sums.nim#L12" target="_blank">Edit</a> </dd>  <dt><pre id="sumPairs%2CopenArray%5BT%5D" data-language="nim">func sumPairs[T](x: openArray[T]): T</pre></dt> <dd> <p>Pairwise (cascade) summation of <code>x[i0:i0+n-1]</code>, with O(log n) error growth (vs O(n) for a simple loop) with negligible performance cost if the base case is large enough.</p> <p>See, e.g.:</p> <ul class="simple">
<li>
<a href="http://en.wikipedia.org/wiki/Pairwise_summation">http://en.wikipedia.org/wiki/Pairwise_summation</a> Higham, Nicholas J. (1993), "The accuracy of floating point summation", SIAM Journal on Scientific Computing 14 (4): 783–799.</li> </ul> <p>In fact, the root-mean-square error growth, assuming random roundoff errors, is only O(sqrt(log n)), which is nearly indistinguishable from O(1) in practice. See:</p> <ul class="simple">
<li>Manfred Tasche and Hansmartin Zeuner, Handbook of Analytic-Computational Methods in Applied Mathematics (2000).</li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/std/sums.nim#L37" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sums.nim#L37" target="_blank">Edit</a> </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2021 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/sums.html" class="_attribution-link">https://nim-lang.org/docs/sums.html</a>
  </p>
</div>
