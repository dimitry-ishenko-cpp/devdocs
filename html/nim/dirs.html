<h1 class="title">std/dirs</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/dirs.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/dirs.nim#L1" target="_blank">Edit</a>  <p class="module-desc">This module implements directory handling.</p>  <h2 id="6">Imports</h2> <dl> <a href="paths.html">paths</a>, <a href="osdirs.html">osdirs</a> </dl>   <h2 id="12">Procs</h2> <dl> <div id="createDir-procs-all"> <div id="createDir,Path"> <dt><pre data-language="nim">proc createDir(dir: Path) {.inline, ...tags: [WriteDirEffect, ReadDirEffect],
                            raises: [OSError, IOError], forbids: [].}</pre></dt> <dd> <p>Creates the <span id="directory_1">directory</span> <code><span class="Identifier">dir</span></code>.</p> <p>The directory may contain several subdirectories that do not exist yet. The full path is created. If this fails, <code><span class="Identifier">OSError</span></code> is raised.</p> <p>It does <strong>not</strong> fail if the directory already exists because for most usages this does not indicate an error.</p> <p>See also:</p> <ul class="simple">
<li><a title="proc removeDir(dir: Path; checkDir = false)" href="#removeDir,Path">removeDir proc</a></li> <li><a title="proc existsOrCreateDir(dir: Path): bool" href="#existsOrCreateDir,Path">existsOrCreateDir proc</a></li> <li><a title="proc moveDir(source, dest: Path)" href="#moveDir,Path,Path">moveDir proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/dirs.nim#L16" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/dirs.nim#L16" target="_blank">Edit</a> </dd> </div> </div> <div id="dirExists-procs-all"> <div id="dirExists,Path"> <dt><pre data-language="nim">proc dirExists(dir: Path): bool {.inline, ...tags: [ReadDirEffect], sideEffect,
                                  ...raises: [], forbids: [].}</pre></dt> <dd> Returns true if the directory <code><span class="Identifier">dir</span></code> exists. If <code><span class="Identifier">dir</span></code> is a file, false is returned. Follows symlinks. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/dirs.nim#L11" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/dirs.nim#L11" target="_blank">Edit</a> </dd> </div> </div> <div id="existsOrCreateDir-procs-all"> <div id="existsOrCreateDir,Path"> <dt><pre data-language="nim">proc existsOrCreateDir(dir: Path): bool {.inline,
    ...tags: [WriteDirEffect, ReadDirEffect], raises: [OSError, IOError],
    forbids: [].}</pre></dt> <dd> <p>Checks if a <span id="directory_2">directory</span> <code><span class="Identifier">dir</span></code> exists, and creates it otherwise.</p> <p>Does not create parent directories (raises <code><span class="Identifier">OSError</span></code> if parent directories do not exist). Returns <code><span class="Identifier">true</span></code> if the directory already exists, and <code><span class="Identifier">false</span></code> otherwise.</p> <p>See also:</p> <ul class="simple">
<li><a title="proc removeDir(dir: Path; checkDir = false)" href="#removeDir,Path">removeDir proc</a></li> <li><a title="proc createDir(dir: Path)" href="#createDir,Path">createDir proc</a></li> <li><a title="proc moveDir(source, dest: Path)" href="#moveDir,Path,Path">moveDir proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/dirs.nim#L31" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/dirs.nim#L31" target="_blank">Edit</a> </dd> </div> </div> <div id="moveDir-procs-all"> <div id="moveDir,Path,Path"> <dt><pre data-language="nim">proc moveDir(source, dest: Path) {.inline, ...tags: [ReadIOEffect, WriteIOEffect],
                                   raises: [OSError, IOError], forbids: [].}</pre></dt> <dd> <p>Moves a directory from <code><span class="Identifier">source</span></code> to <code><span class="Identifier">dest</span></code>.</p> <p>Symlinks are not followed: if <code><span class="Identifier">source</span></code> contains symlinks, they themself are moved, not their target.</p> <p>If this fails, <code><span class="Identifier">OSError</span></code> is raised.</p> <p>See also:</p> <ul class="simple">
<li><a href="files.html#moveFile">moveFile proc</a></li> <li><a title="proc removeDir(dir: Path; checkDir = false)" href="#removeDir,Path">removeDir proc</a></li> <li><a title="proc existsOrCreateDir(dir: Path): bool" href="#existsOrCreateDir,Path">existsOrCreateDir proc</a></li> <li><a title="proc createDir(dir: Path)" href="#createDir,Path">createDir proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/dirs.nim#L58" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/dirs.nim#L58" target="_blank">Edit</a> </dd> </div> </div> <div id="removeDir-procs-all"> <div id="removeDir,Path"> <dt><pre data-language="nim">proc removeDir(dir: Path; checkDir = false) {.inline,
    ...tags: [WriteDirEffect, ReadDirEffect], raises: [OSError], forbids: [].}</pre></dt> <dd> <p>Removes the directory <code><span class="Identifier">dir</span></code> including all subdirectories and files in <code><span class="Identifier">dir</span></code> (recursively).</p> <p>If this fails, <code><span class="Identifier">OSError</span></code> is raised. This does not fail if the directory never existed in the first place, unless <code><span class="Identifier">checkDir</span></code> = true.</p> <p>See also:</p> <ul class="simple">
<li><a href="files.html#removeFile">removeFile proc</a></li> <li><a title="proc existsOrCreateDir(dir: Path): bool" href="#existsOrCreateDir,Path">existsOrCreateDir proc</a></li> <li><a title="proc createDir(dir: Path)" href="#createDir,Path">createDir proc</a></li> <li><a title="proc moveDir(source, dest: Path)" href="#moveDir,Path,Path">moveDir proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/dirs.nim#L43" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/dirs.nim#L43" target="_blank">Edit</a> </dd> </div> </div> <div id="setCurrentDir-procs-all"> <div id="setCurrentDir,Path"> <dt><pre data-language="nim">proc setCurrentDir(newDir: Path) {.inline, ...tags: [], raises: [OSError],
                                   forbids: [].}</pre></dt> <dd> <p>Sets the <span id="current-working-directory_1">current working directory</span>; <code><span class="Identifier">OSError</span></code> is raised if <code><span class="Identifier">newDir</span></code> cannot been set.</p> <p>See also:</p> <ul class="simple">
<li><a href="paths.html#getCurrentDir">getCurrentDir proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/dirs.nim#L129" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/dirs.nim#L129" target="_blank">Edit</a> </dd> </div> </div> </dl>   <h2 id="15">Iterators</h2> <dl> <div id="walkDir-iterators-all"> <div id="walkDir.i,Path"> <dt><pre data-language="nim">iterator walkDir(dir: Path; relative = false; checkDir = false;
                 skipSpecial = false): tuple[kind: PathComponent, path: Path] {.
    ...tags: [ReadDirEffect], raises: [OSError], forbids: [].}</pre></dt> <dd> <p>Walks over the directory <code><span class="Identifier">dir</span></code> and yields for each directory or file in <code><span class="Identifier">dir</span></code>. The component type and full path for each item are returned.</p> <p>Walking is not recursive.</p> <ul class="simple">
<li>If <code><span class="Identifier">relative</span></code> is true (default: false) the resulting path is shortened to be relative to <code>dir</code>, otherwise the full path is returned.</li> <li>If <code><span class="Identifier">checkDir</span></code> is true, <code><span class="Identifier">OSError</span></code> is raised when <code><span class="Identifier">dir</span></code> doesn't exist.</li> <li>If <code><span class="Identifier">skipSpecial</span></code> is true, then (besides all directories) only <em>regular</em> files (<strong>without</strong> special "file" objects like FIFOs, device files, etc) will be yielded on Unix.</li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/dirs.nim#L73" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/dirs.nim#L73" target="_blank">Edit</a> </dd> </div> </div> <div id="walkDirRec-iterators-all"> <div id="walkDirRec.i,Path"> <dt><pre data-language="nim">iterator walkDirRec(dir: Path; yieldFilter = {pcFile}; followFilter = {pcDir};
                    relative = false; checkDir = false; skipSpecial = false): Path {.
    ...tags: [ReadDirEffect], raises: [OSError], forbids: [].}</pre></dt> <dd> <p>Recursively walks over the directory <code><span class="Identifier">dir</span></code> and yields for each file or directory in <code><span class="Identifier">dir</span></code>.</p> <p>Options <code><span class="Identifier">relative</span></code>, <code><span class="Identifier">checkdir</span></code>, <code><span class="Identifier">skipSpecial</span></code> are explained in <a title="iterator walkDir(dir: Path; relative = false; checkDir = false; skipSpecial = false): tuple[
    kind: PathComponent, path: Path]" href="#walkDir.i,Path">walkDir iterator</a> description.</p> <div class="admonition admonition-warning">
<span class="admonition-warning-text"><b>Warning:</b></span> Modifying the directory structure while the iterator is traversing may result in undefined behavior!</div> <p>Walking is recursive. <code><span class="Identifier">followFilter</span></code> controls the behaviour of the iterator:</p> <table>
<tr>
<th>yieldFilter</th>
<th>meaning</th>
</tr> <tr>
<td><code>pcFile</code></td>
<td>yield real files (default)</td>
</tr> <tr>
<td><code>pcLinkToFile</code></td>
<td>yield symbolic links to files</td>
</tr> <tr>
<td><code>pcDir</code></td>
<td>yield real directories</td>
</tr> <tr>
<td><code>pcLinkToDir</code></td>
<td>yield symbolic links to directories</td>
</tr> </table>
<table>
<tr>
<th>followFilter</th>
<th>meaning</th>
</tr> <tr>
<td><code>pcDir</code></td>
<td>follow real directories (default)</td>
</tr> <tr>
<td><code>pcLinkToDir</code></td>
<td>follow symbolic links to directories</td>
</tr> </table>
<p>See also:</p> <ul class="simple">
<li><a title="iterator walkDir(dir: Path; relative = false; checkDir = false; skipSpecial = false): tuple[
    kind: PathComponent, path: Path]" href="#walkDir.i,Path">walkDir iterator</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/dirs.nim#L91" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/dirs.nim#L91" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/dirs.html" class="_attribution-link">https://nim-lang.org/docs/dirs.html</a>
  </p>
</div>
