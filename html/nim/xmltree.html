<h1 class="title">xmltree</h1>  <p class="module-desc">A simple XML tree generator. </p>
<p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var g = newElement("myTag")
g.add newText("some text")
g.add newComment("this is comment")

var h = newElement("secondTag")
h.add newEntity("some entity")

let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
let k = newXmlTree("treeTag", [g, h], att)

doAssert $k == """&lt;treeTag key1="first value" key2="second value"&gt;
  &lt;myTag&gt;some text&lt;!-- this is comment --&gt;&lt;/myTag&gt;
  &lt;secondTag&gt;&amp;some entity;&lt;/secondTag&gt;
&lt;/treeTag&gt;"""</pre>
<strong>See also:</strong><ul class="simple">
<li>
<a href="xmlparser.html">xmlparser module</a> for high-level XML parsing</li> <li>
<a href="parsexml.html">parsexml module</a> for low-level XML parsing</li> <li>
<a href="htmlgen.html">htmlgen module</a> for html code generator</li> </ul>  <h2 id="6">Imports</h2> <dl> <a href="since.html">since</a>, <a href="macros.html">macros</a>, <a href="strtabs.html">strtabs</a>, <a href="strutils.html">strutils</a> </dl>  <h2 id="7">Types</h2> <dl>  <dt><pre id="XmlNode">XmlNode = ref XmlNodeObj</pre></dt> <dd> <p>An XML tree consisting of XML nodes.</p> <p>Use <a href="#newXmlTree,string,openArray%5BXmlNode%5D,XmlAttributes">newXmlTree proc</a> for creating a new tree.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L37" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L37" target="_blank">Edit</a> </dd>  <dt><pre id="XmlNodeKind" data-language="nim">XmlNodeKind = enum
  xnText,                   ## a text element
  xnVerbatimText, xnElement, ## an element with 0 or more children
  xnCData,                  ## a CDATA node
  xnEntity,                 ## an entity (like ``&amp;thing;``)
  xnComment                  ## an XML comment</pre></dt> <dd> Different kinds of XML nodes. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L42" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L42" target="_blank">Edit</a> </dd>  <dt><pre id="XmlAttributes">XmlAttributes = StringTableRef</pre></dt> <dd> <p>An alias for a string to string mapping.</p> <p>Use <a href="#toXmlAttributes,varargs%5Btuple%5Bstring,string%5D%5D">toXmlAttributes proc</a> to create <code>XmlAttributes</code>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L50" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L50" target="_blank">Edit</a> </dd> </dl>  <h2 id="10">Consts</h2> <dl>  <dt><pre id="xmlHeader" data-language="nim">xmlHeader = "&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n"</pre></dt> <dd> Header to use for complete XML output. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L66" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L66" target="_blank">Edit</a> </dd> </dl>  <h2 id="12">Procs</h2> <dl>  <dt><pre id="newElement%2Cstring" data-language="nim">proc newElement(tag: string): XmlNode {...}{.raises: [], tags: [].}</pre></dt> <dd> <p>Creates a new <code>XmlNode</code> of kind <code>xnElement</code> with the given <code>tag</code>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#newXmlTree,string,openArray%5BXmlNode%5D,XmlAttributes">newXmlTree proc</a></li> <li><a href="#&lt;&gt;.m,untyped">&lt;&gt; macro</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var a = newElement("firstTag")
a.add newElement("childTag")
assert a.kind == xnElement
assert $a == """&lt;firstTag&gt;
  &lt;childTag /&gt;
&lt;/firstTag&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L73" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L73" target="_blank">Edit</a> </dd>  <dt><pre id="newText%2Cstring" data-language="nim">proc newText(text: string): XmlNode {...}{.raises: [], tags: [].}</pre></dt> <dd> Creates a new <code>XmlNode</code> of kind <code>xnText</code> with the text <code>text</code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var b = newText("my text")
assert b.kind == xnText
assert $b == "my text"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L92" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L92" target="_blank">Edit</a> </dd>  <dt><pre id="newVerbatimText%2Cstring" data-language="nim">proc newVerbatimText(text: string): XmlNode {...}{.raises: [], tags: [].}</pre></dt> <dd> Creates a new <code>XmlNode</code> of kind <code>xnVerbatimText</code> with the text <code>text</code>. <strong>Since</strong>: Version 1.3. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L102" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L102" target="_blank">Edit</a> </dd>  <dt><pre id="newComment%2Cstring" data-language="nim">proc newComment(comment: string): XmlNode {...}{.raises: [], tags: [].}</pre></dt> <dd> Creates a new <code>XmlNode</code> of kind <code>xnComment</code> with the text <code>comment</code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var c = newComment("my comment")
assert c.kind == xnComment
assert $c == "&lt;!-- my comment --&gt;"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L108" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L108" target="_blank">Edit</a> </dd>  <dt><pre id="newCData%2Cstring" data-language="nim">proc newCData(cdata: string): XmlNode {...}{.raises: [], tags: [].}</pre></dt> <dd> Creates a new <code>XmlNode</code> of kind <code>xnCData</code> with the text <code>cdata</code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var d = newCData("my cdata")
assert d.kind == xnCData
assert $d == "&lt;![CDATA[my cdata]]&gt;"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L118" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L118" target="_blank">Edit</a> </dd>  <dt><pre id="newEntity%2Cstring" data-language="nim">proc newEntity(entity: string): XmlNode {...}{.raises: [], tags: [].}</pre></dt> <dd> Creates a new <code>XmlNode</code> of kind <code>xnEntity</code> with the text <code>entity</code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var e = newEntity("my entity")
assert e.kind == xnEntity
assert $e == "&amp;my entity;"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L128" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L128" target="_blank">Edit</a> </dd>  <dt><pre id="newXmlTree%2Cstring%2CopenArray%5BXmlNode%5D%2CXmlAttributes" data-language="nim">proc newXmlTree(tag: string; children: openArray[XmlNode];
                attributes: XmlAttributes = nil): XmlNode {...}{.raises: [], tags: [].}</pre></dt> <dd> <p>Creates a new XML tree with <code>tag</code>, <code>children</code> and <code>attributes</code>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#newElement,string">newElement proc</a></li> <li><a href="#&lt;&gt;.m,untyped">&lt;&gt; macro</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var g = newElement("myTag")
g.add newText("some text")
g.add newComment("this is comment")
var h = newElement("secondTag")
h.add newEntity("some entity")
let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
let k = newXmlTree("treeTag", [g, h], att)

doAssert $k == """&lt;treeTag key1="first value" key2="second value"&gt;
  &lt;myTag&gt;some text&lt;!-- this is comment --&gt;&lt;/myTag&gt;
  &lt;secondTag&gt;&amp;some entity;&lt;/secondTag&gt;
&lt;/treeTag&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L138" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L138" target="_blank">Edit</a> </dd>  <dt><pre id="text%2CXmlNode" data-language="nim">proc text(n: XmlNode): string {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> <p>Gets the associated text with the node <code>n</code>.</p> <p><code>n</code> can be a CDATA, Text, comment, or entity node.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#text=,XmlNode,string">text= proc</a> for text setter</li> <li>
<a href="#tag,XmlNode">tag proc</a> for tag getter</li> <li>
<a href="#tag=,XmlNode,string">tag= proc</a> for tag setter</li> <li><a href="#innerText,XmlNode">innerText proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var c = newComment("my comment")
assert $c == "&lt;!-- my comment --&gt;"
assert c.text == "my comment"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L166" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L166" target="_blank">Edit</a> </dd>  <dt><pre id="text%3D%2CXmlNode%2Cstring" data-language="nim">proc text=(n: XmlNode; text: string) {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> <p>Sets the associated text with the node <code>n</code>.</p> <p><code>n</code> can be a CDATA, Text, comment, or entity node.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#text,XmlNode">text proc</a> for text getter</li> <li>
<a href="#tag,XmlNode">tag proc</a> for tag getter</li> <li>
<a href="#tag=,XmlNode,string">tag= proc</a> for tag setter</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var e = newEntity("my entity")
assert $e == "&amp;my entity;"
e.text = "a new entity text"
assert $e == "&amp;a new entity text;"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L184" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L184" target="_blank">Edit</a> </dd>  <dt><pre id="tag%2CXmlNode" data-language="nim">proc tag(n: XmlNode): string {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> <p>Gets the tag name of <code>n</code>.</p> <p><code>n</code> has to be an <code>xnElement</code> node.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#text,XmlNode">text proc</a> for text getter</li> <li>
<a href="#text=,XmlNode,string">text= proc</a> for text setter</li> <li>
<a href="#tag=,XmlNode,string">tag= proc</a> for tag setter</li> <li><a href="#innerText,XmlNode">innerText proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var a = newElement("firstTag")
a.add newElement("childTag")
assert $a == """&lt;firstTag&gt;
  &lt;childTag /&gt;
&lt;/firstTag&gt;"""
assert a.tag == "firstTag"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L202" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L202" target="_blank">Edit</a> </dd>  <dt><pre id="tag%3D%2CXmlNode%2Cstring" data-language="nim">proc tag=(n: XmlNode; tag: string) {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> <p>Sets the tag name of <code>n</code>.</p> <p><code>n</code> has to be an <code>xnElement</code> node.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#text,XmlNode">text proc</a> for text getter</li> <li>
<a href="#text=,XmlNode,string">text= proc</a> for text setter</li> <li>
<a href="#tag,XmlNode">tag proc</a> for tag getter</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var a = newElement("firstTag")
a.add newElement("childTag")
assert $a == """&lt;firstTag&gt;
  &lt;childTag /&gt;
&lt;/firstTag&gt;"""
a.tag = "newTag"
assert $a == """&lt;newTag&gt;
  &lt;childTag /&gt;
&lt;/newTag&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L223" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L223" target="_blank">Edit</a> </dd>  <dt><pre id="rawText%2CXmlNode" data-language="nim">proc rawText(n: XmlNode): string {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> <p>Returns the underlying 'text' string by reference.</p> <p>This is only used for speed hacks.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L246" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L246" target="_blank">Edit</a> </dd>  <dt><pre id="rawTag%2CXmlNode" data-language="nim">proc rawTag(n: XmlNode): string {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> <p>Returns the underlying 'tag' string by reference.</p> <p>This is only used for speed hacks.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L255" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L255" target="_blank">Edit</a> </dd>  <dt><pre id="innerText%2CXmlNode" data-language="nim">proc innerText(n: XmlNode): string {...}{.raises: [], tags: [].}</pre></dt> <dd> Gets the inner text of <code>n</code>:<ul class="simple">
<li>If <code>n</code> is <code>xnText</code> or <code>xnEntity</code>, returns its content.</li> <li>If <code>n</code> is <code>xnElement</code>, runs recursively on each child node and concatenates the results.</li> <li>Otherwise returns an empty string.</li> </ul> <p>See also:</p> <ul class="simple">
<li><a href="#text,XmlNode">text proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newText("my text")
f.add newComment("my comment")
f.add newEntity("my entity")
assert $f == "&lt;myTag&gt;my text&lt;!-- my comment --&gt;&amp;my entity;&lt;/myTag&gt;"
assert innerText(f) == "my textmy entity"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L264" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L264" target="_blank">Edit</a> </dd>  <dt><pre id="add%2CXmlNode%2CXmlNode" data-language="nim">proc add(father, son: XmlNode) {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> <p>Adds the child <code>son</code> to <code>father</code>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#insert,XmlNode,XmlNode,int">insert proc</a></li> <li><a href="#delete,XmlNode,Natural">delete proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newText("my text")
f.add newElement("sonTag")
f.add newEntity("my entity")
assert $f == "&lt;myTag&gt;my text&lt;sonTag /&gt;&amp;my entity;&lt;/myTag&gt;"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L295" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L295" target="_blank">Edit</a> </dd>  <dt><pre id="insert%2CXmlNode%2CXmlNode%2Cint" data-language="nim">proc insert(father, son: XmlNode; index: int) {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> <p>Inserts the child <code>son</code> to a given position in <code>father</code>.</p> <p><code>father</code> and <code>son</code> must be of <code>xnElement</code> kind.</p> <p>See also:</p> <ul class="simple">
<li><a href="#add,XmlNode,XmlNode">add proc</a></li> <li><a href="#delete,XmlNode,Natural">delete proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newElement("first")
f.insert(newElement("second"), 0)
assert $f == """&lt;myTag&gt;
  &lt;second /&gt;
  &lt;first /&gt;
&lt;/myTag&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L309" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L309" target="_blank">Edit</a> </dd>  <dt><pre id="delete%2CXmlNode%2CNatural" data-language="nim">proc delete(n: XmlNode; i: Natural) {...}{.raises: [], tags: [].}</pre></dt> <dd> <p>Deletes the <code>i</code>'th child of <code>n</code>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#add,XmlNode,XmlNode">add proc</a></li> <li><a href="#insert,XmlNode,XmlNode,int">insert proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newElement("first")
f.insert(newElement("second"), 0)
f.delete(0)
assert $f == """&lt;myTag&gt;
  &lt;first /&gt;
&lt;/myTag&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L332" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L332" target="_blank">Edit</a> </dd>  <dt><pre id="len%2CXmlNode" data-language="nim">proc len(n: XmlNode): int {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> Returns the number of <code>n</code>'s children. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newElement("first")
f.insert(newElement("second"), 0)
assert len(f) == 2</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L350" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L350" target="_blank">Edit</a> </dd>  <dt><pre id="kind%2CXmlNode" data-language="nim">proc kind(n: XmlNode): XmlNodeKind {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> Returns <code>n</code>'s kind. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var a = newElement("firstTag")
assert a.kind == xnElement
var b = newText("my text")
assert b.kind == xnText</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L359" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L359" target="_blank">Edit</a> </dd>  <dt><pre id="%5B%5D%2CXmlNode%2Cint" data-language="nim">proc `[]`(n: XmlNode; i: int): XmlNode {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> Returns the <code>i</code>'th child of <code>n</code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newElement("first")
f.insert(newElement("second"), 0)
assert $f[1] == "&lt;first /&gt;"
assert $f[0] == "&lt;second /&gt;"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L368" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L368" target="_blank">Edit</a> </dd>  <dt><pre id="%5B%5D%2CXmlNode%2Cint_2" data-language="nim">proc `[]`(n: var XmlNode; i: int): var XmlNode {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> Returns the <code>i</code>'th child of <code>n</code> so that it can be modified. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L380" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L380" target="_blank">Edit</a> </dd>  <dt><pre id="clear%2CXmlNode" data-language="nim">proc clear(n: var XmlNode) {...}{.raises: [], tags: [].}</pre></dt> <dd> Recursively clears all children of an XmlNode. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var g = newElement("myTag")
g.add newText("some text")
g.add newComment("this is comment")

var h = newElement("secondTag")
h.add newEntity("some entity")

let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
var k = newXmlTree("treeTag", [g, h], att)

doAssert $k == """&lt;treeTag key1="first value" key2="second value"&gt;
  &lt;myTag&gt;some text&lt;!-- this is comment --&gt;&lt;/myTag&gt;
  &lt;secondTag&gt;&amp;some entity;&lt;/secondTag&gt;
&lt;/treeTag&gt;"""

clear(k)
doAssert $k == """&lt;treeTag key1="first value" key2="second value" /&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L385" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L385" target="_blank">Edit</a> </dd>  <dt><pre id="toXmlAttributes%2Cvarargs%5Btuple%5Bstring%2Cstring%5D%5D" data-language="nim">proc toXmlAttributes(keyValuePairs: varargs[tuple[key, val: string]]): XmlAttributes {...}{.
    raises: [], tags: [].}</pre></dt> <dd> Converts <code>{key: value}</code> pairs into <code>XmlAttributes</code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
var j = newElement("myTag")
j.attrs = att

doAssert $j == """&lt;myTag key1="first value" key2="second value" /&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L442" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L442" target="_blank">Edit</a> </dd>  <dt><pre id="attrs%2CXmlNode" data-language="nim">proc attrs(n: XmlNode): XmlAttributes {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> <p>Gets the attributes belonging to <code>n</code>.</p> <p>Returns <code>nil</code> if attributes have not been initialised for this node.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#attrs=,XmlNode,XmlAttributes">attrs= proc</a> for XmlAttributes setter</li> <li>
<a href="#attrsLen,XmlNode">attrsLen proc</a> for number of attributes</li> <li>
<a href="#attr,XmlNode,string">attr proc</a> for finding an attribute</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var j = newElement("myTag")
assert j.attrs == nil
let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
j.attrs = att
assert j.attrs == att</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L455" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L455" target="_blank">Edit</a> </dd>  <dt><pre id="attrs%3D%2CXmlNode%2CXmlAttributes" data-language="nim">proc attrs=(n: XmlNode; attr: XmlAttributes) {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> <p>Sets the attributes belonging to <code>n</code>.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#attrs,XmlNode">attrs proc</a> for XmlAttributes getter</li> <li>
<a href="#attrsLen,XmlNode">attrsLen proc</a> for number of attributes</li> <li>
<a href="#attr,XmlNode,string">attr proc</a> for finding an attribute</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var j = newElement("myTag")
assert j.attrs == nil
let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
j.attrs = att
assert j.attrs == att</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L474" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L474" target="_blank">Edit</a> </dd>  <dt><pre id="attrsLen%2CXmlNode" data-language="nim">proc attrsLen(n: XmlNode): int {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> <p>Returns the number of <code>n</code>'s attributes.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#attrs,XmlNode">attrs proc</a> for XmlAttributes getter</li> <li>
<a href="#attrs=,XmlNode,XmlAttributes">attrs= proc</a> for XmlAttributes setter</li> <li>
<a href="#attr,XmlNode,string">attr proc</a> for finding an attribute</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var j = newElement("myTag")
assert j.attrsLen == 0
let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
j.attrs = att
assert j.attrsLen == 2</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L491" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L491" target="_blank">Edit</a> </dd>  <dt><pre id="attr%2CXmlNode%2Cstring" data-language="nim">proc attr(n: XmlNode; name: string): string {...}{.raises: [], tags: [].}</pre></dt> <dd> <p>Finds the first attribute of <code>n</code> with a name of <code>name</code>. Returns "" on failure.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#attrs,XmlNode">attrs proc</a> for XmlAttributes getter</li> <li>
<a href="#attrs=,XmlNode,XmlAttributes">attrs= proc</a> for XmlAttributes setter</li> <li>
<a href="#attrsLen,XmlNode">attrsLen proc</a> for number of attributes</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var j = newElement("myTag")
let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
j.attrs = att
assert j.attr("key1") == "first value"
assert j.attr("key2") == "second value"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L508" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L508" target="_blank">Edit</a> </dd>  <dt><pre id="clientData%2CXmlNode" data-language="nim">proc clientData(n: XmlNode): int {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> <p>Gets the client data of <code>n</code>.</p> <p>The client data field is used by the HTML parser and generator.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L527" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L527" target="_blank">Edit</a> </dd>  <dt><pre id="clientData%3D%2CXmlNode%2Cint" data-language="nim">proc clientData=(n: XmlNode; data: int) {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> <p>Sets the client data of <code>n</code>.</p> <p>The client data field is used by the HTML parser and generator.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L533" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L533" target="_blank">Edit</a> </dd>  <dt><pre id="addEscaped%2Cstring%2Cstring" data-language="nim">proc addEscaped(result: var string; s: string) {...}{.raises: [], tags: [].}</pre></dt> <dd> The same as <a href="#escape,string">result.add(escape(s))</a>, but more efficient. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L539" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L539" target="_blank">Edit</a> </dd>  <dt><pre id="escape%2Cstring" data-language="nim">proc escape(s: string): string {...}{.raises: [], tags: [].}</pre></dt> <dd> <p>Escapes <code>s</code> for inclusion into an XML document.</p> <p>Escapes these characters:</p> <table>
<tr>
<th>char</th>
<th>is converted to</th>
</tr> <tr>
<td><code>&lt;</code></td>
<td><code>&amp;lt;</code></td>
</tr> <tr>
<td><code>&gt;</code></td>
<td><code>&amp;gt;</code></td>
</tr> <tr>
<td><code>&amp;</code></td>
<td><code>&amp;amp;</code></td>
</tr> <tr>
<td><code>"</code></td>
<td><code>&amp;quot;</code></td>
</tr> <tr>
<td><code>'</code></td>
<td><code>&amp;apos;</code></td>
</tr> </table>
<p>You can also use <a href="#addEscaped,string,string">addEscaped proc</a>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L550" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L550" target="_blank">Edit</a> </dd>  <dt><pre id="add%2Cstring%2CXmlNode%2Cint%2Cint" data-language="nim">proc add(result: var string; n: XmlNode; indent = 0; indWidth = 2;
         addNewLines = true) {...}{.raises: [], tags: [].}</pre></dt> <dd> Adds the textual representation of <code>n</code> to string <code>result</code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var
  a = newElement("firstTag")
  b = newText("my text")
  c = newComment("my comment")
  s = ""
s.add(c)
s.add(a)
s.add(b)
assert s == "&lt;!-- my comment --&gt;&lt;firstTag /&gt;my text"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L575" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L575" target="_blank">Edit</a> </dd>  <dt><pre id="%24%2CXmlNode" data-language="nim">proc `$`(n: XmlNode): string {...}{.raises: [], tags: [].}</pre></dt> <dd> <p>Converts <code>n</code> into its string representation.</p> <p>No <code>&lt;$xml ...$&gt;</code> declaration is produced, so that the produced XML fragments are composable.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L663" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L663" target="_blank">Edit</a> </dd>  <dt><pre id="child%2CXmlNode%2Cstring" data-language="nim">proc child(n: XmlNode; name: string): XmlNode {...}{.raises: [], tags: [].}</pre></dt> <dd> Finds the first child element of <code>n</code> with a name of <code>name</code>. Returns <code>nil</code> on failure. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newElement("firstSon")
f.add newElement("secondSon")
f.add newElement("thirdSon")
assert $(f.child("secondSon")) == "&lt;secondSon /&gt;"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L671" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L671" target="_blank">Edit</a> </dd>  <dt><pre id="findAll%2CXmlNode%2Cstring%2Cseq%5BXmlNode%5D" data-language="nim">proc findAll(n: XmlNode; tag: string; result: var seq[XmlNode];
             caseInsensitive = false) {...}{.raises: [], tags: [].}</pre></dt> <dd> <p>Iterates over all the children of <code>n</code> returning those matching <code>tag</code>.</p> <p>Found nodes satisfying the condition will be appended to the <code>result</code> sequence.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var
  b = newElement("good")
  c = newElement("bad")
  d = newElement("BAD")
  e = newElement("GOOD")
b.add newText("b text")
c.add newText("c text")
d.add newText("d text")
e.add newText("e text")
let a = newXmlTree("father", [b, c, d, e])
var s = newSeq[XmlNode]()
a.findAll("good", s)
assert $s == "@[&lt;good&gt;b text&lt;/good&gt;]"
s.setLen(0)
a.findAll("good", s, caseInsensitive = true)
assert $s == "@[&lt;good&gt;b text&lt;/good&gt;, &lt;GOOD&gt;e text&lt;/GOOD&gt;]"
s.setLen(0)
a.findAll("BAD", s)
assert $s == "@[&lt;BAD&gt;d text&lt;/BAD&gt;]"
s.setLen(0)
a.findAll("BAD", s, caseInsensitive = true)
assert $s == "@[&lt;bad&gt;c text&lt;/bad&gt;, &lt;BAD&gt;d text&lt;/BAD&gt;]"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L687" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L687" target="_blank">Edit</a> </dd>  <dt><pre id="findAll%2CXmlNode%2Cstring" data-language="nim">proc findAll(n: XmlNode; tag: string; caseInsensitive = false): seq[XmlNode] {...}{.
    raises: [], tags: [].}</pre></dt> <dd> A shortcut version to assign in let blocks. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var
  b = newElement("good")
  c = newElement("bad")
  d = newElement("BAD")
  e = newElement("GOOD")
b.add newText("b text")
c.add newText("c text")
d.add newText("d text")
e.add newText("e text")
let a = newXmlTree("father", [b, c, d, e])
assert $(a.findAll("good")) == "@[&lt;good&gt;b text&lt;/good&gt;]"
assert $(a.findAll("BAD")) == "@[&lt;BAD&gt;d text&lt;/BAD&gt;]"
assert $(a.findAll("good", caseInsensitive = true)) == "@[&lt;good&gt;b text&lt;/good&gt;, &lt;GOOD&gt;e text&lt;/GOOD&gt;]"
assert $(a.findAll("BAD", caseInsensitive = true)) == "@[&lt;bad&gt;c text&lt;/bad&gt;, &lt;BAD&gt;d text&lt;/BAD&gt;]"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L726" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L726" target="_blank">Edit</a> </dd> </dl>  <h2 id="15">Iterators</h2> <dl>  <dt><pre id="items.i%2CXmlNode" data-language="nim">iterator items(n: XmlNode): XmlNode {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> Iterates over all direct children of <code>n</code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var g = newElement("myTag")
g.add newText("some text")
g.add newComment("this is comment")

var h = newElement("secondTag")
h.add newEntity("some entity")
g.add h

assert $g == "&lt;myTag&gt;some text&lt;!-- this is comment --&gt;&lt;secondTag&gt;&amp;some entity;&lt;/secondTag&gt;&lt;/myTag&gt;"

# for x in g: # the same as `for x in items(g):`
#   echo x

# some text
# &lt;!-- this is comment --&gt;
# &lt;secondTag&gt;&amp;some entity;&lt;![CDATA[some cdata]]&gt;&lt;/secondTag&gt;</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L413" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L413" target="_blank">Edit</a> </dd>  <dt><pre id="mitems.i%2CXmlNode" data-language="nim">iterator mitems(n: var XmlNode): var XmlNode {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> Iterates over all direct children of <code>n</code> so that they can be modified. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L437" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L437" target="_blank">Edit</a> </dd> </dl>  <h2 id="17">Macros</h2> <dl>  <dt><pre id="%3C%3E.m%2Cuntyped" data-language="nim">macro `&lt;&gt;`(x: untyped): untyped</pre></dt> <dd> Constructor macro for XML. Example usage:<pre class="listing" data-language="nim">&lt;&gt;a(href="http://nim-lang.org", newText("Nim rules."))</pre>
<p>Produces an XML tree for:</p>
<pre data-language="nim">&lt;a href="http://nim-lang.org"&gt;Nim rules.&lt;/a&gt;</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/xmltree.nim#L771" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L771" target="_blank">Edit</a> </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2021 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/xmltree.html" class="_attribution-link">https://nim-lang.org/docs/xmltree.html</a>
  </p>
</div>
