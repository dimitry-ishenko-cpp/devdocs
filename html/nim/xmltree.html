<h1 class="title">std/xmltree</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L1" target="_blank">Edit</a>  <p class="module-desc">A simple XML tree generator. </p>
<p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import std/xmltree
var g = newElement("myTag")
g.add newText("some text")
g.add newComment("this is comment")

var h = newElement("secondTag")
h.add newEntity("some entity")

let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
let k = newXmlTree("treeTag", [g, h], att)

doAssert $k == """&lt;treeTag key1="first value" key2="second value"&gt;
  &lt;myTag&gt;some text&lt;!-- this is comment --&gt;&lt;/myTag&gt;
  &lt;secondTag&gt;&amp;some entity;&lt;/secondTag&gt;
&lt;/treeTag&gt;"""</pre>
<strong>See also:</strong><ul class="simple">
<li>
<a href="xmlparser.html">xmlparser module</a> for high-level XML parsing</li> <li>
<a href="parsexml.html">parsexml module</a> for low-level XML parsing</li> <li>
<a href="htmlgen.html">htmlgen module</a> for html code generator</li> </ul>  <h2 id="6">Imports</h2> <dl> <a href="since.html">since</a>, <a href="macros.html">macros</a>, <a href="strtabs.html">strtabs</a>, <a href="strutils.html">strutils</a>, <a href="sequtils.html">sequtils</a> </dl>   <h2 id="7">Types</h2> <dl> <div id="XmlAttributes"> <dt><pre>XmlAttributes = StringTableRef</pre></dt> <dd> <p>An alias for a string to string mapping.</p> <p>Use <a href="#toXmlAttributes,varargs[tuple[string,string]]">toXmlAttributes proc</a> to create <code><span class="Identifier">XmlAttributes</span></code>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L54" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L54" target="_blank">Edit</a> </dd> </div> <div id="XmlNode"> <dt><pre>XmlNode = ref XmlNodeObj</pre></dt> <dd> <p>An XML tree consisting of XML nodes.</p> <p>Use <a href="#newXmlTree,string,openArray[XmlNode],XmlAttributes">newXmlTree proc</a> for creating a new tree.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L41" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L41" target="_blank">Edit</a> </dd> </div> <div id="XmlNodeKind"> <dt><pre data-language="nim">XmlNodeKind = enum
  xnText,                   ## a text element
  xnVerbatimText, xnElement, ## an element with 0 or more children
  xnCData,                  ## a CDATA node
  xnEntity,                 ## an entity (like ``&amp;thing;``)
  xnComment                  ## an XML comment</pre></dt> <dd> Different kinds of XML nodes. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L46" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L46" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="10">Consts</h2> <dl> <div id="xmlHeader"> <dt><pre data-language="nim">xmlHeader = "&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n"</pre></dt> <dd> Header to use for complete XML output. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L70" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L70" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="$-procs-all"> <div id="$,XmlNode"> <dt><pre data-language="nim">proc `$`(n: XmlNode): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Converts <code><span class="Identifier">n</span></code> into its string representation.</p> <p>No <code>&lt;$xml ...$&gt;</code> declaration is produced, so that the produced XML fragments are composable.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L827" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L827" target="_blank">Edit</a> </dd> </div> </div> <div id="[]-procs-all"> <div id="[],XmlNode,int_2"> <dt><pre data-language="nim">proc `[]`(n: var XmlNode; i: int): var XmlNode {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Returns the <code><span class="Identifier">i</span></code>'th child of <code><span class="Identifier">n</span></code> so that it can be modified. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L539" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L539" target="_blank">Edit</a> </dd> </div> <div id="[],XmlNode,int"> <dt><pre data-language="nim">proc `[]`(n: XmlNode; i: int): XmlNode {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Returns the <code><span class="Identifier">i</span></code>'th child of <code><span class="Identifier">n</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newElement("first")
f.insert(newElement("second"), 0)
assert $f[1] == "&lt;first /&gt;"
assert $f[0] == "&lt;second /&gt;"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L527" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L527" target="_blank">Edit</a> </dd> </div> </div> <div id="add-procs-all"> <div id="add,XmlNode,XmlNode"> <dt><pre data-language="nim">proc add(father, son: XmlNode) {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Adds the child <code><span class="Identifier">son</span></code> to <code><span class="Identifier">father</span></code>. <code><span class="Identifier">father</span></code> must be of <code><span class="Identifier">xnElement</span></code> type</p> <p>See also:</p> <ul class="simple">
<li><a href="#add,XmlNode,openArray[XmlNode]">add proc</a></li> <li><a href="#insert,XmlNode,XmlNode,int">insert proc</a></li> <li><a href="#insert,XmlNode,openArray[XmlNode],int">insert proc</a></li> <li><a href="#delete,XmlNode,Natural">delete proc</a></li> <li><a href="#delete.XmlNode,Slice[int]">delete proc</a></li> <li><a href="#replace.XmlNode,int,openArray[XmlNode]">replace proc</a></li> <li><a href="#replace.XmlNode,Slice[int],openArray[XmlNode]">replace proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newText("my text")
f.add newElement("sonTag")
f.add newEntity("my entity")
assert $f == "&lt;myTag&gt;my text&lt;sonTag /&gt;&amp;my entity;&lt;/myTag&gt;"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L307" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L307" target="_blank">Edit</a> </dd> </div> <div id="add,XmlNode,openArray[XmlNode]"> <dt><pre data-language="nim">proc add(father: XmlNode; sons: openArray[XmlNode]) {.inline, ...raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> <p>Adds the children <code><span class="Identifier">sons</span></code> to <code><span class="Identifier">father</span></code>. <code><span class="Identifier">father</span></code> must be of <code><span class="Identifier">xnElement</span></code> type</p> <p>See also:</p> <ul class="simple">
<li><a href="#add,XmlNode,XmlNode">add proc</a></li> <li><a href="#insert,XmlNode,XmlNode,int">insert proc</a></li> <li><a href="#insert,XmlNode,openArray[XmlNode],int">insert proc</a></li> <li><a href="#delete,XmlNode,Natural">delete proc</a></li> <li><a href="#delete.XmlNode,Slice[int]">delete proc</a></li> <li><a href="#replace.XmlNode,int,openArray[XmlNode]">replace proc</a></li> <li><a href="#replace.XmlNode,Slice[int],openArray[XmlNode]">replace proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add(@[newText("my text"), newElement("sonTag"), newEntity("my entity")])
assert $f == "&lt;myTag&gt;my text&lt;sonTag /&gt;&amp;my entity;&lt;/myTag&gt;"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L329" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L329" target="_blank">Edit</a> </dd> </div> <div id="add,string,XmlNode,int,int"> <dt><pre data-language="nim">proc add(result: var string; n: XmlNode; indent = 0; indWidth = 2;
         addNewLines = true) {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> Adds the textual representation of <code><span class="Identifier">n</span></code> to string <code><span class="Identifier">result</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var
  a = newElement("firstTag")
  b = newText("my text")
  c = newComment("my comment")
  s = ""
s.add(c)
s.add(a)
s.add(b)
assert s == "&lt;!-- my comment --&gt;&lt;firstTag /&gt;my text"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L812" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L812" target="_blank">Edit</a> </dd> </div> </div> <div id="addEscaped-procs-all"> <div id="addEscaped,string,string"> <dt><pre data-language="nim">proc addEscaped(result: var string; s: string) {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> The same as <a href="#escape,string">result.add(escape(s))</a>, but more efficient. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L698" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L698" target="_blank">Edit</a> </dd> </div> </div> <div id="attr-procs-all"> <div id="attr,XmlNode,string"> <dt><pre data-language="nim">proc attr(n: XmlNode; name: string): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Finds the first attribute of <code><span class="Identifier">n</span></code> with a name of <code><span class="Identifier">name</span></code>. Returns "" on failure.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#attrs,XmlNode">attrs proc</a> for XmlAttributes getter</li> <li>
<a href="#attrs=,XmlNode,XmlAttributes">attrs= proc</a> for XmlAttributes setter</li> <li>
<a href="#attrsLen,XmlNode">attrsLen proc</a> for number of attributes</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var j = newElement("myTag")
let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
j.attrs = att
assert j.attr("key1") == "first value"
assert j.attr("key2") == "second value"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L667" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L667" target="_blank">Edit</a> </dd> </div> </div> <div id="attrs-procs-all"> <div id="attrs,XmlNode"> <dt><pre data-language="nim">proc attrs(n: XmlNode): XmlAttributes {.inline, ...raises: [], tags: [],
                                        forbids: [].}</pre></dt> <dd> <p>Gets the attributes belonging to <code><span class="Identifier">n</span></code>.</p> <p>Returns <code><span class="Keyword">nil</span></code> if attributes have not been initialised for this node.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#attrs=,XmlNode,XmlAttributes">attrs= proc</a> for XmlAttributes setter</li> <li>
<a href="#attrsLen,XmlNode">attrsLen proc</a> for number of attributes</li> <li>
<a href="#attr,XmlNode,string">attr proc</a> for finding an attribute</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var j = newElement("myTag")
assert j.attrs == nil
let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
j.attrs = att
assert j.attrs == att</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L614" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L614" target="_blank">Edit</a> </dd> </div> </div> <div id="attrs=-procs-all"> <div id="attrs=,XmlNode,XmlAttributes"> <dt><pre data-language="nim">proc attrs=(n: XmlNode; attr: XmlAttributes) {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <p>Sets the attributes belonging to <code><span class="Identifier">n</span></code>.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#attrs,XmlNode">attrs proc</a> for XmlAttributes getter</li> <li>
<a href="#attrsLen,XmlNode">attrsLen proc</a> for number of attributes</li> <li>
<a href="#attr,XmlNode,string">attr proc</a> for finding an attribute</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var j = newElement("myTag")
assert j.attrs == nil
let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
j.attrs = att
assert j.attrs == att</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L633" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L633" target="_blank">Edit</a> </dd> </div> </div> <div id="attrsLen-procs-all"> <div id="attrsLen,XmlNode"> <dt><pre data-language="nim">proc attrsLen(n: XmlNode): int {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Returns the number of <code><span class="Identifier">n</span></code>'s attributes.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#attrs,XmlNode">attrs proc</a> for XmlAttributes getter</li> <li>
<a href="#attrs=,XmlNode,XmlAttributes">attrs= proc</a> for XmlAttributes setter</li> <li>
<a href="#attr,XmlNode,string">attr proc</a> for finding an attribute</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var j = newElement("myTag")
assert j.attrsLen == 0
let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
j.attrs = att
assert j.attrsLen == 2</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L650" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L650" target="_blank">Edit</a> </dd> </div> </div> <div id="child-procs-all"> <div id="child,XmlNode,string"> <dt><pre data-language="nim">proc child(n: XmlNode; name: string): XmlNode {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Finds the first child element of <code><span class="Identifier">n</span></code> with a name of <code><span class="Identifier">name</span></code>. Returns <code><span class="Keyword">nil</span></code> on failure. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newElement("firstSon")
f.add newElement("secondSon")
f.add newElement("thirdSon")
assert $(f.child("secondSon")) == "&lt;secondSon /&gt;"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L835" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L835" target="_blank">Edit</a> </dd> </div> </div> <div id="clear-procs-all"> <div id="clear,XmlNode"> <dt><pre data-language="nim">proc clear(n: var XmlNode) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Recursively clears all children of an XmlNode. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var g = newElement("myTag")
g.add newText("some text")
g.add newComment("this is comment")

var h = newElement("secondTag")
h.add newEntity("some entity")

let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
var k = newXmlTree("treeTag", [g, h], att)

doAssert $k == """&lt;treeTag key1="first value" key2="second value"&gt;
  &lt;myTag&gt;some text&lt;!-- this is comment --&gt;&lt;/myTag&gt;
  &lt;secondTag&gt;&amp;some entity;&lt;/secondTag&gt;
&lt;/treeTag&gt;"""

clear(k)
doAssert $k == """&lt;treeTag key1="first value" key2="second value" /&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L544" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L544" target="_blank">Edit</a> </dd> </div> </div> <div id="clientData-procs-all"> <div id="clientData,XmlNode"> <dt><pre data-language="nim">proc clientData(n: XmlNode): int {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Gets the client data of <code><span class="Identifier">n</span></code>.</p> <p>The client data field is used by the HTML parser and generator.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L686" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L686" target="_blank">Edit</a> </dd> </div> </div> <div id="clientData=-procs-all"> <div id="clientData=,XmlNode,int"> <dt><pre data-language="nim">proc clientData=(n: XmlNode; data: int) {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <p>Sets the client data of <code><span class="Identifier">n</span></code>.</p> <p>The client data field is used by the HTML parser and generator.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L692" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L692" target="_blank">Edit</a> </dd> </div> </div> <div id="delete-procs-all"> <div id="delete,XmlNode,Natural"> <dt><pre data-language="nim">proc delete(n: XmlNode; i: Natural) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Deletes the <code><span class="Identifier">i</span></code>'th child of <code><span class="Identifier">n</span></code>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#delete.XmlNode,Slice[int]">delete proc</a></li> <li><a href="#add,XmlNode,XmlNode">add proc</a></li> <li><a href="#add,XmlNode,openArray[XmlNode]">add proc</a></li> <li><a href="#insert,XmlNode,XmlNode,int">insert proc</a></li> <li><a href="#insert,XmlNode,openArray[XmlNode],int">insert proc</a></li> <li><a href="#replace.XmlNode,int,openArray[XmlNode]">replace proc</a></li> <li><a href="#replace.XmlNode,Slice[int],openArray[XmlNode]">replace proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newElement("first")
f.insert(newElement("second"), 0)
f.delete(0)
assert $f == """&lt;myTag&gt;
  &lt;first /&gt;
&lt;/myTag&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L407" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L407" target="_blank">Edit</a> </dd> </div> <div id="delete,XmlNode,Slice[int]"> <dt><pre data-language="nim">proc delete(n: XmlNode; slice: Slice[int]) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Deletes the items <code><span class="Identifier">n</span><span class="Punctuation">[</span><span class="Identifier">slice</span><span class="Punctuation">]</span></code> of <code><span class="Identifier">n</span></code>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#delete.XmlNode,int">delete proc</a></li> <li><a href="#add,XmlNode,XmlNode">add proc</a></li> <li><a href="#add,XmlNode,openArray[XmlNode]">add proc</a></li> <li><a href="#insert,XmlNode,XmlNode,int">insert proc</a></li> <li><a href="#insert,XmlNode,openArray[XmlNode],int">insert proc</a></li> <li><a href="#replace.XmlNode,int,openArray[XmlNode]">replace proc</a></li> <li><a href="#replace.XmlNode,Slice[int],openArray[XmlNode]">replace proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newElement("first")
f.insert([newElement("second"), newElement("third")], 0)
f.delete(0..1)
assert $f == """&lt;myTag&gt;
  &lt;first /&gt;
&lt;/myTag&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L430" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L430" target="_blank">Edit</a> </dd> </div> </div> <div id="escape-procs-all"> <div id="escape,string"> <dt><pre data-language="nim">proc escape(s: string): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Escapes <code><span class="Identifier">s</span></code> for inclusion into an XML document.</p> <p>Escapes these characters:</p> <table>
<tr>
<th>char</th>
<th>is converted to</th>
</tr> <tr>
<td><code>&lt;</code></td>
<td><code>&amp;lt;</code></td>
</tr> <tr>
<td><code>&gt;</code></td>
<td><code>&amp;gt;</code></td>
</tr> <tr>
<td><code>&amp;</code></td>
<td><code>&amp;amp;</code></td>
</tr> <tr>
<td><code>"</code></td>
<td><code>&amp;quot;</code></td>
</tr> <tr>
<td><code>'</code></td>
<td><code>&amp;apos;</code></td>
</tr> </table>
<p>You can also use <a href="#addEscaped,string,string">addEscaped proc</a>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L709" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L709" target="_blank">Edit</a> </dd> </div> </div> <div id="findAll-procs-all"> <div id="findAll,XmlNode,string"> <dt><pre data-language="nim">proc findAll(n: XmlNode; tag: string; caseInsensitive = false): seq[XmlNode] {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> A shortcut version to assign in let blocks. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var
  b = newElement("good")
  c = newElement("bad")
  d = newElement("BAD")
  e = newElement("GOOD")
b.add newText("b text")
c.add newText("c text")
d.add newText("d text")
e.add newText("e text")
let a = newXmlTree("father", [b, c, d, e])
assert $(a.findAll("good")) == "@[&lt;good&gt;b text&lt;/good&gt;]"
assert $(a.findAll("BAD")) == "@[&lt;BAD&gt;d text&lt;/BAD&gt;]"
assert $(a.findAll("good", caseInsensitive = true)) == "@[&lt;good&gt;b text&lt;/good&gt;, &lt;GOOD&gt;e text&lt;/GOOD&gt;]"
assert $(a.findAll("BAD", caseInsensitive = true)) == "@[&lt;bad&gt;c text&lt;/bad&gt;, &lt;BAD&gt;d text&lt;/BAD&gt;]"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L890" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L890" target="_blank">Edit</a> </dd> </div> <div id="findAll,XmlNode,string,seq[XmlNode]"> <dt><pre data-language="nim">proc findAll(n: XmlNode; tag: string; result: var seq[XmlNode];
             caseInsensitive = false) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Iterates over all the children of <code><span class="Identifier">n</span></code> returning those matching <code><span class="Identifier">tag</span></code>.</p> <p>Found nodes satisfying the condition will be appended to the <code><span class="Identifier">result</span></code> sequence.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var
  b = newElement("good")
  c = newElement("bad")
  d = newElement("BAD")
  e = newElement("GOOD")
b.add newText("b text")
c.add newText("c text")
d.add newText("d text")
e.add newText("e text")
let a = newXmlTree("father", [b, c, d, e])
var s = newSeq[XmlNode]()
a.findAll("good", s)
assert $s == "@[&lt;good&gt;b text&lt;/good&gt;]"
s.setLen(0)
a.findAll("good", s, caseInsensitive = true)
assert $s == "@[&lt;good&gt;b text&lt;/good&gt;, &lt;GOOD&gt;e text&lt;/GOOD&gt;]"
s.setLen(0)
a.findAll("BAD", s)
assert $s == "@[&lt;BAD&gt;d text&lt;/BAD&gt;]"
s.setLen(0)
a.findAll("BAD", s, caseInsensitive = true)
assert $s == "@[&lt;bad&gt;c text&lt;/bad&gt;, &lt;BAD&gt;d text&lt;/BAD&gt;]"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L851" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L851" target="_blank">Edit</a> </dd> </div> </div> <div id="innerText-procs-all"> <div id="innerText,XmlNode"> <dt><pre data-language="nim">proc innerText(n: XmlNode): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Gets the inner text of <code><span class="Identifier">n</span></code>:<ul class="simple">
<li>If <code><span class="Identifier">n</span></code> is <code><span class="Identifier">xnText</span></code> or <code><span class="Identifier">xnEntity</span></code>, returns its content.</li> <li>If <code><span class="Identifier">n</span></code> is <code><span class="Identifier">xnElement</span></code>, runs recursively on each child node and concatenates the results.</li> <li>Otherwise returns an empty string.</li> </ul> <p>See also:</p> <ul class="simple">
<li><a href="#text,XmlNode">text proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newText("my text")
f.add newComment("my comment")
f.add newEntity("my entity")
assert $f == "&lt;myTag&gt;my text&lt;!-- my comment --&gt;&amp;my entity;&lt;/myTag&gt;"
assert innerText(f) == "my textmy entity"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L276" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L276" target="_blank">Edit</a> </dd> </div> </div> <div id="insert-procs-all"> <div id="insert,XmlNode,XmlNode,int"> <dt><pre data-language="nim">proc insert(father, son: XmlNode; index: int) {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <p>Inserts the child <code><span class="Identifier">son</span></code> to a given position in <code><span class="Identifier">father</span></code>.</p> <p><code><span class="Identifier">father</span></code> must be of <code><span class="Identifier">xnElement</span></code> kind.</p> <p>See also:</p> <ul class="simple">
<li><a href="#insert,XmlNode,openArray[XmlNode],int">insert proc</a></li> <li><a href="#add,XmlNode,XmlNode">add proc</a></li> <li><a href="#add,XmlNode,openArray[XmlNode]">add proc</a></li> <li><a href="#delete,XmlNode,Natural">delete proc</a></li> <li><a href="#delete.XmlNode,Slice[int]">delete proc</a></li> <li><a href="#replace.XmlNode,int,openArray[XmlNode]">replace proc</a></li> <li><a href="#replace.XmlNode,Slice[int],openArray[XmlNode]">replace proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newElement("first")
f.insert(newElement("second"), 0)
assert $f == """&lt;myTag&gt;
  &lt;second /&gt;
  &lt;first /&gt;
&lt;/myTag&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L350" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L350" target="_blank">Edit</a> </dd> </div> <div id="insert,XmlNode,openArray[XmlNode],int"> <dt><pre data-language="nim">proc insert(father: XmlNode; sons: openArray[XmlNode]; index: int) {.inline,
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Inserts the children openArray<a href="#`sons`">`sons`</a> to a given position in <code><span class="Identifier">father</span></code>.</p> <p><code><span class="Identifier">father</span></code> must be of <code><span class="Identifier">xnElement</span></code> kind.</p> <p>See also:</p> <ul class="simple">
<li><a href="#insert,XmlNode,XmlNode,int">insert proc</a></li> <li><a href="#add,XmlNode,XmlNode">add proc</a></li> <li><a href="#add,XmlNode,openArray[XmlNode]">add proc</a></li> <li><a href="#delete,XmlNode,Natural">delete proc</a></li> <li><a href="#delete.XmlNode,Slice[int]">delete proc</a></li> <li><a href="#replace.XmlNode,int,openArray[XmlNode]">replace proc</a></li> <li><a href="#replace.XmlNode,Slice[int],openArray[XmlNode]">replace proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newElement("first")
f.insert([newElement("second"), newElement("third")], 0)
assert $f == """&lt;myTag&gt;
  &lt;second /&gt;
  &lt;third /&gt;
  &lt;first /&gt;
&lt;/myTag&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L378" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L378" target="_blank">Edit</a> </dd> </div> </div> <div id="kind-procs-all"> <div id="kind,XmlNode"> <dt><pre data-language="nim">proc kind(n: XmlNode): XmlNodeKind {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> Returns <code><span class="Identifier">n</span></code>'s kind. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var a = newElement("firstTag")
assert a.kind == xnElement
var b = newText("my text")
assert b.kind == xnText</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L518" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L518" target="_blank">Edit</a> </dd> </div> </div> <div id="len-procs-all"> <div id="len,XmlNode"> <dt><pre data-language="nim">proc len(n: XmlNode): int {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> Returns the number of <code><span class="Identifier">n</span></code>'s children. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newElement("first")
f.insert(newElement("second"), 0)
assert len(f) == 2</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L509" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L509" target="_blank">Edit</a> </dd> </div> </div> <div id="newCData-procs-all"> <div id="newCData,sinkstring"> <dt><pre data-language="nim">proc newCData(cdata: sink string): XmlNode {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Creates a new <code>XmlNode</code> of kind <code>xnCData</code> with the text <code><span class="Identifier">cdata</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var d = newCData("my cdata")
assert d.kind == xnCData
assert $d == "&lt;![CDATA[my cdata]]&gt;"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L130" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L130" target="_blank">Edit</a> </dd> </div> </div> <div id="newComment-procs-all"> <div id="newComment,sinkstring"> <dt><pre data-language="nim">proc newComment(comment: sink string): XmlNode {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Creates a new <code>XmlNode</code> of kind <code>xnComment</code> with the text <code><span class="Identifier">comment</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var c = newComment("my comment")
assert c.kind == xnComment
assert $c == "&lt;!-- my comment --&gt;"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L120" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L120" target="_blank">Edit</a> </dd> </div> </div> <div id="newElement-procs-all"> <div id="newElement,sinkstring"> <dt><pre data-language="nim">proc newElement(tag: sink string): XmlNode {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Creates a new <code>XmlNode</code> of kind <code>xnElement</code> with the given <code><span class="Identifier">tag</span></code>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#newXmlTree,string,openArray[XmlNode],XmlAttributes">newXmlTree proc</a></li> <li><a href="#&lt;&gt;.m,untyped">&lt;&gt; macro</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var a = newElement("firstTag")
a.add newElement("childTag")
assert a.kind == xnElement
assert $a == """&lt;firstTag&gt;
  &lt;childTag /&gt;
&lt;/firstTag&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L85" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L85" target="_blank">Edit</a> </dd> </div> </div> <div id="newEntity-procs-all"> <div id="newEntity,string"> <dt><pre data-language="nim">proc newEntity(entity: string): XmlNode {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Creates a new <code>XmlNode</code> of kind <code>xnEntity</code> with the text <code><span class="Identifier">entity</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var e = newEntity("my entity")
assert e.kind == xnEntity
assert $e == "&amp;my entity;"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L140" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L140" target="_blank">Edit</a> </dd> </div> </div> <div id="newText-procs-all"> <div id="newText,sinkstring"> <dt><pre data-language="nim">proc newText(text: sink string): XmlNode {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Creates a new <code>XmlNode</code> of kind <code>xnText</code> with the text <code><span class="Identifier">text</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var b = newText("my text")
assert b.kind == xnText
assert $b == "my text"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L104" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L104" target="_blank">Edit</a> </dd> </div> </div> <div id="newVerbatimText-procs-all"> <div id="newVerbatimText,sinkstring"> <dt><pre data-language="nim">proc newVerbatimText(text: sink string): XmlNode {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Creates a new <code>XmlNode</code> of kind <code>xnVerbatimText</code> with the text <code><span class="Identifier">text</span></code>. <strong>Since</strong>: Version 1.3. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L114" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L114" target="_blank">Edit</a> </dd> </div> </div> <div id="newXmlTree-procs-all"> <div id="newXmlTree,sinkstring,openArray[XmlNode],XmlAttributes"> <dt><pre data-language="nim">proc newXmlTree(tag: sink string; children: openArray[XmlNode];
                attributes: XmlAttributes = nil): XmlNode {....raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> <p>Creates a new XML tree with <code><span class="Identifier">tag</span></code>, <code><span class="Identifier">children</span></code> and <code><span class="Identifier">attributes</span></code>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#newElement,string">newElement proc</a></li> <li><a href="#&lt;&gt;.m,untyped">&lt;&gt; macro</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var g = newElement("myTag")
g.add newText("some text")
g.add newComment("this is comment")
var h = newElement("secondTag")
h.add newEntity("some entity")
let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
let k = newXmlTree("treeTag", [g, h], att)

doAssert $k == """&lt;treeTag key1="first value" key2="second value"&gt;
  &lt;myTag&gt;some text&lt;!-- this is comment --&gt;&lt;/myTag&gt;
  &lt;secondTag&gt;&amp;some entity;&lt;/secondTag&gt;
&lt;/treeTag&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L150" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L150" target="_blank">Edit</a> </dd> </div> </div> <div id="rawTag-procs-all"> <div id="rawTag,XmlNode"> <dt><pre data-language="nim">proc rawTag(n: XmlNode): string {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Returns the underlying 'tag' string by reference.</p> <p>This is only used for speed hacks.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L267" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L267" target="_blank">Edit</a> </dd> </div> </div> <div id="rawText-procs-all"> <div id="rawText,XmlNode"> <dt><pre data-language="nim">proc rawText(n: XmlNode): string {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Returns the underlying 'text' string by reference.</p> <p>This is only used for speed hacks.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L258" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L258" target="_blank">Edit</a> </dd> </div> </div> <div id="replace-procs-all"> <div id="replace,XmlNode,Natural,openArray[XmlNode]"> <dt><pre data-language="nim">proc replace(n: XmlNode; i: Natural; replacement: openArray[XmlNode]) {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Replaces the <code><span class="Identifier">i</span></code>'th child of <code><span class="Identifier">n</span></code> with <code><span class="Identifier">replacement</span></code> openArray.</p> <p><code><span class="Identifier">n</span></code> must be of <code><span class="Identifier">xnElement</span></code> kind.</p> <p>See also:</p> <ul class="simple">
<li><a href="#replace.XmlNode,Slice[int],openArray[XmlNode]">replace proc</a></li> <li><a href="#add,XmlNode,XmlNode">add proc</a></li> <li><a href="#add,XmlNode,openArray[XmlNode]">add proc</a></li> <li><a href="#delete,XmlNode,Natural">delete proc</a></li> <li><a href="#delete.XmlNode,Slice[int]">delete proc</a></li> <li><a href="#insert,XmlNode,XmlNode,int">insert proc</a></li> <li><a href="#insert,XmlNode,openArray[XmlNode],int">insert proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newElement("first")
f.insert(newElement("second"), 0)
f.replace(0, @[newElement("third"), newElement("fourth")])
assert $f == """&lt;myTag&gt;
  &lt;third /&gt;
  &lt;fourth /&gt;
  &lt;first /&gt;
&lt;/myTag&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L453" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L453" target="_blank">Edit</a> </dd> </div> <div id="replace,XmlNode,Slice[int],openArray[XmlNode]"> <dt><pre data-language="nim">proc replace(n: XmlNode; slice: Slice[int]; replacement: openArray[XmlNode]) {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Deletes the items <code><span class="Identifier">n</span><span class="Punctuation">[</span><span class="Identifier">slice</span><span class="Punctuation">]</span></code> of <code><span class="Identifier">n</span></code>.</p> <p><code><span class="Identifier">n</span></code> must be of <code><span class="Identifier">xnElement</span></code> kind.</p> <p>See also:</p> <ul class="simple">
<li><a href="#replace.XmlNode,int,openArray[XmlNode]">replace proc</a></li> <li><a href="#add,XmlNode,XmlNode">add proc</a></li> <li><a href="#add,XmlNode,openArray[XmlNode]">add proc</a></li> <li><a href="#delete,XmlNode,Natural">delete proc</a></li> <li><a href="#delete.XmlNode,Slice[int]">delete proc</a></li> <li><a href="#insert,XmlNode,XmlNode,int">insert proc</a></li> <li><a href="#insert,XmlNode,openArray[XmlNode],int">insert proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var f = newElement("myTag")
f.add newElement("first")
f.insert([newElement("second"), newElement("fifth")], 0)
f.replace(0..1, @[newElement("third"), newElement("fourth")])
assert $f == """&lt;myTag&gt;
  &lt;third /&gt;
  &lt;fourth /&gt;
  &lt;first /&gt;
&lt;/myTag&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L481" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L481" target="_blank">Edit</a> </dd> </div> </div> <div id="tag-procs-all"> <div id="tag,XmlNode"> <dt><pre data-language="nim">proc tag(n: XmlNode): lent string {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Gets the tag name of <code><span class="Identifier">n</span></code>.</p> <p><code><span class="Identifier">n</span></code> has to be an <code>xnElement</code> node.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#text,XmlNode">text proc</a> for text getter</li> <li>
<a href="#text=,XmlNode,string">text= proc</a> for text setter</li> <li>
<a href="#tag=,XmlNode,string">tag= proc</a> for tag setter</li> <li><a href="#innerText,XmlNode">innerText proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var a = newElement("firstTag")
a.add newElement("childTag")
assert $a == """&lt;firstTag&gt;
  &lt;childTag /&gt;
&lt;/firstTag&gt;"""
assert a.tag == "firstTag"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L214" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L214" target="_blank">Edit</a> </dd> </div> </div> <div id="tag=-procs-all"> <div id="tag=,XmlNode,sinkstring"> <dt><pre data-language="nim">proc tag=(n: XmlNode; tag: sink string) {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <p>Sets the tag name of <code><span class="Identifier">n</span></code>.</p> <p><code><span class="Identifier">n</span></code> has to be an <code>xnElement</code> node.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#text,XmlNode">text proc</a> for text getter</li> <li>
<a href="#text=,XmlNode,string">text= proc</a> for text setter</li> <li>
<a href="#tag,XmlNode">tag proc</a> for tag getter</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var a = newElement("firstTag")
a.add newElement("childTag")
assert $a == """&lt;firstTag&gt;
  &lt;childTag /&gt;
&lt;/firstTag&gt;"""
a.tag = "newTag"
assert $a == """&lt;newTag&gt;
  &lt;childTag /&gt;
&lt;/newTag&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L235" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L235" target="_blank">Edit</a> </dd> </div> </div> <div id="text-procs-all"> <div id="text,XmlNode"> <dt><pre data-language="nim">proc text(n: XmlNode): lent string {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Gets the associated text with the node <code><span class="Identifier">n</span></code>.</p> <p><code><span class="Identifier">n</span></code> can be a CDATA, Text, comment, or entity node.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#text=,XmlNode,string">text= proc</a> for text setter</li> <li>
<a href="#tag,XmlNode">tag proc</a> for tag getter</li> <li>
<a href="#tag=,XmlNode,string">tag= proc</a> for tag setter</li> <li><a href="#innerText,XmlNode">innerText proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var c = newComment("my comment")
assert $c == "&lt;!-- my comment --&gt;"
assert c.text == "my comment"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L178" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L178" target="_blank">Edit</a> </dd> </div> </div> <div id="text=-procs-all"> <div id="text=,XmlNode,sinkstring"> <dt><pre data-language="nim">proc text=(n: XmlNode; text: sink string) {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <p>Sets the associated text with the node <code><span class="Identifier">n</span></code>.</p> <p><code><span class="Identifier">n</span></code> can be a CDATA, Text, comment, or entity node.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#text,XmlNode">text proc</a> for text getter</li> <li>
<a href="#tag,XmlNode">tag proc</a> for tag getter</li> <li>
<a href="#tag=,XmlNode,string">tag= proc</a> for tag setter</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var e = newEntity("my entity")
assert $e == "&amp;my entity;"
e.text = "a new entity text"
assert $e == "&amp;a new entity text;"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L196" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L196" target="_blank">Edit</a> </dd> </div> </div> <div id="toXmlAttributes-procs-all"> <div id="toXmlAttributes,varargs[tuple[string,string]]"> <dt><pre data-language="nim">proc toXmlAttributes(keyValuePairs: varargs[tuple[key, val: string]]): XmlAttributes {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> Converts <code><span class="Punctuation">{</span><span class="Identifier">key</span><span class="Punctuation">:</span> <span class="Identifier">value</span><span class="Punctuation">}</span></code> pairs into <code><span class="Identifier">XmlAttributes</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">let att = {"key1": "first value", "key2": "second value"}.toXmlAttributes
var j = newElement("myTag")
j.attrs = att

doAssert $j == """&lt;myTag key1="first value" key2="second value" /&gt;"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L601" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L601" target="_blank">Edit</a> </dd> </div> </div> </dl>   <h2 id="15">Iterators</h2> <dl> <div id="items-iterators-all"> <div id="items.i,XmlNode"> <dt><pre data-language="nim">iterator items(n: XmlNode): XmlNode {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> Iterates over all direct children of <code><span class="Identifier">n</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var g = newElement("myTag")
g.add newText("some text")
g.add newComment("this is comment")

var h = newElement("secondTag")
h.add newEntity("some entity")
g.add h

assert $g == "&lt;myTag&gt;some text&lt;!-- this is comment --&gt;&lt;secondTag&gt;&amp;some entity;&lt;/secondTag&gt;&lt;/myTag&gt;"

# for x in g: # the same as `for x in items(g):`
#   echo x

# some text
# &lt;!-- this is comment --&gt;
# &lt;secondTag&gt;&amp;some entity;&lt;![CDATA[some cdata]]&gt;&lt;/secondTag&gt;</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L572" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L572" target="_blank">Edit</a> </dd> </div> </div> <div id="mitems-iterators-all"> <div id="mitems.i,XmlNode"> <dt><pre data-language="nim">iterator mitems(n: var XmlNode): var XmlNode {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Iterates over all direct children of <code><span class="Identifier">n</span></code> so that they can be modified. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L596" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L596" target="_blank">Edit</a> </dd> </div> </div> </dl>   <h2 id="17">Macros</h2> <dl> <div id="&lt;&gt;-macros-all"> <div id="&lt;&gt;.m,untyped"> <dt><pre data-language="nim">macro `&lt;&gt;`(x: untyped): untyped</pre></dt> <dd> Constructor macro for XML. Example usage:<pre class="listing" data-language="nim">&lt;&gt;a(href="http://nim-lang.org", newText("Nim rules."))</pre>
<p>Produces an XML tree for:</p> <pre data-language="nim">&lt;a href="http://nim-lang.org"&gt;Nim rules.&lt;/a&gt;</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/xmltree.nim#L935" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/xmltree.nim#L935" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/xmltree.html" class="_attribution-link">https://nim-lang.org/docs/xmltree.html</a>
  </p>
</div>
