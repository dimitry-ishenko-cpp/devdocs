<h1 class="title">std/private/jsutils</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L1" target="_blank">Edit</a>  
<p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import std/private/jsutils
let a {.importjs: "Number.MAX_SAFE_INTEGER".}: int64
assert a == maxSafeInteger</pre>  <h2 id="6">Imports</h2> <dl> <a href="jsbigints.html">jsbigints</a> </dl>   <h2 id="7">Types</h2> <dl> <div id="ArrayBuffer"> <dt><pre>ArrayBuffer = ref object of JsRoot</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L5" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L5" target="_blank">Edit</a> </dd> </div> <div id="BigUint64Array"> <dt><pre>BigUint64Array = ref object of JsRoot</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L9" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L9" target="_blank">Edit</a> </dd> </div> <div id="Float64Array"> <dt><pre>Float64Array = ref object of JsRoot</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L6" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L6" target="_blank">Edit</a> </dd> </div> <div id="Uint8Array"> <dt><pre>Uint8Array = ref object of JsRoot</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L8" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L8" target="_blank">Edit</a> </dd> </div> <div id="Uint32Array"> <dt><pre>Uint32Array = ref object of JsRoot</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L7" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L7" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="10">Consts</h2> <dl> <div id="maxSafeInteger"> <dt><pre data-language="nim">maxSafeInteger = 9007199254740991'i64</pre></dt> <dd> The same as <code><span class="Identifier">Number</span><span class="Operator">.</span><span class="Identifier">MAX_SAFE_INTEGER</span></code> or <code><span class="DecNumber">2</span><span class="Operator">^</span><span class="DecNumber">53</span> <span class="Operator">-</span> <span class="DecNumber">1</span></code>. See <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER</a> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L61" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L61" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="[]-procs-all"> <div id="[],BigUint64Array,int"> <dt><pre data-language="nim">func `[]`(arr: BigUint64Array; i: int): JsBigInt {.importjs: "#[#]", ...raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L21" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L21" target="_blank">Edit</a> </dd> </div> <div id="[],Uint8Array,int"> <dt><pre data-language="nim">func `[]`(arr: Uint8Array; i: int): uint8 {.importjs: "#[#]", ...raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L20" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L20" target="_blank">Edit</a> </dd> </div> <div id="[],Uint32Array,int"> <dt><pre data-language="nim">func `[]`(arr: Uint32Array; i: int): uint32 {.importjs: "#[#]", ...raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L19" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L19" target="_blank">Edit</a> </dd> </div> </div> <div id="[]=-procs-all"> <div id="[]=,Float64Array,int,float"> <dt><pre data-language="nim">func `[]=`(arr: Float64Array; i: int; v: float) {.importjs: "#[#] = #",
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L22" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L22" target="_blank">Edit</a> </dd> </div> </div> <div id="getProtoName-procs-all"> <div id="getProtoName,T"> <dt><pre data-language="nim">proc getProtoName[T](a: T): cstring {.importjs: "Object.prototype.toString.call(#)",
                                      ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import std/[jsffi, jsbigints]
type A = ref object
assert 1.toJs.getProtoName == "[object Number]"
assert "a".toJs.getProtoName == "[object String]"
assert big"1".toJs.getProtoName == "[object BigInt]"
assert false.toJs.getProtoName == "[object Boolean]"
assert (a: 1).toJs.getProtoName == "[object Object]"
assert A.default.toJs.getProtoName == "[object Null]"
assert [1].toJs.getProtoName == "[object Int32Array]" # implementation defined
assert @[1].toJs.getProtoName == "[object Array]" # ditto</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L48" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L48" target="_blank">Edit</a> </dd> </div> </div> <div id="hasBigUint64Array-procs-all"> <div id="hasBigUint64Array"> <dt><pre data-language="nim">proc hasBigUint64Array(): bool {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L45" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L45" target="_blank">Edit</a> </dd> </div> </div> <div id="hasJsBigInt-procs-all"> <div id="hasJsBigInt"> <dt><pre data-language="nim">proc hasJsBigInt(): bool {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L42" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L42" target="_blank">Edit</a> </dd> </div> </div> <div id="isInteger-procs-all"> <div id="isInteger,T"> <dt><pre data-language="nim">proc isInteger[T](x: T): bool {.importjs: "Number.isInteger(#)", ...raises: [],
                                tags: [], forbids: [].}</pre></dt> <dd> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import std/jsffi
assert 1.isInteger
assert not 1.5.isInteger
assert 1.toJs.isInteger
assert not 1.5.toJs.isInteger</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L68" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L68" target="_blank">Edit</a> </dd> </div> </div> <div id="isSafeInteger-procs-all"> <div id="isSafeInteger,T"> <dt><pre data-language="nim">proc isSafeInteger[T](x: T): bool {.importjs: "Number.isSafeInteger(#)",
                                    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import std/jsffi
assert not "123".toJs.isSafeInteger
assert 123.isSafeInteger
assert 123.toJs.isSafeInteger
when false:
  assert 9007199254740991.toJs.isSafeInteger
  assert not 9007199254740992.toJs.isSafeInteger</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L76" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L76" target="_blank">Edit</a> </dd> </div> </div> <div id="jsConstructorName-procs-all"> <div id="jsConstructorName,T"> <dt><pre data-language="nim">proc jsConstructorName[T](a: T): cstring</pre></dt> <dd> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import std/jsffi
let a = array[2, float64].default
assert jsConstructorName(a) == "Float64Array"
assert jsConstructorName(a.toJs) == "Float64Array"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L34" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L34" target="_blank">Edit</a> </dd> </div> </div> <div id="jsTypeOf-procs-all"> <div id="jsTypeOf,T"> <dt><pre data-language="nim">proc jsTypeOf[T](x: T): cstring {.importjs: "typeof(#)", ...raises: [], tags: [],
                                  forbids: [].}</pre></dt> <dd> Returns the name of the JsObject's JavaScript type as a cstring. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import std/[jsffi, jsbigints]
assert jsTypeOf(1.toJs) == "number"
assert jsTypeOf(false.toJs) == "boolean"
assert [1].toJs.jsTypeOf == "object" # note the difference with `getProtoName`
assert big"1".toJs.jsTypeOf == "bigint"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L24" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L24" target="_blank">Edit</a> </dd> </div> </div> <div id="newArrayBuffer-procs-all"> <div id="newArrayBuffer,int"> <dt><pre data-language="nim">func newArrayBuffer(n: int): ArrayBuffer {.importjs: "new ArrayBuffer(#)",
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L12" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L12" target="_blank">Edit</a> </dd> </div> </div> <div id="newBigUint64Array-procs-all"> <div id="newBigUint64Array,ArrayBuffer"> <dt><pre data-language="nim">func newBigUint64Array(buffer: ArrayBuffer): BigUint64Array {.
    importjs: "new BigUint64Array(#)", ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L15" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L15" target="_blank">Edit</a> </dd> </div> </div> <div id="newFloat64Array-procs-all"> <div id="newFloat64Array,ArrayBuffer"> <dt><pre data-language="nim">func newFloat64Array(buffer: ArrayBuffer): Float64Array {.
    importjs: "new Float64Array(#)", ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L13" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L13" target="_blank">Edit</a> </dd> </div> </div> <div id="newUint8Array-procs-all"> <div id="newUint8Array,int"> <dt><pre data-language="nim">func newUint8Array(n: int): Uint8Array {.importjs: "new Uint8Array(#)",
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L17" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L17" target="_blank">Edit</a> </dd> </div> </div> <div id="newUint32Array-procs-all"> <div id="newUint32Array,ArrayBuffer"> <dt><pre data-language="nim">func newUint32Array(buffer: ArrayBuffer): Uint32Array {.
    importjs: "new Uint32Array(#)", ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L14" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L14" target="_blank">Edit</a> </dd> </div> </div> </dl>   <h2 id="18">Templates</h2> <dl> <div id="whenJsNoBigInt64-templates-all"> <div id="whenJsNoBigInt64.t,,"> <dt><pre data-language="nim">template whenJsNoBigInt64(no64, yes64): untyped</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/private/jsutils.nim#L86" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/private/jsutils.nim#L86" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/jsutils.html" class="_attribution-link">https://nim-lang.org/docs/jsutils.html</a>
  </p>
</div>
