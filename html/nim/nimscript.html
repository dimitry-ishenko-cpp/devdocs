<h1 class="title">system/nimscript</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L1" target="_blank">Edit</a>  <p class="module-desc">To learn about scripting in Nim see <a href="nims.html">NimScript</a></p>  <h2 id="7">Types</h2> <dl> <div id="ScriptMode"> <dt><pre data-language="nim">ScriptMode {.pure.} = enum
  Silent,                   ## Be silent.
  Verbose,                  ## Be verbose.
  Whatif                     ## Do not run commands, instead just echo what
                             ## would have been done.</pre></dt> <dd> Controls the behaviour of the script. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L177" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L177" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="8">Vars</h2> <dl> <div id="author"> <dt><pre>author: string</pre></dt> <dd> Nimble support: The package's author. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L435" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L435" target="_blank">Edit</a> </dd> </div> <div id="backend"> <dt><pre>backend: string</pre></dt> <dd> Nimble support: The package's backend. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L440" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L440" target="_blank">Edit</a> </dd> </div> <div id="bin"> <dt><pre data-language="nim">bin: seq[string] = @[]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L442" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L442" target="_blank">Edit</a> </dd> </div> <div id="binDir"> <dt><pre>binDir: string</pre></dt> <dd> Nimble support: The package's binary directory. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L439" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L439" target="_blank">Edit</a> </dd> </div> <div id="description"> <dt><pre>description: string</pre></dt> <dd> Nimble support: The package's description. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L436" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L436" target="_blank">Edit</a> </dd> </div> <div id="installDirs"> <dt><pre data-language="nim">installDirs: seq[string] = @[]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L442" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L442" target="_blank">Edit</a> </dd> </div> <div id="installExt"> <dt><pre data-language="nim">installExt: seq[string] = @[]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L442" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L442" target="_blank">Edit</a> </dd> </div> <div id="installFiles"> <dt><pre data-language="nim">installFiles: seq[string] = @[]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L442" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L442" target="_blank">Edit</a> </dd> </div> <div id="license"> <dt><pre>license: string</pre></dt> <dd> Nimble support: The package's license. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L437" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L437" target="_blank">Edit</a> </dd> </div> <div id="mode"> <dt><pre>mode: ScriptMode</pre></dt> <dd> Set this to influence how mkDir, rmDir, rmFile etc. behave <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L184" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L184" target="_blank">Edit</a> </dd> </div> <div id="packageName"> <dt><pre data-language="nim">packageName = ""</pre></dt> <dd> Nimble support: Set this to the package name. It is usually not required to do that, nims' filename is the default. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L431" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L431" target="_blank">Edit</a> </dd> </div> <div id="requiresData"> <dt><pre data-language="nim">requiresData: seq[string] = @[]</pre></dt> <dd> Exposes the list of requirements for read and write accesses. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L444" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L444" target="_blank">Edit</a> </dd> </div> <div id="skipDirs"> <dt><pre data-language="nim">skipDirs: seq[string] = @[]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L442" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L442" target="_blank">Edit</a> </dd> </div> <div id="skipExt"> <dt><pre data-language="nim">skipExt: seq[string] = @[]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L442" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L442" target="_blank">Edit</a> </dd> </div> <div id="skipFiles"> <dt><pre data-language="nim">skipFiles: seq[string] = @[]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L442" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L442" target="_blank">Edit</a> </dd> </div> <div id="srcDir"> <dt><pre>srcDir: string</pre></dt> <dd> Nimble support: The package's source directory. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L438" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L438" target="_blank">Edit</a> </dd> </div> <div id="version"> <dt><pre>version: string</pre></dt> <dd> Nimble support: The package's version. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L434" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L434" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="10">Consts</h2> <dl> <div id="buildCPU"> <dt><pre data-language="nim">buildCPU {.magic: "BuildCPU".}: string = ""</pre></dt> <dd> The CPU this build is running on. Can be different from <code><span class="Identifier">system</span><span class="Operator">.</span><span class="Identifier">hostCPU</span></code> for cross compilations. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L20" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L20" target="_blank">Edit</a> </dd> </div> <div id="buildOS"> <dt><pre data-language="nim">buildOS {.magic: "BuildOS".}: string = ""</pre></dt> <dd> The OS this build is running on. Can be different from <code><span class="Identifier">system</span><span class="Operator">.</span><span class="Identifier">hostOS</span></code> for cross compilations. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L16" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L16" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="cd-procs-all"> <div id="cd,string"> <dt><pre data-language="nim">proc cd(dir: string) {....raises: [OSError], tags: [], forbids: [].}</pre></dt> <dd> <p>Changes the current directory.</p> <p>The change is permanent for the rest of the execution, since this is just a shortcut for <a href="os.html#setCurrentDir,string">os.setCurrentDir()</a> . Use the <a href="#withDir.t,string,untyped">withDir()</a> template if you want to perform a temporary change only.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L328" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L328" target="_blank">Edit</a> </dd> </div> </div> <div id="cmpic-procs-all"> <div id="cmpic,string,string"> <dt><pre data-language="nim">proc cmpic(a, b: string): int {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Compares <code><span class="Identifier">a</span></code> and <code><span class="Identifier">b</span></code> ignoring case. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L110" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L110" target="_blank">Edit</a> </dd> </div> </div> <div id="cpDir-procs-all"> <div id="cpDir,string,string"> <dt><pre data-language="nim">proc cpDir(from, to: string) {....raises: [OSError],
                               tags: [ReadIOEffect, WriteIOEffect], forbids: [].}</pre></dt> <dd> Copies the dir <code><span class="Keyword">from</span></code> to <code><span class="Identifier">to</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L247" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L247" target="_blank">Edit</a> </dd> </div> </div> <div id="cpFile-procs-all"> <div id="cpFile,string,string"> <dt><pre data-language="nim">proc cpFile(from, to: string) {....raises: [OSError],
                                tags: [ReadIOEffect, WriteIOEffect], forbids: [].}</pre></dt> <dd> Copies the file <code><span class="Keyword">from</span></code> to <code><span class="Identifier">to</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L241" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L241" target="_blank">Edit</a> </dd> </div> </div> <div id="cppDefine-procs-all"> <div id="cppDefine,string"> <dt><pre data-language="nim">proc cppDefine(define: string) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> tell Nim that <code><span class="Identifier">define</span></code> is a C preprocessor <code><span class="Comment">#define</span></code> and so always needs to be mangled. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L368" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L368" target="_blank">Edit</a> </dd> </div> </div> <div id="delEnv-procs-all"> <div id="delEnv,string"> <dt><pre data-language="nim">proc delEnv(key: string) {....tags: [WriteIOEffect], raises: [], forbids: [].}</pre></dt> <dd> Deletes the environment variable named <code><span class="Identifier">key</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L126" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L126" target="_blank">Edit</a> </dd> </div> </div> <div id="dirExists-procs-all"> <div id="dirExists,string"> <dt><pre data-language="nim">proc dirExists(dir: string): bool {....tags: [ReadIOEffect], raises: [],
                                    forbids: [].}</pre></dt> <dd> Checks if the directory <code><span class="Identifier">dir</span></code> exists. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L134" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L134" target="_blank">Edit</a> </dd> </div> </div> <div id="exec-procs-all"> <div id="exec,string"> <dt><pre data-language="nim">proc exec(command: string) {....raises: [OSError],
                             tags: [ExecIOEffect, WriteIOEffect], forbids: [].}</pre></dt> <dd> Executes an external process. If the external process terminates with a non-zero exit code, an OSError exception is raised. The command is executed relative to the current source path.<div class="admonition admonition-info">
<span class="admonition-info-text"><b>Note:</b></span> If you need a version of <code><span class="Identifier">exec</span></code> that returns the exit code and text output of the command, you can use <a href="system.html#gorgeEx,string,string,string">system.gorgeEx</a>.</div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L253" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L253" target="_blank">Edit</a> </dd> </div> <div id="exec,string,string,string"> <dt><pre data-language="nim">proc exec(command: string; input: string; cache = "") {....raises: [OSError],
    tags: [ExecIOEffect, WriteIOEffect], forbids: [].}</pre></dt> <dd> Executes an external process. If the external process terminates with a non-zero exit code, an OSError exception is raised.<div class="admonition admonition-warning">
<span class="admonition-warning-text"><b>Warning:</b></span> This version of <code><span class="Identifier">exec</span></code> is executed relative to the nimscript module path, which affects how the command resolves relative paths. Thus it is generally better to use <code><span class="Identifier">gorgeEx</span></code> directly when you need more control over the execution environment or when working with commands that deal with relative paths.</div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L267" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L267" target="_blank">Edit</a> </dd> </div> </div> <div id="exists-procs-all"> <div id="exists,string"> <dt><pre data-language="nim">proc exists(key: string): bool {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Checks for the existence of a configuration 'key' like 'gcc.options.always'. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L301" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L301" target="_blank">Edit</a> </dd> </div> </div> <div id="existsEnv-procs-all"> <div id="existsEnv,string"> <dt><pre data-language="nim">proc existsEnv(key: string): bool {....tags: [ReadIOEffect], raises: [],
                                    forbids: [].}</pre></dt> <dd> Checks for the existence of an environment variable named <code><span class="Identifier">key</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L118" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L118" target="_blank">Edit</a> </dd> </div> </div> <div id="fileExists-procs-all"> <div id="fileExists,string"> <dt><pre data-language="nim">proc fileExists(filename: string): bool {....tags: [ReadIOEffect], raises: [],
    forbids: [].}</pre></dt> <dd> Checks if the file exists. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L130" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L130" target="_blank">Edit</a> </dd> </div> </div> <div id="findExe-procs-all"> <div id="findExe,string"> <dt><pre data-language="nim">proc findExe(bin: string): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Searches for bin in the current working directory and then in directories listed in the PATH environment variable. Returns "" if the exe cannot be found. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L338" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L338" target="_blank">Edit</a> </dd> </div> </div> <div id="get-procs-all"> <div id="get,string"> <dt><pre data-language="nim">proc get(key: string): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Retrieves a configuration 'key' like 'gcc.options.always'. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L297" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L297" target="_blank">Edit</a> </dd> </div> </div> <div id="getCommand-procs-all"> <div id="getCommand"> <dt><pre data-language="nim">proc getCommand(): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Gets the Nim command that the compiler has been invoked with, for example "c", "js", "build", "help". <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L97" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L97" target="_blank">Edit</a> </dd> </div> </div> <div id="getCurrentDir-procs-all"> <div id="getCurrentDir"> <dt><pre data-language="nim">proc getCurrentDir(): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Retrieves the current working directory. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L50" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L50" target="_blank">Edit</a> </dd> </div> </div> <div id="getEnv-procs-all"> <div id="getEnv,string,string"> <dt><pre data-language="nim">proc getEnv(key: string; default = ""): string {....tags: [ReadIOEffect],
    raises: [], forbids: [].}</pre></dt> <dd> Retrieves the environment variable of name <code><span class="Identifier">key</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L114" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L114" target="_blank">Edit</a> </dd> </div> </div> <div id="hint-procs-all"> <div id="hint,string,bool"> <dt><pre data-language="nim">proc hint(name: string; val: bool) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Disables or enables a specific hint. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L77" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L77" target="_blank">Edit</a> </dd> </div> </div> <div id="listDirs-procs-all"> <div id="listDirs,string"> <dt><pre data-language="nim">proc listDirs(dir: string): seq[string] {....raises: [OSError],
    tags: [ReadIOEffect], forbids: [].}</pre></dt> <dd> Lists all the subdirectories (non-recursively) in the directory <code><span class="Identifier">dir</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L200" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L200" target="_blank">Edit</a> </dd> </div> </div> <div id="listFiles-procs-all"> <div id="listFiles,string"> <dt><pre data-language="nim">proc listFiles(dir: string): seq[string] {....raises: [OSError],
    tags: [ReadIOEffect], forbids: [].}</pre></dt> <dd> Lists all the files (non-recursively) in the directory <code><span class="Identifier">dir</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L205" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L205" target="_blank">Edit</a> </dd> </div> </div> <div id="mkDir-procs-all"> <div id="mkDir,string"> <dt><pre data-language="nim">proc mkDir(dir: string) {....raises: [OSError], tags: [WriteIOEffect], forbids: [].}</pre></dt> <dd> Creates the directory <code><span class="Identifier">dir</span></code> including all necessary subdirectories. If the directory already exists, no error is raised. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L222" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L222" target="_blank">Edit</a> </dd> </div> </div> <div id="mvDir-procs-all"> <div id="mvDir,string,string"> <dt><pre data-language="nim">proc mvDir(from, to: string) {....raises: [OSError],
                               tags: [ReadIOEffect, WriteIOEffect], forbids: [].}</pre></dt> <dd> Moves the dir <code><span class="Keyword">from</span></code> to <code><span class="Identifier">to</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L235" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L235" target="_blank">Edit</a> </dd> </div> </div> <div id="mvFile-procs-all"> <div id="mvFile,string,string"> <dt><pre data-language="nim">proc mvFile(from, to: string) {....raises: [OSError],
                                tags: [ReadIOEffect, WriteIOEffect], forbids: [].}</pre></dt> <dd> Moves the file <code><span class="Keyword">from</span></code> to <code><span class="Identifier">to</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L229" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L229" target="_blank">Edit</a> </dd> </div> </div> <div id="nimcacheDir-procs-all"> <div id="nimcacheDir"> <dt><pre data-language="nim">proc nimcacheDir(): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Retrieves the location of 'nimcache'. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L306" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L306" target="_blank">Edit</a> </dd> </div> </div> <div id="paramCount-procs-all"> <div id="paramCount"> <dt><pre data-language="nim">proc paramCount(): int {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Retrieves the number of command line parameters. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L63" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L63" target="_blank">Edit</a> </dd> </div> </div> <div id="paramStr-procs-all"> <div id="paramStr,int"> <dt><pre data-language="nim">proc paramStr(i: int): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Retrieves the <code><span class="Identifier">i</span></code>'th command line parameter. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L59" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L59" target="_blank">Edit</a> </dd> </div> </div> <div id="patchFile-procs-all"> <div id="patchFile,string,string,string"> <dt><pre data-language="nim">proc patchFile(package, filename, replacement: string) {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <p>Overrides the location of a given file belonging to the passed package. If the <code><span class="Identifier">replacement</span></code> is not an absolute path, the path is interpreted to be local to the Nimscript file that contains the call to <code><span class="Identifier">patchFile</span></code>, Nim's <code><span class="Operator">--</span><span class="Identifier">path</span></code> is not used at all to resolve the filename! The compiler also performs <a href="nimc.html#compiler-usage-commandminusline-switches">path substitution</a> on <code><span class="Identifier">replacement</span></code>.</p> <p>Example:</p> 
<pre class="listing" data-language="nim">patchFile("stdlib", "asyncdispatch", "patches/replacement")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L82" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L82" target="_blank">Edit</a> </dd> </div> </div> <div id="projectDir-procs-all"> <div id="projectDir"> <dt><pre data-language="nim">proc projectDir(): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Retrieves the absolute directory of the current project <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L314" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L314" target="_blank">Edit</a> </dd> </div> </div> <div id="projectName-procs-all"> <div id="projectName"> <dt><pre data-language="nim">proc projectName(): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Retrieves the name of the current project <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L310" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L310" target="_blank">Edit</a> </dd> </div> </div> <div id="projectPath-procs-all"> <div id="projectPath"> <dt><pre data-language="nim">proc projectPath(): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Retrieves the absolute path of the current project <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L318" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L318" target="_blank">Edit</a> </dd> </div> </div> <div id="put-procs-all"> <div id="put,string,string"> <dt><pre data-language="nim">proc put(key, value: string) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Sets a configuration 'key' like 'gcc.options.always' to its value. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L293" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L293" target="_blank">Edit</a> </dd> </div> </div> <div id="putEnv-procs-all"> <div id="putEnv,string,string"> <dt><pre data-language="nim">proc putEnv(key, val: string) {....tags: [WriteIOEffect], raises: [], forbids: [].}</pre></dt> <dd> Sets the value of the environment variable named <code><span class="Identifier">key</span></code> to <code><span class="Identifier">val</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L122" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L122" target="_blank">Edit</a> </dd> </div> </div> <div id="readAllFromStdin-procs-all"> <div id="readAllFromStdin"> <dt><pre data-language="nim">proc readAllFromStdin(): string {....raises: [IOError], tags: [ReadIOEffect],
                                  forbids: [].}</pre></dt> <dd> Reads all data from stdin - blocks until EOF which happens when stdin is closed <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L387" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L387" target="_blank">Edit</a> </dd> </div> </div> <div id="readLineFromStdin-procs-all"> <div id="readLineFromStdin"> <dt><pre data-language="nim">proc readLineFromStdin(): string {....raises: [IOError], tags: [ReadIOEffect],
                                   forbids: [].}</pre></dt> <dd> Reads a line of data from stdin - blocks until n or EOF which happens when stdin is closed <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L381" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L381" target="_blank">Edit</a> </dd> </div> </div> <div id="requires-procs-all"> <div id="requires,varargs[string]"> <dt><pre data-language="nim">proc requires(deps: varargs[string]) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Nimble support: Call this to set the list of requirements of your Nimble package. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L447" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L447" target="_blank">Edit</a> </dd> </div> </div> <div id="rmDir-procs-all"> <div id="rmDir,string"> <dt><pre data-language="nim">proc rmDir(dir: string; checkDir = false) {....raises: [OSError],
    tags: [ReadIOEffect, WriteIOEffect], forbids: [].}</pre></dt> <dd> Removes the directory <code><span class="Identifier">dir</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L210" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L210" target="_blank">Edit</a> </dd> </div> </div> <div id="rmFile-procs-all"> <div id="rmFile,string"> <dt><pre data-language="nim">proc rmFile(file: string) {....raises: [OSError],
                            tags: [ReadIOEffect, WriteIOEffect], forbids: [].}</pre></dt> <dd> Removes the <code><span class="Identifier">file</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L216" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L216" target="_blank">Edit</a> </dd> </div> </div> <div id="selfExe-procs-all"> <div id="selfExe"> <dt><pre data-language="nim">proc selfExe(): string {....deprecated: "Deprecated since v1.7; Use getCurrentCompilerExe",
                         raises: [], tags: [], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> Deprecated since v1.7; Use getCurrentCompilerExe </div> Returns the currently running nim or nimble executable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L139" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L139" target="_blank">Edit</a> </dd> </div> </div> <div id="selfExec-procs-all"> <div id="selfExec,string"> <dt><pre data-language="nim">proc selfExec(command: string) {....raises: [OSError],
                                 tags: [ExecIOEffect, WriteIOEffect],
                                 forbids: [].}</pre></dt> <dd> Executes an external command with the current nim/nimble executable. <code><span class="Identifier">Command</span></code> must not contain the "nim " part. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L283" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L283" target="_blank">Edit</a> </dd> </div> </div> <div id="setCommand-procs-all"> <div id="setCommand,string,string"> <dt><pre data-language="nim">proc setCommand(cmd: string; project = "") {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Sets the Nim command that should be continued with after this Nimscript has finished. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L102" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L102" target="_blank">Edit</a> </dd> </div> </div> <div id="switch-procs-all"> <div id="switch,string,string"> <dt><pre data-language="nim">proc switch(key: string; val = "") {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Sets a Nim compiler command line switch, for example <code><span class="Identifier">switch</span><span class="Punctuation">(</span><span class="StringLit">"checks"</span><span class="Punctuation">,</span> <span class="StringLit">"on"</span><span class="Punctuation">)</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L67" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L67" target="_blank">Edit</a> </dd> </div> </div> <div id="thisDir-procs-all"> <div id="thisDir"> <dt><pre data-language="nim">proc thisDir(): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Retrieves the directory of the current <code><span class="Identifier">nims</span></code> script file. Its path is obtained via <code><span class="Identifier">currentSourcePath</span></code> (although, currently, <code><span class="Identifier">currentSourcePath</span></code> resolves symlinks, unlike <code><span class="Identifier">thisDir</span></code>). <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L322" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L322" target="_blank">Edit</a> </dd> </div> </div> <div id="toDll-procs-all"> <div id="toDll,string"> <dt><pre data-language="nim">proc toDll(filename: string): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> On Windows adds ".dll" to <code><span class="Identifier">filename</span></code>, on Posix produces "lib$filename.so". <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L147" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L147" target="_blank">Edit</a> </dd> </div> </div> <div id="toExe-procs-all"> <div id="toExe,string"> <dt><pre data-language="nim">proc toExe(filename: string): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> On Windows adds ".exe" to <code><span class="Identifier">filename</span></code>, else returns <code><span class="Identifier">filename</span></code> unmodified. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L143" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L143" target="_blank">Edit</a> </dd> </div> </div> <div id="warning-procs-all"> <div id="warning,string,bool"> <dt><pre data-language="nim">proc warning(name: string; val: bool) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Disables or enables a specific warning. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L72" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L72" target="_blank">Edit</a> </dd> </div> </div> </dl>   <h2 id="18">Templates</h2> <dl> <div id="---templates-all"> <div id="--.t,untyped,untyped"> <dt><pre data-language="nim">template `--`(key, val: untyped)</pre></dt> <dd> <p>A shortcut for <a href="#switch,string,string">switch</a> Example:</p> 
<pre class="listing" data-language="nim">--path:somePath # same as switch("path", "somePath")
--path:"someOtherPath" # same as switch("path", "someOtherPath")
--hint:"[Conf]:off" # same as switch("hint", "[Conf]:off")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L158" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L158" target="_blank">Edit</a> </dd> </div> <div id="--.t,untyped"> <dt><pre data-language="nim">template `--`(key: untyped)</pre></dt> <dd> <p>A shortcut for <a href="#switch,string,string">switch</a> Example:</p> 
<pre class="listing" data-language="nim">--listCmd # same as switch("listCmd")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L168" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L168" target="_blank">Edit</a> </dd> </div> </div> <div id="task-templates-all"> <div id="task.t,untyped,string,untyped"> <dt><pre data-language="nim">template task(name: untyped; description: string; body: untyped): untyped</pre></dt> <dd> <p>Defines a task. Hidden tasks are supported via an empty description.</p> <p>Example:</p> 
<pre class="listing" data-language="nim">task build, "default build is via the C backend":
  setCommand "c"</pre> <p>For a task named <code><span class="Identifier">foo</span></code>, this template generates a <code><span class="Keyword">proc</span></code> named <code><span class="Identifier">fooTask</span></code>. This is useful if you need to call one task in another in your Nimscript.</p> <p>Example:</p> 
<pre class="listing" data-language="nim">task foo, "foo":        # &gt; nim foo
  echo "Running foo"    # Running foo

task bar, "bar":        # &gt; nim bar
  echo "Running bar"    # Running bar
  fooTask()             # Running foo</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L395" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L395" target="_blank">Edit</a> </dd> </div> </div> <div id="withDir-templates-all"> <div id="withDir.t,string,untyped"> <dt><pre data-language="nim">template withDir(dir: string; body: untyped): untyped</pre></dt> <dd> <p>Changes the current directory temporarily.</p> <p>If you need a permanent change, use the <a href="#cd,string">cd()</a> proc. Usage example:</p> 
<pre class="listing" data-language="nim"># inside /some/path/
withDir "foo":
  # move to /some/path/foo/
# back in /some/path/</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/system/nimscript.nim#L344" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L344" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/nimscript.html" class="_attribution-link">https://nim-lang.org/docs/nimscript.html</a>
  </p>
</div>
