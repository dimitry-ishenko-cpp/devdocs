<h1 class="title">nimscript</h1>  <p class="module-desc">To learn about scripting in Nim see <a href="nims.html">NimScript</a></p>  <h2 id="7">Types</h2> <dl>  <dt><pre id="ScriptMode" data-language="nim">ScriptMode {...}{.pure.} = enum
  Silent,                   ## Be silent.
  Verbose,                  ## Be verbose.
  Whatif                     ## Do not run commands, instead just echo what
                             ## would have been done.</pre></dt> <dd> Controls the behaviour of the script. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L174" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L174" target="_blank">Edit</a> </dd> </dl>  <h2 id="8">Vars</h2> <dl>  <dt><pre id="mode">mode: ScriptMode</pre></dt> <dd> Set this to influence how mkDir, rmDir, rmFile etc. behave <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L181" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L181" target="_blank">Edit</a> </dd>  <dt><pre id="packageName" data-language="nim">packageName = ""</pre></dt> <dd> Nimble support: Set this to the package name. It is usually not required to do that, nims' filename is the default. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L420" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L420" target="_blank">Edit</a> </dd>  <dt><pre id="version">version: string</pre></dt> <dd> Nimble support: The package's version. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L423" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L423" target="_blank">Edit</a> </dd>  <dt><pre id="author">author: string</pre></dt> <dd> Nimble support: The package's author. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L424" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L424" target="_blank">Edit</a> </dd>  <dt><pre id="description">description: string</pre></dt> <dd> Nimble support: The package's description. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L425" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L425" target="_blank">Edit</a> </dd>  <dt><pre id="license">license: string</pre></dt> <dd> Nimble support: The package's license. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L426" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L426" target="_blank">Edit</a> </dd>  <dt><pre id="srcDir">srcDir: string</pre></dt> <dd> Nimble support: The package's source directory. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L427" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L427" target="_blank">Edit</a> </dd>  <dt><pre id="binDir">binDir: string</pre></dt> <dd> Nimble support: The package's binary directory. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L428" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L428" target="_blank">Edit</a> </dd>  <dt><pre id="backend">backend: string</pre></dt> <dd> Nimble support: The package's backend. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L429" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L429" target="_blank">Edit</a> </dd>  <dt><pre id="skipDirs" data-language="nim">skipDirs: seq[string] = @[]</pre></dt> <dd> Nimble metadata. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L431" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L431" target="_blank">Edit</a> </dd>  <dt><pre id="skipFiles" data-language="nim">skipFiles: seq[string] = @[]</pre></dt> <dd> Nimble metadata. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L431" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L431" target="_blank">Edit</a> </dd>  <dt><pre id="skipExt" data-language="nim">skipExt: seq[string] = @[]</pre></dt> <dd> Nimble metadata. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L431" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L431" target="_blank">Edit</a> </dd>  <dt><pre id="installDirs" data-language="nim">installDirs: seq[string] = @[]</pre></dt> <dd> Nimble metadata. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L431" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L431" target="_blank">Edit</a> </dd>  <dt><pre id="installFiles" data-language="nim">installFiles: seq[string] = @[]</pre></dt> <dd> Nimble metadata. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L431" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L431" target="_blank">Edit</a> </dd>  <dt><pre id="installExt" data-language="nim">installExt: seq[string] = @[]</pre></dt> <dd> Nimble metadata. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L431" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L431" target="_blank">Edit</a> </dd>  <dt><pre id="bin" data-language="nim">bin: seq[string] = @[]</pre></dt> <dd> Nimble metadata. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L431" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L431" target="_blank">Edit</a> </dd>  <dt><pre id="requiresData" data-language="nim">requiresData: seq[string] = @[]</pre></dt> <dd> Exposes the list of requirements for read and write accesses. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L433" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L433" target="_blank">Edit</a> </dd> </dl>  <h2 id="10">Consts</h2> <dl>  <dt><pre id="buildOS" data-language="nim">buildOS: string = ""</pre></dt> <dd> The OS this build is running on. Can be different from <code>system.hostOS</code> for cross compilations. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L16" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L16" target="_blank">Edit</a> </dd>  <dt><pre id="buildCPU" data-language="nim">buildCPU: string = ""</pre></dt> <dd> The CPU this build is running on. Can be different from <code>system.hostCPU</code> for cross compilations. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L20" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L20" target="_blank">Edit</a> </dd> </dl>  <h2 id="12">Procs</h2> <dl>  <dt><pre id="getCurrentDir" data-language="nim">proc getCurrentDir(): string {...}{.raises: [], tags: [].}</pre></dt> <dd> Retrieves the current working directory. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L50" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L50" target="_blank">Edit</a> </dd>  <dt><pre id="paramStr%2Cint" data-language="nim">proc paramStr(i: int): string {...}{.raises: [], tags: [].}</pre></dt> <dd> Retrieves the <code>i</code>'th command line parameter. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L59" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L59" target="_blank">Edit</a> </dd>  <dt><pre id="paramCount" data-language="nim">proc paramCount(): int {...}{.raises: [], tags: [].}</pre></dt> <dd> Retrieves the number of command line parameters. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L63" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L63" target="_blank">Edit</a> </dd>  <dt><pre id="switch%2Cstring%2Cstring" data-language="nim">proc switch(key: string; val = "") {...}{.raises: [], tags: [].}</pre></dt> <dd> Sets a Nim compiler command line switch, for example <code>switch("checks", "on")</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L67" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L67" target="_blank">Edit</a> </dd>  <dt><pre id="warning%2Cstring%2Cbool" data-language="nim">proc warning(name: string; val: bool) {...}{.raises: [], tags: [].}</pre></dt> <dd> Disables or enables a specific warning. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L72" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L72" target="_blank">Edit</a> </dd>  <dt><pre id="hint%2Cstring%2Cbool" data-language="nim">proc hint(name: string; val: bool) {...}{.raises: [], tags: [].}</pre></dt> <dd> Disables or enables a specific hint. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L77" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L77" target="_blank">Edit</a> </dd>  <dt><pre id="patchFile%2Cstring%2Cstring%2Cstring" data-language="nim">proc patchFile(package, filename, replacement: string) {...}{.raises: [], tags: [].}</pre></dt> <dd> <p>Overrides the location of a given file belonging to the passed package. If the <code>replacement</code> is not an absolute path, the path is interpreted to be local to the Nimscript file that contains the call to <code>patchFile</code>, Nim's <code>--path</code> is not used at all to resolve the filename!</p> <p>Example:</p> <pre class="listing" data-language="nim">patchFile("stdlib", "asyncdispatch", "patches/replacement")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L82" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L82" target="_blank">Edit</a> </dd>  <dt><pre id="getCommand" data-language="nim">proc getCommand(): string {...}{.raises: [], tags: [].}</pre></dt> <dd> Gets the Nim command that the compiler has been invoked with, for example "c", "js", "build", "help". <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L97" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L97" target="_blank">Edit</a> </dd>  <dt><pre id="setCommand%2Cstring%2Cstring" data-language="nim">proc setCommand(cmd: string; project = "") {...}{.raises: [], tags: [].}</pre></dt> <dd> Sets the Nim command that should be continued with after this Nimscript has finished. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L102" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L102" target="_blank">Edit</a> </dd>  <dt><pre id="cmpic%2Cstring%2Cstring" data-language="nim">proc cmpic(a, b: string): int {...}{.raises: [], tags: [].}</pre></dt> <dd> Compares <code>a</code> and <code>b</code> ignoring case. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L110" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L110" target="_blank">Edit</a> </dd>  <dt><pre id="getEnv%2Cstring%2Cstring" data-language="nim">proc getEnv(key: string; default = ""): string {...}{.tags: [ReadIOEffect],
    raises: [].}</pre></dt> <dd> Retrieves the environment variable of name <code>key</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L114" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L114" target="_blank">Edit</a> </dd>  <dt><pre id="existsEnv%2Cstring" data-language="nim">proc existsEnv(key: string): bool {...}{.tags: [ReadIOEffect], raises: [].}</pre></dt> <dd> Checks for the existence of an environment variable named <code>key</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L118" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L118" target="_blank">Edit</a> </dd>  <dt><pre id="putEnv%2Cstring%2Cstring" data-language="nim">proc putEnv(key, val: string) {...}{.tags: [WriteIOEffect], raises: [].}</pre></dt> <dd> Sets the value of the environment variable named <code>key</code> to <code>val</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L122" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L122" target="_blank">Edit</a> </dd>  <dt><pre id="delEnv%2Cstring" data-language="nim">proc delEnv(key: string) {...}{.tags: [WriteIOEffect], raises: [].}</pre></dt> <dd> Deletes the environment variable named <code>key</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L126" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L126" target="_blank">Edit</a> </dd>  <dt><pre id="fileExists%2Cstring" data-language="nim">proc fileExists(filename: string): bool {...}{.tags: [ReadIOEffect], raises: [].}</pre></dt> <dd> Checks if the file exists. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L130" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L130" target="_blank">Edit</a> </dd>  <dt><pre id="dirExists%2Cstring" data-language="nim">proc dirExists(dir: string): bool {...}{.tags: [ReadIOEffect], raises: [].}</pre></dt> <dd> Checks if the directory <code>dir</code> exists. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L134" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L134" target="_blank">Edit</a> </dd>  <dt><pre id="selfExe" data-language="nim">proc selfExe(): string {...}{.raises: [], tags: [].}</pre></dt> <dd> Returns the currently running nim or nimble executable. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L147" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L147" target="_blank">Edit</a> </dd>  <dt><pre id="toExe%2Cstring" data-language="nim">proc toExe(filename: string): string {...}{.raises: [], tags: [].}</pre></dt> <dd> On Windows adds ".exe" to <code>filename</code>, else returns <code>filename</code> unmodified. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L152" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L152" target="_blank">Edit</a> </dd>  <dt><pre id="toDll%2Cstring" data-language="nim">proc toDll(filename: string): string {...}{.raises: [], tags: [].}</pre></dt> <dd> On Windows adds ".dll" to <code>filename</code>, on Posix produces "lib$filename.so". <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L156" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L156" target="_blank">Edit</a> </dd>  <dt><pre id="listDirs%2Cstring" data-language="nim">proc listDirs(dir: string): seq[string] {...}{.raises: [OSError],
    tags: [ReadIOEffect].}</pre></dt> <dd> Lists all the subdirectories (non-recursively) in the directory <code>dir</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L197" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L197" target="_blank">Edit</a> </dd>  <dt><pre id="listFiles%2Cstring" data-language="nim">proc listFiles(dir: string): seq[string] {...}{.raises: [OSError],
    tags: [ReadIOEffect].}</pre></dt> <dd> Lists all the files (non-recursively) in the directory <code>dir</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L202" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L202" target="_blank">Edit</a> </dd>  <dt><pre id="rmDir%2Cstring" data-language="nim">proc rmDir(dir: string; checkDir = false) {...}{.raises: [OSError],
    tags: [ReadIOEffect, WriteIOEffect].}</pre></dt> <dd> Removes the directory <code>dir</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L207" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L207" target="_blank">Edit</a> </dd>  <dt><pre id="rmFile%2Cstring" data-language="nim">proc rmFile(file: string) {...}{.raises: [OSError],
                            tags: [ReadIOEffect, WriteIOEffect].}</pre></dt> <dd> Removes the <code>file</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L213" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L213" target="_blank">Edit</a> </dd>  <dt><pre id="mkDir%2Cstring" data-language="nim">proc mkDir(dir: string) {...}{.raises: [OSError], tags: [WriteIOEffect].}</pre></dt> <dd> Creates the directory <code>dir</code> including all necessary subdirectories. If the directory already exists, no error is raised. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L219" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L219" target="_blank">Edit</a> </dd>  <dt><pre id="mvFile%2Cstring%2Cstring" data-language="nim">proc mvFile(from, to: string) {...}{.raises: [OSError],
                                tags: [ReadIOEffect, WriteIOEffect].}</pre></dt> <dd> Moves the file <code>from</code> to <code>to</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L226" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L226" target="_blank">Edit</a> </dd>  <dt><pre id="mvDir%2Cstring%2Cstring" data-language="nim">proc mvDir(from, to: string) {...}{.raises: [OSError],
                               tags: [ReadIOEffect, WriteIOEffect].}</pre></dt> <dd> Moves the dir <code>from</code> to <code>to</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L232" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L232" target="_blank">Edit</a> </dd>  <dt><pre id="cpFile%2Cstring%2Cstring" data-language="nim">proc cpFile(from, to: string) {...}{.raises: [OSError],
                                tags: [ReadIOEffect, WriteIOEffect].}</pre></dt> <dd> Copies the file <code>from</code> to <code>to</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L238" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L238" target="_blank">Edit</a> </dd>  <dt><pre id="cpDir%2Cstring%2Cstring" data-language="nim">proc cpDir(from, to: string) {...}{.raises: [OSError],
                               tags: [ReadIOEffect, WriteIOEffect].}</pre></dt> <dd> Copies the dir <code>from</code> to <code>to</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L244" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L244" target="_blank">Edit</a> </dd>  <dt><pre id="exec%2Cstring" data-language="nim">proc exec(command: string) {...}{.raises: [OSError], tags: [ExecIOEffect].}</pre></dt> <dd> <p>Executes an external process. If the external process terminates with a non-zero exit code, an OSError exception is raised.</p> <p><strong>Note:</strong> If you need a version of <code>exec</code> that returns the exit code and text output of the command, you can use <a href="system.html#gorgeEx,string,string,string">system.gorgeEx</a>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L250" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L250" target="_blank">Edit</a> </dd>  <dt><pre id="exec%2Cstring%2Cstring%2Cstring" data-language="nim">proc exec(command: string; input: string; cache = "") {...}{.raises: [OSError],
    tags: [ExecIOEffect].}</pre></dt> <dd> Executes an external process. If the external process terminates with a non-zero exit code, an OSError exception is raised. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L263" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L263" target="_blank">Edit</a> </dd>  <dt><pre id="selfExec%2Cstring" data-language="nim">proc selfExec(command: string) {...}{.raises: [OSError], tags: [ExecIOEffect].}</pre></dt> <dd> Executes an external command with the current nim/nimble executable. <code>Command</code> must not contain the "nim " part. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L273" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L273" target="_blank">Edit</a> </dd>  <dt><pre id="put%2Cstring%2Cstring" data-language="nim">proc put(key, value: string) {...}{.raises: [], tags: [].}</pre></dt> <dd> Sets a configuration 'key' like 'gcc.options.always' to its value. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L283" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L283" target="_blank">Edit</a> </dd>  <dt><pre id="get%2Cstring" data-language="nim">proc get(key: string): string {...}{.raises: [], tags: [].}</pre></dt> <dd> Retrieves a configuration 'key' like 'gcc.options.always'. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L287" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L287" target="_blank">Edit</a> </dd>  <dt><pre id="exists%2Cstring" data-language="nim">proc exists(key: string): bool {...}{.raises: [], tags: [].}</pre></dt> <dd> Checks for the existence of a configuration 'key' like 'gcc.options.always'. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L291" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L291" target="_blank">Edit</a> </dd>  <dt><pre id="nimcacheDir" data-language="nim">proc nimcacheDir(): string {...}{.raises: [], tags: [].}</pre></dt> <dd> Retrieves the location of 'nimcache'. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L296" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L296" target="_blank">Edit</a> </dd>  <dt><pre id="projectName" data-language="nim">proc projectName(): string {...}{.raises: [], tags: [].}</pre></dt> <dd> Retrieves the name of the current project <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L300" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L300" target="_blank">Edit</a> </dd>  <dt><pre id="projectDir" data-language="nim">proc projectDir(): string {...}{.raises: [], tags: [].}</pre></dt> <dd> Retrieves the absolute directory of the current project <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L304" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L304" target="_blank">Edit</a> </dd>  <dt><pre id="projectPath" data-language="nim">proc projectPath(): string {...}{.raises: [], tags: [].}</pre></dt> <dd> Retrieves the absolute path of the current project <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L308" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L308" target="_blank">Edit</a> </dd>  <dt><pre id="thisDir" data-language="nim">proc thisDir(): string {...}{.raises: [], tags: [].}</pre></dt> <dd> Retrieves the directory of the current <code>nims</code> script file. Its path is obtained via <code>currentSourcePath</code> (although, currently, <code>currentSourcePath</code> resolves symlinks, unlike <code>thisDir</code>). <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L312" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L312" target="_blank">Edit</a> </dd>  <dt><pre id="cd%2Cstring" data-language="nim">proc cd(dir: string) {...}{.raises: [OSError], tags: [].}</pre></dt> <dd> <p>Changes the current directory.</p> <p>The change is permanent for the rest of the execution, since this is just a shortcut for <a href="os.html#setCurrentDir,string">os.setCurrentDir()</a> . Use the <a href="#withDir.t,string,untyped">withDir()</a> template if you want to perform a temporary change only.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L318" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L318" target="_blank">Edit</a> </dd>  <dt><pre id="findExe%2Cstring" data-language="nim">proc findExe(bin: string): string {...}{.raises: [], tags: [].}</pre></dt> <dd> Searches for bin in the current working directory and then in directories listed in the PATH environment variable. Returns "" if the exe cannot be found. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L328" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L328" target="_blank">Edit</a> </dd>  <dt><pre id="cppDefine%2Cstring" data-language="nim">proc cppDefine(define: string) {...}{.raises: [], tags: [].}</pre></dt> <dd> tell Nim that <code>define</code> is a C preprocessor <code>#define</code> and so always needs to be mangled. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L358" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L358" target="_blank">Edit</a> </dd>  <dt><pre id="readLineFromStdin" data-language="nim">proc readLineFromStdin(): TaintedString {...}{.raises: [IOError],
    tags: [ReadIOEffect].}</pre></dt> <dd> Reads a line of data from stdin - blocks until n or EOF which happens when stdin is closed <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L371" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L371" target="_blank">Edit</a> </dd>  <dt><pre id="readAllFromStdin" data-language="nim">proc readAllFromStdin(): TaintedString {...}{.raises: [IOError], tags: [ReadIOEffect].}</pre></dt> <dd> Reads all data from stdin - blocks until EOF which happens when stdin is closed <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L377" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L377" target="_blank">Edit</a> </dd>  <dt><pre id="requires%2Cvarargs%5Bstring%5D" data-language="nim">proc requires(deps: varargs[string]) {...}{.raises: [], tags: [].}</pre></dt> <dd> Nimble support: Call this to set the list of requirements of your Nimble package. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L436" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L436" target="_blank">Edit</a> </dd> </dl>  <h2 id="18">Templates</h2> <dl>  <dt><pre id="existsFile.t%2Cvarargs%5Buntyped%5D" data-language="nim">template existsFile(args: varargs[untyped]): untyped {...}{.
    deprecated: "use fileExists".}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> use fileExists </div> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L139" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L139" target="_blank">Edit</a> </dd>  <dt><pre id="existsDir.t%2Cvarargs%5Buntyped%5D" data-language="nim">template existsDir(args: varargs[untyped]): untyped {...}{.
    deprecated: "use dirExists".}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> use dirExists </div> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L144" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L144" target="_blank">Edit</a> </dd>  <dt><pre id="--.t%2Cuntyped%2Cuntyped" data-language="nim">template `--`(key, val: untyped)</pre></dt> <dd> A shortcut for <code>switch(astToStr(key), astToStr(val))</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L165" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L165" target="_blank">Edit</a> </dd>  <dt><pre id="--.t%2Cuntyped" data-language="nim">template `--`(key: untyped)</pre></dt> <dd> A shortcut for <code>switch(astToStr(key)</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L169" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L169" target="_blank">Edit</a> </dd>  <dt><pre id="withDir.t%2Cstring%2Cuntyped" data-language="nim">template withDir(dir: string; body: untyped): untyped</pre></dt> <dd> <p>Changes the current directory temporarily.</p> <p>If you need a permanent change, use the <a href="#cd,string">cd()</a> proc. Usage example:</p> <pre class="listing" data-language="nim">withDir "foo":
  # inside foo
#back to last dir</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L334" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L334" target="_blank">Edit</a> </dd>  <dt><pre id="task.t%2Cuntyped%2Cstring%2Cuntyped" data-language="nim">template task(name: untyped; description: string; body: untyped): untyped</pre></dt> <dd> <p>Defines a task. Hidden tasks are supported via an empty description.</p> <p>Example:</p> <pre class="listing" data-language="nim">task build, "default build is via the C backend":
  setCommand "c"</pre>
<p>For a task named <code>foo</code>, this template generates a <code>proc</code> named <code>fooTask</code>. This is useful if you need to call one task in another in your Nimscript.</p> <p>Example:</p> <pre class="listing" data-language="nim">task foo, "foo":        # &gt; nim foo
  echo "Running foo"    # Running foo

task bar, "bar":        # &gt; nim bar
  echo "Running bar"    # Running bar
  fooTask()             # Running foo</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/nimscript.nim#L385" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/nimscript.nim#L385" target="_blank">Edit</a> </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2021 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/nimscript.html" class="_attribution-link">https://nim-lang.org/docs/nimscript.html</a>
  </p>
</div>
