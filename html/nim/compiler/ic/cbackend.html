<h1 class="title">ic/cbackend</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/compiler/ic/cbackend.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/compiler/ic/cbackend.nim#L1" target="_blank">Edit</a>  <p class="module-desc">New entry point into our C/C++ code generator. Ideally somebody would rewrite the old backend (which is 8000 lines of crufty Nim code) to work on packed trees directly and produce the C code as an AST which can then be rendered to text in a very simple manner. Unfortunately nobody wrote this code. So instead we wrap the existing cgen.nim and its friends so that we call directly into the existing code generation logic but avoiding the naive, outdated <code><span class="Identifier">passes</span></code> design. Thus you will see some <code><span class="Identifier">useAliveDataFromDce</span> <span class="Keyword">in</span> <span class="Identifier">flags</span></code> checks in the old code -- the old code is also doing cross-module dependency tracking and DCE that we don't need anymore. DCE is now done as prepass over the entire packed module graph.</p>  <h2 id="6">Imports</h2> <dl> <a href="../ast.html">../ast</a>, <a href="../options.html">../options</a>, <a href="../lineinfos.html">../lineinfos</a>, <a href="../modulegraphs.html">../modulegraphs</a>, <a href="../cgendata.html">../cgendata</a>, <a href="../cgen.html">../cgen</a>, <a href="../pathutils.html">../pathutils</a>, <a href="../extccomp.html">../extccomp</a>, <a href="../msgs.html">../msgs</a>, <a href="../modulepaths.html">../modulepaths</a>, <a href="packed_ast.html">packed_ast</a>, <a href="ic.html">ic</a>, <a href="dce.html">dce</a>, <a href="rodfiles.html">rodfiles</a> </dl>   <h2 id="12">Procs</h2> <dl> <div id="generateCode-procs-all"> <div id="generateCode,ModuleGraph"> <dt><pre data-language="nim">proc generateCode(g: ModuleGraph) {....raises: [KeyError, Exception, OSError,
    IOError, ValueError, ERecoverableError], tags: [ReadDirEffect, RootEffect,
    ReadEnvEffect, ReadIOEffect, WriteDirEffect, WriteIOEffect, TimeEffect],
                                    forbids: [].}</pre></dt> <dd> The single entry point, generate C(++) code for the entire Nim program aka <code><span class="Identifier">ModuleGraph</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/compiler/ic/cbackend.nim#L142" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/compiler/ic/cbackend.nim#L142" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/compiler/ic/cbackend.html" class="_attribution-link">https://nim-lang.org/docs/compiler/ic/cbackend.html</a>
  </p>
</div>
