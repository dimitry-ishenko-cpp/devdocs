<h1 class="title">dfa</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/compiler/dfa.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/compiler/dfa.nim#L1" target="_blank">Edit</a>  
<p>Data flow analysis for Nim. We transform the AST into a linear list of instructions first to make this easier to handle: There are only 3 different branching instructions: 'goto X' is an unconditional goto, 'fork X' is a conditional goto (either the next instruction or 'X' can be taken), 'loop X' is the only jump that jumps back.</p> <p>Exhaustive case statements are translated so that the last branch is transformed into an 'else' branch. <code>return</code> and <code>break</code> are all covered by 'goto'.</p> <p>The data structures and algorithms used here are inspired by "A Graph–Free Approach to Data–Flow Analysis" by Markus Mohnen. <a href="https://link.springer.com/content/pdf/10.1007/3-540-45937-5_6.pdf">https://link.springer.com/content/pdf/10.1007/3-540-45937-5_6.pdf</a></p>  <h2 id="6">Imports</h2> <dl> <a href="ast.html">ast</a>, <a href="lineinfos.html">lineinfos</a>, <a href="renderer.html">renderer</a>, <a href="aliasanalysis.html">aliasanalysis</a> </dl>   <h2 id="7">Types</h2> <dl> <div id="ControlFlowGraph"> <dt><pre data-language="nim">ControlFlowGraph = seq[Instr]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/compiler/dfa.nim#L41" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/compiler/dfa.nim#L41" target="_blank">Edit</a> </dd> </div> <div id="Instr"> <dt><pre data-language="nim">Instr = object
  case kind*: InstrKind
  of goto, fork, loop:
    dest*: int
  of def, use:
    n*: PNode</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/compiler/dfa.nim#L35" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/compiler/dfa.nim#L35" target="_blank">Edit</a> </dd> </div> <div id="InstrKind"> <dt><pre data-language="nim">InstrKind = enum
  goto, loop, fork, def, use</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/compiler/dfa.nim#L33" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/compiler/dfa.nim#L33" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="constructCfg-procs-all"> <div id="constructCfg,PSym,PNode,PSym"> <dt><pre data-language="nim">proc constructCfg(s: PSym; body: PNode; root: PSym): ControlFlowGraph {.
    ...raises: [Exception], tags: [RootEffect], forbids: [].}</pre></dt> <dd> constructs a control flow graph for <code>body</code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/compiler/dfa.nim#L479" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/compiler/dfa.nim#L479" target="_blank">Edit</a> </dd> </div> </div> <div id="echoCfg-procs-all"> <div id="echoCfg,ControlFlowGraph,int,int"> <dt><pre data-language="nim">proc echoCfg(c: ControlFlowGraph; start = 0; last = -1) {....deprecated,
    raises: [Exception, KeyError], tags: [RootEffect], forbids: [].}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated</b> </div> echos the ControlFlowGraph for debugging purposes. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/compiler/dfa.nim#L88" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/compiler/dfa.nim#L88" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/compiler/dfa.html" class="_attribution-link">https://nim-lang.org/docs/compiler/dfa.html</a>
  </p>
</div>
