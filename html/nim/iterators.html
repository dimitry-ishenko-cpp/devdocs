<h1 class="title">iterators</h1>    <h2 id="15">Iterators</h2> <dl>  <dt><pre id="items.i%2CopenArray%5BT%5D" data-language="nim">iterator items[T: not char](a: openArray[T]): lent2 T {...}{.inline.}</pre></dt> <dd> Iterates over each item of <code>a</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L6" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L6" target="_blank">Edit</a> </dd>  <dt><pre id="items.i%2CopenArray%5BT%5D_2" data-language="nim">iterator items[T: char](a: openArray[T]): T {...}{.inline.}</pre></dt> <dd> Iterates over each item of <code>a</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L13" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L13" target="_blank">Edit</a> </dd>  <dt><pre id="mitems.i%2CopenArray%5BT%5D" data-language="nim">iterator mitems[T](a: var openArray[T]): var T {...}{.inline.}</pre></dt> <dd> Iterates over each item of <code>a</code> so that you can modify the yielded value. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L23" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L23" target="_blank">Edit</a> </dd>  <dt><pre id="items.i%2Carray%5BIX%2CT%5D" data-language="nim">iterator items[IX, T](a: array[IX, T]): T {...}{.inline.}</pre></dt> <dd> Iterates over each item of <code>a</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L30" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L30" target="_blank">Edit</a> </dd>  <dt><pre id="mitems.i%2Carray%5BIX%2CT%5D" data-language="nim">iterator mitems[IX, T](a: var array[IX, T]): var T {...}{.inline.}</pre></dt> <dd> Iterates over each item of <code>a</code> so that you can modify the yielded value. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L39" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L39" target="_blank">Edit</a> </dd>  <dt><pre id="items.i%2Cset%5BT%5D" data-language="nim">iterator items[T](a: set[T]): T {...}{.inline.}</pre></dt> <dd> Iterates over each element of <code>a</code>. <code>items</code> iterates only over the elements that are really in the set (and not over the ones the set is able to hold). <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L48" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L48" target="_blank">Edit</a> </dd>  <dt><pre id="items.i%2Ccstring" data-language="nim">iterator items(a: cstring): char {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> Iterates over each item of <code>a</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L57" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L57" target="_blank">Edit</a> </dd>  <dt><pre id="mitems.i%2Ccstring" data-language="nim">iterator mitems(a: var cstring): var char {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> Iterates over each item of <code>a</code> so that you can modify the yielded value. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L71" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L71" target="_blank">Edit</a> </dd>  <dt><pre id="items.i%2Ctypedesc%5B%5D" data-language="nim">iterator items(E: typedesc[enum]): E:type</pre></dt> <dd> Iterates over the values of the enum <code>E</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L85" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L85" target="_blank">Edit</a> </dd>  <dt><pre id="items.i%2CHSlice%5BT%2CT%5D" data-language="nim">iterator items[T](s: HSlice[T, T]): T</pre></dt> <dd> Iterates over the slice <code>s</code>, yielding each value between <code>s.a</code> and <code>s.b</code> (inclusively). <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L90" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L90" target="_blank">Edit</a> </dd>  <dt><pre id="pairs.i%2CopenArray%5BT%5D" data-language="nim">iterator pairs[T](a: openArray[T]): tuple[key: int, val: T] {...}{.inline.}</pre></dt> <dd> Iterates over each item of <code>a</code>. Yields <code>(index, a[index])</code> pairs. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L96" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L96" target="_blank">Edit</a> </dd>  <dt><pre id="mpairs.i%2CopenArray%5BT%5D" data-language="nim">iterator mpairs[T](a: var openArray[T]): tuple[key: int, val: var T] {...}{.inline.}</pre></dt> <dd> Iterates over each item of <code>a</code>. Yields <code>(index, a[index])</code> pairs. <code>a[index]</code> can be modified. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L103" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L103" target="_blank">Edit</a> </dd>  <dt><pre id="pairs.i%2Carray%5BIX%2CT%5D" data-language="nim">iterator pairs[IX, T](a: array[IX, T]): tuple[key: IX, val: T] {...}{.inline.}</pre></dt> <dd> Iterates over each item of <code>a</code>. Yields <code>(index, a[index])</code> pairs. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L111" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L111" target="_blank">Edit</a> </dd>  <dt><pre id="mpairs.i%2Carray%5BIX%2CT%5D" data-language="nim">iterator mpairs[IX, T](a: var array[IX, T]): tuple[key: IX, val: var T] {...}{.inline.}</pre></dt> <dd> Iterates over each item of <code>a</code>. Yields <code>(index, a[index])</code> pairs. <code>a[index]</code> can be modified. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L120" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L120" target="_blank">Edit</a> </dd>  <dt><pre id="pairs.i%2Cseq%5BT%5D" data-language="nim">iterator pairs[T](a: seq[T]): tuple[key: int, val: T] {...}{.inline.}</pre></dt> <dd> Iterates over each item of <code>a</code>. Yields <code>(index, a[index])</code> pairs. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L130" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L130" target="_blank">Edit</a> </dd>  <dt><pre id="mpairs.i%2Cseq%5BT%5D" data-language="nim">iterator mpairs[T](a: var seq[T]): tuple[key: int, val: var T] {...}{.inline.}</pre></dt> <dd> Iterates over each item of <code>a</code>. Yields <code>(index, a[index])</code> pairs. <code>a[index]</code> can be modified. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L139" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L139" target="_blank">Edit</a> </dd>  <dt><pre id="pairs.i%2Cstring" data-language="nim">iterator pairs(a: string): tuple[key: int, val: char] {...}{.inline, raises: [],
    tags: [].}</pre></dt> <dd> Iterates over each item of <code>a</code>. Yields <code>(index, a[index])</code> pairs. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L149" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L149" target="_blank">Edit</a> </dd>  <dt><pre id="mpairs.i%2Cstring" data-language="nim">iterator mpairs(a: var string): tuple[key: int, val: var char] {...}{.inline,
    raises: [], tags: [].}</pre></dt> <dd> Iterates over each item of <code>a</code>. Yields <code>(index, a[index])</code> pairs. <code>a[index]</code> can be modified. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L158" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L158" target="_blank">Edit</a> </dd>  <dt><pre id="pairs.i%2Ccstring" data-language="nim">iterator pairs(a: cstring): tuple[key: int, val: char] {...}{.inline, raises: [],
    tags: [].}</pre></dt> <dd> Iterates over each item of <code>a</code>. Yields <code>(index, a[index])</code> pairs. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L168" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L168" target="_blank">Edit</a> </dd>  <dt><pre id="mpairs.i%2Ccstring" data-language="nim">iterator mpairs(a: var cstring): tuple[key: int, val: var char] {...}{.inline,
    raises: [], tags: [].}</pre></dt> <dd> Iterates over each item of <code>a</code>. Yields <code>(index, a[index])</code> pairs. <code>a[index]</code> can be modified. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L182" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L182" target="_blank">Edit</a> </dd>  <dt><pre id="items.i%2Cseq%5BT%5D" data-language="nim">iterator items[T](a: seq[T]): lent2 T {...}{.inline.}</pre></dt> <dd> Iterates over each item of <code>a</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L197" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L197" target="_blank">Edit</a> </dd>  <dt><pre id="mitems.i%2Cseq%5BT%5D" data-language="nim">iterator mitems[T](a: var seq[T]): var T {...}{.inline.}</pre></dt> <dd> Iterates over each item of <code>a</code> so that you can modify the yielded value. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L206" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L206" target="_blank">Edit</a> </dd>  <dt><pre id="items.i%2Cstring" data-language="nim">iterator items(a: string): char {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> Iterates over each item of <code>a</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L215" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L215" target="_blank">Edit</a> </dd>  <dt><pre id="mitems.i%2Cstring" data-language="nim">iterator mitems(a: var string): var char {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> Iterates over each item of <code>a</code> so that you can modify the yielded value. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L224" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L224" target="_blank">Edit</a> </dd>  <dt><pre id="fields.i%2CT" data-language="nim">iterator fields[T: tuple | object](x: T): RootObj {...}{.magic: "Fields",
    noSideEffect.}</pre></dt> <dd> <p>Iterates over every field of <code>x</code>.</p> <p><strong>Warning</strong>: This really transforms the 'for' and unrolls the loop. The current implementation also has a bug that affects symbol binding in the loop body.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = (1, "foo")
for v in fields(t): v = default(type(v))
doAssert t == (0, "")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L234" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L234" target="_blank">Edit</a> </dd>  <dt><pre id="fields.i%2CS%2CT" data-language="nim">iterator fields[S: tuple | object; T: tuple | object](x: S; y: T): tuple[
    key: string, val: RootObj] {...}{.magic: "Fields", noSideEffect.}</pre></dt> <dd> <p>Iterates over every field of <code>x</code> and <code>y</code>.</p> <p><strong>Warning</strong>: This really transforms the 'for' and unrolls the loop. The current implementation also has a bug that affects symbol binding in the loop body.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t1 = (1, "foo")
var t2 = default(type(t1))
for v1, v2 in fields(t1, t2): v2 = v1
doAssert t1 == t2</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L246" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L246" target="_blank">Edit</a> </dd>  <dt><pre id="fieldPairs.i%2CT" data-language="nim">iterator fieldPairs[T: tuple | object](x: T): tuple[key: string, val: RootObj] {...}{.
    magic: "FieldPairs", noSideEffect.}</pre></dt> <dd> <p>Iterates over every field of <code>x</code> returning their name and value.</p> <p>When you iterate over objects with different field types you have to use the compile time <code>when</code> instead of a runtime <code>if</code> to select the code you want to run for each type. To perform the comparison use the <a href="manual.html#generics-is-operator">is operator</a>. Another way to do the same without <code>when</code> is to leave the task of picking the appropriate code to a secondary proc which you overload for each field type and pass the <code>value</code> to.</p> <p><strong>Warning</strong>: This really transforms the 'for' and unrolls the loop. The current implementation also has a bug that affects symbol binding in the loop body.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">type
  Custom = object
    foo: string
    bar: bool
proc `$`(x: Custom): string =
  result = "Custom:"
  for name, value in x.fieldPairs:
    when value is bool:
      result.add("\n\t" &amp; name &amp; " is " &amp; $value)
    else:
      result.add("\n\t" &amp; name &amp; " '" &amp; value &amp; "'")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L259" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L259" target="_blank">Edit</a> </dd>  <dt><pre id="fieldPairs.i%2CS%2CT" data-language="nim">iterator fieldPairs[S: tuple | object; T: tuple | object](x: S; y: T): tuple[
    key: string, a, b: RootObj] {...}{.magic: "FieldPairs", noSideEffect.}</pre></dt> <dd> <p>Iterates over every field of <code>x</code> and <code>y</code>.</p> <p><strong>Warning</strong>: This really transforms the 'for' and unrolls the loop. The current implementation also has a bug that affects symbol binding in the loop body.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">type Foo = object
  x1: int
  x2: string
var a1 = Foo(x1: 12, x2: "abc")
var a2: Foo
for name, v1, v2 in fieldPairs(a1, a2):
  when name == "x2": v2 = v1
doAssert a2 == Foo(x1: 0, x2: "abc")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/iterators.nim#L287" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/iterators.nim#L287" target="_blank">Edit</a> </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2021 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/iterators.html" class="_attribution-link">https://nim-lang.org/docs/iterators.html</a>
  </p>
</div>
