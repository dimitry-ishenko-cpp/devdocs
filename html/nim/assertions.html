<h1 class="title">assertions</h1>    <h2 id="6">Imports</h2> <dl> <a href="miscdollars.html">miscdollars</a> </dl>  <h2 id="12">Procs</h2> <dl>  <dt><pre id="raiseAssert%2Cstring" data-language="nim">proc raiseAssert(msg: string) {...}{.noinline, noreturn, nosinks, raises: [],
                                tags: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/assertions.nim#L22" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/assertions.nim#L22" target="_blank">Edit</a> </dd>  <dt><pre id="failedAssertImpl%2Cstring" data-language="nim">proc failedAssertImpl(msg: string) {...}{.raises: [], tags: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/assertions.nim#L25" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/assertions.nim#L25" target="_blank">Edit</a> </dd> </dl>  <h2 id="18">Templates</h2> <dl>  <dt><pre id="assert.t%2Cuntyped%2Cstring" data-language="nim">template assert(cond: untyped; msg = "")</pre></dt> <dd> <p>Raises <code>AssertionDefect</code> with <code>msg</code> if <code>cond</code> is false. Note that <code>AssertionDefect</code> is hidden from the effect system, so it doesn't produce <code>{.raises: [AssertionDefect].}</code>. This exception is only supposed to be caught by unit testing frameworks.</p> <p>The compiler may not generate any code at all for <code>assert</code> if it is advised to do so through the <code>-d:danger</code> or <code>--assertions:off</code> <a href="nimc.html#compiler-usage-command-line-switches">command line switches</a>.</p> <pre class="listing" data-language="nim">static: assert 1 == 9, "This assertion generates code when not built with -d:danger or --assertions:off"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/assertions.nim#L43" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/assertions.nim#L43" target="_blank">Edit</a> </dd>  <dt><pre id="doAssert.t%2Cuntyped%2Cstring" data-language="nim">template doAssert(cond: untyped; msg = "")</pre></dt> <dd> Similar to <code>assert</code> but is always turned on regardless of <code>--assertions</code>.<pre class="listing" data-language="nim">static: doAssert 1 == 9, "This assertion generates code when built with/without -d:danger or --assertions:off"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/assertions.nim#L57" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/assertions.nim#L57" target="_blank">Edit</a> </dd>  <dt><pre id="onFailedAssert.t%2Cuntyped%2Cuntyped" data-language="nim">template onFailedAssert(msg, code: untyped): untyped {...}{.dirty.}</pre></dt> <dd> Sets an assertion failure handler that will intercept any assert statements following <code>onFailedAssert</code> in the current module scope.<pre class="listing" data-language="nim"># module-wide policy to change the failed assert
# exception type in order to include a lineinfo
onFailedAssert(msg):
  var e = new(TMyError)
  e.msg = msg
  e.lineinfo = instantiationInfo(-2)
  raise e</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/assertions.nim#L65" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/assertions.nim#L65" target="_blank">Edit</a> </dd>  <dt><pre id="doAssertRaises.t%2Ctypedesc%2Cuntyped" data-language="nim">template doAssertRaises(exception: typedesc; code: untyped)</pre></dt> <dd> Raises <code>AssertionDefect</code> if specified <code>code</code> does not raise the specified exception. Example:<pre class="listing" data-language="nim">doAssertRaises(ValueError):
  raise newException(ValueError, "Hello World")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/system/assertions.nim#L82" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/assertions.nim#L82" target="_blank">Edit</a> </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2021 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/assertions.html" class="_attribution-link">https://nim-lang.org/docs/assertions.html</a>
  </p>
</div>
