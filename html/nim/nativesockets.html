<h1 class="title">nativesockets</h1>  <p class="module-desc">This module implements a low-level cross-platform sockets interface. Look at the <code>net</code> module for the higher-level version.</p>  <h2 id="6">Imports</h2> <dl> <a href="os.html">os</a>, <a href="options.html">options</a>, <a href="since.html">since</a>, <a href="winlean.html">winlean</a> </dl>  <h2 id="7">Types</h2> <dl>  <dt><pre id="Port">Port = distinct uint16</pre></dt> <dd> port type <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L52" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L52" target="_blank">Edit</a> </dd>  <dt><pre id="Domain" data-language="nim">Domain = enum
  AF_UNSPEC = 0, ## unspecified domain (can be detected automatically by
                  ## some procedures, such as getaddrinfo)
  AF_UNIX = 1,              ## for local socket (using a file). Unsupported on Windows.
  AF_INET = 2,              ## for network protocol IPv4 or
  AF_INET6 = 23</pre></dt> <dd> domain, which specifies the protocol family of the created socket. Other domains than those that are listed here are unsupported. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L54" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L54" target="_blank">Edit</a> </dd>  <dt><pre id="SockType" data-language="nim">SockType = enum
  SOCK_STREAM = 1,          ## reliable stream-oriented service or Stream Sockets
  SOCK_DGRAM = 2,           ## datagram service or Datagram Sockets
  SOCK_RAW = 3,             ## raw protocols atop the network layer.
  SOCK_SEQPACKET = 5         ## reliable sequenced packet service</pre></dt> <dd> second argument to <code>socket</code> proc <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L64" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L64" target="_blank">Edit</a> </dd>  <dt><pre id="Protocol" data-language="nim">Protocol = enum
  IPPROTO_TCP = 6,          ## Transmission control protocol.
  IPPROTO_UDP = 17,         ## User datagram protocol.
  IPPROTO_IP,               ## Internet protocol.
  IPPROTO_IPV6,             ## Internet Protocol Version 6.
  IPPROTO_RAW,              ## Raw IP Packets Protocol. Unsupported on Windows.
  IPPROTO_ICMP,             ## Internet Control message protocol.
  IPPROTO_ICMPV6             ## Internet Control message protocol for IPv6.</pre></dt> <dd> third argument to <code>socket</code> proc <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L70" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L70" target="_blank">Edit</a> </dd>  <dt><pre id="Servent" data-language="nim">Servent = object
  name*: string
  aliases*: seq[string]
  port*: Port
  proto*: string</pre></dt> <dd> information about a service <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L79" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L79" target="_blank">Edit</a> </dd>  <dt><pre id="Hostent" data-language="nim">Hostent = object
  name*: string
  aliases*: seq[string]
  addrtype*: Domain
  length*: int
  addrList*: seq[string]</pre></dt> <dd> information about a given host <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L85" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L85" target="_blank">Edit</a> </dd> </dl>  <h2 id="9">Lets</h2> <dl>  <dt><pre id="osInvalidSocket">osInvalidSocket = INVALID_SOCKET</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L94" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L94" target="_blank">Edit</a> </dd> </dl>  <h2 id="10">Consts</h2> <dl>  <dt><pre id="IOCPARM_MASK">IOCPARM_MASK = 127</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L97" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L97" target="_blank">Edit</a> </dd>  <dt><pre id="IOC_IN">IOC_IN = -2147483648</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L98" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L98" target="_blank">Edit</a> </dd>  <dt><pre id="FIONBIO" data-language="nim">FIONBIO = -2147195266'i32</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L99" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L99" target="_blank">Edit</a> </dd> </dl>  <h2 id="12">Procs</h2> <dl>  <dt><pre id="ioctlsocket%2CSocketHandle%2Cclong%2Cptr.clong" data-language="nim">proc ioctlsocket(s: SocketHandle; cmd: clong; argptr: ptr clong): cint {...}{.
    stdcall, importc: "ioctlsocket", dynlib: "ws2_32.dll".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L104" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L104" target="_blank">Edit</a> </dd>  <dt><pre id="%3D%3D%2CPort%2CPort" data-language="nim">proc `==`(a, b: Port): bool {...}{.borrow.}</pre></dt> <dd> <code>==</code> for ports. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L114" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L114" target="_blank">Edit</a> </dd>  <dt><pre id="%24%2CPort" data-language="nim">proc `$`(p: Port): string {...}{.borrow.}</pre></dt> <dd> Returns the port number as a string <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L117" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L117" target="_blank">Edit</a> </dd>  <dt><pre id="toInt%2CDomain" data-language="nim">proc toInt(domain: Domain): cint {...}{.raises: [], tags: [].}</pre></dt> <dd> Converts the Domain enum to a platform-dependent <code>cint</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L164" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L164" target="_blank">Edit</a> </dd>  <dt><pre id="toKnownDomain%2Ccint" data-language="nim">proc toKnownDomain(family: cint): Option[Domain] {...}{.raises: [], tags: [].}</pre></dt> <dd> Converts the platform-dependent <code>cint</code> to the Domain or none(), if the <code>cint</code> is not known. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L167" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L167" target="_blank">Edit</a> </dd>  <dt><pre id="toInt%2CSockType" data-language="nim">proc toInt(typ: SockType): cint {...}{.raises: [], tags: [].}</pre></dt> <dd> Converts the SockType enum to a platform-dependent <code>cint</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L175" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L175" target="_blank">Edit</a> </dd>  <dt><pre id="toInt%2CProtocol" data-language="nim">proc toInt(p: Protocol): cint {...}{.raises: [], tags: [].}</pre></dt> <dd> Converts the Protocol enum to a platform-dependent <code>cint</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L178" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L178" target="_blank">Edit</a> </dd>  <dt><pre id="toSockType%2CProtocol" data-language="nim">proc toSockType(protocol: Protocol): SockType {...}{.raises: [], tags: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L195" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L195" target="_blank">Edit</a> </dd>  <dt><pre id="getProtoByName%2Cstring" data-language="nim">proc getProtoByName(name: string): int {...}{.raises: [OSError], tags: [].}</pre></dt> <dd> Returns a protocol code from the database that matches the protocol <code>name</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L204" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L204" target="_blank">Edit</a> </dd>  <dt><pre id="close%2CSocketHandle" data-language="nim">proc close(socket: SocketHandle) {...}{.raises: [], tags: [].}</pre></dt> <dd> Closes a socket. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L216" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L216" target="_blank">Edit</a> </dd>  <dt><pre id="setInheritable%2CSocketHandle%2Cbool" data-language="nim">proc setInheritable(s: SocketHandle; inheritable: bool): bool {...}{.inline,
    raises: [], tags: [].}</pre></dt> <dd> <p>Set whether a socket is inheritable by child processes. Returns <code>true</code> on success.</p> <p>This function is not implemented on all platform, test for availability with <code>declared() &lt;system.html#declared,untyped&gt;</code>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L226" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L226" target="_blank">Edit</a> </dd>  <dt><pre id="createNativeSocket%2Ccint%2Ccint%2Ccint%2Cbool" data-language="nim">proc createNativeSocket(domain: cint; sockType: cint; protocol: cint;
                        inheritable: bool = defined(nimInheritHandles)): SocketHandle {...}{.
    raises: [], tags: [].}</pre></dt> <dd> <p>Creates a new socket; returns <code>osInvalidSocket</code> if an error occurs.</p> <p><code>inheritable</code> decides if the resulting SocketHandle can be inherited by child processes.</p> <p>Use this overload if one of the enums specified above does not contain what you need.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L234" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L234" target="_blank">Edit</a> </dd>  <dt><pre id="createNativeSocket%2CDomain%2CSockType%2CProtocol%2Cbool" data-language="nim">proc createNativeSocket(domain: Domain = AF_INET;
                        sockType: SockType = SOCK_STREAM;
                        protocol: Protocol = IPPROTO_TCP;
                        inheritable: bool = defined(nimInheritHandles)): SocketHandle {...}{.
    raises: [], tags: [].}</pre></dt> <dd> <p>Creates a new socket; returns <code>osInvalidSocket</code> if an error occurs.</p> <p><code>inheritable</code> decides if the resulting SocketHandle can be inherited by child processes.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L254" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L254" target="_blank">Edit</a> </dd>  <dt><pre id="bindAddr%2CSocketHandle%2Cptr.SockAddr%2CSockLen" data-language="nim">proc bindAddr(socket: SocketHandle; name: ptr SockAddr; namelen: SockLen): cint {...}{.
    raises: [], tags: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L264" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L264" target="_blank">Edit</a> </dd>  <dt><pre id="listen%2CSocketHandle" data-language="nim">proc listen(socket: SocketHandle; backlog = SOMAXCONN): cint {...}{.
    tags: [ReadIOEffect], raises: [].}</pre></dt> <dd> Marks <code>socket</code> as accepting connections. <code>Backlog</code> specifies the maximum length of the queue of pending connections. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L268" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L268" target="_blank">Edit</a> </dd>  <dt><pre id="getAddrInfo%2Cstring%2CPort%2CDomain%2CSockType%2CProtocol" data-language="nim">proc getAddrInfo(address: string; port: Port; domain: Domain = AF_INET;
                 sockType: SockType = SOCK_STREAM;
                 protocol: Protocol = IPPROTO_TCP): ptr AddrInfo {...}{.
    raises: [OSError], tags: [].}</pre></dt> <dd> <blockquote><p><strong>Warning</strong>: The resulting <code>ptr AddrInfo</code> must be freed using <code>freeAddrInfo</code>!</p></blockquote> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L278" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L278" target="_blank">Edit</a> </dd>  <dt><pre id="ntohl%2Cuint32" data-language="nim">proc ntohl(x: uint32): uint32 {...}{.raises: [], tags: [].}</pre></dt> <dd> Converts 32-bit unsigned integers from network to host byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 4-byte swap operation. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L305" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L305" target="_blank">Edit</a> </dd>  <dt><pre id="ntohs%2Cuint16" data-language="nim">proc ntohs(x: uint16): uint16 {...}{.raises: [], tags: [].}</pre></dt> <dd> Converts 16-bit unsigned integers from network to host byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 2-byte swap operation. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L315" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L315" target="_blank">Edit</a> </dd>  <dt><pre id="getServByName%2Cstring%2Cstring" data-language="nim">proc getServByName(name, proto: string): Servent {...}{.tags: [ReadIOEffect],
    raises: [OSError].}</pre></dt> <dd> <p>Searches the database from the beginning and finds the first entry for which the service name specified by <code>name</code> matches the s_name member and the protocol name specified by <code>proto</code> matches the s_proto member.</p> <p>On posix this will search through the <code>/etc/services</code> file.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L334" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L334" target="_blank">Edit</a> </dd>  <dt><pre id="getServByPort%2CPort%2Cstring" data-language="nim">proc getServByPort(port: Port; proto: string): Servent {...}{.tags: [ReadIOEffect],
    raises: [OSError].}</pre></dt> <dd> <p>Searches the database from the beginning and finds the first entry for which the port specified by <code>port</code> matches the s_port member and the protocol name specified by <code>proto</code> matches the s_proto member.</p> <p>On posix this will search through the <code>/etc/services</code> file.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L350" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L350" target="_blank">Edit</a> </dd>  <dt><pre id="getHostByAddr%2Cstring" data-language="nim">proc getHostByAddr(ip: string): Hostent {...}{.tags: [ReadIOEffect],
    raises: [OSError].}</pre></dt> <dd> This function will lookup the hostname of an IP Address. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L366" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L366" target="_blank">Edit</a> </dd>  <dt><pre id="getHostByName%2Cstring" data-language="nim">proc getHostByName(name: string): Hostent {...}{.tags: [ReadIOEffect],
    raises: [OSError].}</pre></dt> <dd> This function will lookup the IP address of a hostname. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L408" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L408" target="_blank">Edit</a> </dd>  <dt><pre id="getHostname" data-language="nim">proc getHostname(): string {...}{.tags: [ReadIOEffect], raises: [OSError].}</pre></dt> <dd> Returns the local hostname (not the FQDN) <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L437" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L437" target="_blank">Edit</a> </dd>  <dt><pre id="getSockDomain%2CSocketHandle" data-language="nim">proc getSockDomain(socket: SocketHandle): Domain {...}{.raises: [OSError, IOError],
    tags: [].}</pre></dt> <dd> Returns the socket's domain (AF_INET or AF_INET6). <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L453" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L453" target="_blank">Edit</a> </dd>  <dt><pre id="getAddrString%2Cptr.SockAddr" data-language="nim">proc getAddrString(sockAddr: ptr SockAddr): string {...}{.
    raises: [Exception, OSError, IOError], tags: [].}</pre></dt> <dd> Returns the string representation of address within sockAddr <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L466" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L466" target="_blank">Edit</a> </dd>  <dt><pre id="getAddrString%2Cptr.SockAddr%2Cstring" data-language="nim">proc getAddrString(sockAddr: ptr SockAddr; strAddress: var string) {...}{.
    raises: [Exception, OSError, IOError], tags: [].}</pre></dt> <dd> <p>Stores in <code>strAddress</code> the string representation of the address inside <code>sockAddr</code></p> <p><strong>Note</strong></p> <ul class="simple">
<li>
<code>strAddress</code> must be initialized to 46 in length.</li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L492" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L492" target="_blank">Edit</a> </dd>  <dt><pre id="getSockName%2CSocketHandle" data-language="nim">proc getSockName(socket: SocketHandle): Port {...}{.raises: [OSError], tags: [].}</pre></dt> <dd> Returns the socket's associated port number. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L533" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L533" target="_blank">Edit</a> </dd>  <dt><pre id="getLocalAddr%2CSocketHandle%2CDomain" data-language="nim">proc getLocalAddr(socket: SocketHandle; domain: Domain): (string, Port) {...}{.
    raises: [OSError, Exception], tags: [].}</pre></dt> <dd> <p>Returns the socket's local address and port number.</p> <p>Similar to POSIX's <span id="getsockname_1">getsockname</span>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L548" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L548" target="_blank">Edit</a> </dd>  <dt><pre id="getPeerAddr%2CSocketHandle%2CDomain" data-language="nim">proc getPeerAddr(socket: SocketHandle; domain: Domain): (string, Port) {...}{.
    raises: [OSError, Exception], tags: [].}</pre></dt> <dd> <p>Returns the socket's peer address and port number.</p> <p>Similar to POSIX's <span id="getpeername_1">getpeername</span></p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L585" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L585" target="_blank">Edit</a> </dd>  <dt><pre id="getSockOptInt%2CSocketHandle%2Cint%2Cint" data-language="nim">proc getSockOptInt(socket: SocketHandle; level, optname: int): int {...}{.
    tags: [ReadIOEffect], raises: [OSError].}</pre></dt> <dd> getsockopt for integer options. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L622" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L622" target="_blank">Edit</a> </dd>  <dt><pre id="setSockOptInt%2CSocketHandle%2Cint%2Cint%2Cint" data-language="nim">proc setSockOptInt(socket: SocketHandle; level, optname, optval: int) {...}{.
    tags: [WriteIOEffect], raises: [OSError].}</pre></dt> <dd> setsockopt for integer options. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L632" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L632" target="_blank">Edit</a> </dd>  <dt><pre id="setBlocking%2CSocketHandle%2Cbool" data-language="nim">proc setBlocking(s: SocketHandle; blocking: bool) {...}{.raises: [OSError], tags: [].}</pre></dt> <dd> <p>Sets blocking mode on socket.</p> <p>Raises OSError on error.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L640" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L640" target="_blank">Edit</a> </dd>  <dt><pre id="selectRead%2Cseq%5BSocketHandle%5D%2Cint" data-language="nim">proc selectRead(readfds: var seq[SocketHandle]; timeout = 500): int {...}{.
    raises: [], tags: [].}</pre></dt> <dd> <p>When a socket in <code>readfds</code> is ready to be read from then a non-zero value will be returned specifying the count of the sockets which can be read from. The sockets which cannot be read from will also be removed from <code>readfds</code>.</p> <p><code>timeout</code> is specified in milliseconds and <code>-1</code> can be specified for an unlimited time.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L684" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L684" target="_blank">Edit</a> </dd>  <dt><pre id="selectWrite%2Cseq%5BSocketHandle%5D%2Cint" data-language="nim">proc selectWrite(writefds: var seq[SocketHandle]; timeout = 500): int {...}{.
    tags: [ReadIOEffect], raises: [].}</pre></dt> <dd> <p>When a socket in <code>writefds</code> is ready to be written to then a non-zero value will be returned specifying the count of the sockets which can be written to. The sockets which cannot be written to will also be removed from <code>writefds</code>.</p> <p><code>timeout</code> is specified in milliseconds and <code>-1</code> can be specified for an unlimited time.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L705" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L705" target="_blank">Edit</a> </dd>  <dt><pre id="accept%2CSocketHandle" data-language="nim">proc accept(fd: SocketHandle; inheritable = defined(nimInheritHandles)): (
    SocketHandle, string) {...}{.raises: [], tags: [].}</pre></dt> <dd> <p>Accepts a new client connection.</p> <p><code>inheritable</code> decides if the resulting SocketHandle can be inherited by child processes.</p> <p>Returns (osInvalidSocket, "") if an error occurred.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L727" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L727" target="_blank">Edit</a> </dd> </dl>  <h2 id="18">Templates</h2> <dl>  <dt><pre id="htonl.t%2Cuint32" data-language="nim">template htonl(x: uint32): untyped</pre></dt> <dd> Converts 32-bit unsigned integers from host to network byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 4-byte swap operation. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L322" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L322" target="_blank">Edit</a> </dd>  <dt><pre id="htons.t%2Cuint16" data-language="nim">template htons(x: uint16): untyped</pre></dt> <dd> Converts 16-bit unsigned integers from host to network byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 2-byte swap operation. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/nativesockets.nim#L328" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L328" target="_blank">Edit</a> </dd> </dl>  <h2 id="19">Exports</h2> <dl> <a href="winlean.html#WSAEWOULDBLOCK"><span class="Identifier">WSAEWOULDBLOCK</span></a>, <a href="winlean.html#WSAECONNRESET"><span class="Identifier">WSAECONNRESET</span></a>, <a href="winlean.html#WSAECONNABORTED"><span class="Identifier">WSAECONNABORTED</span></a>, <a href="winlean.html#WSAENETRESET"><span class="Identifier">WSAENETRESET</span></a>, <a href="winlean.html#WSANOTINITIALISED"><span class="Identifier">WSANOTINITIALISED</span></a>, <a href="winlean.html#WSAENOTSOCK"><span class="Identifier">WSAENOTSOCK</span></a>, <a href="winlean.html#WSAEINPROGRESS"><span class="Identifier">WSAEINPROGRESS</span></a>, <a href="winlean.html#WSAEINTR"><span class="Identifier">WSAEINTR</span></a>, <a href="winlean.html#WSAEDISCON"><span class="Identifier">WSAEDISCON</span></a>, <a href="winlean.html#ERROR_NETNAME_DELETED"><span class="Identifier">ERROR_NETNAME_DELETED</span></a>, <a href="winlean.html#SocketHandle"><span class="Identifier">SocketHandle</span></a>, <a href="winlean.html#Sockaddr_in"><span class="Identifier">Sockaddr_in</span></a>, <a href="winlean.html#AddrInfo"><span class="Identifier">AddrInfo</span></a>, <a href="winlean.html#INADDR_ANY"><span class="Identifier">INADDR_ANY</span></a>, <a href="winlean.html#SockAddr"><span class="Identifier">SockAddr</span></a>, <a href="winlean.html#SockLen"><span class="Identifier">SockLen</span></a>, <a href="winlean.html#Sockaddr_in6"><span class="Identifier">Sockaddr_in6</span></a>, <a href="winlean.html#Sockaddr_storage"><span class="Identifier">Sockaddr_storage</span></a>, <a href="winlean.html#inet_ntoa,InAddr"><span class="Identifier">inet_ntoa</span></a>, <a href="winlean.html#recv,SocketHandle,pointer,cint,cint"><span class="Identifier">recv</span></a>, <a href="system.html#==,seq%5BT%5D,seq%5BT%5D"><span class="Identifier">==</span></a>, <a href="system.html#==,int16,int16"><span class="Identifier">==</span></a>, <a href="system.html#==,uint16,uint16"><span class="Identifier">==</span></a>, <a href="system.html#==,int,int"><span class="Identifier">==</span></a>, <a href="system.html#==,cstring,cstring"><span class="Identifier">==</span></a>, <a href="system.html#==,int64,int64"><span class="Identifier">==</span></a>, <a href="system.html#==,float32,float32"><span class="Identifier">==</span></a>, <a href="system.html#==,uint,uint"><span class="Identifier">==</span></a>, <a href="system.html#==,ref.T,ref.T"><span class="Identifier">==</span></a>, <a href="system.html#==,set%5BT%5D,set%5BT%5D"><span class="Identifier">==</span></a>, <a href="system.html#==,Enum,Enum"><span class="Identifier">==</span></a>, <a href="system.html#==,T,T"><span class="Identifier">==</span></a>, <a href="system.html#==,uint32,uint32"><span class="Identifier">==</span></a>, <a href="options.html#==,Option,Option"><span class="Identifier">==</span></a>, <a href="system.html#==,bool,bool"><span class="Identifier">==</span></a>, <a href="system.html#==,float,float"><span class="Identifier">==</span></a>, <a href="os.html#==,OSErrorCode,OSErrorCode"><span class="Identifier">==</span></a>, <a href="system.html#==,array%5BI,T%5D,array%5BI,T%5D"><span class="Identifier">==</span></a>, <a href="system.html#==,T,T_2"><span class="Identifier">==</span></a>, <a href="system.html#==,ptr.T,ptr.T"><span class="Identifier">==</span></a>, <a href="system.html#==,char,char"><span class="Identifier">==</span></a>, <a href="system.html#==,int8,int8"><span class="Identifier">==</span></a>, <a href="system.html#==,uint8,uint8"><span class="Identifier">==</span></a>, <a href="system.html#==,pointer,pointer"><span class="Identifier">==</span></a>, <a href="system.html#==,string,string"><span class="Identifier">==</span></a>, <a href="system.html#==,uint64,uint64"><span class="Identifier">==</span></a>, <a href="system.html#==,openArray%5BT%5D,openArray%5BT%5D"><span class="Identifier">==</span></a>, <a href="winlean.html#==,SocketHandle,SocketHandle"><span class="Identifier">==</span></a>, <a href="system.html#==,int32,int32"><span class="Identifier">==</span></a>, <a href="winlean.html#connect,SocketHandle,ptr.SockAddr,SockLen"><span class="Identifier">connect</span></a>, <a href="winlean.html#send,SocketHandle,pointer,cint,cint"><span class="Identifier">send</span></a>, <a href="winlean.html#accept,SocketHandle,ptr.SockAddr,ptr.SockLen"><span class="Identifier">accept</span></a>, <a href="winlean.html#recvfrom,SocketHandle,cstring,cint,cint,ptr.SockAddr,ptr.SockLen"><span class="Identifier">recvfrom</span></a>, <a href="winlean.html#sendto,SocketHandle,pointer,cint,cint,ptr.SockAddr,SockLen"><span class="Identifier">sendto</span></a>, <a href="winlean.html#freeaddrinfo,ptr.AddrInfo"><span class="Identifier">freeaddrinfo</span></a>, <a href="winlean.html#SO_ERROR"><span class="Identifier">SO_ERROR</span></a>, <a href="winlean.html#SOL_SOCKET"><span class="Identifier">SOL_SOCKET</span></a>, <a href="winlean.html#SOMAXCONN"><span class="Identifier">SOMAXCONN</span></a>, <a href="winlean.html#SO_ACCEPTCONN"><span class="Identifier">SO_ACCEPTCONN</span></a>, <a href="winlean.html#SO_BROADCAST"><span class="Identifier">SO_BROADCAST</span></a>, <a href="winlean.html#SO_DEBUG"><span class="Identifier">SO_DEBUG</span></a>, <a href="winlean.html#SO_DONTROUTE"><span class="Identifier">SO_DONTROUTE</span></a>, <a href="winlean.html#SO_KEEPALIVE"><span class="Identifier">SO_KEEPALIVE</span></a>, <a href="winlean.html#SO_OOBINLINE"><span class="Identifier">SO_OOBINLINE</span></a>, <a href="winlean.html#SO_REUSEADDR"><span class="Identifier">SO_REUSEADDR</span></a>, <a href="winlean.html#SO_REUSEPORT"><span class="Identifier">SO_REUSEPORT</span></a>, <a href="winlean.html#MSG_PEEK"><span class="Identifier">MSG_PEEK</span></a> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2021 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/nativesockets.html" class="_attribution-link">https://nim-lang.org/docs/nativesockets.html</a>
  </p>
</div>
