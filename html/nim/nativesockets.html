<h1 class="title">std/nativesockets</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L1" target="_blank">Edit</a>  <p class="module-desc">This module implements a low-level cross-platform sockets interface. Look at the <code><span class="Identifier">net</span></code> module for the higher-level version.</p>  <h2 id="6">Imports</h2> <dl> <a href="os.html">os</a>, <a href="options.html">options</a>, <a href="since.html">since</a>, <a href="strbasics.html">strbasics</a>, <a href="winlean.html">winlean</a> </dl>   <h2 id="7">Types</h2> <dl> <div id="Domain"> <dt><pre data-language="nim">Domain = enum
  AF_UNSPEC = 0, ## unspecified domain (can be detected automatically by
                  ## some procedures, such as getaddrinfo)
  AF_UNIX = 1,              ## for local socket (using a file). Unsupported on Windows.
  AF_INET = 2,              ## for network protocol IPv4 or
  AF_INET6 = 23</pre></dt> <dd> domain, which specifies the protocol family of the created socket. Other domains than those that are listed here are unsupported. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L62" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L62" target="_blank">Edit</a> </dd> </div> <div id="Hostent"> <dt><pre data-language="nim">Hostent = object
  name*: string
  aliases*: seq[string]
  addrtype*: Domain
  length*: int
  addrList*: seq[string]</pre></dt> <dd> information about a given host <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L93" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L93" target="_blank">Edit</a> </dd> </div> <div id="Port"> <dt><pre>Port = distinct uint16</pre></dt> <dd> port type <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L60" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L60" target="_blank">Edit</a> </dd> </div> <div id="Protocol"> <dt><pre data-language="nim">Protocol = enum
  IPPROTO_TCP = 6,          ## Transmission control protocol.
  IPPROTO_UDP = 17,         ## User datagram protocol.
  IPPROTO_IP,               ## Internet protocol.
  IPPROTO_IPV6,             ## Internet Protocol Version 6.
  IPPROTO_RAW,              ## Raw IP Packets Protocol. Unsupported on Windows.
  IPPROTO_ICMP,             ## Internet Control message protocol.
  IPPROTO_ICMPV6             ## Internet Control message protocol for IPv6.</pre></dt> <dd> third argument to <code><span class="Identifier">socket</span></code> proc <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L78" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L78" target="_blank">Edit</a> </dd> </div> <div id="Servent"> <dt><pre data-language="nim">Servent = object
  name*: string
  aliases*: seq[string]
  port*: Port
  proto*: string</pre></dt> <dd> information about a service <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L87" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L87" target="_blank">Edit</a> </dd> </div> <div id="SockType"> <dt><pre data-language="nim">SockType = enum
  SOCK_STREAM = 1,          ## reliable stream-oriented service or Stream Sockets
  SOCK_DGRAM = 2,           ## datagram service or Datagram Sockets
  SOCK_RAW = 3,             ## raw protocols atop the network layer.
  SOCK_SEQPACKET = 5         ## reliable sequenced packet service</pre></dt> <dd> second argument to <code><span class="Identifier">socket</span></code> proc <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L72" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L72" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="9">Lets</h2> <dl> <div id="osInvalidSocket"> <dt><pre>osInvalidSocket = INVALID_SOCKET</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L104" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L104" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="10">Consts</h2> <dl> <div id="FIONBIO"> <dt><pre data-language="nim">FIONBIO = -2147195266'i32</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L109" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L109" target="_blank">Edit</a> </dd> </div> <div id="IOC_IN"> <dt><pre>IOC_IN = -2147483648</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L108" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L108" target="_blank">Edit</a> </dd> </div> <div id="IOCPARM_MASK"> <dt><pre>IOCPARM_MASK = 127</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L107" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L107" target="_blank">Edit</a> </dd> </div> <div id="IPPROTO_NONE"> <dt><pre>IPPROTO_NONE = IPPROTO_IP</pre></dt> <dd> Use this if your socket type requires a protocol value of zero (e.g. Unix sockets). <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L100" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L100" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="$-procs-all"> <div id="$,Port"> <dt><pre data-language="nim">proc `$`(p: Port): string {.borrow, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> Returns the port number as a string <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L127" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L127" target="_blank">Edit</a> </dd> </div> </div> <div id="==-procs-all"> <div id="==,Port,Port"> <dt><pre data-language="nim">proc `==`(a, b: Port): bool {.borrow, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <code><span class="Operator">==</span></code> for ports. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L124" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L124" target="_blank">Edit</a> </dd> </div> </div> <div id="accept-procs-all"> <div id="accept,SocketHandle"> <dt><pre data-language="nim">proc accept(fd: SocketHandle; inheritable = defined(nimInheritHandles)): (
    SocketHandle, string) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Accepts a new client connection.</p> <p><code><span class="Identifier">inheritable</span></code> decides if the resulting SocketHandle can be inherited by child processes.</p> <p>Returns (osInvalidSocket, "") if an error occurred.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L840" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L840" target="_blank">Edit</a> </dd> </div> </div> <div id="bindAddr-procs-all"> <div id="bindAddr,SocketHandle,ptr.SockAddr,SockLen"> <dt><pre data-language="nim">proc bindAddr(socket: SocketHandle; name: ptr SockAddr; namelen: SockLen): cint {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L274" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L274" target="_blank">Edit</a> </dd> </div> </div> <div id="close-procs-all"> <div id="close,SocketHandle"> <dt><pre data-language="nim">proc close(socket: SocketHandle) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Closes a socket. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L226" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L226" target="_blank">Edit</a> </dd> </div> </div> <div id="createNativeSocket-procs-all"> <div id="createNativeSocket,cint,cint,cint,bool"> <dt><pre data-language="nim">proc createNativeSocket(domain: cint; sockType: cint; protocol: cint;
                        inheritable: bool = defined(nimInheritHandles)): SocketHandle {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Creates a new socket; returns <code><span class="Identifier">osInvalidSocket</span></code> if an error occurs.</p> <p><code><span class="Identifier">inheritable</span></code> decides if the resulting SocketHandle can be inherited by child processes.</p> <p>Use this overload if one of the enums specified above does not contain what you need.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L244" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L244" target="_blank">Edit</a> </dd> </div> <div id="createNativeSocket,Domain,SockType,Protocol,bool"> <dt><pre data-language="nim">proc createNativeSocket(domain: Domain = AF_INET;
                        sockType: SockType = SOCK_STREAM;
                        protocol: Protocol = IPPROTO_TCP;
                        inheritable: bool = defined(nimInheritHandles)): SocketHandle {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Creates a new socket; returns <code><span class="Identifier">osInvalidSocket</span></code> if an error occurs.</p> <p><code><span class="Identifier">inheritable</span></code> decides if the resulting SocketHandle can be inherited by child processes.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L264" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L264" target="_blank">Edit</a> </dd> </div> </div> <div id="getAddrInfo-procs-all"> <div id="getAddrInfo,string,Port,Domain,SockType,Protocol"> <dt><pre data-language="nim">proc getAddrInfo(address: string; port: Port; domain: Domain = AF_INET;
                 sockType: SockType = SOCK_STREAM;
                 protocol: Protocol = IPPROTO_TCP): ptr AddrInfo {.
    ...raises: [OSError], tags: [], forbids: [].}</pre></dt> <dd> <div class="admonition admonition-warning">
<span class="admonition-warning-text"><b>Warning:</b></span> The resulting <code><span class="Keyword">ptr</span> <span class="Identifier">AddrInfo</span></code> must be freed using <code><span class="Identifier">freeAddrInfo</span></code>!</div> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L288" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L288" target="_blank">Edit</a> </dd> </div> </div> <div id="getAddrString-procs-all"> <div id="getAddrString,ptr.SockAddr"> <dt><pre data-language="nim">proc getAddrString(sockAddr: ptr SockAddr): string {.
    ...raises: [Exception, OSError, IOError], tags: [], forbids: [].}</pre></dt> <dd> Returns the string representation of address within sockAddr <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L506" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L506" target="_blank">Edit</a> </dd> </div> <div id="getAddrString,ptr.SockAddr,string"> <dt><pre data-language="nim">proc getAddrString(sockAddr: ptr SockAddr; strAddress: var string) {.
    ...raises: [Exception, OSError, IOError], tags: [], forbids: [].}</pre></dt> <dd> <p>Stores in <code><span class="Identifier">strAddress</span></code> the string representation of the address inside <code><span class="Identifier">sockAddr</span></code></p> <p><strong>Note</strong></p> <ul class="simple">
<li>
<code><span class="Identifier">strAddress</span></code> must be initialized to 46 in length.</li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L532" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L532" target="_blank">Edit</a> </dd> </div> </div> <div id="getHostByAddr-procs-all"> <div id="getHostByAddr,string"> <dt><pre data-language="nim">proc getHostByAddr(ip: string): Hostent {....tags: [ReadIOEffect],
    raises: [OSError, IOError, Exception], forbids: [].}</pre></dt> <dd> This function will lookup the hostname of an IP Address. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L390" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L390" target="_blank">Edit</a> </dd> </div> </div> <div id="getHostByName-procs-all"> <div id="getHostByName,string"> <dt><pre data-language="nim">proc getHostByName(name: string): Hostent {....tags: [ReadIOEffect],
    raises: [OSError], forbids: [].}</pre></dt> <dd> This function will lookup the IP address of a hostname. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L461" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L461" target="_blank">Edit</a> </dd> </div> </div> <div id="getHostname-procs-all"> <div id="getHostname"> <dt><pre data-language="nim">proc getHostname(): string {....tags: [ReadIOEffect], raises: [OSError],
                             forbids: [].}</pre></dt> <dd> Returns the local hostname (not the FQDN) <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L490" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L490" target="_blank">Edit</a> </dd> </div> </div> <div id="getLocalAddr-procs-all"> <div id="getLocalAddr,SocketHandle,Domain"> <dt><pre data-language="nim">proc getLocalAddr(socket: SocketHandle; domain: Domain): (string, Port) {.
    ...raises: [OSError, Exception], tags: [], forbids: [].}</pre></dt> <dd> <p>Returns the socket's local address and port number.</p> <p>Similar to POSIX's <span id="getsockname_1">getsockname</span>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L589" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L589" target="_blank">Edit</a> </dd> </div> </div> <div id="getPeerAddr-procs-all"> <div id="getPeerAddr,SocketHandle,Domain"> <dt><pre data-language="nim">proc getPeerAddr(socket: SocketHandle; domain: Domain): (string, Port) {.
    ...raises: [OSError, Exception], tags: [], forbids: [].}</pre></dt> <dd> <p>Returns the socket's peer address and port number.</p> <p>Similar to POSIX's <span id="getpeername_1">getpeername</span></p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L626" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L626" target="_blank">Edit</a> </dd> </div> </div> <div id="getProtoByName-procs-all"> <div id="getProtoByName,string"> <dt><pre data-language="nim">proc getProtoByName(name: string): int {....raises: [OSError], tags: [],
    forbids: [].}</pre></dt> <dd> Returns a protocol code from the database that matches the protocol <code><span class="Identifier">name</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L214" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L214" target="_blank">Edit</a> </dd> </div> </div> <div id="getServByName-procs-all"> <div id="getServByName,string,string"> <dt><pre data-language="nim">proc getServByName(name, proto: string): Servent {....tags: [ReadIOEffect],
    raises: [OSError], forbids: [].}</pre></dt> <dd> <p>Searches the database from the beginning and finds the first entry for which the service name specified by <code><span class="Identifier">name</span></code> matches the s_name member and the protocol name specified by <code><span class="Identifier">proto</span></code> matches the s_proto member.</p> <p>On posix this will search through the <code><span class="Operator">/</span><span class="Identifier">etc</span><span class="Operator">/</span><span class="Identifier">services</span></code> file.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L358" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L358" target="_blank">Edit</a> </dd> </div> </div> <div id="getServByPort-procs-all"> <div id="getServByPort,Port,string"> <dt><pre data-language="nim">proc getServByPort(port: Port; proto: string): Servent {....tags: [ReadIOEffect],
    raises: [OSError], forbids: [].}</pre></dt> <dd> <p>Searches the database from the beginning and finds the first entry for which the port specified by <code><span class="Identifier">port</span></code> matches the s_port member and the protocol name specified by <code><span class="Identifier">proto</span></code> matches the s_proto member.</p> <p>On posix this will search through the <code><span class="Operator">/</span><span class="Identifier">etc</span><span class="Operator">/</span><span class="Identifier">services</span></code> file.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L374" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L374" target="_blank">Edit</a> </dd> </div> </div> <div id="getSockDomain-procs-all"> <div id="getSockDomain,SocketHandle"> <dt><pre data-language="nim">proc getSockDomain(socket: SocketHandle): Domain {....raises: [OSError, IOError],
    tags: [], forbids: [].}</pre></dt> <dd> Returns the socket's domain (AF_INET or AF_INET6). <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L344" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L344" target="_blank">Edit</a> </dd> </div> </div> <div id="getSockName-procs-all"> <div id="getSockName,SocketHandle"> <dt><pre data-language="nim">proc getSockName(socket: SocketHandle): Port {....raises: [OSError], tags: [],
    forbids: [].}</pre></dt> <dd> Returns the socket's associated port number. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L574" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L574" target="_blank">Edit</a> </dd> </div> </div> <div id="getSockOptInt-procs-all"> <div id="getSockOptInt,SocketHandle,int,int"> <dt><pre data-language="nim">proc getSockOptInt(socket: SocketHandle; level, optname: int): int {.
    ...tags: [ReadIOEffect], raises: [OSError], forbids: [].}</pre></dt> <dd> getsockopt for integer options. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L735" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L735" target="_blank">Edit</a> </dd> </div> </div> <div id="ioctlsocket-procs-all"> <div id="ioctlsocket,SocketHandle,clong,ptr.clong"> <dt><pre data-language="nim">proc ioctlsocket(s: SocketHandle; cmd: clong; argptr: ptr clong): cint {.
    stdcall, importc: "ioctlsocket", dynlib: "ws2_32.dll", ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L114" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L114" target="_blank">Edit</a> </dd> </div> </div> <div id="listen-procs-all"> <div id="listen,SocketHandle"> <dt><pre data-language="nim">proc listen(socket: SocketHandle; backlog = SOMAXCONN): cint {.
    ...tags: [ReadIOEffect], raises: [], forbids: [].}</pre></dt> <dd> Marks <code><span class="Identifier">socket</span></code> as accepting connections. <code><span class="Identifier">Backlog</span></code> specifies the maximum length of the queue of pending connections. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L278" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L278" target="_blank">Edit</a> </dd> </div> </div> <div id="ntohl-procs-all"> <div id="ntohl,uint32"> <dt><pre data-language="nim">proc ntohl(x: uint32): uint32 {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Converts 32-bit unsigned integers from network to host byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 4-byte swap operation. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L315" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L315" target="_blank">Edit</a> </dd> </div> </div> <div id="ntohs-procs-all"> <div id="ntohs,uint16"> <dt><pre data-language="nim">proc ntohs(x: uint16): uint16 {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Converts 16-bit unsigned integers from network to host byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 2-byte swap operation. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L325" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L325" target="_blank">Edit</a> </dd> </div> </div> <div id="selectRead-procs-all"> <div id="selectRead,seq[SocketHandle],int"> <dt><pre data-language="nim">proc selectRead(readfds: var seq[SocketHandle]; timeout = 500): int {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>When a socket in <code><span class="Identifier">readfds</span></code> is ready to be read from then a non-zero value will be returned specifying the count of the sockets which can be read from. The sockets which cannot be read from will also be removed from <code><span class="Identifier">readfds</span></code>.</p> <p><code><span class="Identifier">timeout</span></code> is specified in milliseconds and <code><span class="Operator">-</span><span class="DecNumber">1</span></code> can be specified for an unlimited time.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L797" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L797" target="_blank">Edit</a> </dd> </div> </div> <div id="selectWrite-procs-all"> <div id="selectWrite,seq[SocketHandle],int"> <dt><pre data-language="nim">proc selectWrite(writefds: var seq[SocketHandle]; timeout = 500): int {.
    ...tags: [ReadIOEffect], raises: [], forbids: [].}</pre></dt> <dd> <p>When a socket in <code><span class="Identifier">writefds</span></code> is ready to be written to then a non-zero value will be returned specifying the count of the sockets which can be written to. The sockets which cannot be written to will also be removed from <code><span class="Identifier">writefds</span></code>.</p> <p><code><span class="Identifier">timeout</span></code> is specified in milliseconds and <code><span class="Operator">-</span><span class="DecNumber">1</span></code> can be specified for an unlimited time.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L818" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L818" target="_blank">Edit</a> </dd> </div> </div> <div id="setBlocking-procs-all"> <div id="setBlocking,SocketHandle,bool"> <dt><pre data-language="nim">proc setBlocking(s: SocketHandle; blocking: bool) {....raises: [OSError], tags: [],
    forbids: [].}</pre></dt> <dd> <p>Sets blocking mode on socket.</p> <p>Raises OSError on error.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L753" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L753" target="_blank">Edit</a> </dd> </div> </div> <div id="setInheritable-procs-all"> <div id="setInheritable,SocketHandle,bool"> <dt><pre data-language="nim">proc setInheritable(s: SocketHandle; inheritable: bool): bool {.inline,
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Set whether a socket is inheritable by child processes. Returns <code><span class="Identifier">true</span></code> on success.</p> <p>This function is not implemented on all platform, test for availability with <code><span class="Identifier">declared</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">&lt;</span><span class="Identifier">system</span><span class="Operator">.</span><span class="Identifier">html</span><span class="Comment">#declared,untyped&gt;</span></code>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L236" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L236" target="_blank">Edit</a> </dd> </div> </div> <div id="setSockOptInt-procs-all"> <div id="setSockOptInt,SocketHandle,int,int,int"> <dt><pre data-language="nim">proc setSockOptInt(socket: SocketHandle; level, optname, optval: int) {.
    ...tags: [WriteIOEffect], raises: [OSError], forbids: [].}</pre></dt> <dd> setsockopt for integer options. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L745" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L745" target="_blank">Edit</a> </dd> </div> </div> <div id="toInt-procs-all"> <div id="toInt,Domain"> <dt><pre data-language="nim">proc toInt(domain: Domain): cint {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Converts the Domain enum to a platform-dependent <code><span class="Identifier">cint</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L130" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L130" target="_blank">Edit</a> </dd> </div> <div id="toInt,Protocol"> <dt><pre data-language="nim">proc toInt(p: Protocol): cint {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Converts the Protocol enum to a platform-dependent <code><span class="Identifier">cint</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L136" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L136" target="_blank">Edit</a> </dd> </div> <div id="toInt,SockType"> <dt><pre data-language="nim">proc toInt(typ: SockType): cint {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Converts the SockType enum to a platform-dependent <code><span class="Identifier">cint</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L133" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L133" target="_blank">Edit</a> </dd> </div> </div> <div id="toKnownDomain-procs-all"> <div id="toKnownDomain,cint"> <dt><pre data-language="nim">proc toKnownDomain(family: cint): Option[Domain] {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Converts the platform-dependent <code><span class="Identifier">cint</span></code> to the Domain or none(), if the <code><span class="Identifier">cint</span></code> is not known. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L177" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L177" target="_blank">Edit</a> </dd> </div> </div> <div id="toSockType-procs-all"> <div id="toSockType,Protocol"> <dt><pre data-language="nim">proc toSockType(protocol: Protocol): SockType {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L205" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L205" target="_blank">Edit</a> </dd> </div> </div> </dl>   <h2 id="18">Templates</h2> <dl> <div id="htonl-templates-all"> <div id="htonl.t,uint32"> <dt><pre data-language="nim">template htonl(x: uint32): untyped</pre></dt> <dd> Converts 32-bit unsigned integers from host to network byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 4-byte swap operation. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L332" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L332" target="_blank">Edit</a> </dd> </div> </div> <div id="htons-templates-all"> <div id="htons.t,uint16"> <dt><pre data-language="nim">template htons(x: uint16): untyped</pre></dt> <dd> Converts 16-bit unsigned integers from host to network byte order. On machines where the host byte order is the same as network byte order, this is a no-op; otherwise, it performs a 2-byte swap operation. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/nativesockets.nim#L338" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/nativesockets.nim#L338" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/nativesockets.html" class="_attribution-link">https://nim-lang.org/docs/nativesockets.html</a>
  </p>
</div>
