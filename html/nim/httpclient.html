<h1 class="title">std/httpclient</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1" target="_blank">Edit</a>  <p class="module-desc">This module implements a simple HTTP client that can be used to retrieve webpages and other data.</p>
<div class="admonition admonition-warning">
<span class="admonition-warning-text"><b>Warning:</b></span> Validate untrusted inputs: URI parsers and getters are not detecting malicious URIs.</div> <h2 id="retrieving-a-website">Retrieving a website</h2>
<p>This example uses HTTP GET to retrieve <code><span class="Identifier">http</span><span class="Punctuation">:</span><span class="Operator">//</span><span class="Identifier">google</span><span class="Operator">.</span><span class="Identifier">com</span></code>:</p> 
<pre class="listing" data-language="nim">import std/httpclient
var client = newHttpClient()
try:
  echo client.getContent("http://google.com")
finally:
  client.close()</pre> <p>The same action can also be performed asynchronously, simply use the <code><span class="Identifier">AsyncHttpClient</span></code>:</p> 
<pre class="listing" data-language="nim">import std/[asyncdispatch, httpclient]

proc asyncProc(): Future[string] {.async.} =
  var client = newAsyncHttpClient()
  try:
    return await client.getContent("http://google.com")
  finally:
    client.close()

echo waitFor asyncProc()</pre> <p>The functionality implemented by <code><span class="Identifier">HttpClient</span></code> and <code><span class="Identifier">AsyncHttpClient</span></code> is the same, so you can use whichever one suits you best in the examples shown here.</p> <p><strong>Note:</strong> You need to run asynchronous examples in an async proc otherwise you will get an <code><span class="Identifier">Undeclared</span> <span class="Identifier">identifier</span><span class="Punctuation">:</span> <span class="CharLit">'await'</span></code> error.</p> <p><strong>Note:</strong> An asynchronous client instance can only deal with one request at a time. To send multiple requests in parallel, use multiple client instances.</p> <h2 id="using-http-post">Using HTTP POST</h2>
<p>This example demonstrates the usage of the W3 HTML Validator, it uses <code><span class="Identifier">multipart</span><span class="Operator">/</span><span class="Identifier">form</span><span class="Operator">-</span><span class="Identifier">data</span></code> as the <code><span class="Identifier">Content</span><span class="Operator">-</span><span class="Keyword">Type</span></code> to send the HTML to be validated to the server.</p> 
<pre class="listing" data-language="nim">var client = newHttpClient()
var data = newMultipartData()
data["output"] = "soap12"
data["uploaded_file"] = ("test.html", "text/html",
  "&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;test&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;")
try:
  echo client.postContent("http://validator.w3.org/check", multipart=data)
finally:
  client.close()</pre> <p>To stream files from disk when performing the request, use <code><span class="Identifier">addFiles</span></code>.</p> <p><strong>Note:</strong> This will allocate a new <code><span class="Identifier">Mimetypes</span></code> database every time you call it, you can pass your own via the <code><span class="Identifier">mimeDb</span></code> parameter to avoid this.</p> 
<pre class="listing" data-language="nim">let mimes = newMimetypes()
var client = newHttpClient()
var data = newMultipartData()
data.addFiles({"uploaded_file": "test.html"}, mimeDb = mimes)
try:
  echo client.postContent("http://validator.w3.org/check", multipart=data)
finally:
  client.close()</pre> <p>You can also make post requests with custom headers. This example sets <code><span class="Identifier">Content</span><span class="Operator">-</span><span class="Keyword">Type</span></code> to <code><span class="Identifier">application</span><span class="Operator">/</span><span class="Identifier">json</span></code> and uses a json object for the body</p> 
<pre class="listing" data-language="nim">import std/[httpclient, json]

let client = newHttpClient()
client.headers = newHttpHeaders({ "Content-Type": "application/json" })
let body = %*{
    "data": "some text"
}
try:
  let response = client.request("http://some.api", httpMethod = HttpPost, body = $body)
  echo response.status
finally:
  client.close()</pre> <h2 id="progress-reporting">Progress reporting</h2>
<p>You may specify a callback procedure to be called during an HTTP request. This callback will be executed every second with information about the progress of the HTTP request.</p> 
<pre class="listing" data-language="nim">import std/[asyncdispatch, httpclient]

proc onProgressChanged(total, progress, speed: BiggestInt) {.async.} =
  echo("Downloaded ", progress, " of ", total)
  echo("Current rate: ", speed div 1000, "kb/s")

proc asyncProc() {.async.} =
  var client = newAsyncHttpClient()
  client.onProgressChanged = onProgressChanged
  try:
    discard await client.getContent("http://speedtest-ams2.digitalocean.com/100mb.test")
  finally:
    client.close()

waitFor asyncProc()</pre> <p>If you would like to remove the callback simply set it to <code><span class="Keyword">nil</span></code>.</p> 
<pre class="listing" data-language="nim">client.onProgressChanged = nil</pre> <div class="admonition admonition-warning">
<span class="admonition-warning-text"><b>Warning:</b></span> The <code><span class="Identifier">total</span></code> reported by httpclient may be 0 in some cases.</div> <h2 id="sslslashtls-support">SSL/TLS support</h2>
<p>This requires the OpenSSL library. Fortunately it's widely used and installed on many operating systems. httpclient will use SSL automatically if you give any of the functions a url with the <code><span class="Identifier">https</span></code> schema, for example: <code><span class="Identifier">https</span><span class="Punctuation">:</span><span class="Operator">//</span><span class="Identifier">github</span><span class="Operator">.</span><span class="Identifier">com</span><span class="Operator">/</span></code>.</p> <p>You will also have to compile with <code><span class="Identifier">ssl</span></code> defined like so: <code><span class="Identifier">nim</span> <span class="Identifier">c</span> <span class="Operator">-</span><span class="Identifier">d</span><span class="Punctuation">:</span><span class="Identifier">ssl</span> <span class="Operator">...</span></code>.</p> <p>Certificate validation is performed by default.</p> <p>A set of directories and files from the <a href="ssl_certs.html">ssl_certs</a> module are scanned to locate CA certificates.</p> <p>Example of setting SSL verification parameters in a new client:</p> 
<pre class="listing" data-language="nim">import httpclient
var client = newHttpClient(sslContext=newContext(verifyMode=CVerifyPeer))</pre> <p>There are three options for verify mode:</p> <ul class="simple">
<li>
<code>CVerifyNone</code>: certificates are not verified;</li> <li>
<code>CVerifyPeer</code>: certificates are verified;</li> <li>
<code>CVerifyPeerUseEnvVars</code>: certificates are verified and the optional environment variables SSL_CERT_FILE and SSL_CERT_DIR are also used to locate certificates</li> </ul> <p>See <a href="net.html#newContext.string,string,string,string">newContext</a> to tweak or disable certificate validation.</p> <h2 id="timeouts">Timeouts</h2>
<p>Currently only the synchronous functions support a timeout. The timeout is measured in milliseconds, once it is set any call on a socket which may block will be susceptible to this timeout.</p> <p>It may be surprising but the function as a whole can take longer than the specified timeout, only individual internal calls on the socket are affected. In practice this means that as long as the server is sending data an exception will not be raised, if however data does not reach the client within the specified timeout a <code><span class="Identifier">TimeoutError</span></code> exception will be raised.</p> <p>Here is how to set a timeout when creating an <code><span class="Identifier">HttpClient</span></code> instance:</p> 
<pre class="listing" data-language="nim">import std/httpclient

let client = newHttpClient(timeout = 42)</pre> <h2 id="proxy">Proxy</h2>
<p>A proxy can be specified as a param to any of the procedures defined in this module. To do this, use the <code><span class="Identifier">newProxy</span></code> constructor. Unfortunately, only basic authentication is supported at the moment.</p> <p>Some examples on how to configure a Proxy for <code><span class="Identifier">HttpClient</span></code>:</p> 
<pre class="listing" data-language="nim">import std/httpclient

let myProxy = newProxy("http://myproxy.network")
let client = newHttpClient(proxy = myProxy)</pre> <p>Use proxies with basic authentication:</p> 
<pre class="listing" data-language="nim">import std/httpclient

let myProxy = newProxy("http://myproxy.network", auth="user:password")
let client = newHttpClient(proxy = myProxy)</pre> <p>Get Proxy URL from environment variables:</p> 
<pre class="listing" data-language="nim">import std/httpclient

var url = ""
try:
  if existsEnv("http_proxy"):
    url = getEnv("http_proxy")
  elif existsEnv("https_proxy"):
    url = getEnv("https_proxy")
except ValueError:
  echo "Unable to parse proxy from environment variables."

let myProxy = newProxy(url = url)
let client = newHttpClient(proxy = myProxy)</pre> <h2 id="redirects">Redirects</h2>
<p>The maximum redirects can be set with the <code><span class="Identifier">maxRedirects</span></code> of <code><span class="Identifier">int</span></code> type, it specifies the maximum amount of redirects to follow, it defaults to <code><span class="DecNumber">5</span></code>, you can set it to <code><span class="DecNumber">0</span></code> to disable redirects.</p> <p>Here you can see an example about how to set the <code><span class="Identifier">maxRedirects</span></code> of <code><span class="Identifier">HttpClient</span></code>:</p> 
<pre class="listing" data-language="nim">import std/httpclient

let client = newHttpClient(maxRedirects = 0)</pre>  <h2 id="6">Imports</h2> <dl> <a href="since.html">since</a>, <a href="net.html">net</a>, <a href="strutils.html">strutils</a>, <a href="uri.html">uri</a>, <a href="parseutils.html">parseutils</a>, <a href="base64.html">base64</a>, <a href="os.html">os</a>, <a href="mimetypes.html">mimetypes</a>, <a href="math.html">math</a>, <a href="random.html">random</a>, <a href="httpcore">httpcore</a>, <a href="times.html">times</a>, <a href="tables.html">tables</a>, <a href="streams.html">streams</a>, <a href="monotimes.html">monotimes</a>, <a href="asyncnet.html">asyncnet</a>, <a href="asyncdispatch.html">asyncdispatch</a>, <a href="asyncfile.html">asyncfile</a>, <a href="nativesockets.html">nativesockets</a> </dl>   <h2 id="7">Types</h2> <dl> <div id="AsyncHttpClient"> <dt><pre data-language="nim">AsyncHttpClient = HttpClientBase[AsyncSocket]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L660" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L660" target="_blank">Edit</a> </dd> </div> <div id="AsyncResponse"> <dt><pre data-language="nim">AsyncResponse = ref object
  version*: string
  status*: string
  headers*: HttpHeaders
  bodyStream*: FutureStream[string]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L280" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L280" target="_blank">Edit</a> </dd> </div> <div id="HttpClient"> <dt><pre data-language="nim">HttpClient = HttpClientBase[Socket]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L617" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L617" target="_blank">Edit</a> </dd> </div> <div id="HttpClientBase"> <dt><pre data-language="nim">HttpClientBase[SocketType] = ref object
  ## Where we are currently connected.
  headers*: HttpHeaders      ## Headers to send in requests.
  ## Maximum redirects, set to `0` to disable.
  timeout*: int              ## Only used for blocking HttpClient for now.
  ## `nil` or the callback to call when request progress changes.
  when SocketType is Socket:
    onProgressChanged*: ProgressChangedProc[void]
  else:
    onProgressChanged*: ProgressChangedProc[Future[void]]
  when defined(ssl):
  when SocketType is AsyncSocket:
  else:
  ## When `false`, the body is never read in requestAux.</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L589" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L589" target="_blank">Edit</a> </dd> </div> <div id="HttpRequestError"> <dt><pre>HttpRequestError = object of IOError</pre></dt> <dd> Thrown in the <code><span class="Identifier">getContent</span></code> proc and <code><span class="Identifier">postContent</span></code> proc, when the server returns an error <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L358" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L358" target="_blank">Edit</a> </dd> </div> <div id="MultipartData"> <dt><pre>MultipartData = ref object</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L351" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L351" target="_blank">Edit</a> </dd> </div> <div id="MultipartEntries"> <dt><pre data-language="nim">MultipartEntries = openArray[tuple[name, content: string]]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L350" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L350" target="_blank">Edit</a> </dd> </div> <div id="ProgressChangedProc"> <dt><pre data-language="nim">ProgressChangedProc[ReturnType] = proc (total, progress, speed: BiggestInt): ReturnType {.
    closure, ...gcsafe.}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L585" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L585" target="_blank">Edit</a> </dd> </div> <div id="ProtocolError"> <dt><pre>ProtocolError = object of IOError</pre></dt> <dd> exception that is raised when server does not conform to the implemented protocol <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L354" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L354" target="_blank">Edit</a> </dd> </div> <div id="Proxy"> <dt><pre data-language="nim">Proxy = ref object
  url*: Uri
  auth*: string</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L337" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L337" target="_blank">Edit</a> </dd> </div> <div id="Response"> <dt><pre data-language="nim">Response = ref object
  version*: string
  status*: string
  headers*: HttpHeaders
  bodyStream*: Stream</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L273" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L273" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="10">Consts</h2> <dl> <div id="defUserAgent"> <dt><pre data-language="nim">defUserAgent = "Nim-httpclient/2.2.0"</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L362" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L362" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="$-procs-all"> <div id="$,MultipartData"> <dt><pre data-language="nim">proc `$`(data: MultipartData): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> convert MultipartData to string so it's human readable when echo see <a href="https://github.com/nim-lang/Nim/issues/11863">https://github.com/nim-lang/Nim/issues/11863</a> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L400" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L400" target="_blank">Edit</a> </dd> </div> </div> <div id="[]=-procs-all"> <div id="[]=,MultipartData,string,string"> <dt><pre data-language="nim">proc `[]=`(p: MultipartData; name, content: string) {.inline,
    ...raises: [ValueError], tags: [], forbids: [].}</pre></dt> <dd> <p>Add a multipart entry to the multipart data <code><span class="Identifier">p</span></code>. The value is added without a filename and without a content type.</p> 
<pre class="listing" data-language="nim">data["username"] = "NimUser"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L485" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L485" target="_blank">Edit</a> </dd> </div> <div id="[]=,MultipartData,string,tuple[string,string,string]"> <dt><pre data-language="nim">proc `[]=`(p: MultipartData; name: string;
           file: tuple[name, contentType, content: string]) {.inline,
    ...raises: [ValueError], tags: [], forbids: [].}</pre></dt> <dd> <p>Add a file to the multipart data <code><span class="Identifier">p</span></code>, specifying filename, contentType and content manually.</p> 
<pre class="listing" data-language="nim">data["uploaded_file"] = ("test.html", "text/html",
  "&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;test&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L494" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L494" target="_blank">Edit</a> </dd> </div> </div> <div id="add-procs-all"> <div id="add,MultipartData,string,string,string,string"> <dt><pre data-language="nim">proc add(p: MultipartData; name, content: string; filename: string = "";
         contentType: string = ""; useStream = true) {....raises: [ValueError],
    tags: [], forbids: [].}</pre></dt> <dd> <p>Add a value to the multipart data.</p> <p>When <code><span class="Identifier">useStream</span></code> is <code><span class="Identifier">false</span></code>, the file will be read into memory.</p> <p>Raises a <code><span class="Identifier">ValueError</span></code> exception if <code><span class="Identifier">name</span></code>, <code><span class="Identifier">filename</span></code> or <code><span class="Identifier">contentType</span></code> contain newline characters.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L412" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L412" target="_blank">Edit</a> </dd> </div> <div id="add,MultipartData,MultipartEntries"> <dt><pre data-language="nim">proc add(p: MultipartData; xs: MultipartEntries): MultipartData {.discardable,
    ...raises: [ValueError], tags: [], forbids: [].}</pre></dt> <dd> <p>Add a list of multipart entries to the multipart data <code><span class="Identifier">p</span></code>. All values are added without a filename and without a content type.</p> 
<pre class="listing" data-language="nim">data.add({"action": "login", "format": "json"})</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L440" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L440" target="_blank">Edit</a> </dd> </div> </div> <div id="addFiles-procs-all"> <div id="addFiles,MultipartData,openArray[tuple[string,string]]"> <dt><pre data-language="nim">proc addFiles(p: MultipartData; xs: openArray[tuple[name, file: string]];
              mimeDb = newMimetypes(); useStream = true): MultipartData {.
    discardable, ...raises: [IOError, ValueError], tags: [ReadIOEffect],
    forbids: [].}</pre></dt> <dd> <p>Add files to a multipart data object. The files will be streamed from disk when the request is being made. When <code><span class="Identifier">stream</span></code> is <code><span class="Identifier">false</span></code>, the files are instead read into memory, but beware this is very memory ineffecient even for small files. The MIME types will automatically be determined. Raises an <code><span class="Identifier">IOError</span></code> if the file cannot be opened or reading fails. To manually specify file content, filename and MIME type, use <code><span class="Punctuation">[</span><span class="Punctuation">]</span><span class="Operator">=</span></code> instead.</p> 
<pre class="listing" data-language="nim">data.addFiles({"uploaded_file": "public/test.html"})</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L463" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L463" target="_blank">Edit</a> </dd> </div> </div> <div id="body-procs-all"> <div id="body,AsyncResponse"> <dt><pre data-language="nim">proc body(response: AsyncResponse): Future[string] {....stackTrace: false,
    raises: [Exception, ValueError], tags: [RootEffect], forbids: [].}</pre></dt> <dd> Reads the response's body and caches it. The read is performed only once. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L329" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L329" target="_blank">Edit</a> </dd> </div> <div id="body,Response"> <dt><pre data-language="nim">proc body(response: Response): string {....raises: [IOError, OSError],
                                        tags: [ReadIOEffect], forbids: [].}</pre></dt> <dd> <p>Retrieves the specified response's body.</p> <p>The response's body stream is read synchronously.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L321" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L321" target="_blank">Edit</a> </dd> </div> </div> <div id="close-procs-all"> <div id="close"> <dt><pre data-language="nim">proc close(client: HttpClient | AsyncHttpClient)</pre></dt> <dd> Closes any connections held by the HTTP client. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L702" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L702" target="_blank">Edit</a> </dd> </div> </div> <div id="code-procs-all"> <div id="code"> <dt><pre data-language="nim">proc code(response: Response | AsyncResponse): HttpCode {.
    ...raises: [ValueError, OverflowDefect].}</pre></dt> <dd> <p>Retrieves the specified response's <code><span class="Identifier">HttpCode</span></code>.</p> <p>Raises a <code><span class="Identifier">ValueError</span></code> if the response's <code><span class="Identifier">status</span></code> does not have a corresponding <code><span class="Identifier">HttpCode</span></code>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L287" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L287" target="_blank">Edit</a> </dd> </div> </div> <div id="contentLength-procs-all"> <div id="contentLength"> <dt><pre data-language="nim">proc contentLength(response: Response | AsyncResponse): int</pre></dt> <dd> <p>Retrieves the specified response's content length.</p> <p>This is effectively the value of the "Content-Length" header.</p> <p>A <code><span class="Identifier">ValueError</span></code> exception will be raised if the value is not an integer. If the Content-Length header is not set in the response, ContentLength is set to the value -1.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L301" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L301" target="_blank">Edit</a> </dd> </div> </div> <div id="contentType-procs-all"> <div id="contentType"> <dt><pre data-language="nim">proc contentType(response: Response | AsyncResponse): string {.inline.}</pre></dt> <dd> <p>Retrieves the specified response's content type.</p> <p>This is effectively the value of the "Content-Type" header.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L295" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L295" target="_blank">Edit</a> </dd> </div> </div> <div id="delete-procs-all"> <div id="delete,AsyncHttpClient,"> <dt><pre data-language="nim">proc delete(client: AsyncHttpClient; url: Uri | string): Future[AsyncResponse] {.
    ...stackTrace: false.}</pre></dt> <dd> Connects to the hostname specified by the URL and performs a DELETE request. This procedure uses httpClient values such as <code><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">maxRedirects</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1259" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1259" target="_blank">Edit</a> </dd> </div> <div id="delete,HttpClient,"> <dt><pre data-language="nim">proc delete(client: HttpClient; url: Uri | string): Response</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1260" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1260" target="_blank">Edit</a> </dd> </div> </div> <div id="deleteContent-procs-all"> <div id="deleteContent,AsyncHttpClient,"> <dt><pre data-language="nim">proc deleteContent(client: AsyncHttpClient; url: Uri | string): Future[string] {.
    ...stackTrace: false.}</pre></dt> <dd> Connects to the hostname specified by the URL and returns the content of a DELETE request. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1265" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1265" target="_blank">Edit</a> </dd> </div> <div id="deleteContent,HttpClient,"> <dt><pre data-language="nim">proc deleteContent(client: HttpClient; url: Uri | string): string</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1266" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1266" target="_blank">Edit</a> </dd> </div> </div> <div id="downloadFile-procs-all"> <div id="downloadFile,AsyncHttpClient,,string"> <dt><pre data-language="nim">proc downloadFile(client: AsyncHttpClient; url: Uri | string; filename: string): Future[
    void]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1350" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1350" target="_blank">Edit</a> </dd> </div> <div id="downloadFile,HttpClient,,string"> <dt><pre data-language="nim">proc downloadFile(client: HttpClient; url: Uri | string; filename: string)</pre></dt> <dd> Downloads <code><span class="Identifier">url</span></code> and saves it to <code><span class="Identifier">filename</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1312" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1312" target="_blank">Edit</a> </dd> </div> </div> <div id="get-procs-all"> <div id="get,AsyncHttpClient,"> <dt><pre data-language="nim">proc get(client: AsyncHttpClient; url: Uri | string): Future[AsyncResponse] {.
    ...stackTrace: false.}</pre></dt> <dd> <p>Connects to the hostname specified by the URL and performs a GET request.</p> <p>This procedure uses httpClient values such as <code><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">maxRedirects</span></code>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1246" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1246" target="_blank">Edit</a> </dd> </div> <div id="get,HttpClient,"> <dt><pre data-language="nim">proc get(client: HttpClient; url: Uri | string): Response</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1247" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1247" target="_blank">Edit</a> </dd> </div> </div> <div id="getContent-procs-all"> <div id="getContent,AsyncHttpClient,"> <dt><pre data-language="nim">proc getContent(client: AsyncHttpClient; url: Uri | string): Future[string] {.
    ...stackTrace: false.}</pre></dt> <dd> Connects to the hostname specified by the URL and returns the content of a GET request. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1253" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1253" target="_blank">Edit</a> </dd> </div> <div id="getContent,HttpClient,"> <dt><pre data-language="nim">proc getContent(client: HttpClient; url: Uri | string): string</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1254" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1254" target="_blank">Edit</a> </dd> </div> </div> <div id="getSocket-procs-all"> <div id="getSocket,AsyncHttpClient"> <dt><pre data-language="nim">proc getSocket(client: AsyncHttpClient): AsyncSocket {.inline, ...raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L720" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L720" target="_blank">Edit</a> </dd> </div> <div id="getSocket,HttpClient"> <dt><pre data-language="nim">proc getSocket(client: HttpClient): Socket {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <p>Get network socket, useful if you want to find out more details about the connection.</p> <p>This example shows info about local and remote endpoints:</p> 
<pre class="listing" data-language="nim">if client.connected:
  echo client.getSocket.getLocalAddr
  echo client.getSocket.getPeerAddr</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L708" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L708" target="_blank">Edit</a> </dd> </div> </div> <div id="head-procs-all"> <div id="head,AsyncHttpClient,"> <dt><pre data-language="nim">proc head(client: AsyncHttpClient; url: Uri | string): Future[AsyncResponse] {.
    ...stackTrace: false.}</pre></dt> <dd> <p>Connects to the hostname specified by the URL and performs a HEAD request.</p> <p>This procedure uses httpClient values such as <code><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">maxRedirects</span></code>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1239" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1239" target="_blank">Edit</a> </dd> </div> <div id="head,HttpClient,"> <dt><pre data-language="nim">proc head(client: HttpClient; url: Uri | string): Response</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1240" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1240" target="_blank">Edit</a> </dd> </div> </div> <div id="lastModified-procs-all"> <div id="lastModified"> <dt><pre data-language="nim">proc lastModified(response: Response | AsyncResponse): DateTime</pre></dt> <dd> <p>Retrieves the specified response's last modified time.</p> <p>This is effectively the value of the "Last-Modified" header.</p> <p>Raises a <code><span class="Identifier">ValueError</span></code> if the parsing fails or the value is not a correctly formatted time.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L311" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L311" target="_blank">Edit</a> </dd> </div> </div> <div id="newAsyncHttpClient-procs-all"> <div id="newAsyncHttpClient,int,Proxy"> <dt><pre data-language="nim">proc newAsyncHttpClient(userAgent = defUserAgent; maxRedirects = 5;
                        sslContext = getDefaultSSL(); proxy: Proxy = nil;
                        headers = newHttpHeaders()): AsyncHttpClient {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Creates a new AsyncHttpClient instance.</p> <p><code><span class="Identifier">userAgent</span></code> specifies the user agent that will be used when making requests.</p> <p><code><span class="Identifier">maxRedirects</span></code> specifies the maximum amount of redirects to follow, default is 5.</p> <p><code><span class="Identifier">sslContext</span></code> specifies the SSL context to use for HTTPS requests.</p> <p><code><span class="Identifier">proxy</span></code> specifies an HTTP proxy to use for this HTTP client's connections.</p> <p><code><span class="Identifier">headers</span></code> specifies the HTTP Headers.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import std/[asyncdispatch, strutils]

proc asyncProc(): Future[string] {.async.} =
  let client = newAsyncHttpClient()
  result = await client.getContent("http://example.com")

let exampleHtml = waitFor asyncProc()
assert "Example Domain" in exampleHtml
assert "Pizza" notin exampleHtml</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L662" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L662" target="_blank">Edit</a> </dd> </div> </div> <div id="newHttpClient-procs-all"> <div id="newHttpClient,int,Proxy,int"> <dt><pre data-language="nim">proc newHttpClient(userAgent = defUserAgent; maxRedirects = 5;
                   sslContext = getDefaultSSL(); proxy: Proxy = nil;
                   timeout = -1; headers = newHttpHeaders()): HttpClient {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Creates a new HttpClient instance.</p> <p><code><span class="Identifier">userAgent</span></code> specifies the user agent that will be used when making requests.</p> <p><code><span class="Identifier">maxRedirects</span></code> specifies the maximum amount of redirects to follow, default is 5.</p> <p><code><span class="Identifier">sslContext</span></code> specifies the SSL context to use for HTTPS requests. See <a href="#sslslashtls-support">SSL/TLS support</a></p> <p><code><span class="Identifier">proxy</span></code> specifies an HTTP proxy to use for this HTTP client's connections.</p> <p><code><span class="Identifier">timeout</span></code> specifies the number of milliseconds to allow before a <code><span class="Identifier">TimeoutError</span></code> is raised.</p> <p><code><span class="Identifier">headers</span></code> specifies the HTTP Headers.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import std/strutils

let exampleHtml = newHttpClient().getContent("http://example.com")
assert "Example Domain" in exampleHtml
assert "Pizza" notin exampleHtml</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L619" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L619" target="_blank">Edit</a> </dd> </div> </div> <div id="newMultipartData-procs-all"> <div id="newMultipartData"> <dt><pre data-language="nim">proc newMultipartData(): MultipartData {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Constructs a new <code><span class="Identifier">MultipartData</span></code> object. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L396" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L396" target="_blank">Edit</a> </dd> </div> <div id="newMultipartData,MultipartEntries"> <dt><pre data-language="nim">proc newMultipartData(xs: MultipartEntries): MultipartData {.
    ...raises: [ValueError], tags: [], forbids: [].}</pre></dt> <dd> <p>Create a new multipart data object and fill it with the entries <code><span class="Identifier">xs</span></code> directly.</p> 
<pre class="listing" data-language="nim">var data = newMultipartData({"action": "login", "format": "json"})</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L452" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L452" target="_blank">Edit</a> </dd> </div> </div> <div id="newProxy-procs-all"> <div id="newProxy,string,string"> <dt><pre data-language="nim">proc newProxy(url: string; auth = ""): Proxy {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Constructs a new <code><span class="Identifier">TProxy</span></code> object. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L388" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L388" target="_blank">Edit</a> </dd> </div> <div id="newProxy,Uri,string"> <dt><pre data-language="nim">proc newProxy(url: Uri; auth = ""): Proxy {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Constructs a new <code><span class="Identifier">TProxy</span></code> object. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L392" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L392" target="_blank">Edit</a> </dd> </div> </div> <div id="patch-procs-all"> <div id="patch,AsyncHttpClient,,string,MultipartData"> <dt><pre data-language="nim">proc patch(client: AsyncHttpClient; url: Uri | string; body = "";
           multipart: MultipartData = nil): Future[AsyncResponse] {.
    ...stackTrace: false.}</pre></dt> <dd> Connects to the hostname specified by the URL and performs a PATCH request. This procedure uses httpClient values such as <code><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">maxRedirects</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1298" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1298" target="_blank">Edit</a> </dd> </div> <div id="patch,HttpClient,,string,MultipartData"> <dt><pre data-language="nim">proc patch(client: HttpClient; url: Uri | string; body = "";
           multipart: MultipartData = nil): Response</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1300" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1300" target="_blank">Edit</a> </dd> </div> </div> <div id="patchContent-procs-all"> <div id="patchContent,AsyncHttpClient,,string,MultipartData"> <dt><pre data-language="nim">proc patchContent(client: AsyncHttpClient; url: Uri | string; body = "";
                  multipart: MultipartData = nil): Future[string] {.
    ...stackTrace: false.}</pre></dt> <dd> Connects to the hostname specified by the URL and returns the content of a PATCH request. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1305" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1305" target="_blank">Edit</a> </dd> </div> <div id="patchContent,HttpClient,,string,MultipartData"> <dt><pre data-language="nim">proc patchContent(client: HttpClient; url: Uri | string; body = "";
                  multipart: MultipartData = nil): string</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1307" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1307" target="_blank">Edit</a> </dd> </div> </div> <div id="post-procs-all"> <div id="post,AsyncHttpClient,,string,MultipartData"> <dt><pre data-language="nim">proc post(client: AsyncHttpClient; url: Uri | string; body = "";
          multipart: MultipartData = nil): Future[AsyncResponse] {.
    ...stackTrace: false.}</pre></dt> <dd> Connects to the hostname specified by the URL and performs a POST request. This procedure uses httpClient values such as <code><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">maxRedirects</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1271" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1271" target="_blank">Edit</a> </dd> </div> <div id="post,HttpClient,,string,MultipartData"> <dt><pre data-language="nim">proc post(client: HttpClient; url: Uri | string; body = "";
          multipart: MultipartData = nil): Response</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1273" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1273" target="_blank">Edit</a> </dd> </div> </div> <div id="postContent-procs-all"> <div id="postContent,AsyncHttpClient,,string,MultipartData"> <dt><pre data-language="nim">proc postContent(client: AsyncHttpClient; url: Uri | string; body = "";
                 multipart: MultipartData = nil): Future[string] {.
    ...stackTrace: false.}</pre></dt> <dd> Connects to the hostname specified by the URL and returns the content of a POST request. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1278" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1278" target="_blank">Edit</a> </dd> </div> <div id="postContent,HttpClient,,string,MultipartData"> <dt><pre data-language="nim">proc postContent(client: HttpClient; url: Uri | string; body = "";
                 multipart: MultipartData = nil): string</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1280" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1280" target="_blank">Edit</a> </dd> </div> </div> <div id="put-procs-all"> <div id="put,AsyncHttpClient,,string,MultipartData"> <dt><pre data-language="nim">proc put(client: AsyncHttpClient; url: Uri | string; body = "";
         multipart: MultipartData = nil): Future[AsyncResponse] {.
    ...stackTrace: false.}</pre></dt> <dd> Connects to the hostname specified by the URL and performs a PUT request. This procedure uses httpClient values such as <code><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">maxRedirects</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1285" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1285" target="_blank">Edit</a> </dd> </div> <div id="put,HttpClient,,string,MultipartData"> <dt><pre data-language="nim">proc put(client: HttpClient; url: Uri | string; body = "";
         multipart: MultipartData = nil): Response</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1287" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1287" target="_blank">Edit</a> </dd> </div> </div> <div id="putContent-procs-all"> <div id="putContent,AsyncHttpClient,,string,MultipartData"> <dt><pre data-language="nim">proc putContent(client: AsyncHttpClient; url: Uri | string; body = "";
                multipart: MultipartData = nil): Future[string] {.
    ...stackTrace: false.}</pre></dt> <dd> Connects to the hostname specified by the URL andreturns the content of a PUT request. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1292" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1292" target="_blank">Edit</a> </dd> </div> <div id="putContent,HttpClient,,string,MultipartData"> <dt><pre data-language="nim">proc putContent(client: HttpClient; url: Uri | string; body = "";
                multipart: MultipartData = nil): string</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1293" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1293" target="_blank">Edit</a> </dd> </div> </div> <div id="request-procs-all"> <div id="request,AsyncHttpClient,,string,HttpHeaders,MultipartData"> <dt><pre data-language="nim">proc request(client: AsyncHttpClient; url: Uri | string;
             httpMethod: HttpMethod | string = HttpGet; body = "";
             headers: HttpHeaders = nil; multipart: MultipartData = nil): Future[
    AsyncResponse] {....stackTrace: false.}</pre></dt> <dd> <p>Connects to the hostname specified by the URL and performs a request using the custom method string specified by <code><span class="Identifier">httpMethod</span></code>.</p> <p>Connection will be kept alive. Further requests on the same <code><span class="Identifier">client</span></code> to the same hostname will not require a new connection to be made. The connection can be closed by using the <code><span class="Identifier">close</span></code> procedure.</p> <p>This procedure will follow redirects up to a maximum number of redirects specified in <code><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">maxRedirects</span></code>.</p> <p>You need to make sure that the <code><span class="Identifier">url</span></code> doesn't contain any newline characters. Failing to do so will raise <code><span class="Identifier">AssertionDefect</span></code>.</p> <p><code><span class="Identifier">headers</span></code> are HTTP headers that override the <code><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">headers</span></code> for this specific request only and will not be persisted.</p> <p><strong>Deprecated since v1.5</strong>: use HttpMethod enum instead; string parameter httpMethod is deprecated</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1127" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1127" target="_blank">Edit</a> </dd> </div> <div id="request,HttpClient,,string,HttpHeaders,MultipartData"> <dt><pre data-language="nim">proc request(client: HttpClient; url: Uri | string;
             httpMethod: HttpMethod | string = HttpGet; body = "";
             headers: HttpHeaders = nil; multipart: MultipartData = nil): Response</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/httpclient.nim#L1131" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1131" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/httpclient.html" class="_attribution-link">https://nim-lang.org/docs/httpclient.html</a>
  </p>
</div>
