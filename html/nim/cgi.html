<h1 class="title">std/cgi</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L1" target="_blank">Edit</a>  
<p>This module implements helper procs for CGI applications. Example:</p> 
<pre class="listing" data-language="nim">import std/[strtabs, cgi]

# Fill the values when debugging:
when debug:
  setTestData("name", "Klaus", "password", "123456")
# read the data into `myData`
var myData = readData()
# check that the data's variable names are "name" or "password"
validateData(myData, "name", "password")
# start generating content:
writeContentType()
# generate content:
write(stdout, "&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\"&gt;\n")
write(stdout, "&lt;html&gt;&lt;head&gt;&lt;title&gt;Test&lt;/title&gt;&lt;/head&gt;&lt;body&gt;\n")
writeLine(stdout, "your name: " &amp; myData["name"])
writeLine(stdout, "your password: " &amp; myData["password"])
writeLine(stdout, "&lt;/body&gt;&lt;/html&gt;")</pre>  <h2 id="6">Imports</h2> <dl> <a href="strutils.html">strutils</a>, <a href="os.html">os</a>, <a href="strtabs.html">strtabs</a>, <a href="cookies.html">cookies</a>, <a href="uri.html">uri</a> </dl>   <h2 id="7">Types</h2> <dl> <div id="CgiError"> <dt><pre>CgiError = object of IOError</pre></dt> <dd> Exception that is raised if a CGI error occurs. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L58" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L58" target="_blank">Edit</a> </dd> </div> <div id="RequestMethod"> <dt><pre data-language="nim">RequestMethod = enum
  methodNone,               ## no REQUEST_METHOD environment variable
  methodPost,               ## query uses the POST method
  methodGet                  ## query uses the GET method</pre></dt> <dd> The used request method. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L59" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L59" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="cgiError-procs-all"> <div id="cgiError,string"> <dt><pre data-language="nim">proc cgiError(msg: string) {.noreturn, ...raises: [CgiError], tags: [], forbids: [].}</pre></dt> <dd> Raises a <code><span class="Identifier">CgiError</span></code> exception with message <code><span class="Identifier">msg</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L64" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L64" target="_blank">Edit</a> </dd> </div> </div> <div id="existsCookie-procs-all"> <div id="existsCookie,string"> <dt><pre data-language="nim">proc existsCookie(name: string): bool {....raises: [], tags: [ReadEnvEffect],
                                        forbids: [].}</pre></dt> <dd> Checks if a cookie of <code><span class="Identifier">name</span></code> exists. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L312" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L312" target="_blank">Edit</a> </dd> </div> </div> <div id="getContentLength-procs-all"> <div id="getContentLength"> <dt><pre data-language="nim">proc getContentLength(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">CONTENT_LENGTH</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L123" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L123" target="_blank">Edit</a> </dd> </div> </div> <div id="getContentType-procs-all"> <div id="getContentType"> <dt><pre data-language="nim">proc getContentType(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">CONTENT_TYPE</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L127" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L127" target="_blank">Edit</a> </dd> </div> </div> <div id="getCookie-procs-all"> <div id="getCookie,string"> <dt><pre data-language="nim">proc getCookie(name: string): string {....raises: [], tags: [ReadEnvEffect],
                                       forbids: [].}</pre></dt> <dd> Gets a cookie. If no cookie of <code><span class="Identifier">name</span></code> exists, "" is returned. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L307" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L307" target="_blank">Edit</a> </dd> </div> </div> <div id="getDocumentRoot-procs-all"> <div id="getDocumentRoot"> <dt><pre data-language="nim">proc getDocumentRoot(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">DOCUMENT_ROOT</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L131" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L131" target="_blank">Edit</a> </dd> </div> </div> <div id="getGatewayInterface-procs-all"> <div id="getGatewayInterface"> <dt><pre data-language="nim">proc getGatewayInterface(): string {....raises: [], tags: [ReadEnvEffect],
                                     forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">GATEWAY_INTERFACE</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L135" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L135" target="_blank">Edit</a> </dd> </div> </div> <div id="getHttpAccept-procs-all"> <div id="getHttpAccept"> <dt><pre data-language="nim">proc getHttpAccept(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">HTTP_ACCEPT</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L139" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L139" target="_blank">Edit</a> </dd> </div> </div> <div id="getHttpAcceptCharset-procs-all"> <div id="getHttpAcceptCharset"> <dt><pre data-language="nim">proc getHttpAcceptCharset(): string {....raises: [], tags: [ReadEnvEffect],
                                      forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">HTTP_ACCEPT_CHARSET</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L143" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L143" target="_blank">Edit</a> </dd> </div> </div> <div id="getHttpAcceptEncoding-procs-all"> <div id="getHttpAcceptEncoding"> <dt><pre data-language="nim">proc getHttpAcceptEncoding(): string {....raises: [], tags: [ReadEnvEffect],
                                       forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">HTTP_ACCEPT_ENCODING</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L147" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L147" target="_blank">Edit</a> </dd> </div> </div> <div id="getHttpAcceptLanguage-procs-all"> <div id="getHttpAcceptLanguage"> <dt><pre data-language="nim">proc getHttpAcceptLanguage(): string {....raises: [], tags: [ReadEnvEffect],
                                       forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">HTTP_ACCEPT_LANGUAGE</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L151" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L151" target="_blank">Edit</a> </dd> </div> </div> <div id="getHttpConnection-procs-all"> <div id="getHttpConnection"> <dt><pre data-language="nim">proc getHttpConnection(): string {....raises: [], tags: [ReadEnvEffect],
                                   forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">HTTP_CONNECTION</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L155" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L155" target="_blank">Edit</a> </dd> </div> </div> <div id="getHttpCookie-procs-all"> <div id="getHttpCookie"> <dt><pre data-language="nim">proc getHttpCookie(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">HTTP_COOKIE</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L159" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L159" target="_blank">Edit</a> </dd> </div> </div> <div id="getHttpHost-procs-all"> <div id="getHttpHost"> <dt><pre data-language="nim">proc getHttpHost(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">HTTP_HOST</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L163" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L163" target="_blank">Edit</a> </dd> </div> </div> <div id="getHttpReferer-procs-all"> <div id="getHttpReferer"> <dt><pre data-language="nim">proc getHttpReferer(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">HTTP_REFERER</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L167" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L167" target="_blank">Edit</a> </dd> </div> </div> <div id="getHttpUserAgent-procs-all"> <div id="getHttpUserAgent"> <dt><pre data-language="nim">proc getHttpUserAgent(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">HTTP_USER_AGENT</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L171" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L171" target="_blank">Edit</a> </dd> </div> </div> <div id="getPathInfo-procs-all"> <div id="getPathInfo"> <dt><pre data-language="nim">proc getPathInfo(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">PATH_INFO</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L175" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L175" target="_blank">Edit</a> </dd> </div> </div> <div id="getPathTranslated-procs-all"> <div id="getPathTranslated"> <dt><pre data-language="nim">proc getPathTranslated(): string {....raises: [], tags: [ReadEnvEffect],
                                   forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">PATH_TRANSLATED</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L179" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L179" target="_blank">Edit</a> </dd> </div> </div> <div id="getQueryString-procs-all"> <div id="getQueryString"> <dt><pre data-language="nim">proc getQueryString(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">QUERY_STRING</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L183" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L183" target="_blank">Edit</a> </dd> </div> </div> <div id="getRemoteAddr-procs-all"> <div id="getRemoteAddr"> <dt><pre data-language="nim">proc getRemoteAddr(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">REMOTE_ADDR</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L187" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L187" target="_blank">Edit</a> </dd> </div> </div> <div id="getRemoteHost-procs-all"> <div id="getRemoteHost"> <dt><pre data-language="nim">proc getRemoteHost(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">REMOTE_HOST</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L191" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L191" target="_blank">Edit</a> </dd> </div> </div> <div id="getRemoteIdent-procs-all"> <div id="getRemoteIdent"> <dt><pre data-language="nim">proc getRemoteIdent(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">REMOTE_IDENT</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L195" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L195" target="_blank">Edit</a> </dd> </div> </div> <div id="getRemotePort-procs-all"> <div id="getRemotePort"> <dt><pre data-language="nim">proc getRemotePort(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">REMOTE_PORT</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L199" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L199" target="_blank">Edit</a> </dd> </div> </div> <div id="getRemoteUser-procs-all"> <div id="getRemoteUser"> <dt><pre data-language="nim">proc getRemoteUser(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">REMOTE_USER</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L203" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L203" target="_blank">Edit</a> </dd> </div> </div> <div id="getRequestMethod-procs-all"> <div id="getRequestMethod"> <dt><pre data-language="nim">proc getRequestMethod(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">REQUEST_METHOD</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L207" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L207" target="_blank">Edit</a> </dd> </div> </div> <div id="getRequestURI-procs-all"> <div id="getRequestURI"> <dt><pre data-language="nim">proc getRequestURI(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">REQUEST_URI</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L211" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L211" target="_blank">Edit</a> </dd> </div> </div> <div id="getScriptFilename-procs-all"> <div id="getScriptFilename"> <dt><pre data-language="nim">proc getScriptFilename(): string {....raises: [], tags: [ReadEnvEffect],
                                   forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">SCRIPT_FILENAME</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L215" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L215" target="_blank">Edit</a> </dd> </div> </div> <div id="getScriptName-procs-all"> <div id="getScriptName"> <dt><pre data-language="nim">proc getScriptName(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">SCRIPT_NAME</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L219" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L219" target="_blank">Edit</a> </dd> </div> </div> <div id="getServerAddr-procs-all"> <div id="getServerAddr"> <dt><pre data-language="nim">proc getServerAddr(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">SERVER_ADDR</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L223" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L223" target="_blank">Edit</a> </dd> </div> </div> <div id="getServerAdmin-procs-all"> <div id="getServerAdmin"> <dt><pre data-language="nim">proc getServerAdmin(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">SERVER_ADMIN</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L227" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L227" target="_blank">Edit</a> </dd> </div> </div> <div id="getServerName-procs-all"> <div id="getServerName"> <dt><pre data-language="nim">proc getServerName(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">SERVER_NAME</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L231" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L231" target="_blank">Edit</a> </dd> </div> </div> <div id="getServerPort-procs-all"> <div id="getServerPort"> <dt><pre data-language="nim">proc getServerPort(): string {....raises: [], tags: [ReadEnvEffect], forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">SERVER_PORT</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L235" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L235" target="_blank">Edit</a> </dd> </div> </div> <div id="getServerProtocol-procs-all"> <div id="getServerProtocol"> <dt><pre data-language="nim">proc getServerProtocol(): string {....raises: [], tags: [ReadEnvEffect],
                                   forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">SERVER_PROTOCOL</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L239" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L239" target="_blank">Edit</a> </dd> </div> </div> <div id="getServerSignature-procs-all"> <div id="getServerSignature"> <dt><pre data-language="nim">proc getServerSignature(): string {....raises: [], tags: [ReadEnvEffect],
                                    forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">SERVER_SIGNATURE</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L243" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L243" target="_blank">Edit</a> </dd> </div> </div> <div id="getServerSoftware-procs-all"> <div id="getServerSoftware"> <dt><pre data-language="nim">proc getServerSoftware(): string {....raises: [], tags: [ReadEnvEffect],
                                   forbids: [].}</pre></dt> <dd> Returns contents of the <code><span class="Identifier">SERVER_SOFTWARE</span></code> environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L247" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L247" target="_blank">Edit</a> </dd> </div> </div> <div id="readData-procs-all"> <div id="readData,set[RequestMethod]"> <dt><pre data-language="nim">proc readData(allowedMethods: set[RequestMethod] = {methodNone, methodPost,
    methodGet}): StringTableRef {....raises: [CgiError, ValueError, IOError],
                                  tags: [ReadEnvEffect, ReadIOEffect],
                                  forbids: [].}</pre></dt> <dd> Reads CGI data. If the client does not use a method listed in the <code><span class="Identifier">allowedMethods</span></code> set, a <code><span class="Identifier">CgiError</span></code> exception is raised. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L102" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L102" target="_blank">Edit</a> </dd> </div> <div id="readData,string"> <dt><pre data-language="nim">proc readData(data: string): StringTableRef {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Reads CGI data from a string. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L110" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L110" target="_blank">Edit</a> </dd> </div> </div> <div id="setCookie-procs-all"> <div id="setCookie,string,string"> <dt><pre data-language="nim">proc setCookie(name, value: string) {....raises: [IOError], tags: [WriteIOEffect],
                                      forbids: [].}</pre></dt> <dd> Sets a cookie. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L300" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L300" target="_blank">Edit</a> </dd> </div> </div> <div id="setStackTraceStdout-procs-all"> <div id="setStackTraceStdout"> <dt><pre data-language="nim">proc setStackTraceStdout() {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Makes Nim output stacktraces to stdout, instead of server log. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L296" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L296" target="_blank">Edit</a> </dd> </div> </div> <div id="setTestData-procs-all"> <div id="setTestData,varargs[string]"> <dt><pre data-language="nim">proc setTestData(keysvalues: varargs[string]) {....raises: [OSError],
    tags: [WriteEnvEffect], forbids: [].}</pre></dt> <dd> <p>Fills the appropriate environment variables to test your CGI application. This can only simulate the 'GET' request method. <code><span class="Identifier">keysvalues</span></code> should provide embedded (name, value)-pairs. Example:</p> 
<pre class="listing" data-language="nim">setTestData("name", "Hanz", "password", "12345")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L251" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L251" target="_blank">Edit</a> </dd> </div> </div> <div id="validateData-procs-all"> <div id="validateData,StringTableRef,varargs[string]"> <dt><pre data-language="nim">proc validateData(data: StringTableRef; validKeys: varargs[string]) {.
    ...raises: [CgiError], tags: [], forbids: [].}</pre></dt> <dd> Validates data; raises <code><span class="Identifier">CgiError</span></code> if this fails. This checks that each variable name of the CGI <code><span class="Identifier">data</span></code> occurs in the <code><span class="Identifier">validKeys</span></code> array. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L116" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L116" target="_blank">Edit</a> </dd> </div> </div> <div id="writeContentType-procs-all"> <div id="writeContentType"> <dt><pre data-language="nim">proc writeContentType() {....raises: [IOError], tags: [WriteIOEffect], forbids: [].}</pre></dt> <dd> <p>Calls this before starting to send your HTML data to <code><span class="Identifier">stdout</span></code>. This implements this part of the CGI protocol:</p> 
<pre class="listing" data-language="nim">write(stdout, "Content-type: text/html\n\n")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L269" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L269" target="_blank">Edit</a> </dd> </div> </div> <div id="writeErrorMessage-procs-all"> <div id="writeErrorMessage,string"> <dt><pre data-language="nim">proc writeErrorMessage(data: string) {....raises: [IOError], tags: [WriteIOEffect],
                                       forbids: [].}</pre></dt> <dd> Tries to reset browser state and writes <code><span class="Identifier">data</span></code> to stdout in &lt;plaintext&gt; tag. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L287" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L287" target="_blank">Edit</a> </dd> </div> </div> <div id="xmlEncode-procs-all"> <div id="xmlEncode,string"> <dt><pre data-language="nim">proc xmlEncode(s: string): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Encodes a value to be XML safe:<ul class="simple">
<li>
<code><span class="StringLit">"</span></code> is replaced by <code><span class="Operator">&amp;</span><span class="Identifier">quot</span><span class="Punctuation">;</span></code>
</li> <li>
<code><span class="Operator">&lt;</span></code> is replaced by <code><span class="Operator">&amp;</span><span class="Identifier">lt</span><span class="Punctuation">;</span></code>
</li> <li>
<code><span class="Operator">&gt;</span></code> is replaced by <code><span class="Operator">&amp;</span><span class="Identifier">gt</span><span class="Punctuation">;</span></code>
</li> <li>
<code><span class="Operator">&amp;</span></code> is replaced by <code><span class="Operator">&amp;</span><span class="Identifier">amp</span><span class="Punctuation">;</span></code>
</li> <li>every other character is carried over.</li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L47" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L47" target="_blank">Edit</a> </dd> </div> </div> </dl>   <h2 id="15">Iterators</h2> <dl> <div id="decodeData-iterators-all"> <div id="decodeData.i,set[RequestMethod]"> <dt><pre data-language="nim">iterator decodeData(allowedMethods: set[RequestMethod] = {methodNone,
    methodPost, methodGet}): tuple[key, value: string] {.
    ...raises: [CgiError, ValueError, IOError],
    tags: [ReadEnvEffect, ReadIOEffect], forbids: [].}</pre></dt> <dd> Reads and decodes CGI data and yields the (name, value) pairs the data consists of. If the client does not use a method listed in the <code><span class="Identifier">allowedMethods</span></code> set, a <code><span class="Identifier">CgiError</span></code> exception is raised. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L93" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L93" target="_blank">Edit</a> </dd> </div> <div id="decodeData.i,string"> <dt><pre data-language="nim">iterator decodeData(data: string): tuple[key, value: string] {....raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> Reads and decodes CGI data and yields the (name, value) pairs the data consists of. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/cgi.nim#L87" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/cgi.nim#L87" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/cgi.html" class="_attribution-link">https://nim-lang.org/docs/cgi.html</a>
  </p>
</div>
