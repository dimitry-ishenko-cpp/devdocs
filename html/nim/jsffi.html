<h1 class="title">jsffi</h1>  <p class="module-desc">This Module implements types and macros to facilitate the wrapping of, and interaction with JavaScript libraries. Using the provided types <code>JsObject</code> and <code>JsAssoc</code> together with the provided macros allows for smoother interfacing with JavaScript, allowing for example quick and easy imports of JavaScript variables:</p>
<pre class="listing" data-language="nim"># Here, we are using jQuery for just a few calls and do not want to wrap the
# whole library:

# import the document object and the console
var document {.importc, nodecl.}: JsObject
var console {.importc, nodecl.}: JsObject
# import the "$" function
proc jq(selector: JsObject): JsObject {.importcpp: "$$(#)".}

# Use jQuery to make the following code run, after the document is ready.
# This uses an experimental ``.()`` operator for ``JsObject``, to emit
# JavaScript calls, when no corresponding proc exists for ``JsObject``.
proc main =
  jq(document).ready(proc() =
    console.log("Hello JavaScript!")
  )</pre>  <h2 id="6">Imports</h2> <dl> <a href="macros.html">macros</a>, <a href="tables.html">tables</a> </dl>  <h2 id="7">Types</h2> <dl>  <dt><pre id="JsKey" data-language="nim">JsKey = concept atypeof(T)
    cstring.toJsKey(T) is T</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L85" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L85" target="_blank">Edit</a> </dd>  <dt><pre id="JsObject">JsObject = ref object of JsRoot</pre></dt> <dd> Dynamically typed wrapper around a JavaScript object. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L88" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L88" target="_blank">Edit</a> </dd>  <dt><pre id="JsAssoc" data-language="nim">JsAssoc[K; V] = ref object of JsRoot</pre></dt> <dd> Statically typed wrapper around a JavaScript object. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L90" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L90" target="_blank">Edit</a> </dd>  <dt><pre id="js">js = JsObject</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L93" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L93" target="_blank">Edit</a> </dd>  <dt><pre id="JsError" data-language="nim">JsError {...}{.importc: "Error".} = object of JsRoot
  message*: cstring</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L115" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L115" target="_blank">Edit</a> </dd>  <dt><pre id="JsEvalError" data-language="nim">JsEvalError {...}{.importc: "EvalError".} = object of JsError</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L117" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L117" target="_blank">Edit</a> </dd>  <dt><pre id="JsRangeError" data-language="nim">JsRangeError {...}{.importc: "RangeError".} = object of JsError</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L118" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L118" target="_blank">Edit</a> </dd>  <dt><pre id="JsReferenceError" data-language="nim">JsReferenceError {...}{.importc: "ReferenceError".} = object of JsError</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L119" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L119" target="_blank">Edit</a> </dd>  <dt><pre id="JsSyntaxError" data-language="nim">JsSyntaxError {...}{.importc: "SyntaxError".} = object of JsError</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L120" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L120" target="_blank">Edit</a> </dd>  <dt><pre id="JsTypeError" data-language="nim">JsTypeError {...}{.importc: "TypeError".} = object of JsError</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L121" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L121" target="_blank">Edit</a> </dd>  <dt><pre id="JsURIError" data-language="nim">JsURIError {...}{.importc: "URIError".} = object of JsError</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L122" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L122" target="_blank">Edit</a> </dd> </dl>  <h2 id="8">Vars</h2> <dl>  <dt><pre id="jsArguments">jsArguments: JsObject</pre></dt> <dd> JavaScript's arguments pseudo-variable <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L96" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L96" target="_blank">Edit</a> </dd>  <dt><pre id="jsNull">jsNull: JsObject</pre></dt> <dd> JavaScript's null literal <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L98" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L98" target="_blank">Edit</a> </dd>  <dt><pre id="jsUndefined">jsUndefined: JsObject</pre></dt> <dd> JavaScript's undefined literal <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L100" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L100" target="_blank">Edit</a> </dd>  <dt><pre id="jsDirname">jsDirname: cstring</pre></dt> <dd> JavaScript's __dirname pseudo-variable <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L102" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L102" target="_blank">Edit</a> </dd>  <dt><pre id="jsFilename">jsFilename: cstring</pre></dt> <dd> JavaScript's __filename pseudo-variable <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L104" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L104" target="_blank">Edit</a> </dd> </dl>  <h2 id="12">Procs</h2> <dl>  <dt><pre id="toJsKey%2Ccstring%2CtypeT" data-language="nim">proc toJsKey[T: SomeInteger](text: cstring; t: type T): T {...}{.
    importcpp: "parseInt(#)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L74" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L74" target="_blank">Edit</a> </dd>  <dt><pre id="toJsKey%2Ccstring%2CtypeT_2" data-language="nim">proc toJsKey[T: enum](text: cstring; t: type T): T</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L76" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L76" target="_blank">Edit</a> </dd>  <dt><pre id="toJsKey%2Ccstring%2Ctypecstring" data-language="nim">proc toJsKey(text: cstring; t: type cstring): cstring</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L79" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L79" target="_blank">Edit</a> </dd>  <dt><pre id="toJsKey%2Ccstring%2CtypeT_3" data-language="nim">proc toJsKey[T: SomeFloat](text: cstring; t: type T): T {...}{.
    importcpp: "parseFloat(#)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L82" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L82" target="_blank">Edit</a> </dd>  <dt><pre id="isNull%2CT" data-language="nim">proc isNull[T](x: T): bool {...}{.noSideEffect, importcpp: "(# === null)".}</pre></dt> <dd> check if a value is exactly null <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L107" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L107" target="_blank">Edit</a> </dd>  <dt><pre id="isUndefined%2CT" data-language="nim">proc isUndefined[T](x: T): bool {...}{.noSideEffect, importcpp: "(# === undefined)".}</pre></dt> <dd> check if a value is exactly undefined <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L110" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L110" target="_blank">Edit</a> </dd>  <dt><pre id="newJsObject" data-language="nim">proc newJsObject(): JsObject {...}{.importcpp: "{@}".}</pre></dt> <dd> Creates a new empty JsObject <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L125" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L125" target="_blank">Edit</a> </dd>  <dt><pre id="newJsAssoc" data-language="nim">proc newJsAssoc[K: JsKey; V](): JsAssoc[K, V] {...}{.importcpp: "{@}".}</pre></dt> <dd> Creates a new empty JsAssoc with key type <code>K</code> and value type <code>V</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L128" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L128" target="_blank">Edit</a> </dd>  <dt><pre id="hasOwnProperty%2CJsObject%2Ccstring" data-language="nim">proc hasOwnProperty(x: JsObject; prop: cstring): bool {...}{.
    importcpp: "#.hasOwnProperty(#)".}</pre></dt> <dd> Checks, whether <code>x</code> has a property of name <code>prop</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L132" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L132" target="_blank">Edit</a> </dd>  <dt><pre id="jsTypeOf%2CJsObject" data-language="nim">proc jsTypeOf(x: JsObject): cstring {...}{.importcpp: "typeof(#)".}</pre></dt> <dd> Returns the name of the JsObject's JavaScript type as a cstring. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L136" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L136" target="_blank">Edit</a> </dd>  <dt><pre id="jsNew%2Cauto" data-language="nim">proc jsNew(x: auto): JsObject {...}{.importcpp: "(new #)".}</pre></dt> <dd> Turns a regular function call into an invocation of the JavaScript's <code>new</code> operator <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L139" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L139" target="_blank">Edit</a> </dd>  <dt><pre id="jsDelete%2Cauto" data-language="nim">proc jsDelete(x: auto): JsObject {...}{.importcpp: "(delete #)".}</pre></dt> <dd> JavaScript's <code>delete</code> operator <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L143" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L143" target="_blank">Edit</a> </dd>  <dt><pre id="require%2Ccstring" data-language="nim">proc require(module: cstring): JsObject {...}{.importc.}</pre></dt> <dd> JavaScript's <code>require</code> function <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L146" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L146" target="_blank">Edit</a> </dd>  <dt><pre id="to%2CJsObject%2Ctypedesc" data-language="nim">proc to(x: JsObject; T: typedesc): T:type {...}{.importcpp: "(#)".}</pre></dt> <dd> Converts a JsObject <code>x</code> to type <code>T</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L150" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L150" target="_blank">Edit</a> </dd>  <dt><pre id="toJs%2CT" data-language="nim">proc toJs[T](val: T): JsObject {...}{.importcpp: "(#)".}</pre></dt> <dd> Converts a value of any type to type JsObject <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L153" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L153" target="_blank">Edit</a> </dd>  <dt><pre id="%26%2Ccstring%2Ccstring" data-language="nim">proc `&amp;`(a, b: cstring): cstring {...}{.importcpp: "(# + #)".}</pre></dt> <dd> Concatenation operator for JavaScript strings <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L164" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L164" target="_blank">Edit</a> </dd>  <dt><pre id="%2B%2CJsObject%2CJsObject" data-language="nim">proc `+`(x, y: JsObject): JsObject {...}{.importcpp: "(# + #)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L167" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L167" target="_blank">Edit</a> </dd>  <dt><pre id="-%2CJsObject%2CJsObject" data-language="nim">proc `-`(x, y: JsObject): JsObject {...}{.importcpp: "(# - #)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L168" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L168" target="_blank">Edit</a> </dd>  <dt><pre id="%2A%2CJsObject%2CJsObject" data-language="nim">proc `*`(x, y: JsObject): JsObject {...}{.importcpp: "(# * #)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L169" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L169" target="_blank">Edit</a> </dd>  <dt><pre id="%2F%2CJsObject%2CJsObject" data-language="nim">proc `/`(x, y: JsObject): JsObject {...}{.importcpp: "(# / #)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L170" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L170" target="_blank">Edit</a> </dd>  <dt><pre id="%25%2CJsObject%2CJsObject" data-language="nim">proc `%`(x, y: JsObject): JsObject {...}{.importcpp: "(# % #)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L171" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L171" target="_blank">Edit</a> </dd>  <dt><pre id="%2B%3D%2CJsObject%2CJsObject" data-language="nim">proc `+=`(x, y: JsObject): JsObject {...}{.importcpp: "(# += #)", discardable.}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L172" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L172" target="_blank">Edit</a> </dd>  <dt><pre id="-%3D%2CJsObject%2CJsObject" data-language="nim">proc `-=`(x, y: JsObject): JsObject {...}{.importcpp: "(# -= #)", discardable.}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L173" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L173" target="_blank">Edit</a> </dd>  <dt><pre id="%2A%3D%2CJsObject%2CJsObject" data-language="nim">proc `*=`(x, y: JsObject): JsObject {...}{.importcpp: "(# *= #)", discardable.}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L174" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L174" target="_blank">Edit</a> </dd>  <dt><pre id="%2F%3D%2CJsObject%2CJsObject" data-language="nim">proc `/=`(x, y: JsObject): JsObject {...}{.importcpp: "(# /= #)", discardable.}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L175" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L175" target="_blank">Edit</a> </dd>  <dt><pre id="%25%3D%2CJsObject%2CJsObject" data-language="nim">proc `%=`(x, y: JsObject): JsObject {...}{.importcpp: "(# %= #)", discardable.}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L176" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L176" target="_blank">Edit</a> </dd>  <dt><pre id="%2B%2B%2CJsObject" data-language="nim">proc `++`(x: JsObject): JsObject {...}{.importcpp: "(++#)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L177" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L177" target="_blank">Edit</a> </dd>  <dt><pre id="--%2CJsObject" data-language="nim">proc `--`(x: JsObject): JsObject {...}{.importcpp: "(--#)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L178" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L178" target="_blank">Edit</a> </dd>  <dt><pre id="%3E%2CJsObject%2CJsObject" data-language="nim">proc `&gt;`(x, y: JsObject): JsObject {...}{.importcpp: "(# &gt; #)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L179" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L179" target="_blank">Edit</a> </dd>  <dt><pre id="%3C%2CJsObject%2CJsObject" data-language="nim">proc `&lt;`(x, y: JsObject): JsObject {...}{.importcpp: "(# &lt; #)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L180" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L180" target="_blank">Edit</a> </dd>  <dt><pre id="%3E%3D%2CJsObject%2CJsObject" data-language="nim">proc `&gt;=`(x, y: JsObject): JsObject {...}{.importcpp: "(# &gt;= #)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L181" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L181" target="_blank">Edit</a> </dd>  <dt><pre id="%3C%3D%2CJsObject%2CJsObject" data-language="nim">proc `&lt;=`(x, y: JsObject): JsObject {...}{.importcpp: "(# &lt;= #)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L182" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L182" target="_blank">Edit</a> </dd>  <dt><pre id="and%2CJsObject%2CJsObject" data-language="nim">proc `and`(x, y: JsObject): JsObject {...}{.importcpp: "(# &amp;&amp; #)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L183" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L183" target="_blank">Edit</a> </dd>  <dt><pre id="or%2CJsObject%2CJsObject" data-language="nim">proc `or`(x, y: JsObject): JsObject {...}{.importcpp: "(# || #)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L184" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L184" target="_blank">Edit</a> </dd>  <dt><pre id="not%2CJsObject" data-language="nim">proc `not`(x: JsObject): JsObject {...}{.importcpp: "(!#)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L185" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L185" target="_blank">Edit</a> </dd>  <dt><pre id="in%2CJsObject%2CJsObject" data-language="nim">proc `in`(x, y: JsObject): JsObject {...}{.importcpp: "(# in #)".}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L186" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L186" target="_blank">Edit</a> </dd>  <dt><pre id="%5B%5D%2CJsObject%2Ccstring" data-language="nim">proc `[]`(obj: JsObject; field: cstring): JsObject {...}{.importcpp: "#[#]".}</pre></dt> <dd> Return the value of a property of name <code>field</code> from a JsObject <code>obj</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L188" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L188" target="_blank">Edit</a> </dd>  <dt><pre id="%5B%5D%2CJsObject%2Cint" data-language="nim">proc `[]`(obj: JsObject; field: int): JsObject {...}{.importcpp: "#[#]".}</pre></dt> <dd> Return the value of a property of name <code>field</code> from a JsObject <code>obj</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L191" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L191" target="_blank">Edit</a> </dd>  <dt><pre id="%5B%5D%3D%2CJsObject%2Ccstring%2CT" data-language="nim">proc `[]=`[T](obj: JsObject; field: cstring; val: T) {...}{.importcpp: "#[#] = #".}</pre></dt> <dd> Set the value of a property of name <code>field</code> in a JsObject <code>obj</code> to <code>v</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L194" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L194" target="_blank">Edit</a> </dd>  <dt><pre id="%5B%5D%3D%2CJsObject%2Cint%2CT" data-language="nim">proc `[]=`[T](obj: JsObject; field: int; val: T) {...}{.importcpp: "#[#] = #".}</pre></dt> <dd> Set the value of a property of name <code>field</code> in a JsObject <code>obj</code> to <code>v</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L197" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L197" target="_blank">Edit</a> </dd>  <dt><pre id="%5B%5D%2CJsAssoc%5BK%3A+JsKey%2CV%5D%2CK" data-language="nim">proc `[]`[K: JsKey; V](obj: JsAssoc[K, V]; field: K): V {...}{.importcpp: "#[#]".}</pre></dt> <dd> Return the value of a property of name <code>field</code> from a JsAssoc <code>obj</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L200" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L200" target="_blank">Edit</a> </dd>  <dt><pre id="%5B%5D%3D%2CJsAssoc%5BK%3A+JsKey%2CV%5D%2CK%2CV" data-language="nim">proc `[]=`[K: JsKey; V](obj: JsAssoc[K, V]; field: K; val: V) {...}{.
    importcpp: "#[#] = #".}</pre></dt> <dd> Set the value of a property of name <code>field</code> in a JsAssoc <code>obj</code> to <code>v</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L204" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L204" target="_blank">Edit</a> </dd>  <dt><pre id="%5B%5D%2CJsAssoc%5Bcstring%2CV%5D%2Cstring" data-language="nim">proc `[]`[V](obj: JsAssoc[cstring, V]; field: string): V</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L208" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L208" target="_blank">Edit</a> </dd>  <dt><pre id="%5B%5D%3D%2CJsAssoc%5Bcstring%2CV%5D%2Cstring%2CV" data-language="nim">proc `[]=`[V](obj: JsAssoc[cstring, V]; field: string; val: V)</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L211" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L211" target="_blank">Edit</a> </dd>  <dt><pre id="%3D%3D%2CJsRoot%2CJsRoot" data-language="nim">proc `==`(x, y: JsRoot): bool {...}{.importcpp: "(# === #)".}</pre></dt> <dd> Compare two JsObjects or JsAssocs. Be careful though, as this is comparison like in JavaScript, so if your JsObjects are in fact JavaScript Objects, and not strings or numbers, this is a <em>comparison of references</em>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L214" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L214" target="_blank">Edit</a> </dd> </dl>  <h2 id="15">Iterators</h2> <dl>  <dt><pre id="pairs.i%2CJsObject" data-language="nim">iterator pairs(obj: JsObject): (cstring, JsObject) {...}{.raises: [], tags: [].}</pre></dt> <dd> Yields tuples of type <code>(cstring, JsObject)</code>, with the first entry being the <code>name</code> of a fields in the JsObject and the second being its value wrapped into a JsObject. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L347" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L347" target="_blank">Edit</a> </dd>  <dt><pre id="items.i%2CJsObject" data-language="nim">iterator items(obj: JsObject): JsObject {...}{.raises: [], tags: [].}</pre></dt> <dd> Yields the <code>values</code> of each field in a JsObject, wrapped into a JsObject. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L359" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L359" target="_blank">Edit</a> </dd>  <dt><pre id="keys.i%2CJsObject" data-language="nim">iterator keys(obj: JsObject): cstring {...}{.raises: [], tags: [].}</pre></dt> <dd> Yields the <code>names</code> of each field in a JsObject. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L368" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L368" target="_blank">Edit</a> </dd>  <dt><pre id="pairs.i%2CJsAssoc%5BK%3A+JsKey%2CV%5D" data-language="nim">iterator pairs[K: JsKey; V](assoc: JsAssoc[K, V]): (K, V)</pre></dt> <dd> Yields tuples of type <code>(K, V)</code>, with the first entry being a <code>key</code> in the JsAssoc and the second being its corresponding value. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L376" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L376" target="_blank">Edit</a> </dd>  <dt><pre id="items.i%2CJsAssoc%5BK%2CV%5D" data-language="nim">iterator items[K, V](assoc: JsAssoc[K, V]): V</pre></dt> <dd> Yields the <code>values</code> in a JsAssoc. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L387" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L387" target="_blank">Edit</a> </dd>  <dt><pre id="keys.i%2CJsAssoc%5BK%3A+JsKey%2CV%5D" data-language="nim">iterator keys[K: JsKey; V](assoc: JsAssoc[K, V]): K</pre></dt> <dd> Yields the <code>keys</code> in a JsAssoc. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L396" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L396" target="_blank">Edit</a> </dd> </dl>  <h2 id="17">Macros</h2> <dl>  <dt><pre id="jsFromAst.m%2Cuntyped" data-language="nim">macro jsFromAst(n: untyped): untyped</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L158" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L158" target="_blank">Edit</a> </dd>  <dt><pre id="..m%2CJsObject%2Cuntyped" data-language="nim">macro `.`(obj: JsObject; field: untyped): JsObject</pre></dt> <dd> <p>Experimental dot accessor (get) for type JsObject. Returns the value of a property of name <code>field</code> from a JsObject <code>x</code>.</p> <p>Example:</p> <pre class="listing" data-language="nim">let obj = newJsObject()
obj.a = 20
console.log(obj.a) # puts 20 onto the console.</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L220" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L220" target="_blank">Edit</a> </dd>  <dt><pre id=".%3D.m%2CJsObject%2Cuntyped%2Cuntyped" data-language="nim">macro `.=`(obj: JsObject; field, value: untyped): untyped</pre></dt> <dd> Experimental dot accessor (set) for type JsObject. Sets the value of a property of name <code>field</code> in a JsObject <code>x</code> to <code>value</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L246" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L246" target="_blank">Edit</a> </dd>  <dt><pre id=".%28%29.m%2CJsObject%2Cuntyped%2Cvarargs%5BJsObject%2CjsFromAst%5D" data-language="nim">macro `.()`(obj: JsObject; field: untyped; args: varargs[JsObject, jsFromAst]): JsObject</pre></dt> <dd> <p>Experimental "method call" operator for type JsObject. Takes the name of a method of the JavaScript object (<code>field</code>) and calls it with <code>args</code> as arguments, returning a JsObject (which may be discarded, and may be <code>undefined</code>, if the method does not return anything, so be careful when using this.)</p> <p>Example:</p> <pre class="listing" data-language="nim"># Let's get back to the console example:
var console {.importc, nodecl.}: JsObject
let res = console.log("I return undefined!")
console.log(res) # This prints undefined, as console.log always returns
                 # undefined. Thus one has to be careful, when using
                 # JsObject calls.</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L264" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L264" target="_blank">Edit</a> </dd>  <dt><pre id="..m%2CJsAssoc%5BK%3A+cstring%2CV%5D%2Cuntyped" data-language="nim">macro `.`[K: cstring; V](obj: JsAssoc[K, V]; field: untyped): V</pre></dt> <dd> Experimental dot accessor (get) for type JsAssoc. Returns the value of a property of name <code>field</code> from a JsObject <code>x</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L299" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L299" target="_blank">Edit</a> </dd>  <dt><pre id=".%3D.m%2CJsAssoc%5BK%3A+cstring%2CV%5D%2Cuntyped%2CV" data-language="nim">macro `.=`[K: cstring; V](obj: JsAssoc[K, V]; field: untyped; value: V): untyped</pre></dt> <dd> Experimental dot accessor (set) for type JsAssoc. Sets the value of a property of name <code>field</code> in a JsObject <code>x</code> to <code>value</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L315" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L315" target="_blank">Edit</a> </dd>  <dt><pre id=".%28%29.m%2CJsAssoc%5BK%3A+cstring%2CV%3A+proc%5D%2Cuntyped%2Cvarargs%5Buntyped%5D" data-language="nim">macro `.()`[K: cstring; V: proc](obj: JsAssoc[K, V]; field: untyped;
                                 args: varargs[untyped]): auto</pre></dt> <dd> Experimental "method call" operator for type JsAssoc. Takes the name of a method of the JavaScript object (<code>field</code>) and calls it with <code>args</code> as arguments. Here, everything is typechecked, so you do not have to worry about <code>undefined</code> return values. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L332" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L332" target="_blank">Edit</a> </dd>  <dt><pre id="%7B%7D.m%2Ctypedesc%2Cvarargs%5Buntyped%5D" data-language="nim">macro `{}`(typ: typedesc; xs: varargs[untyped]): auto</pre></dt> <dd> <p>Takes a <code>typedesc</code> as its first argument, and a series of expressions of type <code>key: value</code>, and returns a value of the specified type with each field <code>key</code> set to <code>value</code>, as specified in the arguments of <code>{}</code>.</p> <p>Example:</p> <pre class="listing" data-language="nim"># Let's say we have a type with a ton of fields, where some fields do not
# need to be set, and we do not want those fields to be set to ``nil``:
type
  ExtremelyHugeType = ref object
    a, b, c, d, e, f, g: int
    h, i, j, k, l: cstring
    # And even more fields ...

let obj = ExtremelyHugeType{ a: 1, k: "foo".cstring, d: 42 }

# This generates roughly the same JavaScript as:
{.emit: "var obj = {a: 1, k: "foo", d: 42};".}</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L406" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L406" target="_blank">Edit</a> </dd>  <dt><pre id="bindMethod.m%2Ctyped" data-language="nim">macro bindMethod(procedure: typed): auto</pre></dt> <dd> <p>Takes the name of a procedure and wraps it into a lambda missing the first argument, which passes the JavaScript builtin <code>this</code> as the first argument to the procedure. Returns the resulting lambda.</p> <p>Example:</p> <p>We want to generate roughly this JavaScript:</p> <pre class="listing" data-language="nim">var obj = {a: 10};
obj.someMethod = function() {
  return this.a + 42;
};</pre>
<p>We can achieve this using the <code>bindMethod</code> macro:</p> <pre class="listing" data-language="nim">let obj = JsObject{ a: 10 }
proc someMethodImpl(that: JsObject): int =
  that.a.to(int) + 42
obj.someMethod = bindMethod someMethodImpl

# Alternatively:
obj.someMethod = bindMethod
  proc(that: JsObject): int = that.a.to(int) + 42</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L469" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L469" target="_blank">Edit</a> </dd> </dl>  <h2 id="18">Templates</h2> <dl>  <dt><pre id="toJs.t%2Cstring" data-language="nim">template toJs(s: string): JsObject</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/js/jsffi.nim#L156" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/js/jsffi.nim#L156" target="_blank">Edit</a> </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2021 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/jsffi.html" class="_attribution-link">https://nim-lang.org/docs/jsffi.html</a>
  </p>
</div>
