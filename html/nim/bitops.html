<h1 class="title">bitops</h1>  <p class="module-desc">This module implements a series of low level methods for bit manipulation.</p>
<p>By default, this module use compiler intrinsics where possible to improve performance on supported compilers: <code>GCC</code>, <code>LLVM_GCC</code>, <code>CLANG</code>, <code>VCC</code>, <code>ICC</code>.</p> <p>The module will fallback to pure nim procs incase the backend is not supported. You can also use the flag <code>noIntrinsicsBitOpts</code> to disable compiler intrinsics.</p> <p>This module is also compatible with other backends: <code>Javascript</code>, <code>Nimscript</code> as well as the <code>compiletime VM</code>.</p> <p>As a result of using optimized function/intrinsics some functions can return undefined results if the input is invalid. You can use the flag <code>noUndefinedBitOpts</code> to force predictable behaviour for all input, causing a small performance hit.</p> <p>At this time only <code>fastLog2</code>, <code>firstSetBit, `countLeadingZeroBits</code>, <code>countTrailingZeroBits</code> may return undefined and/or platform dependent value if given invalid input.</p>  <h2 id="6">Imports</h2> <dl> <a href="macros.html">macros</a>, <a href="since.html">since</a> </dl>  <h2 id="7">Types</h2> <dl>  <dt><pre id="BitsRange" data-language="nim">BitsRange[T] = range[0 .. sizeof(T) * 8 - 1]</pre></dt> <dd> A range with all bit positions for type <code>T</code> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L88" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L88" target="_blank">Edit</a> </dd> </dl>  <h2 id="12">Procs</h2> <dl>  <dt><pre id="bitnot%2CT" data-language="nim">proc bitnot[T: SomeInteger](x: T): T {...}{.magic: "BitnotI", noSideEffect.}</pre></dt> <dd> Computes the <code>bitwise complement</code> of the integer <code>x</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L31" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L31" target="_blank">Edit</a> </dd>  <dt><pre id="bitslice%2CT%2CSlice%5Bint%5D" data-language="nim">proc bitslice[T: SomeInteger](v: var T; slice: Slice[int]) {...}{.inline.}</pre></dt> <dd> Mutates <code>v</code> into an extracted (and shifted) slice of bits from <code>v</code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var x = 0b101110
x.bitslice(2 .. 4)
doAssert x == 0b011</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L103" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L103" target="_blank">Edit</a> </dd>  <dt><pre id="masked%2CT%2CT" data-language="nim">proc masked[T: SomeInteger](v, mask: T): T {...}{.inline.}</pre></dt> <dd> <p>Returns <code>v</code>, with only the <code>1</code> bits from <code>mask</code> matching those of <code>v</code> set to 1.</p> <p>Effectively maps to a <code>bitand</code> operation.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
doAssert v.masked(0b0000_1010'u8) == 0b0000_0010'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L129" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L129" target="_blank">Edit</a> </dd>  <dt><pre id="mask%2CT%2CT" data-language="nim">proc mask[T: SomeInteger](v: var T; mask: T) {...}{.inline.}</pre></dt> <dd> <p>Mutates <code>v</code>, with only the <code>1</code> bits from <code>mask</code> matching those of <code>v</code> set to 1.</p> <p>Effectively maps to a <code>bitand</code> operation.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
v.mask(0b0000_1010'u8)
doAssert v == 0b0000_0010'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L151" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L151" target="_blank">Edit</a> </dd>  <dt><pre id="mask%2CT%2CSlice%5Bint%5D" data-language="nim">proc mask[T: SomeInteger](v: var T; slice: Slice[int]) {...}{.inline.}</pre></dt> <dd> <p>Mutates <code>v</code>, with only the <code>1</code> bits in the range of <code>slice</code> matching those of <code>v</code> set to 1.</p> <p>Effectively maps to a <code>bitand</code> operation.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_1011'u8
v.mask(1 .. 3)
doAssert v == 0b0000_1010'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L163" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L163" target="_blank">Edit</a> </dd>  <dt><pre id="setMask%2CT%2CT" data-language="nim">proc setMask[T: SomeInteger](v: var T; mask: T) {...}{.inline.}</pre></dt> <dd> <p>Mutates <code>v</code>, with all the <code>1</code> bits from <code>mask</code> set to 1.</p> <p>Effectively maps to a <code>bitor</code> operation.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
v.setMask(0b0000_1010'u8)
doAssert v == 0b0000_1011'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L195" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L195" target="_blank">Edit</a> </dd>  <dt><pre id="setMask%2CT%2CSlice%5Bint%5D" data-language="nim">proc setMask[T: SomeInteger](v: var T; slice: Slice[int]) {...}{.inline.}</pre></dt> <dd> <p>Mutates <code>v</code>, with all the <code>1</code> bits in the range of <code>slice</code> set to 1.</p> <p>Effectively maps to a <code>bitor</code> operation.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
v.setMask(2 .. 3)
doAssert v == 0b0000_1111'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L206" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L206" target="_blank">Edit</a> </dd>  <dt><pre id="clearMask%2CT%2CT" data-language="nim">proc clearMask[T: SomeInteger](v: var T; mask: T) {...}{.inline.}</pre></dt> <dd> <p>Mutates <code>v</code>, with all the <code>1</code> bits from <code>mask</code> set to 0.</p> <p>Effectively maps to a <code>bitand</code> operation with an <em>inverted mask.</em></p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
v.clearMask(0b0000_1010'u8)
doAssert v == 0b0000_0001'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L237" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L237" target="_blank">Edit</a> </dd>  <dt><pre id="clearMask%2CT%2CSlice%5Bint%5D" data-language="nim">proc clearMask[T: SomeInteger](v: var T; slice: Slice[int]) {...}{.inline.}</pre></dt> <dd> <p>Mutates <code>v</code>, with all the <code>1</code> bits in the range of <code>slice</code> set to 0.</p> <p>Effectively maps to a <code>bitand</code> operation with an <em>inverted mask.</em></p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
v.clearMask(1 .. 3)
doAssert v == 0b0000_0001'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L248" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L248" target="_blank">Edit</a> </dd>  <dt><pre id="flipMask%2CT%2CT" data-language="nim">proc flipMask[T: SomeInteger](v: var T; mask: T) {...}{.inline.}</pre></dt> <dd> <p>Mutates <code>v</code>, with all the <code>1</code> bits from <code>mask</code> flipped.</p> <p>Effectively maps to a <code>bitxor</code> operation.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
v.flipMask(0b0000_1010'u8)
doAssert v == 0b0000_1001'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L279" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L279" target="_blank">Edit</a> </dd>  <dt><pre id="flipMask%2CT%2CSlice%5Bint%5D" data-language="nim">proc flipMask[T: SomeInteger](v: var T; slice: Slice[int]) {...}{.inline.}</pre></dt> <dd> <p>Mutates <code>v</code>, with all the <code>1</code> bits in the range of <code>slice</code> flipped.</p> <p>Effectively maps to a <code>bitxor</code> operation.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
v.flipMask(1 .. 3)
doAssert v == 0b0000_1101'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L290" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L290" target="_blank">Edit</a> </dd>  <dt><pre id="setBit%2CT%2CBitsRange%5BT%3A+SomeInteger%5D" data-language="nim">proc setBit[T: SomeInteger](v: var T; bit: BitsRange[T]) {...}{.inline.}</pre></dt> <dd> Mutates <code>v</code>, with the bit at position <code>bit</code> set to 1 <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
v.setBit(5'u8)
doAssert v == 0b0010_0011'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L301" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L301" target="_blank">Edit</a> </dd>  <dt><pre id="clearBit%2CT%2CBitsRange%5BT%3A+SomeInteger%5D" data-language="nim">proc clearBit[T: SomeInteger](v: var T; bit: BitsRange[T]) {...}{.inline.}</pre></dt> <dd> Mutates <code>v</code>, with the bit at position <code>bit</code> set to 0 <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
v.clearBit(1'u8)
doAssert v == 0b0000_0001'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L310" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L310" target="_blank">Edit</a> </dd>  <dt><pre id="flipBit%2CT%2CBitsRange%5BT%3A+SomeInteger%5D" data-language="nim">proc flipBit[T: SomeInteger](v: var T; bit: BitsRange[T]) {...}{.inline.}</pre></dt> <dd> Mutates <code>v</code>, with the bit at position <code>bit</code> flipped <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
v.flipBit(1'u8)
doAssert v == 0b0000_0001'u8

v = 0b0000_0011'u8
v.flipBit(2'u8)
doAssert v == 0b0000_0111'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L319" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L319" target="_blank">Edit</a> </dd>  <dt><pre id="testBit%2CT%2CBitsRange%5BT%3A+SomeInteger%5D" data-language="nim">proc testBit[T: SomeInteger](v: T; bit: BitsRange[T]): bool {...}{.inline.}</pre></dt> <dd> Returns true if the bit in <code>v</code> at positions <code>bit</code> is set to 1 <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_1111'u8
doAssert v.testBit(0)
doAssert not v.testBit(7)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L369" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L369" target="_blank">Edit</a> </dd>  <dt><pre id="countSetBits%2CSomeInteger" data-language="nim">proc countSetBits(x: SomeInteger): int {...}{.inline, noSideEffect.}</pre></dt> <dd> Counts the set bits in integer. (also called <span id="hamming-weight_1">Hamming weight</span>.) <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert countSetBits(0b0000_0011'u8) == 2
doAssert countSetBits(0b1010_1010'u8) == 4</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L531" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L531" target="_blank">Edit</a> </dd>  <dt><pre id="popcount%2CSomeInteger" data-language="nim">proc popcount(x: SomeInteger): int {...}{.inline, noSideEffect.}</pre></dt> <dd> Alias for for <a href="#countSetBits,SomeInteger">countSetBits</a>. (Hamming weight.) <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L562" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L562" target="_blank">Edit</a> </dd>  <dt><pre id="parityBits%2CSomeInteger" data-language="nim">proc parityBits(x: SomeInteger): int {...}{.inline, noSideEffect.}</pre></dt> <dd> Calculate the bit parity in integer. If number of 1-bit is odd parity is 1, otherwise 0. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert parityBits(0b0000_0000'u8) == 0
doAssert parityBits(0b0101_0001'u8) == 1
doAssert parityBits(0b0110_1001'u8) == 0
doAssert parityBits(0b0111_1111'u8) == 1</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L566" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L566" target="_blank">Edit</a> </dd>  <dt><pre id="firstSetBit%2CSomeInteger" data-language="nim">proc firstSetBit(x: SomeInteger): int {...}{.inline, noSideEffect.}</pre></dt> <dd> Returns the 1-based index of the least significant set bit of x. If <code>x</code> is zero, when <code>noUndefinedBitOpts</code> is set, result is 0, otherwise result is undefined. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert firstSetBit(0b0000_0001'u8) == 1
doAssert firstSetBit(0b0000_0010'u8) == 2
doAssert firstSetBit(0b0000_0100'u8) == 3
doAssert firstSetBit(0b0000_1000'u8) == 4
doAssert firstSetBit(0b0000_1111'u8) == 1</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L589" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L589" target="_blank">Edit</a> </dd>  <dt><pre id="fastLog2%2CSomeInteger" data-language="nim">proc fastLog2(x: SomeInteger): int {...}{.inline, noSideEffect.}</pre></dt> <dd> Quickly find the log base 2 of an integer. If <code>x</code> is zero, when <code>noUndefinedBitOpts</code> is set, result is -1, otherwise result is undefined. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert fastLog2(0b0000_0001'u8) == 0
doAssert fastLog2(0b0000_0010'u8) == 1
doAssert fastLog2(0b0000_0100'u8) == 2
doAssert fastLog2(0b0000_1000'u8) == 3
doAssert fastLog2(0b0000_1111'u8) == 3</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L633" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L633" target="_blank">Edit</a> </dd>  <dt><pre id="countLeadingZeroBits%2CSomeInteger" data-language="nim">proc countLeadingZeroBits(x: SomeInteger): int {...}{.inline, noSideEffect.}</pre></dt> <dd> <p>Returns the number of leading zero bits in integer. If <code>x</code> is zero, when <code>noUndefinedBitOpts</code> is set, result is 0, otherwise result is undefined.</p> <p>See also:</p> <ul class="simple">
<li><a href="#countTrailingZeroBits,SomeInteger">countTrailingZeroBits proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert countLeadingZeroBits(0b0000_0001'u8) == 7
doAssert countLeadingZeroBits(0b0000_0010'u8) == 6
doAssert countLeadingZeroBits(0b0000_0100'u8) == 5
doAssert countLeadingZeroBits(0b0000_1000'u8) == 4
doAssert countLeadingZeroBits(0b0000_1111'u8) == 4</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L673" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L673" target="_blank">Edit</a> </dd>  <dt><pre id="countTrailingZeroBits%2CSomeInteger" data-language="nim">proc countTrailingZeroBits(x: SomeInteger): int {...}{.inline, noSideEffect.}</pre></dt> <dd> <p>Returns the number of trailing zeros in integer. If <code>x</code> is zero, when <code>noUndefinedBitOpts</code> is set, result is 0, otherwise result is undefined.</p> <p>See also:</p> <ul class="simple">
<li><a href="#countLeadingZeroBits,SomeInteger">countLeadingZeroBits proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert countTrailingZeroBits(0b0000_0001'u8) == 0
doAssert countTrailingZeroBits(0b0000_0010'u8) == 1
doAssert countTrailingZeroBits(0b0000_0100'u8) == 2
doAssert countTrailingZeroBits(0b0000_1000'u8) == 3
doAssert countTrailingZeroBits(0b0000_1111'u8) == 0</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L702" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L702" target="_blank">Edit</a> </dd>  <dt><pre id="rotateLeftBits%2Cuint8%2Crange%5B%5D" data-language="nim">proc rotateLeftBits(value: uint8; amount: range[0 .. 8]): uint8 {...}{.inline,
    noSideEffect, raises: [], tags: [].}</pre></dt> <dd> Left-rotate bits in a 8-bits value. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert rotateLeftBits(0b0000_0001'u8, 1) == 0b0000_0010'u8
doAssert rotateLeftBits(0b0000_0001'u8, 2) == 0b0000_0100'u8
doAssert rotateLeftBits(0b0100_0001'u8, 1) == 0b1000_0010'u8
doAssert rotateLeftBits(0b0100_0001'u8, 2) == 0b0000_0101'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L731" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L731" target="_blank">Edit</a> </dd>  <dt><pre id="rotateLeftBits%2Cuint16%2Crange%5B%5D" data-language="nim">proc rotateLeftBits(value: uint16; amount: range[0 .. 16]): uint16 {...}{.inline,
    noSideEffect, raises: [], tags: [].}</pre></dt> <dd> <p>Left-rotate bits in a 16-bits value.</p> <p>See also:</p> <ul class="simple">
<li><a href="#rotateLeftBits,uint8,range%5B%5D">rotateLeftBits proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L747" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L747" target="_blank">Edit</a> </dd>  <dt><pre id="rotateLeftBits%2Cuint32%2Crange%5B%5D" data-language="nim">proc rotateLeftBits(value: uint32; amount: range[0 .. 32]): uint32 {...}{.inline,
    noSideEffect, raises: [], tags: [].}</pre></dt> <dd> <p>Left-rotate bits in a 32-bits value.</p> <p>See also:</p> <ul class="simple">
<li><a href="#rotateLeftBits,uint8,range%5B%5D">rotateLeftBits proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L756" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L756" target="_blank">Edit</a> </dd>  <dt><pre id="rotateLeftBits%2Cuint64%2Crange%5B%5D" data-language="nim">proc rotateLeftBits(value: uint64; amount: range[0 .. 64]): uint64 {...}{.inline,
    noSideEffect, raises: [], tags: [].}</pre></dt> <dd> <p>Left-rotate bits in a 64-bits value.</p> <p>See also:</p> <ul class="simple">
<li><a href="#rotateLeftBits,uint8,range%5B%5D">rotateLeftBits proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L765" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L765" target="_blank">Edit</a> </dd>  <dt><pre id="rotateRightBits%2Cuint8%2Crange%5B%5D" data-language="nim">proc rotateRightBits(value: uint8; amount: range[0 .. 8]): uint8 {...}{.inline,
    noSideEffect, raises: [], tags: [].}</pre></dt> <dd> Right-rotate bits in a 8-bits value. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert rotateRightBits(0b0000_0001'u8, 1) == 0b1000_0000'u8
doAssert rotateRightBits(0b0000_0001'u8, 2) == 0b0100_0000'u8
doAssert rotateRightBits(0b0100_0001'u8, 1) == 0b1010_0000'u8
doAssert rotateRightBits(0b0100_0001'u8, 2) == 0b0101_0000'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L775" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L775" target="_blank">Edit</a> </dd>  <dt><pre id="rotateRightBits%2Cuint16%2Crange%5B%5D" data-language="nim">proc rotateRightBits(value: uint16; amount: range[0 .. 16]): uint16 {...}{.inline,
    noSideEffect, raises: [], tags: [].}</pre></dt> <dd> <p>Right-rotate bits in a 16-bits value.</p> <p>See also:</p> <ul class="simple">
<li><a href="#rotateRightBits,uint8,range%5B%5D">rotateRightBits proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L787" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L787" target="_blank">Edit</a> </dd>  <dt><pre id="rotateRightBits%2Cuint32%2Crange%5B%5D" data-language="nim">proc rotateRightBits(value: uint32; amount: range[0 .. 32]): uint32 {...}{.inline,
    noSideEffect, raises: [], tags: [].}</pre></dt> <dd> <p>Right-rotate bits in a 32-bits value.</p> <p>See also:</p> <ul class="simple">
<li><a href="#rotateRightBits,uint8,range%5B%5D">rotateRightBits proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L796" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L796" target="_blank">Edit</a> </dd>  <dt><pre id="rotateRightBits%2Cuint64%2Crange%5B%5D" data-language="nim">proc rotateRightBits(value: uint64; amount: range[0 .. 64]): uint64 {...}{.inline,
    noSideEffect, raises: [], tags: [].}</pre></dt> <dd> <p>Right-rotate bits in a 64-bits value.</p> <p>See also:</p> <ul class="simple">
<li><a href="#rotateRightBits,uint8,range%5B%5D">rotateRightBits proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L805" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L805" target="_blank">Edit</a> </dd>  <dt><pre id="reverseBits%2CT" data-language="nim">proc reverseBits[T: SomeUnsignedInt](x: T): T {...}{.noSideEffect.}</pre></dt> <dd> Return the bit reversal of x. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert reverseBits(0b10100100'u8) == 0b00100101'u8
doAssert reverseBits(0xdd'u8) == 0xbb'u8
doAssert reverseBits(0xddbb'u16) == 0xddbb'u16
doAssert reverseBits(0xdeadbeef'u32) == 0xf77db57b'u32</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L822" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L822" target="_blank">Edit</a> </dd> </dl>  <h2 id="13">Funcs</h2> <dl>  <dt><pre id="bitsliced%2CT%2CSlice%5Bint%5D" data-language="nim">func bitsliced[T: SomeInteger](v: T; slice: Slice[int]): T {...}{.inline.}</pre></dt> <dd> Returns an extracted (and shifted) slice of bits from <code>v</code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert 0b10111.bitsliced(2 .. 4) == 0b101
doAssert 0b11100.bitsliced(0 .. 2) == 0b100
doAssert 0b11100.bitsliced(0 ..&lt; 3) == 0b100</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L91" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L91" target="_blank">Edit</a> </dd>  <dt><pre id="toMask%2CSlice%5Bint%5D" data-language="nim">func toMask[T: SomeInteger](slice: Slice[int]): T {...}{.inline.}</pre></dt> <dd> Creates a bitmask based on a slice of bits. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert toMask[int32](1 .. 3) == 0b1110'i32
doAssert toMask[int32](0 .. 3) == 0b1111'i32</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L115" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L115" target="_blank">Edit</a> </dd>  <dt><pre id="masked%2CT%2CSlice%5Bint%5D" data-language="nim">func masked[T: SomeInteger](v: T; slice: Slice[int]): T {...}{.inline.}</pre></dt> <dd> <p>Mutates <code>v</code>, with only the <code>1</code> bits in the range of <code>slice</code> matching those of <code>v</code> set to 1.</p> <p>Effectively maps to a <code>bitand</code> operation.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_1011'u8
doAssert v.masked(1 .. 3) == 0b0000_1010'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L140" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L140" target="_blank">Edit</a> </dd>  <dt><pre id="setMasked%2CT%2CT" data-language="nim">func setMasked[T: SomeInteger](v, mask: T): T {...}{.inline.}</pre></dt> <dd> <p>Returns <code>v</code>, with all the <code>1</code> bits from <code>mask</code> set to 1.</p> <p>Effectively maps to a <code>bitor</code> operation.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
doAssert v.setMasked(0b0000_1010'u8) == 0b0000_1011'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L175" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L175" target="_blank">Edit</a> </dd>  <dt><pre id="setMasked%2CT%2CSlice%5Bint%5D" data-language="nim">func setMasked[T: SomeInteger](v: T; slice: Slice[int]): T {...}{.inline.}</pre></dt> <dd> <p>Returns <code>v</code>, with all the <code>1</code> bits in the range of <code>slice</code> set to 1.</p> <p>Effectively maps to a <code>bitor</code> operation.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
doAssert v.setMasked(2 .. 3) == 0b0000_1111'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L185" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L185" target="_blank">Edit</a> </dd>  <dt><pre id="clearMasked%2CT%2CT" data-language="nim">func clearMasked[T: SomeInteger](v, mask: T): T {...}{.inline.}</pre></dt> <dd> <p>Returns <code>v</code>, with all the <code>1</code> bits from <code>mask</code> set to 0.</p> <p>Effectively maps to a <code>bitand</code> operation with an <em>inverted mask.</em></p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
doAssert v.clearMasked(0b0000_1010'u8) == 0b0000_0001'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L217" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L217" target="_blank">Edit</a> </dd>  <dt><pre id="clearMasked%2CT%2CSlice%5Bint%5D" data-language="nim">func clearMasked[T: SomeInteger](v: T; slice: Slice[int]): T {...}{.inline.}</pre></dt> <dd> <p>Returns <code>v</code>, with all the <code>1</code> bits in the range of <code>slice</code> set to 0.</p> <p>Effectively maps to a <code>bitand</code> operation with an <em>inverted mask.</em></p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
doAssert v.clearMasked(1 .. 3) == 0b0000_0001'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L227" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L227" target="_blank">Edit</a> </dd>  <dt><pre id="flipMasked%2CT%2CT" data-language="nim">func flipMasked[T: SomeInteger](v, mask: T): T {...}{.inline.}</pre></dt> <dd> <p>Returns <code>v</code>, with all the <code>1</code> bits from <code>mask</code> flipped.</p> <p>Effectively maps to a <code>bitxor</code> operation.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
doAssert v.flipMasked(0b0000_1010'u8) == 0b0000_1001'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L259" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L259" target="_blank">Edit</a> </dd>  <dt><pre id="flipMasked%2CT%2CSlice%5Bint%5D" data-language="nim">func flipMasked[T: SomeInteger](v: T; slice: Slice[int]): T {...}{.inline.}</pre></dt> <dd> <p>Returns <code>v</code>, with all the <code>1</code> bits in the range of <code>slice</code> flipped.</p> <p>Effectively maps to a <code>bitxor</code> operation.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
doAssert v.flipMasked(1 .. 3) == 0b0000_1101'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L269" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L269" target="_blank">Edit</a> </dd> </dl>  <h2 id="17">Macros</h2> <dl>  <dt><pre id="bitand.m%2CT%2CT%2Cvarargs%5BT%5D" data-language="nim">macro bitand[T: SomeInteger](x, y: T; z: varargs[T]): T</pre></dt> <dd> Computes the <code>bitwise and</code> of all arguments collectively. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L40" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L40" target="_blank">Edit</a> </dd>  <dt><pre id="bitor.m%2CT%2CT%2Cvarargs%5BT%5D" data-language="nim">macro bitor[T: SomeInteger](x, y: T; z: varargs[T]): T</pre></dt> <dd> Computes the <code>bitwise or</code> of all arguments collectively. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L47" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L47" target="_blank">Edit</a> </dd>  <dt><pre id="bitxor.m%2CT%2CT%2Cvarargs%5BT%5D" data-language="nim">macro bitxor[T: SomeInteger](x, y: T; z: varargs[T]): T</pre></dt> <dd> Computes the <code>bitwise xor</code> of all arguments collectively. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L54" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L54" target="_blank">Edit</a> </dd>  <dt><pre id="setBits.m%2Ctyped%2Cvarargs%5Btyped%5D" data-language="nim">macro setBits(v: typed; bits: varargs[typed]): untyped</pre></dt> <dd> Mutates <code>v</code>, with the bits at positions <code>bits</code> set to 1 <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_0011'u8
v.setBits(3, 5, 7)
doAssert v == 0b1010_1011'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L332" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L332" target="_blank">Edit</a> </dd>  <dt><pre id="clearBits.m%2Ctyped%2Cvarargs%5Btyped%5D" data-language="nim">macro clearBits(v: typed; bits: varargs[typed]): untyped</pre></dt> <dd> Mutates <code>v</code>, with the bits at positions <code>bits</code> set to 0 <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b1111_1111'u8
v.clearBits(1, 3, 5, 7)
doAssert v == 0b0101_0101'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L344" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L344" target="_blank">Edit</a> </dd>  <dt><pre id="flipBits.m%2Ctyped%2Cvarargs%5Btyped%5D" data-language="nim">macro flipBits(v: typed; bits: varargs[typed]): untyped</pre></dt> <dd> Mutates <code>v</code>, with the bits at positions <code>bits</code> set to 0 <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var v = 0b0000_1111'u8
v.flipBits(1, 3, 5, 7)
doAssert v == 0b1010_0101'u8</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/bitops.nim#L356" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/bitops.nim#L356" target="_blank">Edit</a> </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2021 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/bitops.html" class="_attribution-link">https://nim-lang.org/docs/bitops.html</a>
  </p>
</div>
