<h1 class="title">rationals</h1>  <p class="module-desc">This module implements rational numbers, consisting of a numerator <code>num</code> and a denominator <code>den</code>, both of type int. The denominator can not be 0.</p>  <h2 id="6">Imports</h2> <dl> <a href="math.html">math</a>, <a href="hashes.html">hashes</a> </dl>  <h2 id="7">Types</h2> <dl>  <dt><pre id="Rational" data-language="nim">Rational[T] = object
  num*, den*: T</pre></dt> <dd> a rational number, consisting of a numerator and denominator <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L17" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L17" target="_blank">Edit</a> </dd> </dl>  <h2 id="12">Procs</h2> <dl>  <dt><pre id="initRational%2CT%2CT" data-language="nim">proc initRational[T: SomeInteger](num, den: T): Rational[T]</pre></dt> <dd> Create a new rational number. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L21" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L21" target="_blank">Edit</a> </dd>  <dt><pre id="%2F%2F%2CT%2CT" data-language="nim">proc `//`[T](num, den: T): Rational[T]</pre></dt> <dd> A friendlier version of <code>initRational</code>. Example usage:<pre class="listing" data-language="nim">var x = 1//3 + 1//5</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L27" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L27" target="_blank">Edit</a> </dd>  <dt><pre id="%24%2CRational%5BT%5D" data-language="nim">proc `$`[T](x: Rational[T]): string</pre></dt> <dd> Turn a rational number into a string. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L33" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L33" target="_blank">Edit</a> </dd>  <dt><pre id="toRational%2CT" data-language="nim">proc toRational[T: SomeInteger](x: T): Rational[T]</pre></dt> <dd> Convert some integer <code>x</code> to a rational number. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L37" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L37" target="_blank">Edit</a> </dd>  <dt><pre id="toRational%2Cfloat%2Cint" data-language="nim">proc toRational(x: float; n: int = high(int) shr 32): Rational[int] {...}{.
    raises: [], tags: [].}</pre></dt> <dd> <p>Calculates the best rational numerator and denominator that approximates to <code>x</code>, where the denominator is smaller than <code>n</code> (default is the largest possible int to give maximum resolution).</p> <p>The algorithm is based on the theory of continued fractions.</p> <pre class="listing" data-language="nim">import math, rationals
for i in 1..10:
  let t = (10 ^ (i+3)).int
  let x = toRational(PI, t)
  let newPI = x.num / x.den
  echo x, " ", newPI, " error: ", PI - newPI, "  ", t</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L42" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L42" target="_blank">Edit</a> </dd>  <dt><pre id="toFloat%2CRational%5BT%5D" data-language="nim">proc toFloat[T](x: Rational[T]): float</pre></dt> <dd> Convert a rational number <code>x</code> to a float. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L77" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L77" target="_blank">Edit</a> </dd>  <dt><pre id="toInt%2CRational%5BT%5D" data-language="nim">proc toInt[T](x: Rational[T]): int</pre></dt> <dd> Convert a rational number <code>x</code> to an int. Conversion rounds towards 0 if <code>x</code> does not contain an integer value. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L81" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L81" target="_blank">Edit</a> </dd>  <dt><pre id="reduce%2CRational%5BT%3A+SomeInteger%5D" data-language="nim">proc reduce[T: SomeInteger](x: var Rational[T])</pre></dt> <dd> Reduce rational <code>x</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L86" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L86" target="_blank">Edit</a> </dd>  <dt><pre id="%2B%2CRational%5BT%5D%2CRational%5BT%5D" data-language="nim">proc `+`[T](x, y: Rational[T]): Rational[T]</pre></dt> <dd> Add two rational numbers. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L98" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L98" target="_blank">Edit</a> </dd>  <dt><pre id="%2B%2CRational%5BT%5D%2CT" data-language="nim">proc `+`[T](x: Rational[T]; y: T): Rational[T]</pre></dt> <dd> Add rational <code>x</code> to int <code>y</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L105" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L105" target="_blank">Edit</a> </dd>  <dt><pre id="%2B%2CT%2CRational%5BT%5D" data-language="nim">proc `+`[T](x: T; y: Rational[T]): Rational[T]</pre></dt> <dd> Add int <code>x</code> to rational <code>y</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L110" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L110" target="_blank">Edit</a> </dd>  <dt><pre id="%2B%3D%2CRational%5BT%5D%2CRational%5BT%5D" data-language="nim">proc `+=`[T](x: var Rational[T]; y: Rational[T])</pre></dt> <dd> Add rational <code>y</code> to rational <code>x</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L115" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L115" target="_blank">Edit</a> </dd>  <dt><pre id="%2B%3D%2CRational%5BT%5D%2CT" data-language="nim">proc `+=`[T](x: var Rational[T]; y: T)</pre></dt> <dd> Add int <code>y</code> to rational <code>x</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L122" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L122" target="_blank">Edit</a> </dd>  <dt><pre id="-%2CRational%5BT%5D" data-language="nim">proc `-`[T](x: Rational[T]): Rational[T]</pre></dt> <dd> Unary minus for rational numbers. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L126" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L126" target="_blank">Edit</a> </dd>  <dt><pre id="-%2CRational%5BT%5D%2CRational%5BT%5D" data-language="nim">proc `-`[T](x, y: Rational[T]): Rational[T]</pre></dt> <dd> Subtract two rational numbers. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L131" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L131" target="_blank">Edit</a> </dd>  <dt><pre id="-%2CRational%5BT%5D%2CT" data-language="nim">proc `-`[T](x: Rational[T]; y: T): Rational[T]</pre></dt> <dd> Subtract int <code>y</code> from rational <code>x</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L138" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L138" target="_blank">Edit</a> </dd>  <dt><pre id="-%2CT%2CRational%5BT%5D" data-language="nim">proc `-`[T](x: T; y: Rational[T]): Rational[T]</pre></dt> <dd> Subtract rational <code>y</code> from int <code>x</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L143" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L143" target="_blank">Edit</a> </dd>  <dt><pre id="-%3D%2CRational%5BT%5D%2CRational%5BT%5D" data-language="nim">proc `-=`[T](x: var Rational[T]; y: Rational[T])</pre></dt> <dd> Subtract rational <code>y</code> from rational <code>x</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L148" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L148" target="_blank">Edit</a> </dd>  <dt><pre id="-%3D%2CRational%5BT%5D%2CT" data-language="nim">proc `-=`[T](x: var Rational[T]; y: T)</pre></dt> <dd> Subtract int <code>y</code> from rational <code>x</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L155" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L155" target="_blank">Edit</a> </dd>  <dt><pre id="%2A%2CRational%5BT%5D%2CRational%5BT%5D" data-language="nim">proc `*`[T](x, y: Rational[T]): Rational[T]</pre></dt> <dd> Multiply two rational numbers. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L159" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L159" target="_blank">Edit</a> </dd>  <dt><pre id="%2A%2CRational%5BT%5D%2CT" data-language="nim">proc `*`[T](x: Rational[T]; y: T): Rational[T]</pre></dt> <dd> Multiply rational <code>x</code> with int <code>y</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L165" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L165" target="_blank">Edit</a> </dd>  <dt><pre id="%2A%2CT%2CRational%5BT%5D" data-language="nim">proc `*`[T](x: T; y: Rational[T]): Rational[T]</pre></dt> <dd> Multiply int <code>x</code> with rational <code>y</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L171" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L171" target="_blank">Edit</a> </dd>  <dt><pre id="%2A%3D%2CRational%5BT%5D%2CRational%5BT%5D" data-language="nim">proc `*=`[T](x: var Rational[T]; y: Rational[T])</pre></dt> <dd> Multiply rationals <code>y</code> to <code>x</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L177" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L177" target="_blank">Edit</a> </dd>  <dt><pre id="%2A%3D%2CRational%5BT%5D%2CT" data-language="nim">proc `*=`[T](x: var Rational[T]; y: T)</pre></dt> <dd> Multiply int <code>y</code> to rational <code>x</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L183" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L183" target="_blank">Edit</a> </dd>  <dt><pre id="reciprocal%2CRational%5BT%5D" data-language="nim">proc reciprocal[T](x: Rational[T]): Rational[T]</pre></dt> <dd> Calculate the reciprocal of <code>x</code>. (1/x) <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L188" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L188" target="_blank">Edit</a> </dd>  <dt><pre id="%2F%2CRational%5BT%5D%2CRational%5BT%5D" data-language="nim">proc `/`[T](x, y: Rational[T]): Rational[T]</pre></dt> <dd> Divide rationals <code>x</code> by <code>y</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L199" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L199" target="_blank">Edit</a> </dd>  <dt><pre id="%2F%2CRational%5BT%5D%2CT" data-language="nim">proc `/`[T](x: Rational[T]; y: T): Rational[T]</pre></dt> <dd> Divide rational <code>x</code> by int <code>y</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L205" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L205" target="_blank">Edit</a> </dd>  <dt><pre id="%2F%2CT%2CRational%5BT%5D" data-language="nim">proc `/`[T](x: T; y: Rational[T]): Rational[T]</pre></dt> <dd> Divide int <code>x</code> by Rational <code>y</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L211" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L211" target="_blank">Edit</a> </dd>  <dt><pre id="%2F%3D%2CRational%5BT%5D%2CRational%5BT%5D" data-language="nim">proc `/=`[T](x: var Rational[T]; y: Rational[T])</pre></dt> <dd> Divide rationals <code>x</code> by <code>y</code> in place. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L217" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L217" target="_blank">Edit</a> </dd>  <dt><pre id="%2F%3D%2CRational%5BT%5D%2CT" data-language="nim">proc `/=`[T](x: var Rational[T]; y: T)</pre></dt> <dd> Divide rational <code>x</code> by int <code>y</code> in place. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L223" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L223" target="_blank">Edit</a> </dd>  <dt><pre id="cmp%2CRational%2CRational" data-language="nim">proc cmp(x, y: Rational): int</pre></dt> <dd> Compares two rationals. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L228" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L228" target="_blank">Edit</a> </dd>  <dt><pre id="%3C%2CRational%2CRational" data-language="nim">proc `&lt;`(x, y: Rational): bool</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L232" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L232" target="_blank">Edit</a> </dd>  <dt><pre id="%3C%3D%2CRational%2CRational" data-language="nim">proc `&lt;=`(x, y: Rational): bool</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L235" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L235" target="_blank">Edit</a> </dd>  <dt><pre id="%3D%3D%2CRational%2CRational" data-language="nim">proc `==`(x, y: Rational): bool</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L238" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L238" target="_blank">Edit</a> </dd>  <dt><pre id="abs%2CRational%5BT%5D" data-language="nim">proc abs[T](x: Rational[T]): Rational[T]</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L241" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L241" target="_blank">Edit</a> </dd>  <dt><pre id="div%2CRational%5BT%3A+SomeInteger%5D%2CRational%5BT%3A+SomeInteger%5D" data-language="nim">proc `div`[T: SomeInteger](x, y: Rational[T]): T</pre></dt> <dd> Computes the rational truncated division. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L245" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L245" target="_blank">Edit</a> </dd>  <dt><pre id="mod%2CRational%5BT%3A+SomeInteger%5D%2CRational%5BT%3A+SomeInteger%5D" data-language="nim">proc `mod`[T: SomeInteger](x, y: Rational[T]): Rational[T]</pre></dt> <dd> Computes the rational modulo by truncated division (remainder). This is same as <code>x - (x div y) * y</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L249" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L249" target="_blank">Edit</a> </dd>  <dt><pre id="floorDiv%2CRational%5BT%3A+SomeInteger%5D%2CRational%5BT%3A+SomeInteger%5D" data-language="nim">proc floorDiv[T: SomeInteger](x, y: Rational[T]): T</pre></dt> <dd> <p>Computes the rational floor division.</p> <p>Floor division is conceptually defined as <code>floor(x / y)</code>. This is different from the <code>div</code> operator, which is defined as <code>trunc(x / y)</code>. That is, <code>div</code> rounds towards <code>0</code> and <code>floorDiv</code> rounds down.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L255" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L255" target="_blank">Edit</a> </dd>  <dt><pre id="floorMod%2CRational%5BT%3A+SomeInteger%5D%2CRational%5BT%3A+SomeInteger%5D" data-language="nim">proc floorMod[T: SomeInteger](x, y: Rational[T]): Rational[T]</pre></dt> <dd> <p>Computes the rational modulo by floor division (modulo).</p> <p>This is same as <code>x - floorDiv(x, y) * y</code>. This proc behaves the same as the <code>%</code> operator in python.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L264" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L264" target="_blank">Edit</a> </dd>  <dt><pre id="hash%2CRational%5BT%5D" data-language="nim">proc hash[T](x: Rational[T]): Hash</pre></dt> <dd> Computes hash for rational <code>x</code> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/rationals.nim#L272" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/rationals.nim#L272" target="_blank">Edit</a> </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2021 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/rationals.html" class="_attribution-link">https://nim-lang.org/docs/rationals.html</a>
  </p>
</div>
