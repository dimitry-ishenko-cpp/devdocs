<h1 class="title">src/checksums/sha2</h1>  
<p><a href="https://en.wikipedia.org/wiki/SHA-2">SHA-2 (Secure Hash Algorithm 2)</a> is a cryptographic hash function which takes an input and produces a value known as a message digest.</p> <p>It provides fixed size algorithms that generate a one-shot message digest of a determinate size.</p> <h2 id="implemented-algorithms">Implemented Algorithms</h2>
<p>Fixed size functions:</p> <ul class="simple">
<li>SHA-224</li> <li>SHA-256</li> <li>SHA-384</li> <li>SHA-512</li> </ul> <p>For convenience, this module provides output-length type checked functions for the implemented fixed size functions via <code><span class="Identifier">initSha_224</span></code>, <code><span class="Identifier">initSha_256</span></code>, <code><span class="Identifier">initSha_384</span></code> and <code><span class="Identifier">initSha_512</span></code>. These functions provide a <code><span class="Identifier">digest</span></code> overload returning a correctly sized message digest array.</p> <p>If more relaxed types are required, an "unchecked" <code><span class="Identifier">Sha2State</span></code> can be used, but care must be taken to provide <code><span class="Identifier">digest</span></code> with a correctly sized <code><span class="Identifier">dest</span></code> array. </p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import src/checksums/sha2
var hasher = initSha_256()

hasher.update("The quick brown fox ")
hasher.update("jumps over the lazy dog")

let digest = hasher.digest()

assert $digest == "d7a8fbb307d7809469ca9abcb0082e4f8d5651e46d3cdb762d02d0bf37c9e592"</pre> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import src/checksums/sha2
var hasher = initSha_384()

hasher.update("The quick brown fox ")
hasher.update("jumps over the lazy dog")

let digest = hasher.digest()

assert $digest == "ca737f1014a48f4c0b6dd43cb177b0afd9e5169367544c494011e3317dbf9a509cb1e5dc1e85a941bbee3d7f2afbc9b1"</pre>  <h2 id="6">Imports</h2> <dl> <a href="sha_utils.html">sha_utils</a> </dl>   <h2 id="7">Types</h2> <dl> <div id="ShaDigest_224"> <dt><pre data-language="nim">ShaDigest_224 = array[28, char]</pre></dt> <dd> SHA-224 output digest. </dd> </div> <div id="ShaDigest_256"> <dt><pre data-language="nim">ShaDigest_256 = array[32, char]</pre></dt> <dd> SHA-256 output digest. </dd> </div> <div id="ShaDigest_384"> <dt><pre data-language="nim">ShaDigest_384 = array[48, char]</pre></dt> <dd> SHA-384 output digest. </dd> </div> <div id="ShaDigest_512"> <dt><pre data-language="nim">ShaDigest_512 = array[64, char]</pre></dt> <dd> SHA-512 output digest. </dd> </div> <div id="ShaInstance"> <dt><pre data-language="nim">ShaInstance = enum
  Sha_224,                  ## SHA-224 with an output size of 28 bytes (truncated from SHA-256)
  Sha_256,                  ## SHA-256 with an output size of 32 bytes
  Sha_384,                  ## SHA-384 with an output size of 48 bytes (truncated from SHA-512)
  Sha_512                    ## SHA-512 with an output size of 64 bytes</pre></dt> <dd> Selects a specific SHA instance with well known message digest lengths and properties. </dd> </div> <div id="ShaState"> <dt><pre>ShaState = distinct ShaContext</pre></dt> <dd> <p>An unchecked SHA state created from a specific <code><span class="Identifier">ShaInstance</span></code>.</p> <p>Unchecked meaning the user has to make sure that the target buffer has enough room to store the resulting digest, otherwise <code><span class="Identifier">digest</span></code> will truncate the output.</p> </dd> </div> <div id="ShaStateStatic"> <dt><pre data-language="nim">ShaStateStatic[instance] = distinct ShaState</pre></dt> <dd> A statically checked SHA state created from a specific <code><span class="Identifier">ShaInstance</span></code>. </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="digest-procs-all"> <div id="digest,ShaState,openArray[char]"> <dt><pre data-language="nim">proc digest(state: var ShaState; dest: var openArray[char]): int {....raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> <p>Finishes, stores the completed message digest in <code><span class="Identifier">dest</span></code> and returns the number of bytes written in <code><span class="Identifier">dest</span></code>.</p> <p>If <code><span class="Identifier">dest</span></code> is not big enough to contain the digest produced by the selected instance, everything that would overflow is truncated.</p> </dd> </div> <div id="digest,ShaStateStatic[ShaInstance]"> <dt><pre data-language="nim">proc digest(state: var ShaStateStatic[Sha_224]): ShaDigest_224 {....raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> Finishes and returns the completed SHA-224 message digest. </dd> </div> <div id="digest,ShaStateStatic[ShaInstance]_2"> <dt><pre data-language="nim">proc digest(state: var ShaStateStatic[Sha_256]): ShaDigest_256 {....raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> Finishes and returns the completed SHA-256 message digest. </dd> </div> <div id="digest,ShaStateStatic[ShaInstance]_3"> <dt><pre data-language="nim">proc digest(state: var ShaStateStatic[Sha_384]): ShaDigest_384 {....raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> Finishes and returns the completed SHA-284 message digest. </dd> </div> <div id="digest,ShaStateStatic[ShaInstance]_4"> <dt><pre data-language="nim">proc digest(state: var ShaStateStatic[Sha_512]): ShaDigest_512 {....raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> Finishes and returns the completed SHA-512 message digest. </dd> </div> </div> <div id="digestLength-procs-all"> <div id="digestLength,ShaInstance"> <dt><pre data-language="nim">func digestLength(instance: ShaInstance): int {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Returns the message digest size for the selected SHA instance. </dd> </div> </div> <div id="initSha-procs-all"> <div id="initSha,ShaInstance"> <dt><pre data-language="nim">func initSha(instance: ShaInstance): ShaState {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Constructs a new unchecked SHA state for the selected instance <code><span class="Identifier">instance</span></code>. </dd> </div> </div> <div id="initSha_224-procs-all"> <div id="initSha_224"> <dt><pre data-language="nim">func initSha_224(): ShaStateStatic[Sha_224] {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Constructs a new statically checked state for the SHA-224 instance. </dd> </div> </div> <div id="initSha_256-procs-all"> <div id="initSha_256"> <dt><pre data-language="nim">func initSha_256(): ShaStateStatic[Sha_256] {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Constructs a new statically checked state for the SHA-256 instance. </dd> </div> </div> <div id="initSha_384-procs-all"> <div id="initSha_384"> <dt><pre data-language="nim">func initSha_384(): ShaStateStatic[Sha_384] {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Constructs a new statically checked state for the SHA-384 instance. </dd> </div> </div> <div id="initSha_512-procs-all"> <div id="initSha_512"> <dt><pre data-language="nim">func initSha_512(): ShaStateStatic[Sha_512] {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Constructs a new statically checked state for the SHA-512 instance. </dd> </div> </div> <div id="initShaStateStatic-procs-all"> <div id="initShaStateStatic,staticShaInstance"> <dt><pre data-language="nim">func initShaStateStatic(instance: static ShaInstance): ShaStateStatic[instance]</pre></dt> <dd> Constructs a new statically checked SHA state for the selected instance <code><span class="Identifier">instance</span></code>. </dd> </div> </div> <div id="secureHash-procs-all"> <div id="secureHash,ShaInstance,openArray[char]"> <dt><pre data-language="nim">proc secureHash(instance: ShaInstance; data: openArray[char]): seq[char] {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> Convenience wrapper around the standard "init, update, digest" sequence with a runtime selected SHA instance. </dd> </div> <div id="secureHash,staticShaInstance,openArray[char]"> <dt><pre data-language="nim">proc secureHash(instance: static ShaInstance; data: openArray[char]): auto</pre></dt> <dd> Convenience wrapper around the standard "init, update, digest" sequence with a statically selected SHA instance. </dd> </div> </div> <div id="update-procs-all"> <div id="update,ShaState,openArray[char]"> <dt><pre data-language="nim">proc update(state: var ShaState; data: openArray[char]) {.borrow, ...raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> Updates the given <code><span class="Identifier">ShaState</span></code> with the provided buffer <code><span class="Identifier">data</span></code>. </dd> </div> <div id="update,ShaStateStatic[instance],openArray[char]"> <dt><pre data-language="nim">proc update[instance: static ShaInstance](state: var ShaStateStatic[instance];
    data: openArray[char])</pre></dt> <dd> Updates the given <code><span class="Identifier">ShaStateStatic</span></code> with the provided buffer <code><span class="Identifier">data</span></code>. </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/sha2.html" class="_attribution-link">https://nim-lang.org/docs/sha2.html</a>
  </p>
</div>
