<h1 class="title">os</h1>  <p class="module-desc">This module contains basic operating system facilities like retrieving environment variables, reading command line arguments, working with directories, running shell commands, etc.</p>
<pre class="listing" data-language="nim">import os

let myFile = "/path/to/my/file.nim"

let pathSplit = splitPath(myFile)
assert pathSplit.head == "/path/to/my"
assert pathSplit.tail == "file.nim"

assert parentDir(myFile) == "/path/to/my"

let fileSplit = splitFile(myFile)
assert fileSplit.dir == "/path/to/my"
assert fileSplit.name == "file"
assert fileSplit.ext == ".nim"

assert myFile.changeFileExt("c") == "/path/to/my/file.c"</pre>
<blockquote>
<p><strong>See also:</strong></p>
<ul class="simple">
<li>
<a href="osproc.html">osproc module</a> for process communication beyond <a href="#execShellCmd,string">execShellCmd proc</a>
</li> <li>
<a href="parseopt.html">parseopt module</a> for command-line parser beyond <a href="#parseCmdLine,string">parseCmdLine proc</a>
</li> <li><a href="uri.html">uri module</a></li> <li><a href="distros.html">distros module</a></li> <li><a href="dynlib.html">dynlib module</a></li> <li><a href="streams.html">streams module</a></li> </ul> </blockquote>  <h2 id="6">Imports</h2> <dl> <a href="since.html">since</a>, <a href="strutils.html">strutils</a>, <a href="pathnorm.html">pathnorm</a>, <a href="posix.html">posix</a>, <a href="times.html">times</a> </dl>  <h2 id="7">Types</h2> <dl>  <dt><pre id="ReadEnvEffect">ReadEnvEffect = object of ReadIOEffect</pre></dt> <dd> Effect that denotes a read from an environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L94" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L94" target="_blank">Edit</a> </dd>  <dt><pre id="WriteEnvEffect">WriteEnvEffect = object of WriteIOEffect</pre></dt> <dd> Effect that denotes a write to an environment variable. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L96" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L96" target="_blank">Edit</a> </dd>  <dt><pre id="ReadDirEffect">ReadDirEffect = object of ReadIOEffect</pre></dt> <dd> Effect that denotes a read operation from the directory structure. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L99" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L99" target="_blank">Edit</a> </dd>  <dt><pre id="WriteDirEffect">WriteDirEffect = object of WriteIOEffect</pre></dt> <dd> Effect that denotes a write operation to the directory structure. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L102" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L102" target="_blank">Edit</a> </dd>  <dt><pre id="OSErrorCode">OSErrorCode = distinct int32</pre></dt> <dd> Specifies an OS Error Code. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L106" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L106" target="_blank">Edit</a> </dd>  <dt><pre id="FilePermission" data-language="nim">FilePermission = enum
  fpUserExec,               ## execute access for the file owner
  fpUserWrite,              ## write access for the file owner
  fpUserRead,               ## read access for the file owner
  fpGroupExec,              ## execute access for the group
  fpGroupWrite,             ## write access for the group
  fpGroupRead,              ## read access for the group
  fpOthersExec,             ## execute access for others
  fpOthersWrite,            ## write access for others
  fpOthersRead               ## read access for others</pre></dt> <dd> <p>File access permission, modelled after UNIX.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getFilePermissions,string">getFilePermissions</a></li> <li><a href="#setFilePermissions,string,set%5BFilePermission%5D">setFilePermissions</a></li> <li><a href="#FileInfo">FileInfo object</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1590" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1590" target="_blank">Edit</a> </dd>  <dt><pre id="PathComponent" data-language="nim">PathComponent = enum
  pcFile,                   ## path refers to a file
  pcLinkToFile,             ## path refers to a symbolic link to a file
  pcDir,                    ## path refers to a directory
  pcLinkToDir                ## path refers to a symbolic link to a directory</pre></dt> <dd> <p>Enumeration specifying a path component.</p> <p>See also:</p> <ul class="simple">
<li><a href="#walkDirRec.i,string">walkDirRec iterator</a></li> <li><a href="#FileInfo">FileInfo object</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2046" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2046" target="_blank">Edit</a> </dd>  <dt><pre id="DeviceId">DeviceId = Dev</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L3060" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L3060" target="_blank">Edit</a> </dd>  <dt><pre id="FileId">FileId = Ino</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L3061" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L3061" target="_blank">Edit</a> </dd>  <dt><pre id="FileInfo" data-language="nim">FileInfo = object
  id*: tuple[device: DeviceId, file: FileId] ## Device and file id.
  kind*: PathComponent       ## Kind of file object - directory, symlink, etc.
  size*: BiggestInt          ## Size of file.
  permissions*: set[FilePermission] ## File permissions
  linkCount*: BiggestInt     ## Number of hard links the file object has.
  lastAccessTime*: times.Time ## Time file was last accessed.
  lastWriteTime*: times.Time ## Time file was last modified/written to.
  creationTime*: times.Time  ## Time file was created. Not supported on all systems!</pre></dt> <dd> <p>Contains information associated with a file object.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getFileInfo,FileHandle">getFileInfo(handle) proc</a></li> <li><a href="#getFileInfo,File">getFileInfo(file) proc</a></li> <li><a href="#getFileInfo,string">getFileInfo(path) proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L3064" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L3064" target="_blank">Edit</a> </dd> </dl>  <h2 id="10">Consts</h2> <dl>  <dt><pre id="invalidFilenameChars" data-language="nim">invalidFilenameChars = {'/', '\\', ':', '*', '?', '\"', '&lt;', '&gt;', '|', '^',
                        '\x00'}</pre></dt> <dd> Characters that may produce invalid filenames across Linux, Windows, Mac, etc. You can check if your filename contains these char and strip them for safety. Mac bans <code>':'</code>, Linux bans <code>'/'</code>, Windows bans all others. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L54" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L54" target="_blank">Edit</a> </dd>  <dt><pre id="invalidFilenames" data-language="nim">invalidFilenames = ["CON", "PRN", "AUX", "NUL", "COM0", "COM1", "COM2", "COM3",
                    "COM4", "COM5", "COM6", "COM7", "COM8", "COM9", "LPT0",
                    "LPT1", "LPT2", "LPT3", "LPT4", "LPT5", "LPT6", "LPT7",
                    "LPT8", "LPT9"]</pre></dt> <dd> Filenames that may be invalid across Linux, Windows, Mac, etc. You can check if your filename match these and rename it for safety (Currently all invalid filenames are from Windows only). <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L58" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L58" target="_blank">Edit</a> </dd>  <dt><pre id="doslikeFileSystem">doslikeFileSystem = false</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osseps.nim#L7" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osseps.nim#L7" target="_blank">Edit</a> </dd>  <dt><pre id="CurDir" data-language="nim">CurDir = '.'</pre></dt> <dd> <p>The constant character used by the operating system to refer to the current directory.</p> <p>For example: <code>'.'</code> for POSIX or <code>':'</code> for the classic Macintosh.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osseps.nim#L10" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osseps.nim#L10" target="_blank">Edit</a> </dd>  <dt><pre id="ParDir" data-language="nim">ParDir = ".."</pre></dt> <dd> <p>The constant string used by the operating system to refer to the parent directory.</p> <p>For example: <code>".."</code> for POSIX or <code>"::"</code> for the classic Macintosh.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osseps.nim#L19" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osseps.nim#L19" target="_blank">Edit</a> </dd>  <dt><pre id="DirSep" data-language="nim">DirSep = '/'</pre></dt> <dd> The character used by the operating system to separate pathname components, for example: <code>'/'</code> for POSIX, <code>':'</code> for the classic Macintosh, and <code>'\'</code> on Windows. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osseps.nim#L27" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osseps.nim#L27" target="_blank">Edit</a> </dd>  <dt><pre id="AltSep" data-language="nim">AltSep = '/'</pre></dt> <dd> An alternative character used by the operating system to separate pathname components, or the same as <a href="#DirSep">DirSep</a> if only one separator character exists. This is set to <code>'/'</code> on Windows systems where <a href="#DirSep">DirSep</a> is a backslash (<code>'\'</code>). <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osseps.nim#L36" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osseps.nim#L36" target="_blank">Edit</a> </dd>  <dt><pre id="PathSep" data-language="nim">PathSep = ':'</pre></dt> <dd> The character conventionally used by the operating system to separate search patch components (as in PATH), such as <code>':'</code> for POSIX or <code>';'</code> for Windows. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osseps.nim#L44" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osseps.nim#L44" target="_blank">Edit</a> </dd>  <dt><pre id="FileSystemCaseSensitive">FileSystemCaseSensitive = true</pre></dt> <dd> True if the file system is case sensitive, false otherwise. Used by <a href="#cmpPaths,string,string">cmpPaths proc</a> to compare filenames properly. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osseps.nim#L53" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osseps.nim#L53" target="_blank">Edit</a> </dd>  <dt><pre id="ExeExt" data-language="nim">ExeExt = ""</pre></dt> <dd> The file extension of native executables. For example: <code>""</code> for POSIX, <code>"exe"</code> on Windows (without a dot). <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osseps.nim#L60" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osseps.nim#L60" target="_blank">Edit</a> </dd>  <dt><pre id="ScriptExt" data-language="nim">ScriptExt = ""</pre></dt> <dd> The file extension of a script file. For example: <code>""</code> for POSIX, <code>"bat"</code> on Windows. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osseps.nim#L70" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osseps.nim#L70" target="_blank">Edit</a> </dd>  <dt><pre id="DynlibFormat" data-language="nim">DynlibFormat = "lib$1.so"</pre></dt> <dd> The format string to turn a filename into a <span id="dll_1">DLL</span> file (also called <span id="shared-object_1">shared object</span> on some operating systems). <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osseps.nim#L76" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osseps.nim#L76" target="_blank">Edit</a> </dd>  <dt><pre id="ExtSep" data-language="nim">ExtSep = '.'</pre></dt> <dd> The character which separates the base filename from the extension; for example, the <code>'.'</code> in <code>os.nim</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osseps.nim#L89" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osseps.nim#L89" target="_blank">Edit</a> </dd>  <dt><pre id="ExeExts" data-language="nim">ExeExts = [""]</pre></dt> <dd> Platform specific file extension for executables. On Windows <code>["exe", "cmd", "bat"]</code>, on Posix <code>[""]</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1178" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1178" target="_blank">Edit</a> </dd> </dl>  <h2 id="12">Procs</h2> <dl>  <dt><pre id="normalizePathEnd%2Cstring" data-language="nim">proc normalizePathEnd(path: var string; trailingSep = false) {...}{.raises: [],
    tags: [].}</pre></dt> <dd> Ensures <code>path</code> has exactly 0 or 1 trailing <code>DirSep</code>, depending on <code>trailingSep</code>, and taking care of edge cases: it preservers whether a path is absolute or relative, and makes sure trailing sep is <code>DirSep</code>, not <code>AltSep</code>. Trailing <code>/.</code> are compressed, see examples. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L112" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L112" target="_blank">Edit</a> </dd>  <dt><pre id="normalizePathEnd%2Cstring_2" data-language="nim">proc normalizePathEnd(path: string; trailingSep = false): string {...}{.raises: [],
    tags: [].}</pre></dt> <dd> outplace overload <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">when defined(posix):
  assert normalizePathEnd("/lib//.//", trailingSep = true) == "/lib/"
  assert normalizePathEnd("lib/./.", trailingSep = false) == "lib"
  assert normalizePathEnd(".//./.", trailingSep = false) == "."
  assert normalizePathEnd("", trailingSep = true) == "" # not / !
  assert normalizePathEnd("/", trailingSep = false) == "/" # not "" !</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L135" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L135" target="_blank">Edit</a> </dd>  <dt><pre id="joinPath%2Cstring%2Cstring" data-language="nim">proc joinPath(head, tail: string): string {...}{.noSideEffect, gcsafe,
    extern: "nos$1", raises: [], tags: [].}</pre></dt> <dd> <p>Joins two directory names to one.</p> <p>returns normalized path concatenation of <code>head</code> and <code>tail</code>, preserving whether or not <code>tail</code> has a trailing slash (or, if tail if empty, whether head has one).</p> <p>See also:</p> <ul class="simple">
<li><a href="#joinPath,varargs%5Bstring%5D">joinPath(varargs) proc</a></li> <li><a href="#/,string,string">/ proc</a></li> <li><a href="#splitPath,string">splitPath proc</a></li> <li><a href="uri.html#combine,Uri,Uri">uri.combine proc</a></li> <li><a href="uri.html#/,Uri,string">uri./ proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">when defined(posix):
  assert joinPath("usr", "lib") == "usr/lib"
  assert joinPath("usr", "lib/") == "usr/lib/"
  assert joinPath("usr", "") == "usr"
  assert joinPath("usr/", "") == "usr/"
  assert joinPath("", "") == ""
  assert joinPath("", "lib") == "lib"
  assert joinPath("", "/lib") == "/lib"
  assert joinPath("usr/", "/lib") == "usr/lib"
  assert joinPath("usr/lib", "../bin") == "usr/bin"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L159" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L159" target="_blank">Edit</a> </dd>  <dt><pre id="joinPath%2Cvarargs%5Bstring%5D" data-language="nim">proc joinPath(parts: varargs[string]): string {...}{.noSideEffect, gcsafe,
    extern: "nos$1OpenArray", raises: [], tags: [].}</pre></dt> <dd> <p>The same as <a href="#joinPath,string,string">joinPath(head, tail) proc</a>, but works with any number of directory parts.</p> <p>You need to pass at least one element or the proc will assert in debug builds and crash on release builds.</p> <p>See also:</p> <ul class="simple">
<li><a href="#joinPath,string,string">joinPath(head, tail) proc</a></li> <li><a href="#/,string,string">/ proc</a></li> <li><a href="#/../,string,string">/../ proc</a></li> <li><a href="#splitPath,string">splitPath proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">when defined(posix):
  assert joinPath("a") == "a"
  assert joinPath("a", "b", "c") == "a/b/c"
  assert joinPath("usr/lib", "../../var", "log") == "var/log"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L203" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L203" target="_blank">Edit</a> </dd>  <dt><pre id="%2F%2Cstring%2Cstring" data-language="nim">proc `/`(head, tail: string): string {...}{.noSideEffect, raises: [], tags: [].}</pre></dt> <dd> <p>The same as <a href="#joinPath,string,string">joinPath(head, tail) proc</a>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#/../,string,string">/../ proc</a></li> <li><a href="#joinPath,string,string">joinPath(head, tail) proc</a></li> <li><a href="#joinPath,varargs%5Bstring%5D">joinPath(varargs) proc</a></li> <li><a href="#splitPath,string">splitPath proc</a></li> <li><a href="uri.html#combine,Uri,Uri">uri.combine proc</a></li> <li><a href="uri.html#/,Uri,string">uri./ proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">when defined(posix):
  assert "usr" / "" == "usr"
  assert "" / "lib" == "lib"
  assert "" / "/lib" == "/lib"
  assert "usr/" / "/lib/" == "usr/lib/"
  assert "usr" / "lib" / "../bin" == "usr/bin"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L229" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L229" target="_blank">Edit</a> </dd>  <dt><pre id="splitPath%2Cstring" data-language="nim">proc splitPath(path: string): tuple[head, tail: string] {...}{.noSideEffect, gcsafe,
    extern: "nos$1", raises: [], tags: [].}</pre></dt> <dd> <p>Splits a directory into <code>(head, tail)</code> tuple, so that <code>head / tail == path</code> (except for edge cases like "/usr").</p> <p>See also:</p> <ul class="simple">
<li><a href="#joinPath,string,string">joinPath(head, tail) proc</a></li> <li><a href="#joinPath,varargs%5Bstring%5D">joinPath(varargs) proc</a></li> <li><a href="#/,string,string">/ proc</a></li> <li><a href="#/../,string,string">/../ proc</a></li> <li><a href="#relativePath,string,string">relativePath proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert splitPath("usr/local/bin") == ("usr/local", "bin")
assert splitPath("usr/local/bin/") == ("usr/local/bin", "")
assert splitPath("/bin/") == ("/bin", "")
when (NimMajor, NimMinor) &lt;= (1, 0):
  assert splitPath("/bin") == ("", "bin")
else:
  assert splitPath("/bin") == ("/", "bin")
assert splitPath("bin") == ("", "bin")
assert splitPath("") == ("", "")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L249" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L249" target="_blank">Edit</a> </dd>  <dt><pre id="isAbsolute%2Cstring" data-language="nim">proc isAbsolute(path: string): bool {...}{.gcsafe, noSideEffect, extern: "nos$1",
                                      raises: [], tags: [].}</pre></dt> <dd> <p>Checks whether a given <code>path</code> is absolute.</p> <p>On Windows, network paths are considered absolute too.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert not "".isAbsolute
assert not ".".isAbsolute
when defined(posix):
  assert "/".isAbsolute
  assert not "a/".isAbsolute
  assert "/a/".isAbsolute</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L288" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L288" target="_blank">Edit</a> </dd>  <dt><pre id="relativePath%2Cstring%2Cstring" data-language="nim">proc relativePath(path, base: string; sep = DirSep): string {...}{.gcsafe,
    extern: "nos$1", raises: [Exception], tags: [RootEffect].}</pre></dt> <dd> <p>Converts <code>path</code> to a path relative to <code>base</code>.</p> <p>The <code>sep</code> (default: <a href="#DirSep">DirSep</a>) is used for the path normalizations, this can be useful to ensure the relative path only contains <code>'/'</code> so that it can be used for URL constructions.</p> <p>On windows, if a root of <code>path</code> and a root of <code>base</code> are different, returns <code>path</code> as is because it is impossible to make a relative path. That means an absolute path can be returned.</p> <p>See also:</p> <ul class="simple">
<li><a href="#splitPath,string">splitPath proc</a></li> <li><a href="#parentDir,string">parentDir proc</a></li> <li><a href="#tailDir,string">tailDir proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert relativePath("/Users/me/bar/z.nim", "/Users/other/bad", '/') == "../../me/bar/z.nim"
assert relativePath("/Users/me/bar/z.nim", "/Users/other", '/') == "../me/bar/z.nim"
assert relativePath("/Users///me/bar//z.nim", "//Users/", '/') == "me/bar/z.nim"
assert relativePath("/Users/me/bar/z.nim", "/Users/me", '/') == "bar/z.nim"
assert relativePath("", "/users/moo", '/') == ""
assert relativePath("foo", ".", '/') == "foo"
assert relativePath("foo", "foo", '/') == "."</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L378" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L378" target="_blank">Edit</a> </dd>  <dt><pre id="isRelativeTo%2Cstring%2Cstring" data-language="nim">proc isRelativeTo(path: string; base: string): bool {...}{.raises: [Exception],
    tags: [RootEffect].}</pre></dt> <dd> Returns true if <code>path</code> is relative to <code>base</code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert isRelativeTo("./foo//bar", "foo")
doAssert isRelativeTo("foo/bar", ".")
doAssert isRelativeTo("/foo/bar.nim", "/foo/bar.nim")
doAssert not isRelativeTo("foo/bar.nims", "foo/bar.nim")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L467" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L467" target="_blank">Edit</a> </dd>  <dt><pre id="parentDir%2Cstring" data-language="nim">proc parentDir(path: string): string {...}{.noSideEffect, gcsafe, extern: "nos$1",
                                       raises: [], tags: [].}</pre></dt> <dd> <p>Returns the parent directory of <code>path</code>.</p> <p>This is similar to <code>splitPath(path).head</code> when <code>path</code> doesn't end in a dir separator, but also takes care of path normalizations. The remainder can be obtained with <a href="#lastPathPart,string">lastPathPart(path) proc</a>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#relativePath,string,string">relativePath proc</a></li> <li><a href="#splitPath,string">splitPath proc</a></li> <li><a href="#tailDir,string">tailDir proc</a></li> <li><a href="#parentDirs.i,string">parentDirs iterator</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert parentDir("") == ""
when defined(posix):
  assert parentDir("/usr/local/bin") == "/usr/local"
  assert parentDir("foo/bar//") == "foo"
  assert parentDir("//foo//bar//.") == "/foo"
  assert parentDir("./foo") == "."
  assert parentDir("/./foo//./") == "/"
  assert parentDir("a//./") == "."
  assert parentDir("a/b/c/..") == "a"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L486" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L486" target="_blank">Edit</a> </dd>  <dt><pre id="tailDir%2Cstring" data-language="nim">proc tailDir(path: string): string {...}{.noSideEffect, gcsafe, extern: "nos$1",
                                     raises: [], tags: [].}</pre></dt> <dd> <p>Returns the tail part of <code>path</code>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#relativePath,string,string">relativePath proc</a></li> <li><a href="#splitPath,string">splitPath proc</a></li> <li><a href="#parentDir,string">parentDir proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert tailDir("/bin") == "bin"
assert tailDir("bin") == ""
assert tailDir("bin/") == ""
assert tailDir("/usr/local/bin") == "usr/local/bin"
assert tailDir("//usr//local//bin//") == "usr//local//bin//"
assert tailDir("./usr/local/bin") == "usr/local/bin"
assert tailDir("usr/local/bin") == "local/bin"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L522" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L522" target="_blank">Edit</a> </dd>  <dt><pre id="isRootDir%2Cstring" data-language="nim">proc isRootDir(path: string): bool {...}{.noSideEffect, gcsafe, extern: "nos$1",
                                     raises: [], tags: [].}</pre></dt> <dd> Checks whether a given <code>path</code> is a root directory. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert isRootDir("")
assert isRootDir(".")
assert isRootDir("/")
assert isRootDir("a")
assert not isRootDir("/a")
assert not isRootDir("a/b/c")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L547" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L547" target="_blank">Edit</a> </dd>  <dt><pre id="%2F..%2F%2Cstring%2Cstring" data-language="nim">proc `/../`(head, tail: string): string {...}{.noSideEffect, raises: [], tags: [].}</pre></dt> <dd> <p>The same as <code>parentDir(head) / tail</code>, unless there is no parent directory. Then <code>head / tail</code> is performed instead.</p> <p>See also:</p> <ul class="simple">
<li><a href="#/,string,string">/ proc</a></li> <li><a href="#parentDir,string">parentDir proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">when defined(posix):
  assert "a/b/c" /../ "d/e" == "a/b/d/e"
  assert "a" /../ "d/e" == "a/d/e"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L612" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L612" target="_blank">Edit</a> </dd>  <dt><pre id="searchExtPos%2Cstring" data-language="nim">proc searchExtPos(path: string): int {...}{.raises: [], tags: [].}</pre></dt> <dd> <p>Returns index of the <code>'.'</code> char in <code>path</code> if it signifies the beginning of extension. Returns -1 otherwise.</p> <p>See also:</p> <ul class="simple">
<li><a href="#splitFile,string">splitFile proc</a></li> <li><a href="#extractFilename,string">extractFilename proc</a></li> <li><a href="#lastPathPart,string">lastPathPart proc</a></li> <li><a href="#changeFileExt,string,string">changeFileExt proc</a></li> <li><a href="#addFileExt,string,string">addFileExt proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert searchExtPos("a/b/c") == -1
assert searchExtPos("c.nim") == 1
assert searchExtPos("a/b/c.nim") == 5
assert searchExtPos("a.b.c.nim") == 5</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L634" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L634" target="_blank">Edit</a> </dd>  <dt><pre id="splitFile%2Cstring" data-language="nim">proc splitFile(path: string): tuple[dir, name, ext: string] {...}{.noSideEffect,
    gcsafe, extern: "nos$1", raises: [], tags: [].}</pre></dt> <dd> <p>Splits a filename into <code>(dir, name, extension)</code> tuple.</p> <p><code>dir</code> does not end in <a href="#DirSep">DirSep</a> unless it's <code>/</code>. <code>extension</code> includes the leading dot.</p> <p>If <code>path</code> has no extension, <code>ext</code> is the empty string. If <code>path</code> has no directory component, <code>dir</code> is the empty string. If <code>path</code> has no filename component, <code>name</code> and <code>ext</code> are empty strings.</p> <p>See also:</p> <ul class="simple">
<li><a href="#searchExtPos,string">searchExtPos proc</a></li> <li><a href="#extractFilename,string">extractFilename proc</a></li> <li><a href="#lastPathPart,string">lastPathPart proc</a></li> <li><a href="#changeFileExt,string,string">changeFileExt proc</a></li> <li><a href="#addFileExt,string,string">addFileExt proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var (dir, name, ext) = splitFile("usr/local/nimc.html")
assert dir == "usr/local"
assert name == "nimc"
assert ext == ".html"
(dir, name, ext) = splitFile("/usr/local/os")
assert dir == "/usr/local"
assert name == "os"
assert ext == ""
(dir, name, ext) = splitFile("/usr/local/")
assert dir == "/usr/local"
assert name == ""
assert ext == ""
(dir, name, ext) = splitFile("/tmp.txt")
assert dir == "/"
assert name == "tmp"
assert ext == ".txt"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L659" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L659" target="_blank">Edit</a> </dd>  <dt><pre id="extractFilename%2Cstring" data-language="nim">proc extractFilename(path: string): string {...}{.noSideEffect, gcsafe,
    extern: "nos$1", raises: [], tags: [].}</pre></dt> <dd> <p>Extracts the filename of a given <code>path</code>.</p> <p>This is the same as <code>name &amp; ext</code> from <a href="#splitFile,string">splitFile(path) proc</a>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#searchExtPos,string">searchExtPos proc</a></li> <li><a href="#splitFile,string">splitFile proc</a></li> <li><a href="#lastPathPart,string">lastPathPart proc</a></li> <li><a href="#changeFileExt,string,string">changeFileExt proc</a></li> <li><a href="#addFileExt,string,string">addFileExt proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert extractFilename("foo/bar/") == ""
assert extractFilename("foo/bar") == "bar"
assert extractFilename("foo/bar.baz") == "bar.baz"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L712" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L712" target="_blank">Edit</a> </dd>  <dt><pre id="lastPathPart%2Cstring" data-language="nim">proc lastPathPart(path: string): string {...}{.noSideEffect, gcsafe, extern: "nos$1",
    raises: [], tags: [].}</pre></dt> <dd> <p>Like <a href="#extractFilename,string">extractFilename proc</a>, but ignores trailing dir separator; aka: <span id="basename_1">baseName</span> in some other languages.</p> <p>See also:</p> <ul class="simple">
<li><a href="#searchExtPos,string">searchExtPos proc</a></li> <li><a href="#splitFile,string">splitFile proc</a></li> <li><a href="#extractFilename,string">extractFilename proc</a></li> <li><a href="#changeFileExt,string,string">changeFileExt proc</a></li> <li><a href="#addFileExt,string,string">addFileExt proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert lastPathPart("foo/bar/") == "bar"
assert lastPathPart("foo/bar") == "bar"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L735" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L735" target="_blank">Edit</a> </dd>  <dt><pre id="changeFileExt%2Cstring%2Cstring" data-language="nim">proc changeFileExt(filename, ext: string): string {...}{.noSideEffect, gcsafe,
    extern: "nos$1", raises: [], tags: [].}</pre></dt> <dd> <p>Changes the file extension to <code>ext</code>.</p> <p>If the <code>filename</code> has no extension, <code>ext</code> will be added. If <code>ext</code> == "" then any extension is removed.</p> <p><code>Ext</code> should be given without the leading <code>'.'</code>, because some filesystems may use a different character. (Although I know of none such beast.)</p> <p>See also:</p> <ul class="simple">
<li><a href="#searchExtPos,string">searchExtPos proc</a></li> <li><a href="#splitFile,string">splitFile proc</a></li> <li><a href="#extractFilename,string">extractFilename proc</a></li> <li><a href="#lastPathPart,string">lastPathPart proc</a></li> <li><a href="#addFileExt,string,string">addFileExt proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert changeFileExt("foo.bar", "baz") == "foo.baz"
assert changeFileExt("foo.bar", "") == "foo"
assert changeFileExt("foo", "baz") == "foo.baz"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L753" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L753" target="_blank">Edit</a> </dd>  <dt><pre id="addFileExt%2Cstring%2Cstring" data-language="nim">proc addFileExt(filename, ext: string): string {...}{.noSideEffect, gcsafe,
    extern: "nos$1", raises: [], tags: [].}</pre></dt> <dd> <p>Adds the file extension <code>ext</code> to <code>filename</code>, unless <code>filename</code> already has an extension.</p> <p><code>Ext</code> should be given without the leading <code>'.'</code>, because some filesystems may use a different character. (Although I know of none such beast.)</p> <p>See also:</p> <ul class="simple">
<li><a href="#searchExtPos,string">searchExtPos proc</a></li> <li><a href="#splitFile,string">splitFile proc</a></li> <li><a href="#extractFilename,string">extractFilename proc</a></li> <li><a href="#lastPathPart,string">lastPathPart proc</a></li> <li><a href="#changeFileExt,string,string">changeFileExt proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert addFileExt("foo.bar", "baz") == "foo.bar"
assert addFileExt("foo.bar", "") == "foo.bar"
assert addFileExt("foo", "baz") == "foo.baz"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L779" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L779" target="_blank">Edit</a> </dd>  <dt><pre id="cmpPaths%2Cstring%2Cstring" data-language="nim">proc cmpPaths(pathA, pathB: string): int {...}{.noSideEffect, gcsafe,
    extern: "nos$1", raises: [], tags: [].}</pre></dt> <dd> <p>Compares two paths.</p> <p>On a case-sensitive filesystem this is done case-sensitively otherwise case-insensitively. Returns:</p> <p>0 if pathA == pathB<br>&lt; 0 if pathA &lt; pathB<br>&gt; 0 if pathA &gt; pathB<br></p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">when defined(macosx):
  assert cmpPaths("foo", "Foo") == 0
elif defined(posix):
  assert cmpPaths("foo", "Foo") &gt; 0</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L803" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L803" target="_blank">Edit</a> </dd>  <dt><pre id="unixToNativePath%2Cstring%2Cstring" data-language="nim">proc unixToNativePath(path: string; drive = ""): string {...}{.noSideEffect, gcsafe,
    extern: "nos$1", raises: [], tags: [].}</pre></dt> <dd> <p>Converts an UNIX-like path to a native one.</p> <p>On an UNIX system this does nothing. Else it converts <code>'/'</code>, <code>'.'</code>, <code>'..'</code> to the appropriate things.</p> <p>On systems with a concept of "drives", <code>drive</code> is used to determine which drive label to use during absolute path conversion. <code>drive</code> defaults to the drive of the current working directory, and is ignored on systems that do not have a concept of "drives".</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L830" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L830" target="_blank">Edit</a> </dd>  <dt><pre id="%3D%3D%2COSErrorCode%2COSErrorCode" data-language="nim">proc `==`(err1, err2: OSErrorCode): bool {...}{.borrow.}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/oserr.nim#L15" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/oserr.nim#L15" target="_blank">Edit</a> </dd>  <dt><pre id="%24%2COSErrorCode" data-language="nim">proc `$`(err: OSErrorCode): string {...}{.borrow.}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/oserr.nim#L16" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/oserr.nim#L16" target="_blank">Edit</a> </dd>  <dt><pre id="osErrorMsg%2COSErrorCode" data-language="nim">proc osErrorMsg(errorCode: OSErrorCode): string {...}{.raises: [], tags: [].}</pre></dt> <dd> <p>Converts an OS error code into a human readable string.</p> <p>The error code can be retrieved using the <a href="#osLastError">osLastError proc</a>.</p> <p>If conversion fails, or <code>errorCode</code> is <code>0</code> then <code>""</code> will be returned.</p> <p>On Windows, the <code>-d:useWinAnsi</code> compilation flag can be used to make this procedure use the non-unicode Win API calls to retrieve the message.</p> <p>See also:</p> <ul class="simple">
<li><a href="#raiseOSError,OSErrorCode,string">raiseOSError proc</a></li> <li><a href="#osLastError">osLastError proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">when defined(linux):
  assert osErrorMsg(OSErrorCode(0)) == ""
  assert osErrorMsg(OSErrorCode(1)) == "Operation not permitted"
  assert osErrorMsg(OSErrorCode(2)) == "No such file or directory"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/oserr.nim#L18" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/oserr.nim#L18" target="_blank">Edit</a> </dd>  <dt><pre id="newOSError%2COSErrorCode%2Cstring" data-language="nim">proc newOSError(errorCode: OSErrorCode; additionalInfo = ""): owned(ref OSError) {...}{.
    noinline, raises: [], tags: [].}</pre></dt> <dd> <p>Creates a new <a href="system.html#OSError">OSError exception</a>.</p> <p>The <code>errorCode</code> will determine the message, <a href="#osErrorMsg,OSErrorCode">osErrorMsg proc</a> will be used to get this message.</p> <p>The error code can be retrieved using the <a href="#osLastError">osLastError proc</a>.</p> <p>If the error code is <code>0</code> or an error message could not be retrieved, the message <code>unknown OS error</code> will be used.</p> <p>See also:</p> <ul class="simple">
<li><a href="#osErrorMsg,OSErrorCode">osErrorMsg proc</a></li> <li><a href="#osLastError">osLastError proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/oserr.nim#L60" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/oserr.nim#L60" target="_blank">Edit</a> </dd>  <dt><pre id="raiseOSError%2COSErrorCode%2Cstring" data-language="nim">proc raiseOSError(errorCode: OSErrorCode; additionalInfo = "") {...}{.noinline,
    raises: [OSError], tags: [].}</pre></dt> <dd> <p>Raises an <a href="system.html#OSError">OSError exception</a>.</p> <p>Read the description of the <a href="#newOSError,OSErrorCode,string">newOSError proc</a> to learn how the exception object is created.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/oserr.nim#L89" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/oserr.nim#L89" target="_blank">Edit</a> </dd>  <dt><pre id="osLastError" data-language="nim">proc osLastError(): OSErrorCode {...}{.sideEffect, raises: [], tags: [].}</pre></dt> <dd> <p>Retrieves the last operating system error code.</p> <p>This procedure is useful in the event when an OS call fails. In that case this procedure will return the error code describing the reason why the OS call failed. The <code>OSErrorMsg</code> procedure can then be used to convert this code into a string.</p> <p><strong>Warning</strong>: The behaviour of this procedure varies between Windows and POSIX systems. On Windows some OS calls can reset the error code to <code>0</code> causing this procedure to return <code>0</code>. It is therefore advised to call this procedure immediately after an OS call fails. On POSIX systems this is not a problem.</p> <p>See also:</p> <ul class="simple">
<li><a href="#osErrorMsg,OSErrorCode">osErrorMsg proc</a></li> <li><a href="#raiseOSError,OSErrorCode,string">raiseOSError proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/oserr.nim#L97" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/oserr.nim#L97" target="_blank">Edit</a> </dd>  <dt><pre id="getEnv%2Cstring%2Cstring" data-language="nim">proc getEnv(key: string; default = ""): TaintedString {...}{.tags: [ReadEnvEffect],
    raises: [].}</pre></dt> <dd> <p>Returns the value of the <span id="environment-variable_1">environment variable</span> named <code>key</code>.</p> <p>If the variable does not exist, <code>""</code> is returned. To distinguish whether a variable exists or it's value is just <code>""</code>, call <a href="#existsEnv,string">existsEnv(key) proc</a>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#existsEnv,string">existsEnv proc</a></li> <li><a href="#putEnv,string,string">putEnv proc</a></li> <li><a href="#delEnv,string">delEnv proc</a></li> <li><a href="#envPairs.i">envPairs iterator</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert getEnv("unknownEnv") == ""
assert getEnv("unknownEnv", "doesn't exist") == "doesn't exist"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osenv.nim#L111" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osenv.nim#L111" target="_blank">Edit</a> </dd>  <dt><pre id="existsEnv%2Cstring" data-language="nim">proc existsEnv(key: string): bool {...}{.tags: [ReadEnvEffect], raises: [].}</pre></dt> <dd> <p>Checks whether the environment variable named <code>key</code> exists. Returns true if it exists, false otherwise.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getEnv,string,string">getEnv proc</a></li> <li><a href="#putEnv,string,string">putEnv proc</a></li> <li><a href="#delEnv,string">delEnv proc</a></li> <li><a href="#envPairs.i">envPairs iterator</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert not existsEnv("unknownEnv")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osenv.nim#L138" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osenv.nim#L138" target="_blank">Edit</a> </dd>  <dt><pre id="putEnv%2Cstring%2Cstring" data-language="nim">proc putEnv(key, val: string) {...}{.tags: [WriteEnvEffect], raises: [OSError].}</pre></dt> <dd> <p>Sets the value of the <span id="environment-variable_2">environment variable</span> named <code>key</code> to <code>val</code>. If an error occurs, <code>OSError</code> is raised.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getEnv,string,string">getEnv proc</a></li> <li><a href="#existsEnv,string">existsEnv proc</a></li> <li><a href="#delEnv,string">delEnv proc</a></li> <li><a href="#envPairs.i">envPairs iterator</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osenv.nim#L156" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osenv.nim#L156" target="_blank">Edit</a> </dd>  <dt><pre id="delEnv%2Cstring" data-language="nim">proc delEnv(key: string) {...}{.tags: [WriteEnvEffect], raises: [OSError].}</pre></dt> <dd> <p>Deletes the <span id="environment-variable_3">environment variable</span> named <code>key</code>. If an error occurs, <code>OSError</code> is raised.</p> <p>See also:ven</p> <ul class="simple">
<li><a href="#getEnv,string,string">getEnv proc</a></li> <li><a href="#existsEnv,string">existsEnv proc</a></li> <li><a href="#putEnv,string,string">putEnv proc</a></li> <li><a href="#envPairs.i">envPairs iterator</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osenv.nim#L190" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osenv.nim#L190" target="_blank">Edit</a> </dd>  <dt><pre id="getHomeDir" data-language="nim">proc getHomeDir(): string {...}{.gcsafe, extern: "nos$1",
                            tags: [ReadEnvEffect, ReadIOEffect], raises: [].}</pre></dt> <dd> <p>Returns the home directory of the current user.</p> <p>This proc is wrapped by the <a href="#expandTilde,string">expandTilde proc</a> for the convenience of processing paths coming from user configuration files.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getConfigDir">getConfigDir proc</a></li> <li><a href="#getTempDir">getTempDir proc</a></li> <li><a href="#expandTilde,string">expandTilde proc</a></li> <li><a href="#getCurrentDir">getCurrentDir proc</a></li> <li><a href="#setCurrentDir,string">setCurrentDir proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert getHomeDir() == expandTilde("~")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L890" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L890" target="_blank">Edit</a> </dd>  <dt><pre id="getConfigDir" data-language="nim">proc getConfigDir(): string {...}{.gcsafe, extern: "nos$1",
                              tags: [ReadEnvEffect, ReadIOEffect], raises: [].}</pre></dt> <dd> <p>Returns the config directory of the current user for applications.</p> <p>On non-Windows OSs, this proc conforms to the XDG Base Directory spec. Thus, this proc returns the value of the <code>XDG_CONFIG_HOME</code> environment variable if it is set, otherwise it returns the default configuration directory ("~/.config/").</p> <p>An OS-dependent trailing slash is always present at the end of the returned string: <code>\</code> on Windows and <code>/</code> on all other OSs.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getHomeDir">getHomeDir proc</a></li> <li><a href="#getTempDir">getTempDir proc</a></li> <li><a href="#expandTilde,string">expandTilde proc</a></li> <li><a href="#getCurrentDir">getCurrentDir proc</a></li> <li><a href="#setCurrentDir,string">setCurrentDir proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L909" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L909" target="_blank">Edit</a> </dd>  <dt><pre id="getTempDir" data-language="nim">proc getTempDir(): string {...}{.gcsafe, extern: "nos$1",
                            tags: [ReadEnvEffect, ReadIOEffect], raises: [].}</pre></dt> <dd> <p>Returns the temporary directory of the current user for applications to save temporary files in.</p> <p><strong>Please do not use this</strong>: On Android, it currently returns <code>getHomeDir()</code>, and on other Unix based systems it can cause security problems too. That said, you can override this implementation by adding <code>-d:tempDir=mytempname</code> to your compiler invocation.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getHomeDir">getHomeDir proc</a></li> <li><a href="#getConfigDir">getConfigDir proc</a></li> <li><a href="#expandTilde,string">expandTilde proc</a></li> <li><a href="#getCurrentDir">getCurrentDir proc</a></li> <li><a href="#setCurrentDir,string">setCurrentDir proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L933" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L933" target="_blank">Edit</a> </dd>  <dt><pre id="expandTilde%2Cstring" data-language="nim">proc expandTilde(path: string): string {...}{.tags: [ReadEnvEffect, ReadIOEffect],
    raises: [].}</pre></dt> <dd> <p>Expands <code>~</code> or a path starting with <code>~/</code> to a full path, replacing <code>~</code> with <a href="#getHomeDir">getHomeDir()</a> (otherwise returns <code>path</code> unmodified).</p> <p>Windows: this is still supported despite Windows platform not having this convention; also, both <code>~/</code> and <code>~\</code> are handled.</p> <p><strong>Warning</strong>: <code>~bob</code> and <code>~bob/</code> are not yet handled correctly.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getHomeDir">getHomeDir proc</a></li> <li><a href="#getConfigDir">getConfigDir proc</a></li> <li><a href="#getTempDir">getTempDir proc</a></li> <li><a href="#getCurrentDir">getCurrentDir proc</a></li> <li><a href="#setCurrentDir,string">setCurrentDir proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert expandTilde("~" / "appname.cfg") == getHomeDir() / "appname.cfg"
assert expandTilde("~/foo/bar") == getHomeDir() / "foo/bar"
assert expandTilde("/foo/bar") == "/foo/bar"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L960" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L960" target="_blank">Edit</a> </dd>  <dt><pre id="quoteShellWindows%2Cstring" data-language="nim">proc quoteShellWindows(s: string): string {...}{.noSideEffect, gcsafe,
    extern: "nosp$1", raises: [], tags: [].}</pre></dt> <dd> <p>Quote <code>s</code>, so it can be safely passed to Windows API.</p> <p>Based on Python's <code>subprocess.list2cmdline</code>. See <a href="http://msdn.microsoft.com/en-us/library/17w5ykft.aspx">this link</a> for more details.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L993" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L993" target="_blank">Edit</a> </dd>  <dt><pre id="quoteShellPosix%2Cstring" data-language="nim">proc quoteShellPosix(s: string): string {...}{.noSideEffect, gcsafe,
    extern: "nosp$1", raises: [], tags: [].}</pre></dt> <dd> Quote <code>s</code>, so it can be safely passed to POSIX shell. Based on Python's <code>pipes.quote</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1023" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1023" target="_blank">Edit</a> </dd>  <dt><pre id="quoteShell%2Cstring" data-language="nim">proc quoteShell(s: string): string {...}{.noSideEffect, gcsafe, extern: "nosp$1",
                                     raises: [], tags: [].}</pre></dt> <dd> <p>Quote <code>s</code>, so it can be safely passed to shell.</p> <p>When on Windows, it calls <a href="#quoteShellWindows,string">quoteShellWindows proc</a>. Otherwise, calls <a href="#quoteShellPosix,string">quoteShellPosix proc</a>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1039" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1039" target="_blank">Edit</a> </dd>  <dt><pre id="quoteShellCommand%2CopenArray%5Bstring%5D" data-language="nim">proc quoteShellCommand(args: openArray[string]): string {...}{.raises: [], tags: [].}</pre></dt> <dd> Concatenates and quotes shell arguments <code>args</code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">when defined(posix):
  assert quoteShellCommand(["aaa", "", "c d"]) == "aaa '' 'c d'"
when defined(windows):
  assert quoteShellCommand(["aaa", "", "c d"]) == "aaa \"\" \"c d\""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1050" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1050" target="_blank">Edit</a> </dd>  <dt><pre id="fileExists%2Cstring" data-language="nim">proc fileExists(filename: string): bool {...}{.gcsafe, extern: "nos$1",
    tags: [ReadDirEffect], raises: [].}</pre></dt> <dd> <p>Returns true if <code>filename</code> exists and is a regular file or symlink.</p> <p>Directories, device files, named pipes and sockets return false.</p> <p>See also:</p> <ul class="simple">
<li><a href="#dirExists,string">dirExists proc</a></li> <li><a href="#symlinkExists,string">symlinkExists proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1102" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1102" target="_blank">Edit</a> </dd>  <dt><pre id="dirExists%2Cstring" data-language="nim">proc dirExists(dir: string): bool {...}{.gcsafe, extern: "nos$1",
                                    tags: [ReadDirEffect], raises: [].}</pre></dt> <dd> <p>Returns true if the directory <code>dir</code> exists. If <code>dir</code> is a file, false is returned. Follows symlinks.</p> <p>See also:</p> <ul class="simple">
<li><a href="#fileExists,string">fileExists proc</a></li> <li><a href="#symlinkExists,string">symlinkExists proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1122" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1122" target="_blank">Edit</a> </dd>  <dt><pre id="symlinkExists%2Cstring" data-language="nim">proc symlinkExists(link: string): bool {...}{.gcsafe, extern: "nos$1",
    tags: [ReadDirEffect], raises: [].}</pre></dt> <dd> <p>Returns true if the symlink <code>link</code> exists. Will return true regardless of whether the link points to a directory or file.</p> <p>See also:</p> <ul class="simple">
<li><a href="#fileExists,string">fileExists proc</a></li> <li><a href="#dirExists,string">dirExists proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1141" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1141" target="_blank">Edit</a> </dd>  <dt><pre id="findExe%2Cstring%2Cbool%2CopenArray%5Bstring%5D" data-language="nim">proc findExe(exe: string; followSymlinks: bool = true;
             extensions: openArray[string] = ExeExts): string {...}{.
    tags: [ReadDirEffect, ReadEnvEffect, ReadIOEffect], raises: [OSError].}</pre></dt> <dd> <p>Searches for <code>exe</code> in the current working directory and then in directories listed in the <code>PATH</code> environment variable.</p> <p>Returns <code>""</code> if the <code>exe</code> cannot be found. <code>exe</code> is added the <a href="#ExeExts">ExeExts</a> file extensions if it has none.</p> <p>If the system supports symlinks it also resolves them until it meets the actual file. This behavior can be disabled if desired by setting <code>followSymlinks = false</code>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1182" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1182" target="_blank">Edit</a> </dd>  <dt><pre id="getLastModificationTime%2Cstring" data-language="nim">proc getLastModificationTime(file: string): times.Time {...}{.gcsafe,
    extern: "nos$1", raises: [OSError], tags: [].}</pre></dt> <dd> <p>Returns the <code>file</code>'s last modification time.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getLastAccessTime,string">getLastAccessTime proc</a></li> <li><a href="#getCreationTime,string">getCreationTime proc</a></li> <li><a href="#fileNewer,string,string">fileNewer proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1240" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1240" target="_blank">Edit</a> </dd>  <dt><pre id="getLastAccessTime%2Cstring" data-language="nim">proc getLastAccessTime(file: string): times.Time {...}{.gcsafe, extern: "nos$1",
    raises: [OSError], tags: [].}</pre></dt> <dd> <p>Returns the <code>file</code>'s last read or write access time.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getLastModificationTime,string">getLastModificationTime proc</a></li> <li><a href="#getCreationTime,string">getCreationTime proc</a></li> <li><a href="#fileNewer,string,string">fileNewer proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1258" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1258" target="_blank">Edit</a> </dd>  <dt><pre id="getCreationTime%2Cstring" data-language="nim">proc getCreationTime(file: string): times.Time {...}{.gcsafe, extern: "nos$1",
    raises: [OSError], tags: [].}</pre></dt> <dd> <p>Returns the <code>file</code>'s creation time.</p> <p><strong>Note:</strong> Under POSIX OS's, the returned time may actually be the time at which the file's attribute's were last modified. See <a href="https://github.com/nim-lang/Nim/issues/1058">here</a> for details.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getLastModificationTime,string">getLastModificationTime proc</a></li> <li><a href="#getLastAccessTime,string">getLastAccessTime proc</a></li> <li><a href="#fileNewer,string,string">fileNewer proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1276" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1276" target="_blank">Edit</a> </dd>  <dt><pre id="fileNewer%2Cstring%2Cstring" data-language="nim">proc fileNewer(a, b: string): bool {...}{.gcsafe, extern: "nos$1", raises: [OSError],
                                     tags: [].}</pre></dt> <dd> <p>Returns true if the file <code>a</code> is newer than file <code>b</code>, i.e. if <code>a</code>'s modification time is later than <code>b</code>'s.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getLastModificationTime,string">getLastModificationTime proc</a></li> <li><a href="#getLastAccessTime,string">getLastAccessTime proc</a></li> <li><a href="#getCreationTime,string">getCreationTime proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1298" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1298" target="_blank">Edit</a> </dd>  <dt><pre id="getCurrentDir" data-language="nim">proc getCurrentDir(): string {...}{.gcsafe, extern: "nos$1", tags: [],
                               raises: [OSError].}</pre></dt> <dd> <p>Returns the <span id="current-working-directory_1">current working directory</span> i.e. where the built binary is run.</p> <p>So the path returned by this proc is determined at run time.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getHomeDir">getHomeDir proc</a></li> <li><a href="#getConfigDir">getConfigDir proc</a></li> <li><a href="#getTempDir">getTempDir proc</a></li> <li><a href="#setCurrentDir,string">setCurrentDir proc</a></li> <li><a href="system.html#currentSourcePath.t">currentSourcePath template</a></li> <li><a href="macros.html#getProjectPath">getProjectPath proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1316" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1316" target="_blank">Edit</a> </dd>  <dt><pre id="setCurrentDir%2Cstring" data-language="nim">proc setCurrentDir(newDir: string) {...}{.inline, tags: [], raises: [OSError].}</pre></dt> <dd> <p>Sets the <span id="current-working-directory_2">current working directory</span>; <code>OSError</code> is raised if <code>newDir</code> cannot been set.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getHomeDir">getHomeDir proc</a></li> <li><a href="#getConfigDir">getConfigDir proc</a></li> <li><a href="#getTempDir">getTempDir proc</a></li> <li><a href="#getCurrentDir">getCurrentDir proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1377" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1377" target="_blank">Edit</a> </dd>  <dt><pre id="absolutePath%2Cstring" data-language="nim">proc absolutePath(path: string; root = getCurrentDir()): string {...}{.
    raises: [ValueError], tags: [].}</pre></dt> <dd> <p>Returns the absolute path of <code>path</code>, rooted at <code>root</code> (which must be absolute; default: current directory). If <code>path</code> is absolute, return it, ignoring <code>root</code>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#normalizedPath,string">normalizedPath proc</a></li> <li><a href="#normalizePath,string">normalizePath proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert absolutePath("a") == getCurrentDir() / "a"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1396" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1396" target="_blank">Edit</a> </dd>  <dt><pre id="normalizeExe%2Cstring" data-language="nim">proc normalizeExe(file: var string) {...}{.raises: [], tags: [].}</pre></dt> <dd> on posix, prepends <code>./</code> if <code>file</code> doesn't contain <code>/</code> and is not <code>"", ".", ".."</code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import sugar
when defined(posix):
  doAssert "foo".dup(normalizeExe) == "./foo"
  doAssert "foo/../bar".dup(normalizeExe) == "foo/../bar"
doAssert "".dup(normalizeExe) == ""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1416" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1416" target="_blank">Edit</a> </dd>  <dt><pre id="normalizePath%2Cstring" data-language="nim">proc normalizePath(path: var string) {...}{.gcsafe, extern: "nos$1", tags: [],
                                       raises: [].}</pre></dt> <dd> <p>Normalize a path.</p> <p>Consecutive directory separators are collapsed, including an initial double slash.</p> <p>On relative paths, double dot (<code>..</code>) sequences are collapsed if possible. On absolute paths they are always collapsed.</p> <p>Warning: URL-encoded and Unicode attempts at directory traversal are not detected. Triple dot is not handled.</p> <p>See also:</p> <ul class="simple">
<li><a href="#absolutePath,string">absolutePath proc</a></li> <li>
<a href="#normalizedPath,string">normalizedPath proc</a> for outplace version</li> <li><a href="#normalizeExe,string">normalizeExe proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">when defined(posix):
  var a = "a///b//..//c///d"
  a.normalizePath()
  assert a == "a/c/d"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1428" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1428" target="_blank">Edit</a> </dd>  <dt><pre id="normalizedPath%2Cstring" data-language="nim">proc normalizedPath(path: string): string {...}{.gcsafe, extern: "nos$1", tags: [],
    raises: [].}</pre></dt> <dd> <p>Returns a normalized path for the current OS.</p> <p>See also:</p> <ul class="simple">
<li><a href="#absolutePath,string">absolutePath proc</a></li> <li>
<a href="#normalizePath,string">normalizePath proc</a> for the in-place version</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">when defined(posix):
  assert normalizedPath("a///b//..//c///d") == "a/c/d"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1479" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1479" target="_blank">Edit</a> </dd>  <dt><pre id="sameFile%2Cstring%2Cstring" data-language="nim">proc sameFile(path1, path2: string): bool {...}{.gcsafe, extern: "nos$1",
    tags: [ReadDirEffect], raises: [OSError].}</pre></dt> <dd> <p>Returns true if both pathname arguments refer to the same physical file or directory.</p> <p>Raises <code>OSError</code> if any of the files does not exist or information about it can not be obtained.</p> <p>This proc will return true if given two alternative hard-linked or sym-linked paths to the same file or directory.</p> <p>See also:</p> <ul class="simple">
<li><a href="#sameFileContent,string,string">sameFileContent proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1510" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1510" target="_blank">Edit</a> </dd>  <dt><pre id="sameFileContent%2Cstring%2Cstring" data-language="nim">proc sameFileContent(path1, path2: string): bool {...}{.gcsafe, extern: "nos$1",
    tags: [ReadIOEffect], raises: [IOError].}</pre></dt> <dd> <p>Returns true if both pathname arguments refer to files with identical binary content.</p> <p>See also:</p> <ul class="simple">
<li><a href="#sameFile,string,string">sameFile proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1555" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1555" target="_blank">Edit</a> </dd>  <dt><pre id="getFilePermissions%2Cstring" data-language="nim">proc getFilePermissions(filename: string): set[FilePermission] {...}{.gcsafe,
    extern: "nos$1", tags: [ReadDirEffect], raises: [OSError].}</pre></dt> <dd> <p>Retrieves file permissions for <code>filename</code>.</p> <p><code>OSError</code> is raised in case of an error. On Windows, only the <code>readonly</code> flag is checked, every other permission is available in any case.</p> <p>See also:</p> <ul class="simple">
<li><a href="#setFilePermissions,string,set%5BFilePermission%5D">setFilePermissions proc</a></li> <li><a href="#FilePermission">FilePermission enum</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1606" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1606" target="_blank">Edit</a> </dd>  <dt><pre id="setFilePermissions%2Cstring%2Cset%5BFilePermission%5D" data-language="nim">proc setFilePermissions(filename: string; permissions: set[FilePermission]) {...}{.
    gcsafe, extern: "nos$1", tags: [WriteDirEffect], raises: [OSError].}</pre></dt> <dd> <p>Sets the file permissions for <code>filename</code>.</p> <p><code>OSError</code> is raised in case of an error. On Windows, only the <code>readonly</code> flag is changed, depending on <code>fpUserWrite</code> permission.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getFilePermissions,string">getFilePermissions</a></li> <li><a href="#FilePermission">FilePermission enum</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1644" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1644" target="_blank">Edit</a> </dd>  <dt><pre id="copyFile%2Cstring%2Cstring" data-language="nim">proc copyFile(source, dest: string) {...}{.gcsafe, extern: "nos$1",
                                      tags: [ReadIOEffect, WriteIOEffect],
                                      raises: [OSError, IOError].}</pre></dt> <dd> <p>Copies a file from <code>source</code> to <code>dest</code>, where <code>dest.parentDir</code> must exist.</p> <p>If this fails, <code>OSError</code> is raised.</p> <p>On the Windows platform this proc will copy the source file's attributes into dest.</p> <p>On other platforms you need to use <a href="#getFilePermissions,string">getFilePermissions</a> and <a href="#setFilePermissions,string,set%5BFilePermission%5D">setFilePermissions</a> procs to copy them by hand (or use the convenience <a href="#copyFileWithPermissions,string,string">copyFileWithPermissions proc</a>), otherwise <code>dest</code> will inherit the default permissions of a newly created file for the user.</p> <p>If <code>dest</code> already exists, the file attributes will be preserved and the content overwritten.</p> <p>See also:</p> <ul class="simple">
<li><a href="#copyDir,string,string">copyDir proc</a></li> <li><a href="#copyFileWithPermissions,string,string">copyFileWithPermissions proc</a></li> <li><a href="#tryRemoveFile,string">tryRemoveFile proc</a></li> <li><a href="#removeFile,string">removeFile proc</a></li> <li><a href="#moveFile,string,string">moveFile proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1686" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1686" target="_blank">Edit</a> </dd>  <dt><pre id="copyFileToDir%2Cstring%2Cstring" data-language="nim">proc copyFileToDir(source, dir: string) {...}{.
    raises: [ValueError, OSError, IOError], tags: [ReadIOEffect, WriteIOEffect].}</pre></dt> <dd> Copies a file <code>source</code> into directory <code>dir</code>, which must exist. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1744" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1744" target="_blank">Edit</a> </dd>  <dt><pre id="tryRemoveFile%2Cstring" data-language="nim">proc tryRemoveFile(file: string): bool {...}{.gcsafe, extern: "nos$1",
    tags: [WriteDirEffect], raises: [].}</pre></dt> <dd> <p>Removes the <code>file</code>.</p> <p>If this fails, returns <code>false</code>. This does not fail if the file never existed in the first place.</p> <p>On Windows, ignores the read-only attribute.</p> <p>See also:</p> <ul class="simple">
<li><a href="#copyFile,string,string">copyFile proc</a></li> <li><a href="#copyFileWithPermissions,string,string">copyFileWithPermissions proc</a></li> <li><a href="#removeFile,string">removeFile proc</a></li> <li><a href="#moveFile,string,string">moveFile proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1769" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1769" target="_blank">Edit</a> </dd>  <dt><pre id="removeFile%2Cstring" data-language="nim">proc removeFile(file: string) {...}{.gcsafe, extern: "nos$1", tags: [WriteDirEffect],
                                raises: [OSError].}</pre></dt> <dd> <p>Removes the <code>file</code>.</p> <p>If this fails, <code>OSError</code> is raised. This does not fail if the file never existed in the first place.</p> <p>On Windows, ignores the read-only attribute.</p> <p>See also:</p> <ul class="simple">
<li><a href="#removeDir,string">removeDir proc</a></li> <li><a href="#copyFile,string,string">copyFile proc</a></li> <li><a href="#copyFileWithPermissions,string,string">copyFileWithPermissions proc</a></li> <li><a href="#tryRemoveFile,string">tryRemoveFile proc</a></li> <li><a href="#moveFile,string,string">moveFile proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1801" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1801" target="_blank">Edit</a> </dd>  <dt><pre id="moveFile%2Cstring%2Cstring" data-language="nim">proc moveFile(source, dest: string) {...}{.gcsafe, extern: "nos$1",
                                      tags: [ReadIOEffect, WriteIOEffect],
                                      raises: [OSError, IOError, Exception].}</pre></dt> <dd> <p>Moves a file from <code>source</code> to <code>dest</code>.</p> <p>If this fails, <code>OSError</code> is raised. If <code>dest</code> already exists, it will be overwritten.</p> <p>Can be used to <span id="rename-files_1">rename files</span>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#moveDir,string,string">moveDir proc</a></li> <li><a href="#copyFile,string,string">copyFile proc</a></li> <li><a href="#copyFileWithPermissions,string,string">copyFileWithPermissions proc</a></li> <li><a href="#removeFile,string">removeFile proc</a></li> <li><a href="#tryRemoveFile,string">tryRemoveFile proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1841" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1841" target="_blank">Edit</a> </dd>  <dt><pre id="exitStatusLikeShell%2Ccint" data-language="nim">proc exitStatusLikeShell(status: cint): cint {...}{.raises: [], tags: [].}</pre></dt> <dd> Converts exit code from <code>c_system</code> into a shell exit code. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1867" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1867" target="_blank">Edit</a> </dd>  <dt><pre id="execShellCmd%2Cstring" data-language="nim">proc execShellCmd(command: string): int {...}{.gcsafe, extern: "nos$1",
    tags: [ExecIOEffect], raises: [].}</pre></dt> <dd> <p>Executes a <span id="shell-command_1">shell command</span>.</p> <p>Command has the form 'program args' where args are the command line arguments given to program. The proc returns the error code of the shell when it has finished (zero if there is no error). The proc does not return until the process has finished.</p> <p>To execute a program without having a shell involved, use <a href="osproc.html#execProcess,string,string,openArray%5Bstring%5D,StringTableRef,set%5BProcessOption%5D">osproc.execProcess proc</a>.</p> <p><strong>Examples:</strong></p> <pre class="listing" data-language="nim">discard execShellCmd("ls -la")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1878" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1878" target="_blank">Edit</a> </dd>  <dt><pre id="expandFilename%2Cstring" data-language="nim">proc expandFilename(filename: string): string {...}{.gcsafe, extern: "nos$1",
    tags: [ReadDirEffect], raises: [OSError].}</pre></dt> <dd> <p>Returns the full (<span id="absolute_1">absolute</span>) path of an existing file <code>filename</code>.</p> <p>Raises <code>OSError</code> in case of an error. Follows symlinks.</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1995" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1995" target="_blank">Edit</a> </dd>  <dt><pre id="getCurrentCompilerExe" data-language="nim">proc getCurrentCompilerExe(): string {...}{.compileTime, raises: [], tags: [].}</pre></dt> <dd> <p>This is <a href="#getAppFilename">getAppFilename()</a> at compile time.</p> <p>Can be used to retrieve the currently executing Nim compiler from a Nim or nimscript program, or the nimble binary inside a nimble program (likewise with other binaries built from compiler API).</p> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2056" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2056" target="_blank">Edit</a> </dd>  <dt><pre id="removeDir%2Cstring" data-language="nim">proc removeDir(dir: string; checkDir = false) {...}{.gcsafe, extern: "nos$1",
    tags: [WriteDirEffect, ReadDirEffect], gcsafe, locks: 0, raises: [OSError].}</pre></dt> <dd> <p>Removes the directory <code>dir</code> including all subdirectories and files in <code>dir</code> (recursively).</p> <p>If this fails, <code>OSError</code> is raised. This does not fail if the directory never existed in the first place, unless <code>checkDir</code> = true</p> <p>See also:</p> <ul class="simple">
<li><a href="#tryRemoveFile,string">tryRemoveFile proc</a></li> <li><a href="#removeFile,string">removeFile proc</a></li> <li><a href="#existsOrCreateDir,string">existsOrCreateDir proc</a></li> <li><a href="#createDir,string">createDir proc</a></li> <li><a href="#copyDir,string,string">copyDir proc</a></li> <li><a href="#copyDirWithPermissions,string,string">copyDirWithPermissions proc</a></li> <li><a href="#moveDir,string,string">moveDir proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2243" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2243" target="_blank">Edit</a> </dd>  <dt><pre id="existsOrCreateDir%2Cstring" data-language="nim">proc existsOrCreateDir(dir: string): bool {...}{.gcsafe, extern: "nos$1",
    tags: [WriteDirEffect, ReadDirEffect], raises: [OSError, IOError].}</pre></dt> <dd> <p>Check if a <span id="directory_1">directory</span> <code>dir</code> exists, and create it otherwise.</p> <p>Does not create parent directories (fails if parent does not exist). Returns <code>true</code> if the directory already exists, and <code>false</code> otherwise.</p> <p>See also:</p> <ul class="simple">
<li><a href="#removeDir,string">removeDir proc</a></li> <li><a href="#createDir,string">createDir proc</a></li> <li><a href="#copyDir,string,string">copyDir proc</a></li> <li><a href="#copyDirWithPermissions,string,string">copyDirWithPermissions proc</a></li> <li><a href="#moveDir,string,string">moveDir proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2312" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2312" target="_blank">Edit</a> </dd>  <dt><pre id="createDir%2Cstring" data-language="nim">proc createDir(dir: string) {...}{.gcsafe, extern: "nos$1",
                              tags: [WriteDirEffect, ReadDirEffect],
                              raises: [OSError, IOError].}</pre></dt> <dd> <p>Creates the <span id="directory_2">directory</span> <code>dir</code>.</p> <p>The directory may contain several subdirectories that do not exist yet. The full path is created. If this fails, <code>OSError</code> is raised.</p> <p>It does <strong>not</strong> fail if the directory already exists because for most usages this does not indicate an error.</p> <p>See also:</p> <ul class="simple">
<li><a href="#removeDir,string">removeDir proc</a></li> <li><a href="#existsOrCreateDir,string">existsOrCreateDir proc</a></li> <li><a href="#copyDir,string,string">copyDir proc</a></li> <li><a href="#copyDirWithPermissions,string,string">copyDirWithPermissions proc</a></li> <li><a href="#moveDir,string,string">moveDir proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2332" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2332" target="_blank">Edit</a> </dd>  <dt><pre id="copyDir%2Cstring%2Cstring" data-language="nim">proc copyDir(source, dest: string) {...}{.gcsafe, extern: "nos$1",
                                     tags: [WriteIOEffect, ReadIOEffect],
                                     gcsafe, locks: 0,
                                     raises: [OSError, IOError].}</pre></dt> <dd> <p>Copies a directory from <code>source</code> to <code>dest</code>.</p> <p>If this fails, <code>OSError</code> is raised.</p> <p>On the Windows platform this proc will copy the attributes from <code>source</code> into <code>dest</code>.</p> <p>On other platforms created files and directories will inherit the default permissions of a newly created file/directory for the user. Use <a href="#copyDirWithPermissions,string,string">copyDirWithPermissions proc</a> to preserve attributes recursively on these platforms.</p> <p>See also:</p> <ul class="simple">
<li><a href="#copyDirWithPermissions,string,string">copyDirWithPermissions proc</a></li> <li><a href="#copyFile,string,string">copyFile proc</a></li> <li><a href="#copyFileWithPermissions,string,string">copyFileWithPermissions proc</a></li> <li><a href="#removeDir,string">removeDir proc</a></li> <li><a href="#existsOrCreateDir,string">existsOrCreateDir proc</a></li> <li><a href="#createDir,string">createDir proc</a></li> <li><a href="#moveDir,string,string">moveDir proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2363" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2363" target="_blank">Edit</a> </dd>  <dt><pre id="moveDir%2Cstring%2Cstring" data-language="nim">proc moveDir(source, dest: string) {...}{.tags: [ReadIOEffect, WriteIOEffect],
                                     raises: [OSError, IOError].}</pre></dt> <dd> <p>Moves a directory from <code>source</code> to <code>dest</code>.</p> <p>If this fails, <code>OSError</code> is raised.</p> <p>See also:</p> <ul class="simple">
<li><a href="#moveFile,string,string">moveFile proc</a></li> <li><a href="#copyDir,string,string">copyDir proc</a></li> <li><a href="#copyDirWithPermissions,string,string">copyDirWithPermissions proc</a></li> <li><a href="#removeDir,string">removeDir proc</a></li> <li><a href="#existsOrCreateDir,string">existsOrCreateDir proc</a></li> <li><a href="#createDir,string">createDir proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2395" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2395" target="_blank">Edit</a> </dd>  <dt><pre id="createSymlink%2Cstring%2Cstring" data-language="nim">proc createSymlink(src, dest: string) {...}{.raises: [OSError], tags: [].}</pre></dt> <dd> <p>Create a symbolic link at <code>dest</code> which points to the item specified by <code>src</code>. On most operating systems, will fail if a link already exists.</p> <p><strong>Warning</strong>: Some OS's (such as Microsoft Windows) restrict the creation of symlinks to root users (administrators).</p> <p>See also:</p> <ul class="simple">
<li><a href="#createHardlink,string,string">createHardlink proc</a></li> <li><a href="#expandSymlink,string">expandSymlink proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2413" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2413" target="_blank">Edit</a> </dd>  <dt><pre id="createHardlink%2Cstring%2Cstring" data-language="nim">proc createHardlink(src, dest: string) {...}{.raises: [OSError], tags: [].}</pre></dt> <dd> <p>Create a hard link at <code>dest</code> which points to the item specified by <code>src</code>.</p> <p><strong>Warning</strong>: Some OS's restrict the creation of hard links to root users (administrators).</p> <p>See also:</p> <ul class="simple">
<li><a href="#createSymlink,string,string">createSymlink proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2441" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2441" target="_blank">Edit</a> </dd>  <dt><pre id="copyFileWithPermissions%2Cstring%2Cstring" data-language="nim">proc copyFileWithPermissions(source, dest: string; ignorePermissionErrors = true) {...}{.
    raises: [OSError, IOError, Exception],
    tags: [ReadIOEffect, WriteIOEffect, WriteDirEffect, ReadDirEffect].}</pre></dt> <dd> <p>Copies a file from <code>source</code> to <code>dest</code> preserving file permissions.</p> <p>This is a wrapper proc around <a href="#copyFile,string,string">copyFile</a>, <a href="#getFilePermissions,string">getFilePermissions</a> and <a href="#setFilePermissions,string,set%5BFilePermission%5D">setFilePermissions</a> procs on non-Windows platforms.</p> <p>On Windows this proc is just a wrapper for <a href="#copyFile,string,string">copyFile proc</a> since that proc already copies attributes.</p> <p>On non-Windows systems permissions are copied after the file itself has been copied, which won't happen atomically and could lead to a race condition. If <code>ignorePermissionErrors</code> is true (default), errors while reading/setting file attributes will be ignored, otherwise will raise <code>OSError</code>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#copyFile,string,string">copyFile proc</a></li> <li><a href="#copyDir,string,string">copyDir proc</a></li> <li><a href="#tryRemoveFile,string">tryRemoveFile proc</a></li> <li><a href="#removeFile,string">removeFile proc</a></li> <li><a href="#moveFile,string,string">moveFile proc</a></li> <li><a href="#copyDirWithPermissions,string,string">copyDirWithPermissions proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2463" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2463" target="_blank">Edit</a> </dd>  <dt><pre id="copyDirWithPermissions%2Cstring%2Cstring" data-language="nim">proc copyDirWithPermissions(source, dest: string; ignorePermissionErrors = true) {...}{.
    gcsafe, extern: "nos$1", tags: [WriteIOEffect, ReadIOEffect], gcsafe,
    locks: 0, raises: [OSError, IOError, Exception].}</pre></dt> <dd> <p>Copies a directory from <code>source</code> to <code>dest</code> preserving file permissions.</p> <p>If this fails, <code>OSError</code> is raised. This is a wrapper proc around <a href="#copyDir,string,string">copyDir</a> and <a href="#copyFileWithPermissions,string,string">copyFileWithPermissions</a> procs on non-Windows platforms.</p> <p>On Windows this proc is just a wrapper for <a href="#copyDir,string,string">copyDir proc</a> since that proc already copies attributes.</p> <p>On non-Windows systems permissions are copied after the file or directory itself has been copied, which won't happen atomically and could lead to a race condition. If <code>ignorePermissionErrors</code> is true (default), errors while reading/setting file attributes will be ignored, otherwise will raise <code>OSError</code>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#copyDir,string,string">copyDir proc</a></li> <li><a href="#copyFile,string,string">copyFile proc</a></li> <li><a href="#copyFileWithPermissions,string,string">copyFileWithPermissions proc</a></li> <li><a href="#removeDir,string">removeDir proc</a></li> <li><a href="#moveDir,string,string">moveDir proc</a></li> <li><a href="#existsOrCreateDir,string">existsOrCreateDir proc</a></li> <li><a href="#createDir,string">createDir proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2496" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2496" target="_blank">Edit</a> </dd>  <dt><pre id="inclFilePermissions%2Cstring%2Cset%5BFilePermission%5D" data-language="nim">proc inclFilePermissions(filename: string; permissions: set[FilePermission]) {...}{.
    gcsafe, extern: "nos$1", tags: [ReadDirEffect, WriteDirEffect],
    raises: [OSError].}</pre></dt> <dd> A convenience proc for:<pre class="listing" data-language="nim">setFilePermissions(filename, getFilePermissions(filename)+permissions)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2539" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2539" target="_blank">Edit</a> </dd>  <dt><pre id="exclFilePermissions%2Cstring%2Cset%5BFilePermission%5D" data-language="nim">proc exclFilePermissions(filename: string; permissions: set[FilePermission]) {...}{.
    gcsafe, extern: "nos$1", tags: [ReadDirEffect, WriteDirEffect],
    raises: [OSError].}</pre></dt> <dd> A convenience proc for:<pre class="listing" data-language="nim">setFilePermissions(filename, getFilePermissions(filename)-permissions)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2548" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2548" target="_blank">Edit</a> </dd>  <dt><pre id="expandSymlink%2Cstring" data-language="nim">proc expandSymlink(symlinkPath: string): string {...}{.raises: [OSError], tags: [].}</pre></dt> <dd> <p>Returns a string representing the path to which the symbolic link points.</p> <p>On Windows this is a noop, <code>symlinkPath</code> is simply returned.</p> <p>See also:</p> <ul class="simple">
<li><a href="#createSymlink,string,string">createSymlink proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2557" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2557" target="_blank">Edit</a> </dd>  <dt><pre id="parseCmdLine%2Cstring" data-language="nim">proc parseCmdLine(c: string): seq[string] {...}{.noSideEffect, gcsafe,
    extern: "nos$1", raises: [], tags: [].}</pre></dt> <dd> <p>Splits a <span id="command-line_1">command line</span> into several components.</p> <p><strong>Note</strong>: This proc is only occasionally useful, better use the <a href="parseopt.html">parseopt module</a>.</p> <p>On Windows, it uses the <a href="http://msdn.microsoft.com/en-us/library/17w5ykft.aspx">following parsing rules</a>:</p> <ul class="simple">
<li>Arguments are delimited by white space, which is either a space or a tab.</li> <li>The caret character (^) is not recognized as an escape character or delimiter. The character is handled completely by the command-line parser in the operating system before being passed to the argv array in the program.</li> <li>A string surrounded by double quotation marks ("string") is interpreted as a single argument, regardless of white space contained within. A quoted string can be embedded in an argument.</li> <li>A double quotation mark preceded by a backslash (") is interpreted as a literal double quotation mark character (").</li> <li>Backslashes are interpreted literally, unless they immediately precede a double quotation mark.</li> <li>If an even number of backslashes is followed by a double quotation mark, one backslash is placed in the argv array for every pair of backslashes, and the double quotation mark is interpreted as a string delimiter.</li> <li>If an odd number of backslashes is followed by a double quotation mark, one backslash is placed in the argv array for every pair of backslashes, and the double quotation mark is "escaped" by the remaining backslash, causing a literal double quotation mark (") to be placed in argv.</li> </ul> <p>On Posix systems, it uses the following parsing rules: Components are separated by whitespace unless the whitespace occurs within <code>"</code> or <code>'</code> quotes.</p> <p>See also:</p> <ul class="simple">
<li><a href="parseopt.html">parseopt module</a></li> <li><a href="#paramCount">paramCount proc</a></li> <li><a href="#paramStr,int">paramStr proc</a></li> <li><a href="#commandLineParams">commandLineParams proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2576" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2576" target="_blank">Edit</a> </dd>  <dt><pre id="paramCount" data-language="nim">proc paramCount(): int {...}{.tags: [ReadIOEffect], raises: [].}</pre></dt> <dd> <p>Returns the number of <span id="command-line-arguments_1">command line arguments</span> given to the application.</p> <p>Unlike <span id="argc_1">argc</span> in C, if your binary was called without parameters this will return zero. You can query each individual parameter with <a href="#paramStr,int">paramStr proc</a> or retrieve all of them in one go with <a href="#commandLineParams">commandLineParams proc</a>.</p> <p><strong>Availability</strong>: When generating a dynamic library (see <code>--app:lib</code>) on Posix this proc is not defined. Test for availability using <a href="system.html#declared,untyped">declared()</a>.</p> <p>See also:</p> <ul class="simple">
<li><a href="parseopt.html">parseopt module</a></li> <li><a href="#parseCmdLine,string">parseCmdLine proc</a></li> <li><a href="#paramStr,int">paramStr proc</a></li> <li><a href="#commandLineParams">commandLineParams proc</a></li> </ul> <p><strong>Examples:</strong></p> <pre class="listing" data-language="nim">when declared(paramCount):
  # Use paramCount() here
else:
  # Do something else!</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2675" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2675" target="_blank">Edit</a> </dd>  <dt><pre id="paramStr%2Cint" data-language="nim">proc paramStr(i: int): TaintedString {...}{.tags: [ReadIOEffect], raises: [].}</pre></dt> <dd> <p>Returns the <code>i</code>-th <span id="command-line-argument_1">command line argument</span> given to the application.</p> <p><code>i</code> should be in the range <code>1..paramCount()</code>, the <code>IndexDefect</code> exception will be raised for invalid values. Instead of iterating over <a href="#paramCount">paramCount()</a> with this proc you can call the convenience <a href="#commandLineParams">commandLineParams()</a>.</p> <p>Similarly to <span id="argv_1">argv</span> in C, it is possible to call <code>paramStr(0)</code> but this will return OS specific contents (usually the name of the invoked executable). You should avoid this and call <a href="#getAppFilename">getAppFilename()</a> instead.</p> <p><strong>Availability</strong>: When generating a dynamic library (see <code>--app:lib</code>) on Posix this proc is not defined. Test for availability using <a href="system.html#declared,untyped">declared()</a>.</p> <p>See also:</p> <ul class="simple">
<li><a href="parseopt.html">parseopt module</a></li> <li><a href="#parseCmdLine,string">parseCmdLine proc</a></li> <li><a href="#paramCount">paramCount proc</a></li> <li><a href="#commandLineParams">commandLineParams proc</a></li> <li><a href="#getAppFilename">getAppFilename proc</a></li> </ul> <p><strong>Examples:</strong></p> <pre class="listing" data-language="nim">when declared(paramStr):
  # Use paramStr() here
else:
  # Do something else!</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2703" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2703" target="_blank">Edit</a> </dd>  <dt><pre id="commandLineParams" data-language="nim">proc commandLineParams(): seq[TaintedString] {...}{.raises: [], tags: [ReadIOEffect].}</pre></dt> <dd> <p>Convenience proc which returns the command line parameters.</p> <p>This returns <strong>only</strong> the parameters. If you want to get the application executable filename, call <a href="#getAppFilename">getAppFilename()</a>.</p> <p><strong>Availability</strong>: On Posix there is no portable way to get the command line from a DLL and thus the proc isn't defined in this environment. You can test for its availability with <a href="system.html#declared,untyped">declared()</a>.</p> <p>See also:</p> <ul class="simple">
<li><a href="parseopt.html">parseopt module</a></li> <li><a href="#parseCmdLine,string">parseCmdLine proc</a></li> <li><a href="#paramCount">paramCount proc</a></li> <li><a href="#paramStr,int">paramStr proc</a></li> <li><a href="#getAppFilename">getAppFilename proc</a></li> </ul> <p><strong>Examples:</strong></p> <pre class="listing" data-language="nim">when declared(commandLineParams):
  # Use commandLineParams() here
else:
  # Do something else!</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2793" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2793" target="_blank">Edit</a> </dd>  <dt><pre id="getAppFilename" data-language="nim">proc getAppFilename(): string {...}{.gcsafe, extern: "nos$1", tags: [ReadIOEffect],
                                raises: [].}</pre></dt> <dd> <p>Returns the filename of the application's executable. This proc will resolve symlinks.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getAppDir">getAppDir proc</a></li> <li><a href="#getCurrentCompilerExe">getCurrentCompilerExe proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2954" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2954" target="_blank">Edit</a> </dd>  <dt><pre id="getAppDir" data-language="nim">proc getAppDir(): string {...}{.gcsafe, extern: "nos$1", tags: [ReadIOEffect],
                           raises: [].}</pre></dt> <dd> <p>Returns the directory of the application's executable.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getAppFilename">getAppFilename proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L3020" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L3020" target="_blank">Edit</a> </dd>  <dt><pre id="sleep%2Cint" data-language="nim">proc sleep(milsecs: int) {...}{.gcsafe, extern: "nos$1", tags: [TimeEffect],
                           raises: [].}</pre></dt> <dd> Sleeps <code>milsecs</code> milliseconds. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L3027" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L3027" target="_blank">Edit</a> </dd>  <dt><pre id="getFileSize%2Cstring" data-language="nim">proc getFileSize(file: string): BiggestInt {...}{.gcsafe, extern: "nos$1",
    tags: [ReadIOEffect], raises: [IOError, OSError].}</pre></dt> <dd> Returns the file size of <code>file</code> (in bytes). <code>OSError</code> is raised in case of an error. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L3037" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L3037" target="_blank">Edit</a> </dd>  <dt><pre id="getFileInfo%2CFileHandle" data-language="nim">proc getFileInfo(handle: FileHandle): FileInfo {...}{.raises: [OSError], tags: [].}</pre></dt> <dd> <p>Retrieves file information for the file object represented by the given handle.</p> <p>If the information cannot be retrieved, such as when the file handle is invalid, <code>OSError</code> is raised.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getFileInfo,File">getFileInfo(file) proc</a></li> <li><a href="#getFileInfo,string">getFileInfo(path) proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L3148" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L3148" target="_blank">Edit</a> </dd>  <dt><pre id="getFileInfo%2CFile" data-language="nim">proc getFileInfo(file: File): FileInfo {...}{.raises: [IOError, OSError], tags: [].}</pre></dt> <dd> <p>Retrieves file information for the file object.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getFileInfo,FileHandle">getFileInfo(handle) proc</a></li> <li><a href="#getFileInfo,string">getFileInfo(path) proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L3174" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L3174" target="_blank">Edit</a> </dd>  <dt><pre id="getFileInfo%2Cstring" data-language="nim">proc getFileInfo(path: string; followSymlink = true): FileInfo {...}{.
    raises: [OSError], tags: [].}</pre></dt> <dd> <p>Retrieves file information for the file object pointed to by <code>path</code>.</p> <p>Due to intrinsic differences between operating systems, the information contained by the returned <a href="#FileInfo">FileInfo object</a> will be slightly different across platforms, and in some cases, incomplete or inaccurate.</p> <p>When <code>followSymlink</code> is true (default), symlinks are followed and the information retrieved is information related to the symlink's target. Otherwise, information on the symlink itself is retrieved.</p> <p>If the information cannot be retrieved, such as when the path doesn't exist, or when permission restrictions prevent the program from retrieving file information, <code>OSError</code> is raised.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getFileInfo,FileHandle">getFileInfo(handle) proc</a></li> <li><a href="#getFileInfo,File">getFileInfo(file) proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L3184" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L3184" target="_blank">Edit</a> </dd>  <dt><pre id="isHidden%2Cstring" data-language="nim">proc isHidden(path: string): bool {...}{.raises: [], tags: [].}</pre></dt> <dd> <p>Determines whether <code>path</code> is hidden or not, using <a href="https://en.wikipedia.org/wiki/Hidden_file_and_hidden_directory">this reference</a>.</p> <p>On Windows: returns true if it exists and its "hidden" attribute is set.</p> <p>On posix: returns true if <code>lastPathPart(path)</code> starts with <code>.</code> and is not <code>.</code> or <code>..</code>.</p> <p><strong>Note</strong>: paths are not normalized to determine <code>isHidden</code>.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">when defined(posix):
  assert ".foo".isHidden
  assert not ".foo/bar".isHidden
  assert not ".".isHidden
  assert not "..".isHidden
  assert not "".isHidden
  assert ".foo/".isHidden</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L3222" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L3222" target="_blank">Edit</a> </dd>  <dt><pre id="getCurrentProcessId" data-language="nim">proc getCurrentProcessId(): int {...}{.raises: [], tags: [].}</pre></dt> <dd> <p>Return current process ID.</p> <p>See also:</p> <ul class="simple">
<li><a href="osproc.html#processID,Process">osproc.processID(p: Process)</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L3252" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L3252" target="_blank">Edit</a> </dd>  <dt><pre id="setLastModificationTime%2Cstring%2C" data-language="nim">proc setLastModificationTime(file: string; t: times.Time) {...}{.raises: [OSError],
    tags: [].}</pre></dt> <dd> Sets the <code>file</code>'s last modification time. <code>OSError</code> is raised in case of an error. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L3264" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L3264" target="_blank">Edit</a> </dd> </dl>  <h2 id="13">Funcs</h2> <dl>  <dt><pre id="isValidFilename%2Cstring" data-language="nim">func isValidFilename(filename: string; maxLen = 259.Positive): bool {...}{.
    raises: [], tags: [].}</pre></dt> <dd> <p>Returns true if <code>filename</code> is valid for crossplatform use.</p> <p>This is useful if you want to copy or save files across Windows, Linux, Mac, etc. You can pass full paths as argument too, but func only checks filenames. It uses <code>invalidFilenameChars</code>, <code>invalidFilenames</code> and <code>maxLen</code> to verify the specified <code>filename</code>.</p> <pre class="listing" data-language="nim">assert not isValidFilename(" foo")    ## Leading white space
assert not isValidFilename("foo ")    ## Trailing white space
assert not isValidFilename("foo.")    ## Ends with Dot
assert not isValidFilename("con.txt") ## "CON" is invalid (Windows)
assert not isValidFilename("OwO:UwU") ## ":" is invalid (Mac)
assert not isValidFilename("aux.bat") ## "AUX" is invalid (Windows)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L3281" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L3281" target="_blank">Edit</a> </dd> </dl>  <h2 id="15">Iterators</h2> <dl>  <dt><pre id="parentDirs.i%2Cstring" data-language="nim">iterator parentDirs(path: string; fromRoot = false; inclusive = true): string {...}{.
    raises: [], tags: [].}</pre></dt> <dd> <p>Walks over all parent directories of a given <code>path</code>.</p> <p>If <code>fromRoot</code> is true (default: false), the traversal will start from the file system root directory. If <code>inclusive</code> is true (default), the original argument will be included in the traversal.</p> <p>Relative paths won't be expanded by this iterator. Instead, it will traverse only the directories appearing in the relative path.</p> <p>See also:</p> <ul class="simple">
<li><a href="#parentDir,string">parentDir proc</a></li> </ul> <p><strong>Examples:</strong></p> <pre class="listing" data-language="nim">let g = "a/b/c"

for p in g.parentDirs:
  echo p
# a/b/c
# a/b
# a

for p in g.parentDirs(fromRoot=true):
  echo p
# a/
# a/b/
# a/b/c

for p in g.parentDirs(inclusive=false):
  echo p
# a/b
# a</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L560" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L560" target="_blank">Edit</a> </dd>  <dt><pre id="envPairs.i" data-language="nim">iterator envPairs(): tuple[key, value: TaintedString] {...}{.tags: [ReadEnvEffect],
    raises: [].}</pre></dt> <dd> <p>Iterate over all <span id="environments-variables_1">environments variables</span>.</p> <p>In the first component of the tuple is the name of the current variable stored, in the second its value.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getEnv,string,string">getEnv proc</a></li> <li><a href="#existsEnv,string">existsEnv proc</a></li> <li><a href="#putEnv,string,string">putEnv proc</a></li> <li><a href="#delEnv,string">delEnv proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/includes/osenv.nim#L215" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/includes/osenv.nim#L215" target="_blank">Edit</a> </dd>  <dt><pre id="walkPattern.i%2Cstring" data-language="nim">iterator walkPattern(pattern: string): string {...}{.tags: [ReadDirEffect],
    raises: [].}</pre></dt> <dd> <p>Iterate over all the files and directories that match the <code>pattern</code>.</p> <p>On POSIX this uses the <span id="glob_1">glob</span> call. <code>pattern</code> is OS dependent, but at least the <code>"*.ext"</code> notation is supported.</p> <p>See also:</p> <ul class="simple">
<li><a href="#walkFiles.i,string">walkFiles iterator</a></li> <li><a href="#walkDirs.i,string">walkDirs iterator</a></li> <li><a href="#walkDir.i,string">walkDir iterator</a></li> <li><a href="#walkDirRec.i,string">walkDirRec iterator</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1953" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1953" target="_blank">Edit</a> </dd>  <dt><pre id="walkFiles.i%2Cstring" data-language="nim">iterator walkFiles(pattern: string): string {...}{.tags: [ReadDirEffect], raises: [].}</pre></dt> <dd> <p>Iterate over all the files that match the <code>pattern</code>.</p> <p>On POSIX this uses the <span id="glob_2">glob</span> call. <code>pattern</code> is OS dependent, but at least the <code>"*.ext"</code> notation is supported.</p> <p>See also:</p> <ul class="simple">
<li><a href="#walkPattern.i,string">walkPattern iterator</a></li> <li><a href="#walkDirs.i,string">walkDirs iterator</a></li> <li><a href="#walkDir.i,string">walkDir iterator</a></li> <li><a href="#walkDirRec.i,string">walkDirRec iterator</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1967" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1967" target="_blank">Edit</a> </dd>  <dt><pre id="walkDirs.i%2Cstring" data-language="nim">iterator walkDirs(pattern: string): string {...}{.tags: [ReadDirEffect], raises: [].}</pre></dt> <dd> <p>Iterate over all the directories that match the <code>pattern</code>.</p> <p>On POSIX this uses the <span id="glob_3">glob</span> call. <code>pattern</code> is OS dependent, but at least the <code>"*.ext"</code> notation is supported.</p> <p>See also:</p> <ul class="simple">
<li><a href="#walkPattern.i,string">walkPattern iterator</a></li> <li><a href="#walkFiles.i,string">walkFiles iterator</a></li> <li><a href="#walkDir.i,string">walkDir iterator</a></li> <li><a href="#walkDirRec.i,string">walkDirRec iterator</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1981" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1981" target="_blank">Edit</a> </dd>  <dt><pre id="walkDir.i%2Cstring" data-language="nim">iterator walkDir(dir: string; relative = false; checkDir = false): tuple[
    kind: PathComponent, path: string] {...}{.tags: [ReadDirEffect],
    raises: [OSError].}</pre></dt> <dd> <p>Walks over the directory <code>dir</code> and yields for each directory or file in <code>dir</code>. The component type and full path for each item are returned.</p> <p>Walking is not recursive. If <code>relative</code> is true (default: false) the resulting path is shortened to be relative to <code>dir</code>. Example: This directory structure:</p>
<pre data-language="nim">dirA / dirB / fileB1.txt
     / dirC
     / fileA1.txt
     / fileA2.txt</pre> <p>and this code:</p> <pre class="listing" data-language="nim">for kind, path in walkDir("dirA"):
  echo(path)</pre>
<p>produce this output (but not necessarily in this order!):</p>
<pre data-language="nim">dirA/dirB
dirA/dirC
dirA/fileA1.txt
dirA/fileA2.txt</pre> <p>See also:</p> <ul class="simple">
<li><a href="#walkPattern.i,string">walkPattern iterator</a></li> <li><a href="#walkFiles.i,string">walkFiles iterator</a></li> <li><a href="#walkDirs.i,string">walkDirs iterator</a></li> <li><a href="#walkDirRec.i,string">walkDirRec iterator</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2078" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2078" target="_blank">Edit</a> </dd>  <dt><pre id="walkDirRec.i%2Cstring" data-language="nim">iterator walkDirRec(dir: string; yieldFilter = {pcFile}; followFilter = {pcDir};
                    relative = false; checkDir = false): string {...}{.
    tags: [ReadDirEffect], raises: [OSError].}</pre></dt> <dd> <p>Recursively walks over the directory <code>dir</code> and yields for each file or directory in <code>dir</code>.</p> <p>If <code>relative</code> is true (default: false) the resulting path is shortened to be relative to <code>dir</code>, otherwise the full path is returned.</p> <p><strong>Warning</strong>: Modifying the directory structure while the iterator is traversing may result in undefined behavior!</p> <p>Walking is recursive. <code>followFilter</code> controls the behaviour of the iterator:</p> <table>
<tr>
<th>yieldFilter</th>
<th>meaning</th>
</tr> <tr>
<td><code>pcFile</code></td>
<td>yield real files (default)</td>
</tr> <tr>
<td><code>pcLinkToFile</code></td>
<td>yield symbolic links to files</td>
</tr> <tr>
<td><code>pcDir</code></td>
<td>yield real directories</td>
</tr> <tr>
<td><code>pcLinkToDir</code></td>
<td>yield symbolic links to directories</td>
</tr> </table>
<table>
<tr>
<th>followFilter</th>
<th>meaning</th>
</tr> <tr>
<td><code>pcDir</code></td>
<td>follow real directories (default)</td>
</tr> <tr>
<td><code>pcLinkToDir</code></td>
<td>follow symbolic links to directories</td>
</tr> </table>
<p>See also:</p> <ul class="simple">
<li><a href="#walkPattern.i,string">walkPattern iterator</a></li> <li><a href="#walkFiles.i,string">walkFiles iterator</a></li> <li><a href="#walkDirs.i,string">walkDirs iterator</a></li> <li><a href="#walkDir.i,string">walkDir iterator</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L2176" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L2176" target="_blank">Edit</a> </dd> </dl>  <h2 id="18">Templates</h2> <dl>  <dt><pre id="existsFile.t%2Cvarargs%5Buntyped%5D" data-language="nim">template existsFile(args: varargs[untyped]): untyped {...}{.
    deprecated: "use fileExists".}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> use fileExists </div> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1164" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1164" target="_blank">Edit</a> </dd>  <dt><pre id="existsDir.t%2Cvarargs%5Buntyped%5D" data-language="nim">template existsDir(args: varargs[untyped]): untyped {...}{.
    deprecated: "use dirExists".}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> use dirExists </div> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/os.nim#L1166" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1166" target="_blank">Edit</a> </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2021 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/os.html" class="_attribution-link">https://nim-lang.org/docs/os.html</a>
  </p>
</div>
