<h1 class="title">std/os</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1" target="_blank">Edit</a>  <p class="module-desc">This module contains basic operating system facilities like retrieving environment variables, working with directories, running shell commands, etc. </p>
<p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import std/os
let myFile = "/path/to/my/file.nim"
assert splitPath(myFile) == (head: "/path/to/my", tail: "file.nim")
when defined(posix):
  assert parentDir(myFile) == "/path/to/my"
assert splitFile(myFile) == (dir: "/path/to/my", name: "file", ext: ".nim")
assert myFile.changeFileExt("c") == "/path/to/my/file.c"</pre>
<strong>See also:</strong><ul class="simple">
<li>
<a href="paths.html">paths</a> and <a href="files.html">files</a> modules for high-level file manipulation</li> <li>
<a href="osproc.html">osproc module</a> for process communication beyond <a title="proc execShellCmd(command: string): int" href="#execShellCmd,string">execShellCmd proc</a>
</li> <li><a href="uri.html">uri module</a></li> <li><a href="distros.html">distros module</a></li> <li><a href="dynlib.html">dynlib module</a></li> <li><a href="streams.html">streams module</a></li> </ul>  <h2 id="6">Imports</h2> <dl> <a href="ospaths2.html">ospaths2</a>, <a href="osfiles.html">osfiles</a>, <a href="osdirs.html">osdirs</a>, <a href="ossymlinks.html">ossymlinks</a>, <a href="osappdirs.html">osappdirs</a>, <a href="oscommon.html">oscommon</a>, <a href="since.html">since</a>, <a href="cmdline.html">cmdline</a>, <a href="strutils.html">strutils</a>, <a href="pathnorm.html">pathnorm</a>, <a href="winlean.html">winlean</a>, <a href="times.html">times</a>, <a href="oserrors.html">oserrors</a>, <a href="envvars.html">envvars</a>, <a href="osseps.html">osseps</a> </dl>   <h2 id="7">Types</h2> <dl> <div id="DeviceId"> <dt><pre>DeviceId = int32</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L716" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L716" target="_blank">Edit</a> </dd> </div> <div id="FileId"> <dt><pre>FileId = int64</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L717" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L717" target="_blank">Edit</a> </dd> </div> <div id="FileInfo"> <dt><pre data-language="nim">FileInfo = object
  id*: tuple[device: DeviceId, file: FileId] ## Device and file id.
  kind*: PathComponent       ## Kind of file object - directory, symlink, etc.
  size*: BiggestInt          ## Size of file.
  permissions*: set[FilePermission] ## File permissions
  linkCount*: BiggestInt     ## Number of hard links the file object has.
  lastAccessTime*: times.Time ## Time file was last accessed.
  lastWriteTime*: times.Time ## Time file was last modified/written to.
  creationTime*: times.Time  ## Time file was created. Not supported on all systems!
  blockSize*: int            ## Preferred I/O block size for this object.
                             ## In some filesystems, this may vary from file to file.
  isSpecial*: bool           ## Is file special? (on Unix some "files"
                             ## can be special=non-regular like FIFOs,
                             ## devices); for directories `isSpecial`
                             ## is always `false`, for symlinks it is
                             ## the same as for the link's target.</pre></dt> <dd> <p>Contains information associated with a file object.</p> <p>See also:</p> <ul class="simple">
<li><a title="proc getFileInfo(handle: FileHandle): FileInfo" href="#getFileInfo,FileHandle">getFileInfo(handle) proc</a></li> <li><a title="proc getFileInfo(file: File): FileInfo" href="#getFileInfo,File">getFileInfo(file) proc</a></li> <li><a title="proc getFileInfo(path: string; followSymlink = true): FileInfo" href="#getFileInfo,string">getFileInfo(path, followSymlink) proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L724" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L724" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="10">Consts</h2> <dl> <div id="ExeExts"> <dt><pre data-language="nim">ExeExts = ["exe", "cmd", "bat"]</pre></dt> <dd> Platform specific file extension for executables. On Windows <code>["exe", "cmd", "bat"]</code>, on Posix <code>[""]</code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L220" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L220" target="_blank">Edit</a> </dd> </div> <div id="invalidFilenameChars"> <dt><pre data-language="nim">invalidFilenameChars = {'/', '\\', ':', '*', '?', '\"', '&lt;', '&gt;', '|', '^',
                        '\x00'}</pre></dt> <dd> Characters that may produce invalid filenames across Linux, Windows and Mac. You can check if your filename contains any of these chars and strip them for safety. Mac bans <code>':'</code>, Linux bans <code>'/'</code>, Windows bans all others. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L64" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L64" target="_blank">Edit</a> </dd> </div> <div id="invalidFilenames"> <dt><pre data-language="nim">invalidFilenames = ["CON", "PRN", "AUX", "NUL", "COM0", "COM1", "COM2", "COM3",
                    "COM4", "COM5", "COM6", "COM7", "COM8", "COM9", "LPT0",
                    "LPT1", "LPT2", "LPT3", "LPT4", "LPT5", "LPT6", "LPT7",
                    "LPT8", "LPT9"]</pre></dt> <dd> Filenames that may be invalid across Linux, Windows, Mac, etc. You can check if your filename match these and rename it for safety (Currently all invalid filenames are from Windows only). <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L68" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L68" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="createHardlink-procs-all"> <div id="createHardlink,string,string"> <dt><pre data-language="nim">proc createHardlink(src, dest: string) {....raises: [OSError], tags: [],
    forbids: [].}</pre></dt> <dd> Create a hard link at <code><span class="Identifier">dest</span></code> which points to the item specified by <code><span class="Identifier">src</span></code>.<div class="admonition admonition-warning">
<span class="admonition-warning-text"><b>Warning:</b></span> Some OS's restrict the creation of hard links to root users (administrators).</div> <p>See also:</p> <ul class="simple">
<li><a href="symlinks.html#createSymlink,Path,Path">symlinks: createSymlink proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L463" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L463" target="_blank">Edit</a> </dd> </div> </div> <div id="exclFilePermissions-procs-all"> <div id="exclFilePermissions,string,set[FilePermission]"> <dt><pre data-language="nim">proc exclFilePermissions(filename: string; permissions: set[FilePermission]) {.
    ...gcsafe, extern: "nos$1", tags: [ReadDirEffect, WriteDirEffect],
    raises: [OSError], forbids: [].}</pre></dt> <dd> A convenience proc for:<pre class="listing" data-language="nim">setFilePermissions(filename, getFilePermissions(filename)-permissions)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L490" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L490" target="_blank">Edit</a> </dd> </div> </div> <div id="execShellCmd-procs-all"> <div id="execShellCmd,string"> <dt><pre data-language="nim">proc execShellCmd(command: string): int {....gcsafe, extern: "nos$1",
    tags: [ExecIOEffect], raises: [], forbids: [].}</pre></dt> <dd> <p>Executes a <span id="shell-command_1">shell command</span>.</p> <p>Command has the form 'program args' where args are the command line arguments given to program. The proc returns the error code of the shell when it has finished (zero if there is no error). The proc does not return until the process has finished.</p> <p>To execute a program without having a shell involved, use <a href="osproc.html#execProcess,string,string,openArray[string],StringTableRef,set[ProcessOption]">osproc.execProcess proc</a>.</p> <p><strong>Examples:</strong></p> <pre class="listing" data-language="nim">discard execShellCmd("ls -la")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L401" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L401" target="_blank">Edit</a> </dd> </div> </div> <div id="exitStatusLikeShell-procs-all"> <div id="exitStatusLikeShell,cint"> <dt><pre data-language="nim">proc exitStatusLikeShell(status: cint): cint {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Converts exit code from <code><span class="Identifier">c_system</span></code> into a shell exit code. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L390" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L390" target="_blank">Edit</a> </dd> </div> </div> <div id="expandFilename-procs-all"> <div id="expandFilename,string"> <dt><pre data-language="nim">proc expandFilename(filename: string): string {....gcsafe, extern: "nos$1",
    tags: [ReadDirEffect], raises: [OSError], forbids: [].}</pre></dt> <dd> <p>Returns the full (<span id="absolute_1">absolute</span>) path of an existing file <code><span class="Identifier">filename</span></code>.</p> <p>Raises <code><span class="Identifier">OSError</span></code> in case of an error. Follows symlinks.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L419" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L419" target="_blank">Edit</a> </dd> </div> </div> <div id="expandTilde-procs-all"> <div id="expandTilde,string"> <dt><pre data-language="nim">proc expandTilde(path: string): string {....tags: [ReadEnvEffect, ReadIOEffect],
    raises: [], forbids: [].}</pre></dt> <dd> <p>Expands <code>~</code> or a path starting with <code>~/</code> to a full path, replacing <code>~</code> with <a href="appdirs.html#getHomeDir">appdirs: getHomeDir()</a> (otherwise returns <code>path</code> unmodified).</p> <p>Windows: this is still supported despite the Windows platform not having this convention; also, both <code>~/</code> and <code>~\</code> are handled.</p> <p>See also:</p> <ul class="simple">
<li><a href="appdirs.html#getHomeDir">appdirs: getHomeDir proc</a></li> <li><a href="appdirs.html#getConfigDir">appdirs: getConfigDir proc</a></li> <li><a href="appdirs.html#getTempDir">appdirs: getTempDir proc</a></li> <li><a href="ospaths2.html#getCurrentDir">ospaths2: getCurrentDir proc</a></li> <li><a href="dirs.html#setCurrentDir,Path">dirs: setCurrentDir proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert expandTilde("~" / "appname.cfg") == getHomeDir() / "appname.cfg"
assert expandTilde("~/foo/bar") == getHomeDir() / "foo/bar"
assert expandTilde("/foo/bar") == "/foo/bar"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L112" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L112" target="_blank">Edit</a> </dd> </div> </div> <div id="fileNewer-procs-all"> <div id="fileNewer,string,string"> <dt><pre data-language="nim">proc fileNewer(a, b: string): bool {....gcsafe, extern: "nos$1", raises: [OSError],
                                     tags: [], forbids: [].}</pre></dt> <dd> <p>Returns true if the file <code><span class="Identifier">a</span></code> is newer than file <code><span class="Identifier">b</span></code>, i.e. if <code><span class="Identifier">a</span></code>'s modification time is later than <code><span class="Identifier">b</span></code>'s.</p> <p>See also:</p> <ul class="simple">
<li><a title="proc getLastModificationTime(file: string): times.Time" href="#getLastModificationTime,string">getLastModificationTime proc</a></li> <li><a title="proc getLastAccessTime(file: string): times.Time" href="#getLastAccessTime,string">getLastAccessTime proc</a></li> <li><a title="proc getCreationTime(file: string): times.Time" href="#getCreationTime,string">getCreationTime proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L340" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L340" target="_blank">Edit</a> </dd> </div> </div> <div id="findExe-procs-all"> <div id="findExe,string,bool,openArray[string]"> <dt><pre data-language="nim">proc findExe(exe: string; followSymlinks: bool = true;
             extensions: openArray[string] = ExeExts): string {.
    ...tags: [ReadDirEffect, ReadEnvEffect, ReadIOEffect], raises: [], forbids: [].}</pre></dt> <dd> <p>Searches for <code><span class="Identifier">exe</span></code> in the current working directory and then in directories listed in the <code>PATH</code> environment variable.</p> <p>Returns <code><span class="StringLit">""</span></code> if the <code><span class="Identifier">exe</span></code> cannot be found. <code><span class="Identifier">exe</span></code> is added the <a title="const ExeExts" href="#ExeExts">ExeExts</a> file extensions if it has none.</p> <p>If the system supports symlinks it also resolves them until it meets the actual file. This behavior can be disabled if desired by setting <code><span class="Identifier">followSymlinks</span> <span class="Operator">=</span> <span class="Identifier">false</span></code>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L224" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L224" target="_blank">Edit</a> </dd> </div> </div> <div id="getAppDir-procs-all"> <div id="getAppDir"> <dt><pre data-language="nim">proc getAppDir(): string {....gcsafe, extern: "nos$1", tags: [ReadIOEffect],
                           raises: [], forbids: [].}</pre></dt> <dd> <p>Returns the directory of the application's executable.</p> <p>See also:</p> <ul class="simple">
<li><a title="proc getAppFilename(): string" href="#getAppFilename">getAppFilename proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L681" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L681" target="_blank">Edit</a> </dd> </div> </div> <div id="getAppFilename-procs-all"> <div id="getAppFilename"> <dt><pre data-language="nim">proc getAppFilename(): string {....gcsafe, extern: "nos$1", tags: [ReadIOEffect],
                                raises: [], forbids: [].}</pre></dt> <dd> <p>Returns the filename of the application's executable. This proc will resolve symlinks.</p> <p>See also:</p> <ul class="simple">
<li><a title="proc getAppDir(): string" href="#getAppDir">getAppDir proc</a></li> <li><a title="proc getCurrentCompilerExe(): string" href="#getCurrentCompilerExe">getCurrentCompilerExe proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L627" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L627" target="_blank">Edit</a> </dd> </div> </div> <div id="getCreationTime-procs-all"> <div id="getCreationTime,string"> <dt><pre data-language="nim">proc getCreationTime(file: string): times.Time {....gcsafe, extern: "nos$1",
    raises: [OSError], tags: [], forbids: [].}</pre></dt> <dd> <p>Returns the <code><span class="Identifier">file</span></code>'s creation time.</p> <p><strong>Note:</strong> Under POSIX OS's, the returned time may actually be the time at which the file's attribute's were last modified. See <a href="https://github.com/nim-lang/Nim/issues/1058">here</a> for details.</p> <p>See also:</p> <ul class="simple">
<li><a title="proc getLastModificationTime(file: string): times.Time" href="#getLastModificationTime,string">getLastModificationTime proc</a></li> <li><a title="proc getLastAccessTime(file: string): times.Time" href="#getLastAccessTime,string">getLastAccessTime proc</a></li> <li><a title="proc fileNewer(a, b: string): bool" href="#fileNewer,string,string">fileNewer proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L318" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L318" target="_blank">Edit</a> </dd> </div> </div> <div id="getCurrentCompilerExe-procs-all"> <div id="getCurrentCompilerExe"> <dt><pre data-language="nim">proc getCurrentCompilerExe(): string {.compileTime, ...raises: [], tags: [],
                                       forbids: [].}</pre></dt> <dd> <p>This is <a title="proc getAppFilename(): string" href="#getAppFilename">getAppFilename()</a> at compile time.</p> <p>Can be used to retrieve the currently executing Nim compiler from a Nim or nimscript program, or the nimble binary inside a nimble program (likewise with other binaries built from compiler API).</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L455" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L455" target="_blank">Edit</a> </dd> </div> </div> <div id="getCurrentProcessId-procs-all"> <div id="getCurrentProcessId"> <dt><pre data-language="nim">proc getCurrentProcessId(): int {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Return current process ID.</p> <p>See also:</p> <ul class="simple">
<li><a href="osproc.html#processID,Process">osproc.processID(p: Process)</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L956" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L956" target="_blank">Edit</a> </dd> </div> </div> <div id="getFileInfo-procs-all"> <div id="getFileInfo,File"> <dt><pre data-language="nim">proc getFileInfo(file: File): FileInfo {....raises: [IOError, OSError], tags: [],
    forbids: [].}</pre></dt> <dd> <p>Retrieves file information for the file object.</p> <p>See also:</p> <ul class="simple">
<li><a title="proc getFileInfo(handle: FileHandle): FileInfo" href="#getFileInfo,FileHandle">getFileInfo(handle) proc</a></li> <li><a title="proc getFileInfo(path: string; followSymlink = true): FileInfo" href="#getFileInfo,string">getFileInfo(path, followSymlink) proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L847" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L847" target="_blank">Edit</a> </dd> </div> <div id="getFileInfo,FileHandle"> <dt><pre data-language="nim">proc getFileInfo(handle: FileHandle): FileInfo {....raises: [OSError], tags: [],
    forbids: [].}</pre></dt> <dd> <p>Retrieves file information for the file object represented by the given handle.</p> <p>If the information cannot be retrieved, such as when the file handle is invalid, <code><span class="Identifier">OSError</span></code> is raised.</p> <p>See also:</p> <ul class="simple">
<li><a title="proc getFileInfo(file: File): FileInfo" href="#getFileInfo,File">getFileInfo(file) proc</a></li> <li><a title="proc getFileInfo(path: string; followSymlink = true): FileInfo" href="#getFileInfo,string">getFileInfo(path, followSymlink) proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L821" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L821" target="_blank">Edit</a> </dd> </div> <div id="getFileInfo,string"> <dt><pre data-language="nim">proc getFileInfo(path: string; followSymlink = true): FileInfo {.
    ...raises: [OSError], tags: [], forbids: [].}</pre></dt> <dd> <p>Retrieves file information for the file object pointed to by <code><span class="Identifier">path</span></code>.</p> <p>Due to intrinsic differences between operating systems, the information contained by the returned <a title="object FileInfo" href="#FileInfo">FileInfo object</a> will be slightly different across platforms, and in some cases, incomplete or inaccurate.</p> <p>When <code><span class="Identifier">followSymlink</span></code> is true (default), symlinks are followed and the information retrieved is information related to the symlink's target. Otherwise, information on the symlink itself is retrieved (however, field <code><span class="Identifier">isSpecial</span></code> is still determined from the target on Unix).</p> <p>If the information cannot be retrieved, such as when the path doesn't exist, or when permission restrictions prevent the program from retrieving file information, <code><span class="Identifier">OSError</span></code> is raised.</p> <p>See also:</p> <ul class="simple">
<li><a title="proc getFileInfo(handle: FileHandle): FileInfo" href="#getFileInfo,FileHandle">getFileInfo(handle) proc</a></li> <li><a title="proc getFileInfo(file: File): FileInfo" href="#getFileInfo,File">getFileInfo(file) proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L857" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L857" target="_blank">Edit</a> </dd> </div> </div> <div id="getFileSize-procs-all"> <div id="getFileSize,string"> <dt><pre data-language="nim">proc getFileSize(file: string): BiggestInt {....gcsafe, extern: "nos$1",
    tags: [ReadIOEffect], raises: [OSError], forbids: [].}</pre></dt> <dd> Returns the file size of <code><span class="Identifier">file</span></code> (in bytes). <code>OSError</code> is raised in case of an error. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L698" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L698" target="_blank">Edit</a> </dd> </div> </div> <div id="getLastAccessTime-procs-all"> <div id="getLastAccessTime,string"> <dt><pre data-language="nim">proc getLastAccessTime(file: string): times.Time {....gcsafe, extern: "nos$1",
    raises: [OSError], tags: [], forbids: [].}</pre></dt> <dd> <p>Returns the <code><span class="Identifier">file</span></code>'s last read or write access time.</p> <p>See also:</p> <ul class="simple">
<li><a title="proc getLastModificationTime(file: string): times.Time" href="#getLastModificationTime,string">getLastModificationTime proc</a></li> <li><a title="proc getCreationTime(file: string): times.Time" href="#getCreationTime,string">getCreationTime proc</a></li> <li><a title="proc fileNewer(a, b: string): bool" href="#fileNewer,string,string">fileNewer proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L300" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L300" target="_blank">Edit</a> </dd> </div> </div> <div id="getLastModificationTime-procs-all"> <div id="getLastModificationTime,string"> <dt><pre data-language="nim">proc getLastModificationTime(file: string): times.Time {....gcsafe,
    extern: "nos$1", raises: [OSError], tags: [], forbids: [].}</pre></dt> <dd> <p>Returns the <code><span class="Identifier">file</span></code>'s last modification time.</p> <p>See also:</p> <ul class="simple">
<li><a title="proc getLastAccessTime(file: string): times.Time" href="#getLastAccessTime,string">getLastAccessTime proc</a></li> <li><a title="proc getCreationTime(file: string): times.Time" href="#getCreationTime,string">getCreationTime proc</a></li> <li><a title="proc fileNewer(a, b: string): bool" href="#fileNewer,string,string">fileNewer proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L282" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L282" target="_blank">Edit</a> </dd> </div> </div> <div id="inclFilePermissions-procs-all"> <div id="inclFilePermissions,string,set[FilePermission]"> <dt><pre data-language="nim">proc inclFilePermissions(filename: string; permissions: set[FilePermission]) {.
    ...gcsafe, extern: "nos$1", tags: [ReadDirEffect, WriteDirEffect],
    raises: [OSError], forbids: [].}</pre></dt> <dd> A convenience proc for:<pre class="listing" data-language="nim">setFilePermissions(filename, getFilePermissions(filename)+permissions)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L481" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L481" target="_blank">Edit</a> </dd> </div> </div> <div id="isAdmin-procs-all"> <div id="isAdmin"> <dt><pre data-language="nim">proc isAdmin(): bool {....raises: [OSError, OSError], tags: [], forbids: [].}</pre></dt> <dd> Returns whether the caller's process is a member of the Administrators local group (on Windows) or a root (on POSIX), via <code><span class="Identifier">geteuid</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">==</span> <span class="DecNumber">0</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L358" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L358" target="_blank">Edit</a> </dd> </div> </div> <div id="isHidden-procs-all"> <div id="isHidden,string"> <dt><pre data-language="nim">proc isHidden(path: string): bool {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Determines whether <code>path</code> is hidden or not, using <a href="https://en.wikipedia.org/wiki/Hidden_file_and_hidden_directory">this reference</a>.</p> <p>On Windows: returns true if it exists and its "hidden" attribute is set.</p> <p>On posix: returns true if <code>lastPathPart(path)</code> starts with <code>.</code> and is not <code>.</code> or <code>..</code>.</p> <p><strong>Note</strong>: paths are not normalized to determine <code><span class="Identifier">isHidden</span></code>.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">when defined(posix):
  assert ".foo".isHidden
  assert not ".foo/bar".isHidden
  assert not ".".isHidden
  assert not "..".isHidden
  assert not "".isHidden
  assert ".foo/".isHidden</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L929" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L929" target="_blank">Edit</a> </dd> </div> </div> <div id="isValidFilename-procs-all"> <div id="isValidFilename,string"> <dt><pre data-language="nim">func isValidFilename(filename: string; maxLen = 259.Positive): bool {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Returns <code><span class="Identifier">true</span></code> if <code><span class="Identifier">filename</span></code> is valid for crossplatform use.</p> <p>This is useful if you want to copy or save files across Windows, Linux, Mac, etc. It uses <code><span class="Identifier">invalidFilenameChars</span></code>, <code><span class="Identifier">invalidFilenames</span></code> and <code><span class="Identifier">maxLen</span></code> to verify the specified <code><span class="Identifier">filename</span></code>.</p> <p>See also:</p> <ul class="simple">
<li><a href="https://docs.microsoft.com/en-us/dotnet/api/system.io.pathtoolongexception">https://docs.microsoft.com/en-us/dotnet/api/system.io.pathtoolongexception</a></li> <li><a href="https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file">https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file</a></li> <li><a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247%28v=vs.85%29.aspx">https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247%28v=vs.85%29.aspx</a></li> </ul> <div class="admonition admonition-warning">
<span class="admonition-warning-text"><b>Warning:</b></span> This only checks filenames, not whole paths (because basically you can mount anything as a path on Linux).</div> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">assert not isValidFilename(" foo")     # Leading white space
assert not isValidFilename("foo ")     # Trailing white space
assert not isValidFilename("foo.")     # Ends with dot
assert not isValidFilename("con.txt")  # "CON" is invalid (Windows)
assert not isValidFilename("OwO:UwU")  # ":" is invalid (Mac)
assert not isValidFilename("aux.bat")  # "AUX" is invalid (Windows)
assert not isValidFilename("")         # Empty string
assert not isValidFilename("foo/")     # Filename is empty</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L986" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L986" target="_blank">Edit</a> </dd> </div> </div> <div id="quoteShell-procs-all"> <div id="quoteShell,string"> <dt><pre data-language="nim">proc quoteShell(s: string): string {.noSideEffect, ...gcsafe, extern: "nosp$1",
                                     raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Quote <code>s</code>, so it can be safely passed to shell.</p> <p>When on Windows, it calls <a title="proc quoteShellWindows(s: string): string" href="#quoteShellWindows,string">quoteShellWindows proc</a>. Otherwise, calls <a title="proc quoteShellPosix(s: string): string" href="#quoteShellPosix,string">quoteShellPosix proc</a>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L186" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L186" target="_blank">Edit</a> </dd> </div> </div> <div id="quoteShellCommand-procs-all"> <div id="quoteShellCommand,openArray[string]"> <dt><pre data-language="nim">proc quoteShellCommand(args: openArray[string]): string {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Concatenates and quotes shell arguments <code><span class="Identifier">args</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">when defined(posix):
  assert quoteShellCommand(["aaa", "", "c d"]) == "aaa '' 'c d'"
when defined(windows):
  assert quoteShellCommand(["aaa", "", "c d"]) == "aaa \"\" \"c d\""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L196" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L196" target="_blank">Edit</a> </dd> </div> </div> <div id="quoteShellPosix-procs-all"> <div id="quoteShellPosix,string"> <dt><pre data-language="nim">proc quoteShellPosix(s: string): string {.noSideEffect, ...gcsafe,
    extern: "nosp$1", raises: [], tags: [], forbids: [].}</pre></dt> <dd> Quote <code>s</code>, so it can be safely passed to POSIX shell. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L174" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L174" target="_blank">Edit</a> </dd> </div> </div> <div id="quoteShellWindows-procs-all"> <div id="quoteShellWindows,string"> <dt><pre data-language="nim">proc quoteShellWindows(s: string): string {.noSideEffect, ...gcsafe,
    extern: "nosp$1", raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Quote <code><span class="Identifier">s</span></code>, so it can be safely passed to Windows API.</p> <p>Based on Python's <code><span class="Identifier">subprocess</span><span class="Operator">.</span><span class="Identifier">list2cmdline</span></code>. See <a href="http://msdn.microsoft.com/en-us/library/17w5ykft.aspx">this link</a> for more details.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L141" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L141" target="_blank">Edit</a> </dd> </div> </div> <div id="sameFileContent-procs-all"> <div id="sameFileContent,string,string"> <dt><pre data-language="nim">proc sameFileContent(path1, path2: string): bool {....gcsafe, extern: "nos$1",
    tags: [ReadIOEffect], raises: [IOError, OSError], forbids: [].}</pre></dt> <dd> <p>Returns true if both pathname arguments refer to files with identical binary content.</p> <p>See also:</p> <ul class="simple">
<li><a href="ospaths2.html#sameFile,string,string">ospaths2: sameFile proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L896" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L896" target="_blank">Edit</a> </dd> </div> </div> <div id="setLastModificationTime-procs-all"> <div id="setLastModificationTime,string,"> <dt><pre data-language="nim">proc setLastModificationTime(file: string; t: times.Time) {....raises: [OSError],
    tags: [], forbids: [].}</pre></dt> <dd> Sets the <code><span class="Identifier">file</span></code>'s last modification time. <code><span class="Identifier">OSError</span></code> is raised in case of an error. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L968" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L968" target="_blank">Edit</a> </dd> </div> </div> <div id="sleep-procs-all"> <div id="sleep,int"> <dt><pre data-language="nim">proc sleep(milsecs: int) {....gcsafe, extern: "nos$1", tags: [TimeEffect],
                           raises: [], forbids: [].}</pre></dt> <dd> Sleeps <code><span class="Identifier">milsecs</span></code> milliseconds. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L688" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L688" target="_blank">Edit</a> </dd> </div> </div> </dl>   <h2 id="18">Templates</h2> <dl> <div id="existsDir-templates-all"> <div id="existsDir.t,varargs[untyped]"> <dt><pre data-language="nim">template existsDir(args: varargs[untyped]): untyped {.
    ...deprecated: "use dirExists".}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> use dirExists </div> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L1023" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1023" target="_blank">Edit</a> </dd> </div> </div> <div id="existsFile-templates-all"> <div id="existsFile.t,varargs[untyped]"> <dt><pre data-language="nim">template existsFile(args: varargs[untyped]): untyped {.
    ...deprecated: "use fileExists".}</pre></dt> <dd> <div class="deprecation-message"> <b>Deprecated:</b> use fileExists </div> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/os.nim#L1021" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/os.nim#L1021" target="_blank">Edit</a> </dd> </div> </div> </dl>   <h2 id="19">Exports</h2> <dl> <a href="ospaths2.html#changeFileExt,string,string"><span class="Identifier">changeFileExt</span></a>, <a href="ospaths2.html#/,string,string"><span class="Identifier">/</span></a>, <a href="ospaths2.html#splitFile,string"><span class="Identifier">splitFile</span></a>, <a href="ospaths2.html#normalizeExe,string"><span class="Identifier">normalizeExe</span></a>, <a href="ospaths2.html#normalizePath,string"><span class="Identifier">normalizePath</span></a>, <a href="ospaths2.html#cmpPaths,string,string"><span class="Identifier">cmpPaths</span></a>, <a href="oscommon.html#WriteDirEffect"><span class="Identifier">WriteDirEffect</span></a>, <a href="osseps.html#ScriptExt"><span class="Identifier">ScriptExt</span></a>, <a href="ospaths2.html#lastPathPart,string"><span class="Identifier">lastPathPart</span></a>, <a href="ospaths2.html#isRelativeTo,string,string"><span class="Identifier">isRelativeTo</span></a>, <a href="ospaths2.html#absolutePath,string"><span class="Identifier">absolutePath</span></a>, <a href="ospaths2.html#isAbsolute,string"><span class="Identifier">isAbsolute</span></a>, <a href="ospaths2.html#parentDir,string"><span class="Identifier">parentDir</span></a>, <a href="ospaths2.html#unixToNativePath,string,string"><span class="Identifier">unixToNativePath</span></a>, <a href="ospaths2.html#/../,string,string"><span class="Identifier">/../</span></a>, <a href="osseps.html#DirSep"><span class="Identifier">DirSep</span></a>, <a href="ospaths2.html#normalizePathEnd,string"><span class="Identifier">normalizePathEnd</span></a>, <a href="osseps.html#PathSep"><span class="Identifier">PathSep</span></a>, <a href="ospaths2.html#normalizedPath,string"><span class="Identifier">normalizedPath</span></a>, <a href="osseps.html#DynlibFormat"><span class="Identifier">DynlibFormat</span></a>, <a href="ospaths2.html#normalizePathEnd,string_2"><span class="Identifier">normalizePathEnd</span></a>, <a href="ospaths2.html#addFileExt,string,string"><span class="Identifier">addFileExt</span></a>, <a href="ospaths2.html#joinPath,string,string"><span class="Identifier">joinPath</span></a>, <a href="ospaths2.html#extractFilename,string"><span class="Identifier">extractFilename</span></a>, <a href="ospaths2.html#relativePath,string,string"><span class="Identifier">relativePath</span></a>, <a href="osseps.html#FileSystemCaseSensitive"><span class="Identifier">FileSystemCaseSensitive</span></a>, <a href="ospaths2.html#sameFile,string,string"><span class="Identifier">sameFile</span></a>, <a href="oscommon.html#ReadDirEffect"><span class="Identifier">ReadDirEffect</span></a>, <a href="ospaths2.html#joinPath,varargs[string]"><span class="Identifier">joinPath</span></a>, <a href="osseps.html#CurDir"><span class="Identifier">CurDir</span></a>, <a href="osseps.html#ExtSep"><span class="Identifier">ExtSep</span></a>, <a href="ospaths2.html#splitPath,string"><span class="Identifier">splitPath</span></a>, <a href="ospaths2.html#tailDir,string"><span class="Identifier">tailDir</span></a>, <a href="ospaths2.html#getCurrentDir"><span class="Identifier">getCurrentDir</span></a>, <a href="ospaths2.html#searchExtPos,string"><span class="Identifier">searchExtPos</span></a>, <a href="ospaths2.html#parentDirs.i,string"><span class="Identifier">parentDirs</span></a>, <a href="osseps.html#AltSep"><span class="Identifier">AltSep</span></a>, <a href="osseps.html#doslikeFileSystem"><span class="Identifier">doslikeFileSystem</span></a>, <a href="osseps.html#ExeExt"><span class="Identifier">ExeExt</span></a>, <a href="ospaths2.html#isRootDir,string"><span class="Identifier">isRootDir</span></a>, <a href="osseps.html#ParDir"><span class="Identifier">ParDir</span></a>, <a href="osfiles.html#tryRemoveFile,string"><span class="Identifier">tryRemoveFile</span></a>, <a href="osfiles.html#removeFile,string"><span class="Identifier">removeFile</span></a>, <a href="osfiles.html#copyFileToDir,string,string"><span class="Identifier">copyFileToDir</span></a>, <a href="osfiles.html#moveFile,string,string"><span class="Identifier">moveFile</span></a>, <a href="oscommon.html#fileExists,string"><span class="Identifier">fileExists</span></a>, <a href="osfiles.html#FilePermission"><span class="Identifier">FilePermission</span></a>, <a href="osfiles.html#getFilePermissions,string"><span class="Identifier">getFilePermissions</span></a>, <a href="osfiles.html#CopyFlag"><span class="Identifier">CopyFlag</span></a>, <a href="osfiles.html#setFilePermissions,string,set[FilePermission]"><span class="Identifier">setFilePermissions</span></a>, <a href="osfiles.html#copyFileWithPermissions,string,string"><span class="Identifier">copyFileWithPermissions</span></a>, <a href="osfiles.html#copyFile,string,string"><span class="Identifier">copyFile</span></a>, <a href="osdirs.html#walkFiles.i,string"><span class="Identifier">walkFiles</span></a>, <a href="oscommon.html#dirExists,string"><span class="Identifier">dirExists</span></a>, <a href="osdirs.html#existsOrCreateDir,string"><span class="Identifier">existsOrCreateDir</span></a>, <a href="osdirs.html#walkDirRec.i,string"><span class="Identifier">walkDirRec</span></a>, <a href="osdirs.html#removeDir,string"><span class="Identifier">removeDir</span></a>, <a href="osdirs.html#walkDir.i,string"><span class="Identifier">walkDir</span></a>, <a href="oscommon.html#PathComponent"><span class="Identifier">PathComponent</span></a>, <a href="osdirs.html#walkDirs.i,string"><span class="Identifier">walkDirs</span></a>, <a href="osdirs.html#moveDir,string,string"><span class="Identifier">moveDir</span></a>, <a href="osdirs.html#createDir,string"><span class="Identifier">createDir</span></a>, <a href="osdirs.html#copyDirWithPermissions,string,string"><span class="Identifier">copyDirWithPermissions</span></a>, <a href="osdirs.html#copyDir,string,string"><span class="Identifier">copyDir</span></a>, <a href="osdirs.html#walkPattern.i,string"><span class="Identifier">walkPattern</span></a>, <a href="osdirs.html#setCurrentDir,string"><span class="Identifier">setCurrentDir</span></a>, <a href="oscommon.html#symlinkExists,string"><span class="Identifier">symlinkExists</span></a>, <a href="ossymlinks.html#expandSymlink,string"><span class="Identifier">expandSymlink</span></a>, <a href="ossymlinks.html#createSymlink,string,string"><span class="Identifier">createSymlink</span></a>, <a href="osappdirs.html#getConfigDir"><span class="Identifier">getConfigDir</span></a>, <a href="osappdirs.html#getCacheDir"><span class="Identifier">getCacheDir</span></a>, <a href="osappdirs.html#getDataDir"><span class="Identifier">getDataDir</span></a>, <a href="osappdirs.html#getTempDir"><span class="Identifier">getTempDir</span></a>, <a href="osappdirs.html#getHomeDir"><span class="Identifier">getHomeDir</span></a>, <a href="osappdirs.html#getCacheDir,string"><span class="Identifier">getCacheDir</span></a>, <a href="cmdline.html#parseCmdLine,string"><span class="Identifier">parseCmdLine</span></a>, <a href="cmdline.html#paramCount"><span class="Identifier">paramCount</span></a>, <a href="cmdline.html#commandLineParams"><span class="Identifier">commandLineParams</span></a>, <a href="cmdline.html#paramStr,int"><span class="Identifier">paramStr</span></a>, <a href="cmdline.html#getCommandLine.t"><span class="Identifier">getCommandLine</span></a>, <a href="oserrors.html#$,OSErrorCode"><span class="Identifier">$</span></a>, <a href="oserrors.html#==,OSErrorCode,OSErrorCode"><span class="Identifier">==</span></a>, <a href="oserrors.html#newOSError,OSErrorCode,string"><span class="Identifier">newOSError</span></a>, <a href="oserrors.html#osErrorMsg,OSErrorCode"><span class="Identifier">osErrorMsg</span></a>, <a href="oserrors.html#raiseOSError,OSErrorCode,string"><span class="Identifier">raiseOSError</span></a>, <a href="oserrors.html#osLastError"><span class="Identifier">osLastError</span></a>, <a href="oserrors.html#OSErrorCode"><span class="Identifier">OSErrorCode</span></a>, <a href="envvars.html#putEnv,string,string"><span class="Identifier">putEnv</span></a>, <a href="envvars.html#envPairs.i"><span class="Identifier">envPairs</span></a>, <a href="envvars.html#delEnv,string"><span class="Identifier">delEnv</span></a>, <a href="envvars.html#getEnv,string,string"><span class="Identifier">getEnv</span></a>, <a href="envvars.html#WriteEnvEffect"><span class="Identifier">WriteEnvEffect</span></a>, <a href="envvars.html#ReadEnvEffect"><span class="Identifier">ReadEnvEffect</span></a>, <a href="envvars.html#existsEnv,string"><span class="Identifier">existsEnv</span></a>, <a href="osseps.html#ExtSep_2"><span class="Identifier">ExtSep</span></a>, <a href="osseps.html#FileSystemCaseSensitive_2"><span class="Identifier">FileSystemCaseSensitive</span></a>, <a href="osseps.html#DynlibFormat_2"><span class="Identifier">DynlibFormat</span></a>, <a href="osseps.html#DirSep_2"><span class="Identifier">DirSep</span></a>, <a href="osseps.html#AltSep_2"><span class="Identifier">AltSep</span></a>, <a href="osseps.html#PathSep_2"><span class="Identifier">PathSep</span></a>, <a href="osseps.html#ScriptExt_2"><span class="Identifier">ScriptExt</span></a>, <a href="osseps.html#doslikeFileSystem_2"><span class="Identifier">doslikeFileSystem</span></a>, <a href="osseps.html#ExeExt_2"><span class="Identifier">ExeExt</span></a>, <a href="osseps.html#CurDir_2"><span class="Identifier">CurDir</span></a>, <a href="osseps.html#ParDir_2"><span class="Identifier">ParDir</span></a> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/os.html" class="_attribution-link">https://nim-lang.org/docs/os.html</a>
  </p>
</div>
