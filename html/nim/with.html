<h1 class="title">std/with</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/with.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/with.nim#L1" target="_blank">Edit</a>  
<p>This module implements the <code><span class="Identifier">with</span></code> macro for easy function chaining. See <a href="https://github.com/nim-lang/RFCs/issues/193">https://github.com/nim-lang/RFCs/issues/193</a> and <a href="https://github.com/nim-lang/RFCs/issues/192">https://github.com/nim-lang/RFCs/issues/192</a> for details leading to this particular design.</p> <p><strong>Since:</strong> version 1.2.</p>  <h2 id="6">Imports</h2> <dl> <a href="macros.html">macros</a>, <a href="underscored_calls.html">underscored_calls</a> </dl>   <h2 id="17">Macros</h2> <dl> <div id="with-macros-all"> <div id="with.m,typed,varargs[untyped]"> <dt><pre data-language="nim">macro with(arg: typed; calls: varargs[untyped]): untyped</pre></dt> <dd> This macro provides <span id="chaining_1">chaining</span> of function calls. It does so by patching every call in <code><span class="Identifier">calls</span></code> to use <code><span class="Identifier">arg</span></code> as the first argument.<div class="admonition admonition-warning">
<span class="admonition-warning-text"><b>Caution:</b></span> This evaluates <code><span class="Identifier">arg</span></code> multiple times!</div> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var x = "yay"
with x:
  add "abc"
  add "efg"
doAssert x == "yayabcefg"

var a = 44
with a:
  += 4
  -= 5
doAssert a == 43

# Nesting works for object types too!
var foo = (bar: 1, qux: (baz: 2))
with foo:
  bar = 2
  with qux:
    baz = 3
doAssert foo.bar == 2
doAssert foo.qux.baz == 3</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/with.nim#L19" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/with.nim#L19" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/with.html" class="_attribution-link">https://nim-lang.org/docs/with.html</a>
  </p>
</div>
