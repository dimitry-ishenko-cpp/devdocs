<h1 class="title">std/typedthreads</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/typedthreads.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/typedthreads.nim#L1" target="_blank">Edit</a>  <p class="module-desc">Thread support for Nim. </p>
<h2 id="examples">Examples</h2>
<pre class="listing" data-language="nim">import std/locks

var
  thr: array[0..4, Thread[tuple[a,b: int]]]
  L: Lock

proc threadFunc(interval: tuple[a,b: int]) {.thread.} =
  for i in interval.a..interval.b:
    acquire(L) # lock stdout
    echo i
    release(L)

initLock(L)

for i in 0..high(thr):
  createThread(thr[i], threadFunc, (i*10, i*10+5))
joinThreads(thr)

deinitLock(L)</pre>  <h2 id="6">Imports</h2> <dl> <a href="threadtypes.html">threadtypes</a>, <a href="ansi_c.html">ansi_c</a> </dl>   <h2 id="12">Procs</h2> <dl> <div id="createThread-procs-all"> <div id="createThread,Thread[void],proc)"> <dt><pre data-language="nim">proc createThread(t: var Thread[void]; tp: proc () {.thread, nimcall.}) {.
    ...raises: [ResourceExhaustedError], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/typedthreads.nim#L261" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/typedthreads.nim#L261" target="_blank">Edit</a> </dd> </div> <div id="createThread,Thread[TArg],proc(TArg),TArg"> <dt><pre data-language="nim">proc createThread[TArg](t: var Thread[TArg];
                        tp: proc (arg: TArg) {.thread, nimcall.}; param: TArg)</pre></dt> <dd> <p>Creates a new thread <code><span class="Identifier">t</span></code> and starts its execution.</p> <p>Entry point is the proc <code><span class="Identifier">tp</span></code>. <code><span class="Identifier">param</span></code> is passed to <code><span class="Identifier">tp</span></code>. <code><span class="Identifier">TArg</span></code> can be <code><span class="Identifier">void</span></code> if you don't need to pass any data to the thread.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/typedthreads.nim#L170" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/typedthreads.nim#L170" target="_blank">Edit</a> </dd> </div> </div> <div id="getThreadId-procs-all"> <div id="getThreadId"> <dt><pre data-language="nim">proc getThreadId(): int {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Gets the ID of the currently running thread. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/system/threadids.nim#L17" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/system/threadids.nim#L17" target="_blank">Edit</a> </dd> </div> </div> <div id="handle-procs-all"> <div id="handle,Thread[TArg]"> <dt><pre data-language="nim">proc handle[TArg](t: Thread[TArg]): SysThread {.inline.}</pre></dt> <dd> Returns the thread handle of <code><span class="Identifier">t</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/typedthreads.nim#L114" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/typedthreads.nim#L114" target="_blank">Edit</a> </dd> </div> </div> <div id="joinThread-procs-all"> <div id="joinThread,Thread[TArg]"> <dt><pre data-language="nim">proc joinThread[TArg](t: Thread[TArg]) {.inline.}</pre></dt> <dd> Waits for the thread <code><span class="Identifier">t</span></code> to finish. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/typedthreads.nim#L121" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/typedthreads.nim#L121" target="_blank">Edit</a> </dd> </div> </div> <div id="joinThreads-procs-all"> <div id="joinThreads,varargs[Thread[TArg]]"> <dt><pre data-language="nim">proc joinThreads[TArg](t: varargs[Thread[TArg]])</pre></dt> <dd> Waits for every thread in <code><span class="Identifier">t</span></code> to finish. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/typedthreads.nim#L125" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/typedthreads.nim#L125" target="_blank">Edit</a> </dd> </div> </div> <div id="pinToCpu-procs-all"> <div id="pinToCpu,Thread[Arg],Natural"> <dt><pre data-language="nim">proc pinToCpu[Arg](t: var Thread[Arg]; cpu: Natural)</pre></dt> <dd> <p>Pins a thread to a <span id="cpu_1">CPU</span>.</p> <p>In other words sets a thread's <span id="affinity_1">affinity</span>. If you don't know what this means, you shouldn't use this proc.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/typedthreads.nim#L189" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/typedthreads.nim#L189" target="_blank">Edit</a> </dd> </div> </div> <div id="running-procs-all"> <div id="running,Thread[TArg]"> <dt><pre data-language="nim">proc running[TArg](t: Thread[TArg]): bool {.inline.}</pre></dt> <dd> Returns true if <code><span class="Identifier">t</span></code> is running. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/std/typedthreads.nim#L110" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/typedthreads.nim#L110" target="_blank">Edit</a> </dd> </div> </div> </dl>   <h2 id="19">Exports</h2> <dl> <a href="threadtypes.html#Thread"><span class="Identifier">Thread</span></a> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/typedthreads.html" class="_attribution-link">https://nim-lang.org/docs/typedthreads.html</a>
  </p>
</div>
