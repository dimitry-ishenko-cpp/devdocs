<h1 class="title">packages/docutils/rstgen</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L1" target="_blank">Edit</a>  
<p>This module implements a generator of HTML/Latex from <span id="restructuredtext_1">reStructuredText</span> (see <a href="http://docutils.sourceforge.net/rst.html">http://docutils.sourceforge.net/rst.html</a> for information on this markup syntax) and is used by the compiler's <a href="https://nim-lang.org/docs/docgen.html">docgen tools</a>.</p> <p>You can generate HTML output through the convenience proc <code>rstToHtml</code>, which provided an input string with rst markup returns a string with the generated HTML. The final output is meant to be embedded inside a full document you provide yourself, so it won't contain the usual <code>&lt;header&gt;</code> or <code>&lt;body&gt;</code> parts.</p> <p>You can also create a <code>RstGenerator</code> structure and populate it with the other lower level methods to finally build complete documents. This requires many options and tweaking, but you are not limited to snippets and can generate <a href="https://en.wikipedia.org/wiki/LaTeX">LaTeX documents</a> too.</p> <p><a href="https://docutils.sourceforge.io/docs/user/config.htm">Docutils configuration files</a> are not supported. Instead HTML generation can be tweaked by editing file <code>config/nimdoc.cfg</code>.</p> <p>There are stylistic difference between how this module renders some elements and how original Python Docutils does:</p> <ul class="simple">
<li>Backreferences to TOC in section headings are not generated. In HTML each section is also a link that points to the section itself: this is done for user to be able to copy the link into clipboard.</li> <li>The same goes for footnotes/citations links: they point to themselves. No backreferences are generated since finding all references of a footnote can be done by simply searching for <code>[footnoteName]</code>.</li> </ul>  <h2 id="6">Imports</h2> <dl> <a href="strutils.html">strutils</a>, <a href="os.html">os</a>, <a href="hashes.html">hashes</a>, <a href="strtabs.html">strtabs</a>, <a href="tables.html">tables</a>, <a href="sequtils.html">sequtils</a>, <a href="algorithm.html">algorithm</a>, <a href="parseutils.html">parseutils</a>, <a href="strbasics.html">strbasics</a>, <a href="rstast.html">rstast</a>, <a href="rst.html">rst</a>, <a href="rstidx.html">rstidx</a>, <a href="highlite.html">highlite</a>, <a href="since.html">since</a> </dl>   <h2 id="7">Types</h2> <dl> <div id="EscapeMode"> <dt><pre data-language="nim">EscapeMode = enum
  emText, emOption, emUrl</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L65" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L65" target="_blank">Edit</a> </dd> </div> <div id="IndexedDocs"> <dt><pre data-language="nim">IndexedDocs = Table[IndexEntry, seq[IndexEntry]]</pre></dt> <dd> <p> Contains the index sequences for doc types.</p> <p>The key is a <em>fake</em> IndexEntry which will contain the title of the document in the <code><span class="Identifier">keyword</span></code> field and <code><span class="Identifier">link</span></code> will contain the html filename for the document. <code><span class="Identifier">linkTitle</span></code> and <code><span class="Identifier">linkDesc</span></code> will be empty.</p> <p>The value indexed by this IndexEntry is a sequence with the real index entries found in the <code>.idx</code> file.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L394" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L394" target="_blank">Edit</a> </dd> </div> <div id="MetaEnum"> <dt><pre data-language="nim">MetaEnum = enum
  metaNone, metaTitleRaw, metaTitle, metaSubtitle, metaAuthor, metaVersion</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L62" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L62" target="_blank">Edit</a> </dd> </div> <div id="OutputTarget"> <dt><pre data-language="nim">OutputTarget = enum
  outHtml, outLatex</pre></dt> <dd> which document type to generate <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L58" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L58" target="_blank">Edit</a> </dd> </div> <div id="RstGenerator"> <dt><pre data-language="nim">RstGenerator = object of RootObj
  target*: OutputTarget
  config*: StringTableRef
  splitAfter*: int
  listingCounter*: int
  tocPart*: seq[PRstNode]
  hasToc*: bool
  findFile*: FindFileHandler
  msgHandler*: MsgHandler
  outDir*: string            ## output directory, initialized by docgen.nim
  destFile*: string          ## output (HTML) file, initialized by docgen.nim
  filenames*: RstFileTable
  filename*: string          ## source Nim or Rst file
  meta*: array[MetaEnum, string]
  ## \
  ## Stores the empty string or the last headline/overline found in the rst
  ## document, so it can be used as a prettier name for term index generation.
  ## \
  ## Keeps count of same text index terms to generate different identifiers
  ## for hyperlinks. See renderIndexTerm proc for details.
  id*: int                   ## A counter useful for generating IDs.
  onTestSnippet*: proc (d: var RstGenerator; filename, cmd: string; status: int;
                        content: string) {....gcsafe.}
  escMode*: EscapeMode</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L69" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L69" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="10">Consts</h2> <dl> <div id="IndexExt"> <dt><pre data-language="nim">IndexExt = ".idx"</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L55" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L55" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="defaultConfig-procs-all"> <div id="defaultConfig"> <dt><pre data-language="nim">proc defaultConfig(): StringTableRef {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Returns a default configuration for embedded HTML generation.</p> <p>The returned <code>StringTableRef</code> contains the parameters used by the HTML engine to build the final output. For information on what these parameters are and their purpose, please look up the file <code>config/nimdoc.cfg</code> bundled with the compiler.</p> <p>The only difference between the contents of that file and the values provided by this proc is the <code>doc.file</code> variable. The <code>doc.file</code> variable of the configuration file contains HTML to build standalone pages, while this proc returns just the content for procs like <code>rstToHtml</code> to generate the bare minimum HTML.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L1445" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L1445" target="_blank">Edit</a> </dd> </div> </div> <div id="esc-procs-all"> <div id="esc,OutputTarget,string,int"> <dt><pre data-language="nim">proc esc(target: OutputTarget; s: string; splitAfter = -1; escMode = emText): string {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> Escapes the HTML. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L252" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L252" target="_blank">Edit</a> </dd> </div> </div> <div id="escChar-procs-all"> <div id="escChar,OutputTarget,string,char,EscapeMode"> <dt><pre data-language="nim">proc escChar(target: OutputTarget; dest: var string; c: char;
             escMode: EscapeMode) {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L229" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L229" target="_blank">Edit</a> </dd> </div> </div> <div id="formatNamedVars-procs-all"> <div id="formatNamedVars,string,openArray[string],openArray[string]"> <dt><pre data-language="nim">proc formatNamedVars(frmt: string; varnames: openArray[string];
                     varvalues: openArray[string]): string {.
    ...raises: [ValueError], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L1384" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L1384" target="_blank">Edit</a> </dd> </div> </div> <div id="initRstGenerator-procs-all"> <div id="initRstGenerator,RstGenerator,OutputTarget,StringTableRef,string,FindFileHandler,MsgHandler"> <dt><pre data-language="nim">proc initRstGenerator(g: var RstGenerator; target: OutputTarget;
                      config: StringTableRef; filename: string;
                      findFile: FindFileHandler = nil;
                      msgHandler: MsgHandler = nil;
                      filenames = default(RstFileTable); hasToc = false) {.
    ...raises: [ValueError], tags: [], forbids: [].}</pre></dt> <dd> <p>Initializes a <code>RstGenerator</code>.</p> <p>You need to call this before using a <code>RstGenerator</code> with any other procs in this module. Pass a non <code>nil</code> <code>StringTableRef</code> value as <code><span class="Identifier">config</span></code> with parameters used by the HTML output generator. If you don't know what to use, pass the results of the <code><span class="Identifier">defaultConfig</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Operator">&lt;</span><span class="Comment">#defaultConfig&gt;_</span></code> proc.</p> <p>The <code><span class="Identifier">filename</span></code> parameter will be used for error reporting and creating index hyperlinks to the file, but you can pass an empty string here if you are parsing a stream in memory. If <code><span class="Identifier">filename</span></code> ends with the <code>.nim</code> extension, the title for the document will be set by default to <code>Module filename</code>. This default title can be overridden by the embedded rst, but it helps to prettify the generated index if no title is found.</p> <p>The <code>RstParseOptions</code>, <code>FindFileHandler</code> and <code>MsgHandler</code> types are defined in the <a href="rst.html">packages/docutils/rst module</a>. <code>options</code> selects the behaviour of the rst parser.</p> <p><code>findFile</code> is a proc used by the rst <code>include</code> directive among others. The purpose of this proc is to mangle or filter paths. It receives paths specified in the rst document and has to return a valid path to existing files or the empty string otherwise. If you pass <code>nil</code>, a default proc will be used which given a path returns the input path only if the file exists. One use for this proc is to transform relative paths found in the document to absolute path, useful if the rst file and the resources it references are not in the same directory as the current working directory.</p> <p>The <code>msgHandler</code> is a proc used for user error reporting. It will be called with the filename, line, col, and type of any error found during parsing. If you pass <code>nil</code>, a default message handler will be used which writes the messages to the standard output.</p> <p>Example:</p> 
<pre class="listing" data-language="nim">import packages/docutils/rstgen

var gen: RstGenerator
gen.initRstGenerator(outHtml, defaultConfig(), "filename", {})</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L116" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L116" target="_blank">Edit</a> </dd> </div> </div> <div id="mergeIndexes-procs-all"> <div id="mergeIndexes,string"> <dt><pre data-language="nim">proc mergeIndexes(dir: string): string {....raises: [OSError, IOError, ValueError],
    tags: [ReadDirEffect, ReadIOEffect], forbids: [].}</pre></dt> <dd> <p>Merges all index files in <code><span class="Identifier">dir</span></code> and returns the generated index as HTML.</p> <p>This proc will first scan <code><span class="Identifier">dir</span></code> for index files with the <code>.idx</code> extension previously created by commands like <code>nim doc|rst2html</code> which use the <code>--index:on</code> switch. These index files are the result of calls to <a href="#setIndexTerm,RstGenerator,string,string,string,string,string">setIndexTerm()</a> and <a href="#writeIndexFile,RstGenerator,string">writeIndexFile()</a>, so they are simple tab separated files.</p> <p>As convention this proc will split index files into two categories: documentation and API. API indices will be all joined together into a single big sorted index, making the bulk of the final index. This is good for API documentation because many symbols are repeated in different modules. On the other hand, documentation indices are essentially table of contents plus a few special markers. These documents will be rendered in a separate section which tries to maintain the order and hierarchy of the symbols in the index file.</p> <p>To differentiate between a documentation and API file a convention is used: indices which contain one entry without the HTML hash character (#) will be considered <code><span class="Identifier">documentation</span></code>, since this hash-less entry is the explicit title of the document. Indices without this explicit entry will be considered <code><span class="Identifier">generated</span> <span class="Identifier">API</span></code> extracted out of a source <code>.nim</code> file.</p> <p>Returns the merged and sorted indices into a single HTML block which can be further embedded into nimdoc templates.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L624" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L624" target="_blank">Edit</a> </dd> </div> </div> <div id="nextSplitPoint-procs-all"> <div id="nextSplitPoint,string,int"> <dt><pre data-language="nim">proc nextSplitPoint(s: string; start: int): int {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L240" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L240" target="_blank">Edit</a> </dd> </div> </div> <div id="prettyLink-procs-all"> <div id="prettyLink,string"> <dt><pre data-language="nim">proc prettyLink(file: string): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L107" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L107" target="_blank">Edit</a> </dd> </div> </div> <div id="readIndexDir-procs-all"> <div id="readIndexDir,string"> <dt><pre data-language="nim">proc readIndexDir(dir: string): tuple[modules: seq[string],
                                      symbols: seq[IndexEntry],
                                      docs: IndexedDocs] {.
    ...raises: [OSError, IOError, ValueError], tags: [ReadDirEffect, ReadIOEffect],
    forbids: [].}</pre></dt> <dd> <p>Walks <code><span class="Identifier">dir</span></code> reading <code>.idx</code> files converting them in IndexEntry items.</p> <p>Returns the list of found module names, the list of free symbol entries and the different documentation indexes. The list of modules is sorted. See the documentation of <code>mergeIndexes</code> for details.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L577" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L577" target="_blank">Edit</a> </dd> </div> </div> <div id="renderCodeLang-procs-all"> <div id="renderCodeLang,string,SourceLanguage,string,OutputTarget"> <dt><pre data-language="nim">proc renderCodeLang(result: var string; lang: SourceLanguage; code: string;
                    target: OutputTarget) {....raises: [ValueError], tags: [],
    forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L919" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L919" target="_blank">Edit</a> </dd> </div> </div> <div id="renderIndexTerm-procs-all"> <div id="renderIndexTerm,PDoc,PRstNode,string"> <dt><pre data-language="nim">proc renderIndexTerm(d: PDoc; n: PRstNode; result: var string) {.
    ...raises: [Exception, ValueError], tags: [RootEffect], forbids: [].}</pre></dt> <dd> <p>Renders the string decorated within `foobar`:idx: markers.</p> <p>Additionally adds the enclosed text to the index as a term. Since we are interested in different instances of the same term to have different entries, a table is used to keep track of the amount of times a term has previously appeared to give a different identifier value for each.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L372" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L372" target="_blank">Edit</a> </dd> </div> </div> <div id="renderNimCode-procs-all"> <div id="renderNimCode,string,string,OutputTarget"> <dt><pre data-language="nim">proc renderNimCode(result: var string; code: string; target: OutputTarget) {.
    ...raises: [ValueError], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L935" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L935" target="_blank">Edit</a> </dd> </div> </div> <div id="renderRstToOut-procs-all"> <div id="renderRstToOut,RstGenerator,PRstNode,string"> <dt><pre data-language="nim">proc renderRstToOut(d: var RstGenerator; n: PRstNode; result: var string) {.
    ...gcsafe, raises: [Exception, ValueError], tags: [RootEffect], forbids: [].}</pre></dt> <dd> <p>Writes into <code>result</code> the rst ast <code>n</code> using the <code>d</code> configuration.</p> <p>Before using this proc you need to initialise a <code>RstGenerator</code> with <code>initRstGenerator</code> and parse a rst file with <code>rstParse</code> from the <a href="rst.html">packages/docutils/rst module</a>. Example:</p> 
<pre class="listing" data-language="nim"># ...configure gen and rst vars...
var generatedHtml = ""
renderRstToOut(gen, rst, generatedHtml)
echo generatedHtml</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L287" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L287" target="_blank">Edit</a> </dd> </div> </div> <div id="renderTocEntries-procs-all"> <div id="renderTocEntries,RstGenerator,int,int,string"> <dt><pre data-language="nim">proc renderTocEntries(d: var RstGenerator; j: var int; lvl: int;
                      result: var string) {....raises: [Exception, ValueError],
    tags: [RootEffect], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L732" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L732" target="_blank">Edit</a> </dd> </div> </div> <div id="rstToHtml-procs-all"> <div id="rstToHtml,string,RstParseOptions,StringTableRef,MsgHandler"> <dt><pre data-language="nim">proc rstToHtml(s: string; options: RstParseOptions; config: StringTableRef;
               msgHandler: MsgHandler = rst.defaultMsgHandler): string {....gcsafe,
    raises: [Exception, ValueError, KeyError],
    tags: [RootEffect, ReadIOEffect, ReadEnvEffect], forbids: [].}</pre></dt> <dd> <p>Converts an input rst string into embeddable HTML.</p> <p>This convenience proc parses any input string using rst markup (it doesn't have to be a full document!) and returns an embeddable piece of HTML. The proc is meant to be used in <em>online</em> environments without access to a meaningful filesystem, and therefore rst <code>include</code> like directives won't work. For an explanation of the <code>config</code> parameter see the <code>initRstGenerator</code> proc. Example:</p> 
<pre class="listing" data-language="nim">import packages/docutils/rstgen, strtabs

echo rstToHtml("*Hello* **world**!", {},
  newStringTable(modeStyleInsensitive))
# --&gt; &lt;em&gt;Hello&lt;/em&gt; &lt;strong&gt;world&lt;/strong&gt;!</pre> <p>If you need to allow the rst <code>include</code> directive or tweak the generated output you have to create your own <code>RstGenerator</code> with <code>initRstGenerator</code> and related procs.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L1513" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L1513" target="_blank">Edit</a> </dd> </div> </div> <div id="rstToLatex-procs-all"> <div id="rstToLatex,string,RstParseOptions"> <dt><pre data-language="nim">proc rstToLatex(rstSource: string; options: RstParseOptions): string {.inline,
    ...raises: [Exception, ValueError, KeyError],
    tags: [RootEffect, ReadIOEffect, ReadEnvEffect], forbids: [].}</pre></dt> <dd> Convenience proc for <code><span class="Identifier">renderRstToOut</span></code> and <code><span class="Identifier">initRstGenerator</span></code>. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">doAssert rstToLatex("*Hello* **world**", {}) == """\emph{Hello} \textbf{world}"""</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L1555" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L1555" target="_blank">Edit</a> </dd> </div> </div> <div id="setIndexTerm-procs-all"> <div id="setIndexTerm,RstGenerator,IndexEntryKind,string,string,string,string,string,int"> <dt><pre data-language="nim">proc setIndexTerm(d: var RstGenerator; k: IndexEntryKind;
                  htmlFile, id, term: string; linkTitle, linkDesc = ""; line = 0) {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Adds a <code><span class="Identifier">term</span></code> to the index using the specified hyperlink identifier.</p> <p>A new entry will be added to the index using the format <code>term&lt;tab&gt;file#id</code>. The file part will come from the <code><span class="Identifier">htmlFile</span></code> parameter.</p> <p>The <code><span class="Identifier">id</span></code> will be appended with a hash character only if its length is not zero, otherwise no specific anchor will be generated. In general you should only pass an empty <code><span class="Identifier">id</span></code> value for the title of standalone rst documents (they are special for the <a href="#mergeIndexes,string">mergeIndexes()</a> proc, see <a href="https://nim-lang.org/docs/docgen.html#index-idx-file-format">Index (idx) file format</a> for more information). Unlike other index terms, title entries are inserted at the beginning of the accumulated buffer to maintain a logical order of entries.</p> <p>If <code><span class="Identifier">linkTitle</span></code> or <code><span class="Identifier">linkDesc</span></code> are not the empty string, two additional columns with their contents will be added.</p> <p>The index won't be written to disk unless you call <a href="#writeIndexFile,RstGenerator,string">writeIndexFile()</a>. The purpose of the index is documented in the <a href="https://nim-lang.org/docs/docgen.html#related-options-index-switch">docgen tools guide</a>.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L325" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L325" target="_blank">Edit</a> </dd> </div> </div> <div id="traverseForIndex-procs-all"> <div id="traverseForIndex,PDoc,PRstNode"> <dt><pre data-language="nim">proc traverseForIndex(d: PDoc; n: PRstNode) {....raises: [Exception, ValueError],
    tags: [RootEffect], forbids: [].}</pre></dt> <dd> A version of <a title="proc renderRstToOut(d: var RstGenerator; n: PRstNode; result: var string)" href="#renderRstToOut,RstGenerator,PRstNode,string">renderRstToOut</a> that only fills entries for <code>.idx</code> files. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L1108" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L1108" target="_blank">Edit</a> </dd> </div> </div> <div id="writeIndexFile-procs-all"> <div id="writeIndexFile,RstGenerator,string"> <dt><pre data-language="nim">proc writeIndexFile(g: var RstGenerator; outfile: string) {....raises: [IOError],
    tags: [WriteIOEffect], forbids: [].}</pre></dt> <dd> <p>Writes the current index buffer to the specified output file.</p> <p>You previously need to add entries to the index with the <a href="#setIndexTerm,RstGenerator,string,string,string,string,string">setIndexTerm()</a> proc. If the index is empty the file won't be created.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/packages/docutils/rstgen.nim#L186" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/packages/docutils/rstgen.nim#L186" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/rstgen.html" class="_attribution-link">https://nim-lang.org/docs/rstgen.html</a>
  </p>
</div>
