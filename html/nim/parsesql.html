<h1 class="title">std/parsesql</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L1" target="_blank">Edit</a>  
<p>The <code><span class="Identifier">parsesql</span></code> module implements a high performance SQL file parser. It parses PostgreSQL syntax and the SQL ANSI standard.</p> <p>Unstable API.</p>  <h2 id="6">Imports</h2> <dl> <a href="strutils.html">strutils</a>, <a href="lexbase.html">lexbase</a>, <a href="decode_helpers.html">decode_helpers</a>, <a href="streams.html">streams</a> </dl>   <h2 id="7">Types</h2> <dl> <div id="SqlLexer"> <dt><pre>SqlLexer = object of BaseLexer</pre></dt> <dd> the parser object. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L50" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L50" target="_blank">Edit</a> </dd> </div> <div id="SqlNode"> <dt><pre>SqlNode = ref SqlNodeObj</pre></dt> <dd> an SQL abstract syntax tree node <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L539" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L539" target="_blank">Edit</a> </dd> </div> <div id="SqlNodeKind"> <dt><pre data-language="nim">SqlNodeKind = enum
  nkNone, nkIdent, nkQuotedIdent, nkStringLit, nkBitStringLit, nkHexStringLit,
  nkIntegerLit, nkNumericLit, nkPrimaryKey, nkForeignKey, nkNotNull, nkNull,
  nkStmtList, nkDot, nkDotDot, nkPrefix, nkInfix, nkCall, nkPrGroup,
  nkColumnReference, nkReferences, nkDefault, nkCheck, nkConstraint, nkUnique,
  nkIdentity, nkColumnDef,  ## name, datatype, constraints
  nkInsert, nkUpdate, nkDelete, nkSelect, nkSelectDistinct, nkSelectColumns,
  nkSelectPair, nkAsgn, nkFrom, nkFromItemPair, nkGroup, nkLimit, nkOffset,
  nkHaving, nkOrder, nkJoin, nkDesc, nkUnion, nkIntersect, nkExcept,
  nkColumnList, nkValueList, nkWhere, nkCreateTable, nkCreateTableIfNotExists,
  nkCreateType, nkCreateTypeIfNotExists, nkCreateIndex,
  nkCreateIndexIfNotExists, nkEnumDef</pre></dt> <dd> kind of SQL abstract syntax tree <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L471" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L471" target="_blank">Edit</a> </dd> </div> <div id="SqlNodeObj"> <dt><pre data-language="nim">SqlNodeObj = object
  case kind*: SqlNodeKind    ## kind of syntax tree
  of LiteralNodes:
      strVal*: string        ## AST leaf: the identifier, numeric literal
                             ## string literal, etc.
    
  else:
      sons*: seq[SqlNode]    ## the node's children</pre></dt> <dd> an SQL abstract syntax tree node <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L540" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L540" target="_blank">Edit</a> </dd> </div> <div id="SqlParseError"> <dt><pre>SqlParseError = object of ValueError</pre></dt> <dd> Invalid SQL encountered <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L538" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L538" target="_blank">Edit</a> </dd> </div> <div id="SqlParser"> <dt><pre>SqlParser = object of SqlLexer</pre></dt> <dd> SQL parser object <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L548" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L548" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="$-procs-all"> <div id="$,SqlNode"> <dt><pre data-language="nim">proc `$`(n: SqlNode): string {....raises: [Exception], tags: [RootEffect],
                               forbids: [].}</pre></dt> <dd> an alias for <code><span class="Identifier">renderSql</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L1474" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L1474" target="_blank">Edit</a> </dd> </div> </div> <div id="[]-procs-all"> <div id="[],SqlNode,BackwardsIndex"> <dt><pre data-language="nim">proc `[]`(n: SqlNode; i: BackwardsIndex): SqlNode {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L576" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L576" target="_blank">Edit</a> </dd> </div> <div id="[],SqlNode,int"> <dt><pre data-language="nim">proc `[]`(n: SqlNode; i: int): SqlNode {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L575" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L575" target="_blank">Edit</a> </dd> </div> </div> <div id="add-procs-all"> <div id="add,SqlNode,SqlNode"> <dt><pre data-language="nim">proc add(father, n: SqlNode) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L578" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L578" target="_blank">Edit</a> </dd> </div> </div> <div id="len-procs-all"> <div id="len,SqlNode"> <dt><pre data-language="nim">proc len(n: SqlNode): int {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L569" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L569" target="_blank">Edit</a> </dd> </div> </div> <div id="newNode-procs-all"> <div id="newNode,SqlNodeKind"> <dt><pre data-language="nim">proc newNode(k: SqlNodeKind): SqlNode {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L551" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L551" target="_blank">Edit</a> </dd> </div> <div id="newNode,SqlNodeKind,string"> <dt><pre data-language="nim">proc newNode(k: SqlNodeKind; s: string): SqlNode {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L561" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L561" target="_blank">Edit</a> </dd> </div> <div id="newNode,SqlNodeKind,seq[SqlNode]"> <dt><pre data-language="nim">proc newNode(k: SqlNodeKind; sons: seq[SqlNode]): SqlNode {....raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L565" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L565" target="_blank">Edit</a> </dd> </div> </div> <div id="parseSql-procs-all"> <div id="parseSql,Stream,string"> <dt><pre data-language="nim">proc parseSql(input: Stream; filename: string): SqlNode {....raises: [IOError,
    OSError, IOError, OSError, ValueError, SqlParseError, Exception],
    tags: [ReadIOEffect, RootEffect, WriteIOEffect], forbids: [].}</pre></dt> <dd> parses the SQL from <code><span class="Identifier">input</span></code> into an AST and returns the AST. <code><span class="Identifier">filename</span></code> is only used for error messages. Syntax errors raise an <code><span class="Identifier">SqlParseError</span></code> exception. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L1508" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L1508" target="_blank">Edit</a> </dd> </div> <div id="parseSql,string,string"> <dt><pre data-language="nim">proc parseSql(input: string; filename = ""): SqlNode {.
    ...raises: [IOError, OSError, ValueError, SqlParseError, Exception],
    tags: [ReadIOEffect, RootEffect, WriteIOEffect], forbids: [].}</pre></dt> <dd> parses the SQL from <code><span class="Identifier">input</span></code> into an AST and returns the AST. <code><span class="Identifier">filename</span></code> is only used for error messages. Syntax errors raise an <code><span class="Identifier">SqlParseError</span></code> exception. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L1519" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L1519" target="_blank">Edit</a> </dd> </div> </div> <div id="renderSql-procs-all"> <div id="renderSql,SqlNode"> <dt><pre data-language="nim">proc renderSql(n: SqlNode; upperCase = false): string {....raises: [Exception],
    tags: [RootEffect], forbids: [].}</pre></dt> <dd> Converts an SQL abstract syntax tree to its string representation. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L1466" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L1466" target="_blank">Edit</a> </dd> </div> </div> <div id="treeRepr-procs-all"> <div id="treeRepr,SqlNode"> <dt><pre data-language="nim">proc treeRepr(s: SqlNode): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/parsesql.nim#L1490" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/parsesql.nim#L1490" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/parsesql.html" class="_attribution-link">https://nim-lang.org/docs/parsesql.html</a>
  </p>
</div>
