<h1 class="title">coro</h1>  <p class="module-desc">Nim coroutines implementation, supports several context switching methods:</p>
<table>
<tr>
<td>ucontext</td>
<td>available on unix and alike (default)</td>
</tr> <tr>
<td>setjmp</td>
<td>available on unix and alike (x86/64 only)</td>
</tr> <tr>
<td>fibers</td>
<td>available and required on windows.</td>
</tr> </table>
<table frame="void">
<tr>
<th align="left">-d:nimCoroutines</th>
<td align="left">Required to build this module.</td> </tr> <tr>
<th align="left">-d:nimCoroutinesUcontext</th>
<td align="left">Use ucontext backend.</td> </tr> <tr>
<th align="left">-d:nimCoroutinesSetjmp</th>
<td align="left">Use setjmp backend.</td> </tr> <tr>
<th align="left">-d:nimCoroutinesSetjmpBundled</th>
<td align="left">Use bundled setjmp implementation.</td> </tr> </table>
<p>Unstable API.</p> Timer support for the realtime GC. Based on <a href="https://github.com/jckarter/clay/blob/master/compiler/hirestimer.cpp">https://github.com/jckarter/clay/blob/master/compiler/hirestimer.cpp</a>  <h2 id="6">Imports</h2> <dl> <a href="os.html">os</a>, <a href="lists.html">lists</a> </dl>  <h2 id="7">Types</h2> <dl>  <dt><pre id="CoroutineRef" data-language="nim">CoroutineRef = ref object
  coro: CoroutinePtr</pre></dt> <dd> CoroutineRef holds a pointer to actual coroutine object. Public API always returns CoroutineRef instead of CoroutinePtr in order to allow holding a reference to coroutine object while it can be safely deallocated by coroutine scheduler loop. In this case Coroutine.reference.coro is set to nil. Public API checks for it being nil and gracefully fails if it is nil. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/coro.nim#L158" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/coro.nim#L158" target="_blank">Edit</a> </dd> </dl>  <h2 id="12">Procs</h2> <dl>  <dt><pre id="suspend%2Cfloat" data-language="nim">proc suspend(sleepTime: float = 0) {...}{.raises: [], tags: [].}</pre></dt> <dd> Stops coroutine execution and resumes no sooner than after <code>sleeptime</code> seconds. Until then other coroutines are executed. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/coro.nim#L224" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/coro.nim#L224" target="_blank">Edit</a> </dd>  <dt><pre id="start%2Cproc%29%2Cint" data-language="nim">proc start(c: proc (); stacksize: int = defaultStackSize): CoroutineRef {...}{.
    discardable, raises: [], tags: [RootEffect].}</pre></dt> <dd> Schedule coroutine for execution. It does not run immediately. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/coro.nim#L258" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/coro.nim#L258" target="_blank">Edit</a> </dd>  <dt><pre id="run" data-language="nim">proc run() {...}{.raises: [], tags: [TimeEffect].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/coro.nim#L288" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/coro.nim#L288" target="_blank">Edit</a> </dd>  <dt><pre id="alive%2CCoroutineRef" data-language="nim">proc alive(c: CoroutineRef): bool {...}{.raises: [], tags: [].}</pre></dt> <dd> Returns <code>true</code> if coroutine has not returned, <code>false</code> otherwise. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/coro.nim#L328" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/coro.nim#L328" target="_blank">Edit</a> </dd>  <dt><pre id="wait%2CCoroutineRef%2Cfloat" data-language="nim">proc wait(c: CoroutineRef; interval = 0.01) {...}{.raises: [], tags: [].}</pre></dt> <dd> Returns only after coroutine <code>c</code> has returned. <code>interval</code> is time in seconds how often. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/coro.nim#L331" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/coro.nim#L331" target="_blank">Edit</a> </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2021 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/coro.html" class="_attribution-link">https://nim-lang.org/docs/coro.html</a>
  </p>
</div>
