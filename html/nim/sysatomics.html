<h1 class="title">std/sysatomics</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L1" target="_blank">Edit</a>  <p class="module-desc">Perform the operation return the new value, all memory models are validPerform the operation return the old value, all memory models are valid</p>  <h2 id="7">Types</h2> <dl> <div id="AtomMemModel"> <dt><pre>AtomMemModel = distinct cint</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L26" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L26" target="_blank">Edit</a> </dd> </div> <div id="AtomType"> <dt><pre data-language="nim">AtomType = SomeNumber | pointer | ptr | char | bool</pre></dt> <dd> Type Class representing valid types for use with atomic procs <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L22" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L22" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="8">Vars</h2> <dl> <div id="ATOMIC_ACQ_REL"> <dt><pre data-language="nim">ATOMIC_ACQ_REL {.importc: "__ATOMIC_ACQ_REL", nodecl.}: AtomMemModel</pre></dt> <dd> Full barrier in both directions and synchronizes with acquire loads and release stores in another thread. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L41" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L41" target="_blank">Edit</a> </dd> </div> <div id="ATOMIC_ACQUIRE"> <dt><pre data-language="nim">ATOMIC_ACQUIRE {.importc: "__ATOMIC_ACQUIRE", nodecl.}: AtomMemModel</pre></dt> <dd> Barrier to hoisting of code and synchronizes with release (or stronger) semantic stores from another thread. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L33" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L33" target="_blank">Edit</a> </dd> </div> <div id="ATOMIC_CONSUME"> <dt><pre data-language="nim">ATOMIC_CONSUME {.importc: "__ATOMIC_CONSUME", nodecl.}: AtomMemModel</pre></dt> <dd> Data dependency only for both barrier and synchronization with another thread. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L30" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L30" target="_blank">Edit</a> </dd> </div> <div id="ATOMIC_RELAXED"> <dt><pre data-language="nim">ATOMIC_RELAXED {.importc: "__ATOMIC_RELAXED", nodecl.}: AtomMemModel</pre></dt> <dd> No barriers or synchronization. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L28" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L28" target="_blank">Edit</a> </dd> </div> <div id="ATOMIC_RELEASE"> <dt><pre data-language="nim">ATOMIC_RELEASE {.importc: "__ATOMIC_RELEASE", nodecl.}: AtomMemModel</pre></dt> <dd> Barrier to sinking of code and synchronizes with acquire (or stronger) semantic loads from another thread. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L37" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L37" target="_blank">Edit</a> </dd> </div> <div id="ATOMIC_SEQ_CST"> <dt><pre data-language="nim">ATOMIC_SEQ_CST {.importc: "__ATOMIC_SEQ_CST", nodecl.}: AtomMemModel</pre></dt> <dd> Full barrier in both directions and synchronizes with acquire loads and release stores in all threads. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L45" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L45" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="atomicAddFetch-procs-all"> <div id="atomicAddFetch,ptr.T,T,AtomMemModel"> <dt><pre data-language="nim">proc atomicAddFetch[T: AtomType](p: ptr T; val: T; mem: AtomMemModel): T {.
    importc: "__atomic_add_fetch", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L103" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L103" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicAlwaysLockFree-procs-all"> <div id="atomicAlwaysLockFree,int,pointer"> <dt><pre data-language="nim">proc atomicAlwaysLockFree(size: int; p: pointer): bool {.
    importc: "__atomic_always_lock_free", nodecl, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> This built-in function returns true if objects of size bytes always generate lock free atomic instructions for the target architecture. size must resolve to a compile-time constant and the result also resolves to a compile-time constant. ptr is an optional pointer to the object that may be used to determine alignment. A value of 0 indicates typical alignment should be used. The compiler may also ignore this parameter. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L153" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L153" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicAndFetch-procs-all"> <div id="atomicAndFetch,ptr.T,T,AtomMemModel"> <dt><pre data-language="nim">proc atomicAndFetch[T: AtomType](p: ptr T; val: T; mem: AtomMemModel): T {.
    importc: "__atomic_and_fetch", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L109" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L109" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicClear-procs-all"> <div id="atomicClear,pointer,AtomMemModel"> <dt><pre data-language="nim">proc atomicClear(p: pointer; mem: AtomMemModel) {.importc: "__atomic_clear",
    nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> This built-in function performs an atomic clear operation at p. After the operation, at p contains 0. ATOMIC_RELAXED, ATOMIC_SEQ_CST, ATOMIC_RELEASE <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L137" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L137" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicCompareExchange-procs-all"> <div id="atomicCompareExchange,ptr.T,ptr.T,ptr.T,bool,AtomMemModel,AtomMemModel"> <dt><pre data-language="nim">proc atomicCompareExchange[T: AtomType](p, expected, desired: ptr T; weak: bool;
                                        success_memmodel: AtomMemModel;
                                        failure_memmodel: AtomMemModel): bool {.
    importc: "__atomic_compare_exchange", nodecl, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> This proc implements the generic version of atomic_compare_exchange. The proc is virtually identical to atomic_compare_exchange_n, except the desired value is also a pointer. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L95" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L95" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicCompareExchangeN-procs-all"> <div id="atomicCompareExchangeN,ptr.T,ptr.T,T,bool,AtomMemModel,AtomMemModel"> <dt><pre data-language="nim">proc atomicCompareExchangeN[T: AtomType](p, expected: ptr T; desired: T;
    weak: bool; success_memmodel: AtomMemModel; failure_memmodel: AtomMemModel): bool {.
    importc: "__atomic_compare_exchange_n", nodecl, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> This proc implements an atomic compare and exchange operation. This compares the contents at p with the contents at expected and if equal, writes desired at p. If they are not equal, the current contents at p is written into expected. Weak is true for weak compare_exchange, and false for the strong variation. Many targets only offer the strong variation and ignore the parameter. When in doubt, use the strong variation. True is returned if desired is written at p and the execution is considered to conform to the memory model specified by success_memmodel. There are no restrictions on what memory model can be used here. False is returned otherwise, and the execution is considered to conform to failure_memmodel. This memory model cannot be __ATOMIC_RELEASE nor __ATOMIC_ACQ_REL. It also cannot be a stronger model than that specified by success_memmodel. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L79" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L79" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicDec-procs-all"> <div id="atomicDec,int,int"> <dt><pre data-language="nim">proc atomicDec(memLoc: var int; x: int = 1): int {.inline, discardable,
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> Atomically decrements the integer by some <code><span class="Identifier">x</span></code>. It returns the new value. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L278" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L278" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicExchange-procs-all"> <div id="atomicExchange,ptr.T,ptr.T,ptr.T,AtomMemModel"> <dt><pre data-language="nim">proc atomicExchange[T: AtomType](p, val, ret: ptr T; mem: AtomMemModel) {.
    importc: "__atomic_exchange", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> This is the generic version of an atomic exchange. It stores the contents at val at p. The original value at p is copied into ret. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L74" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L74" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicExchangeN-procs-all"> <div id="atomicExchangeN,ptr.T,T,AtomMemModel"> <dt><pre data-language="nim">proc atomicExchangeN[T: AtomType](p: ptr T; val: T; mem: AtomMemModel): T {.
    importc: "__atomic_exchange_n", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> This proc implements an atomic exchange operation. It writes val at p, and returns the previous contents at p. ATOMIC_RELAXED, ATOMIC_SEQ_CST, ATOMIC_ACQUIRE, ATOMIC_RELEASE, ATOMIC_ACQ_REL <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L68" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L68" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicFetchAdd-procs-all"> <div id="atomicFetchAdd,ptr.T,T,AtomMemModel"> <dt><pre data-language="nim">proc atomicFetchAdd[T: AtomType](p: ptr T; val: T; mem: AtomMemModel): T {.
    importc: "__atomic_fetch_add", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L117" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L117" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicFetchAnd-procs-all"> <div id="atomicFetchAnd,ptr.T,T,AtomMemModel"> <dt><pre data-language="nim">proc atomicFetchAnd[T: AtomType](p: ptr T; val: T; mem: AtomMemModel): T {.
    importc: "__atomic_fetch_and", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L123" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L123" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicFetchNand-procs-all"> <div id="atomicFetchNand,ptr.T,T,AtomMemModel"> <dt><pre data-language="nim">proc atomicFetchNand[T: AtomType](p: ptr T; val: T; mem: AtomMemModel): T {.
    importc: "__atomic_fetch_nand", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L127" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L127" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicFetchOr-procs-all"> <div id="atomicFetchOr,ptr.T,T,AtomMemModel"> <dt><pre data-language="nim">proc atomicFetchOr[T: AtomType](p: ptr T; val: T; mem: AtomMemModel): T {.
    importc: "__atomic_fetch_or", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L121" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L121" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicFetchSub-procs-all"> <div id="atomicFetchSub,ptr.T,T,AtomMemModel"> <dt><pre data-language="nim">proc atomicFetchSub[T: AtomType](p: ptr T; val: T; mem: AtomMemModel): T {.
    importc: "__atomic_fetch_sub", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L119" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L119" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicFetchXor-procs-all"> <div id="atomicFetchXor,ptr.T,T,AtomMemModel"> <dt><pre data-language="nim">proc atomicFetchXor[T: AtomType](p: ptr T; val: T; mem: AtomMemModel): T {.
    importc: "__atomic_fetch_xor", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L125" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L125" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicInc-procs-all"> <div id="atomicInc,int,int"> <dt><pre data-language="nim">proc atomicInc(memLoc: var int; x: int = 1): int {.inline, discardable,
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> Atomically increments the integer by some <code><span class="Identifier">x</span></code>. It returns the new value. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L267" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L267" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicIsLockFree-procs-all"> <div id="atomicIsLockFree,int,pointer"> <dt><pre data-language="nim">proc atomicIsLockFree(size: int; p: pointer): bool {.
    importc: "__atomic_is_lock_free", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> This built-in function returns true if objects of size bytes always generate lock free atomic instructions for the target architecture. If it is not known to be lock free a call is made to a runtime routine named __atomic_is_lock_free. ptr is an optional pointer to the object that may be used to determine alignment. A value of 0 indicates typical alignment should be used. The compiler may also ignore this parameter. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L162" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L162" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicLoad-procs-all"> <div id="atomicLoad,ptr.T,ptr.T,AtomMemModel"> <dt><pre data-language="nim">proc atomicLoad[T: AtomType](p, ret: ptr T; mem: AtomMemModel) {.
    importc: "__atomic_load", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> This is the generic version of an atomic load. It returns the contents at p in ret. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L55" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L55" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicLoadN-procs-all"> <div id="atomicLoadN,ptr.T,AtomMemModel"> <dt><pre data-language="nim">proc atomicLoadN[T: AtomType](p: ptr T; mem: AtomMemModel): T {.
    importc: "__atomic_load_n", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> This proc implements an atomic load operation. It returns the contents at p. ATOMIC_RELAXED, ATOMIC_SEQ_CST, ATOMIC_ACQUIRE, ATOMIC_CONSUME. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L50" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L50" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicNandFetch-procs-all"> <div id="atomicNandFetch,ptr.T,T,AtomMemModel"> <dt><pre data-language="nim">proc atomicNandFetch[T: AtomType](p: ptr T; val: T; mem: AtomMemModel): T {.
    importc: "__atomic_nand_fetch", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L113" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L113" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicOrFetch-procs-all"> <div id="atomicOrFetch,ptr.T,T,AtomMemModel"> <dt><pre data-language="nim">proc atomicOrFetch[T: AtomType](p: ptr T; val: T; mem: AtomMemModel): T {.
    importc: "__atomic_or_fetch", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L107" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L107" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicSignalFence-procs-all"> <div id="atomicSignalFence,AtomMemModel"> <dt><pre data-language="nim">proc atomicSignalFence(mem: AtomMemModel) {.importc: "__atomic_signal_fence",
    nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> This built-in function acts as a synchronization fence between a thread and signal handlers based in the same thread. All memory orders are valid. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L148" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L148" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicStore-procs-all"> <div id="atomicStore,ptr.T,ptr.T,AtomMemModel"> <dt><pre data-language="nim">proc atomicStore[T: AtomType](p, val: ptr T; mem: AtomMemModel) {.
    importc: "__atomic_store", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> This is the generic version of an atomic store. It stores the value of val at p <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L64" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L64" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicStoreN-procs-all"> <div id="atomicStoreN,ptr.T,T,AtomMemModel"> <dt><pre data-language="nim">proc atomicStoreN[T: AtomType](p: ptr T; val: T; mem: AtomMemModel) {.
    importc: "__atomic_store_n", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> This proc implements an atomic store operation. It writes val at p. ATOMIC_RELAXED, ATOMIC_SEQ_CST, and ATOMIC_RELEASE. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L59" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L59" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicSubFetch-procs-all"> <div id="atomicSubFetch,ptr.T,T,AtomMemModel"> <dt><pre data-language="nim">proc atomicSubFetch[T: AtomType](p: ptr T; val: T; mem: AtomMemModel): T {.
    importc: "__atomic_sub_fetch", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L105" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L105" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicTestAndSet-procs-all"> <div id="atomicTestAndSet,pointer,AtomMemModel"> <dt><pre data-language="nim">proc atomicTestAndSet(p: pointer; mem: AtomMemModel): bool {.
    importc: "__atomic_test_and_set", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> This built-in function performs an atomic test-and-set operation on the byte at p. The byte is set to some implementation defined nonzero "set" value and the return value is true if and only if the previous contents were "set". All memory models are valid. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L130" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L130" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicThreadFence-procs-all"> <div id="atomicThreadFence,AtomMemModel"> <dt><pre data-language="nim">proc atomicThreadFence(mem: AtomMemModel) {.importc: "__atomic_thread_fence",
    nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> This built-in function acts as a synchronization fence between threads based on the specified memory model. All memory orders are valid. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L143" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L143" target="_blank">Edit</a> </dd> </div> </div> <div id="atomicXorFetch-procs-all"> <div id="atomicXorFetch,ptr.T,T,AtomMemModel"> <dt><pre data-language="nim">proc atomicXorFetch[T: AtomType](p: ptr T; val: T; mem: AtomMemModel): T {.
    importc: "__atomic_xor_fetch", nodecl, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L111" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L111" target="_blank">Edit</a> </dd> </div> </div> <div id="cas-procs-all"> <div id="cas,ptr.T,T,T"> <dt><pre data-language="nim">proc cas[T: bool | int | ptr](p: ptr T; oldValue, newValue: T): bool</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L346" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L346" target="_blank">Edit</a> </dd> </div> </div> <div id="cpuRelax-procs-all"> <div id="cpuRelax"> <dt><pre data-language="nim">proc cpuRelax() {.inline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L358" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L358" target="_blank">Edit</a> </dd> </div> </div> </dl>   <h2 id="18">Templates</h2> <dl> <div id="fence-templates-all"> <div id="fence.t"> <dt><pre data-language="nim">template fence()</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/sysatomics.nim#L171" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/sysatomics.nim#L171" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/sysatomics.html" class="_attribution-link">https://nim-lang.org/docs/sysatomics.html</a>
  </p>
</div>
