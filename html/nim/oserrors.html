<h1 class="title">std/oserrors</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/oserrors.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/oserrors.nim#L1" target="_blank">Edit</a>  <p class="module-desc">The <code><span class="Identifier">std</span><span class="Operator">/</span><span class="Identifier">oserrors</span></code> module implements OS error reporting.</p>  <h2 id="6">Imports</h2> <dl> <a href="winlean.html">winlean</a> </dl>   <h2 id="7">Types</h2> <dl> <div id="OSErrorCode"> <dt><pre>OSErrorCode = distinct int32</pre></dt> <dd> Specifies an OS Error Code. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/oserrors.nim#L14" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/oserrors.nim#L14" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="$-procs-all"> <div id="$,OSErrorCode"> <dt><pre data-language="nim">proc `$`(err: OSErrorCode): string {.borrow, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/oserrors.nim#L28" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/oserrors.nim#L28" target="_blank">Edit</a> </dd> </div> </div> <div id="==-procs-all"> <div id="==,OSErrorCode,OSErrorCode"> <dt><pre data-language="nim">proc `==`(err1, err2: OSErrorCode): bool {.borrow, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/oserrors.nim#L27" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/oserrors.nim#L27" target="_blank">Edit</a> </dd> </div> </div> <div id="newOSError-procs-all"> <div id="newOSError,OSErrorCode,string"> <dt><pre data-language="nim">proc newOSError(errorCode: OSErrorCode; additionalInfo = ""): owned(ref OSError) {.
    noinline, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Creates a new <a href="system.html#OSError">OSError exception</a>.</p> <p>The <code><span class="Identifier">errorCode</span></code> will determine the message, <a title="proc osErrorMsg(errorCode: OSErrorCode): string" href="#osErrorMsg,OSErrorCode">osErrorMsg proc</a> will be used to get this message.</p> <p>The error code can be retrieved using the <a title="proc osLastError(): OSErrorCode" href="#osLastError">osLastError proc</a>.</p> <p>If the error code is <code><span class="DecNumber">0</span></code> or an error message could not be retrieved, the message <code><span class="Identifier">unknown</span> <span class="Identifier">OS</span> <span class="Identifier">error</span></code> will be used.</p> <p>See also:</p> <ul class="simple">
<li><a title="proc osErrorMsg(errorCode: OSErrorCode): string" href="#osErrorMsg,OSErrorCode">osErrorMsg proc</a></li> <li><a title="proc osLastError(): OSErrorCode" href="#osLastError">osLastError proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/oserrors.nim#L61" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/oserrors.nim#L61" target="_blank">Edit</a> </dd> </div> </div> <div id="osErrorMsg-procs-all"> <div id="osErrorMsg,OSErrorCode"> <dt><pre data-language="nim">proc osErrorMsg(errorCode: OSErrorCode): string {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <p>Converts an OS error code into a human readable string.</p> <p>The error code can be retrieved using the <a title="proc osLastError(): OSErrorCode" href="#osLastError">osLastError proc</a>.</p> <p>If conversion fails, or <code><span class="Identifier">errorCode</span></code> is <code><span class="DecNumber">0</span></code> then <code><span class="StringLit">""</span></code> will be returned.</p> <p>See also:</p> <ul class="simple">
<li><a title='proc raiseOSError(errorCode: OSErrorCode; additionalInfo = "")' href="#raiseOSError,OSErrorCode,string">raiseOSError proc</a></li> <li><a title="proc osLastError(): OSErrorCode" href="#osLastError">osLastError proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">when defined(linux):
  assert osErrorMsg(OSErrorCode(0)) == ""
  assert osErrorMsg(OSErrorCode(1)) == "Operation not permitted"
  assert osErrorMsg(OSErrorCode(2)) == "No such file or directory"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/oserrors.nim#L30" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/oserrors.nim#L30" target="_blank">Edit</a> </dd> </div> </div> <div id="osLastError-procs-all"> <div id="osLastError"> <dt><pre data-language="nim">proc osLastError(): OSErrorCode {.sideEffect, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Retrieves the last operating system error code.</p> <p>This procedure is useful in the event when an OS call fails. In that case this procedure will return the error code describing the reason why the OS call failed. The <code><span class="Identifier">OSErrorMsg</span></code> procedure can then be used to convert this code into a string.</p> <div class="admonition admonition-warning">
<span class="admonition-warning-text"><b>Warning:</b></span> The behaviour of this procedure varies between Windows and POSIX systems. On Windows some OS calls can reset the error code to <code><span class="DecNumber">0</span></code> causing this procedure to return <code><span class="DecNumber">0</span></code>. It is therefore advised to call this procedure immediately after an OS call fails. On POSIX systems this is not a problem.</div> <p>See also:</p> <ul class="simple">
<li><a title="proc osErrorMsg(errorCode: OSErrorCode): string" href="#osErrorMsg,OSErrorCode">osErrorMsg proc</a></li> <li><a title='proc raiseOSError(errorCode: OSErrorCode; additionalInfo = "")' href="#raiseOSError,OSErrorCode,string">raiseOSError proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/oserrors.nim#L95" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/oserrors.nim#L95" target="_blank">Edit</a> </dd> </div> </div> <div id="raiseOSError-procs-all"> <div id="raiseOSError,OSErrorCode,string"> <dt><pre data-language="nim">proc raiseOSError(errorCode: OSErrorCode; additionalInfo = "") {.noinline,
    ...raises: [OSError], tags: [], forbids: [].}</pre></dt> <dd> <p>Raises an <a href="system.html#OSError">OSError exception</a>.</p> <p>Read the description of the <a title='proc newOSError(errorCode: OSErrorCode; additionalInfo = ""): owned(ref OSError)' href="#newOSError,OSErrorCode,string">newOSError proc</a> to learn how the exception object is created.</p> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/std/oserrors.nim#L87" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/std/oserrors.nim#L87" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/oserrors.html" class="_attribution-link">https://nim-lang.org/docs/oserrors.html</a>
  </p>
</div>
