<h1 class="title">std/posix_utils</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/posix/posix_utils.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/posix/posix_utils.nim#L1" target="_blank">Edit</a>  <p class="module-desc">A set of helpers for the POSIX module. Raw interfaces are in the other <code>posix*.nim</code> files.</p>  <h2 id="6">Imports</h2> <dl> <a href="posix.html">posix</a>, <a href="parsecfg.html">parsecfg</a>, <a href="os.html">os</a>, <a href="since.html">since</a> </dl>   <h2 id="7">Types</h2> <dl> <div id="Uname"> <dt><pre data-language="nim">Uname = object
  sysname*, nodename*, release*, version*, machine*: string</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/posix/posix_utils.nim#L20" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/posix/posix_utils.nim#L20" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="fsync-procs-all"> <div id="fsync,int"> <dt><pre data-language="nim">proc fsync(fd: int) {....raises: [OSError], tags: [], forbids: [].}</pre></dt> <dd> synchronize a file's buffer cache to the storage device <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/posix/posix_utils.nim#L45" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/posix/posix_utils.nim#L45" target="_blank">Edit</a> </dd> </div> </div> <div id="memoryLock-procs-all"> <div id="memoryLock,pointer,int"> <dt><pre data-language="nim">proc memoryLock(a1: pointer; a2: int) {....raises: [OSError], tags: [], forbids: [].}</pre></dt> <dd> Locks pages starting from a1 for a1 bytes and prevent them from being swapped. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/posix/posix_utils.nim#L55" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/posix/posix_utils.nim#L55" target="_blank">Edit</a> </dd> </div> </div> <div id="memoryLockAll-procs-all"> <div id="memoryLockAll,int"> <dt><pre data-language="nim">proc memoryLockAll(flags: int) {....raises: [OSError], tags: [], forbids: [].}</pre></dt> <dd> <p>Locks all memory for the running process to prevent swapping.</p> <p>example:</p> 
<pre class="listing" data-language="nim">memoryLockAll(MCL_CURRENT or MCL_FUTURE)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/posix/posix_utils.nim#L60" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/posix/posix_utils.nim#L60" target="_blank">Edit</a> </dd> </div> </div> <div id="memoryUnlock-procs-all"> <div id="memoryUnlock,pointer,int"> <dt><pre data-language="nim">proc memoryUnlock(a1: pointer; a2: int) {....raises: [OSError], tags: [],
    forbids: [].}</pre></dt> <dd> Unlock pages starting from a1 for a1 bytes and allow them to be swapped. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/posix/posix_utils.nim#L70" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/posix/posix_utils.nim#L70" target="_blank">Edit</a> </dd> </div> </div> <div id="memoryUnlockAll-procs-all"> <div id="memoryUnlockAll"> <dt><pre data-language="nim">proc memoryUnlockAll() {....raises: [OSError], tags: [], forbids: [].}</pre></dt> <dd> Unlocks all memory for the running process to allow swapping. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/posix/posix_utils.nim#L75" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/posix/posix_utils.nim#L75" target="_blank">Edit</a> </dd> </div> </div> <div id="mkdtemp-procs-all"> <div id="mkdtemp,string"> <dt><pre data-language="nim">proc mkdtemp(prefix: string): string {....raises: [OSError], tags: [], forbids: [].}</pre></dt> <dd> Creates a unique temporary directory from a prefix string. Adds a six chars suffix. The directory is created with permissions 0700. Returns the directory name. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/posix/posix_utils.nim#L108" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/posix/posix_utils.nim#L108" target="_blank">Edit</a> </dd> </div> </div> <div id="mkstemp-procs-all"> <div id="mkstemp,string,string"> <dt><pre data-language="nim">proc mkstemp(prefix: string; suffix = ""): (string, File) {....raises: [OSError],
    tags: [], forbids: [].}</pre></dt> <dd> Creates a unique temporary file from a prefix string. A six-character string will be added. If suffix is provided it will be added to the string The file is created with perms 0600. Returns the filename and a file opened in r/w mode. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/posix/posix_utils.nim#L86" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/posix/posix_utils.nim#L86" target="_blank">Edit</a> </dd> </div> </div> <div id="osReleaseFile-procs-all"> <div id="osReleaseFile"> <dt><pre data-language="nim">proc osReleaseFile(): Config {....raises: [IOError, OSError, Exception, ValueError,
                                        KeyError], tags: [ReadDirEffect,
    WriteIOEffect, ReadIOEffect, RootEffect], forbids: [].}</pre></dt> <dd> Gets system identification from <code><span class="Identifier">os</span><span class="Operator">-</span><span class="Identifier">release</span></code> file and returns it as a <code><span class="Identifier">parsecfg</span><span class="Operator">.</span><span class="Identifier">Config</span></code>. You also need to import the <code><span class="Identifier">parsecfg</span></code> module to gain access to this object. The <code><span class="Identifier">os</span><span class="Operator">-</span><span class="Identifier">release</span></code> file is an official Freedesktop.org open standard. Available in Linux and BSD distributions, except Android and Android-based Linux. <code><span class="Identifier">os</span><span class="Operator">-</span><span class="Identifier">release</span></code> file is not available on Windows and OS X by design.<ul class="simple">
<li><a href="https://www.freedesktop.org/software/systemd/man/os-release.html">https://www.freedesktop.org/software/systemd/man/os-release.html</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import std/parsecfg
when defined(linux):
  let data = osReleaseFile()
  echo "OS name: ", data.getSectionValue("", "NAME") ## the data is up to each distro.</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/posix/posix_utils.nim#L116" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/posix/posix_utils.nim#L116" target="_blank">Edit</a> </dd> </div> </div> <div id="sendSignal-procs-all"> <div id="sendSignal,Pid,int"> <dt><pre data-language="nim">proc sendSignal(pid: Pid; signal: int) {....raises: [OSError], tags: [],
    forbids: [].}</pre></dt> <dd> Sends a signal to a running process by calling <code><span class="Identifier">kill</span></code>. Raise exception in case of failure e.g. process not running. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/posix/posix_utils.nim#L80" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/posix/posix_utils.nim#L80" target="_blank">Edit</a> </dd> </div> </div> <div id="stat-procs-all"> <div id="stat,string"> <dt><pre data-language="nim">proc stat(path: string): Stat {....raises: [OSError], tags: [], forbids: [].}</pre></dt> <dd> Returns file status in a <code><span class="Identifier">Stat</span></code> structure <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/posix/posix_utils.nim#L50" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/posix/posix_utils.nim#L50" target="_blank">Edit</a> </dd> </div> </div> <div id="uname-procs-all"> <div id="uname_2"> <dt><pre data-language="nim">proc uname(): Uname {....raises: [OSError], tags: [], forbids: [].}</pre></dt> <dd> Provides system information in a <code><span class="Identifier">Uname</span></code> struct with sysname, nodename, release, version and machine attributes. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/posix/posix_utils.nim#L26" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/posix/posix_utils.nim#L26" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/posix_utils.html" class="_attribution-link">https://nim-lang.org/docs/posix_utils.html</a>
  </p>
</div>
