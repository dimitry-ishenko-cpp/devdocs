<h1 class="title">std/lexbase</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/lexbase.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/lexbase.nim#L1" target="_blank">Edit</a>  <p class="module-desc">This module implements a base object of a lexer with efficient buffer handling. Only at line endings checks are necessary if the buffer needs refilling.</p>  <h2 id="6">Imports</h2> <dl> <a href="strutils.html">strutils</a>, <a href="streams.html">streams</a> </dl>   <h2 id="7">Types</h2> <dl> <div id="BaseLexer"> <dt><pre data-language="nim">BaseLexer = object of RootObj
  bufpos*: int               ## the current position within the buffer
  buf*: string               ## the buffer itself
  ## the input stream
  lineNumber*: int           ## the current line number
  offsetBase*: int</pre></dt> <dd> the base lexer. Inherit your lexer from this object. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/lexbase.nim#L31" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/lexbase.nim#L31" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="10">Consts</h2> <dl> <div id="EndOfFile"> <dt><pre data-language="nim">EndOfFile = '\x00'</pre></dt> <dd> end of file marker <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/lexbase.nim#L21" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/lexbase.nim#L21" target="_blank">Edit</a> </dd> </div> <div id="NewLines"> <dt><pre data-language="nim">NewLines = {'\r', '\n'}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/lexbase.nim#L22" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/lexbase.nim#L22" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="close-procs-all"> <div id="close,BaseLexer"> <dt><pre data-language="nim">proc close(L: var BaseLexer) {....raises: [IOError, OSError],
                               tags: [WriteIOEffect], forbids: [].}</pre></dt> <dd> closes the base lexer. This closes <code><span class="Identifier">L</span></code>'s associated stream too. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/lexbase.nim#L42" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/lexbase.nim#L42" target="_blank">Edit</a> </dd> </div> </div> <div id="getColNumber-procs-all"> <div id="getColNumber,BaseLexer,int"> <dt><pre data-language="nim">proc getColNumber(L: BaseLexer; pos: int): int {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> retrieves the current column. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/lexbase.nim#L153" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/lexbase.nim#L153" target="_blank">Edit</a> </dd> </div> </div> <div id="getCurrentLine-procs-all"> <div id="getCurrentLine,BaseLexer,bool"> <dt><pre data-language="nim">proc getCurrentLine(L: BaseLexer; marker: bool = true): string {....raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> retrieves the current line. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/lexbase.nim#L157" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/lexbase.nim#L157" target="_blank">Edit</a> </dd> </div> </div> <div id="handleCR-procs-all"> <div id="handleCR,BaseLexer,int"> <dt><pre data-language="nim">proc handleCR(L: var BaseLexer; pos: int): int {....raises: [IOError, OSError],
    tags: [ReadIOEffect], forbids: [].}</pre></dt> <dd> Call this if you scanned over 'c' in the buffer; it returns the position to continue the scanning from. <code><span class="Identifier">pos</span></code> must be the position of the 'c'. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/lexbase.nim#L106" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/lexbase.nim#L106" target="_blank">Edit</a> </dd> </div> </div> <div id="handleLF-procs-all"> <div id="handleLF,BaseLexer,int"> <dt><pre data-language="nim">proc handleLF(L: var BaseLexer; pos: int): int {....raises: [IOError, OSError],
    tags: [ReadIOEffect], forbids: [].}</pre></dt> <dd> Call this if you scanned over 'L' in the buffer; it returns the position to continue the scanning from. <code><span class="Identifier">pos</span></code> must be the position of the 'L'. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/lexbase.nim#L117" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/lexbase.nim#L117" target="_blank">Edit</a> </dd> </div> </div> <div id="handleRefillChar-procs-all"> <div id="handleRefillChar,BaseLexer,int"> <dt><pre data-language="nim">proc handleRefillChar(L: var BaseLexer; pos: int): int {.
    ...raises: [IOError, OSError], tags: [ReadIOEffect], forbids: [].}</pre></dt> <dd> Call this if a terminator character other than a new line is scanned at <code><span class="Identifier">pos</span></code>; it returns the position to continue the scanning from. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/lexbase.nim#L126" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/lexbase.nim#L126" target="_blank">Edit</a> </dd> </div> </div> <div id="open-procs-all"> <div id="open,BaseLexer,Stream,int,set[char]"> <dt><pre data-language="nim">proc open(L: var BaseLexer; input: Stream; bufLen: int = 8192;
          refillChars: set[char] = NewLines) {....raises: [IOError, OSError],
    tags: [ReadIOEffect], forbids: [].}</pre></dt> <dd> inits the BaseLexer with a stream to read from. <a href="https://github.com/nim-lang/Nim/tree/version-2-0/lib/pure/lexbase.nim#L137" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/lexbase.nim#L137" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/lexbase.html" class="_attribution-link">https://nim-lang.org/docs/lexbase.html</a>
  </p>
</div>
