<h1 class="title">strtabs</h1>  <p class="module-desc">The <code>strtabs</code> module implements an efficient hash table that is a mapping from strings to strings. Supports a case-sensitive, case-insensitive and style-insensitive mode. </p>
<p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = newStringTable()
t["name"] = "John"
t["city"] = "Monaco"
doAssert t.len == 2
doAssert t.hasKey "name"
doAssert "name" in t</pre>String tables can be created from a table constructor: <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable</pre>When using the style insensitive mode (<code>modeStyleInsensitive</code>), all letters are compared case insensitively within the ASCII range and underscores are ignored. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var x = newStringTable(modeStyleInsensitive)
x["first_name"] = "John"
x["LastName"] = "Doe"

doAssert x["firstName"] == "John"
doAssert x["last_name"] == "Doe"</pre>An efficient string substitution operator <a href="#%25,string,StringTableRef,set%5BFormatFlag%5D">%</a> for the string table is also provided. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
doAssert "${name} lives in ${city}" % t == "John lives in Monaco"</pre>
<strong>See also:</strong><ul class="simple">
<li>
<a href="tables.html">tables module</a> for general hash tables</li> <li>
<a href="sharedtables.html">sharedtables module</a> for shared hash table support</li> <li>
<a href="strutils.html">strutils module</a> for common string functions</li> <li>
<a href="json.html">json module</a> for table-like structure which allows heterogeneous members</li> </ul>  <h2 id="6">Imports</h2> <dl> <a href="since.html">since</a>, <a href="hashes.html">hashes</a>, <a href="strutils.html">strutils</a>, <a href="os.html">os</a> </dl>  <h2 id="7">Types</h2> <dl>  <dt><pre id="StringTableMode" data-language="nim">StringTableMode = enum
  modeCaseSensitive,        ## the table is case sensitive
  modeCaseInsensitive,      ## the table is case insensitive
  modeStyleInsensitive       ## the table is style insensitive</pre></dt> <dd> Describes the tables operation mode. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L65" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L65" target="_blank">Edit</a> </dd>  <dt><pre id="StringTableObj" data-language="nim">StringTableObj = object of RootObj
  counter: int
  data: KeyValuePairSeq
  mode: StringTableMode</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L71" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L71" target="_blank">Edit</a> </dd>  <dt><pre id="StringTableRef">StringTableRef = ref StringTableObj</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L76" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L76" target="_blank">Edit</a> </dd>  <dt><pre id="FormatFlag" data-language="nim">FormatFlag = enum
  useEnvironment,           ## Use environment variable if the ``$key``
                             ## is not found in the table.
                             ## Does nothing when using `js` target.
  useEmpty,                 ## Use the empty string as a default, thus it
                             ## won't throw an exception if ``$key`` is not
                             ## in the table.
  useKey                     ## Do not replace ``$key`` if it is not found
                             ## in the table (or in the environment).</pre></dt> <dd> Flags for the <code>%</code> operator. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L78" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L78" target="_blank">Edit</a> </dd> </dl>  <h2 id="12">Procs</h2> <dl>  <dt><pre id="mode%2CStringTableRef" data-language="nim">proc mode(t: StringTableRef): StringTableMode {...}{.inline, raises: [], tags: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L92" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L92" target="_blank">Edit</a> </dd>  <dt><pre id="len%2CStringTableRef" data-language="nim">proc len(t: StringTableRef): int {...}{.gcsafe, extern: "nst$1", raises: [], tags: [].}</pre></dt> <dd> Returns the number of keys in <code>t</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L147" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L147" target="_blank">Edit</a> </dd>  <dt><pre id="%5B%5D%2CStringTableRef%2Cstring" data-language="nim">proc `[]`(t: StringTableRef; key: string): var string {...}{.gcsafe,
    extern: "nstTake", raises: [KeyError], tags: [].}</pre></dt> <dd> <p>Retrieves the location at <code>t[key]</code>.</p> <p>If <code>key</code> is not in <code>t</code>, the <code>KeyError</code> exception is raised. One can check with <a href="#hasKey,StringTableRef,string">hasKey proc</a> whether the key exists.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getOrDefault,StringTableRef,string,string">getOrDefault proc</a></li> <li>
<a href="#%5B%5D=,StringTableRef,string,string">[]= proc</a> for inserting a new (key, value) pair in the table</li> <li>
<a href="#hasKey,StringTableRef,string">hasKey proc</a> for checking if a key is in the table</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
doAssert t["name"] == "John"
doAssertRaises(KeyError):
  echo t["occupation"]</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L151" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L151" target="_blank">Edit</a> </dd>  <dt><pre id="getOrDefault%2CStringTableRef%2Cstring%2Cstring" data-language="nim">proc getOrDefault(t: StringTableRef; key: string; default: string = ""): string {...}{.
    raises: [], tags: [].}</pre></dt> <dd> <p>Retrieves the location at <code>t[key]</code>.</p> <p>If <code>key</code> is not in <code>t</code>, the default value is returned (if not specified, it is an empty string (<code>""</code>)).</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#%5B%5D,StringTableRef,string">[] proc</a> for retrieving a value of a key</li> <li>
<a href="#hasKey,StringTableRef,string">hasKey proc</a> for checking if a key is in the table</li> <li>
<a href="#%5B%5D=,StringTableRef,string,string">[]= proc</a> for inserting a new (key, value) pair in the table</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
doAssert t.getOrDefault("name") == "John"
doAssert t.getOrDefault("occupation") == ""
doAssert t.getOrDefault("occupation", "teacher") == "teacher"
doAssert t.getOrDefault("name", "Paul") == "John"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L172" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L172" target="_blank">Edit</a> </dd>  <dt><pre id="hasKey%2CStringTableRef%2Cstring" data-language="nim">proc hasKey(t: StringTableRef; key: string): bool {...}{.gcsafe, extern: "nst$1",
    raises: [], tags: [].}</pre></dt> <dd> <p>Returns true if <code>key</code> is in the table <code>t</code>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getOrDefault,StringTableRef,string,string">getOrDefault proc</a></li> <li><a href="#contains,StringTableRef,string">contains proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
doAssert t.hasKey("name")
doAssert not t.hasKey("occupation")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L196" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L196" target="_blank">Edit</a> </dd>  <dt><pre id="contains%2CStringTableRef%2Cstring" data-language="nim">proc contains(t: StringTableRef; key: string): bool {...}{.raises: [], tags: [].}</pre></dt> <dd> Alias of <a href="#hasKey,StringTableRef,string">hasKey proc</a> for use with the <code>in</code> operator. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
doAssert "name" in t
doAssert "occupation" notin t</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L209" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L209" target="_blank">Edit</a> </dd>  <dt><pre id="%5B%5D%3D%2CStringTableRef%2Cstring%2Cstring" data-language="nim">proc `[]=`(t: StringTableRef; key, val: string) {...}{.gcsafe, extern: "nstPut",
    raises: [], tags: [].}</pre></dt> <dd> <p>Inserts a <code>(key, value)</code> pair into <code>t</code>.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#%5B%5D,StringTableRef,string">[] proc</a> for retrieving a value of a key</li> <li>
<a href="#del,StringTableRef,string">del proc</a> for removing a key from the table</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
t["occupation"] = "teacher"
doAssert t.hasKey("occupation")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L233" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L233" target="_blank">Edit</a> </dd>  <dt><pre id="newStringTable%2CStringTableMode" data-language="nim">proc newStringTable(mode: StringTableMode): owned(StringTableRef) {...}{.gcsafe,
    extern: "nst$1", noSideEffect, raises: [], tags: [].}</pre></dt> <dd> <p>Creates a new empty string table.</p> <p>See also:</p> <ul class="simple">
<li><a href="#newStringTable,varargs%5Btuple%5Bstring,string%5D%5D,StringTableMode">newStringTable(keyValuePairs) proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L253" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L253" target="_blank">Edit</a> </dd>  <dt><pre id="newStringTable%2Cvarargs%5Bstring%5D%2CStringTableMode" data-language="nim">proc newStringTable(keyValuePairs: varargs[string]; mode: StringTableMode): owned(
    StringTableRef) {...}{.gcsafe, extern: "nst$1WithPairs", noSideEffect,
                      raises: [], tags: [].}</pre></dt> <dd> <p>Creates a new string table with given <code>key, value</code> string pairs.</p> <p><code>StringTableMode</code> must be specified.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var mytab = newStringTable("key1", "val1", "key2", "val2",
                           modeCaseInsensitive)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L265" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L265" target="_blank">Edit</a> </dd>  <dt><pre id="newStringTable%2Cvarargs%5Btuple%5Bstring%2Cstring%5D%5D%2CStringTableMode" data-language="nim">proc newStringTable(keyValuePairs: varargs[tuple[key, val: string]];
                    mode: StringTableMode = modeCaseSensitive): owned(
    StringTableRef) {...}{.gcsafe, extern: "nst$1WithTableConstr", noSideEffect,
                      raises: [], tags: [].}</pre></dt> <dd> <p>Creates a new string table with given <code>(key, value)</code> tuple pairs.</p> <p>The default mode is case sensitive.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var
  mytab1 = newStringTable({"key1": "val1", "key2": "val2"}, modeCaseInsensitive)
  mytab2 = newStringTable([("key3", "val3"), ("key4", "val4")])</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L282" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L282" target="_blank">Edit</a> </dd>  <dt><pre id="clear%2CStringTableRef%2CStringTableMode" data-language="nim">proc clear(s: StringTableRef; mode: StringTableMode) {...}{.gcsafe, extern: "nst$1",
    raises: [], tags: [].}</pre></dt> <dd> <p>Resets a string table to be empty again, perhaps altering the mode.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#del,StringTableRef,string">del proc</a> for removing a key from the table</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
clear(t, modeCaseSensitive)
doAssert len(t) == 0
doAssert "name" notin t
doAssert "city" notin t</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L313" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L313" target="_blank">Edit</a> </dd>  <dt><pre id="clear%2CStringTableRef" data-language="nim">proc clear(s: StringTableRef) {...}{.raises: [], tags: [].}</pre></dt> <dd> Resets a string table to be empty again without changing the mode. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L331" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L331" target="_blank">Edit</a> </dd>  <dt><pre id="del%2CStringTableRef%2Cstring" data-language="nim">proc del(t: StringTableRef; key: string) {...}{.raises: [], tags: [].}</pre></dt> <dd> <p>Removes <code>key</code> from <code>t</code>.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#clear,StringTableRef,StringTableMode">clear proc</a> for resetting a table to be empty</li> <li>
<a href="#%5B%5D=,StringTableRef,string,string">[]= proc</a> for inserting a new (key, value) pair in the table</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
t.del("name")
doAssert len(t) == 1
doAssert "name" notin t
doAssert "city" in t</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L335" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L335" target="_blank">Edit</a> </dd>  <dt><pre id="%24%2CStringTableRef" data-language="nim">proc `$`(t: StringTableRef): string {...}{.gcsafe, extern: "nstDollar", raises: [],
                                      tags: [].}</pre></dt> <dd> The <code>$</code> operator for string tables. Used internally when calling <code>echo</code> on a table. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L376" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L376" target="_blank">Edit</a> </dd>  <dt><pre id="%25%2Cstring%2CStringTableRef%2Cset%5BFormatFlag%5D" data-language="nim">proc `%`(f: string; t: StringTableRef; flags: set[FormatFlag] = {}): string {...}{.
    gcsafe, extern: "nstFormat", raises: [ValueError], tags: [ReadEnvEffect].}</pre></dt> <dd> The <code>%</code> operator for string tables. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
doAssert "${name} lives in ${city}" % t == "John lives in Monaco"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L390" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L390" target="_blank">Edit</a> </dd> </dl>  <h2 id="15">Iterators</h2> <dl>  <dt><pre id="pairs.i%2CStringTableRef" data-language="nim">iterator pairs(t: StringTableRef): tuple[key, value: string] {...}{.raises: [],
    tags: [].}</pre></dt> <dd> Iterates over every <code>(key, value)</code> pair in the table <code>t</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L94" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L94" target="_blank">Edit</a> </dd>  <dt><pre id="keys.i%2CStringTableRef" data-language="nim">iterator keys(t: StringTableRef): string {...}{.raises: [], tags: [].}</pre></dt> <dd> Iterates over every key in the table <code>t</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L100" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L100" target="_blank">Edit</a> </dd>  <dt><pre id="values.i%2CStringTableRef" data-language="nim">iterator values(t: StringTableRef): string {...}{.raises: [], tags: [].}</pre></dt> <dd> Iterates over every value in the table <code>t</code>. <a href="https://github.com/nim-lang/Nim/tree/version-1-4/lib/pure/strtabs.nim#L106" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L106" target="_blank">Edit</a> </dd> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2021 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/strtabs.html" class="_attribution-link">https://nim-lang.org/docs/strtabs.html</a>
  </p>
</div>
