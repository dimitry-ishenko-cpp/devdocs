<h1 class="title">std/strtabs</h1> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L1" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L1" target="_blank">Edit</a>  <p class="module-desc">The <code>strtabs</code> module implements an efficient hash table that is a mapping from strings to strings. Supports a case-sensitive, case-insensitive and style-insensitive mode. </p>
<p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import std/strtabs
var t = newStringTable()
t["name"] = "John"
t["city"] = "Monaco"
doAssert t.len == 2
doAssert t.hasKey "name"
doAssert "name" in t</pre>String tables can be created from a table constructor: <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import std/strtabs
var t = {"name": "John", "city": "Monaco"}.newStringTable</pre>When using the style insensitive mode (<code>modeStyleInsensitive</code>), all letters are compared case insensitively within the ASCII range and underscores are ignored. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import std/strtabs
var x = newStringTable(modeStyleInsensitive)
x["first_name"] = "John"
x["LastName"] = "Doe"

doAssert x["firstName"] == "John"
doAssert x["last_name"] == "Doe"</pre>An efficient string substitution operator <a href="#%25,string,StringTableRef,set[FormatFlag]">%</a> for the string table is also provided. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">import std/strtabs
var t = {"name": "John", "city": "Monaco"}.newStringTable
doAssert "${name} lives in ${city}" % t == "John lives in Monaco"</pre>
<strong>See also:</strong><ul class="simple">
<li>
<a href="tables.html">tables module</a> for general hash tables</li> <li>
<a href="sharedtables.html">sharedtables module</a> for shared hash table support</li> <li>
<a href="strutils.html">strutils module</a> for common string functions</li> <li>
<a href="json.html">json module</a> for table-like structure which allows heterogeneous members</li> </ul>  <h2 id="6">Imports</h2> <dl> <a href="since.html">since</a>, <a href="hashes.html">hashes</a>, <a href="strutils.html">strutils</a>, <a href="envvars.html">envvars</a> </dl>   <h2 id="7">Types</h2> <dl> <div id="FormatFlag"> <dt><pre data-language="nim">FormatFlag = enum
  useEnvironment,           ## Use environment variable if the ``$key``
                             ## is not found in the table.
                             ## Does nothing when using `js` target.
  useEmpty,                 ## Use the empty string as a default, thus it
                             ## won't throw an exception if ``$key`` is not
                             ## in the table.
  useKey                     ## Do not replace ``$key`` if it is not found
                             ## in the table (or in the environment).</pre></dt> <dd> Flags for the <code><span class="Operator">%</span></code> operator. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L82" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L82" target="_blank">Edit</a> </dd> </div> <div id="StringTableMode"> <dt><pre data-language="nim">StringTableMode = enum
  modeCaseSensitive,        ## the table is case sensitive
  modeCaseInsensitive,      ## the table is case insensitive
  modeStyleInsensitive       ## the table is style insensitive</pre></dt> <dd> Describes the tables operation mode. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L69" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L69" target="_blank">Edit</a> </dd> </div> <div id="StringTableObj"> <dt><pre>StringTableObj = object of RootObj</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L75" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L75" target="_blank">Edit</a> </dd> </div> <div id="StringTableRef"> <dt><pre>StringTableRef = ref StringTableObj</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L80" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L80" target="_blank">Edit</a> </dd> </div> </dl>   <h2 id="12">Procs</h2> <dl> <div id="$-procs-all"> <div id="$,StringTableRef"> <dt><pre data-language="nim">proc `$`(t: StringTableRef): string {....gcsafe, extern: "nstDollar", raises: [],
                                      tags: [], forbids: [].}</pre></dt> <dd> The <code><span class="Operator">$</span></code> operator for string tables. Used internally when calling <code><span class="Identifier">echo</span></code> on a table. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L376" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L376" target="_blank">Edit</a> </dd> </div> </div> <div id="%-procs-all"> <div id="%,string,StringTableRef,set[FormatFlag]"> <dt><pre data-language="nim">proc `%`(f: string; t: StringTableRef; flags: set[FormatFlag] = {}): string {.
    ...gcsafe, extern: "nstFormat", raises: [ValueError], tags: [ReadEnvEffect],
    forbids: [].}</pre></dt> <dd> The <code><span class="Operator">%</span></code> operator for string tables. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
doAssert "${name} lives in ${city}" % t == "John lives in Monaco"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L390" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L390" target="_blank">Edit</a> </dd> </div> </div> <div id="[]-procs-all"> <div id="[],StringTableRef,string"> <dt><pre data-language="nim">proc `[]`(t: StringTableRef; key: string): var string {....gcsafe,
    extern: "nstTake", raises: [KeyError], tags: [], forbids: [].}</pre></dt> <dd> <p>Retrieves the location at <code>t[key]</code>.</p> <p>If <code><span class="Identifier">key</span></code> is not in <code><span class="Identifier">t</span></code>, the <code>KeyError</code> exception is raised. One can check with <a href="#hasKey,StringTableRef,string">hasKey proc</a> whether the key exists.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getOrDefault,StringTableRef,string,string">getOrDefault proc</a></li> <li>
<a href="#[]=,StringTableRef,string,string">[]= proc</a> for inserting a new (key, value) pair in the table</li> <li>
<a href="#hasKey,StringTableRef,string">hasKey proc</a> for checking if a key is in the table</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
doAssert t["name"] == "John"
doAssertRaises(KeyError):
  echo t["occupation"]</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L155" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L155" target="_blank">Edit</a> </dd> </div> </div> <div id="[]=-procs-all"> <div id="[]=,StringTableRef,string,string"> <dt><pre data-language="nim">proc `[]=`(t: StringTableRef; key, val: string) {....gcsafe, extern: "nstPut",
    raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Inserts a <code><span class="Punctuation">(</span><span class="Identifier">key</span><span class="Punctuation">,</span> <span class="Identifier">value</span><span class="Punctuation">)</span></code> pair into <code><span class="Identifier">t</span></code>.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#[],StringTableRef,string">[] proc</a> for retrieving a value of a key</li> <li>
<a href="#del,StringTableRef,string">del proc</a> for removing a key from the table</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
t["occupation"] = "teacher"
doAssert t.hasKey("occupation")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L237" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L237" target="_blank">Edit</a> </dd> </div> </div> <div id="clear-procs-all"> <div id="clear,StringTableRef"> <dt><pre data-language="nim">proc clear(s: StringTableRef) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Resets a string table to be empty again without changing the mode. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L331" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L331" target="_blank">Edit</a> </dd> </div> <div id="clear,StringTableRef,StringTableMode"> <dt><pre data-language="nim">proc clear(s: StringTableRef; mode: StringTableMode) {....gcsafe, extern: "nst$1",
    raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Resets a string table to be empty again, perhaps altering the mode.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#del,StringTableRef,string">del proc</a> for removing a key from the table</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
clear(t, modeCaseSensitive)
doAssert len(t) == 0
doAssert "name" notin t
doAssert "city" notin t</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L313" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L313" target="_blank">Edit</a> </dd> </div> </div> <div id="contains-procs-all"> <div id="contains,StringTableRef,string"> <dt><pre data-language="nim">proc contains(t: StringTableRef; key: string): bool {....raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> Alias of <a href="#hasKey,StringTableRef,string">hasKey proc</a> for use with the <code><span class="Keyword">in</span></code> operator. <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
doAssert "name" in t
doAssert "occupation" notin t</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L213" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L213" target="_blank">Edit</a> </dd> </div> </div> <div id="del-procs-all"> <div id="del,StringTableRef,string"> <dt><pre data-language="nim">proc del(t: StringTableRef; key: string) {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Removes <code><span class="Identifier">key</span></code> from <code><span class="Identifier">t</span></code>.</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#clear,StringTableRef,StringTableMode">clear proc</a> for resetting a table to be empty</li> <li>
<a href="#[]=,StringTableRef,string,string">[]= proc</a> for inserting a new (key, value) pair in the table</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
t.del("name")
doAssert len(t) == 1
doAssert "name" notin t
doAssert "city" in t</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L335" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L335" target="_blank">Edit</a> </dd> </div> </div> <div id="getOrDefault-procs-all"> <div id="getOrDefault,StringTableRef,string,string"> <dt><pre data-language="nim">proc getOrDefault(t: StringTableRef; key: string; default: string = ""): string {.
    ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Retrieves the location at <code>t[key]</code>.</p> <p>If <code><span class="Identifier">key</span></code> is not in <code><span class="Identifier">t</span></code>, the default value is returned (if not specified, it is an empty string (<code><span class="StringLit">""</span></code>)).</p> <p>See also:</p> <ul class="simple">
<li>
<a href="#[],StringTableRef,string">[] proc</a> for retrieving a value of a key</li> <li>
<a href="#hasKey,StringTableRef,string">hasKey proc</a> for checking if a key is in the table</li> <li>
<a href="#[]=,StringTableRef,string,string">[]= proc</a> for inserting a new (key, value) pair in the table</li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
doAssert t.getOrDefault("name") == "John"
doAssert t.getOrDefault("occupation") == ""
doAssert t.getOrDefault("occupation", "teacher") == "teacher"
doAssert t.getOrDefault("name", "Paul") == "John"</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L176" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L176" target="_blank">Edit</a> </dd> </div> </div> <div id="hasKey-procs-all"> <div id="hasKey,StringTableRef,string"> <dt><pre data-language="nim">proc hasKey(t: StringTableRef; key: string): bool {....gcsafe, extern: "nst$1",
    raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Returns true if <code><span class="Identifier">key</span></code> is in the table <code><span class="Identifier">t</span></code>.</p> <p>See also:</p> <ul class="simple">
<li><a href="#getOrDefault,StringTableRef,string,string">getOrDefault proc</a></li> <li><a href="#contains,StringTableRef,string">contains proc</a></li> </ul> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var t = {"name": "John", "city": "Monaco"}.newStringTable
doAssert t.hasKey("name")
doAssert not t.hasKey("occupation")</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L200" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L200" target="_blank">Edit</a> </dd> </div> </div> <div id="len-procs-all"> <div id="len,StringTableRef"> <dt><pre data-language="nim">proc len(t: StringTableRef): int {....gcsafe, extern: "nst$1", raises: [],
                                   tags: [], forbids: [].}</pre></dt> <dd> Returns the number of keys in <code><span class="Identifier">t</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L151" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L151" target="_blank">Edit</a> </dd> </div> </div> <div id="mode-procs-all"> <div id="mode,StringTableRef"> <dt><pre data-language="nim">proc mode(t: StringTableRef): StringTableMode {.inline, ...raises: [], tags: [],
    forbids: [].}</pre></dt> <dd> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L96" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L96" target="_blank">Edit</a> </dd> </div> </div> <div id="newStringTable-procs-all"> <div id="newStringTable,varargs[string],StringTableMode"> <dt><pre data-language="nim">proc newStringTable(keyValuePairs: varargs[string]; mode: StringTableMode): owned(
    StringTableRef) {....gcsafe, extern: "nst$1WithPairs", noSideEffect,
                      ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Creates a new string table with given <code><span class="Identifier">key</span><span class="Punctuation">,</span> <span class="Identifier">value</span></code> string pairs.</p> <p><code><span class="Identifier">StringTableMode</span></code> must be specified.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var mytab = newStringTable("key1", "val1", "key2", "val2",
                           modeCaseInsensitive)</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L266" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L266" target="_blank">Edit</a> </dd> </div> <div id="newStringTable,varargs[tuple[string,string]],StringTableMode"> <dt><pre data-language="nim">proc newStringTable(keyValuePairs: varargs[tuple[key, val: string]];
                    mode: StringTableMode = modeCaseSensitive): owned(
    StringTableRef) {....gcsafe, extern: "nst$1WithTableConstr", noSideEffect,
                      ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Creates a new string table with given <code><span class="Punctuation">(</span><span class="Identifier">key</span><span class="Punctuation">,</span> <span class="Identifier">value</span><span class="Punctuation">)</span></code> tuple pairs.</p> <p>The default mode is case sensitive.</p> <p><strong class="examples_text">Example:</strong></p> <pre class="listing" data-language="nim">var
  mytab1 = newStringTable({"key1": "val1", "key2": "val2"}, modeCaseInsensitive)
  mytab2 = newStringTable([("key3", "val3"), ("key4", "val4")])</pre> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L283" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L283" target="_blank">Edit</a> </dd> </div> <div id="newStringTable,StringTableMode"> <dt><pre data-language="nim">proc newStringTable(mode: StringTableMode): owned(StringTableRef) {....gcsafe,
    extern: "nst$1", noSideEffect, ...raises: [], tags: [], forbids: [].}</pre></dt> <dd> <p>Creates a new empty string table.</p> <p>See also:</p> <ul class="simple">
<li><a href="#newStringTable,varargs[tuple[string,string]],StringTableMode">newStringTable(keyValuePairs) proc</a></li> </ul> <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L257" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L257" target="_blank">Edit</a> </dd> </div> </div> </dl>   <h2 id="15">Iterators</h2> <dl> <div id="keys-iterators-all"> <div id="keys.i,StringTableRef"> <dt><pre data-language="nim">iterator keys(t: StringTableRef): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Iterates over every key in the table <code><span class="Identifier">t</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L104" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L104" target="_blank">Edit</a> </dd> </div> </div> <div id="pairs-iterators-all"> <div id="pairs.i,StringTableRef"> <dt><pre data-language="nim">iterator pairs(t: StringTableRef): tuple[key, value: string] {....raises: [],
    tags: [], forbids: [].}</pre></dt> <dd> Iterates over every <code><span class="Punctuation">(</span><span class="Identifier">key</span><span class="Punctuation">,</span> <span class="Identifier">value</span><span class="Punctuation">)</span></code> pair in the table <code><span class="Identifier">t</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L98" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L98" target="_blank">Edit</a> </dd> </div> </div> <div id="values-iterators-all"> <div id="values.i,StringTableRef"> <dt><pre data-language="nim">iterator values(t: StringTableRef): string {....raises: [], tags: [], forbids: [].}</pre></dt> <dd> Iterates over every value in the table <code><span class="Identifier">t</span></code>. <a href="https://github.com/nim-lang/Nim/tree/version-2-2/lib/pure/strtabs.nim#L110" target="_blank">Source</a> <a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/strtabs.nim#L110" target="_blank">Edit</a> </dd> </div> </div> </dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2006&ndash;2024 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/strtabs.html" class="_attribution-link">https://nim-lang.org/docs/strtabs.html</a>
  </p>
</div>
