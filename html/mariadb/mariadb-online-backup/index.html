<h1>MariaDB Online Backup</h1> <div> <div class="node creole"> <div class="answer formatted"> <div class="cstm-style redbox lead">
<p><strong>Note:</strong> This page is obsolete. The information is old, outdated, or otherwise currently incorrect. We are keeping the page for historical reasons only. <strong>Do not</strong> rely on the information in this article.</p> </div> <p>Rumours have it that MySQL/Sun/Oracle are going to drop the MySQL online backup project, which was originally scheduled for MySQL 6.0.</p> <p>Given this, it makes sense to consider resurrecting the project for MariaDB. This page collects various resources related to this.</p> <h2 class="anchored_heading" id="documentation">Documentation</h2> <ul start="1">
<li>
<a href="http://forge.mysql.com/wiki/OnlineBackup">MySQL Forge project page</a> for Online Backup </li>
<li>
<a href="http://dev.mysql.com/doc/mysql-backup/en/index.html">Online Backup reference manual</a> </li>
<li>
<a href="http://hasky.askmonty.org/download/onlinebackup/backup-manual.tar.gz">tarball</a> containing self-contained copy of the Online Backup reference manual (the license allows to copy/distribute the manual together with the source tarball, but not to modify it). </li>
</ul> <h2 class="anchored_heading" id="source-code">Source code</h2> <ul start="1">
<li>
<a href="https://code.launchpad.net/~mysql/mysql-server/mysql-6.0-backup">mysql-6.0-backup branch</a> on Launchpad </li>
<li>
<a href="https://code.launchpad.net/~mysql/mysql-server/mysql-6.0">mysql-6.0 branch</a> on Launchpad </li>
<li>
<a href="http://hasky.askmonty.org/download/onlinebackup/mysql-6.0.14-alpha.tar.gz">Source tarball</a> of mysql-6.0-backup </li>
</ul> <h2 class="anchored_heading" id="notes">Notes</h2> <h3 class="anchored_heading" id="extracting-a-patch-for-merging">Extracting a patch for merging</h3> <p>It may not be trivial to extract a patch of MySQL Online Backup that can be used as a basis for merging into MariaDB. The problem is that we do not have a feature tree that contains only the backup feature over some base/parent tree.</p> <p>There was work done at MySQL to merge online backup into MySQL 5.5 using such a feature tree, but this tree is not public, and requests to make it public have not been answered positively so far.</p> <p>It may still be possible to extract the code, but it may be necessary to do it manually, by extracting relevant parts of the code from 6.0 without including other stuff that is not related to backup.</p> <p>It might also be useful to search the <a href="http://bugs.mysql.com/">bugs.mysql.com</a> MySQL bug tracker for recently fixed online backup bugs, since recent fixes are not included in the publicly available trees on Launchpad.</p> <h3 class="anchored_heading" id="comments-on-the-code">Comments on the code</h3> <p>From looking at the documentation of Online Backup, it seems geared more towards an optimised mysqldump facility than towards an easy-to-use facility to back up a complete MySQL server:</p> <ul start="1">
<li>The <code>BACKUP</code> command only allows to backup selected (or all) databases/schemas. </li>
<li>There seems to be no facility to backup the binary log </li>
<li>There seems to be no facility to backup <code>GRANT</code>s or other server-global configuration, using <a href="../mysqldump/index.html">mysqldump</a> on the "mysql" schema/database is suggested </li>
<li>Restoring a new server from scratch seems to involve setting up a new server, including running <a href="../mysql_install_db/index.html">mysql_install_db</a> and adding <code>GRANT</code>s, and only then restoring tables and other schema objects </li>
</ul> <p>Compared to something like XtraBackup, full backup and restore seems to be somewhat more involved. It may be necessary to add extra facilities or wrapper scripts to enable to backup/restore a full database server.</p> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/mariadb-online-backup/" class="_attribution-link">https://mariadb.com/kb/en/mariadb-online-backup/</a>
  </p>
</div>
