<h1> Buildbot Setup for Virtual Machines </h1> <div> <div class="creole"> <p>This section documents the exact steps used to set up each virtual machine used in the MariaDB Buildbot for building packages and testing. There are lots of boring details, but the information here should be useful for reference, and as a help when installing new virtual images for additional distros and versions.</p> <p>The articles here document how the virtual machine images were actually set up, not the most efficient way to recreate all of them. Thus, some historical artifacts remain, reflecting the order they were initially added and lessons learned along the way.</p> <p>For example, the steps for the earliest VMs are somewhat overly enthusiastic about using the `qemu-img create -b` option to make one vm a copy-on-write copy on top of another image. This makes it harder to modify the images afterwards, since if the base image is modified, any copy-on-write vm on top of it needs to be re-created.</p> <p>The descriptions do not go into painful detail about the installation procedure. Generally the .iso for the distro was downloaded, and the default, non-graphical installer started. Installing Linux these days is quite easy, and generally just defaults were picked. With respect to harddisk partitioning, generally an 8Gb image was configured, of which 1/2 Gb was reserved for swap and the rest for a single root partition "/".</p> <p>For details on setting up a host server to run these VMs, see <a href="../buildbot-setup-for-vm-host/index.html">Buildbot Setup for VM host</a>.</p> </div> <table>
<thead><tr>
<th>Title</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td><a href="../buildbot-setup-for-virtual-machines-general-principles/index.html"> Buildbot Setup for Virtual Machines - General Principles</a></td>
<td> The installations are kept minimal, picking mostly default options. This h... </td>
</tr></tbody>
</table> <h3 class="listing" id="node_2683"> <a href="../buildbot-setup-for-virtual-machines-ubuntu/index.html"> Buildbot Setup for Virtual Machines - Ubuntu</a>
</h3> <table>
<thead><tr>
<th>Title</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-ubuntu-1404-trusty/index.html"> Buildbot Setup for Virtual Machines - Ubuntu 14.04 "trusty"</a></td>
<td> Base install qemu-img create -f qcow2 /kvm/vms/vm-trusty-amd64-seri </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-ubuntu-1310-saucy/index.html"> Buildbot Setup for Virtual Machines - Ubuntu 13.10 "saucy"</a></td>
<td> Base install qemu-img create -f qcow2 /kvm/vms/vm-saucy-amd64-seria </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-ubuntu-1304-raring/index.html"> Buildbot Setup for Virtual Machines - Ubuntu 13.04 "raring"</a></td>
<td> Base install qemu-img create -f qcow2 /kvm/vms/vm-raring-amd64-seri </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-ubuntu-1210-quantal/index.html"> Buildbot Setup for Virtual Machines - Ubuntu 12.10 "quantal"</a></td>
<td> Base install qemu-img create -f qcow2 /kvm/vms/vm-quantal-amd64-ser </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-ubuntu-1204-precise/index.html"> Buildbot Setup for Virtual Machines - Ubuntu 12.04 "precise"</a></td>
<td> Base install qemu-img create -f qcow2 /kvm/vms/vm-precise-amd64-ser </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-ubuntu-1110-oneiric/index.html"> Buildbot Setup for Virtual Machines - Ubuntu 11.10 "oneiric"</a></td>
<td> Base install qemu-img create -f qcow2 /kvm/vms/vm-oneiric-amd64-ser </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-ubuntu-1104-natty/index.html"> Buildbot Setup for Virtual Machines - Ubuntu 11.04 "natty"</a></td>
<td> Base install qemu-img create -f qcow2 vm-natty-amd64-serial.qcow2 8G </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-ubuntu-1010-maverick/index.html"> Buildbot Setup for Virtual Machines - Ubuntu 10.10 "maverick"</a></td>
<td> Base install qemu-img create -f qcow2 vm-maverick-amd64-serial.qcow2 </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-ubuntu-1004-alpha-i386-and-amd64/index.html"> Buildbot Setup for Virtual Machines - Ubuntu 10.04 (alpha), i386 and amd64</a></td>
<td> Base install qemu-img create -f qcow2 vm-lucid-amd64-serial.qcow2 8G </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-ubuntu-904-i386/index.html"> Buildbot Setup for Virtual Machines - Ubuntu 9.04 i386</a></td>
<td> This vm is used to build source tarball and for Ubuntu 9.04 32-bit .deb. Fi... </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-ubuntu-904-amd64/index.html"> Buildbot Setup for Virtual Machines - Ubuntu 9.04 amd64</a></td>
<td> Base install qemu-img create -f qcow2 vm-jaunty-amd64-serial.qcow2 8 </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-ubuntu-804-810-and-910/index.html"> Buildbot Setup for Virtual Machines - Ubuntu 8.04, 8.10, and 9.10</a></td>
<td> These 6 platforms were installed together (i386 and amd64). Base installs U... </td>
</tr>
</tbody>
</table> <h3 class="listing" id="node_2682"> <a href="../buildbot-setup-for-virtual-machines-debian/index.html"> Buildbot Setup for Virtual Machines - Debian</a>
</h3> <table>
<thead><tr>
<th>Title</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-debian-7-wheezy/index.html"> Buildbot Setup for Virtual Machines - Debian 7 "wheezy"</a></td>
<td> Base install qemu-img create -f qcow2 /kvm/vms/vm-wheezy-amd64-seri </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-debian-6-amd64/index.html"> Buildbot Setup for Virtual Machines - Debian 6 amd64</a></td>
<td> Create the VM: cd /kvm/vms qemu-img create -f qcow2 vm-debian6-amd64 </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-debian-6-i386/index.html"> Buildbot Setup for Virtual Machines - Debian 6 i386</a></td>
<td> Base Install cd /kvm/vms qemu-img create -f qcow2 vm-debian6-i386-se </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-debian-5-amd64/index.html"> Buildbot Setup for Virtual Machines - Debian 5 amd64</a></td>
<td> Download netinst CD image debian-503-amd64-netinst.iso cd /kvm/vms q </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-debian-5-i386/index.html"> Buildbot Setup for Virtual Machines - Debian 5 i386</a></td>
<td> Base install Download netinst CD image debian-503-i386-netinst.iso and inst... </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-debian-4-i386/index.html"> Buildbot Setup for Virtual Machines - Debian 4 i386</a></td>
<td> Create the VM: cd /kvm/vms qemu-img create -f qcow2 vm-debian4-i386- </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-debian-4-amd64/index.html"> Buildbot Setup for Virtual Machines - Debian 4 amd64</a></td>
<td> cd /kvm/vms qemu-img create -f qcow2 vm-debian4-amd64-serial.qcow2 8 </td>
</tr>
</tbody>
</table> <h3 class="listing" id="node_2684"> <a href="../buildbot-setup-for-virtual-machines-red-hat/index.html"> Buildbot Setup for Virtual Machines - Red Hat</a>
</h3> <table>
<thead><tr>
<th>Title</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-fedora-20/index.html"> Buildbot Setup for Virtual Machines - Fedora 20</a></td>
<td> Base install qemu-img create -f qcow2 /kvm/vms/vm-fedora20-i386-ser </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-fedora-19/index.html"> Buildbot Setup for Virtual Machines - Fedora 19</a></td>
<td> Base install qemu-img create -f qcow2 /kvm/vms/vm-fedora19-i386-ser </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-fedora-18/index.html"> Buildbot Setup for Virtual Machines - Fedora 18</a></td>
<td> Base install qemu-img create -f qcow2 /kvm/vms/vm-fedora18-i386-ser </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-fedora-17/index.html"> Buildbot Setup for Virtual Machines - Fedora 17</a></td>
<td> Base install qemu-img create -f qcow2 /kvm/vms/vm-fedora17-i386-ser </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-fedora-16/index.html"> Buildbot Setup for Virtual Machines - Fedora 16</a></td>
<td> Base install qemu-img create -f qcow2 /kvm/vms/vm-fedora16-i386-ser </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-centos-62/index.html"> Buildbot Setup for Virtual Machines - CentOS 6.2</a></td>
<td> Base install qemu-img create -f qcow2 /kvm/vms/vm-centos6-amd64-ser </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-red-hat-6-x86/index.html"> Buildbot Setup for Virtual Machines - Red Hat 6 x86</a></td>
<td> The following steps were used to create a Red Hat 6 x86 buildslave. Initial Setup cd vms q </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-centos-5-i386/index.html"> Buildbot Setup for Virtual Machines - CentOS 5 i386</a></td>
<td> Base install cd /kvm qemu-img create -f qcow2 vms/vm-centos5-i386-ba </td>
</tr>
<tr>
<td><a href="../buildbot-setup-for-virtual-machines-centos-5-amd64/index.html"> Buildbot Setup for Virtual Machines - Centos 5 amd64</a></td>
<td> Base install cd /kvm wget http://ftp.klid.dk/ftp/centos/5.3/isos/x86 </td>
</tr>
</tbody>
</table> <h3 class="listing" id="node_1688"> <a href="../buildbot-setup-for-virtual-machines-additional-steps/index.html"> Buildbot Setup for Virtual Machines - Additional Steps</a>
</h3> <table>
<thead><tr>
<th>Title</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><a href="../installing-the-boost-library-needed-for-the-oqgraph-storage-engine/index.html"> Installing the Boost library needed for the OQGraph storage engine</a></td>
<td> The OQGraph storage engine needs a newer version of Boost that what is avai... </td>
</tr>
<tr>
<td><a href="../installing-vm-images-for-testing-deb-upgrade-between-versions/index.html"> Installing VM images for testing .deb upgrade between versions</a></td>
<td> This step creates virtual machine images used to do an important additional... </td>
</tr>
<tr>
<td><a href="../install-cassandra-on-fulltest-vms/index.html"> Install Cassandra on Fulltest VMs</a></td>
<td> CassandraSE is no longer actively being developed and has been removed in M... </td>
</tr>
<tr>
<td><a href="../install-cmake-on-build-vms/index.html"> Install cmake on build VMs</a></td>
<td> MariaDB 5.5 Requires cmake. Install cmake on all -build VMs (and other Unix... </td>
</tr>
<tr>
<td><a href="../installing-correct-libraries-for-pam-and-readline/index.html"> Installing correct libraries for PAM and readline</a></td>
<td> Some additional/alternative libraries needs to be installed to handle readl... </td>
</tr>
<tr>
<td><a href="../resizing-a-virtual-machine-image/index.html"> Resizing a Virtual Machine Image</a></td>
<td> Some KVM images end up not having enough space on them. In such cases, it i... </td>
</tr>
<tr>
<td><a href="../update-debian-4-mirrors-for-buildbot-vms/index.html"> Update Debian 4 mirrors for Buildbot VMs</a></td>
<td> Debian 4 has become so old that the apt repository has been moved out of th... </td>
</tr>
</tbody>
</table> <h3>Other Buildbot Setup for Virtual Machines Articles</h3> <table>
<thead><tr>
<th>Title</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td><a href="../buildbot-setup-for-virtual-machines-freebsd-92/index.html"> Buildbot Setup for Virtual Machines - FreeBSD 9.2</a></td>
<td> Base install qemu-img create -f qcow2 /kvm/vms/vm-freebsd92-amd64-s </td>
</tr></tbody>
</table>  <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/buildbot-setup-for-virtual-machines/" class="_attribution-link">https://mariadb.com/kb/en/buildbot-setup-for-virtual-machines/</a>
  </p>
</div>
