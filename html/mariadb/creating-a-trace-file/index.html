<h1>Creating a Trace File</h1> <div> <div class="node creole"> <div class="answer formatted"> <p>If <code>mysqld</code> is crashing, creating a trace file is a good way to find the issue.</p> <p>A <code>mysqld</code> binary that has been compiled with debugging support can create trace files using the DBUG package created by Fred Fish. To find out if your <code>mysqld</code> binary has debugging support, run <code>mysqld -V</code> on the command line. If the version number ends in <code>-debug</code> then your <code>mysqld</code> binary was compiled with debugging support.</p> <p>See <a href="../compiling-mariadb-for-debugging/index.html">Compiling MariaDB for debugging</a> for instructions on how to create your own <code>mysqld</code> binary with debugging enabled.</p> <p>To create the trace log, start <code>mysqld</code> like so:</p> <pre class="fixed" data-language="sql">mysqld --debug
</pre>
<p>Without options for --debug, the trace file will be named <code>/tmp/mysqld.trace</code> in MySQL and older versions of MariaDB before 10.5 and <code>/tmp/mariadbd.trace</code> starting from <a href="../what-is-mariadb-105/index.html">MariaDB 10.5</a>.</p> <p>On Windows, the debug <code>mysqld</code> is called <code>mysqld-debug</code> and you should also use the <code>--standalone</code> option. So the command on Windows will look like:</p> <pre class="fixed" data-language="sql">mysqld-debug --debug --standalone
</pre>
<p>Once the server is started, use the regular <code>mysql</code> command-line client (or another client) to connect and work with the server.</p> <p>After you are finished debugging, stop the server with:</p> <pre class="fixed" data-language="sql">mysqladmin shutdown
</pre>
<h2 class="anchored_heading" id="dbug-options">DBUG Options</h2> <p>Trace files can grow to a significant size. You can reduce their size by telling the server to only log certain items.</p> <p>The <code>--debug</code> flag can take extra options in the form of a colon (:) delimited string of options. Individual options can have comma-separated sub-options.</p> <p>For example:</p> <pre class="fixed" data-language="sql">mysqld --debug=d,info,error,query:o,/tmp/mariadbd.trace
</pre>
<p>The '<code>d</code>' option limits the output to the named DBUG_&lt;N&gt; macros. In the above example, the <code>/tmp/mariadbd.trace</code> tracefile will contain output from the info, error, and query DBUG macros. A '<code>d</code>' by itself (with no sub-options) will select all DBUG_&lt;N&gt; macros.</p> <p>The '<code>o</code>' option redirects the output to a file (<code>/tmp/mariadbd.trace</code> in the example above) and overwrites the file if it exists.</p> <h2 class="anchored_heading" id="see-also">See Also</h2> <ul start="1"><li><a href="../mysql_debug/index.html">Options for --debug</a></li></ul> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/creating-a-trace-file/" class="_attribution-link">https://mariadb.com/kb/en/creating-a-trace-file/</a>
  </p>
</div>
