<h1>DES_ENCRYPT</h1> <div> <div class="node creole"> <div class="answer formatted"> <div class="cstm-style redbox">
<p>DES_ENCRYPT has been deprecated from <a href="https://mariadb.com/kb/en/mariadb-10100-release-notes/">MariaDB 10.10.0</a>, and will be removed in a future release.</p> </div>
<h2 class="anchored_heading" id="syntax">Syntax</h2> <pre class="fixed" data-language="sql">DES_ENCRYPT(str[,{key_num|key_str}])
</pre>
<h2 class="anchored_heading" id="description">Description</h2> <p>Encrypts the string with the given key using the Triple-DES algorithm.</p> <p>This function works only if MariaDB has been configured with <a href="../secure-connections-overview/index.html">TLS support</a>.</p> <p>The encryption key to use is chosen based on the second argument to <code>DES_ENCRYPT()</code>, if one was given. With no argument, the first key from the DES key file is used. With a <em><code>key_num</code></em> argument, the given key number (0-9) from the DES key file is used. With a <em><code>key_str</code></em> argument, the given key string is used to encrypt <em><code>str</code></em>. </p> <p>The key file can be specified with the <code>--des-key-file</code> server option.</p> <p>The return string is a binary string where the first character is <code>CHAR(128 | key_num)</code>. If an error occurs, <code>DES_ENCRYPT()</code> returns <code>NULL</code>.</p> <p>The 128 is added to make it easier to recognize an encrypted key. If you use a string key, <em><code>key_num</code></em> is 127.</p> <p>The string length for the result is given by this formula:</p> <pre class="fixed" data-language="sql">new_len = orig_len + (8 - (orig_len % 8)) + 1
</pre>
<p>Each line in the DES key file has the following format:</p> <pre class="fixed" data-language="sql">key_num des_key_str
</pre>
<p>Each <em><code>key_num</code></em> value must be a number in the range from 0 to 9. Lines in the file may be in any order. <em><code>des_key_str</code></em> is the string that is used to encrypt the message. There should be at least one space between the number and the key. The first key is the default key that is used if you do not specify any key argument to <code>DES_ENCRYPT()</code>.</p> <p>You can tell MariaDB to read new key values from the key file with the FLUSH DES_KEY_FILE statement. This requires the RELOAD privilege.</p> <p>One benefit of having a set of default keys is that it gives applications a way to check for the existence of encrypted column values, without giving the end user the right to decrypt those values.</p> <h2 class="anchored_heading" id="examples">Examples</h2> <pre class="fixed" data-language="sql">SELECT customer_address FROM customer_table 
   WHERE crypted_credit_card = DES_ENCRYPT('credit_card_number');
</pre>
<h2 class="anchored_heading" id="see-also">See Also</h2> <ul start="1"><li><a href="../des_decrypt/index.html">DES_DECRYPT()</a></li></ul> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/des_encrypt/" class="_attribution-link">https://mariadb.com/kb/en/des_encrypt/</a>
  </p>
</div>
