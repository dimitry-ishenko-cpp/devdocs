<h1>HANDLER for MEMORY Tables</h1> <div> <div class="node creole"> <div class="answer formatted"> <p>This article explains how to use <a href="../handler-commands/index.html">HANDLER commands</a> efficiently with <a href="../memory-storage-engine/index.html">MEMORY/HEAP</a> tables.</p> <p>If you want to scan a table for over different key values, not just search for exact key values, you should create your keys with 'USING BTREE':</p> <pre class="fixed" data-language="sql">CREATE TABLE t1 (a INT, b INT, KEY(a), KEY b USING BTREE (b)) engine=memory;
</pre>
<p>In the above table, <code>a</code> is a <a href="../storage-engine-index-types/index.html#hash-indexes">HASH</a> key that only supports exact matches (=) while <code>b</code> is a <a href="../storage-engine-index-types/index.html#b-tree-indexes">BTREE</a> key that you can use to scan the table in key order, starting from start or from a given key value.</p> <p>The limitations for HANDLER READ with Memory|HEAP tables are:</p> <h2 class="anchored_heading" id="limitations-for-hash-keys">Limitations for HASH keys</h2> <ul start="1">
<li>You must use all key parts when searching for a row. </li>
<li>You can't do a key scan of all values. You can only find all rows with the same key value. </li>
<li>READ NEXT gives error 1031 if the tables changed since last read. </li>
</ul> <h2 class="anchored_heading" id="limitations-for-btree-keys">Limitations for BTREE keys</h2> <ul start="1"><li>READ NEXT gives error 1031 if the tables changed since last read. This limitation can be lifted in the future. </li></ul> <h2 class="anchored_heading" id="limitations-for-table-scans">Limitations for table scans</h2> <ul start="1"><li>READ NEXT gives error 1031 if the table was truncated since last READ call. </li></ul> <h2 class="anchored_heading" id="see-also">See also</h2> <p>See also the the limitations listed in <a href="../handler-commands/index.html">HANDLER commands</a>.</p> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/handler-for-memory-tables/" class="_attribution-link">https://mariadb.com/kb/en/handler-for-memory-tables/</a>
  </p>
</div>
