<h1>CREATE SEQUENCE</h1> <div> <div class="node creole"> <div class="answer formatted"> <h2 class="anchored_heading" id="syntax">Syntax</h2> <pre class="highlight fixed" data-language="sql">CREATE [OR REPLACE] [TEMPORARY] SEQUENCE [IF NOT EXISTS] sequence_name
[ INCREMENT [ BY | = ] increment ]
[ MINVALUE [=] minvalue | NO MINVALUE | NOMINVALUE ]
[ MAXVALUE [=] maxvalue | NO MAXVALUE | NOMAXVALUE ]
[ START [ WITH | = ] start ] 
[ CACHE [=] cache | NOCACHE ] [ CYCLE | NOCYCLE] 
[table_options]</pre>
<p> The options for <code>CREATE SEQUENCE</code> can be given in any order, optionally followed by <code>table_options</code>.</p> <p><em>table_options</em> can be any of the normal table options in <a href="../create-table/index.html">CREATE TABLE</a> but the most usable ones are <code>ENGINE=...</code> and <code>COMMENT=</code>.</p> <p><code>NOMAXVALUE</code> and <code>NOMINVALUE</code> are there to allow one to create SEQUENCEs using the Oracle syntax.</p> <h2 class="anchored_heading" id="description">Description</h2> <p>CREATE SEQUENCE will create a sequence that generates new values when called with <code>NEXT VALUE FOR sequence_name</code>. It's an alternative to <a href="../auto_increment/index.html">AUTO INCREMENT</a> when one wants to have more control of how the numbers are generated. As the SEQUENCE caches values (up to <code>CACHE</code>) it can in some cases be much faster than <a href="../auto_increment/index.html">AUTO INCREMENT</a>. Another benefit is that one can access the last value generated by all used sequences, which solves one of the limitations with <a href="../last_insert_id/index.html">LAST_INSERT_ID()</a>.</p> <p>CREATE SEQUENCE requires the <a href="../grant/index.html">CREATE privilege</a>.</p> <p><a href="../drop-sequence/index.html">DROP SEQUENCE</a> can be used to drop a sequence, and <a href="../alter-sequence/index.html">ALTER SEQUENCE</a> to change it.</p> <h3 class="anchored_heading" id="arguments-to-create">Arguments to Create</h3> <p>The following options may be used:</p> <div class="cstm-style darkheader-nospace-borders">
<table>
<tr>
<th>Option</th>
<th>Default value</th>
<th> Description</th>
</tr> <tr>
<td>INCREMENT</td>
<td> 1</td>
<td>Increment to use for values. May be negative. Setting an increment of 0 causes the sequence to use the value of the <a href="../replication-and-binary-log-server-system-variables/index.html#auto_increment_increment">auto_increment_increment</a> system variable at the time of creation, which is always a positive number. (see <a href="https://jira.mariadb.org/browse/MDEV-16035">MDEV-16035</a>).</td>
</tr> <tr>
<td>MINVALUE</td>
<td>1 if INCREMENT &gt; 0 and -9223372036854775807 if INCREMENT &lt; 0</td>
<td>Minimum value for the sequence</td>
</tr> <tr>
<td>MAXVALUE</td>
<td>9223372036854775806 if INCREMENT &gt; 0 and -1 if INCREMENT &lt; 0</td>
<td>Max value for sequence</td>
</tr> <tr>
<td>START</td>
<td>MINVALUE if INCREMENT &gt; 0 and MAX_VALUE if INCREMENT&lt; 0</td>
<td>First value that the sequence will generate</td>
</tr> <tr>
<td>CACHE</td>
<td>1000</td>
<td> Number of values that should be cached. 0 if no CACHE. The underlying table will be updated first time a new sequence number is generated and each time the cache runs out.</td>
</tr> </table> </div>
<p>If <code>CYCLE</code> is used then the sequence should start again from <code>MINVALUE</code> after it has run out of values. Default value is <code>NOCYCLE</code>.</p> <h3 class="anchored_heading" id="constraints-on-create-arguments">Constraints on Create Arguments</h3> <p>To be able to create a legal sequence, the following must hold:</p> <ul start="1">
<li>MAXVALUE &gt;= start </li>
<li>MAXVALUE &gt; MINVALUE </li>
<li>START &gt;= MINVALUE </li>
<li>MAXVALUE &lt;= 9223372036854775806 (LONGLONG_MAX-1) </li>
<li>MINVALUE &gt;= -9223372036854775807 (LONGLONG_MIN+1) </li>
</ul> <p>Note that sequences can't generate the maximum/minimum 64 bit number because of the constraint of <code>MINVALUE</code> and <code>MAXVALUE</code>. </p> <h3 class="anchored_heading" id="atomic-ddl">Atomic DDL</h3> <div class="mariadb_from_10_6_1 mariadb from_10_6_1 product">
<strong class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">10.6.1</a></strong><p><a href="https://mariadb.com/kb/en/mariadb-1061-release-notes/">MariaDB 10.6.1</a> supports <a href="../atomic-ddl/index.html">Atomic DDL</a> and <code>CREATE SEQUENCE</code> is atomic.</p> </div>
<h2 class="anchored_heading" id="examples">Examples</h2> <pre class="fixed" data-language="sql">CREATE SEQUENCE s START WITH 100 INCREMENT BY 10;

CREATE SEQUENCE s2 START WITH -100 INCREMENT BY -10;
</pre>
<p>The following statement fails, as the increment conflicts with the defaults</p> <pre class="fixed" data-language="sql">CREATE SEQUENCE s3 START WITH -100 INCREMENT BY 10;
ERROR 4082 (HY000): Sequence 'test.s3' values are conflicting
</pre>
<p>The sequence can be created by specifying workable minimum and maximum values:</p> <pre class="fixed" data-language="sql">CREATE SEQUENCE s3 START WITH -100 INCREMENT BY 10 MINVALUE=-100 MAXVALUE=1000;
</pre>
<h2 class="anchored_heading" id="see-also">See Also</h2> <ul start="1">
<li>
<a href="../sequence-overview/index.html">Sequence Overview</a> </li>
<li>
<a href="../alter-sequence/index.html">ALTER SEQUENCE</a> </li>
<li>
<a href="../drop-sequence/index.html">DROP SEQUENCE</a> </li>
<li>
<a href="../next-value-for-sequence_name/index.html">NEXT VALUE FOR</a> </li>
<li>
<a href="../previous-value-for-sequence_name/index.html">PREVIOUS VALUE FOR</a> </li>
<li>
<a href="../setval/index.html">SETVAL()</a>. Set next value for the sequence. </li>
<li>
<a href="../auto_increment/index.html">AUTO INCREMENT</a> </li>
<li><a href="../show-create-sequence/index.html">SHOW CREATE SEQUENCE</a></li>
</ul> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/create-sequence/" class="_attribution-link">https://mariadb.com/kb/en/create-sequence/</a>
  </p>
</div>
