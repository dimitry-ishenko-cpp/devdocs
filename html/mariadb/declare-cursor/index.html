<h1>DECLARE CURSOR</h1> <div> <div class="node creole"> <div class="answer formatted"> <h2 class="anchored_heading" id="syntax">Syntax</h2> <p>&lt;= <a href="../what-is-mariadb-102/index.html">MariaDB 10.2</a></p> <pre class="fixed" data-language="sql">DECLARE cursor_name CURSOR FOR select_statement
</pre>
<p>From <a href="../what-is-mariadb-103/index.html">MariaDB 10.3</a></p> <pre class="fixed" data-language="sql">DECLARE cursor_name CURSOR [(cursor_formal_parameter[,...])] FOR select_statement

cursor_formal_parameter:
    name type [collate clause]
</pre>
<p>From <a href="../what-is-mariadb-108/index.html">MariaDB 10.8</a></p> <pre class="fixed" data-language="sql">DECLARE cursor_name CURSOR [(cursor_formal_parameter[,...])] FOR select_statement

cursor_formal_parameter:
    [IN] name type [collate clause]
</pre> <h2 class="anchored_heading" id="description">Description</h2> <p>This statement declares a <a href="../programmatic-and-compound-statements-cursors/index.html">cursor</a>. Multiple cursors may be declared in a <a href="../stored-programs-and-views/index.html">stored program</a>, but each cursor in a given block must have a unique name.</p> <p><code>select_statement</code> is not executed until the <a href="../open/index.html">OPEN</a> statement is executed. It is important to remember this if the query produces an error, or calls functions which have side effects.</p> <p>A <code>SELECT</code> associated to a cursor can use variables, but the query itself cannot be a variable, and cannot be dynamically composed. The <code>SELECT</code> statement cannot have an <code>INTO</code> clause.</p> <p>Cursors must be declared before <a href="../declare-handler/index.html">HANDLERs</a>, but after local variables and <a href="../declare-condition/index.html">CONDITIONs</a>.</p> <h3 class="anchored_heading" id="parameters">Parameters</h3> <div class="mariadb_from_10_3_0 mariadb from_10_3_0 product">
<strong class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">10.3.0</a></strong><p>From <a href="https://mariadb.com/kb/en/mariadb-1030-release-notes/">MariaDB 10.3.0</a>, cursors can have parameters. This is a non-standard SQL extension. Cursor parameters can appear in any part of the DECLARE CURSOR select_statement where a stored procedure variable is allowed (select list, WHERE, HAVING, LIMIT etc).</p> </div>
<h3 class="anchored_heading" id="in">IN</h3> <div class="mariadb_from_10_8_0 mariadb from_10_8_0 product">
<strong class="product_title">MariaDB starting with <a href="https://mariadb.com/kb/en/mariadb-1080-release-notes/">10.8.0</a></strong><p>From <a href="https://mariadb.com/kb/en/mariadb-1080-release-notes/">MariaDB 10.8.0</a> preview release, the <code>IN</code> qualifier is supported in the <code>cursor_format_parameter</code> part of the syntax.</p> </div>
<p>See <a href="../cursor-overview/index.html">Cursor Overview</a> for an example.</p> <h2 class="anchored_heading" id="see-also">See Also</h2> <ul start="1">
<li>
<a href="../cursor-overview/index.html">Cursor Overview</a> </li>
<li>
<a href="../open/index.html">OPEN cursor_name</a> </li>
<li>
<a href="../fetch/index.html">FETCH cursor_name</a> </li>
<li>
<a href="../close/index.html">CLOSE cursor_name</a> </li>
<li><a href="../sql_modeoracle-from-mariadb-103/index.html#cursors">Cursors in Oracle mode</a></li>
</ul> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/declare-cursor/" class="_attribution-link">https://mariadb.com/kb/en/declare-cursor/</a>
  </p>
</div>
