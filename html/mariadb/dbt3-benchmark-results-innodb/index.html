<h1>DBT3 Benchmark Results InnoDB</h1> <div> <div class="node creole"> <div class="answer formatted"> <h2 class="anchored_heading" id="introduction">Introduction</h2> <p>This page shows the results for benchmarking the following configuration:</p> <ul start="1">
<li>
<a href="https://mariadb.com/kb/en/mariadb-531-release-notes/">MariaDB 5.3.1</a> Beta + XtraDB with all optimizations (optimizater_switch) set to <code>ON</code> </li>
<li>
<a href="https://mariadb.com/kb/en/mariadb-531-release-notes/">MariaDB 5.3.1</a> Beta + XtraDB with Igor's suggested optimizations </li>
<li>MySQL 5.5.13 + InnoDB </li>
<li>MySQL 5.6.2 + InnoDB </li>
</ul> <p>The test is performed using the automation script under <code>/mariadb-tools/dbt3_benchmark</code>.</p> <p>Details about this automation script could be found in <a href="../dbt3-automation-scripts/index.html">DBT3 automation scripts</a></p> <h2 class="anchored_heading" id="hardware">Hardware</h2> <p>The tests were performed on pitbull.askmonty.org. It has the following parameters: </p> <ul start="1">
<li>
<strong>CPU:</strong> Two socket X hexacore Intel Xeon X5660 = 12 CPUs with hyperthreading on: 24 virtual CPUs </li>
<li>
<strong>Memory:</strong> 23GB </li>
<li>
<strong>Logical disk:</strong> HDD 500.1 GB as software RAID1 <ul start="1">
<li>device size with M = 1000*1000: 500107 MBytes (500 GB) </li>
<li>cache/buffer size = 16384 KBytes </li>
<li>Nominal Media Rotation Rate: 7200 </li>
</ul> </li>
<li>
<strong>Operating System:</strong> Ubuntu 10.10 (x86_64) </li>
</ul> <h2 class="anchored_heading" id="scale-factor-10">Scale factor 10</h2> <p>This test is performed with the following parameters:</p> <ul start="1">
<li>
<strong>Scale factor:</strong> 10 </li>
<li>
<strong>Query timeout:</strong> 600 sec. </li>
<li>
<strong>Cluster size:</strong> 3 </li>
<li>
<strong>Total DB size on disk:</strong> about 24GB </li>
</ul> <h3 class="anchored_heading" id="steps-to-reproduce">Steps to reproduce</h3> <p>Follow the instructions in <a href="../dbt3-automation-scripts/index.html">DBT3 automation scripts</a> to prepare the environment for the test.</p> <p>Before you run the test, reassure that the settings into the test configuration files match your prepared environment. For more details on the test configuration, please, refer to the <a href="../dbt3-automation-scripts/index.html#test-configuration">test configuration parameters</a>.</p> <p>For that test you should set the SCALE_FACTOR parameter to 10 for the following files before the test:</p> <ul start="1">
<li>mariadb_innodb_igor_s1.pm </li>
<li>mariadb_innodb_s1.pm </li>
<li>mysql_5_5_15_innodb_s1.pm </li>
<li>mysql_5_6_2_innodb_s1.pm </li>
</ul> <p><strong>NOTE:</strong> In future versions the scale factor will be passed in as an input parameter to <code>launcher.pl</code> instead of being test configuration parameter.</p> <p>After the environment is prepared, the following command should be executed in the shell:</p> <pre class="fixed" data-language="sql">perl launcher.pl --test={PROJECT_HOME}/mariadb-tools/dbt3_benchmark/tests/mariadb_myisam_s1.pm \
 --test={PROJECT_HOME}/mariadb-tools/dbt3_benchmark/tests/mysql_5_5_15_myisam_s1.pm \
 --test={PROJECT_HOME}/mariadb-tools/dbt3_benchmark/tests/mysql_5_6_2_myisam_s1.pm
 --results-output-dir=path/to/results/output/dir
</pre>
<h3 class="anchored_heading" id="results">Results</h3> <p>Here is the graphics of the results:</p> <p><img src="https://mariadb.com/kb/en/dbt3-benchmark-results-innodb/+image/innodb-test-scale-10-timeout-600" alt="innodb-test-scale-10-timeout-600" title="innodb-test-scale-10-timeout-600"></p> <p><strong>NOTE:</strong> Queries that are cut off by the graphics have timed out the period of 600 seconds for that test.</p> <p>Here are the actual results:</p> <div class="cstm-style darkheader-nospace-borders" style="font-size:0.8em;">
<table>
<tr>
<th>Configuration</th>
<th>1.sql</th>
<th>2.sql</th>
<th>3.sql</th>
<th>4.sql</th>
<th>5.sql</th>
<th>6.sql</th>
<th>7.sql</th>
<th>8.sql</th>
<th>9.sql</th>
<th>10.sql</th>
<th>11.sql</th>
<th>12.sql</th>
<th>13.sql</th>
<th>14.sql</th>
<th>15.sql</th>
<th>16.sql</th>
<th>17.sql</th>
<th>18.sql</th>
<th>19.sql</th>
<th>20.sql</th>
<th>21.sql</th>
<th>22.sql</th>
</tr> <tr>
<td>
<a href="https://mariadb.com/kb/en/mariadb-531-release-notes/">MariaDB 5.3.1</a> + XtraDB with all optimizations to ON</td>
<td>165</td>
<td>n/a</td>
<td>424.333</td>
<td>n/a</td>
<td>n/a</td>
<td>114.333</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>536</td>
<td>173</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>52</td>
<td>452</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>8</td>
</tr> <tr>
<td>
<a href="https://mariadb.com/kb/en/mariadb-531-release-notes/">MariaDB 5.3.1</a> + XtraDB with Igor's suggestions for optimization</td>
<td>163.667</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>114</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>538</td>
<td>280.667</td>
<td>n/a</td>
<td>257</td>
<td>n/a</td>
<td>60</td>
<td>456</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>8</td>
</tr> <tr>
<td>MySQL 5.5.15 + InnoDB</td>
<td>104</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>103</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>534.667</td>
<td>177</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>476</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>6</td>
</tr> <tr>
<td>MySQL 5.6.2 + InnoDB</td>
<td>103</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>104</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>531</td>
<td>168</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>55</td>
<td>460.667</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>n/a</td>
<td>6</td>
</tr> </table> </div>
<p>The archived folder with all the results and details for that benchmark can be downloaded from: <a href="http://askmonty.org/wiki/Image:Res_myisam_timeout_120_s10_2011-09-15_190613.zip">http://askmonty.org/wiki/Image:Res_myisam_timeout_120_s10_2011-09-15_190613.zip</a></p>  <p>From the graphics we can see that for the first query MySQL has performed better than MariaDB with about 37%.</p> <p>For the third query on the other hand MariaDB with all optimizations set to ON is the only one query that returned results before the timeout exceeded. This means that it has at least 30% better performance. Also there is some option that could optimize Igor's set of settings even more for that query. For the particular numbers, the same test should be performed with longer timeouts.</p> <p>For query #6 it turns out that both MySQL 5.5.15 and 5.6.2 are faster than MariaDB with about 10%.</p> <p>For query #12 Igor's settings could be readjusted, so that the query execution time could fall with 38%.</p> <p>Igor's settings turned out to be the only one that could finish query #14 before the timeout exceeded.</p> <p>From query #16 we can see that MySQL have made a great performance improvement from version 5.5.15 to 5.6.2 to make the query finish at least ten times faster.</p> <p>For all the other queries the results are either statistically the same, or the queries have timed out for all configurations and the test should be repeated with longer timeout limit.</p> <h2 class="anchored_heading" id="summary">Summary</h2> <p>Most of the queries have timed out for the given period of 10 minutes per query and until a new test with longer timeout is performed, no correct comparison summary could be made.</p> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/dbt3-benchmark-results-innodb/" class="_attribution-link">https://mariadb.com/kb/en/dbt3-benchmark-results-innodb/</a>
  </p>
</div>
