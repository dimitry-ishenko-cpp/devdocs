<h1>MyRocks Column Families</h1> <div> <div class="node creole"> <div class="answer formatted"> <p><a href="../myrocks/index.html">MyRocks</a> stores data in column families. These are similar to tablespaces. By default, the data is stored in the <code>default</code> column family.</p> <p>One can specify which column family the data goes to by using index comments:</p> <pre class="fixed" data-language="sql"> INDEX index_name(col1, col2, ...) COMMENT 'column_family_name'
</pre>
<p> If the column name starts with <code>rev:</code>, the column family is reverse-ordered.</p> <h2 class="anchored_heading" id="reasons-for-column-families">Reasons for Column Families</h2> <p>Storage parameters like </p> <ul start="1">
<li>Bloom filter settings </li>
<li>Compression settings </li>
<li>Whether the data is stored in reverse order </li>
</ul> <p>are specified on a per-column family basis.</p> <h2 class="anchored_heading" id="creating-a-column-family">Creating a Column Family</h2> <p>When creating a table or index, you can specify the name of the column family for it. If the column family doesn't exist, it will be automatically created.</p> <h2 class="anchored_heading" id="dropping-a-column-family">Dropping a Column Family</h2> <p>There is currently no way to drop a column family. RocksDB supports this internally but MyRocks doesn't provide any way to do it.</p> <h2 class="anchored_heading" id="setting-column-family-parameters">Setting Column Family Parameters</h2> <p>Use these variables:</p> <ul start="1">
<li>
<a href="../myrocks-system-variables/index.html#rocksdb_default_cf_options">rocksdb_default_cf_options</a> - a my.cnf parameter specifying default options for all column families. </li>
<li>
<a href="../myrocks-system-variables/index.html#rocksdb_override_cf_options">rocksdb_override_cf_options</a> - a my.cnf parameter specifying per-column family option overrides. </li>
<li>
<a href="../myrocks-system-variables/index.html#rocksdb_update_cf_options">rocksdb_update_cf_options</a> - a dynamically-settable variable which allows to change parameters online. Not all parameters can be changed. </li>
</ul> <h3 class="anchored_heading" id="rocksdb_override_cf_options">rocksdb_override_cf_options</h3> <p>This parameter allows one to override column family options for specific column families. Here is an example of how to set option1=value1 and option2=value for column family cf1, and option3=value3 for column family cf3:</p> <pre class="fixed" data-language="sql">rocksdb_override_cf_options='cf1={option1=value1;option2=value2};cf2={option3=value3}'
</pre>
<p>One can check the contents of <code>INFORMATION_SCHEMA.ROCKSDB_CF_OPTIONS</code> to see what options are available.</p> <p>Options that are frequently configured are:</p> <ul start="1">
<li>Data compression. See <a href="../myrocks-and-data-compression/index.html">myrocks-and-data-compression</a>. </li>
<li>Bloom Filters. See <a href="../myrocks-and-bloom-filters/index.html">myrocks-and-bloom-filters</a>. </li>
</ul> <h2 class="anchored_heading" id="examining-column-family-parameters">Examining Column Family Parameters</h2> <p>See the <a href="../information-schema-rocksdb_cf_options-table/index.html">INFORMATION_SCHEMA.ROCKSDB_CF_OPTIONS</a> table.</p> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/myrocks-column-families/" class="_attribution-link">https://mariadb.com/kb/en/myrocks-column-families/</a>
  </p>
</div>
