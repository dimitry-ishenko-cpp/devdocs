<h1>SQLSTATE</h1> <div> <div class="node creole"> <div class="answer formatted"> <p>SQLSTATE is a code which identifies SQL error conditions. It composed by five characters, which can be numbers or uppercase ASCII letters. An SQLSTATE value consists of a class (first two characters) and a subclass (last three characters).</p> <p>There are three important standard classes. They all indicate in which logical group of errors the condition falls. They match to a particular keyword which can be used with <a href="../declare-handler/index.html">DECLARE HANDLER</a>. Also, the SQLSTATE class determines the default value for the MYSQL_ERRNO and MESSAGE_TEXT condition properties.</p> <ul start="1">
<li>'00' means 'success'. It can not be set in any way, and can only be read via the API. </li>
<li>'01' contains all warnings, and matches to the SQLWARNING keyword. The default MYSQL_ERRNO is 1642 and default MESSAGE_TEXT is 'Unhandled user-defined warning condition'. </li>
<li>'02' is the NOT FOUND class. The default MYSQL_ERRNO is 1643 and default MESSAGE_TEXT is 'Unhandled user-defined not found condition'. </li>
<li>All other classes match the SQLEXCEPTION keyword. The default MYSQL_ERRNO is 1644 and default MESSAGE_TEXT is 'Unhandled user-defined exception condition'. </li>
</ul> <p>The subclass, if it is set, indicates a particular condition, or a particular group of conditions within the class. However the '000' sequence means 'no subclass'.</p> <p>For example, if you try to <a href="../select/index.html">SELECT</a> from a table which does not exist, a 1109 error is produced, with a '42S02' SQLSTATE. '42' is the class and 'S02' is the subclass. This value matches to the SQLEXCEPTION keyword. When FETCH is called for a <a href="../programmatic-and-compound-statements-cursors/index.html">cursor</a> which has already reached the end, a 1329 error is produced, with a '02000' SQLSTATE. The class is '02' and there is no subclass (because '000' means 'no subclass'). It can be handled by a NOT FOUND handlers.</p> <p>The standard SQL specification says that classes beginning with 0, 1, 2, 3, 4, A, B, C, D, E, F and G are reserved for standard-defined classes, while other classes are vendor-specific. It also says that, when the class is standard-defined, subclasses starting with those characters (except for '000') are standard-defined subclasses, while other subclasses are vendor-defined. However, MariaDB and MySQL do not strictly obey this rule.</p> <p>To read the SQLSTATE of a particular condition which is in the <a href="../diagnostics-area/index.html">diagnostics area</a>, the <a href="../get-diagnostics/index.html">GET DIAGNOSTICS</a> statement can be used: the property is called RETURNED_SQLSTATE. For user-defined conditions (<a href="../signal/index.html">SIGNAL</a> and <a href="../resignal/index.html">RESIGNAL</a> statements), a SQLSTATE value must be set via the SQLSTATE clause. However, <a href="../show-warnings/index.html">SHOW WARNINGS</a> and <a href="../show-errors/index.html">SHOW ERRORS</a> do not display the SQLSTATE.</p> <p>For user-defined conditions, MariaDB and MySQL recommend the '45000' SQLSTATE class.</p> <p>'HY000' is called the "general error": it is the class used for builtin conditions which do not have a specific SQLSTATE class.</p> <p>A partial list of error codes and matching SQLSTATE values can be found in the page <a href="../mariadb-error-codes/index.html">MariaDB Error Codes</a>.</p> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/sqlstate/" class="_attribution-link">https://mariadb.com/kb/en/sqlstate/</a>
  </p>
</div>
