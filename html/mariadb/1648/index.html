<h1>sysbench v0.5 - 3x Five Minute Runs on work with 5.1 vs. 5.2-wl86</h1> <div> <div class="node creole"> <div class="answer formatted"> <p>3x Five Minute Runs on work with 5.1 vs. 5.2-wl86 key cache partitions off</p> <p><a href="../what-is-mariadb-51/index.html">MariaDB 5.1</a> vs. 5.2-wl86 sysbench benchmark comparison in %</p> <p>Each test was run three times for 5 minutes.</p> <pre class="fixed" data-language="sql">                   Number of threads
                     1       4       8       16      32      64      128
 sysbench test
  delete            107.28   94.70   98.10  107.12   93.59   89.24   86.89
  insert            103.15  105.13  101.75  102.78  101.52  100.29  100.89
  oltp_complex_ro   101.31  101.77  100.41   98.72   98.53  101.59  100.44
  oltp_complex_rw   Dup key errors (due to sysbench)
  oltp_simple       102.28  100.76  102.70  100.94  101.05  101.81  102.06
  select            100.88  101.05  100.48  101.61  101.48  101.87  101.44
  update_index       97.57   96.81   93.58  102.43   89.19  107.63   88.29
  update_non_index  101.58   83.24  110.46   94.52  106.33  103.87  115.22

(MariaDB 5.1 key_cache_partitions off q/s /
 MariaDB 5.2-wl86 key_cache_partitions off q/s * 100)

key_buffer_size = 512M
</pre>
<p>Benchmark was run on work: Linux openSUSE 11.1 (x86_64), daul socket quad-core Intel 3.0GHz. with 6MB L2 cache, 8 GB RAM, data_dir on single disk.</p> <p>MariaDB and MySQL were compiled with</p> <pre class="fixed" data-language="sql">BUILD/compile-amd64-max
</pre>
<p><a href="../what-is-mariadb-51/index.html">MariaDB 5.1</a> revision was:</p> <pre class="fixed" data-language="sql">revno: 2821
committer: Sergei Golubchik &lt;sergii@pisem.net&gt;
branch nick: maria-5.1
timestamp: Tue 2010-02-23 13:04:58 +0100
message:
  fix for a possible DoS in the my_net_skip_rest()
</pre>
<p><a href="../what-is-mariadb-52/index.html">MariaDB 5.2</a>-wl86 revision was:</p> <pre class="fixed" data-language="sql">lp:~maria-captains/maria/maria-5.2-wl86

revno: 2742
committer: Igor Babaev &lt;igor@askmonty.org&gt;
branch nick: maria-5.2-keycache
timestamp: Tue 2010-02-16 08:41:11 -0800
message:
  WL#86: Partitioned key cache for MyISAM.
  This is the base patch for the task.
</pre>
<p>sysbench was run with the following parameters:</p> <pre class="fixed" data-language="sql">--oltp-table-size=20000000 \  # 20 mio rows
--max-time=300 \
--max-requests=0 \
--mysql-table-engine=MyISAM \
--mysql-user=root \
--mysql-engine-trx=no \
--myisam-max-rows=50000000"
</pre>
<p>and this variable part of the parameters</p> <pre class="fixed" data-language="sql">--num-threads=$THREADS --test=${TEST_DIR}/${SYSBENCH_TEST}
</pre>
<p>Configuration used for MariaDB:</p> <pre class="fixed" data-language="sql">--no-defaults \
--datadir=$DATA_DIR \
--language=./sql/share/english \
--key_buffer_size=512M \
--max_connections=256 \
--query_cache_size=0 \
--query_cache_type=0 \
--skip-grant-tables \
--socket=$MY_SOCKET \
--table_open_cache=512 \
--thread_cache=512 \
--tmpdir=$TEMP_DIR"
#  --key_cache_partitions=7 \
</pre> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/1648/" class="_attribution-link">https://mariadb.com/kb/en/1648/</a>
  </p>
</div>
