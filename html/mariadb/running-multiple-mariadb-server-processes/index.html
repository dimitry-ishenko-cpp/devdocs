<h1>Running Multiple MariaDB Server Processes</h1> <div> <div class="node creole"> <div class="answer formatted">  <p>It is possible to run multiple MariaDB Server processes on the same server, but there are certain things that need to be kept in mind. This page will go over some of those things.</p> <h2 class="anchored_heading" id="configuring-multiple-mariadb-server-processes">Configuring Multiple MariaDB Server Processes</h2> <p>If multiple MariaDB Server process are running on the same server, then at minimum, you will need to ensure that the different instances do not use the same <code><a href="../server-system-variables/index.html#datadir">datadir</a></code>, <code><a href="../server-system-variables/index.html#port">port</a></code>, and <code><a href="../server-system-variables/index.html#socket">socket</a></code>. The following example shows these options set in an <a href="../configuring-mariadb-with-option-files/index.html">option file</a>:</p> <pre class="fixed" data-language="sql">[client]
# TCP port to use to connect to mysqld server
port=3306
# Socket to use to connect to mysqld server
socket=/tmp/mysql.sock
[mariadb]
# TCP port to make available for clients
port=3306
#  Socket to make available for clients
socket=/tmp/mysql.sock
# Where MariaDB should store all its data
datadir=/usr/local/mysql/data
</pre>
<p>The above values are the defaults. If you would like to run multiple MariaDB Server instances on the same server, then you will need to set unique values for each instance.</p> <p>There may be additional options that also need to be changed for each instance. Take a look at the full list of options for <code><a href="../mysqld-options/index.html">mysqld</a></code>.</p> <p>To see the current values set for an instance, see <a href="../configuring-mariadb-with-option-files/index.html#checking-program-options">Checking Program Options</a> for how to do so.</p> <p>To list the default values, check the end of:</p> <pre class="fixed" data-language="sql">mysqld --help --verbose
</pre>
<h2 class="anchored_heading" id="starting-multiple-mariadb-server-processes">Starting Multiple MariaDB Server Processes</h2> <p>There are several different methods to start or stop the MariaDB Server process. There are two primary categories that most of these methods fall into: starting the process with the help of a service manager, and starting the process manually. See <a href="../starting-and-stopping-mariadb-starting-and-stopping-mariadb/index.html">Starting and Stopping MariaDB</a> for more information.</p> <h3 class="anchored_heading" id="service-managers">Service Managers</h3> <p><a href="../sysvinit/index.html">sysVinit</a> and <a href="../systemd/index.html">systemd</a> are the most common Linux service managers. <a href="../launchd/index.html">launchd</a> is used in MacOS X. <a href="https://en.wikipedia.org/wiki/Upstart_(software)">Upstart</a> is a less common service manager.</p> <h4 class="anchored_heading" id="systemd">Systemd</h4> <p>RHEL/CentOS 7 and above, Debian 8 Jessie and above, and Ubuntu 15.04 and above use <a href="../systemd/index.html">systemd</a> by default.</p> <p>For information on how to start and stop multiple MariaDB Server processes on the same server with this service manager, see <a href="../systemd/index.html#interacting-with-multiple-mariadb-server-processes">systemd: Interacting with Multiple MariaDB Server Processes</a>.</p> <h3 class="anchored_heading" id="starting-the-server-process-manually">Starting the Server Process Manually</h3> <h4 class="anchored_heading" id="mysqld">mysqld</h4> <p><code><a href="../mysqld-options/index.html">mysqld</a></code> is the actual MariaDB Server binary. It can be started manually on its own.</p> <p>If you want to force each instance to read only a single <a href="../configuring-mariadb-with-option-files/index.html">option file</a>, then you can use the <code><a href="../mysqld-options/index.html#-defaults-file">--defaults-file</a></code> option:</p> <pre class="fixed" data-language="sql">mysqld --defaults-file=/etc/my_instance1.cnf
</pre>
<h4 class="anchored_heading" id="mysqld_safe">mysqld_safe</h4> <p><code><a href="../mysqld_safe/index.html">mysqld_safe</a></code> is a wrapper that can be used to start the <code><a href="../mysqld-options/index.html">mysqld</a></code> server process. The script has some built-in safeguards, such as automatically restarting the server process if it dies. See <a href="../mysqld_safe/index.html">mysqld_safe</a> for more information.</p> <p>If you want to force each instance to read only a single <a href="../configuring-mariadb-with-option-files/index.html">option file</a>, then you can use the <code><a href="../mysqld-options/index.html#-defaults-file">--defaults-file</a></code> option:</p> <pre class="fixed" data-language="sql">mysqld_safe --defaults-file=/etc/my_instance1.cnf
</pre>
<h4 class="anchored_heading" id="mysqld_multi">mysqld_multi</h4> <p><code><a href="../mysqld_multi/index.html">mysqld_multi</a></code> is a wrapper that can be used to start the <code><a href="../mysqld-options/index.html">mysqld</a></code> server process if you plan to run multiple server processes on the same host. See <a href="../mysqld_multi/index.html">mysqld_multi</a> for more information.</p> <h2 class="anchored_heading" id="other-options">Other Options</h2> <p>In some cases, there may be easier ways to run multiple MariaDB Server instances on the same server, such as:</p> <ul start="1">
<li>Using <a href="../dbdeployer/index.html">dbdeployer</a>. </li>
<li>Starting multiple <a href="../installing-and-using-mariadb-via-docker/index.html">Docker</a> containers.</li>
</ul> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/running-multiple-mariadb-server-processes/" class="_attribution-link">https://mariadb.com/kb/en/running-multiple-mariadb-server-processes/</a>
  </p>
</div>
