<h1>DECLARE Variable</h1> <div> <div class="node creole"> <div class="answer formatted"> <h2 class="anchored_heading" id="syntax">Syntax</h2> <pre class="fixed" data-language="sql">DECLARE var_name [, var_name] ... [[ROW] TYPE OF]] type [DEFAULT value]
</pre> <h2 class="anchored_heading" id="description">Description</h2> <p>This statement is used to declare local variables within <a href="../stored-programs-and-views/index.html">stored programs</a>. To provide a default value for the variable, include a <code>DEFAULT</code> clause. The value can be specified as an expression (even subqueries are permitted); it need not be a constant. If the <code>DEFAULT</code> clause is missing, the initial value is <code>NULL</code>.</p> <p>Local variables are treated like stored routine parameters with respect to data type and overflow checking. See <a href="../create-procedure/index.html">CREATE PROCEDURE</a>.</p> <p>Local variables must be declared before <code>CONDITION</code>s, <a href="../programmatic-and-compound-statements-cursors/index.html">CURSORs</a> and <code>HANDLER</code>s.</p> <p>Local variable names are not case sensitive.</p> <p>The scope of a local variable is within the <code>BEGIN ... END</code> block where it is declared. The variable can be referred to in blocks nested within the declaring block, except those blocks that declare a variable with the same name.</p> <h3 class="anchored_heading" id="type-of-row-type-of">TYPE OF / ROW TYPE OF</h3> <div class="mariadb_from_10_3 mariadb from_10_3 product">
<strong class="product_title">MariaDB starting with <a href="../what-is-mariadb-103/index.html">10.3</a></strong><p><code>TYPE OF</code> and <code>ROW TYPE OF</code> anchored data types for stored routines were introduced in <a href="../what-is-mariadb-103/index.html">MariaDB 10.3</a>.</p> </div>
<p>Anchored data types allow a data type to be defined based on another object, such as a table row, rather than specifically set in the declaration. If the anchor object changes, so will the anchored data type. This can lead to routines being easier to maintain, so that if the data type in the table is changed, it will automatically be changed in the routine as well.</p> <p>Variables declared with <code>ROW TYPE OF</code> will have the same features as implicit <a href="../row/index.html">ROW</a> variables. It is not possible to use <code>ROW TYPE OF</code> variables in a <a href="../limit/index.html">LIMIT</a> clause.</p> <p>The real data type of <code>TYPE OF</code> and <code>ROW TYPE OF table_name</code> will become known at the very beginning of the stored routine call. <a href="../alter-table/index.html">ALTER TABLE</a> or <a href="../drop-table/index.html">DROP TABLE</a> statements performed inside the current routine on the tables that appear in anchors won't affect the data type of the anchored variables, even if the variable is declared after an <a href="../alter-table/index.html">ALTER TABLE</a> or <a href="../drop-table/index.html">DROP TABLE</a> statement.</p> <p>The real data type of a <code>ROW TYPE OF cursor_name</code> variable will become known when execution enters into the block where the variable is declared. Data type instantiation will happen only once. In a cursor <code>ROW TYPE OF</code> variable that is declared inside a loop, its data type will become known on the very first iteration and won't change on further loop iterations.</p> <p>The tables referenced in <code>TYPE OF</code> and <code>ROW TYPE OF</code> declarations will be checked for existence at the beginning of the stored routine call. <a href="../create-procedure/index.html">CREATE PROCEDURE</a> or <a href="../create-function/index.html">CREATE FUNCTION</a> will not check the referenced tables for existence.</p> <h2 class="anchored_heading" id="examples">Examples</h2> <p><code>TYPE OF</code> and <code>ROW TYPE OF</code> from <a href="../what-is-mariadb-103/index.html">MariaDB 10.3</a>:</p> <pre class="fixed" data-language="sql">DECLARE tmp TYPE OF t1.a; -- Get the data type from the column {{a}} in the table {{t1}}

DECLARE rec1 ROW TYPE OF t1; -- Get the row data type from the table {{t1}}

DECLARE rec2 ROW TYPE OF cur1; -- Get the row data type from the cursor {{cur1}}
</pre>
<h2 class="anchored_heading" id="see-also">See Also</h2> <ul start="1"><li><a href="../user-defined-variables/index.html">User-Defined variables</a></li></ul> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/declare-variable/" class="_attribution-link">https://mariadb.com/kb/en/declare-variable/</a>
  </p>
</div>
