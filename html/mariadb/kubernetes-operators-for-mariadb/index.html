<h1>Kubernetes Operators for MariaDB</h1> <div> <div class="node creole"> <div class="answer formatted"> <p>Operators basically instruct Kubernetes about how to manage a certain technology. Kubernetes comes with some default operators, but it is possible to create custom operators. Operators created by the community can be found on <a href="https://operatorhub.io/">OperatorHub.io</a>.</p>  <h2 class="anchored_heading" id="custom-operators">Custom Operators</h2> <p>Kubernetes provides a declarative API. To support a specific (i.e. MariaDB) technology or implement a desired behavior (i.e. provisioning a <a href="../standard-replication/index.html">replica</a>), we extend Kubernetes API. This involves creating two main components:</p> <ul start="1">
<li>A custom resource. </li>
<li>A custom controller. </li>
</ul> <p>A custom resource adds an API endpoint, so the resource can be managed via the API server. It includes functionality to get information about the resource, like a list of the existing servers.</p> <p>A custom controller implements the checks that must be performed against the resource to check if its state should be corrected using the API. In the case of MariaDB, some reasonable checks would be verifying that it accepts connections, replication is running, and a server is (or is not) read only.</p> <h2 class="anchored_heading" id="mariadb-operator">MariaDB Operator</h2> <p><a href="https://github.com/mariadb-operator/mariadb-operator">mariadb-operator</a> is a Kubernetes operator that allows you to run and operate MariaDB in a cloud native way. It aims for declaratively managing your MariaDB using Kubernetes CRDs rather than imperative commands.</p> <p>It's available in both <a href="https://artifacthub.io/packages/helm/mariadb-operator/mariadb-operator">Artifact Hub</a> and <a href="https://operatorhub.io/operator/mariadb-operator">Operator Hub</a> and supports the following features:</p> <ul start="1">
<li>Provisioning highly configurable MariaDB servers </li>
<li>Multi-master HA via Galera. Automatic Galera cluster recovery </li>
<li>Single master HA via SemiSync replication. Primary switchover. Automatic primary failover </li>
<li>Take and restore backups. Scheduled backups. Backup rotation </li>
<li>PVCs and Kubernetes volumes (i.e. NFS) backup storage </li>
<li>Bootstrap new instances from backups and volumes (i.e NFS) </li>
<li>Manage users, grants and logical databases </li>
<li>Configure connections for your applications </li>
<li>Orchestrate and schedule sql scripts </li>
<li>Prometheus metrics </li>
<li>Validation webhooks to provide CRD inmutability </li>
<li>Additional printer columns to report the current CRD status </li>
<li>CRDs designed according to the Kubernetes API conventions </li>
<li>GitOps friendly </li>
<li>Multi-arch distroless based image </li>
<li>Install it using kubectl, helm or OLM </li>
</ul> <p>This operator is open source and released under the terms of the MIT license. The source code is available on <a href="https://github.com/mariadb-operator/mariadb-operator">GitHub</a>.</p> <h2 class="anchored_heading" id="other-operators">Other Operators</h2> <p>If you know about other MariaDB operators, feel free to add them to this page (see <a href="../writing-and-editing-knowledge-base-articles/index.html">Writing and Editing Knowledge Base Articles</a>).</p> <p>MySQL and Percona Server operators should work as well, though some changes may be necessary to fix <a href="../mariadb-vs-mysql-compatibility/index.html">incompatibilities</a> or take advantage of certain <a href="../mariadb-vs-mysql-features/index.html">MariaDB features</a>.</p> <hr> <p>Content initially contributed by <a href="https://vettabase.com/">Vettabase Ltd</a>.</p> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/kubernetes-operators-for-mariadb/" class="_attribution-link">https://mariadb.com/kb/en/kubernetes-operators-for-mariadb/</a>
  </p>
</div>
