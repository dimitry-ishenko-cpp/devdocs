<h1>MariaDB Server Docker Official Image Environment Variables</h1> <div> <div class="node creole"> <div class="answer formatted"> <p> When you start the %%IMAGE%% image, you can adjust the initialization of the MariaDB Server instance by passing one or more environment variables on the docker run command line. Do note that none of the variables below will have any effect if you start the container with a data directory that already contains a database: any pre-existing database will always be left untouched on container startup.</p> <p>From tag 10.2.38, 10.3.29, 10.4.19, 10.5.10 onwards, and all 10.6 and later tags, the MARIADB_* equivalent variables are provided. MARIADB_* variants will always be used in preference to MYSQL_* variants.</p> <p>One of MARIADB_ROOT_PASSWORD_HASH, MARIADB_ROOT_PASSWORD, MARIADB_ALLOW_EMPTY_ROOT_PASSWORD, or MARIADB_RANDOM_ROOT_PASSWORD (or equivalents, including *_FILE), is required. The other environment variables are optional.</p> <h3 class="anchored_heading" id="mariadb_root_password_hash-mariadb_root_password-mysql_root_password">MARIADB_ROOT_PASSWORD_HASH / MARIADB_ROOT_PASSWORD / MYSQL_ROOT_PASSWORD</h3> <p>This specifies the password that will be set for the MariaDB root superuser account.</p> <h3 class="anchored_heading" id="mariadb_allow_empty_root_password-mysql_allow_empty_password">MARIADB_ALLOW_EMPTY_ROOT_PASSWORD / MYSQL_ALLOW_EMPTY_PASSWORD</h3> <p>Set to a non-empty value, like <code>1</code>, to allow the container to be started with a blank password for the root user. NOTE: Setting this variable to yes is not recommended unless you really know what you are doing, since this will leave your MariaDB instance completely unprotected, allowing anyone to gain complete superuser access.</p> <h3 class="anchored_heading" id="mariadb_random_root_password-mysql_random_root_password">MARIADB_RANDOM_ROOT_PASSWORD / MYSQL_RANDOM_ROOT_PASSWORD</h3> <p>Set to a non-empty value, like yes, to generate a random initial password for the root user. The generated root password will be printed to stdout (GENERATED ROOT PASSWORD: .....).</p> <h3 class="anchored_heading" id="mariadb_root_host-mysql_root_host">MARIADB_ROOT_HOST / MYSQL_ROOT_HOST</h3> <p>This is the hostname part of the root user created. By default this is %, however it can be set to any default MariaDB allowed hostname component. Setting this to localhost will prevent any root user being accessible except via the unix socket.</p> <h3 class="anchored_heading" id="mariadb_database-mysql_database">MARIADB_DATABASE / MYSQL_DATABASE</h3> <p>This variable allows you to specify the name of a database to be created on image startup.</p> <h3 class="anchored_heading" id="mariadb_user-mysql_user-mariadb_password_hash-mariadb_password-mysql_password">MARIADB_USER / MYSQL_USER, MARIADB_PASSWORD_HASH / MARIADB_PASSWORD / MYSQL_PASSWORD</h3> <p>Both user and password variables, along with a database, are required for a user to be created. This user will be granted all access (corresponding to GRANT ALL) to the MARIADB_DATABASE database.</p> <p>Do not use this mechanism to create the root superuser, that user gets created by default with the password specified by the MARIADB_ROOT_PASSWORD / MYSQL_ROOT_PASSWORD variable.</p> <h3 class="anchored_heading" id="mariadb_mysql_localhost_user-mariadb_mysql_localhost_grants">MARIADB_MYSQL_LOCALHOST_USER / MARIADB_MYSQL_LOCALHOST_GRANTS</h3> <p>Set MARIADB_MYSQL_LOCALHOST_USER to a non-empty value to create the mysql@locahost database user. This user is especially useful for a variety of health checks and backup scripts.</p> <p>The mysql@localhost user gets <code><a href="../grant/index.html#usage">USAGE</a></code> privileges by default. If more access is required, additional global privileges in the form of a comma separated list can be provided. If you are sharing a volume containing MariaDB's unix socket (/var/run/mysqld by default), privileges beyond <code><a href="../grant/index.html#usage">USAGE</a></code> can result in confidentiality, integrity and availability risks, so use a minimal set. Its also possible to use for <a href="../mariabackup/index.html">Mariadb-backup</a>. The <a href="../using-healthcheck-sh-script/index.html">healthcheck.sh</a> script also documents the required privileges for each health check test.</p> <h3 class="anchored_heading" id="mariadb_healthcheck_grants">MARIADB_HEALTHCHECK_GRANTS</h3> <p>Set MARIADB_HEALTHCHECK_GRANTS to the grants required to be given to the <code>healtcheck@localhost</code>, <code>healtcheck@127.0.0.1</code>, <code>healtcheck@::1</code>, users. When not specified the default grant is <code><a href="../grant/index.html#usage">USAGE</a></code>.</p> <p>The main value used here will be <code><a href="../grant/index.html#replica-monitor">REPLICA MONITOR</a> for the <a href="../using-healthcheck-sh-script/index.html#-replication">healthcheck --replication</a> test.</code></p> <h3 class="anchored_heading" id="mariadb_initdb_skip_tzinfo-mysql_initdb_skip_tzinfo">MARIADB_INITDB_SKIP_TZINFO / MYSQL_INITDB_SKIP_TZINFO</h3> <p>By default, the entrypoint script automatically loads the timezone data needed for the CONVERT_TZ() function. If it is not needed, any non-empty value disables timezone loading.</p> <h3 class="anchored_heading" id="mariadb_auto_upgrade-mariadb_disable_upgrade_backup">MARIADB_AUTO_UPGRADE / MARIADB_DISABLE_UPGRADE_BACKUP</h3> <p>Set MARIADB_AUTO_UPGRADE to a non-empty value to have the entrypoint check whether <a href="../mariadb-upgrade/index.html">mariadb-upgrade</a> needs to run, and if so, run the upgrade before starting the MariaDB server.</p> <p>Before the upgrade, a backup of the system database is created in the top of the datadir with the name system_mysql_backup_*.sql.zst. This backup process can be disabled with by setting MARIADB_DISABLE_UPGRADE_BACKUP to a non-empty value.</p> <h3 class="anchored_heading" id="mariadb_master_host">MARIADB_MASTER_HOST</h3> <p>When specified, the container will connect to this host and replicate from it.</p> <h3 class="anchored_heading" id="mariadb_replication_user-mariadb_replication_password_hash-mariadb_replication_password">MARIADB_REPLICATION_USER / MARIADB_REPLICATION_PASSWORD_HASH / MARIADB_REPLICATION_PASSWORD</h3> <p>When MARIADB_MASTER_HOST is specified, MARIADB_REPLICATION_USER and MARIADB_REPLICATION_PASSWORD will be used to connect to the master.</p> <p>When not specified, the MARIADB_REPLICATION_USER will be created with the REPLICATION REPLICA grants required to a client to start replication.</p> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/mariadb-server-docker-official-image-environment-variables/" class="_attribution-link">https://mariadb.com/kb/en/mariadb-server-docker-official-image-environment-variables/</a>
  </p>
</div>
