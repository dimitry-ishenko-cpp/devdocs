<h1>MariaDB 5.2 Replication Feature Preview</h1> <div> <div class="node creole"> <div class="answer formatted"> <div class="cstm-style redbox lead">
<p><strong>Note:</strong> This page is obsolete. The information is old, outdated, or otherwise currently incorrect. We are keeping the page for historical reasons only. <strong>Do not</strong> rely on the information in this article.</p> </div> <div class="cstm-style greenbox">
<p>This page describes a <em>"feature preview release"</em> which previewed some replication-related features which are included in <a href="../what-is-mariadb-53/index.html">MariaDB 5.3</a>. If you would like to try out the features mentioned here, it is recommended that you use <a href="../what-is-mariadb-53/index.html">MariaDB 5.3</a> (<a href="http://downloads.askmonty.org/mariadb/5.3/">download MariaDB 5.3 here</a>) instead of the actual release described below. Likewise, the code is available in the <a href="https://launchpad.net/maria/5.3">MariaDB 5.3 tree on Launchpad</a>.</p> </div> <h2 class="anchored_heading" id="about-this-release">About this release</h2> <p>There has been quite a lot of interest in these features, and providing this feature preview release allows the developers to get more and earlier feedback, as well as allowing more users an early opportunity to evaluate the new features.</p> <p>This feature preview release is based on <a href="../what-is-mariadb-52/index.html">MariaDB 5.2</a>, adding a number of fairly isolated features that are considered complete and fairly well-tested. It is however not a stable or GA release, nor is it planned to be so.</p> <p>The stable release including these features will be <strong><a href="../what-is-mariadb-53/index.html">MariaDB 5.3</a></strong>. That being said, we greatly welcome any feedback / bug reports, and will strive to fix any issues found and we will update the feature preview until <a href="../what-is-mariadb-53/index.html">MariaDB 5.3</a> stable is ready.</p> <h2 class="anchored_heading" id="downloadinstallation">Download/Installation</h2> <p>These packages are generated the same way as "official" MariaDB releases. Please see the <a href="../downloads/index.html">main download pages</a> for more detailed instructions on installation etc.</p> <p>The instructions below use the mirror <a href="http://ftp.osuosl.org/">ftp.osuosl.org</a>, but any of the MariaDB mirrors can be used by replacing the appropriate part of the URLs. See the <a href="http://downloads.askmonty.org">main download page</a> for what mirrors are available.</p> <h3 class="anchored_heading" id="debianubuntu">Debian/Ubuntu</h3> <p>For Debian and Ubuntu, it is highly recommended to install from the repositories, using <code>apt-get</code>, <code>aptitude</code>, or other favorite package managers.</p> <p>First import the <a href="http://ftp.osuosl.org/pub/mariadb/PublicKey">public key</a> with which the repositories are signed, so that <code>apt</code> can verify the integrity of the packages it downloads. For example like this:</p> <pre class="fixed" data-language="sql">wget -O- http://ftp.osuosl.org/pub/mariadb/PublicKey | sudo apt-key add -
</pre>
<p>Now add the appropriate repository. An easy way is to create a file called <code>mariadb-5.2-rpl.list</code> in <code>/etc/apt/sources.list.d/</code> with contents like this for Debian:</p> <pre class="fixed" data-language="sql">deb http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/debian squeeze main
deb-src http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/debian squeeze main
</pre>
<p>Or this for Ubuntu:</p> <pre class="fixed" data-language="sql">deb http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/ubuntu maverick main
deb-src http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/ubuntu maverick main
</pre>
<p>Replace "squeeze" or "maverick" in the examples above with the appropriate distribution name. Supported are "lenny" and "squeeze" for Debian, and "hardy", "jaunty", "karmic", "lucid", and "maverick" for Ubuntu.</p> <p>Now run</p> <pre class="fixed" data-language="sql">sudo apt-get update
</pre>
<p>The packages can now be installed with your package manager of choice, for example:</p> <pre class="fixed" data-language="sql">sudo apt-get install mariadb-server-5.2
</pre>
<p>(To manually download and install packages, browse the directories below <a href="http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/">http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/</a> - the .debs are in <code>debian/pool/</code> and <code>ubuntu/pool/</code>, respectively.)</p> <h3 class="anchored_heading" id="generic-linux-binary-tarball">Generic Linux binary tarball</h3> <p>Generic linux binary tarballs can be downloaded here:</p> <ul start="1">
<li>i386 (32-bit): <a href="http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/misc/kvm-bintar-hardy-x86/">http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/misc/kvm-bintar-hardy-x86/</a> </li>
<li>amd64 (64-bit): <a href="http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/misc/kvm-bintar-hardy-amd64/">http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/misc/kvm-bintar-hardy-amd64/</a> </li>
</ul> <h3 class="anchored_heading" id="centos-5-rpms">Centos 5 RPMs</h3> <ul start="1">
<li>i386 (32-bit): <a href="http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/misc/kvm-rpm-centos5-x86/">http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/misc/kvm-rpm-centos5-x86/</a> </li>
<li>amd64 (64-bit): <a href="http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/misc/kvm-rpm-centos5-amd64/">http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/misc/kvm-rpm-centos5-amd64/</a> </li>
</ul> <h3 class="anchored_heading" id="windows-32-bit">Windows (32-bit)</h3> <ul start="1"><li>
<a href="http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/misc/kvm-zip-winxp-x86/">http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/misc/kvm-zip-winxp-x86/</a> </li></ul> <h3 class="anchored_heading" id="source-tarball">Source tarball</h3> <ul start="1"><li>
<a href="http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/misc/kvm-tarbake-jaunty-x86/">http://ftp.osuosl.org/pub/mariadb/mariadb-5.2-rpl/misc/kvm-tarbake-jaunty-x86/</a> </li></ul> <h3 class="anchored_heading" id="launchpad-bzr-branch">Launchpad bzr branch:</h3> <ul start="1"><li>
<a href="https://code.launchpad.net/~maria-captains/maria/mariadb-5.2-rpl"><code>lp:~maria-captains/maria/mariadb-5.2-rpl</code></a> </li></ul> <h2 class="anchored_heading" id="new-features-in-the-mariadb-52-replication-feature-preview">New Features in the <a href="../what-is-mariadb-52/index.html">MariaDB 5.2</a> replication feature preview</h2> <p>Here is a summary of the new features included in this preview release. The headings link to more detailed information.</p> <h3 class="anchored_heading" id="group-commitgroup-commit-for-the-binary-log"><a href="../group-commit/index.html">Group commit for the binary log</a></h3> <p>This preview release implements group commit which works when using XtraDB with the binary log enabled. (In previous MariaDB releases, and all MySQL releases at the time of writing, group commit works in InnoDB/XtraDB when the binary log is disabled, but stops working when the binary log is enabled).</p> <h3 class="anchored_heading" id="enhancements-for-start-transaction-with-consistentenhancements-for-start-transaction-with-consistent-snapshot"><a href="../enhancements-for-start-transaction-with-consistent/index.html">Enhancements for START TRANSACTION WITH CONSISTENT SNAPSHOT</a></h3> <p><code>START TRANSACTION WITH CONSISTENT SNAPSHOT</code> now also works with the binary log. This means it is possible to obtain the binlog position corresponding to a transactional snapshot of the database without blocking any other queries. This is used by <code>mysqldump --single-transaction --master-data</code> to do a fully non-blocking backup which can be used to provision a new slave.</p> <p><code>START TRANSACTION WITH CONSISTENT SNAPSHOT</code> now also works consistently between transactions involving more than one storage engine (currently XTraDB and PBXT support this).</p> <h3 class="anchored_heading" id="annotate_rows_log_eventannotation-of-row-based-replication-events-with-the-original-sql-statement"><a href="../annotate_rows_log_event/index.html">Annotation of row-based replication events with the original SQL statement</a></h3> <p>When using row-based replication, the binary log does not contain SQL statements, only discrete single-row insert/update/delete <em>events</em>. This can make it harder to read mysqlbinlog output and understand where in an application a given event may have originated, complicating analysis and debugging.</p> <p>This feature adds an option to include the original SQL statement as a comment in the binary log (and shown in mysqlbinlog output) for row-based replication events.</p> <h3 class="anchored_heading" id="row-based-replication-with-no-primary-keyrow-based-replication-for-tables-with-no-primary-key"><a href="../row-based-replication-with-no-primary-key/index.html">Row-based replication for tables with no primary key</a></h3> <p>This feature can improve the performance of row-based replication on tables that do not have a primary key (or other unique key), but which do have another index that can help locate rows to update or delete. With this feature, index cardinality information from <code>ANALYZE TABLE</code> is considered when selecting the index to use (before this feature is implemented, the first index was selected unconditionally).</p> <h3 class="anchored_heading" id="enhancements-for-start-transaction-with-consistentpbxt-consistent-commit-ordering"><a href="../enhancements-for-start-transaction-with-consistent/index.html">PBXT consistent commit ordering</a></h3> <p>This feature implements the new commit ordering storage engine API in PBXT. With this feature, it is possible to use <code>START TRANSACTION WITH
CONSISTENT SNAPSHOT</code> and get consistency among transactions which involve both XtraDB and InnoDB. (Without this feature, there is no such consistency guarantee. For example, even after running <code>START TRANSACTION WITH CONSISTENT
SNAPSHOT</code> it was still possible for the InnoDB/XtraDB part of some transaction <em>T</em> to be visible and the PBXT part of the same transaction <em>T</em> to not be visible.)</p> <h3 class="anchored_heading" id="miscellaneous">Miscellaneous</h3> <ul start="1">
<li>This preview also includes a small change to make mysqlbinlog omit redundant <code>use</code> statements around <code>BEGIN</code>, <code>SAVEPOINT</code>, <code>COMMIT</code>, and <code>ROLLBACK</code> events when reading MySQL 5.0 binlogs. </li>
<li>The preview included a feature <a href="../innodb-release-locks-early/index.html">--innodb-release-locks-early</a>. However we decided to omit this feature from future MariaDB releases because of a fundamental design bug, <a href="https://bugs.launchpad.net/maria/+bug/798213">lp:798213</a>. </li>
</ul> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/mariadb-52-replication-feature-preview/" class="_attribution-link">https://mariadb.com/kb/en/mariadb-52-replication-feature-preview/</a>
  </p>
</div>
