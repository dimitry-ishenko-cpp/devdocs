<h1>Performance Schema events_stages_history Table</h1> <div> <div class="node creole"> <div class="answer formatted"> <p>The <code>events_stages_history</code> table by default contains the ten most recent completed stage events per thread. This number can be adjusted by setting the <a href="../performance-schema-system-variables/index.html#performance_schema_events_stages_history_size">performance_schema_events_stages_history_size</a> system variable when the server starts up.</p> <p>The table structure is identical to the <a href="../performance-schema-events_stages_current-table/index.html">events_stage_current</a> table structure, and contains the following columns:</p> <div class="cstm-style darkheader-nospace-borders">
<table>
<tr>
<th>Column</th>
<th>Description</th>
</tr> <tr>
<td><code>THREAD_ID</code></td>
<td>Thread associated with the event. Together with <code>EVENT_ID</code> uniquely identifies the row.</td>
</tr> <tr>
<td><code>EVENT_ID</code></td>
<td>Thread's current event number at the start of the event. Together with <code>THREAD_ID</code> uniquely identifies the row.</td>
</tr> <tr>
<td><code>END_EVENT_ID</code></td>
<td>
<code>NULL</code> when the event starts, set to the thread's current event number at the end of the event.</td>
</tr> <tr>
<td><code>EVENT_NAME</code></td>
<td>Event instrument name and a <code>NAME</code> from the <code>setup_instruments</code> table</td>
</tr> <tr>
<td><code>SOURCE</code></td>
<td>Name and line number of the source file containing the instrumented code that produced the event.</td>
</tr> <tr>
<td><code>TIMER_START</code></td>
<td>Value in picoseconds when the event timing started or <code>NULL</code> if timing is not collected.</td>
</tr> <tr>
<td><code>TIMER_END</code></td>
<td>Value in picoseconds when the event timing ended, or <code>NULL</code> if timing is not collected.</td>
</tr> <tr>
<td><code>TIMER_WAIT</code></td>
<td>Value in picoseconds of the event's duration or <code>NULL</code> if timing is not collected.</td>
</tr> <tr>
<td><code>NESTING_EVENT_ID</code></td>
<td>
<code>EVENT_ID</code> of event within which this event nests.</td>
</tr> <tr>
<td><code>NESTING_EVENT_TYPE</code></td>
<td>Nesting event type. One of <code>transaction</code>, <code>statement</code>, <code>stage</code> or <code>wait</code>.</td>
</tr> </table> </div>
<p>It is possible to empty this table with a <code>TRUNCATE TABLE</code> statement.</p> <p><a href="../performance-schema-events_stages_current-table/index.html">events_stages_current</a> and <a href="../performance-schema-events_stages_history_long-table/index.html">events_stages_history_long</a> are related tables.</p> </div>     </div> <div id="content_disclaimer" class="graybox"> Content reproduced on this site is the property of its respective owners, and this content is not reviewed in advance by MariaDB. The views, information and opinions expressed by this content do not necessarily represent those of MariaDB or any other party. </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2023 MariaDB<br>Licensed under the Creative Commons Attribution 3.0 Unported License and the GNU Free Documentation License.<br>
    <a href="https://mariadb.com/kb/en/performance-schema-events_stages_history-table/" class="_attribution-link">https://mariadb.com/kb/en/performance-schema-events_stages_history-table/</a>
  </p>
</div>
