<h1 class="title">ReQL command: next</h1>  <div class="alg-content">
<h2 id="command-syntax">Command syntax</h2> <pre class="command-syntax" data-language="ruby">cursor.next([true])
</pre> <h2 id="description">Description</h2> <p>Get the next element in the cursor.</p> <p>The optional unnamed argument specifies whether to wait for the next available element and how long to wait:</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">true</code>: Wait indefinitely (the default).</li> <li>
<code class="language-plaintext highlighter-rouge">false</code>: Do not wait at all. If data is immediately available, it will be returned; if it is not available, a <code class="language-plaintext highlighter-rouge">Timeout::Error</code> will be raised.</li> <li>number: Wait up to the specified number of seconds for data to be available before raising <code class="language-plaintext highlighter-rouge">Timeout::Error</code>.</li> </ul> <p>The behavior of <code class="language-plaintext highlighter-rouge">next</code> will be identical with <code class="language-plaintext highlighter-rouge">false</code>, <code class="language-plaintext highlighter-rouge">nil</code> or the number <code class="language-plaintext highlighter-rouge">0</code>.</p> <p>Calling <code class="language-plaintext highlighter-rouge">next</code> the first time on a cursor provides the first element of the cursor. If the data set is exhausted (e.g., you have retrieved all the documents in a table), a <code class="language-plaintext highlighter-rouge">StopIteration</code> error will be raised when <code class="language-plaintext highlighter-rouge">next</code> is called.</p> <p><strong>Example:</strong> Retrieve the next element.</p> <div class="language-rb highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="ruby">cursor = r.table('superheroes').run(conn)
doc = cursor.next()
</pre></div></div> <p><strong>Example:</strong> Retrieve the next element on a <a href="../../../docs/changefeeds/ruby/index.html">changefeed</a>, waiting up to five seconds.</p> <div class="language-rb highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="ruby">cursor = r.table('superheroes').changes().run(conn)
doc = cursor.next(5)
</pre></div></div> <p><strong>Note:</strong> RethinkDB sequences can be iterated through via the Ruby <a href="http://ruby-doc.org/core/Enumerable.html">Enumerable</a> interface. The canonical way to retrieve all the results is to use an <a href="../each/index.html">each</a> command or <a href="../to_array/index.html">to_a()</a>.</p> </div> <section class="related-commands"> <h2>Related commands</h2> <ul> <li><a href="../each/index.html">for (cursor)</a></li> <li><a href="../to_array/index.html">to_a</a></li> <li><a href="../close-cursor/index.html">close (cursor)</a></li> </ul> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; RethinkDB contributors<br>Licensed under the Creative Commons Attribution-ShareAlike 3.0 Unported License.<br>
    <a href="https://rethinkdb.com/api/ruby/next/" class="_attribution-link">https://rethinkdb.com/api/ruby/next/</a>
  </p>
</div>
