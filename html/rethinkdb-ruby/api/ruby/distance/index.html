<h1 class="title">ReQL command: distance</h1>  <div class="alg-content">
<h2 id="command-syntax">Command syntax</h2> <pre class="command-syntax" data-language="ruby">geometry.distance(geometry[, {:geo_system =&gt; 'WGS84', :unit =&gt; 'm'}]) → number
r.distance(geometry, geometry[, {:geo_system =&gt; 'WGS84', :unit =&gt; 'm'}]) → number
</pre> <h2 id="description">Description</h2> <p>Compute the distance between a point and another geometry object. At least one of the geometry objects specified must be a point.</p> <p>Optional arguments available with <code class="language-plaintext highlighter-rouge">distance</code> are:</p> <ul> <li>
<code class="language-plaintext highlighter-rouge">geo_system</code>: the reference ellipsoid to use for geographic coordinates. Possible values are <code class="language-plaintext highlighter-rouge">WGS84</code> (the default), a common standard for Earth’s geometry, or <code class="language-plaintext highlighter-rouge">unit_sphere</code>, a perfect sphere of 1 meter radius.</li> <li>
<code class="language-plaintext highlighter-rouge">unit</code>: Unit to return the distance in. Possible values are <code class="language-plaintext highlighter-rouge">m</code> (meter, the default), <code class="language-plaintext highlighter-rouge">km</code> (kilometer), <code class="language-plaintext highlighter-rouge">mi</code> (international mile), <code class="language-plaintext highlighter-rouge">nm</code> (nautical mile), <code class="language-plaintext highlighter-rouge">ft</code> (international foot).</li> </ul> <p>If one of the objects is a polygon or a line, the point will be projected onto the line or polygon assuming a perfect sphere model before the distance is computed (using the model specified with <code class="language-plaintext highlighter-rouge">geo_system</code>). As a consequence, if the polygon or line is extremely large compared to Earth’s radius and the distance is being computed with the default WGS84 model, the results of <code class="language-plaintext highlighter-rouge">distance</code> should be considered approximate due to the deviation between the ellipsoid and spherical models.</p> <p><strong>Example:</strong> Compute the distance between two points on the Earth in kilometers.</p> <div class="language-rb highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="ruby">&gt; point1 = r.point(-122.423246,37.779388)
&gt; point2 = r.point(-117.220406,32.719464)
&gt; r.distance(point1, point2, {:unit =&gt; 'km'}).run(conn)

734.1252496021841
</pre></div></div> </div> <section class="related-commands"> <h2>Related commands</h2> <ul> <li><a href="../polygon/index.html">polygon</a></li> <li><a href="../line/index.html">line</a></li> </ul> </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; RethinkDB contributors<br>Licensed under the Creative Commons Attribution-ShareAlike 3.0 Unported License.<br>
    <a href="https://rethinkdb.com/api/ruby/distance/" class="_attribution-link">https://rethinkdb.com/api/ruby/distance/</a>
  </p>
</div>
