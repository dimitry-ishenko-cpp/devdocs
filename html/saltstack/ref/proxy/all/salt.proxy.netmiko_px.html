<h1>salt.proxy.netmiko_px</h1> <div class="section" id="netmiko"> <h2>Netmiko</h2> <div class="versionadded"> <p><span class="versionmodified added">New in version 2019.2.0.</span></p> </div> <p>Proxy module for managing network devices via <a class="reference external" href="https://github.com/ktbyers/netmiko">Netmiko</a>.</p> <dl class="field-list simple"> <dt class="field-odd">codeauthor</dt> <dd class="field-odd">
<p>Mircea Ulinic &lt;<a class="reference external" href="mailto:ping%40mirceaulinic.net.html">ping<span>@</span>mirceaulinic<span>.</span>net</a>&gt; &amp; Kirk Byers &lt;<a class="reference external" href="mailto:ktbyers%40twb-tech.com.html">ktbyers<span>@</span>twb-tech<span>.</span>com</a>&gt;</p> </dd> <dt class="field-even">maturity</dt> <dd class="field-even">
<p>new</p> </dd> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>netmiko</p> </dd> <dt class="field-even">platform</dt> <dd class="field-even">
<p>unix</p> </dd> </dl> <div class="section" id="dependencies"> <h3>Dependencies</h3> <p>The <code class="docutils literal notranslate"><span class="pre">netmiko</span></code> proxy modules requires Netmiko to be installed: <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">netmiko</span></code>.</p> </div> <div class="section" id="pillar"> <h3>Pillar</h3> <p>The <code class="docutils literal notranslate"><span class="pre">netmiko</span></code> proxy configuration requires the following parameters in order to connect to the network device:</p> <ul class="simple"> <li>
<p><code class="docutils literal notranslate"><span class="pre">device_type</span></code> - Class selection based on device type. Supported options:</p> <ul> <li><p><code class="docutils literal notranslate"><span class="pre">a10</span></code>: A10 Networks</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">accedian</span></code>: Accedian Networks</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">alcatel_aos</span></code>: Alcatel AOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">alcatel_sros</span></code>: Alcatel SROS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">apresia_aeos</span></code>: Apresia AEOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">arista_eos</span></code>: Arista EOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">aruba_os</span></code>: Aruba</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">avaya_ers</span></code>: Avaya ERS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">avaya_vsp</span></code>: Avaya VSP</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">brocade_fastiron</span></code>: Brocade Fastiron</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">brocade_netiron</span></code>: Brocade Netiron</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">brocade_nos</span></code>: Brocade NOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">brocade_vdx</span></code>: Brocade NOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">brocade_vyos</span></code>: VyOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">checkpoint_gaia</span></code>: Check Point GAiA</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">calix_b6</span></code>: Calix B6</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ciena_saos</span></code>: Ciena SAOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_asa</span></code>: Cisco SA</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_ios</span></code>: Cisco IOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_nxos</span></code>: Cisco NX-oS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_s300</span></code>: Cisco S300</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_tp</span></code>: Cisco TpTcCe</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_wlc</span></code>: Cisco WLC</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_xe</span></code>: Cisco IOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_xr</span></code>: Cisco XR</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">coriant</span></code>: Coriant</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">dell_force10</span></code>: Dell Force10</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">dell_os10</span></code>: Dell OS10</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">dell_powerconnect</span></code>: Dell PowerConnect</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">eltex</span></code>: Eltex</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">enterasys</span></code>: Enterasys</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">extreme</span></code>: Extreme</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">extreme_wing</span></code>: Extreme Wing</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">f5_ltm</span></code>: F5 LTM</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">fortinet</span></code>: Fortinet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">generic_termserver</span></code>: TerminalServer</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">hp_comware</span></code>: HP Comware</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">hp_procurve</span></code>: HP Procurve</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">huawei</span></code>: Huawei</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">huawei_vrpv8</span></code>: Huawei VRPV8</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">juniper</span></code>: Juniper Junos</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">juniper_junos</span></code>: Juniper Junos</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">linux</span></code>: Linux</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">mellanox</span></code>: Mellanox</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">mrv_optiswitch</span></code>: MrvOptiswitch</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">netapp_cdot</span></code>: NetAppcDot</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">netscaler</span></code>: Netscaler</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ovs_linux</span></code>: OvsLinux</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">paloalto_panos</span></code>: PaloAlto Panos</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">pluribus</span></code>: Pluribus</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">quanta_mesh</span></code>: Quanta Mesh</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ruckus_fastiron</span></code>: Ruckus Fastiron</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ubiquiti_edge</span></code>: Ubiquiti Edge</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ubiquiti_edgeswitch</span></code>: Ubiquiti Edge</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">vyatta_vyos</span></code>: VyOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">vyos</span></code>: VyOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">brocade_fastiron_telnet</span></code>: Brocade Fastiron over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">brocade_netiron_telnet</span></code>: Brocade Netiron over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_ios_telnet</span></code>: Cisco IOS over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">apresia_aeos_telnet</span></code>: Apresia AEOS over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">arista_eos_telnet</span></code>: Arista EOS over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">hp_procurve_telnet</span></code>: HP Procurve over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">hp_comware_telnet</span></code>: HP Comware over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">juniper_junos_telnet</span></code>: Juniper Junos over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">calix_b6_telnet</span></code>: Calix B6 over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">dell_powerconnect_telnet</span></code>: Dell PowerConnect over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">generic_termserver_telnet</span></code>: TerminalServer over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">extreme_telnet</span></code>: Extreme Networks over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ruckus_fastiron_telnet</span></code>: Ruckus Fastiron over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_ios_serial</span></code>: Cisco IOS over serial port</p></li> </ul> </li> <li><p><code class="docutils literal notranslate"><span class="pre">ip</span></code> - IP address of target device (not required if <code class="docutils literal notranslate"><span class="pre">host</span></code> is provided)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">host</span></code> - Hostname of target device (not required if <code class="docutils literal notranslate"><span class="pre">ip</span></code> is provided)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">username</span></code> - Username to authenticate against target device, if required</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">password</span></code> - Password to authenticate against target device, if required</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">secret</span></code> - The enable password if target device requires one</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">port</span></code> - The destination port used to connect to the target device</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">global_delay_factor</span></code> - Multiplication factor affecting Netmiko delays (default: <code class="docutils literal notranslate"><span class="pre">1</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">use_keys</span></code> - Connect to target device using SSH keys (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">key_file</span></code> - Filename path of the SSH key file to use</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">allow_agent</span></code> - Enable use of SSH key-agent</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ssh_strict</span></code> - Automatically reject unknown SSH host keys (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>, which means unknown SSH host keys will be accepted)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">system_host_keys</span></code> - Load host keys from the user's "known_hosts" file (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">alt_host_keys</span></code> - If <code class="docutils literal notranslate"><span class="pre">True</span></code>, host keys will be loaded from the file specified in <code class="docutils literal notranslate"><span class="pre">alt_key_file</span></code> (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">alt_key_file</span></code> - SSH host key file to use (if <code class="docutils literal notranslate"><span class="pre">alt_host_keys=True</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ssh_config_file</span></code> - File name of OpenSSH configuration file</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">timeout</span></code> - Connection timeout, in seconds (default: <code class="docutils literal notranslate"><span class="pre">90</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">session_timeout</span></code> - Set a timeout for parallel requests, in seconds (default: <code class="docutils literal notranslate"><span class="pre">60</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">keepalive</span></code> - Send SSH keepalive packets at a specific interval, in seconds. Currently defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>, for backwards compatibility (it will not attempt to keep the connection alive using the KEEPALIVE packets).</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">default_enter</span></code> - Character(s) to send to correspond to enter key (default: <code class="docutils literal notranslate"><span class="pre">\n</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">response_return</span></code> - Character(s) to use in normalized return data to represent enter key (default: <code class="docutils literal notranslate"><span class="pre">\n</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">always_alive</span></code> - In certain less dynamic environments, maintaining the remote connection permanently open with the network device is not always beneficial. In that case, the user can select to initialize the connection only when needed, by setting this option to <code class="docutils literal notranslate"><span class="pre">False</span></code>. By default this option is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> (maintains the connection with the remote network device)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">multiprocessing</span></code> - Overrides the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/configuration/minion.html#std-conf_minion-multiprocessing"><code class="xref std std-conf_minion docutils literal notranslate"><span class="pre">multiprocessing</span></code></a> option, per proxy minion, as the Netmiko communication channel is mainly SSH (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">connection_timeout</span></code> - The number of seconds to attempt to connect to the device in seconds. (default: <code class="docutils literal notranslate"><span class="pre">300</span></code>)</p></li> </ul> </div> <div class="section" id="proxy-pillar-example"> <h3>Proxy Pillar Example</h3> <pre class="highlight-yaml notranslate" data-language="yaml">proxy:
  proxytype: netmiko
  device_type: juniper_junos
  host: router1.example.com
  username: example
  password: example</pre> <pre class="highlight-yaml notranslate" data-language="yaml">proxy:
  proxytype: netmiko
  device_type: cisco_ios
  ip: 1.2.3.4
  username: test
  use_keys: true
  secret: w3@k</pre> <dl class="py function"> <h3 id="salt.proxy.netmiko_px.alive"> salt.proxy.netmiko_px.alive(opts)</h3> <dd>
<p>Return the connection status with the network device.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.proxy.netmiko_px.args"> salt.proxy.netmiko_px.args()</h3> <dd>
<p>Return the Netmiko device args.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.proxy.netmiko_px.call"> salt.proxy.netmiko_px.call(method, *args, **kwargs)</h3> <dd>
<p>Calls an arbitrary netmiko method.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.proxy.netmiko_px.conn"> salt.proxy.netmiko_px.conn()</h3> <dd>
<p>Return the connection object.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.proxy.netmiko_px.connection"> salt.proxy.netmiko_px.connection(connection_timeout=300)</h3> 
</dl> <dl class="py function"> <h3 id="salt.proxy.netmiko_px.init"> salt.proxy.netmiko_px.init(opts)</h3> <dd>
<p>Open the connection to the network device managed through netmiko.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.proxy.netmiko_px.initialized"> salt.proxy.netmiko_px.initialized()</h3> <dd>
<p>Connection finished initializing?</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.proxy.netmiko_px.make_con"> salt.proxy.netmiko_px.make_con(connection_timeout=300)</h3> 
</dl> <dl class="py function"> <h3 id="salt.proxy.netmiko_px.ping"> salt.proxy.netmiko_px.ping()</h3> <dd>
<p>Connection open successfully?</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.proxy.netmiko_px.shutdown"> salt.proxy.netmiko_px.shutdown(opts)</h3> <dd>
<p>Closes connection with the device.</p> </dd>
</dl> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/proxy/all/salt.proxy.netmiko_px.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/proxy/all/salt.proxy.netmiko_px.html</a>
  </p>
</div>
