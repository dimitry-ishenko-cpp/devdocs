<h1>salt.pillar.netbox</h1> <p>A module that adds data to the Pillar structure from a NetBox API.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2019.2.0.</span></p> </div> <div class="section" id="configuring-the-netbox-ext-pillar"> <h2>Configuring the NetBox ext_pillar</h2> <pre class="highlight-yaml notranslate" data-language="yaml">ext_pillar:
  - netbox:
      api_url: http://netbox_url.com/api/
      api_token: 123abc</pre> <p>Create a token in your NetBox instance at <a class="reference external" href="#">http://netbox_url.com/user/api-tokens/</a></p> <p>The following options are optional, and determine whether or not the module will attempt to configure the <code class="docutils literal notranslate"><span class="pre">proxy</span></code> pillar data for use with the napalm proxy-minion:</p> <pre class="highlight-yaml notranslate" data-language="yaml">proxy_return: True
proxy_username: admin</pre> <p>By default, this module will query the NetBox API for the platform associated with the device, and use the 'NAPALM driver' field to set the napalm proxy-minion driver. (Currently only 'napalm' is supported for drivertype.)</p> <p>This module currently only supports the napalm proxy minion and assumes you will use SSH keys to authenticate to the network device. If password authentication is desired, it is recommended to create another <code class="docutils literal notranslate"><span class="pre">proxy</span></code> key in pillar_roots (or git_pillar) with just the <code class="docutils literal notranslate"><span class="pre">passwd</span></code> key and use <a class="reference internal" href="../../renderers/all/salt.renderers.gpg.html#module-salt.renderers.gpg" title="salt.renderers.gpg"><code class="xref py py-func docutils literal notranslate"><span class="pre">salt.renderers.gpg</span></code></a> to encrypt the value. If any additional options for the proxy setup are needed they should also be configured in pillar_roots.</p> <p>Other available options:</p> <dl class="simple"> <dt>site_details: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>Whether should retrieve details of the site the device belongs to.</p> </dd> <dt>site_prefixes: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>Whether should retrieve the prefixes of the site the device belongs to.</p> </dd> </dl> <dl class="py function"> <h3 id="salt.pillar.netbox.ext_pillar"> salt.pillar.netbox.ext_pillar(minion_id, pillar, *args, **kwargs)</h3> <dd>
<p>Query NetBox API for minion data</p> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/pillar/all/salt.pillar.netbox.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/pillar/all/salt.pillar.netbox.html</a>
  </p>
</div>
