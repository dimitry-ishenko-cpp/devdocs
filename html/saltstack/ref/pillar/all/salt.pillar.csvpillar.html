<h1>salt.pillar.csvpillar</h1> <p>Store key/value pairs in a CSV file</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <p>Example configuration:</p> <pre class="highlight-yaml notranslate" data-language="yaml">ext_pillar:
  - csv: /path/to/file.csv

# or

ext_pillar:
  - csv:
      path: /path/to/file.csv
      namespace: 'subkey'
      fieldnames:
      - col1
      - col2
      - col2</pre> <p>The first column must be minion IDs and the first row must be dictionary keys. E.g.:</p> <table class="docutils align-default"> <colgroup> <col style="width: 40%"> <col style="width: 36%"> <col style="width: 24%"> </colgroup> <thead> <tr class="row-odd">
<th class="head"><p>id</p></th> <th class="head"><p>role</p></th> <th class="head"><p>env</p></th> </tr> </thead> <tbody> <tr class="row-even">
<td><p>jerry</p></td> <td><p>web</p></td> <td><p>prod</p></td> </tr> <tr class="row-odd">
<td><p>stuart</p></td> <td><p>web</p></td> <td><p>stage</p></td> </tr> <tr class="row-even">
<td><p>dave</p></td> <td><p>web</p></td> <td><p>qa</p></td> </tr> <tr class="row-odd">
<td><p>phil</p></td> <td><p>db</p></td> <td><p>prod</p></td> </tr> <tr class="row-even">
<td><p>kevin</p></td> <td><p>db</p></td> <td><p>stage</p></td> </tr> <tr class="row-odd">
<td><p>mike</p></td> <td><p>db</p></td> <td><p>qa</p></td> </tr> </tbody> </table> <p>Will produce the following Pillar values for a minion named "jerry":</p> <pre class="highlight-python notranslate" data-language="python">{
    'role': 'web',
    'env': 'prod',
}</pre> <dl class="py function"> <h3 id="salt.pillar.csvpillar.ext_pillar"> salt.pillar.csvpillar.ext_pillar(mid, pillar, path, idkey='id', namespace=None, fieldnames=None, restkey=None, restval=None, dialect='excel')</h3> <dd>
<p>Read a CSV into Pillar</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Absolute path to a CSV file.</p></li> <li><p><strong>idkey</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- (Optional) The column name of minion IDs.</p></li> <li><p><strong>namespace</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- (Optional) A pillar key to namespace the values under.</p></li> <li><p><strong>fieldnames</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) -- (Optional) if the first row of the CSV is not column names they may be specified here instead.</p></li> </ul> </dd> </dl> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/pillar/all/salt.pillar.csvpillar.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/pillar/all/salt.pillar.csvpillar.html</a>
  </p>
</div>
