<h1>salt.pillar.reclass_adapter</h1> <p>Use the "reclass" database as a Pillar source</p> <p>This <code class="docutils literal notranslate"><span class="pre">ext_pillar</span></code> plugin provides access to the <strong>reclass</strong> database, such that Pillar data for a specific minion are fetched using <strong>reclass</strong>.</p> <p>You can find more information about <strong>reclass</strong> at <a class="reference external" href="http://reclass.pantsfullofunix.net">http://reclass.pantsfullofunix.net</a>.</p> <p>To use the plugin, add it to the <code class="docutils literal notranslate"><span class="pre">ext_pillar</span></code> list in the Salt master config and tell <strong>reclass</strong> by way of a few options how and where to find the inventory:</p> <pre class="highlight-yaml notranslate" data-language="yaml">ext_pillar:
    - reclass:
        storage_type: yaml_fs
        inventory_base_uri: /srv/salt</pre> <p>This would cause <strong>reclass</strong> to read the inventory from YAML files in <code class="docutils literal notranslate"><span class="pre">/srv/salt/nodes</span></code> and <code class="docutils literal notranslate"><span class="pre">/srv/salt/classes</span></code>.</p> <p>If you are also using <strong>reclass</strong> as <code class="docutils literal notranslate"><span class="pre">master_tops</span></code> plugin, and you want to avoid having to specify the same information for both, use YAML anchors (take note of the differing data types for <code class="docutils literal notranslate"><span class="pre">ext_pillar</span></code> and <code class="docutils literal notranslate"><span class="pre">master_tops</span></code>):</p> <pre class="highlight-yaml notranslate" data-language="yaml">reclass: &amp;reclass
    storage_type: yaml_fs
    inventory_base_uri: /srv/salt
    reclass_source_path: ~/code/reclass

ext_pillar:
    - reclass: *reclass

master_tops:
    reclass: *reclass</pre> <p>If you want to run reclass from source, rather than installing it, you can either let the master know via the <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> environment variable, or by setting the configuration option, like in the example above.</p> <dl class="py function"> <h3 id="salt.pillar.reclass_adapter.ext_pillar"> salt.pillar.reclass_adapter.ext_pillar(minion_id, pillar, **kwargs)</h3> <dd>
<p>Obtain the Pillar data from <strong>reclass</strong> for the given <code class="docutils literal notranslate"><span class="pre">minion_id</span></code>.</p> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/pillar/all/salt.pillar.reclass_adapter.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/pillar/all/salt.pillar.reclass_adapter.html</a>
  </p>
</div>
