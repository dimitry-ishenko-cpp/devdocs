<h1>salt.pillar.redismod</h1> <div class="section" id="read-pillar-data-from-a-redis-backend"> <h2>Read pillar data from a Redis backend</h2> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.7.0.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<ul class="simple"> <li><p>redis Python module (on master)</p></li> </ul> </dd> </dl> </div> <div class="section" id="salt-master-redis-configuration"> <h2>Salt Master Redis Configuration</h2> <p>The module shares the same base Redis connection variables as <a class="reference internal" href="../../returners/all/salt.returners.redis_return.html#module-salt.returners.redis_return" title="salt.returners.redis_return"><code class="xref py py-mod docutils literal notranslate"><span class="pre">salt.returners.redis_return</span></code></a>. These variables go in your master config file.</p> <ul class="simple"> <li><p><code class="docutils literal notranslate"><span class="pre">redis.db</span></code> - The Redis database to use. Defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">redis.host</span></code> - The Redis host to connect to. Defaults to <code class="docutils literal notranslate"><span class="pre">'salt'</span></code>.</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">redis.port</span></code> - The port that the Redis database is listening on. Defaults to <code class="docutils literal notranslate"><span class="pre">6379</span></code>.</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">redis.password</span></code> - The password for authenticating with Redis. Only required if you are using master auth. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li> </ul> </div> <div class="section" id="configuring-the-redis-ext-pillar"> <h2>Configuring the Redis ext_pillar</h2> <blockquote> <div>
<pre class="highlight-yaml notranslate" data-language="yaml">ext_pillar:
  - redis: {function: key_value}</pre> </div>
</blockquote> <dl class="py function"> <h3 id="salt.pillar.redismod.ext_pillar"> salt.pillar.redismod.ext_pillar(minion_id, pillar, function, **kwargs)</h3> <dd>
<p>Grabs external pillar data based on configured function</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.pillar.redismod.key_json"> salt.pillar.redismod.key_json(minion_id, pillar, pillar_key=None)</h3> <dd>
<p>Pulls a string from redis and deserializes it from json. Deserialized dictionary data loaded directly into top level if pillar_key is not set.</p> <dl class="simple"> <dt>pillar_key</dt>
<dd>
<p>Pillar key to return data into</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.pillar.redismod.key_value"> salt.pillar.redismod.key_value(minion_id, pillar, pillar_key='redis_pillar')</h3> <dd>
<p>Looks for key in redis matching minion_id, returns a structure based on the data type of the redis key. String for string type, dict for hash type and lists for lists, sets and sorted sets.</p> <dl class="simple"> <dt>pillar_key</dt>
<dd>
<p>Pillar key to return data into</p> </dd> </dl> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/pillar/all/salt.pillar.redismod.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/pillar/all/salt.pillar.redismod.html</a>
  </p>
</div>
