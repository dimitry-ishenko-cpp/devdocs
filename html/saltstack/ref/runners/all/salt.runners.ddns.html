<h1>salt.runners.ddns</h1> <div class="section" id="dynamic-dns-runner"> <h2>Dynamic DNS Runner</h2> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.0.</span></p> </div> <p>Runner to interact with DNS server and create/delete/update DNS records</p> <dl class="field-list simple"> <dt class="field-odd">codeauthor</dt> <dd class="field-odd">
<p>Nitin Madhok &lt;<a class="reference external" href="mailto:nmadhok%40g.clemson.edu.html">nmadhok<span>@</span>g<span>.</span>clemson<span>.</span>edu</a>&gt;</p> </dd> </dl> <dl class="py function"> <h3 id="salt.runners.ddns.add_host"> salt.runners.ddns.add_host(zone, name, ttl, ip, keyname, keyfile, nameserver, timeout, port=53, keyalgorithm='hmac-md5')</h3> <dd>
<p>Create both A and PTR (reverse) records for a host.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-run ddns.add_host domain.com my-test-vm 3600 10.20.30.40 my-tsig-key /etc/salt/tsig.keyring 10.0.0.1 5</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.runners.ddns.create"> salt.runners.ddns.create(zone, name, ttl, rdtype, data, keyname, keyfile, nameserver, timeout, port=53, keyalgorithm='hmac-md5')</h3> <dd>
<p>Create a DNS record. The nameserver must be an IP address and the master running this runner must have create privileges on that server.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-run ddns.create domain.com my-test-vm 3600 A 10.20.30.40 my-tsig-key /etc/salt/tsig.keyring 10.0.0.1 5</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.runners.ddns.delete"> salt.runners.ddns.delete(zone, name, keyname, keyfile, nameserver, timeout, rdtype=None, data=None, port=53, keyalgorithm='hmac-md5')</h3> <dd>
<p>Delete a DNS record.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-run ddns.delete domain.com my-test-vm my-tsig-key /etc/salt/tsig.keyring 10.0.0.1 5 A</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.runners.ddns.delete_host"> salt.runners.ddns.delete_host(zone, name, keyname, keyfile, nameserver, timeout, port=53, keyalgorithm='hmac-md5')</h3> <dd>
<p>Delete both forward (A) and reverse (PTR) records for a host only if the forward (A) record exists.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-run ddns.delete_host domain.com my-test-vm my-tsig-key /etc/salt/tsig.keyring 10.0.0.1 5</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.runners.ddns.update"> salt.runners.ddns.update(zone, name, ttl, rdtype, data, keyname, keyfile, nameserver, timeout, replace=False, port=53, keyalgorithm='hmac-md5')</h3> <dd>
<p>Replace, or update a DNS record. The nameserver must be an IP address and the master running this runner must have update privileges on that server.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>If <code class="docutils literal notranslate"><span class="pre">replace</span></code> is set to True, all records for this name and type will first be deleted and then recreated. Default is <code class="docutils literal notranslate"><span class="pre">replace=False</span></code>.</p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-run ddns.update domain.com my-test-vm 3600 A 10.20.30.40 my-tsig-key /etc/salt/tsig.keyring 10.0.0.1 5</pre> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/runners/all/salt.runners.ddns.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/runners/all/salt.runners.ddns.html</a>
  </p>
</div>
