<h1>salt.states.win_dism</h1> <div class="section" id="installing-of-windows-features-using-dism"> <h2>Installing of Windows features using DISM</h2> <p>Install windows features/capabilties with DISM</p> <pre class="highlight-yaml notranslate" data-language="yaml">Language.Basic~~~en-US~0.0.1.0:
  dism.capability_installed

NetFx3:
  dism.feature_installed</pre> <dl class="py function"> <h3 id="salt.states.win_dism.capability_installed"> salt.states.win_dism.capability_installed(name, source=None, limit_access=False, image=None, restart=False)</h3> <dd>
<p>Install a DISM capability</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The capability to install</p></li> <li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The optional source of the capability</p></li> <li><p><strong>limit_access</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Prevent DISM from contacting Windows Update for online images</p></li> <li><p><strong>image</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The path to the root directory of an offline Windows image. If <cite>None</cite> is passed, the running operating system is targeted. Default is None.</p></li> <li><p><strong>restart</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>]</em>) -- Reboot the machine if required by the install</p></li> </ul> </dd> </dl> <p class="rubric">Example</p> <p>Run <code class="docutils literal notranslate"><span class="pre">dism.available_capabilities</span></code> to get a list of available capabilities. This will help you get the proper name to use.</p> <pre class="highlight-yaml notranslate" data-language="yaml">install_dotnet35:
  dism.capability_installed:
    - name: NetFX3~~~~</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.win_dism.capability_removed"> salt.states.win_dism.capability_removed(name, image=None, restart=False)</h3> <dd>
<p>Uninstall a DISM capability</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The capability to uninstall</p></li> <li><p><strong>image</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The path to the root directory of an offline Windows image. If <cite>None</cite> is passed, the running operating system is targeted. Default is None.</p></li> <li><p><strong>restart</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>]</em>) -- Reboot the machine if required by the install</p></li> </ul> </dd> </dl> <p class="rubric">Example</p> <p>Run <code class="docutils literal notranslate"><span class="pre">dism.installed_capabilities</span></code> to get a list of installed capabilities. This will help you get the proper name to use.</p> <pre class="highlight-yaml notranslate" data-language="yaml">remove_dotnet35:
  dism.capability_removed:
    - name: NetFX3~~~~</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.win_dism.feature_installed"> salt.states.win_dism.feature_installed(name, package=None, source=None, limit_access=False, enable_parent=False, image=None, restart=False)</h3> <dd>
<p>Install a DISM feature</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The feature in which to install</p></li> <li><p><strong>package</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The parent package for the feature. You do not have to specify the package if it is the Windows Foundation Package. Otherwise, use package to specify the parent package of the feature</p></li> <li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The optional source of the feature</p></li> <li><p><strong>limit_access</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Prevent DISM from contacting Windows Update for online images</p></li> <li><p><strong>enable_parent</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>]</em>) -- True will enable all parent features of the specified feature</p></li> <li><p><strong>image</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The path to the root directory of an offline Windows image. If <cite>None</cite> is passed, the running operating system is targeted. Default is None.</p></li> <li><p><strong>restart</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>]</em>) -- Reboot the machine if required by the install</p></li> </ul> </dd> </dl> <p class="rubric">Example</p> <p>Run <code class="docutils literal notranslate"><span class="pre">dism.available_features</span></code> to get a list of available features. This will help you get the proper name to use.</p> <pre class="highlight-yaml notranslate" data-language="yaml">install_telnet_client:
  dism.feature_installed:
    - name: TelnetClient</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.win_dism.feature_removed"> salt.states.win_dism.feature_removed(name, remove_payload=False, image=None, restart=False)</h3> <dd>
<p>Disables a feature.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The feature to disable</p></li> <li><p><strong>remove_payload</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>]</em>) -- Remove the feature's payload. Must supply source when enabling in the future.</p></li> <li><p><strong>image</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The path to the root directory of an offline Windows image. If <cite>None</cite> is passed, the running operating system is targeted. Default is None.</p></li> <li><p><strong>restart</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>]</em>) -- Reboot the machine if required by the install</p></li> </ul> </dd> </dl> <p class="rubric">Example</p> <p>Run <code class="docutils literal notranslate"><span class="pre">dism.installed_features</span></code> to get a list of installed features. This will help you get the proper name to use.</p> <pre class="highlight-yaml notranslate" data-language="yaml">remove_telnet_client:
  dism.feature_removed:
    - name: TelnetClient
    - remove_payload: True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.win_dism.package_installed"> salt.states.win_dism.package_installed(name, ignore_check=False, prevent_pending=False, image=None, restart=False)</h3> <dd>
<p>Install a package.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The package to install. Can be a .cab file, a .msu file, or a folder</p></li> <li><p><strong>ignore_check</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>]</em>) -- Skip installation of the package if the applicability checks fail</p></li> <li><p><strong>prevent_pending</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>]</em>) -- Skip the installation of the package if there are pending online actions</p></li> <li><p><strong>image</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The path to the root directory of an offline Windows image. If <cite>None</cite> is passed, the running operating system is targeted. Default is None.</p></li> <li><p><strong>restart</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>]</em>) -- Reboot the machine if required by the install</p></li> </ul> </dd> </dl> <p class="rubric">Example</p> <pre class="highlight-yaml notranslate" data-language="yaml">install_KB123123123:
  dism.package_installed:
    - name: C:\Packages\KB123123123.cab</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.win_dism.package_removed"> salt.states.win_dism.package_removed(name, image=None, restart=False)</h3> <dd>
<p>Uninstall a package</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The full path to the package. Can be either a .cab file or a folder. Should point to the original source of the package, not to where the file is installed. This can also be the name of a package as listed in <code class="docutils literal notranslate"><span class="pre">dism.installed_packages</span></code></p></li> <li><p><strong>image</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The path to the root directory of an offline Windows image. If <cite>None</cite> is passed, the running operating system is targeted. Default is None.</p></li> <li><p><strong>restart</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>]</em>) -- Reboot the machine if required by the install</p></li> </ul> </dd> </dl> <p class="rubric">Example</p> <pre class="highlight-yaml notranslate" data-language="yaml"># Example using source
remove_KB1231231:
  dism.package_installed:
    - name: C:\Packages\KB1231231.cab

# Example using name from ``dism.installed_packages``
remove_KB1231231:
  dism.package_installed:
    - name: Package_for_KB1231231~31bf3856ad364e35~amd64~~10.0.1.3</pre> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.win_dism.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.win_dism.html</a>
  </p>
</div>
