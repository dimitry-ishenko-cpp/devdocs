<h1>salt.states.nexus</h1> <p>This state downloads artifacts from Nexus 3.x.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.0.</span></p> </div> <dl class="py function"> <h3 id="salt.states.nexus.downloaded"> salt.states.nexus.downloaded(name, artifact, target_dir='/tmp', target_file=None)</h3> <dd>
<p>Ensures that the artifact from nexus exists at given location. If it doesn't exist, then it will be downloaded. If it already exists then the checksum of existing file is checked against checksum in nexus. If it is different then the step will fail.</p> <dl class="simple"> <dt>artifact</dt>
<dd>
<p>Details of the artifact to be downloaded from nexus. Various options are:</p> <ul class="simple"> <li><p>nexus_url: URL of the nexus instance</p></li> <li><p>repository: Repository in nexus</p></li> <li><p>artifact_id: Artifact ID</p></li> <li><p>group_id: Group ID</p></li> <li><p>packaging: Packaging</p></li> <li><p>classifier: Classifier</p></li> <li>
<dl class="simple"> <dt>version: Version</dt>
<dd>
<p>One of the following: - Version to download - <code class="docutils literal notranslate"><span class="pre">latest</span></code> - Download the latest release of this artifact - <code class="docutils literal notranslate"><span class="pre">latest_snapshot</span></code> - Download the latest snapshot for this artifact</p> </dd> </dl> </li> <li><p>username: nexus username</p></li> <li><p>password: nexus password</p></li> </ul> </dd> <dt>target_dir</dt>
<dd>
<p>Directory where the artifact should be downloaded. By default it is downloaded to /tmp directory.</p> </dd> <dt>target_file</dt>
<dd>
<p>Target file to download artifact to. By default file name is resolved by nexus.</p> </dd> </dl> <p>An example to download an artifact to a specific file:</p> <pre class="highlight-yaml notranslate" data-language="yaml">jboss_module_downloaded:
  nexus.downloaded:
   - artifact:
       nexus_url: http://nexus.intranet.example.com/repository
       repository: 'libs-release-local'
       artifact_id: 'module'
       group_id: 'com.company.module'
       packaging: 'jar'
       classifier: 'sources'
       version: '1.0'
   - target_file: /opt/jboss7/modules/com/company/lib/module.jar</pre> <p>Download artifact to the folder (automatically resolves file name):</p> <pre class="highlight-yaml notranslate" data-language="yaml">maven_artifact_downloaded:
  nexus.downloaded:
   - artifact:
        nexus_url: http://nexus.intranet.example.com/repository
        repository: 'maven-releases'
        artifact_id: 'module'
        group_id: 'com.company.module'
        packaging: 'zip'
        classifier: 'dist'
        version: '1.0'
   - target_dir: /opt/maven/modules/com/company/release</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.nexus.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.nexus.html</a>
  </p>
</div>
