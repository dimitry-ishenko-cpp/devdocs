<h1>salt.states.zookeeper</h1> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>kazoo</p> </dd> <dt class="field-even">configuration</dt> <dd class="field-even">
<p>See <a class="reference internal" href="../../modules/all/salt.modules.zookeeper.html#module-salt.modules.zookeeper" title="salt.modules.zookeeper"><code class="xref py py-mod docutils literal notranslate"><span class="pre">salt.modules.zookeeper</span></code></a> for setup instructions.</p> </dd> </dl> <div class="section" id="acls"> <h2>ACLS</h2> <p>For more information about acls, please checkout the kazoo documentation.</p> <p><a class="reference external" href="http://kazoo.readthedocs.io/en/latest/api/security.html#kazoo.security.make_digest_acl">http://kazoo.readthedocs.io/en/latest/api/security.html#kazoo.security.make_digest_acl</a></p> <p>The following options can be included in the acl dictionary:</p> <blockquote> <div>
<dl class="field-list simple"> <dt class="field-odd">param username</dt> <dd class="field-odd">
<p>Username to use for the ACL.</p> </dd> <dt class="field-even">param password</dt> <dd class="field-even">
<p>A plain-text password to hash.</p> </dd> <dt class="field-odd">param write</dt> <dd class="field-odd">
<p>Write permission.</p> </dd> <dt class="field-even">type write</dt> <dd class="field-even">
<p>bool</p> </dd> <dt class="field-odd">param create</dt> <dd class="field-odd">
<p>Create permission.</p> </dd> <dt class="field-even">type create</dt> <dd class="field-even">
<p>bool</p> </dd> <dt class="field-odd">param delete</dt> <dd class="field-odd">
<p>Delete permission.</p> </dd> <dt class="field-even">type delete</dt> <dd class="field-even">
<p>bool</p> </dd> <dt class="field-odd">param admin</dt> <dd class="field-odd">
<p>Admin permission.</p> </dd> <dt class="field-even">type admin</dt> <dd class="field-even">
<p>bool</p> </dd> <dt class="field-odd">param all</dt> <dd class="field-odd">
<p>All permissions.</p> </dd> <dt class="field-even">type all</dt> <dd class="field-even">
<p>bool</p> </dd> </dl> </div>
</blockquote> <dl class="py function"> <h3 id="salt.states.zookeeper.absent"> salt.states.zookeeper.absent(name, version=- 1, recursive=False, profile=None, hosts=None, scheme=None, username=None, password=None, default_acl=None)</h3> <dd>
<p>Make sure znode is absent</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>path to znode</p> </dd> <dt>version</dt>
<dd>
<p>Specify the version which should be deleted Default: -1 (always match)</p> </dd> <dt>recursive</dt>
<dd>
<p>Boolean to indicate if children should be recursively deleted Default: False</p> </dd> <dt>profile</dt>
<dd>
<p>Configured Zookeeper profile to authenticate with (Default: None)</p> </dd> <dt>hosts</dt>
<dd>
<p>Lists of Zookeeper Hosts (Default: '127.0.0.1:2181)</p> </dd> <dt>scheme</dt>
<dd>
<p>Scheme to authenticate with (Default: 'digest')</p> </dd> <dt>username</dt>
<dd>
<p>Username to authenticate (Default: None)</p> </dd> <dt>password</dt>
<dd>
<p>Password to authenticate (Default: None)</p> </dd> <dt>default_acl</dt>
<dd>
<p>Default acls to assign if a node is created in this connection (Default: None)</p> </dd> </dl> <pre class="highlight-yaml notranslate" data-language="yaml">delete znode:
  zookeeper.absent:
    - name: /test
    - recursive: True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.zookeeper.acls"> salt.states.zookeeper.acls(name, acls, version=- 1, profile=None, hosts=None, scheme=None, username=None, password=None, default_acl=None)</h3> <dd>
<p>Update acls on a znode</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>path to znode</p> </dd> <dt>acls</dt>
<dd>
<p>list of acl dictionaries to set on znode</p> </dd> <dt>version</dt>
<dd>
<p>Specify the version which should be deleted Default: -1 (always match)</p> </dd> <dt>profile</dt>
<dd>
<p>Configured Zookeeper profile to authenticate with (Default: None)</p> </dd> <dt>hosts</dt>
<dd>
<p>Lists of Zookeeper Hosts (Default: '127.0.0.1:2181)</p> </dd> <dt>scheme</dt>
<dd>
<p>Scheme to authenticate with (Default: 'digest')</p> </dd> <dt>username</dt>
<dd>
<p>Username to authenticate (Default: None)</p> </dd> <dt>password</dt>
<dd>
<p>Password to authenticate (Default: None)</p> </dd> <dt>default_acl</dt>
<dd>
<p>Default acls to assign if a node is created in this connection (Default: None)</p> </dd> </dl> <pre class="highlight-yaml notranslate" data-language="yaml">update acls:
  zookeeper.acls:
    - name: /test/name
    - acls:
      - username: daniel
        password: test
        all: True
      - username: gtmanfred
        password: test
        all: True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.zookeeper.present"> salt.states.zookeeper.present(name, value, acls=None, ephemeral=False, sequence=False, makepath=False, version=- 1, profile=None, hosts=None, scheme=None, username=None, password=None, default_acl=None)</h3> <dd>
<p>Make sure znode is present in the correct state with the correct acls</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>path to znode</p> </dd> <dt>value</dt>
<dd>
<p>value znode should be set to</p> </dd> <dt>acls</dt>
<dd>
<p>list of acl dictionaries to set on znode (make sure the ones salt is connected with are included) Default: None</p> </dd> <dt>ephemeral</dt>
<dd>
<p>Boolean to indicate if ephemeral znode should be created Default: False</p> </dd> <dt>sequence</dt>
<dd>
<p>Boolean to indicate if znode path is suffixed with a unique index Default: False</p> </dd> <dt>makepath</dt>
<dd>
<p>Boolean to indicate if the parent paths should be created Default: False</p> </dd> <dt>version</dt>
<dd>
<p>For updating, specify the version which should be updated Default: -1 (always match)</p> </dd> <dt>profile</dt>
<dd>
<p>Configured Zookeeper profile to authenticate with (Default: None)</p> </dd> <dt>hosts</dt>
<dd>
<p>Lists of Zookeeper Hosts (Default: '127.0.0.1:2181)</p> </dd> <dt>scheme</dt>
<dd>
<p>Scheme to authenticate with (Default: 'digest')</p> </dd> <dt>username</dt>
<dd>
<p>Username to authenticate (Default: None)</p> </dd> <dt>password</dt>
<dd>
<p>Password to authenticate (Default: None)</p> </dd> <dt>default_acl</dt>
<dd>
<p>Default acls to assign if a node is created in this connection (Default: None)</p> </dd> </dl> <pre class="highlight-yaml notranslate" data-language="yaml">add znode:
  zookeeper.present:
    - name: /test/name
    - value: gtmanfred
    - makepath: True

update znode:
  zookeeper.present:
    - name: /test/name
    - value: daniel
    - acls:
      - username: daniel
        password: test
        read: true
      - username: gtmanfred
        password: test
        read: true
        write: true
        create: true
        delete: true
        admin: true
    - makepath: True</pre> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.zookeeper.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.zookeeper.html</a>
  </p>
</div>
