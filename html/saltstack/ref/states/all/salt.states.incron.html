<h1>salt.states.incron</h1> <div class="section" id="management-of-incron-the-inotify-cron"> <h2>Management of incron, the inotify cron</h2> <p>The incron state module allows for user incrontabs to be cleanly managed.</p> <p>Incron declarations require a number of parameters. The parameters needed to be declared: <code class="docutils literal notranslate"><span class="pre">path</span></code>, <code class="docutils literal notranslate"><span class="pre">mask</span></code>, and <code class="docutils literal notranslate"><span class="pre">cmd</span></code>. The <code class="docutils literal notranslate"><span class="pre">user</span></code> whose incrontab is to be edited also needs to be defined.</p> <p>When making changes to an existing incron job, the <code class="docutils literal notranslate"><span class="pre">path</span></code> declaration is the unique factor, so if an existing cron that looks like this:</p> <pre class="highlight-yaml notranslate" data-language="yaml">Watch for modifications in /home/user:
    incron.present:
        - user: root
        - path: /home/user
        - mask:
            - IN_MODIFY
        - cmd: 'echo "$$ $@"'</pre> <p>Is changed to this:</p> <pre class="highlight-yaml notranslate" data-language="yaml">Watch for modifications and access in /home/user:
    incron.present:
        - user: root
        - path: /home/user
        - mask:
            - IN_MODIFY
            - IN_ACCESS
        - cmd: 'echo "$$ $@"'</pre> <p>Then the existing cron will be updated, but if the cron command is changed, then a new cron job will be added to the user's crontab.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.17.0.</span></p> </div> <dl class="py function"> <h3 id="salt.states.incron.absent"> salt.states.incron.absent(name, path, mask, cmd, user='root')</h3> <dd>
<p>Verifies that the specified incron job is absent for the specified user; only the name is matched when removing a incron job.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>Unique comment describing the entry</p> </dd> <dt>path</dt>
<dd>
<p>The path that should be watched</p> </dd> <dt>user</dt>
<dd>
<p>The name of the user who's crontab needs to be modified, defaults to the root user</p> </dd> <dt>mask</dt>
<dd>
<p>The mask of events that should be monitored for</p> </dd> <dt>cmd</dt>
<dd>
<p>The cmd that should be executed</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.incron.present"> salt.states.incron.present(name, path, mask, cmd, user='root')</h3> <dd>
<p>Verifies that the specified incron job is present for the specified user. For more advanced information about what exactly can be set in the cron timing parameters, check your incron system's documentation. Most Unix-like systems' incron documentation can be found via the incrontab man page: <code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">5</span> <span class="pre">incrontab</span></code>.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>Unique comment describing the entry</p> </dd> <dt>path</dt>
<dd>
<p>The path that should be watched</p> </dd> <dt>user</dt>
<dd>
<p>The name of the user who's crontab needs to be modified, defaults to the root user</p> </dd> <dt>mask</dt>
<dd>
<p>The mask of events that should be monitored for</p> </dd> <dt>cmd</dt>
<dd>
<p>The cmd that should be executed</p> </dd> </dl> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.incron.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.incron.html</a>
  </p>
</div>
