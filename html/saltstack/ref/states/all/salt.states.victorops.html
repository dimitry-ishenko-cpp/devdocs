<h1>salt.states.victorops</h1> <div class="section" id="create-an-event-in-victorops"> <h2>Create an Event in VictorOps</h2> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.0.</span></p> </div> <p>This state is useful for creating events on the VictorOps service during state runs.</p> <pre class="highlight-yaml notranslate" data-language="yaml">webserver-warning-message:
  victorops.create_event:
    - message_type: 'CRITICAL'
    - entity_id: 'webserver/diskspace'
    - state_message: 'Webserver diskspace is low.'</pre> <dl class="py function"> <h3 id="salt.states.victorops.create_event"> salt.states.victorops.create_event(name, message_type, routing_key='everyone', **kwargs)</h3> <dd>
<p>Create an event on the VictorOps service</p> <pre class="highlight-yaml notranslate" data-language="yaml">webserver-warning-message:
  victorops.create_event:
    - message_type: 'CRITICAL'
    - entity_id: 'webserver/diskspace'
    - state_message: 'Webserver diskspace is low.'

database-server-warning-message:
  victorops.create_event:
    - message_type: 'WARNING'
    - entity_id: 'db_server/load'
    - state_message: 'Database Server load is high.'
    - entity_is_host: True
    - entity_display_name: 'dbdserver.example.com'</pre> <p>The following parameters are required:</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>This is a short description of the event.</p> </dd> <dt>message_type</dt>
<dd>
<p>One of the following values: INFO, WARNING, ACKNOWLEDGEMENT, CRITICAL, RECOVERY.</p> </dd> </dl> <p>The following parameters are optional:</p> <blockquote> <div>
<dl class="simple"> <dt>routing_key</dt>
<dd>
<p>The key for where messages should be routed. By default, sent to 'everyone' route.</p> </dd> <dt>entity_id</dt>
<dd>
<p>The name of alerting entity. If not provided, a random name will be assigned.</p> </dd> <dt>timestamp</dt>
<dd>
<p>Timestamp of the alert in seconds since epoch. Defaults to the time the alert is received at VictorOps.</p> </dd> <dt>timestamp_fmt</dt>
<dd>
<p>The date format for the timestamp parameter. Defaults to ''%Y-%m-%dT%H:%M:%S'.</p> </dd> <dt>state_start_time</dt>
<dd>
<p>The time this entity entered its current state (seconds since epoch). Defaults to the time alert is received.</p> </dd> <dt>state_start_time_fmt</dt>
<dd>
<p>The date format for the timestamp parameter. Defaults to '%Y-%m-%dT%H:%M:%S'.</p> </dd> <dt>state_message</dt>
<dd>
<p>Any additional status information from the alert item.</p> </dd> <dt>entity_is_host</dt>
<dd>
<p>Used within VictorOps to select the appropriate display format for the incident.</p> </dd> <dt>entity_display_name</dt>
<dd>
<p>Used within VictorOps to display a human-readable name for the entity.</p> </dd> <dt>ack_message</dt>
<dd>
<p>A user entered comment for the acknowledgment.</p> </dd> <dt>ack_author</dt>
<dd>
<p>The user that acknowledged the incident.</p> </dd> </dl> </div>
</blockquote> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.victorops.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.victorops.html</a>
  </p>
</div>
