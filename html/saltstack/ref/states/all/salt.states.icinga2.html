<h1>salt.states.icinga2</h1> <div class="section" id="icinga2-state"> <h2>Icinga2 state</h2> <div class="versionadded"> <p><span class="versionmodified added">New in version 2017.7.0.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<ul class="simple"> <li><p>Icinga2 Python module</p></li> </ul> </dd> <dt class="field-even">configuration</dt> <dd class="field-even">
<p>See <a class="reference internal" href="../../modules/all/salt.modules.icinga2.html#module-salt.modules.icinga2" title="salt.modules.icinga2"><code class="xref py py-mod docutils literal notranslate"><span class="pre">salt.modules.icinga2</span></code></a> for setup instructions.</p> </dd> </dl> <p>The icinga2 module is used to execute commands. Its output may be stored in a file or in a grain.</p> <pre class="highlight-yaml notranslate" data-language="yaml">command_id:
  icinga2.generate_ticket:
    - name: domain.tld
    - output:  "/tmp/query_id.txt"</pre> <dl class="py function"> <h3 id="salt.states.icinga2.generate_cert"> salt.states.icinga2.generate_cert(name)</h3> <dd>
<p>Generate an icinga2 certificate and key on the client.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The domain name for which this certificate and key will be generated</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.icinga2.generate_ticket"> salt.states.icinga2.generate_ticket(name, output=None, grain=None, key=None, overwrite=True)</h3> <dd>
<p>Generate an icinga2 ticket on the master.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The domain name for which this ticket will be generated</p> </dd> <dt>output</dt>
<dd>
<p>grain: output in a grain other: the file to store results None: output to the result comment (default)</p> </dd> <dt>grain:</dt>
<dd>
<p>grain to store the output (need output=grain)</p> </dd> <dt>key:</dt>
<dd>
<p>the specified grain will be treated as a dictionary, the result of this state will be stored under the specified key.</p> </dd> <dt>overwrite:</dt>
<dd>
<p>The file or grain will be overwritten if it already exists (default)</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.icinga2.node_setup"> salt.states.icinga2.node_setup(name, master, ticket)</h3> <dd>
<p>Setup the icinga2 node.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The domain name for which this certificate will be saved</p> </dd> <dt>master</dt>
<dd>
<p>Icinga2 master node for which this certificate will be saved</p> </dd> <dt>ticket</dt>
<dd>
<p>Authentication ticket generated on icinga2 master</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.icinga2.request_cert"> salt.states.icinga2.request_cert(name, master, ticket, port='5665')</h3> <dd>
<p>Request CA certificate from master icinga2 node.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The domain name for which this certificate will be saved</p> </dd> <dt>master</dt>
<dd>
<p>Icinga2 master node for which this certificate will be saved</p> </dd> <dt>ticket</dt>
<dd>
<p>Authentication ticket generated on icinga2 master</p> </dd> <dt>port</dt>
<dd>
<p>Icinga2 port, defaults to 5665</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.icinga2.save_cert"> salt.states.icinga2.save_cert(name, master)</h3> <dd>
<p>Save the certificate on master icinga2 node.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The domain name for which this certificate will be saved</p> </dd> <dt>master</dt>
<dd>
<p>Icinga2 master node for which this certificate will be saved</p> </dd> </dl> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.icinga2.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.icinga2.html</a>
  </p>
</div>
