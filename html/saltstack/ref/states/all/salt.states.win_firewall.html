<h1>salt.states.win_firewall</h1> <p>State for configuring Windows Firewall</p> <dl class="py function"> <h3 id="salt.states.win_firewall.add_rule"> salt.states.win_firewall.add_rule(name, localport, protocol='tcp', action='allow', dir='in', remoteip='any')</h3> <dd>
<p>Add a new inbound or outbound rule to the firewall policy</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the rule. Must be unique and cannot be "all". Required.</p></li> <li><p><strong>localport</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The port the rule applies to. Must be a number between 0 and 65535. Can be a range. Can specify multiple ports separated by commas. Required.</p></li> <li>
<p><strong>protocol</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- </p>
<p>The protocol. Can be any of the following:</p> <ul> <li><p>A number between 0 and 255</p></li> <li><p>icmpv4</p></li> <li><p>icmpv6</p></li> <li><p>tcp</p></li> <li><p>udp</p></li> <li><p>any</p></li> </ul> </li> <li>
<p><strong>action</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- </p>
<p>The action the rule performs. Can be any of the following:</p> <ul> <li><p>allow</p></li> <li><p>block</p></li> <li><p>bypass</p></li> </ul> </li> <li><p><strong>dir</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The direction. Can be <code class="docutils literal notranslate"><span class="pre">in</span></code> or <code class="docutils literal notranslate"><span class="pre">out</span></code>.</p></li> <li>
<p><strong>remoteip</strong> (<em>Optional</em><em> [</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- </p>
<p>The remote IP. Can be any of the following:</p> <ul> <li><p>any</p></li> <li><p>localsubnet</p></li> <li><p>dns</p></li> <li><p>dhcp</p></li> <li><p>wins</p></li> <li><p>defaultgateway</p></li> <li><p>Any valid IPv4 address (192.168.0.12)</p></li> <li><p>Any valid IPv6 address (2002:9b3b:1a31:4:208:74ff:fe39:6c43)</p></li> <li><p>Any valid subnet (192.168.1.0/24)</p></li> <li><p>Any valid range of IP addresses (192.168.0.1-192.168.0.12)</p></li> <li><p>A list of valid IP addresses</p></li> </ul> <p>Can be combinations of the above separated by commas.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.6.</span></p> </div> </li> </ul> </dd> </dl> <p>Example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">open_smb_port:
  win_firewall.add_rule:
    - name: SMB (445)
    - localport: 445
    - protocol: tcp
    - action: allow</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.win_firewall.disabled"> salt.states.win_firewall.disabled(name='allprofiles')</h3> <dd>
<p>Disable all the firewall profiles (Windows only)</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>profile</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- </p>
<p>The name of the profile to disable. Default is <code class="docutils literal notranslate"><span class="pre">allprofiles</span></code>. Valid options are:</p> <ul class="simple"> <li><p>allprofiles</p></li> <li><p>domainprofile</p></li> <li><p>privateprofile</p></li> <li><p>publicprofile</p></li> </ul> </dd> </dl> <p>Example:</p> <pre class="highlight-yaml notranslate" data-language="yaml"># To disable the domain profile
disable_domain:
  win_firewall.disabled:
    - name: domainprofile

# To disable all profiles
disable_all:
  win_firewall.disabled:
    - name: allprofiles</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.win_firewall.enabled"> salt.states.win_firewall.enabled(name='allprofiles')</h3> <dd>
<p>Enable all the firewall profiles (Windows only)</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>profile</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- </p>
<p>The name of the profile to enable. Default is <code class="docutils literal notranslate"><span class="pre">allprofiles</span></code>. Valid options are:</p> <ul class="simple"> <li><p>allprofiles</p></li> <li><p>domainprofile</p></li> <li><p>privateprofile</p></li> <li><p>publicprofile</p></li> </ul> </dd> </dl> <p>Example:</p> <pre class="highlight-yaml notranslate" data-language="yaml"># To enable the domain profile
enable_domain:
  win_firewall.enabled:
    - name: domainprofile

# To enable all profiles
enable_all:
  win_firewall.enabled:
    - name: allprofiles</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.win_firewall.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.win_firewall.html</a>
  </p>
</div>
