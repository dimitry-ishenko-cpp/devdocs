<h1>salt.states.ansiblegate</h1> <div class="section" id="execution-of-ansible-modules-from-within-states"> <h2>Execution of Ansible modules from within states</h2> <p>With <cite>ansible.call</cite> these states allow individual Ansible module calls to be made via states. To call an Ansible module function use a <code class="xref py py-mod docutils literal notranslate"><span class="pre">module.run</span></code> state:</p> <pre class="highlight-yaml notranslate" data-language="yaml">some_set_of_tasks:
  ansible:
    - system.ping
    - packaging.os.zypper
      - name: emacs
      - state: installed</pre> <dl class="py class"> <dt id="salt.states.ansiblegate.AnsibleState"> <em class="property">class </em><code class="sig-prename descclassname">salt.states.ansiblegate.</code><code class="sig-name descname">AnsibleState</code>
</dt> <dd>
<p>Ansible state caller.</p> <dl class="py method"> <dt id="salt.states.ansiblegate.AnsibleState.get_args"> <code class="sig-name descname">get_args</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">argset</span></em><span class="sig-paren">)</span>
</dt> <dd>
<p>Get args and kwargs from the argset.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>argset</strong> -- </p> </dd> <dt class="field-even">Returns</dt>  </dl> </dd>
</dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.ansiblegate.playbooks"> salt.states.ansiblegate.playbooks(name, rundir=None, git_repo=None, git_kwargs=None, ansible_kwargs=None)</h3> <dd>
<p>Run Ansible Playbooks</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> -- path to playbook. This can be relative to rundir or the git repo</p></li> <li><p><strong>rundir</strong> -- location to run ansible-playbook from.</p></li> <li><p><strong>git_repo</strong> -- git repository to clone for ansible playbooks. This is cloned using the <cite>git.latest</cite> state, and is cloned to the <cite>rundir</cite> if specified, otherwise it is clone to the <cite>cache_dir</cite></p></li> <li><p><strong>git_kwargs</strong> -- extra kwargs to pass to <cite>git.latest</cite> state module besides the <cite>name</cite> and <cite>target</cite></p></li> <li><p><strong>ansible_kwargs</strong> -- extra kwargs to pass to <cite>ansible.playbooks</cite> execution module besides the <cite>name</cite> and <cite>target</cite></p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>Ansible playbook output.</p> </dd> </dl> <pre class="highlight-yaml notranslate" data-language="yaml">run nginx install:
  ansible.playbooks:
    - name: install.yml
    - git_repo: git://github.com/gituser/playbook.git
    - git_kwargs:
        rev: master</pre> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.ansiblegate.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.ansiblegate.html</a>
  </p>
</div>
