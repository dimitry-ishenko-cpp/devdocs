<h1>salt.states.libcloud_loadbalancer</h1> <div class="section" id="apache-libcloud-load-balancer-state"> <h2>Apache Libcloud Load Balancer State</h2> <p>Manage load balancers using libcloud</p> <blockquote> <div>
<dl class="field-list simple"> <dt class="field-odd">codeauthor</dt> <dd class="field-odd">
<p><code class="docutils literal notranslate"><span class="pre">Anthony</span> <span class="pre">Shaw</span> <span class="pre">&lt;anthonyshaw@apache.org&gt;</span></code></p> </dd> </dl> </div>
</blockquote> <p>Apache Libcloud load balancer management for a full list of supported clouds, see <a class="reference external" href="http://libcloud.readthedocs.io/en/latest/loadbalancer/supported_providers.html">http://libcloud.readthedocs.io/en/latest/loadbalancer/supported_providers.html</a></p> <p>Clouds include Amazon ELB, ALB, Google, Aliyun, CloudStack, Softlayer</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.0.</span></p> </div> <dl class="field-list"> <dt class="field-odd">configuration</dt> <dd class="field-odd">
<p>This module uses a configuration profile for one or multiple Cloud providers</p> <pre class="highlight-yaml notranslate" data-language="yaml">libcloud_loadbalancer:
    profile_test1:
      driver: gce
      key: GOOG0123456789ABCXYZ
      secret: mysecret
    profile_test2:
      driver: alb
      key: 12345
      secret: mysecret</pre> </dd> </dl> <p>Example:</p> <p>Using States to deploy a load balancer with extended arguments to specify region</p> <pre class="highlight-yaml notranslate" data-language="yaml">lb_test:
    libcloud_loadbalancer.balancer_present:
        - name: example
        - port: 80
        - protocol: http
        - profile: google
        - ex_region: us-east1</pre> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>apache-libcloud</p> </dd> </dl> <dl class="py function"> <h3 id="salt.states.libcloud_loadbalancer.balancer_absent"> salt.states.libcloud_loadbalancer.balancer_absent(name, profile, **libcloud_kwargs)</h3> <dd>
<p>Ensures a load balancer is absent.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>) -- Load Balancer name</p></li> <li><p><strong>profile</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>) -- The profile key</p></li> </ul> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.libcloud_loadbalancer.balancer_present"> salt.states.libcloud_loadbalancer.balancer_present(name, port, protocol, profile, algorithm=None, members=None, **libcloud_kwargs)</h3> <dd>
<p>Ensures a load balancer is present.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>) -- Load Balancer name</p></li> <li><p><strong>port</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>) -- Port the load balancer should listen on, defaults to 80</p></li> <li><p><strong>protocol</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>) -- Loadbalancer protocol, defaults to http.</p></li> <li><p><strong>profile</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>) -- The profile key</p></li> <li><p><strong>algorithm</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>) -- Load balancing algorithm, defaults to ROUND_ROBIN. See Algorithm type in Libcloud documentation for a full listing.</p></li> <li><p><strong>members</strong> (<code class="docutils literal notranslate"><span class="pre">list</span></code> of <code class="docutils literal notranslate"><span class="pre">dict</span></code> (ip, port)) -- An optional list of members to create on deployment</p></li> </ul> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.libcloud_loadbalancer.member_absent"> salt.states.libcloud_loadbalancer.member_absent(ip, port, balancer_id, profile, **libcloud_kwargs)</h3> <dd>
<p>Ensure a load balancer member is absent, based on IP and Port</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>ip</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>) -- IP address for the member</p></li> <li><p><strong>port</strong> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) -- Port for the member</p></li> <li><p><strong>balancer_id</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>) -- id of a load balancer you want to detach the member from</p></li> <li><p><strong>profile</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>) -- The profile key</p></li> </ul> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.libcloud_loadbalancer.member_present"> salt.states.libcloud_loadbalancer.member_present(ip, port, balancer_id, profile, **libcloud_kwargs)</h3> <dd>
<p>Ensure a load balancer member is present</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>ip</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>) -- IP address for the new member</p></li> <li><p><strong>port</strong> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) -- Port for the new member</p></li> <li><p><strong>balancer_id</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>) -- id of a load balancer you want to attach the member to</p></li> <li><p><strong>profile</strong> (<code class="docutils literal notranslate"><span class="pre">str</span></code>) -- The profile key</p></li> </ul> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.libcloud_loadbalancer.state_result"> salt.states.libcloud_loadbalancer.state_result(result, message, name, changes=None)</h3> 
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.libcloud_loadbalancer.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.libcloud_loadbalancer.html</a>
  </p>
</div>
