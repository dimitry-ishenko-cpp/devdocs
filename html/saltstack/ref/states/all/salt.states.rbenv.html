<h1>salt.states.rbenv</h1> <div class="section" id="managing-ruby-installations-with-rbenv"> <h2>Managing Ruby installations with rbenv</h2> <p>This module is used to install and manage ruby installations with rbenv and the ruby-build plugin. Different versions of ruby can be installed, and uninstalled. Rbenv will be installed automatically the first time it is needed and can be updated later. This module will <em>not</em> automatically install packages which rbenv will need to compile the versions of ruby. If your version of ruby fails to install, refer to the ruby-build documentation to verify you are not missing any dependencies: <a class="reference external" href="https://github.com/rbenv/ruby-build/wiki">https://github.com/rbenv/ruby-build/wiki</a></p> <p>If rbenv is run as the root user then it will be installed to /usr/local/rbenv, otherwise it will be installed to the users ~/.rbenv directory. To make rbenv available in the shell you may need to add the rbenv/shims and rbenv/bin directories to the users PATH. If you are installing as root and want other users to be able to access rbenv then you will need to add RBENV_ROOT to their environment.</p> <p>The following state configuration demonstrates how to install Ruby 1.9.x and 2.x using rbenv on Ubuntu/Debian:</p> <pre class="highlight-yaml notranslate" data-language="yaml">rbenv-deps:
  pkg.installed:
    - names:
      - bash
      - git
      - openssl
      - libssl-dev
      - make
      - curl
      - autoconf
      - bison
      - build-essential
      - libffi-dev
      - libyaml-dev
      - libreadline6-dev
      - zlib1g-dev
      - libncurses5-dev

ruby-1.9.3-p429:
  rbenv.absent:
    - require:
      - pkg: rbenv-deps

ruby-2.0.0-p598:
  rbenv.installed:
    - default: True
    - require:
      - pkg: rbenv-deps</pre> <dl class="py function"> <h3 id="salt.states.rbenv.absent"> salt.states.rbenv.absent(name, user=None)</h3> <dd>
<p>Verify that the specified ruby is not installed with rbenv. Rbenv is installed if necessary.</p> <dl> <dt>name</dt>
<dd>
<p>The version of ruby to uninstall</p> </dd> <dt>user: None</dt>
<dd>
<p>The user to run rbenv as.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.17.0.</span></p> </div> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.16.0.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.rbenv.install_rbenv"> salt.states.rbenv.install_rbenv(name, user=None)</h3> <dd>
<p>Install rbenv if not installed. Allows you to require rbenv be installed prior to installing the plugins. Useful if you want to install rbenv plugins via the git or file modules and need them installed before installing any rubies.</p> <p>Use the rbenv.root configuration option to set the path for rbenv if you want a system wide install that is not in a user home dir.</p> <dl class="simple"> <dt>user: None</dt>
<dd>
<p>The user to run rbenv as.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.rbenv.installed"> salt.states.rbenv.installed(name, default=False, user=None)</h3> <dd>
<p>Verify that the specified ruby is installed with rbenv. Rbenv is installed if necessary.</p> <dl> <dt>name</dt>
<dd>
<p>The version of ruby to install</p> </dd> <dt>default<span class="classifier">False</span>
</dt>
<dd>
<p>Whether to make this ruby the default.</p> </dd> <dt>user: None</dt>
<dd>
<p>The user to run rbenv as.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.17.0.</span></p> </div> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.16.0.</span></p> </div> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.rbenv.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.rbenv.html</a>
  </p>
</div>
