<h1>salt.states.host</h1> <div class="section" id="management-of-addresses-and-names-in-hosts-file"> <h2>Management of addresses and names in hosts file</h2> <p>The <code class="docutils literal notranslate"><span class="pre">/etc/hosts</span></code> file can be managed to contain definitions for specific hosts:</p> <pre class="highlight-yaml notranslate" data-language="yaml">salt-master:
  host.present:
    - ip: 192.168.0.42</pre> <p>Or using the <code class="docutils literal notranslate"><span class="pre">names</span></code> directive, you can put several names for the same IP. (Do not try one name with space-separated values).</p> <pre class="highlight-yaml notranslate" data-language="yaml">server1:
  host.present:
    - ip: 192.168.0.42
    - names:
      - server1
      - florida</pre> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Changing the <code class="docutils literal notranslate"><span class="pre">names</span></code> in <code class="docutils literal notranslate"><span class="pre">host.present</span></code> does not cause an update to remove the old entry.</p> </div> <pre class="highlight-yaml notranslate" data-language="yaml">server1:
  host.present:
    - ip:
      - 192.168.0.42
      - 192.168.0.43
      - 192.168.0.44
    - names:
      - server1</pre> <p>You can replace all existing names for a particular IP address:</p> <pre class="highlight-yaml notranslate" data-language="yaml">127.0.1.1:
  host.only:
    - hostnames:
      - foo.example.com
      - foo</pre> <p>Or delete all existing names for an address:</p> <pre class="highlight-yaml notranslate" data-language="yaml">203.0.113.25:
    host.only:
      - hostnames: []</pre> <p>You can also include comments:</p> <pre class="highlight-yaml notranslate" data-language="yaml">server1:
  host.present:
    - ip: 192.168.0.42
    - names:
      - server1
      - florida
    - comment: A very important comment</pre> <dl class="py function"> <h3 id="salt.states.host.absent"> salt.states.host.absent(name, ip)</h3> <dd>
<p>Ensure that the named host is absent</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The host to remove</p> </dd> <dt>ip</dt>
<dd>
<p>The ip addr(s) of the host to remove</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.host.only"> salt.states.host.only(name, hostnames)</h3> <dd>
<p>Ensure that only the given hostnames are associated with the given IP address.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The IP address to associate with the given hostnames.</p> </dd> <dt>hostnames</dt>
<dd>
<p>Either a single hostname or a list of hostnames to associate with the given IP address in the given order. Any other hostname associated with the IP address is removed. If no hostnames are specified, all hostnames associated with the given IP address are removed.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.host.present"> salt.states.host.present(name, ip, comment='', clean=False)</h3> <dd>
<p>Ensures that the named host is present with the given ip</p> <dl> <dt>name</dt>
<dd>
<p>The host to assign an ip to</p> </dd> <dt>ip</dt>
<dd>
<p>The ip addr(s) to apply to the host. Can be a single IP or a list of IP addresses.</p> </dd> <dt>comment</dt>
<dd>
<p>A comment to include for the host entry</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd> <dt>clean</dt>
<dd>
<p>Remove any entries which don't match those configured in the <code class="docutils literal notranslate"><span class="pre">ip</span></code> option. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.4.</span></p> </div> </dd> </dl> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.host.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.host.html</a>
  </p>
</div>
