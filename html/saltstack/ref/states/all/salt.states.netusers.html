<h1>salt.states.netusers</h1> <div class="section" id="network-users"> <h2>Network Users</h2> <p>Manage the users configuration on network devices via the NAPALM proxy.</p> <dl class="field-list simple"> <dt class="field-odd">codeauthor</dt> <dd class="field-odd">
<p>Mircea Ulinic &lt;<a class="reference external" href="mailto:ping%40mirceaulinic.net.html">ping<span>@</span>mirceaulinic<span>.</span>net</a>&gt;</p> </dd> <dt class="field-even">maturity</dt> <dd class="field-even">
<p>new</p> </dd> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>napalm</p> </dd> <dt class="field-even">platform</dt> <dd class="field-even">
<p>unix</p> </dd> </dl> <div class="section" id="dependencies"> <h3>Dependencies</h3> <ul class="simple"> <li><p><a class="reference internal" href="../../proxy/all/salt.proxy.napalm.html#module-salt.proxy.napalm" title="salt.proxy.napalm"><code class="xref py py-mod docutils literal notranslate"><span class="pre">NAPALM</span> <span class="pre">proxy</span> <span class="pre">minion</span></code></a></p></li> <li><p><a class="reference internal" href="../../modules/all/salt.modules.napalm_users.html#module-salt.modules.napalm_users" title="salt.modules.napalm_users"><code class="xref py py-mod docutils literal notranslate"><span class="pre">Users</span> <span class="pre">configuration</span> <span class="pre">management</span> <span class="pre">module</span></code></a></p></li> </ul> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <dl class="py function"> <h3 id="salt.states.netusers.managed"> salt.states.netusers.managed(name, users=None, defaults=None)</h3> <dd>
<p>Manages the configuration of the users on the device, as specified in the state SLS file. Users not defined in that file will be removed whilst users not configured on the device, will be added.</p> <p>SLS Example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">netusers_example:
    netusers.managed:
         - users:
            admin:
                level: 15
                password: $1$knmhgPPv$g8745biu4rb.Zf.IT.F/U1
                sshkeys: []
            restricted:
                level: 1
                password: $1$j34j5k4b$4d5SVjTiz1l.Zf.IT.F/K7
            martin:
                level: 15
                password: ''
                sshkeys:
                    - ssh-dss AAAAB3NzaC1kc3MAAACBAK9dP3KariMlM/JmFW9rTSm5cXs4nR0+o6fTHP9o+bOLXMBTP8R4vwWHh0w
                        JPjQmJYafAqZTnlgi0srGjyifFwPtODppDWLCgLe2M4LXnu3OMqknr54w344zPHP3iFwWxHrBrZKtCjO8LhbWCa+
                        X528+i87t6r5e4ersdfxgchvjbknlio87t6r5drcfhgjhbknio8976tycv7t86ftyiu87Oz1nKsKuNzm2csoUQlJ
                        trmRfpjsOPNookmOz5wG0YxhwDmKeo6fWK+ATk1OiP+QT39fn4G77j8o+e4WAwxM570s35Of/vV0zoOccj753sXn
                        pvJenvwpM2H6o3a9ALvehAJKWodAgZT7X8+iu786r5drtycghvjbiu78t+wAAAIBURwSPZVElXe+9a43sF6M4ysT
                        7Xv+6wTsa8q86E3+RYyu8O2ObI2kwNLC3/HTgFniE/YqRG+WJac81/VHWQNP822gns8RVrWKjqBktmQoEm7z5yy0
                        bkjui78675dytcghvjkoi9y7t867ftcuvhbuu9t78gy/v+zvMmv8KvQgHg
            jonathan:
                level: 15
                password: ''
                sshkeys:
                    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDcgxE6HZF/xjFtIt0thEDKPjFJxW9BpZtTVstYbDgGR9zPkHG
                        ZJT/j345jk345jk453jk43545j35nl3kln34n5kl4ghv3/JzWt/0Js5KZp/51KRNCs9O4t07qaoqwpLB15GwLfEX
                        Bx9dW26zc4O+hi6754trxcfghvjbo98765drt/LYIEg0KSQPWyJEK1g31gacbxN7Ab006xeHh7rv7HtXF6zH3WId
                        Uhq9rtdUag6kYnv6qvjG7sbCyHGYu5vZB7GytnNuVNbZuI+RdFvmHSnErV9HCu9xZBq6DBb+sESMS4s7nFcsruMo
                        edb+BAc3aww0naeWpogjSt+We7y2N</pre> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'edge01.kix01' state.sls router.users</pre> <p>Output example (raw python - can be reused in other modules):</p> <pre class="highlight-python notranslate" data-language="python">{
    'netusers_|-netusers_example_|-netusers_example_|-managed': {
        'comment': 'Configuration updated!',
        'name': 'netusers_example',
        'start_time': '10:57:08.678811',
        '__id__': 'netusers_example',
        'duration': 1620.982,
        '__run_num__': 0,
        'changes': {
            'updated': {
                'admin': {
                    'level': 15
                },
                'restricted': {
                    'level': 1
                },
                'martin': {
                    'sshkeys': [
                        'ssh-dss AAAAB3NzaC1kc3MAAACBAK9dP3KariMlM/JmFW9rTSm5cXs4nR0+o6fTHP9o+bOLXMBTP8R4vwWHh0w
                        JPjQmJYafAqZTnlgi0srGjyifFwPtODppDWLCgLe2M4LXnu3OMqknr54w344zPHP3iFwWxHrBrZKtCjO8LhbWCa+
                        X528+i87t6r5e4ersdfxgchvjbknlio87t6r5drcfhgjhbknio8976tycv7t86ftyiu87Oz1nKsKuNzm2csoUQlJ
                        trmRfpjsOPNookmOz5wG0YxhwDmKeo6fWK+ATk1OiP+QT39fn4G77j8o+e4WAwxM570s35Of/vV0zoOccj753sXn
                        pvJenvwpM2H6o3a9ALvehAJKWodAgZT7X8+iu786r5drtycghvjbiu78t+wAAAIBURwSPZVElXe+9a43sF6M4ysT
                        7Xv+6wTsa8q86E3+RYyu8O2ObI2kwNLC3/HTgFniE/YqRG+WJac81/VHWQNP822gns8RVrWKjqBktmQoEm7z5yy0
                        bkjui78675dytcghvjkoi9y7t867ftcuvhbuu9t78gy/v+zvMmv8KvQgHg'
                    ]
                }
            },
            'added': {
                'jonathan': {
                    'password': '',
                    'sshkeys': [
                        'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDcgxE6HZF/xjFtIt0thEDKPjFJxW9BpZtTVstYbDgGR9zPkHG
                        ZJT/j345jk345jk453jk43545j35nl3kln34n5kl4ghv3/JzWt/0Js5KZp/51KRNCs9O4t07qaoqwpLB15GwLfEX
                        Bx9dW26zc4O+hi6754trxcfghvjbo98765drt/LYIEg0KSQPWyJEK1g31gacbxN7Ab006xeHh7rv7HtXF6zH3WId
                        Uhq9rtdUag6kYnv6qvjG7sbCyHGYu5vZB7GytnNuVNbZuI+RdFvmHSnErV9HCu9xZBq6DBb+sESMS4s7nFcsruMo
                        edb+BAc3aww0naeWpogjSt+We7y2N'
                    ],
                    'level': 15
                }
            },
            'removed': {
            }
        },
        'result': True
    }
}</pre> <p>CLI Output:</p> <pre class="highlight-bash notranslate" data-language="bash">edge01.kix01:
    ----------
              ID: netusers_example
        Function: netusers.managed
          Result: True
         Comment: Configuration updated!
         Started: 11:03:31.957725
        Duration: 1220.435 ms
         Changes:
                  ----------
                  added:
                      ----------
                      jonathan:
                          ----------
                          level:
                              15
                          password:
                          sshkeys:
                              - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDcgxE6HZF/xjFtIt0thEDKPjFJxW9BpZtTVstYbDgG
                              R9zPkHGZJT/j345jk345jk453jk43545j35nl3kln34n5kl4ghv3/JzWt/0Js5KZp/51KRNCs9O4t07qao
                              qwpLB15GwLfEXBx9dW26zc4O+hi6754trxcfghvjbo98765drt/LYIEg0KSQPWyJEK1g31gacbxN7Ab006
                              xeHh7rv7HtXF6zH3WIdUhq9rtdUag6kYnv6qvjG7sbCyHGYu5vZB7GytnNuVNbZuI+RdFvmHSnErV9HCu9
                              xZBq6DBb+sESMS4s7nFcsruMoedb+BAc3aww0naeWpogjSt+We7y2N
                  removed:
                      ----------
                  updated:
                      ----------
                      martin:
                          ----------
                          sshkeys:
                              - ssh-dss AAAAB3NzaC1kc3MAAACBAK9dP3KariMlM/JmFW9rTSm5cXs4nR0+o6fTHP9o+bOLXMBTP8R4
                              vwWHh0wJPjQmJYafAqZTnlgi0srGjyifFwPtODppDWLCgLe2M4LXnu3OMqknr54w344zPHP3iFwWxHrBrZ
                              KtCjO8LhbWCa+X528+i87t6r5e4ersdfxgchvjbknlio87t6r5drcfhgjhbknio8976tycv7t86ftyiu87
                              Oz1nKsKuNzm2csoUQlJtrmRfpjsOPNookmOz5wG0YxhwDmKeo6fWK+ATk1OiP+QT39fn4G77j8o+e4WAwx
                              M570s35Of/vV0zoOccj753sXnpvJenvwpM2H6o3a9ALvehAJKWodAgZT7X8+iu786r5drtycghvjbiu78t
                              +wAAAIBURwSPZVElXe+9a43sF6M4ysT7Xv+6wTsa8q86E3+RYyu8O2ObI2kwNLC3/HTgFniE/YqRG+WJac
                              81/VHWQNP822gns8RVrWKjqBktmQoEm7z5yy0bkjui78675dytcghvjkoi9y7t867ftcuvhbuu9t78gy/v
                              +zvMmv8KvQgHg
                      admin:
                          ----------
                          level:
                              15
                      restricted:
                          ----------
                          level:
                              1
    Summary for edge01.kix01
    ------------
    Succeeded: 1 (changed=1)
    Failed:    0
    ------------
    Total states run:     1
    Total run time:   1.220 s</pre> </dd>
</dl> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.netusers.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.netusers.html</a>
  </p>
</div>
