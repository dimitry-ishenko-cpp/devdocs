<h1>salt.states.npm</h1> <div class="section" id="installation-of-npm-packages"> <h2>Installation of NPM Packages</h2> <p>These states manage the installed packages for node.js using the Node Package Manager (npm). Note that npm must be installed for these states to be available, so npm states should include a requisite to a pkg.installed state for the package which provides npm (simply <code class="docutils literal notranslate"><span class="pre">npm</span></code> in most cases). Example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">npm:
  pkg.installed

yaml:
  npm.installed:
    - require:
      - pkg: npm</pre> <dl class="py function"> <h3 id="salt.states.npm.bootstrap"> salt.states.npm.bootstrap(name, user=None, silent=True)</h3> <dd>
<p>Bootstraps a node.js application.</p> <p>Will execute 'npm install --json' on the specified directory.</p> <dl> <dt>user</dt>
<dd>
<p>The user to run NPM with</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.17.0.</span></p> </div> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.npm.cache_cleaned"> salt.states.npm.cache_cleaned(name=None, user=None, force=False)</h3> <dd>
<p>Ensure that the given package is not cached.</p> <p>If no package is specified, this ensures the entire cache is cleared.</p> <dl> <dt>name</dt>
<dd>
<p>The name of the package to remove from the cache, or None for all packages</p> </dd> <dt>user</dt>
<dd>
<p>The user to run NPM with</p> </dd> <dt>force</dt>
<dd>
<p>Force cleaning of cache. Required for npm@5 and greater</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.6.</span></p> </div> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.npm.installed"> salt.states.npm.installed(name, pkgs=None, dir=None, user=None, force_reinstall=False, registry=None, env=None)</h3> <dd>
<p>Verify that the given package is installed and is at the correct version (if specified).</p> <pre class="highlight-yaml notranslate" data-language="yaml">coffee-script:
  npm.installed:
    - user: someuser

coffee-script@1.0.1:
  npm.installed: []</pre> <dl> <dt>name</dt>
<dd>
<p>The package to install</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2014.7.2: </span>This parameter is no longer lowercased by salt so that case-sensitive NPM package names will work.</p> </div> </dd> <dt>pkgs</dt>
<dd>
<p>A list of packages to install with a single npm invocation; specifying this argument will ignore the <code class="docutils literal notranslate"><span class="pre">name</span></code> argument</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.7.0.</span></p> </div> </dd> <dt>dir</dt>
<dd>
<p>The target directory in which to install the package, or None for global installation</p> </dd> <dt>user</dt>
<dd>
<p>The user to run NPM with</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.17.0.</span></p> </div> </dd> <dt>registry</dt>
<dd>
<p>The NPM registry from which to install the package</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.7.0.</span></p> </div> </dd> <dt>env</dt>
<dd>
<p>A list of environment variables to be set prior to execution. The format is the same as the <a class="reference internal" href="salt.states.cmd.html#salt.states.cmd.run" title="salt.states.cmd.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">cmd.run</span></code></a>. state function.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.7.0.</span></p> </div> </dd> <dt>force_reinstall</dt>
<dd>
<p>Install the package even if it is already installed</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.npm.removed"> salt.states.npm.removed(name, dir=None, user=None)</h3> <dd>
<p>Verify that the given package is not installed.</p> <dl> <dt>dir</dt>
<dd>
<p>The target directory in which to install the package, or None for global installation</p> </dd> <dt>user</dt>
<dd>
<p>The user to run NPM with</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.17.0.</span></p> </div> </dd> </dl> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.npm.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.npm.html</a>
  </p>
</div>
