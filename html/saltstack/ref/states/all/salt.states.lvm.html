<h1>salt.states.lvm</h1> <div class="section" id="management-of-linux-logical-volumes"> <h2>Management of Linux logical volumes</h2> <p>A state module to manage LVMs</p> <pre class="highlight-yaml notranslate" data-language="yaml">/dev/sda:
  lvm.pv_present

my_vg:
  lvm.vg_present:
    - devices: /dev/sda

lvroot:
  lvm.lv_present:
    - vgname: my_vg
    - size: 10G
    - stripes: 5
    - stripesize: 8K</pre> <dl class="py function"> <h3 id="salt.states.lvm.lv_absent"> salt.states.lvm.lv_absent(name, vgname=None)</h3> <dd>
<p>Remove a given existing Logical Volume from a named existing volume group</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The Logical Volume to remove</p> </dd> <dt>vgname</dt>
<dd>
<p>The name of the Volume Group on which the Logical Volume resides</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.lvm.lv_present"> salt.states.lvm.lv_present(name, vgname=None, size=None, extents=None, snapshot=None, pv='', thinvolume=False, thinpool=False, force=False, resizefs=False, **kwargs)</h3> <dd>
<p>Ensure that a Logical Volume is present, creating it if absent.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the Logical Volume</p> </dd> <dt>vgname</dt>
<dd>
<p>The name of the Volume Group on which the Logical Volume resides</p> </dd> <dt>size</dt>
<dd>
<p>The size of the Logical Volume in megabytes, or use a suffix such as S, M, G, T, P for 512 byte sectors, megabytes, gigabytes or terabytes respectively. The suffix is case insensitive.</p> </dd> <dt>extents</dt>
<dd>
<p>The number of logical extents allocated to the Logical Volume It can be a percentage allowed by lvcreate's syntax, in this case it will set the Logical Volume initial size and won't be resized.</p> </dd> <dt>snapshot</dt>
<dd>
<p>The name of the snapshot</p> </dd> <dt>pv</dt>
<dd>
<p>The Physical Volume to use</p> </dd> <dt>kwargs</dt>
<dd>
<p>Any supported options to lvcreate. See <a class="reference internal" href="../../modules/all/salt.modules.linux_lvm.html#module-salt.modules.linux_lvm" title="salt.modules.linux_lvm"><code class="xref py py-mod docutils literal notranslate"><span class="pre">linux_lvm</span></code></a> for more details.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <dl class="simple"> <dt>thinvolume</dt>
<dd>
<p>Logical Volume is thinly provisioned</p> </dd> <dt>thinpool</dt>
<dd>
<p>Logical Volume is a thin pool</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.0.</span></p> </div> <dl class="simple"> <dt>force</dt>
<dd>
<p>Assume yes to all prompts</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3002.0.</span></p> </div> <dl class="simple"> <dt>resizefs</dt>
<dd>
<p>Use fsadm to resize the logical volume filesystem if needed</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.lvm.pv_absent"> salt.states.lvm.pv_absent(name)</h3> <dd>
<p>Ensure that a Physical Device is not being used by lvm</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The device name to initialize.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.lvm.pv_present"> salt.states.lvm.pv_present(name, **kwargs)</h3> <dd>
<p>Set a Physical Device to be used as an LVM Physical Volume</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The device name to initialize.</p> </dd> <dt>kwargs</dt>
<dd>
<p>Any supported options to pvcreate. See <a class="reference internal" href="../../modules/all/salt.modules.linux_lvm.html#module-salt.modules.linux_lvm" title="salt.modules.linux_lvm"><code class="xref py py-mod docutils literal notranslate"><span class="pre">linux_lvm</span></code></a> for more details.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.lvm.vg_absent"> salt.states.lvm.vg_absent(name)</h3> <dd>
<p>Remove an LVM volume group</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The volume group to remove</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.lvm.vg_present"> salt.states.lvm.vg_present(name, devices=None, **kwargs)</h3> <dd>
<p>Create an LVM Volume Group</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The Volume Group name to create</p> </dd> <dt>devices</dt>
<dd>
<p>A list of devices that will be added to the Volume Group</p> </dd> <dt>kwargs</dt>
<dd>
<p>Any supported options to vgcreate. See <a class="reference internal" href="../../modules/all/salt.modules.linux_lvm.html#module-salt.modules.linux_lvm" title="salt.modules.linux_lvm"><code class="xref py py-mod docutils literal notranslate"><span class="pre">linux_lvm</span></code></a> for more details.</p> </dd> </dl> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.lvm.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.lvm.html</a>
  </p>
</div>
