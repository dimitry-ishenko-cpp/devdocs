<h1>salt.states.hg</h1> <div class="section" id="interaction-with-mercurial-repositories"> <h2>Interaction with Mercurial repositories</h2> <p>Before using hg over ssh, make sure the remote host fingerprint already exists in ~/.ssh/known_hosts, and the remote host has this host's public key.</p> <pre class="highlight-yaml notranslate" data-language="yaml">https://bitbucket.org/example_user/example_repo:
    hg.latest:
      - rev: tip
      - target: /tmp/example_repo</pre> <dl class="py function"> <h3 id="salt.states.hg.latest"> salt.states.hg.latest(name, rev=None, target=None, clean=False, user=None, identity=None, force=False, opts=False, update_head=True)</h3> <dd>
<p>Make sure the repository is cloned to the given directory and is up to date</p> <dl> <dt>name</dt>
<dd>
<p>Address of the remote repository as passed to "hg clone"</p> </dd> <dt>rev</dt>
<dd>
<p>The remote branch, tag, or revision hash to clone/pull</p> </dd> <dt>target</dt>
<dd>
<p>Target destination directory path on minion to clone into</p> </dd> <dt>clean</dt>
<dd>
<p>Force a clean update with -C (Default: False)</p> </dd> <dt>user</dt>
<dd>
<p>Name of the user performing repository management operations</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.17.0.</span></p> </div> </dd> <dt>identity</dt>
<dd>
<p>Private SSH key on the minion server for authentication (<a class="reference external" href="#">ssh://</a>)</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.5.0.</span></p> </div> </dd> <dt>force</dt>
<dd>
<p>Force hg to clone into pre-existing directories (deletes contents)</p> </dd> <dt>opts</dt>
<dd>
<p>Include additional arguments and options to the hg command line</p> </dd> <dt>update_head</dt>
<dd>
<p>Should we update the head if new changes are found? Defaults to True</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2017.7.0.</span></p> </div> </dd> </dl> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.hg.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.hg.html</a>
  </p>
</div>
