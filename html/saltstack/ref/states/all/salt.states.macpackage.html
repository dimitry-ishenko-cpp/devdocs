<h1>salt.states.macpackage</h1> <div class="section" id="installing-of-mac-pkg-files"> <h2>Installing of mac pkg files</h2> <p>Install any kind of pkg, dmg or app file on macOS:</p> <pre class="highlight-yaml notranslate" data-language="yaml">/mnt/test.pkg:
  macpackage.installed:
    - store: True

/mnt/test.dmg:
  macpackage.installed:
    - dmg: True

/mnt/xcode.dmg:
  macpackage.installed:
    - dmg: True
    - app: True
    - target: /Applications/Xcode.app
    - version_check: xcodebuild -version=Xcode 7.1\n.*7B91b</pre> <dl class="py function"> <h3 id="salt.states.macpackage.installed"> salt.states.macpackage.installed(name, target='LocalSystem', dmg=False, store=False, app=False, mpkg=False, force=False, allow_untrusted=False, version_check=None)</h3> <dd>
<p>Install a Mac OS Package from a pkg or dmg file, if given a dmg file it will first be mounted in a temporary location</p> <dl> <dt>name</dt>
<dd>
<p>The pkg or dmg file to install</p> </dd> <dt>target</dt>
<dd>
<p>The location in which to install the package. This can be a path or LocalSystem</p> </dd> <dt>dmg</dt>
<dd>
<p>Is the given file a dmg file?</p> </dd> <dt>store</dt>
<dd>
<p>Should the pkg be installed as if it was from the Mac OS Store?</p> </dd> <dt>app</dt>
<dd>
<p>Is the file a .app? If so then we'll just copy that to /Applications/ or the given target</p> </dd> <dt>mpkg</dt>
<dd>
<p>Is the file a .mpkg? If so then we'll check all of the .pkg files found are installed</p> </dd> <dt>force</dt>
<dd>
<p>Force the package to be installed even if its already been found installed</p> </dd> <dt>allow_untrusted</dt>
<dd>
<p>Allow the installation of untrusted packages</p> </dd> <dt>version_check</dt>
<dd>
<p>The command and version that we want to check against, the version number can use regex.</p> <pre class="highlight-yaml notranslate" data-language="yaml">version_check: python --version_check=2.7.[0-9]</pre> </dd> </dl> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.macpackage.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.macpackage.html</a>
  </p>
</div>
