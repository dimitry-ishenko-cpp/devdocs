<h1>salt.states.lxd_image</h1> <p>Manage LXD images.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2019.2.0.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">maintainer</dt> <dd class="field-odd">
<p>Ren√© Jochum &lt;<a class="reference external" href="mailto:rene%40jochums.at.html">rene<span>@</span>jochums<span>.</span>at</a>&gt;</p> </dd> <dt class="field-even">maturity</dt> <dd class="field-even">
<p>new</p> </dd> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>python-pylxd</p> </dd> <dt class="field-even">platform</dt> <dd class="field-even">
<p>Linux</p> </dd> </dl> <dl class="py function"> <h3 id="salt.states.lxd_image.absent"> salt.states.lxd_image.absent(name, remote_addr=None, cert=None, key=None, verify_cert=True)</h3> <dd>
<dl> <dt>name :</dt>
<dd>
<p>An alias or fingerprint of the image to check and delete.</p> </dd> <dt>remote_addr :</dt>
<dd>
<p>An URL to a remote Server, you also have to give cert and key if you provide remote_addr!</p> <dl class="simple"> <dt>Examples:</dt>
<dd>
<p><a class="reference external" href="https://myserver.lan:8443">https://myserver.lan:8443</a> /var/lib/mysocket.sock</p> </dd> </dl> </dd> <dt>cert :</dt>
<dd>
<p>PEM Formatted SSL Zertifikate.</p> <dl class="simple"> <dt>Examples:</dt>
<dd>
<p>~/.config/lxc/client.crt</p> </dd> </dl> </dd> <dt>key :</dt>
<dd>
<p>PEM Formatted SSL Key.</p> <dl class="simple"> <dt>Examples:</dt>
<dd>
<p>~/.config/lxc/client.key</p> </dd> </dl> </dd> <dt>verify_cert<span class="classifier">True</span>
</dt>
<dd>
<p>Wherever to verify the cert, this is by default True but in the most cases you want to set it off as LXD normally uses self-signed certificates.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.lxd_image.present"> salt.states.lxd_image.present(name, source, aliases=None, public=None, auto_update=None, remote_addr=None, cert=None, key=None, verify_cert=True)</h3> <dd>
<p>Ensure an image exists, copy it else from source</p> <dl> <dt>name :</dt>
<dd>
<p>An alias of the image, this is used to check if the image exists and it will be added as alias to the image on copy/create.</p> </dd> <dt>source :</dt>
<dd>
<p>Source dict.</p> <p>For an LXD to LXD copy:</p> <pre class="highlight-yaml notranslate" data-language="yaml">source:
    type: lxd
    name: ubuntu/xenial/amd64  # This can also be a fingerprint.
    remote_addr: https://images.linuxcontainers.org:8443
    cert: ~/.config/lxd/client.crt
    key: ~/.config/lxd/client.key
    verify_cert: False</pre> <p>From file:</p> <pre class="highlight-yaml notranslate" data-language="yaml">source:
    type: file
    filename: salt://lxd/files/busybox.tar.xz
    saltenv: base</pre> <p>From simplestreams:</p> <pre class="highlight-yaml notranslate" data-language="yaml">source:
    type: simplestreams
    server: https://cloud-images.ubuntu.com/releases
    name: xenial/amd64</pre> <p>From an URL:</p> <pre class="highlight-yaml notranslate" data-language="yaml">source:
    type: url
    url: https://dl.stgraber.org/lxd</pre> </dd> <dt>aliases :</dt>
<dd>
<p>List of aliases to append, can be empty.</p> </dd> <dt>public :</dt>
<dd>
<dl class="simple"> <dt>Make this image public available on this instance?</dt>
<dd>
<p>None on source_type LXD means copy source None on source_type file means False</p> </dd> </dl> </dd> <dt>auto_update :</dt>
<dd>
<dl class="simple"> <dt>Try to auto-update from the original source?</dt>
<dd>
<p>None on source_type LXD means copy source source_type file does not have auto-update.</p> </dd> </dl> </dd> <dt>remote_addr :</dt>
<dd>
<p>An URL to a remote Server, you also have to give cert and key if you provide remote_addr!</p> <dl class="simple"> <dt>Examples:</dt>
<dd>
<p><a class="reference external" href="https://myserver.lan:8443">https://myserver.lan:8443</a> /var/lib/mysocket.sock</p> </dd> </dl> </dd> <dt>cert :</dt>
<dd>
<p>PEM Formatted SSL Zertifikate.</p> <dl class="simple"> <dt>Examples:</dt>
<dd>
<p>~/.config/lxc/client.crt</p> </dd> </dl> </dd> <dt>key :</dt>
<dd>
<p>PEM Formatted SSL Key.</p> <dl class="simple"> <dt>Examples:</dt>
<dd>
<p>~/.config/lxc/client.key</p> </dd> </dl> </dd> <dt>verify_cert<span class="classifier">True</span>
</dt>
<dd>
<p>Wherever to verify the cert, this is by default True but in the most cases you want to set it off as LXD normally uses self-signed certificates.</p> </dd> </dl> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.lxd_image.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.lxd_image.html</a>
  </p>
</div>
