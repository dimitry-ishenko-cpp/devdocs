<h1>salt.states.grafana4_dashboard</h1> <p>Manage Grafana v4.0 Dashboards</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2017.7.0.</span></p> </div> <dl class="field-list"> <dt class="field-odd">configuration</dt> <dd class="field-odd">
<p>This state requires a configuration profile to be configured in the minion config, minion pillar, or master config. The module will use the 'grafana' key by default, if defined.</p> <p>Example configuration using basic authentication:</p> <pre class="highlight-yaml notranslate" data-language="yaml">grafana:
  grafana_url: http://grafana.localhost
  grafana_user: admin
  grafana_password: admin
  grafana_timeout: 3</pre> <p>Example configuration using token based authentication:</p> <pre class="highlight-yaml notranslate" data-language="yaml">grafana:
  grafana_url: http://grafana.localhost
  grafana_token: token
  grafana_timeout: 3</pre> </dd> </dl> <p>The behavior of this module is to create dashboards if they do not exist, to add rows if they do not exist in existing dashboards, and to update rows if they exist in dashboards. The module will not manage rows that are not defined, allowing users to manage their own custom rows.</p> <pre class="highlight-yaml notranslate" data-language="yaml">Ensure minimum dashboard is managed:
  grafana4_dashboard.present:
    - name: insightful-dashboard
    - base_dashboards_from_pillar:
      - default_dashboard
    - base_rows_from_pillar:
      - default_row
    - base_panels_from_pillar:
      - default_panel
    - dashboard:
        rows:
          - title: Usage
            panels:
              - targets:
                  - target: alias(constantLine(50), 'max')
                title: Imaginary
                type: graph</pre> <dl class="py function"> <h3 id="salt.states.grafana4_dashboard.absent"> salt.states.grafana4_dashboard.absent(name, orgname=None, profile='grafana')</h3> <dd>
<p>Ensure the named grafana dashboard is absent.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>Name of the grafana dashboard.</p> </dd> <dt>orgname</dt>
<dd>
<p>Name of the organization in which the dashboard should be present.</p> </dd> <dt>profile</dt>
<dd>
<p>Configuration profile used to connect to the Grafana instance. Default is 'grafana'.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.grafana4_dashboard.present"> salt.states.grafana4_dashboard.present(name, base_dashboards_from_pillar=None, base_panels_from_pillar=None, base_rows_from_pillar=None, dashboard=None, orgname=None, profile='grafana')</h3> <dd>
<p>Ensure the grafana dashboard exists and is managed.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>Name of the grafana dashboard.</p> </dd> <dt>base_dashboards_from_pillar</dt>
<dd>
<p>A pillar key that contains a list of dashboards to inherit from</p> </dd> <dt>base_panels_from_pillar</dt>
<dd>
<p>A pillar key that contains a list of panels to inherit from</p> </dd> <dt>base_rows_from_pillar</dt>
<dd>
<p>A pillar key that contains a list of rows to inherit from</p> </dd> <dt>dashboard</dt>
<dd>
<p>A dict that defines a dashboard that should be managed.</p> </dd> <dt>orgname</dt>
<dd>
<p>Name of the organization in which the dashboard should be present.</p> </dd> <dt>profile</dt>
<dd>
<p>Configuration profile used to connect to the Grafana instance. Default is 'grafana'.</p> </dd> </dl> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.grafana4_dashboard.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.grafana4_dashboard.html</a>
  </p>
</div>
