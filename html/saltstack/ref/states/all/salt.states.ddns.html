<h1>salt.states.ddns</h1> <div class="section" id="dynamic-dns-updates"> <h2>Dynamic DNS updates</h2> <p>Ensure a DNS record is present or absent utilizing RFC 2136 type dynamic updates.</p> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<ul class="simple"> <li><p><a class="reference external" href="http://www.dnspython.org/">dnspython</a></p></li> </ul> </dd> </dl> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The <code class="docutils literal notranslate"><span class="pre">dnspython</span></code> module is required when managing DDNS using a TSIG key. If you are not using a TSIG key, DDNS is allowed by ACLs based on IP address and the <code class="docutils literal notranslate"><span class="pre">dnspython</span></code> module is not required.</p> </div> <p>Example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">webserver:
  ddns.present:
    - zone: example.com
    - ttl: 60
    - data: 111.222.333.444
    - nameserver: 123.234.345.456
    - keyfile: /srv/salt/dnspy_tsig_key.txt</pre> <dl class="py function"> <h3 id="salt.states.ddns.absent"> salt.states.ddns.absent(name, zone, data=None, rdtype=None, **kwargs)</h3> <dd>
<p>Ensures that the named DNS record is absent.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The host portion of the DNS record, e.g., 'webserver'. Name and zone are concatenated when the entry is created unless name includes a trailing dot, so make sure that information is not duplicated in these two arguments.</p> </dd> <dt>zone</dt>
<dd>
<p>The zone to check</p> </dd> <dt>data</dt>
<dd>
<p>Data for the DNS record. E.g., the IP address for an A record. If omitted, all records matching name (and rdtype, if provided) will be purged.</p> </dd> <dt>rdtype</dt>
<dd>
<p>DNS resource type. If omitted, all types will be purged.</p> </dd> <dt><code class="docutils literal notranslate"><span class="pre">**kwargs</span></code></dt>
<dd>
<p>Additional arguments the ddns.update function may need (e.g. nameserver, keyfile, keyname). Note that the nsupdate key file can’t be reused by this function, the keyfile and other arguments must follow the <a class="reference external" href="http://www.dnspython.org/">dnspython</a> spec.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.ddns.present"> salt.states.ddns.present(name, zone, ttl, data, rdtype='A', **kwargs)</h3> <dd>
<p>Ensures that the named DNS record is present with the given ttl.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The host portion of the DNS record, e.g., 'webserver'. Name and zone are concatenated when the entry is created unless name includes a trailing dot, so make sure that information is not duplicated in these two arguments.</p> </dd> <dt>zone</dt>
<dd>
<p>The zone to check/update</p> </dd> <dt>ttl</dt>
<dd>
<p>TTL for the record</p> </dd> <dt>data</dt>
<dd>
<p>Data for the DNS record. E.g., the IP address for an A record.</p> </dd> <dt>rdtype</dt>
<dd>
<p>DNS resource type. Default 'A'.</p> </dd> <dt><code class="docutils literal notranslate"><span class="pre">**kwargs</span></code></dt>
<dd>
<p>Additional arguments the ddns.update function may need (e.g. nameserver, keyfile, keyname). Note that the nsupdate key file can’t be reused by this function, the keyfile and other arguments must follow the <a class="reference external" href="http://www.dnspython.org/">dnspython</a> spec.</p> </dd> </dl> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.ddns.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.ddns.html</a>
  </p>
</div>
