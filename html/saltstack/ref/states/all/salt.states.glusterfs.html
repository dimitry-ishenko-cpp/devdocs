<h1>salt.states.glusterfs</h1> <p>Manage GlusterFS pool.</p> <dl class="py function"> <h3 id="salt.states.glusterfs.add_volume_bricks"> salt.states.glusterfs.add_volume_bricks(name, bricks)</h3> <dd>
<p>Add brick(s) to an existing volume</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>Volume name</p> </dd> <dt>bricks</dt>
<dd>
<p>List of bricks to add to the volume</p> </dd> </dl> <pre class="highlight-yaml notranslate" data-language="yaml">myvolume:
  glusterfs.add_volume_bricks:
    - bricks:
        - host1:/srv/gluster/drive1
        - host2:/srv/gluster/drive2

Replicated Volume:
  glusterfs.add_volume_bricks:
    - name: volume2
    - bricks:
      - host1:/srv/gluster/drive2
      - host2:/srv/gluster/drive3</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.glusterfs.max_op_version"> salt.states.glusterfs.max_op_version(name)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2019.2.0.</span></p> </div> <p>Add brick(s) to an existing volume</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>Volume name</p> </dd> </dl> <pre class="highlight-yaml notranslate" data-language="yaml">myvolume:
  glusterfs.max_op_version:
    - name: volume1
    - version: 30707</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.glusterfs.op_version"> salt.states.glusterfs.op_version(name, version)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2019.2.0.</span></p> </div> <p>Add brick(s) to an existing volume</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>Volume name</p> </dd> <dt>version</dt>
<dd>
<p>Version to which the cluster.op-version should be set</p> </dd> </dl> <pre class="highlight-yaml notranslate" data-language="yaml">myvolume:
  glusterfs.op_version:
    - name: volume1
    - version: 30707</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.glusterfs.peered"> salt.states.glusterfs.peered(name)</h3> <dd>
<p>Check if node is peered.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The remote host with which to peer.</p> </dd> </dl> <pre class="highlight-yaml notranslate" data-language="yaml">peer-cluster:
  glusterfs.peered:
    - name: two

peer-clusters:
  glusterfs.peered:
    - names:
      - one
      - two
      - three
      - four</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.glusterfs.started"> salt.states.glusterfs.started(name)</h3> <dd>
<p>Check if volume has been started</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>name of the volume</p> </dd> </dl> <pre class="highlight-yaml notranslate" data-language="yaml">mycluster:
  glusterfs.started: []</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.glusterfs.volume_present"> salt.states.glusterfs.volume_present(name, bricks, stripe=False, replica=False, device_vg=False, transport='tcp', start=False, force=False, arbiter=False)</h3> <dd>
<p>Ensure that the volume exists</p> <dl> <dt>name</dt>
<dd>
<p>name of the volume</p> </dd> <dt>bricks</dt>
<dd>
<p>list of brick paths</p> </dd> <dt>replica</dt>
<dd>
<p>replica count for volume</p> </dd> <dt>arbiter</dt>
<dd>
<p>use every third brick as arbiter (metadata only)</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2019.2.0.</span></p> </div> </dd> <dt>start</dt>
<dd>
<p>ensure that the volume is also started</p> </dd> </dl> <pre class="highlight-yaml notranslate" data-language="yaml">myvolume:
  glusterfs.volume_present:
    - bricks:
        - host1:/srv/gluster/drive1
        - host2:/srv/gluster/drive2

Replicated Volume:
  glusterfs.volume_present:
    - name: volume2
    - bricks:
      - host1:/srv/gluster/drive2
      - host2:/srv/gluster/drive3
    - replica: 2
    - start: True

Replicated Volume with arbiter brick:
  glusterfs.volume_present:
    - name: volume3
    - bricks:
      - host1:/srv/gluster/drive2
      - host2:/srv/gluster/drive3
      - host3:/srv/gluster/drive4
    - replica: 3
    - arbiter: True
    - start: True</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.glusterfs.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.glusterfs.html</a>
  </p>
</div>
