<h1>salt.states.netntp</h1> <div class="section" id="network-ntp"> <h2>Network NTP</h2> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <p>Manage the configuration of NTP peers and servers on the network devices through the NAPALM proxy.</p> <dl class="field-list simple"> <dt class="field-odd">codeauthor</dt> <dd class="field-odd">
<p>Mircea Ulinic &lt;<a class="reference external" href="mailto:ping%40mirceaulinic.net.html">ping<span>@</span>mirceaulinic<span>.</span>net</a>&gt; &amp; Jerome Fleury &lt;<a class="reference external" href="mailto:jf%40cloudflare.com.html">jf<span>@</span>cloudflare<span>.</span>com</a>&gt;</p> </dd> <dt class="field-even">maturity</dt> <dd class="field-even">
<p>new</p> </dd> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>napalm</p> </dd> <dt class="field-even">platform</dt> <dd class="field-even">
<p>unix</p> </dd> </dl> <div class="section" id="dependencies"> <h3>Dependencies</h3> <ul class="simple"> <li><p>Requires <a class="reference external" href="https://pythonhosted.org/netaddr/">netaddr</a> to be installed: <cite>pip install netaddr</cite> to check if IP Addresses are correctly specified</p></li> <li><p>Requires <a class="reference external" href="http://www.dnspython.org/">dnspython</a> to be installed: <cite>pip install dnspython</cite> to resolve the nameserver entities (in case the user does not configure the peers/servers using their IP addresses)</p></li> <li><p><a class="reference internal" href="../../proxy/all/salt.proxy.napalm.html#module-salt.proxy.napalm" title="salt.proxy.napalm"><code class="xref py py-mod docutils literal notranslate"><span class="pre">NAPALM</span> <span class="pre">proxy</span> <span class="pre">minion</span></code></a></p></li> <li><p><a class="reference internal" href="../../modules/all/salt.modules.napalm_ntp.html#module-salt.modules.napalm_ntp" title="salt.modules.napalm_ntp"><code class="xref py py-mod docutils literal notranslate"><span class="pre">NTP</span> <span class="pre">operational</span> <span class="pre">and</span> <span class="pre">configuration</span> <span class="pre">management</span> <span class="pre">module</span></code></a></p></li> </ul> <dl class="py function"> <h3 id="salt.states.netntp.managed"> salt.states.netntp.managed(name, peers=None, servers=None)</h3> <dd>
<p>Manages the configuration of NTP peers and servers on the device, as specified in the state SLS file. NTP entities not specified in these lists will be removed whilst entities not configured on the device will be set.</p> <p>SLS Example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">netntp_example:
    netntp.managed:
         - peers:
            - 192.168.0.1
            - 172.17.17.1
         - servers:
            - 24.124.0.251
            - 138.236.128.36</pre> <p>Output example:</p> <pre class="highlight-python notranslate" data-language="python">{
    'edge01.nrt04': {
        'netntp_|-netntp_example_|-netntp_example_|-managed': {
            'comment': 'NTP servers already configured as needed.',
            'name': 'netntp_example',
            'start_time': '12:45:24.056659',
            'duration': 2938.857,
            'changes': {
                'peers': {
                    'removed': [
                        '192.168.0.2',
                        '192.168.0.3'
                    ],
                    'added': [
                        '192.168.0.1',
                        '172.17.17.1'
                    ]
                }
            },
            'result': None
        }
    }
}</pre> </dd>
</dl> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.netntp.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.netntp.html</a>
  </p>
</div>
