<h1>salt.states.cloud</h1> <div class="section" id="using-states-instead-of-maps-to-deploy-clouds"> <h2>Using states instead of maps to deploy clouds</h2> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.1.0.</span></p> </div> <p>Use this minion to spin up a cloud instance:</p> <pre class="highlight-yaml notranslate" data-language="yaml">my-ec2-instance:
  cloud.profile:
    my-ec2-config</pre> <dl class="py function"> <h3 id="salt.states.cloud.absent"> salt.states.cloud.absent(name, onlyif=None, unless=None)</h3> <dd>
<p>Ensure that no instances with the specified names exist.</p> <p>CAUTION: This is a destructive state, which will search all configured cloud providers for the named instance, and destroy it.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the instance to destroy</p> </dd> <dt>onlyif</dt>
<dd>
<p>Do run the state only if is unless succeed</p> </dd> <dt>unless</dt>
<dd>
<p>Do not run the state at least unless succeed</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.cloud.present"> salt.states.cloud.present(name, cloud_provider, onlyif=None, unless=None, opts=None, **kwargs)</h3> <dd>
<p>Spin up a single instance on a cloud provider, using salt-cloud. This state does not take a profile argument; rather, it takes the arguments that would normally be configured as part of the state.</p> <p>Note that while this function does take any configuration argument that would normally be used to create an instance, it will not verify the state of any of those arguments on an existing instance. Stateful properties of an instance should be configured using their own individual state (i.e., cloud.tagged, cloud.untagged, etc).</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the instance to create</p> </dd> <dt>cloud_provider</dt>
<dd>
<p>The name of the cloud provider to use</p> </dd> <dt>onlyif</dt>
<dd>
<p>Do run the state only if is unless succeed</p> </dd> <dt>unless</dt>
<dd>
<p>Do not run the state at least unless succeed</p> </dd> <dt>opts</dt>
<dd>
<p>Any extra opts that need to be used</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.cloud.profile"> salt.states.cloud.profile(name, profile, onlyif=None, unless=None, opts=None, **kwargs)</h3> <dd>
<p>Create a single instance on a cloud provider, using a salt-cloud profile.</p> <p>Note that while profiles used this function do take any configuration argument that would normally be used to create an instance using a profile, this state will not verify the state of any of those arguments on an existing instance. Stateful properties of an instance should be configured using their own individual state (i.e., cloud.tagged, cloud.untagged, etc).</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the instance to create</p> </dd> <dt>profile</dt>
<dd>
<p>The name of the cloud profile to use</p> </dd> <dt>onlyif</dt>
<dd>
<p>Do run the state only if is unless succeed</p> </dd> <dt>unless</dt>
<dd>
<p>Do not run the state at least unless succeed</p> </dd> <dt>kwargs</dt>
<dd>
<p>Any profile override or addition</p> </dd> <dt>opts</dt>
<dd>
<p>Any extra opts that need to be used</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.cloud.volume_absent"> salt.states.cloud.volume_absent(name, provider=None, **kwargs)</h3> <dd>
<p>Check that a block volume exists.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.cloud.volume_attached"> salt.states.cloud.volume_attached(name, server_name, provider=None, **kwargs)</h3> <dd>
<p>Check if a block volume is attached.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.cloud.volume_detached"> salt.states.cloud.volume_detached(name, server_name=None, provider=None, **kwargs)</h3> <dd>
<p>Check if a block volume is attached.</p> <p>Returns True if server or Volume do not exist.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.cloud.volume_present"> salt.states.cloud.volume_present(name, provider=None, **kwargs)</h3> <dd>
<p>Check that a block volume exists.</p> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.cloud.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.cloud.html</a>
  </p>
</div>
