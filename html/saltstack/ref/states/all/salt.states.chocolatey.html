<h1>salt.states.chocolatey</h1> <p>Manage Chocolatey package installs .. versionadded:: 2016.3.0</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Chocolatey pulls data from the Chocolatey internet database to determine current versions, find available versions, etc. This is normally a slow operation and may be optimized by specifying a local, smaller chocolatey repo.</p> </div> <dl class="py function"> <h3 id="salt.states.chocolatey.installed"> salt.states.chocolatey.installed(name, version=None, source=None, force=False, pre_versions=False, install_args=None, override_args=False, force_x86=False, package_args=None, allow_multiple=False, execution_timeout=None)</h3> <dd>
<p>Installs a package if not already installed</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the package to be installed. Required.</p></li> <li><p><strong>version</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Install a specific version of the package. Defaults to latest version. If the version is different to the one installed then the specified version will be installed. Default is None.</p></li> <li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Chocolatey repository (directory, share or remote URL, feed). Defaults to the official Chocolatey feed. Default is None.</p></li> <li><p><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Reinstall the current version of an existing package. Do not use with <code class="docutils literal notranslate"><span class="pre">allow_multiple</span></code>. Default is False.</p></li> <li><p><strong>pre_versions</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Include pre-release packages. Default is False.</p></li> <li><p><strong>install_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Install arguments you want to pass to the installation process, i.e product key or feature list. Default is None.</p></li> <li><p><strong>override_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Set to True if you want to override the original install arguments (for the native installer) in the package and use your own. When this is set to False install_args will be appended to the end of the default arguments. Default is False.</p></li> <li><p><strong>force_x86</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Force x86 (32bit) installation on 64 bit systems. Default is False.</p></li> <li><p><strong>package_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Arguments you want to pass to the package. Default is None.</p></li> <li>
<p><strong>allow_multiple</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- </p>
<p>Allow mulitiple versions of the package to be installed. Do not use with <code class="docutils literal notranslate"><span class="pre">force</span></code>. Does not work with all packages. Default is False.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2017.7.0.</span></p> </div> </li> <li><p><strong>execution_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Chocolatey execution timeout value you want to pass to the installation process. Default is None.</p></li> </ul> </dd> </dl> <pre class="highlight-yaml notranslate" data-language="yaml">Installsomepackage:
  chocolatey.installed:
    - name: packagename
    - version: '12.04'
    - source: 'mychocolatey/source'
    - force: True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.chocolatey.source_present"> salt.states.chocolatey.source_present(name, source_location, username=None, password=None, force=False)</h3> <dd>
<p>Instructs Chocolatey to add a source if not already present.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the source to be added as a chocolatey repository.</p> </dd> <dt>source</dt>
<dd>
<p>Location of the source you want to work with.</p> </dd> <dt>username</dt>
<dd>
<p>Provide username for chocolatey sources that need authentication credentials.</p> </dd> <dt>password</dt>
<dd>
<p>Provide password for chocolatey sources that need authentication credentials.</p> </dd> <dt>force</dt>
<dd>
<p>Salt will not modify a existing repository with the same name. Set this option to true to update an existing repository.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">add_some_source:
  chocolatey.source_present:
    - name: reponame
    - source: https://repo.exemple.com
    - username: myuser
    - password: mypassword</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.chocolatey.uninstalled"> salt.states.chocolatey.uninstalled(name, version=None, uninstall_args=None, override_args=False)</h3> <dd>
<p>Uninstalls a package</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the package to be uninstalled</p> </dd> <dt>version</dt>
<dd>
<p>Uninstalls a specific version of the package. Defaults to latest version installed.</p> </dd> <dt>uninstall_args</dt>
<dd>
<p>A list of uninstall arguments you want to pass to the uninstallation process i.e product key or feature list</p> </dd> <dt>override_args</dt>
<dd>
<p>Set to true if you want to override the original uninstall arguments ( for the native uninstaller)in the package and use your own. When this is set to False uninstall_args will be appended to the end of the default arguments</p> </dd> </dl> <pre class="highlight-yaml notranslate" data-language="yaml">Removemypackage:
  chocolatey.uninstalled:
    - name: mypackage
    - version: '21.5'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.chocolatey.upgraded"> salt.states.chocolatey.upgraded(name, version=None, source=None, force=False, pre_versions=False, install_args=None, override_args=False, force_x86=False, package_args=None)</h3> <dd>
<p>Upgrades a package. Will install the package if not installed.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.0.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the package to be installed. Required.</p></li> <li><p><strong>version</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Install a specific version of the package. Defaults to latest version. If the version is greater than the one installed then the specified version will be installed. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li> <li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Chocolatey repository (directory, share or remote URL, feed). Defaults to the official Chocolatey feed. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li> <li><p><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- <code class="docutils literal notranslate"><span class="pre">True</span></code> will reinstall an existing package with the same version. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li> <li><p><strong>pre_versions</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- <code class="docutils literal notranslate"><span class="pre">True</span></code> will nclude pre-release packages. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li> <li><p><strong>install_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Install arguments you want to pass to the installation process, i.e product key or feature list. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li> <li><p><strong>override_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- <code class="docutils literal notranslate"><span class="pre">True</span></code> will override the original install arguments (for the native installer) in the package and use those specified in <code class="docutils literal notranslate"><span class="pre">install_args</span></code>. <code class="docutils literal notranslate"><span class="pre">False</span></code> will append install_args to the end of the default arguments. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li> <li><p><strong>force_x86</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- <code class="docutils literal notranslate"><span class="pre">True</span></code> forces 32bit installation on 64 bit systems. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li> <li><p><strong>package_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Arguments you want to pass to the package. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li> </ul> </dd> </dl> <pre class="highlight-yaml notranslate" data-language="yaml">upgrade_some_package:
  chocolatey.upgraded:
    - name: packagename
    - version: '12.04'
    - source: 'mychocolatey/source'</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.chocolatey.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.chocolatey.html</a>
  </p>
</div>
