<h1>salt.states.lxd</h1> <p>Manage LXD profiles.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2019.2.0.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">maintainer</dt> <dd class="field-odd">
<p>Ren√© Jochum &lt;<a class="reference external" href="mailto:rene%40jochums.at.html">rene<span>@</span>jochums<span>.</span>at</a>&gt;</p> </dd> <dt class="field-even">maturity</dt> <dd class="field-even">
<p>new</p> </dd> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>python-pylxd</p> </dd> <dt class="field-even">platform</dt> <dd class="field-even">
<p>Linux</p> </dd> </dl> <dl class="py function"> <h3 id="salt.states.lxd.authenticate"> salt.states.lxd.authenticate(name, remote_addr, password, cert, key, verify_cert=True)</h3> <dd>
<p>Authenticate with a remote peer.</p> <dl> <dt>remote_addr :</dt>
<dd>
<p>An URL to a remote Server, you also have to give cert and key if you provide remote_addr!</p> <dl class="simple"> <dt>Examples:</dt>
<dd>
<p><a class="reference external" href="https://myserver.lan:8443">https://myserver.lan:8443</a> /var/lib/mysocket.sock</p> </dd> </dl> </dd> <dt>password :</dt>
<dd>
<p>The PaSsW0rD</p> </dd> <dt>cert :</dt>
<dd>
<p>PEM Formatted SSL Zertifikate.</p> <dl class="simple"> <dt>Examples:</dt>
<dd>
<p>/root/.config/lxc/client.crt</p> </dd> </dl> </dd> <dt>key :</dt>
<dd>
<p>PEM Formatted SSL Key.</p> <dl class="simple"> <dt>Examples:</dt>
<dd>
<p>/root/.config/lxc/client.key</p> </dd> </dl> </dd> <dt>verify_cert<span class="classifier">True</span>
</dt>
<dd>
<p>Wherever to verify the cert, this is by default True but in the most cases you want to set it off as LXD normally uses self-signed certificates.</p> </dd> <dt>name:</dt>
<dd>
<p>Ignore this. This is just here for salt.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.lxd.config_managed"> salt.states.lxd.config_managed(name, value, force_password=False)</h3> <dd>
<p>Manage a LXD Server config setting.</p> <dl> <dt>name :</dt>
<dd>
<p>The name of the config key.</p> </dd> <dt>value :</dt>
<dd>
<p>Its value.</p> </dd> <dt>force_password<span class="classifier">False</span>
</dt>
<dd>
<p>Set this to True if you want to set the password on every run.</p> <p>As we can't retrieve the password from LXD we can't check if the current one is the same as the given one.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.lxd.init"> salt.states.lxd.init(name, storage_backend='dir', trust_password=None, network_address=None, network_port=None, storage_create_device=None, storage_create_loop=None, storage_pool=None, done_file='%SALT_CONFIG_DIR%/lxd_initialized')</h3> <dd>
<p>Initializes the LXD Daemon, as LXD doesn't tell if its initialized we touch the done_file and check if it exist.</p> <p>This can only be called once per host unless you remove the done_file.</p> <dl class="simple"> <dt>name :</dt>
<dd>
<p>Ignore this. This is just here for salt.</p> </dd> <dt>storage_backend :</dt>
<dd>
<p>Storage backend to use (zfs or dir, default: dir)</p> </dd> <dt>trust_password :</dt>
<dd>
<p>Password required to add new clients</p> </dd> <dt>network_address<span class="classifier">None</span>
</dt>
<dd>
<p>Address to bind LXD to (default: none)</p> </dd> <dt>network_port<span class="classifier">None</span>
</dt>
<dd>
<p>Port to bind LXD to (Default: 8443)</p> </dd> <dt>storage_create_device<span class="classifier">None</span>
</dt>
<dd>
<p>Setup device based storage using this DEVICE</p> </dd> <dt>storage_create_loop<span class="classifier">None</span>
</dt>
<dd>
<p>Setup loop based storage with this SIZE in GB</p> </dd> <dt>storage_pool<span class="classifier">None</span>
</dt>
<dd>
<p>Storage pool to use or create</p> </dd> <dt>done_file :</dt>
<dd>
<p>Path where we check that this method has been called, as it can run only once and there's currently no way to ask LXD if init has been called.</p> </dd> </dl> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.lxd.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.lxd.html</a>
  </p>
</div>
