<h1>salt.states.win_pki</h1> <p>Microsoft certificate management via the Pki PowerShell module.</p> <dl class="field-list simple"> <dt class="field-odd">platform</dt> <dd class="field-odd">
<p>Windows</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <dl class="py function"> <h3 id="salt.states.win_pki.import_cert"> salt.states.win_pki.import_cert(name, cert_format='cer', context='LocalMachine', store='My', exportable=True, password='', saltenv='base')</h3> <dd>
<p>Import the certificate file into the given certificate store.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The path of the certificate file to import.</p></li> <li><p><strong>cert_format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The certificate format. Specify 'cer' for X.509, or 'pfx' for PKCS #12.</p></li> <li><p><strong>context</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the certificate store location context.</p></li> <li><p><strong>store</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the certificate store.</p></li> <li><p><strong>exportable</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Mark the certificate as exportable. Only applicable to pfx format.</p></li> <li><p><strong>password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The password of the certificate. Only applicable to pfx format.</p></li> <li><p><strong>saltenv</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The environment the file resides in.</p></li> </ul> </dd> </dl> <p>Example of usage with only the required arguments:</p> <pre class="highlight-yaml notranslate" data-language="yaml">site0-cert-imported:
    win_pki.import_cert:
        - name: salt://win/webserver/certs/site0.cer</pre> <p>Example of usage specifying all available arguments:</p> <pre class="highlight-yaml notranslate" data-language="yaml">site0-cert-imported:
    win_pki.import_cert:
        - name: salt://win/webserver/certs/site0.pfx
        - cert_format: pfx
        - context: LocalMachine
        - store: My
        - exportable: True
        - password: TestPassword
        - saltenv: base</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.win_pki.remove_cert"> salt.states.win_pki.remove_cert(name, thumbprint, context='LocalMachine', store='My')</h3> <dd>
<p>Remove the certificate from the given certificate store.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>thumbprint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The thumbprint value of the target certificate.</p></li> <li><p><strong>context</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the certificate store location context.</p></li> <li><p><strong>store</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the certificate store.</p></li> </ul> </dd> </dl> <p>Example of usage with only the required arguments:</p> <pre class="highlight-yaml notranslate" data-language="yaml">site0-cert-removed:
    win_pki.remove_cert:
        - thumbprint: 9988776655443322111000AAABBBCCCDDDEEEFFF</pre> <p>Example of usage specifying all available arguments:</p> <pre class="highlight-yaml notranslate" data-language="yaml">site0-cert-removed:
    win_pki.remove_cert:
        - thumbprint: 9988776655443322111000AAABBBCCCDDDEEEFFF
        - context: LocalMachine
        - store: My</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.win_pki.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.win_pki.html</a>
  </p>
</div>
