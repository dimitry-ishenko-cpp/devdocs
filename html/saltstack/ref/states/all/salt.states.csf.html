<h1>salt.states.csf</h1> <div class="section" id="csf-ip-tables-management"> <h2>CSF Ip tables management</h2> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<ul class="simple"> <li><p>csf utility</p></li> </ul> </dd> <dt class="field-even">configuration</dt> <dd class="field-even">
<p>See <a class="reference external" href="http://download.configserver.com/csf/install.txt">http://download.configserver.com/csf/install.txt</a> for setup instructions.</p> </dd> </dl> <pre class="highlight-yaml notranslate" data-language="yaml">Simply allow/deny rules:
  csf.rule_present:
    ip: 1.2.3.4
    method: allow</pre> <dl class="py function"> <h3 id="salt.states.csf.nics_skip"> salt.states.csf.nics_skip(name, nics, ipv6)</h3> <dd>
<p>Alias for <a class="reference internal" href="#salt.states.csf.nics_skipped" title="salt.states.csf.nics_skipped"><code class="xref py py-mod docutils literal notranslate"><span class="pre">csf.nics_skipped</span></code></a></p> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.csf.nics_skipped"> salt.states.csf.nics_skipped(name, nics, ipv6=False)</h3> <dd>
<dl class="simple"> <dt>name</dt>
<dd>
<p>Meaningless arg, but required for state.</p> </dd> <dt>nics</dt>
<dd>
<p>A list of nics to skip.</p> </dd> <dt>ipv6</dt>
<dd>
<p>Boolean. Set to true if you want to skip the ipv6 interface. Default false (ipv4).</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.csf.option_present"> salt.states.csf.option_present(name, value, reload=False)</h3> <dd>
<p>Ensure the state of a particular option/setting in csf.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The option name in csf.conf</p> </dd> <dt>value</dt>
<dd>
<p>The value it should be set to.</p> </dd> <dt>reload</dt>
<dd>
<p>Boolean. If set to true, csf will be reloaded after.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.csf.ports_open"> salt.states.csf.ports_open(name, ports, proto='tcp', direction='in')</h3> <dd>
<p>Ensure ports are open for a protocol, in a direction. e.g. - proto='tcp', direction='in' would set the values for TCP_IN in the csf.conf file.</p> <dl class="simple"> <dt>ports</dt>
<dd>
<p>A list of ports that should be open.</p> </dd> <dt>proto</dt>
<dd>
<p>The protocol. May be one of 'tcp', 'udp', 'tcp6', or 'udp6'.</p> </dd> <dt>direction</dt>
<dd>
<p>Choose 'in', 'out', or both to indicate the port should be opened for inbound traffic, outbound traffic, or both.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.csf.rule_absent"> salt.states.csf.rule_absent(name, method, port=None, proto='tcp', direction='in', port_origin='d', ip_origin='s', ttl=None, reload=False)</h3> <dd>
<p>Ensure iptable is not present.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The ip address or CIDR for the rule.</p> </dd> <dt>method</dt>
<dd>
<p>The type of rule. Either 'allow' or 'deny'.</p> </dd> <dt>port</dt>
<dd>
<p>Optional port to be open or closed for the iptables rule.</p> </dd> <dt>proto</dt>
<dd>
<p>The protocol. Either 'tcp', 'udp'. Only applicable if port is specified.</p> </dd> <dt>direction</dt>
<dd>
<p>The diretion of traffic to apply the rule to. Either 'in', or 'out'. Only applicable if port is specified.</p> </dd> <dt>port_origin</dt>
<dd>
<p>Specifies either the source or destination port is relevant for this rule. Only applicable if port is specified. Either 's', or 'd'.</p> </dd> <dt>ip_origin</dt>
<dd>
<p>Specifies whether the ip in this rule refers to the source or destination ip. Either 's', or 'd'. Only applicable if port is specified.</p> </dd> <dt>ttl</dt>
<dd>
<p>How long the rule should exist. If supplied, <cite>csf.tempallow()</cite> or csf.tempdeny()` are used.</p> </dd> <dt>reload</dt>
<dd>
<p>Reload the csf service after applying this rule. Default false.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.csf.rule_present"> salt.states.csf.rule_present(name, method, port=None, proto='tcp', direction='in', port_origin='d', ip_origin='s', ttl=None, comment='', reload=False)</h3> <dd>
<p>Ensure iptable rule exists.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The ip address or CIDR for the rule.</p> </dd> <dt>method</dt>
<dd>
<p>The type of rule. Either 'allow' or 'deny'.</p> </dd> <dt>port</dt>
<dd>
<p>Optional port to be open or closed for the iptables rule.</p> </dd> <dt>proto</dt>
<dd>
<p>The protocol. Either 'tcp', or 'udp'. Only applicable if port is specified.</p> </dd> <dt>direction</dt>
<dd>
<p>The diretion of traffic to apply the rule to. Either 'in', or 'out'. Only applicable if port is specified.</p> </dd> <dt>port_origin</dt>
<dd>
<p>Specifies either the source or destination port is relevant for this rule. Only applicable if port is specified. Either 's', or 'd'.</p> </dd> <dt>ip_origin</dt>
<dd>
<p>Specifies whether the ip in this rule refers to the source or destination ip. Either 's', or 'd'. Only applicable if port is specified.</p> </dd> <dt>ttl</dt>
<dd>
<p>How long the rule should exist. If supplied, <cite>csf.tempallow()</cite> or csf.tempdeny()` are used.</p> </dd> <dt>comment</dt>
<dd>
<p>An optional comment to appear after the rule as a #comment .</p> </dd> <dt>reload</dt>
<dd>
<p>Reload the csf service after applying this rule. Default false.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.csf.testing_off"> salt.states.csf.testing_off(name, reload=False)</h3> <dd>
<p>Ensure testing mode is enabled in csf.</p> <dl class="simple"> <dt>reload</dt>
<dd>
<p>Reload CSF after changing the testing status. Default false.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.csf.testing_on"> salt.states.csf.testing_on(name, reload=False)</h3> <dd>
<p>Ensure testing mode is enabled in csf.</p> <dl class="simple"> <dt>reload</dt>
<dd>
<p>Reload CSF after changing the testing status. Default false.</p> </dd> </dl> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.csf.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.csf.html</a>
  </p>
</div>
