<h1>salt.states.docker_volume</h1> <p>Management of Docker volumes</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2017.7.0.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p><a class="reference external" href="https://pypi.python.org/pypi/docker">docker</a> Python module</p> </dd> </dl> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Older releases of the Python bindings for Docker were called <a class="reference external" href="https://pypi.python.org/pypi/docker-py">docker-py</a> in PyPI. All releases of <a class="reference external" href="https://pypi.python.org/pypi/docker">docker</a>, and releases of <a class="reference external" href="https://pypi.python.org/pypi/docker-py">docker-py</a> &gt;= 1.6.0 are supported. These python bindings can easily be installed using <a class="reference internal" href="../../modules/all/salt.modules.pip.html#salt.modules.pip.install" title="salt.modules.pip.install"><code class="xref py py-func docutils literal notranslate"><span class="pre">pip.install</span></code></a>:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion pip.install docker</pre> <p>To upgrade from <a class="reference external" href="https://pypi.python.org/pypi/docker-py">docker-py</a> to <a class="reference external" href="https://pypi.python.org/pypi/docker">docker</a>, you must first uninstall <a class="reference external" href="https://pypi.python.org/pypi/docker-py">docker-py</a>, and then install <a class="reference external" href="https://pypi.python.org/pypi/docker">docker</a>:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion pip.uninstall docker-py
salt myminion pip.install docker</pre> </div> <p>These states were moved from the <code class="xref py py-mod docutils literal notranslate"><span class="pre">docker</span></code> state module (formerly called <strong>dockerng</strong>) in the 2017.7.0 release.</p> <dl class="py function"> <h3 id="salt.states.docker_volume.absent"> salt.states.docker_volume.absent(name, driver=None)</h3> <dd>
<p>Ensure that a volume is absent.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.4.</span></p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2017.7.0: </span>This state was renamed from <strong>docker.volume_absent</strong> to <strong>docker_volume.absent</strong></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>Name of the volume</p> </dd> </dl> <p>Usage Examples:</p> <pre class="highlight-yaml notranslate" data-language="yaml">volume_foo:
  docker_volume.absent</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.states.docker_volume.present"> salt.states.docker_volume.present(name, driver=None, driver_opts=None, force=False)</h3> <dd>
<p>Ensure that a volume is present.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.4.</span></p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2015.8.6: </span>This state no longer deletes and re-creates a volume if the existing volume's driver does not match the <code class="docutils literal notranslate"><span class="pre">driver</span></code> parameter (unless the <code class="docutils literal notranslate"><span class="pre">force</span></code> parameter is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2017.7.0: </span>This state was renamed from <strong>docker.volume_present</strong> to <strong>docker_volume.present</strong></p> </div> <dl> <dt>name</dt>
<dd>
<p>Name of the volume</p> </dd> <dt>driver</dt>
<dd>
<p>Type of driver for that volume. If <code class="docutils literal notranslate"><span class="pre">None</span></code> and the volume does not yet exist, the volume will be created using Docker's default driver. If <code class="docutils literal notranslate"><span class="pre">None</span></code> and the volume does exist, this function does nothing, even if the existing volume's driver is not the Docker default driver. (To ensure that an existing volume's driver matches the Docker default, you must explicitly name Docker's default driver here.)</p> </dd> <dt>driver_opts</dt>
<dd>
<p>Options for the volume driver</p> </dd> <dt>force<span class="classifier">False</span>
</dt>
<dd>
<p>If the volume already exists but the existing volume's driver does not match the driver specified by the <code class="docutils literal notranslate"><span class="pre">driver</span></code> parameter, this parameter controls whether the function errors out (if <code class="docutils literal notranslate"><span class="pre">False</span></code>) or deletes and re-creates the volume (if <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.6.</span></p> </div> </dd> </dl> <p>Usage Examples:</p> <pre class="highlight-yaml notranslate" data-language="yaml">volume_foo:
  docker_volume.present</pre> <pre class="highlight-yaml notranslate" data-language="yaml">volume_bar:
  docker_volume.present
    - name: bar
    - driver: local
    - driver_opts:
        foo: bar</pre> <pre class="highlight-yaml notranslate" data-language="yaml">volume_bar:
  docker_volume.present
    - name: bar
    - driver: local
    - driver_opts:
        - foo: bar
        - option: value</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/states/all/salt.states.docker_volume.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/states/all/salt.states.docker_volume.html</a>
  </p>
</div>
