<h1>salt.beacons.status</h1> <p>The status beacon is intended to send a basic health check event up to the master, this allows for event driven routines based on presence to be set up.</p> <p>The intention of this beacon is to add the config options to add monitoring stats to the health beacon making it a one stop shop for gathering systems health and status data</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <p>To configure this beacon to use the defaults, set up an empty dict for it in the minion config:</p> <pre class="highlight-yaml notranslate" data-language="yaml">beacons:
  status: []</pre> <p>By default, all of the information from the following execution module functions will be returned:</p> <blockquote> <div>
<ul class="simple"> <li><p>loadavg</p></li> <li><p>cpustats</p></li> <li><p>meminfo</p></li> <li><p>vmstats</p></li> <li><p>time</p></li> </ul> </div>
</blockquote> <p>You can also configure your own set of functions to be returned:</p> <pre class="highlight-yaml notranslate" data-language="yaml">beacons:
  status:
    - time:
      - all
    - loadavg:
      - all</pre> <p>You may also configure only certain fields from each function to be returned. For instance, the <code class="docutils literal notranslate"><span class="pre">loadavg</span></code> function returns the following fields:</p> <blockquote> <div>
<ul class="simple"> <li><p>1-min</p></li> <li><p>5-min</p></li> <li><p>15-min</p></li> </ul> </div>
</blockquote> <p>If you wanted to return only the <code class="docutils literal notranslate"><span class="pre">1-min</span></code> and <code class="docutils literal notranslate"><span class="pre">5-min</span></code> fields for <code class="docutils literal notranslate"><span class="pre">loadavg</span></code> then you would configure:</p> <pre class="highlight-yaml notranslate" data-language="yaml">beacons:
  status:
    - loadavg:
      - 1-min
      - 5-min</pre> <p>Other functions only return a single value instead of a dictionary. With these, you may specify <code class="docutils literal notranslate"><span class="pre">all</span></code> or <code class="docutils literal notranslate"><span class="pre">0</span></code>. The following are both valid:</p> <pre class="highlight-yaml notranslate" data-language="yaml">beacons:
  status:
    - time:
      - all

beacons:
  status:
    - time:
      - 0</pre> <p>If a <code class="docutils literal notranslate"><span class="pre">status</span></code> function returns a list, you may return the index marker or markers for specific list items:</p> <pre class="highlight-yaml notranslate" data-language="yaml">beacons:
  status:
    - w:
      - 0
      - 1
      - 2</pre> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>Not all status functions are supported for every operating system. Be certain to check the minion log for errors after configuring this beacon.</p> </div> <dl class="py function"> <h3 id="salt.beacons.status.beacon"> salt.beacons.status.beacon(config)</h3> <dd>
<p>Return status for requested information</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.beacons.status.validate"> salt.beacons.status.validate(config)</h3> <dd>
<p>Validate the config is a dict</p> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/beacons/all/salt.beacons.status.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/beacons/all/salt.beacons.status.html</a>
  </p>
</div>
