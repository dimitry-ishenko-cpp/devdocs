<h1>salt.cloud.clouds.ec2</h1> <div class="section" id="the-ec2-cloud-module"> <h2>The EC2 Cloud Module</h2> <p>The EC2 cloud module is used to interact with the Amazon Elastic Compute Cloud.</p> <dl class="simple"> <dt>To use the EC2 cloud module, set up the cloud configuration at</dt>
<dd>
<p><code class="docutils literal notranslate"><span class="pre">/etc/salt/cloud.providers</span></code> or <code class="docutils literal notranslate"><span class="pre">/etc/salt/cloud.providers.d/ec2.conf</span></code>:</p> </dd> </dl> <pre class="highlight-yaml notranslate" data-language="yaml">my-ec2-config:
  # EC2 API credentials: Access Key ID and Secret Access Key.
  # Alternatively, to use IAM Instance Role credentials available via
  # EC2 metadata set both id and key to 'use-instance-role-credentials'
  id: GKTADJGHEIQSXMKKRBJ08H
  key: askdjghsdfjkghWupUjasdflkdfklgjsdfjajkghs

  # If 'role_arn' is specified the above credentials are used to
  # to assume to the role. By default, role_arn is set to None.
  role_arn: arn:aws:iam::012345678910:role/SomeRoleName

  # The ssh keyname to use
  keyname: default
  # The amazon security group
  securitygroup: ssh_open
  # The location of the private key which corresponds to the keyname
  private_key: /root/default.pem

  # Be default, service_url is set to amazonaws.com. If you are using this
  # driver for something other than Amazon EC2, change it here:
  service_url: amazonaws.com

  # The endpoint that is ultimately used is usually formed using the region
  # and the service_url. If you would like to override that entirely, you
  # can explicitly define the endpoint:
  endpoint: myendpoint.example.com:1138/services/Cloud

  # SSH Gateways can be used with this provider. Gateways can be used
  # when a salt-master is not on the same private network as the instance
  # that is being deployed.

  # Defaults to None
  # Required
  ssh_gateway: gateway.example.com

  # Defaults to port 22
  # Optional
  ssh_gateway_port: 22

  # Defaults to root
  # Optional
  ssh_gateway_username: root

  # Default to nc -q0 %h %p
  # Optional
  ssh_gateway_command: "-W %h:%p"

  # One authentication method is required. If both
  # are specified, Private key wins.

  # Private key defaults to None
  ssh_gateway_private_key: /path/to/key.pem

  # Password defaults to None
  ssh_gateway_password: ExamplePasswordHere

  driver: ec2

  # Pass userdata to the instance to be created
  userdata_file: /etc/salt/my-userdata-file

  # Instance termination protection setting
  # Default is disabled
  termination_protection: False</pre> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>requests</p> </dd> </dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.attach_volume"> salt.cloud.clouds.ec2.attach_volume(name=None, kwargs=None, instance_id=None, call=None)</h3> <dd>
<p>Attach a volume to an instance</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.avail_images"> salt.cloud.clouds.ec2.avail_images(kwargs=None, call=None)</h3> <dd>
<p>Return a dict of all available VM images on the cloud provider.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.avail_locations"> salt.cloud.clouds.ec2.avail_locations(call=None)</h3> <dd>
<p>List all available locations</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.avail_sizes"> salt.cloud.clouds.ec2.avail_sizes(call=None)</h3> <dd>
<p>Return a dict of all available VM sizes on the cloud provider with relevant data. Latest version can be found at:</p> <p><a class="reference external" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-types.html">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-types.html</a></p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.block_device_mappings"> salt.cloud.clouds.ec2.block_device_mappings(vm_)</h3> <dd>
<p>Return the block device mapping:</p> <pre class="highlight-python notranslate" data-language="python">[{'DeviceName': '/dev/sdb', 'VirtualName': 'ephemeral0'},
  {'DeviceName': '/dev/sdc', 'VirtualName': 'ephemeral1'}]</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.copy_snapshot"> salt.cloud.clouds.ec2.copy_snapshot(kwargs=None, call=None)</h3> <dd>
<p>Copy a snapshot</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.create"> salt.cloud.clouds.ec2.create(vm_=None, call=None)</h3> <dd>
<p>Create a single VM from a data dict</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.create_attach_volumes"> salt.cloud.clouds.ec2.create_attach_volumes(name, kwargs, call=None, wait_to_finish=True)</h3> <dd>
<p>Create and attach volumes to created node</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.create_keypair"> salt.cloud.clouds.ec2.create_keypair(kwargs=None, call=None)</h3> <dd>
<p>Create an SSH keypair</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.create_snapshot"> salt.cloud.clouds.ec2.create_snapshot(kwargs=None, call=None, wait_to_finish=False)</h3> <dd>
<p>Create a snapshot.</p> <dl class="simple"> <dt>volume_id</dt>
<dd>
<p>The ID of the Volume from which to create a snapshot.</p> </dd> <dt>description</dt>
<dd>
<p>The optional description of the snapshot.</p> </dd> </dl> <p>CLI Exampe:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f create_snapshot my-ec2-config volume_id=vol-351d8826
salt-cloud -f create_snapshot my-ec2-config volume_id=vol-351d8826 \
    description="My Snapshot Description"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.create_volume"> salt.cloud.clouds.ec2.create_volume(kwargs=None, call=None, wait_to_finish=False)</h3> <dd>
<p>Create a volume.</p> <dl> <dt>zone</dt>
<dd>
<p>The availability zone used to create the volume. Required. String.</p> </dd> <dt>size</dt>
<dd>
<p>The size of the volume, in GiBs. Defaults to <code class="docutils literal notranslate"><span class="pre">10</span></code>. Integer.</p> </dd> <dt>snapshot</dt>
<dd>
<p>The snapshot-id from which to create the volume. Integer.</p> </dd> <dt>type</dt>
<dd>
<p>The volume type. This can be <code class="docutils literal notranslate"><span class="pre">gp2</span></code> for General Purpose SSD, <code class="docutils literal notranslate"><span class="pre">io1</span></code> or <code class="docutils literal notranslate"><span class="pre">io2</span></code> for Provisioned IOPS SSD, <code class="docutils literal notranslate"><span class="pre">st1</span></code> for Throughput Optimized HDD, <code class="docutils literal notranslate"><span class="pre">sc1</span></code> for Cold HDD, or <code class="docutils literal notranslate"><span class="pre">standard</span></code> for Magnetic volumes. String.</p> </dd> <dt>iops</dt>
<dd>
<p>The number of I/O operations per second (IOPS) to provision for the volume, with a maximum ratio of 50 IOPS/GiB. Only valid for Provisioned IOPS SSD volumes. Integer.</p> <p>This option will only be set if <code class="docutils literal notranslate"><span class="pre">type</span></code> is also specified as <code class="docutils literal notranslate"><span class="pre">io1</span></code> or <code class="docutils literal notranslate"><span class="pre">io2</span></code></p> </dd> <dt>encrypted</dt>
<dd>
<p>Specifies whether the volume will be encrypted. Boolean.</p> <p>If <code class="docutils literal notranslate"><span class="pre">snapshot</span></code> is also given in the list of kwargs, then this value is ignored since volumes that are created from encrypted snapshots are also automatically encrypted.</p> </dd> <dt>tags</dt>
<dd>
<p>The tags to apply to the volume during creation. Dictionary.</p> </dd> <dt>call</dt>
<dd>
<p>The <code class="docutils literal notranslate"><span class="pre">create_volume</span></code> function must be called with <code class="docutils literal notranslate"><span class="pre">-f</span></code> or <code class="docutils literal notranslate"><span class="pre">--function</span></code>. String.</p> </dd> <dt>wait_to_finish</dt>
<dd>
<p>Whether or not to wait for the volume to be available. Boolean. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f create_volume my-ec2-config zone=us-east-1b
salt-cloud -f create_volume my-ec2-config zone=us-east-1b tags='{"tag1": "val1", "tag2", "val2"}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.del_tags"> salt.cloud.clouds.ec2.del_tags(name=None, kwargs=None, call=None, instance_id=None, resource_id=None)</h3> <dd>
<p>Delete tags for a resource. Normally a VM name or instance_id is passed in, but a resource_id may be passed instead. If both are passed in, the instance_id will be used.</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a del_tags mymachine tags=mytag,
salt-cloud -a del_tags mymachine tags=tag1,tag2,tag3
salt-cloud -a del_tags resource_id=vol-3267ab32 tags=tag1,tag2,tag3</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.delete_keypair"> salt.cloud.clouds.ec2.delete_keypair(kwargs=None, call=None)</h3> <dd>
<p>Delete an SSH keypair</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.delete_snapshot"> salt.cloud.clouds.ec2.delete_snapshot(kwargs=None, call=None)</h3> <dd>
<p>Delete a snapshot</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.delete_volume"> salt.cloud.clouds.ec2.delete_volume(name=None, kwargs=None, instance_id=None, call=None)</h3> <dd>
<p>Delete a volume</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.delvol_on_destroy"> salt.cloud.clouds.ec2.delvol_on_destroy(name, kwargs=None, call=None)</h3> <dd>
<p>Delete all/specified EBS volumes upon instance termination</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a delvol_on_destroy mymachine</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.describe_snapshots"> salt.cloud.clouds.ec2.describe_snapshots(kwargs=None, call=None)</h3> <dd>
<p>Describe a snapshot (or snapshots)</p> <dl class="simple"> <dt>snapshot_id</dt>
<dd>
<p>One or more snapshot IDs. Multiple IDs must be separated by ",".</p> </dd> <dt>owner</dt>
<dd>
<p>Return the snapshots owned by the specified owner. Valid values include: self, amazon, &lt;AWS Account ID&gt;. Multiple values must be separated by ",".</p> </dd> <dt>restorable_by</dt>
<dd>
<p>One or more AWS accounts IDs that can create volumes from the snapshot. Multiple aws account IDs must be separated by ",".</p> </dd> </dl> <p>TODO: Add all of the filters.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.describe_volumes"> salt.cloud.clouds.ec2.describe_volumes(kwargs=None, call=None)</h3> <dd>
<p>Describe a volume (or volumes)</p> <dl class="simple"> <dt>volume_id</dt>
<dd>
<p>One or more volume IDs. Multiple IDs must be separated by ",".</p> </dd> </dl> <p>TODO: Add all of the filters.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.destroy"> salt.cloud.clouds.ec2.destroy(name, call=None)</h3> <dd>
<p>Destroy a node. Will check termination protection and warn if enabled.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud --destroy mymachine</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.detach_volume"> salt.cloud.clouds.ec2.detach_volume(name=None, kwargs=None, instance_id=None, call=None)</h3> <dd>
<p>Detach a volume from an instance</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.disable_detailed_monitoring"> salt.cloud.clouds.ec2.disable_detailed_monitoring(name, call=None)</h3> <dd>
<p>Enable/disable detailed monitoring on a node</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.disable_term_protect"> salt.cloud.clouds.ec2.disable_term_protect(name, call=None)</h3> <dd>
<p>Disable termination protection on a node</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a disable_term_protect mymachine</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.enable_detailed_monitoring"> salt.cloud.clouds.ec2.enable_detailed_monitoring(name, call=None)</h3> <dd>
<p>Enable/disable detailed monitoring on a node</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.enable_term_protect"> salt.cloud.clouds.ec2.enable_term_protect(name, call=None)</h3> <dd>
<p>Enable termination protection on a node</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a enable_term_protect mymachine</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.get_availability_zone"> salt.cloud.clouds.ec2.get_availability_zone(vm_)</h3> <dd>
<p>Return the availability zone to use</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.get_configured_provider"> salt.cloud.clouds.ec2.get_configured_provider()</h3> <dd>
<p>Return the first configured instance.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.get_console_output"> salt.cloud.clouds.ec2.get_console_output(name=None, location=None, instance_id=None, call=None, kwargs=None)</h3> <dd>
<p>Show the console output from the instance.</p> <p>By default, returns decoded data, not the Base64-encoded data that is actually returned from the EC2 API.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.get_dependencies"> salt.cloud.clouds.ec2.get_dependencies()</h3> <dd>
<p>Warn if dependencies aren't met.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.get_imageid"> salt.cloud.clouds.ec2.get_imageid(vm_)</h3> <dd>
<p>Returns the ImageId to use</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.get_location"> salt.cloud.clouds.ec2.get_location(vm_=None)</h3> <dd>
<dl class="simple"> <dt>Return the EC2 region to use, in this order:</dt>
<dd>
<ul class="simple"> <li><p>CLI parameter</p></li> <li><p>VM parameter</p></li> <li><p>Cloud profile setting</p></li> </ul> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.get_password_data"> salt.cloud.clouds.ec2.get_password_data(name=None, kwargs=None, instance_id=None, call=None)</h3> <dd>
<p>Return password data for a Windows instance.</p> <p>By default only the encrypted password data will be returned. However, if a key_file is passed in, then a decrypted password will also be returned.</p> <p>Note that the key_file references the private key that was used to generate the keypair associated with this instance. This private key will _not_ be transmitted to Amazon; it is only used internally inside of Salt Cloud to decrypt data _after_ it has been received from Amazon.</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a get_password_data mymachine
salt-cloud -a get_password_data mymachine key_file=/root/ec2key.pem</pre> <p>Note: PKCS1_v1_5 was added in PyCrypto 2.5</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.get_placementgroup"> salt.cloud.clouds.ec2.get_placementgroup(vm_)</h3> <dd>
<p>Returns the PlacementGroup to use</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.get_provider"> salt.cloud.clouds.ec2.get_provider(vm_=None)</h3> <dd>
<p>Extract the provider name from vm</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.get_spot_config"> salt.cloud.clouds.ec2.get_spot_config(vm_)</h3> <dd>
<p>Returns the spot instance configuration for the provided vm</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.get_ssh_gateway_config"> salt.cloud.clouds.ec2.get_ssh_gateway_config(vm_)</h3> <dd>
<p>Return the ssh_gateway configuration.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.get_subnetid"> salt.cloud.clouds.ec2.get_subnetid(vm_)</h3> <dd>
<p>Returns the SubnetId to use</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.get_tags"> salt.cloud.clouds.ec2.get_tags(name=None, instance_id=None, call=None, location=None, kwargs=None, resource_id=None)</h3> <dd>
<p>Retrieve tags for a resource. Normally a VM name or instance_id is passed in, but a resource_id may be passed instead. If both are passed in, the instance_id will be used.</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a get_tags mymachine
salt-cloud -a get_tags resource_id=vol-3267ab32</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.get_tenancy"> salt.cloud.clouds.ec2.get_tenancy(vm_)</h3> <dd>
<p>Returns the Tenancy to use.</p> <p>Can be "dedicated" or "default". Cannot be present for spot instances.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.iam_profile"> salt.cloud.clouds.ec2.iam_profile(vm_)</h3> <dd>
<p>Return the IAM profile.</p> <p>The IAM instance profile to associate with the instances. This is either the Amazon Resource Name (ARN) of the instance profile or the name of the role.</p> <p>Type: String</p> <p>Default: None</p> <p>Required: No</p> <p>Example: arn:aws:iam::111111111111:instance-profile/s3access</p> <p>Example: s3access</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.import_keypair"> salt.cloud.clouds.ec2.import_keypair(kwargs=None, call=None)</h3> <dd>
<p>Import an SSH public key.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.3.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.keepvol_on_destroy"> salt.cloud.clouds.ec2.keepvol_on_destroy(name, kwargs=None, call=None)</h3> <dd>
<p>Do not delete all/specified EBS volumes upon instance termination</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a keepvol_on_destroy mymachine</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.keyname"> salt.cloud.clouds.ec2.keyname(vm_)</h3> <dd>
<p>Return the keyname</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.list_availability_zones"> salt.cloud.clouds.ec2.list_availability_zones(vm_=None)</h3> <dd>
<p>List all availability zones in the current region</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.list_nodes"> salt.cloud.clouds.ec2.list_nodes(call=None)</h3> <dd>
<p>Return a list of the VMs that are on the provider</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.list_nodes_full"> salt.cloud.clouds.ec2.list_nodes_full(location=None, call=None)</h3> <dd>
<p>Return a list of the VMs that are on the provider</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.list_nodes_min"> salt.cloud.clouds.ec2.list_nodes_min(location=None, call=None)</h3> <dd>
<p>Return a list of the VMs that are on the provider. Only a list of VM names, and their state, is returned. This is the minimum amount of information needed to check for existing VMs.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.list_nodes_select"> salt.cloud.clouds.ec2.list_nodes_select(call=None)</h3> <dd>
<p>Return a list of the VMs that are on the provider, with select fields</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.optimize_providers"> salt.cloud.clouds.ec2.optimize_providers(providers)</h3> <dd>
<p>Return an optimized list of providers.</p> <p>We want to reduce the duplication of querying the same region.</p> <p>If a provider is using the same credentials for the same region the same data will be returned for each provider, thus causing un-wanted duplicate data and API calls to EC2.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.query"> salt.cloud.clouds.ec2.query(params=None, setname=None, requesturl=None, location=None, return_url=False, return_root=False)</h3> 
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.query_instance"> salt.cloud.clouds.ec2.query_instance(vm_=None, call=None)</h3> <dd>
<p>Query an instance upon creation from the EC2 API</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.queue_instances"> salt.cloud.clouds.ec2.queue_instances(instances)</h3> <dd>
<p>Queue a set of instances to be provisioned later. Expects a list.</p> <p>Currently this only queries node data, and then places it in the cloud cache (if configured). If the salt-cloud-reactor is being used, these instances will be automatically provisioned using that.</p> <p>For more information about the salt-cloud-reactor, see:</p> <p><a class="reference external" href="https://github.com/saltstack-formulas/salt-cloud-reactor">https://github.com/saltstack-formulas/salt-cloud-reactor</a></p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.reboot"> salt.cloud.clouds.ec2.reboot(name, call=None)</h3> <dd>
<p>Reboot a node.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a reboot mymachine</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.register_image"> salt.cloud.clouds.ec2.register_image(kwargs=None, call=None)</h3> <dd>
<p>Create an ami from a snapshot</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f register_image my-ec2-config ami_name=my_ami description="my description"
        root_device_name=/dev/xvda snapshot_id=snap-xxxxxxxx</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.rename"> salt.cloud.clouds.ec2.rename(name, kwargs, call=None)</h3> <dd>
<p>Properly rename a node. Pass in the new name as "new name".</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a rename mymachine newname=yourmachine</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.request_instance"> salt.cloud.clouds.ec2.request_instance(vm_=None, call=None)</h3> <dd>
<p>Put together all of the information necessary to request an instance on EC2, and then fire off the request the instance.</p> <p>Returns data about the instance</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.script"> salt.cloud.clouds.ec2.script(vm_)</h3> <dd>
<p>Return the script deployment object</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.securitygroup"> salt.cloud.clouds.ec2.securitygroup(vm_)</h3> <dd>
<p>Return the security group</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.securitygroupid"> salt.cloud.clouds.ec2.securitygroupid(vm_)</h3> <dd>
<p>Returns the SecurityGroupId</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.set_tags"> salt.cloud.clouds.ec2.set_tags(name=None, tags=None, call=None, location=None, instance_id=None, resource_id=None, kwargs=None)</h3> <dd>
<p>Set tags for a resource. Normally a VM name or instance_id is passed in, but a resource_id may be passed instead. If both are passed in, the instance_id will be used.</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a set_tags mymachine tag1=somestuff tag2='Other stuff'
salt-cloud -a set_tags resource_id=vol-3267ab32 tag=somestuff</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.show_delvol_on_destroy"> salt.cloud.clouds.ec2.show_delvol_on_destroy(name, kwargs=None, call=None)</h3> <dd>
<p>Do not delete all/specified EBS volumes upon instance termination</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a show_delvol_on_destroy mymachine</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.show_detailed_monitoring"> salt.cloud.clouds.ec2.show_detailed_monitoring(name=None, instance_id=None, call=None, quiet=False)</h3> <dd>
<p>Show the details from EC2 regarding cloudwatch detailed monitoring.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.show_image"> salt.cloud.clouds.ec2.show_image(kwargs, call=None)</h3> <dd>
<p>Show the details from EC2 concerning an AMI</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.show_instance"> salt.cloud.clouds.ec2.show_instance(name=None, instance_id=None, call=None, kwargs=None)</h3> <dd>
<p>Show the details from EC2 concerning an AMI.</p> <p>Can be called as an action (which requires a name):</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a show_instance myinstance</pre> <p>...or as a function (which requires either a name or instance_id):</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f show_instance my-ec2 name=myinstance
salt-cloud -f show_instance my-ec2 instance_id=i-d34db33f</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.show_keypair"> salt.cloud.clouds.ec2.show_keypair(kwargs=None, call=None)</h3> <dd>
<p>Show the details of an SSH keypair</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.show_pricing"> salt.cloud.clouds.ec2.show_pricing(kwargs=None, call=None)</h3> <dd>
<p>Show pricing for a particular profile. This is only an estimate, based on unofficial pricing sources.</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f show_pricing my-ec2-config profile=my-profile</pre> <p>If pricing sources have not been cached, they will be downloaded. Once they have been cached, they will not be updated automatically. To manually update all prices, use the following command:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f update_pricing &lt;provider&gt;</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.0.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.show_term_protect"> salt.cloud.clouds.ec2.show_term_protect(name=None, instance_id=None, call=None, quiet=False)</h3> <dd>
<p>Show the details from EC2 concerning an instance's termination protection state</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.show_volume"> salt.cloud.clouds.ec2.show_volume(kwargs=None, call=None)</h3> <dd>
<p>Wrapper around describe_volumes. Here just to keep functionality. Might be depreciated later.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.sign"> salt.cloud.clouds.ec2.sign(key, msg)</h3> 
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.ssh_interface"> salt.cloud.clouds.ec2.ssh_interface(vm_)</h3> <dd>
<p>Return the ssh_interface type to connect to. Either 'public_ips' (default) or 'private_ips'.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.ssm_create_association"> salt.cloud.clouds.ec2.ssm_create_association(name=None, kwargs=None, instance_id=None, call=None)</h3> <dd>
<p>Associates the specified SSM document with the specified instance</p> <p><a class="reference external" href="http://docs.aws.amazon.com/ssm/latest/APIReference/API_CreateAssociation.html">http://docs.aws.amazon.com/ssm/latest/APIReference/API_CreateAssociation.html</a></p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a ssm_create_association ec2-instance-name ssm_document=ssm-document-name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.ssm_describe_association"> salt.cloud.clouds.ec2.ssm_describe_association(name=None, kwargs=None, instance_id=None, call=None)</h3> <dd>
<p>Describes the associations for the specified SSM document or instance.</p> <p><a class="reference external" href="http://docs.aws.amazon.com/ssm/latest/APIReference/API_DescribeAssociation.html">http://docs.aws.amazon.com/ssm/latest/APIReference/API_DescribeAssociation.html</a></p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a ssm_describe_association ec2-instance-name ssm_document=ssm-document-name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.start"> salt.cloud.clouds.ec2.start(name, call=None)</h3> <dd>
<p>Start a node</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.stop"> salt.cloud.clouds.ec2.stop(name, call=None)</h3> <dd>
<p>Stop a node</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.update_pricing"> salt.cloud.clouds.ec2.update_pricing(kwargs=None, call=None)</h3> <dd>
<p>Download most recent pricing information from AWS and convert to a local JSON file.</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f update_pricing my-ec2-config
salt-cloud -f update_pricing my-ec2-config type=linux</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.0.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.volume_create"> salt.cloud.clouds.ec2.volume_create(**kwargs)</h3> <dd>
<p>Wrapper around create_volume. Here just to ensure the compatibility with the cloud module.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.volume_list"> salt.cloud.clouds.ec2.volume_list(**kwargs)</h3> <dd>
<p>Wrapper around describe_volumes. Here just to ensure the compatibility with the cloud module.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.ec2.wait_for_instance"> salt.cloud.clouds.ec2.wait_for_instance(vm_=None, data=None, ip_address=None, display_ssh_output=True, call=None)</h3> <dd>
<p>Wait for an instance upon creation from the EC2 API, to become available</p> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/clouds/all/salt.cloud.clouds.ec2.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/clouds/all/salt.cloud.clouds.ec2.html</a>
  </p>
</div>
