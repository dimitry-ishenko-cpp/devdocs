<h1>salt.cloud.clouds.opennebula</h1> <div class="section" id="opennebula-cloud-module"> <h2>OpenNebula Cloud Module</h2> <p>The OpenNebula cloud module is used to control access to an OpenNebula cloud.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.7.0.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>lxml</p> </dd> <dt class="field-even">depends</dt> <dd class="field-even">
<p>OpenNebula installation running version <code class="docutils literal notranslate"><span class="pre">4.14</span></code> or later.</p> </dd> </dl> <p>Use of this module requires the <code class="docutils literal notranslate"><span class="pre">xml_rpc</span></code>, <code class="docutils literal notranslate"><span class="pre">user</span></code>, and <code class="docutils literal notranslate"><span class="pre">password</span></code> parameters to be set.</p> <p>Set up the cloud configuration at <code class="docutils literal notranslate"><span class="pre">/etc/salt/cloud.providers</span></code> or <code class="docutils literal notranslate"><span class="pre">/etc/salt/cloud.providers.d/opennebula.conf</span></code>:</p> <pre class="highlight-yaml notranslate" data-language="yaml">my-opennebula-config:
  xml_rpc: http://localhost:2633/RPC2
  user: oneadmin
  password: JHGhgsayu32jsa
  driver: opennebula</pre> <p>This driver supports accessing new VM instances via DNS entry instead of IP address. To enable this feature, in the provider or profile file add <cite>fqdn_base</cite> with a value matching the base of your fully-qualified domain name. Example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">my-opennebula-config:
  [...]
  fqdn_base: &lt;my.basedomain.com&gt;
  [...]</pre> <p>The driver will prepend the hostname to the fqdn_base and do a DNS lookup to find the IP of the new VM.</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f image_allocate opennebula datastore_name=default \
    data='NAME="My New Image" DESCRIPTION="Description of the image." \
    PATH=/home/one_user/images/image_name.img'
salt-cloud -f secgroup_allocate opennebula \
    data="Name = test RULE = [PROTOCOL = TCP, RULE_TYPE = inbound, \
    RANGE = 1000:2000]"</pre> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.avail_images"> salt.cloud.clouds.opennebula.avail_images(call=None)</h3> <dd>
<p>Return available OpenNebula images.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud --list-images opennebula
salt-cloud --function avail_images opennebula
salt-cloud -f avail_images opennebula</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.avail_locations"> salt.cloud.clouds.opennebula.avail_locations(call=None)</h3> <dd>
<p>Return available OpenNebula locations.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud --list-locations opennebula
salt-cloud --function avail_locations opennebula
salt-cloud -f avail_locations opennebula</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.avail_sizes"> salt.cloud.clouds.opennebula.avail_sizes(call=None)</h3> <dd>
<p>Because sizes are built into templates with OpenNebula, there will be no sizes to return here.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.create"> salt.cloud.clouds.opennebula.create(vm_)</h3> <dd>
<p>Create a single VM from a data dict.</p> <dl class="simple"> <dt>vm_</dt>
<dd>
<p>The dictionary use to create a VM.</p> </dd> </dl> <p>Optional vm_ dict options for overwriting template:</p> <dl> <dt>region_id</dt>
<dd>
<p>Optional - OpenNebula Zone ID</p> </dd> <dt>memory</dt>
<dd>
<p>Optional - In MB</p> </dd> <dt>cpu</dt>
<dd>
<p>Optional - Percent of host CPU to allocate</p> </dd> <dt>vcpu</dt>
<dd>
<blockquote> <div>
<p>Optional - Amount of vCPUs to allocate</p> </div>
</blockquote> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -p my-opennebula-profile vm_name

salt-cloud -p my-opennebula-profile vm_name memory=16384 cpu=2.5 vcpu=16</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.destroy"> salt.cloud.clouds.opennebula.destroy(name, call=None)</h3> <dd>
<p>Destroy a node. Will check termination protection and warn if enabled.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the vm to be destroyed.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud --destroy vm_name
salt-cloud -d vm_name
salt-cloud --action destroy vm_name
salt-cloud -a destroy vm_name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.get_cluster_id"> salt.cloud.clouds.opennebula.get_cluster_id(kwargs=None, call=None)</h3> <dd>
<p>Returns a cluster's ID from the given cluster name.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f get_cluster_id opennebula name=my-cluster-name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.get_configured_provider"> salt.cloud.clouds.opennebula.get_configured_provider()</h3> <dd>
<p>Return the first configured instance.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.get_datastore_id"> salt.cloud.clouds.opennebula.get_datastore_id(kwargs=None, call=None)</h3> <dd>
<p>Returns a data store's ID from the given data store name.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f get_datastore_id opennebula name=my-datastore-name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.get_dependencies"> salt.cloud.clouds.opennebula.get_dependencies()</h3> <dd>
<p>Warn if dependencies aren't met.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.get_host_id"> salt.cloud.clouds.opennebula.get_host_id(kwargs=None, call=None)</h3> <dd>
<p>Returns a host's ID from the given host name.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f get_host_id opennebula name=my-host-name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.get_image"> salt.cloud.clouds.opennebula.get_image(vm_)</h3> <dd>
<p>Return the image object to use.</p> <dl class="simple"> <dt>vm_</dt>
<dd>
<p>The VM dictionary for which to obtain an image.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.get_image_id"> salt.cloud.clouds.opennebula.get_image_id(kwargs=None, call=None)</h3> <dd>
<p>Returns an image's ID from the given image name.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f get_image_id opennebula name=my-image-name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.get_location"> salt.cloud.clouds.opennebula.get_location(vm_)</h3> <dd>
<p>Return the VM's location.</p> <dl class="simple"> <dt>vm_</dt>
<dd>
<p>The VM dictionary for which to obtain a location.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.get_one_version"> salt.cloud.clouds.opennebula.get_one_version(kwargs=None, call=None)</h3> <dd>
<p>Returns the OpenNebula version.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.5.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f get_one_version one_provider_name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.get_secgroup_id"> salt.cloud.clouds.opennebula.get_secgroup_id(kwargs=None, call=None)</h3> <dd>
<p>Returns a security group's ID from the given security group name.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f get_secgroup_id opennebula name=my-secgroup-name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.get_template"> salt.cloud.clouds.opennebula.get_template(vm_)</h3> <dd>
<p>Return the template id for a VM.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <dl class="simple"> <dt>vm_</dt>
<dd>
<p>The VM dictionary for which to obtain a template.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.get_template_id"> salt.cloud.clouds.opennebula.get_template_id(kwargs=None, call=None)</h3> <dd>
<p>Returns a template's ID from the given template name.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f get_template_id opennebula name=my-template-name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.get_template_image"> salt.cloud.clouds.opennebula.get_template_image(kwargs=None, call=None)</h3> <dd>
<p>Returns a template's image from the given template name.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.0.</span></p> </div> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f get_template_image opennebula name=my-template-name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.get_vm_id"> salt.cloud.clouds.opennebula.get_vm_id(kwargs=None, call=None)</h3> <dd>
<p>Returns a virtual machine's ID from the given virtual machine's name.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f get_vm_id opennebula name=my-vm</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.get_vn_id"> salt.cloud.clouds.opennebula.get_vn_id(kwargs=None, call=None)</h3> <dd>
<p>Returns a virtual network's ID from the given virtual network's name.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f get_vn_id opennebula name=my-vn-name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.image_allocate"> salt.cloud.clouds.opennebula.image_allocate(call=None, kwargs=None)</h3> <dd>
<p>Allocates a new image in OpenNebula.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>path</dt>
<dd>
<p>The path to a file containing the template of the image to allocate. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>The data containing the template of the image to allocate. Syntax can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> <dt>datastore_id</dt>
<dd>
<p>The ID of the data-store to be used for the new image. Can be used instead of <code class="docutils literal notranslate"><span class="pre">datastore_name</span></code>.</p> </dd> <dt>datastore_name</dt>
<dd>
<p>The name of the data-store to be used for the new image. Can be used instead of <code class="docutils literal notranslate"><span class="pre">datastore_id</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f image_allocate opennebula path=/path/to/image_file.txt datastore_id=1
salt-cloud -f image_allocate opennebula datastore_name=default \
    data='NAME="Ubuntu 14.04" PATH="/home/one_user/images/ubuntu_desktop.img" \
    DESCRIPTION="Ubuntu 14.04 for development."'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.image_clone"> salt.cloud.clouds.opennebula.image_clone(call=None, kwargs=None)</h3> <dd>
<p>Clones an existing image.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the new image.</p> </dd> <dt>image_id</dt>
<dd>
<p>The ID of the image to be cloned. Can be used instead of <code class="docutils literal notranslate"><span class="pre">image_name</span></code>.</p> </dd> <dt>image_name</dt>
<dd>
<p>The name of the image to be cloned. Can be used instead of <code class="docutils literal notranslate"><span class="pre">image_id</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f image_clone opennebula name=my-new-image image_id=10
salt-cloud -f image_clone opennebula name=my-new-image image_name=my-image-to-clone</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.image_delete"> salt.cloud.clouds.opennebula.image_delete(call=None, kwargs=None)</h3> <dd>
<p>Deletes the given image from OpenNebula. Either a name or an image_id must be supplied.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the image to delete. Can be used instead of <code class="docutils literal notranslate"><span class="pre">image_id</span></code>.</p> </dd> <dt>image_id</dt>
<dd>
<p>The ID of the image to delete. Can be used instead of <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f image_delete opennebula name=my-image
salt-cloud --function image_delete opennebula image_id=100</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.image_info"> salt.cloud.clouds.opennebula.image_info(call=None, kwargs=None)</h3> <dd>
<p>Retrieves information for a given image. Either a name or an image_id must be supplied.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the image for which to gather information. Can be used instead of <code class="docutils literal notranslate"><span class="pre">image_id</span></code>.</p> </dd> <dt>image_id</dt>
<dd>
<p>The ID of the image for which to gather information. Can be used instead of <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f image_info opennebula name=my-image
salt-cloud --function image_info opennebula image_id=5</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.image_persistent"> salt.cloud.clouds.opennebula.image_persistent(call=None, kwargs=None)</h3> <dd>
<p>Sets the Image as persistent or not persistent.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the image to set. Can be used instead of <code class="docutils literal notranslate"><span class="pre">image_id</span></code>.</p> </dd> <dt>image_id</dt>
<dd>
<p>The ID of the image to set. Can be used instead of <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p> </dd> <dt>persist</dt>
<dd>
<p>A boolean value to set the image as persistent or not. Set to true for persistent, false for non-persistent.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f image_persistent opennebula name=my-image persist=True
salt-cloud --function image_persistent opennebula image_id=5 persist=False</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.image_snapshot_delete"> salt.cloud.clouds.opennebula.image_snapshot_delete(call=None, kwargs=None)</h3> <dd>
<p>Deletes a snapshot from the image.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>image_id</dt>
<dd>
<p>The ID of the image from which to delete the snapshot. Can be used instead of <code class="docutils literal notranslate"><span class="pre">image_name</span></code>.</p> </dd> <dt>image_name</dt>
<dd>
<p>The name of the image from which to delete the snapshot. Can be used instead of <code class="docutils literal notranslate"><span class="pre">image_id</span></code>.</p> </dd> <dt>snapshot_id</dt>
<dd>
<p>The ID of the snapshot to delete.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f image_snapshot_delete vm_id=106 snapshot_id=45
salt-cloud -f image_snapshot_delete vm_name=my-vm snapshot_id=111</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.image_snapshot_flatten"> salt.cloud.clouds.opennebula.image_snapshot_flatten(call=None, kwargs=None)</h3> <dd>
<p>Flattens the snapshot of an image and discards others.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>image_id</dt>
<dd>
<p>The ID of the image. Can be used instead of <code class="docutils literal notranslate"><span class="pre">image_name</span></code>.</p> </dd> <dt>image_name</dt>
<dd>
<p>The name of the image. Can be used instead of <code class="docutils literal notranslate"><span class="pre">image_id</span></code>.</p> </dd> <dt>snapshot_id</dt>
<dd>
<p>The ID of the snapshot to flatten.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f image_snapshot_flatten vm_id=106 snapshot_id=45
salt-cloud -f image_snapshot_flatten vm_name=my-vm snapshot_id=45</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.image_snapshot_revert"> salt.cloud.clouds.opennebula.image_snapshot_revert(call=None, kwargs=None)</h3> <dd>
<p>Reverts an image state to a previous snapshot.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>image_id</dt>
<dd>
<p>The ID of the image to revert. Can be used instead of <code class="docutils literal notranslate"><span class="pre">image_name</span></code>.</p> </dd> <dt>image_name</dt>
<dd>
<p>The name of the image to revert. Can be used instead of <code class="docutils literal notranslate"><span class="pre">image_id</span></code>.</p> </dd> <dt>snapshot_id</dt>
<dd>
<p>The ID of the snapshot to which the image will be reverted.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f image_snapshot_revert vm_id=106 snapshot_id=45
salt-cloud -f image_snapshot_revert vm_name=my-vm snapshot_id=120</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.image_update"> salt.cloud.clouds.opennebula.image_update(call=None, kwargs=None)</h3> <dd>
<p>Replaces the image template contents.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>image_id</dt>
<dd>
<p>The ID of the image to update. Can be used instead of <code class="docutils literal notranslate"><span class="pre">image_name</span></code>.</p> </dd> <dt>image_name</dt>
<dd>
<p>The name of the image to update. Can be used instead of <code class="docutils literal notranslate"><span class="pre">image_id</span></code>.</p> </dd> <dt>path</dt>
<dd>
<p>The path to a file containing the template of the image. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>Contains the template of the image. Syntax can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> <dt>update_type</dt>
<dd>
<p>There are two ways to update an image: <code class="docutils literal notranslate"><span class="pre">replace</span></code> the whole template or <code class="docutils literal notranslate"><span class="pre">merge</span></code> the new template with the existing one.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f image_update opennebula image_id=0 file=/path/to/image_update_file.txt update_type=replace
salt-cloud -f image_update opennebula image_name="Ubuntu 14.04" update_type=merge \
    data='NAME="Ubuntu Dev" PATH="/home/one_user/images/ubuntu_desktop.img" \
    DESCRIPTION = "Ubuntu 14.04 for development."'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.list_clusters"> salt.cloud.clouds.opennebula.list_clusters(call=None)</h3> <dd>
<p>Returns a list of clusters in OpenNebula.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f list_clusters opennebula</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.list_datastores"> salt.cloud.clouds.opennebula.list_datastores(call=None)</h3> <dd>
<p>Returns a list of data stores on OpenNebula.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f list_datastores opennebula</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.list_hosts"> salt.cloud.clouds.opennebula.list_hosts(call=None)</h3> <dd>
<p>Returns a list of hosts on OpenNebula.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f list_hosts opennebula</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.list_nodes"> salt.cloud.clouds.opennebula.list_nodes(call=None)</h3> <dd>
<p>Return a list of VMs on OpenNebula.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -Q
salt-cloud --query
salt-cloud --function list_nodes opennebula
salt-cloud -f list_nodes opennebula</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.list_nodes_full"> salt.cloud.clouds.opennebula.list_nodes_full(call=None)</h3> <dd>
<p>Return a list of the VMs on OpenNebula.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -F
salt-cloud --full-query
salt-cloud --function list_nodes_full opennebula
salt-cloud -f list_nodes_full opennebula</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.list_nodes_select"> salt.cloud.clouds.opennebula.list_nodes_select(call=None)</h3> <dd>
<p>Return a list of the VMs that are on the provider, with select fields.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.list_security_groups"> salt.cloud.clouds.opennebula.list_security_groups(call=None)</h3> <dd>
<p>Lists all security groups available to the user and the user's groups.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f list_security_groups opennebula</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.list_templates"> salt.cloud.clouds.opennebula.list_templates(call=None)</h3> <dd>
<p>Lists all templates available to the user and the user's groups.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f list_templates opennebula</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.list_vns"> salt.cloud.clouds.opennebula.list_vns(call=None)</h3> <dd>
<p>Lists all virtual networks available to the user and the user's groups.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f list_vns opennebula</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.reboot"> salt.cloud.clouds.opennebula.reboot(name, call=None)</h3> <dd>
<p>Reboot a VM.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM to reboot.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a reboot my-vm</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.secgroup_allocate"> salt.cloud.clouds.opennebula.secgroup_allocate(call=None, kwargs=None)</h3> <dd>
<p>Allocates a new security group in OpenNebula.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>path</dt>
<dd>
<p>The path to a file containing the template of the security group. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>The template data of the security group. Syntax can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f secgroup_allocate opennebula path=/path/to/secgroup_file.txt
salt-cloud -f secgroup_allocate opennebula \
    data="NAME = test RULE = [PROTOCOL = TCP, RULE_TYPE = inbound, \
    RANGE = 1000:2000]"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.secgroup_clone"> salt.cloud.clouds.opennebula.secgroup_clone(call=None, kwargs=None)</h3> <dd>
<p>Clones an existing security group.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the new template.</p> </dd> <dt>secgroup_id</dt>
<dd>
<p>The ID of the security group to be cloned. Can be used instead of <code class="docutils literal notranslate"><span class="pre">secgroup_name</span></code>.</p> </dd> <dt>secgroup_name</dt>
<dd>
<p>The name of the security group to be cloned. Can be used instead of <code class="docutils literal notranslate"><span class="pre">secgroup_id</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f secgroup_clone opennebula name=my-cloned-secgroup secgroup_id=0
salt-cloud -f secgroup_clone opennebula name=my-cloned-secgroup secgroup_name=my-secgroup</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.secgroup_delete"> salt.cloud.clouds.opennebula.secgroup_delete(call=None, kwargs=None)</h3> <dd>
<p>Deletes the given security group from OpenNebula. Either a name or a secgroup_id must be supplied.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the security group to delete. Can be used instead of <code class="docutils literal notranslate"><span class="pre">secgroup_id</span></code>.</p> </dd> <dt>secgroup_id</dt>
<dd>
<p>The ID of the security group to delete. Can be used instead of <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f secgroup_delete opennebula name=my-secgroup
salt-cloud --function secgroup_delete opennebula secgroup_id=100</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.secgroup_info"> salt.cloud.clouds.opennebula.secgroup_info(call=None, kwargs=None)</h3> <dd>
<p>Retrieves information for the given security group. Either a name or a secgroup_id must be supplied.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the security group for which to gather information. Can be used instead of <code class="docutils literal notranslate"><span class="pre">secgroup_id</span></code>.</p> </dd> <dt>secgroup_id</dt>
<dd>
<p>The ID of the security group for which to gather information. Can be used instead of <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f secgroup_info opennebula name=my-secgroup
salt-cloud --function secgroup_info opennebula secgroup_id=5</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.secgroup_update"> salt.cloud.clouds.opennebula.secgroup_update(call=None, kwargs=None)</h3> <dd>
<p>Replaces the security group template contents.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>secgroup_id</dt>
<dd>
<p>The ID of the security group to update. Can be used instead of <code class="docutils literal notranslate"><span class="pre">secgroup_name</span></code>.</p> </dd> <dt>secgroup_name</dt>
<dd>
<p>The name of the security group to update. Can be used instead of <code class="docutils literal notranslate"><span class="pre">secgroup_id</span></code>.</p> </dd> <dt>path</dt>
<dd>
<p>The path to a file containing the template of the security group. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>The template data of the security group. Syntax can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> <dt>update_type</dt>
<dd>
<p>There are two ways to update a security group: <code class="docutils literal notranslate"><span class="pre">replace</span></code> the whole template or <code class="docutils literal notranslate"><span class="pre">merge</span></code> the new template with the existing one.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud --function secgroup_update opennebula secgroup_id=100 \
    path=/path/to/secgroup_update_file.txt \
    update_type=replace
salt-cloud -f secgroup_update opennebula secgroup_name=my-secgroup update_type=merge \
    data="Name = test RULE = [PROTOCOL = TCP, RULE_TYPE = inbound, RANGE = 1000:2000]"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.show_instance"> salt.cloud.clouds.opennebula.show_instance(name, call=None)</h3> <dd>
<p>Show the details from OpenNebula concerning a named VM.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM for which to display details.</p> </dd> <dt>call</dt>
<dd>
<p>Type of call to use with this function such as <code class="docutils literal notranslate"><span class="pre">function</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud --action show_instance vm_name
salt-cloud -a show_instance vm_name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.start"> salt.cloud.clouds.opennebula.start(name, call=None)</h3> <dd>
<p>Start a VM.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM to start.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a start my-vm</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.stop"> salt.cloud.clouds.opennebula.stop(name, call=None)</h3> <dd>
<p>Stop a VM.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM to stop.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a stop my-vm</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.template_allocate"> salt.cloud.clouds.opennebula.template_allocate(call=None, kwargs=None)</h3> <dd>
<p>Allocates a new template in OpenNebula.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>path</dt>
<dd>
<p>The path to a file containing the elements of the template to be allocated. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>Contains the elements of the template to be allocated. Syntax can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f template_allocate opennebula path=/path/to/template_file.txt
salt-cloud -f template_allocate opennebula \
    data='CPU="1.0" DISK=[IMAGE="Ubuntu-14.04"] GRAPHICS=[LISTEN="0.0.0.0",TYPE="vnc"] \
    MEMORY="1024" NETWORK="yes" NIC=[NETWORK="192net",NETWORK_UNAME="oneadmin"] \
    OS=[ARCH="x86_64"] SUNSTONE_CAPACITY_SELECT="YES" SUNSTONE_NETWORK_SELECT="YES" \
    VCPU="1"'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.template_clone"> salt.cloud.clouds.opennebula.template_clone(call=None, kwargs=None)</h3> <dd>
<p>Clones an existing virtual machine template.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the new template.</p> </dd> <dt>template_id</dt>
<dd>
<p>The ID of the template to be cloned. Can be used instead of <code class="docutils literal notranslate"><span class="pre">template_name</span></code>.</p> </dd> <dt>template_name</dt>
<dd>
<p>The name of the template to be cloned. Can be used instead of <code class="docutils literal notranslate"><span class="pre">template_id</span></code>.</p> </dd> <dt>clone_images</dt>
<dd>
<p>Optional, defaults to False. Indicates if the images attached to the template should be cloned as well.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f template_clone opennebula name=my-new-template template_id=0
salt-cloud -f template_clone opennebula name=my-new-template template_name=my-template</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.template_delete"> salt.cloud.clouds.opennebula.template_delete(call=None, kwargs=None)</h3> <dd>
<p>Deletes the given template from OpenNebula. Either a name or a template_id must be supplied.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the template to delete. Can be used instead of <code class="docutils literal notranslate"><span class="pre">template_id</span></code>.</p> </dd> <dt>template_id</dt>
<dd>
<p>The ID of the template to delete. Can be used instead of <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f template_delete opennebula name=my-template
salt-cloud --function template_delete opennebula template_id=5</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.template_instantiate"> salt.cloud.clouds.opennebula.template_instantiate(call=None, kwargs=None)</h3> <dd>
<p>Instantiates a new virtual machine from a template.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p><code class="docutils literal notranslate"><span class="pre">template_instantiate</span></code> creates a VM on OpenNebula from a template, but it does not install Salt on the new VM. Use the <code class="docutils literal notranslate"><span class="pre">create</span></code> function for that functionality: <code class="docutils literal notranslate"><span class="pre">salt-cloud</span> <span class="pre">-p</span> <span class="pre">opennebula-profile</span> <span class="pre">vm-name</span></code>.</p> </div> <dl class="simple"> <dt>vm_name</dt>
<dd>
<p>Name for the new VM instance.</p> </dd> <dt>template_id</dt>
<dd>
<p>The ID of the template from which the VM will be created. Can be used instead of <code class="docutils literal notranslate"><span class="pre">template_name</span></code>.</p> </dd> <dt>template_name</dt>
<dd>
<p>The name of the template from which the VM will be created. Can be used instead of <code class="docutils literal notranslate"><span class="pre">template_id</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f template_instantiate opennebula vm_name=my-new-vm template_id=0</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.template_update"> salt.cloud.clouds.opennebula.template_update(call=None, kwargs=None)</h3> <dd>
<p>Replaces the template contents.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>template_id</dt>
<dd>
<p>The ID of the template to update. Can be used instead of <code class="docutils literal notranslate"><span class="pre">template_name</span></code>.</p> </dd> <dt>template_name</dt>
<dd>
<p>The name of the template to update. Can be used instead of <code class="docutils literal notranslate"><span class="pre">template_id</span></code>.</p> </dd> <dt>path</dt>
<dd>
<p>The path to a file containing the elements of the template to be updated. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>Contains the elements of the template to be updated. Syntax can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> <dt>update_type</dt>
<dd>
<p>There are two ways to update a template: <code class="docutils literal notranslate"><span class="pre">replace</span></code> the whole template or <code class="docutils literal notranslate"><span class="pre">merge</span></code> the new template with the existing one.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud --function template_update opennebula template_id=1 update_type=replace \
    path=/path/to/template_update_file.txt
salt-cloud -f template_update opennebula template_name=my-template update_type=merge \
    data='CPU="1.0" DISK=[IMAGE="Ubuntu-14.04"] GRAPHICS=[LISTEN="0.0.0.0",TYPE="vnc"] \
    MEMORY="1024" NETWORK="yes" NIC=[NETWORK="192net",NETWORK_UNAME="oneadmin"] \
    OS=[ARCH="x86_64"] SUNSTONE_CAPACITY_SELECT="YES" SUNSTONE_NETWORK_SELECT="YES" \
    VCPU="1"'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_action"> salt.cloud.clouds.opennebula.vm_action(name, kwargs=None, call=None)</h3> <dd>
<p>Submits an action to be performed on a given virtual machine.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM to action.</p> </dd> <dt>action</dt>
<dd>
<dl class="simple"> <dt>The action to be performed on the VM. Available options include:</dt>
<dd>
<ul class="simple"> <li><p>boot</p></li> <li><p>delete</p></li> <li><p>delete-recreate</p></li> <li><p>hold</p></li> <li><p>poweroff</p></li> <li><p>poweroff-hard</p></li> <li><p>reboot</p></li> <li><p>reboot-hard</p></li> <li><p>release</p></li> <li><p>resched</p></li> <li><p>resume</p></li> <li><p>shutdown</p></li> <li><p>shutdown-hard</p></li> <li><p>stop</p></li> <li><p>suspend</p></li> <li><p>undeploy</p></li> <li><p>undeploy-hard</p></li> <li><p>unresched</p></li> </ul> </dd> </dl> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_action my-vm action='release'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_allocate"> salt.cloud.clouds.opennebula.vm_allocate(call=None, kwargs=None)</h3> <dd>
<p>Allocates a new virtual machine in OpenNebula.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>path</dt>
<dd>
<p>The path to a file defining the template of the VM to allocate. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>Contains the template definitions of the VM to allocate. Syntax can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> <dt>hold</dt>
<dd>
<p>If this parameter is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the VM will be created in the <code class="docutils literal notranslate"><span class="pre">HOLD</span></code> state. If not set, the VM is created in the <code class="docutils literal notranslate"><span class="pre">PENDING</span></code> state. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f vm_allocate path=/path/to/vm_template.txt
salt-cloud --function vm_allocate path=/path/to/vm_template.txt hold=True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_attach"> salt.cloud.clouds.opennebula.vm_attach(name, kwargs=None, call=None)</h3> <dd>
<p>Attaches a new disk to the given virtual machine.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM for which to attach the new disk.</p> </dd> <dt>path</dt>
<dd>
<p>The path to a file containing a single disk vector attribute. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>Contains the data needed to attach a single disk vector attribute. Syntax can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_attach my-vm path=/path/to/disk_file.txt
salt-cloud -a vm_attach my-vm data="DISK=[DISK_ID=1]"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_attach_nic"> salt.cloud.clouds.opennebula.vm_attach_nic(name, kwargs=None, call=None)</h3> <dd>
<p>Attaches a new network interface to the given virtual machine.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM for which to attach the new network interface.</p> </dd> <dt>path</dt>
<dd>
<p>The path to a file containing a single NIC vector attribute. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>Contains the single NIC vector attribute to attach to the VM. Syntax can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_attach_nic my-vm path=/path/to/nic_file.txt
salt-cloud -a vm_attach_nic my-vm data="NIC=[NETWORK_ID=1]"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_deploy"> salt.cloud.clouds.opennebula.vm_deploy(name, kwargs=None, call=None)</h3> <dd>
<p>Initiates the instance of the given VM on the target host.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM to deploy.</p> </dd> <dt>host_id</dt>
<dd>
<p>The ID of the target host where the VM will be deployed. Can be used instead of <code class="docutils literal notranslate"><span class="pre">host_name</span></code>.</p> </dd> <dt>host_name</dt>
<dd>
<p>The name of the target host where the VM will be deployed. Can be used instead of <code class="docutils literal notranslate"><span class="pre">host_id</span></code>.</p> </dd> <dt>capacity_maintained</dt>
<dd>
<p>True to enforce the Host capacity is not over-committed. This parameter is only acknowledged for users in the <code class="docutils literal notranslate"><span class="pre">oneadmin</span></code> group. Host capacity will be always enforced for regular users.</p> </dd> <dt>datastore_id</dt>
<dd>
<p>The ID of the target system data-store where the VM will be deployed. Optional and can be used instead of <code class="docutils literal notranslate"><span class="pre">datastore_name</span></code>. If neither <code class="docutils literal notranslate"><span class="pre">datastore_id</span></code> nor <code class="docutils literal notranslate"><span class="pre">datastore_name</span></code> are set, OpenNebula will choose the data-store.</p> </dd> <dt>datastore_name</dt>
<dd>
<p>The name of the target system data-store where the VM will be deployed. Optional, and can be used instead of <code class="docutils literal notranslate"><span class="pre">datastore_id</span></code>. If neither <code class="docutils literal notranslate"><span class="pre">datastore_id</span></code> nor <code class="docutils literal notranslate"><span class="pre">datastore_name</span></code> are set, OpenNebula will choose the data-store.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_deploy my-vm host_id=0
salt-cloud -a vm_deploy my-vm host_id=1 capacity_maintained=False
salt-cloud -a vm_deploy my-vm host_name=host01 datastore_id=1
salt-cloud -a vm_deploy my-vm host_name=host01 datastore_name=default</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_detach"> salt.cloud.clouds.opennebula.vm_detach(name, kwargs=None, call=None)</h3> <dd>
<p>Detaches a disk from a virtual machine.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM from which to detach the disk.</p> </dd> <dt>disk_id</dt>
<dd>
<p>The ID of the disk to detach.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_detach my-vm disk_id=1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_detach_nic"> salt.cloud.clouds.opennebula.vm_detach_nic(name, kwargs=None, call=None)</h3> <dd>
<p>Detaches a disk from a virtual machine.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM from which to detach the network interface.</p> </dd> <dt>nic_id</dt>
<dd>
<p>The ID of the nic to detach.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_detach_nic my-vm nic_id=1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_disk_save"> salt.cloud.clouds.opennebula.vm_disk_save(name, kwargs=None, call=None)</h3> <dd>
<p>Sets the disk to be saved in the given image.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM containing the disk to save.</p> </dd> <dt>disk_id</dt>
<dd>
<p>The ID of the disk to save.</p> </dd> <dt>image_name</dt>
<dd>
<p>The name of the new image where the disk will be saved.</p> </dd> <dt>image_type</dt>
<dd>
<p>The type for the new image. If not set, then the default <code class="docutils literal notranslate"><span class="pre">ONED</span></code> Configuration will be used. Other valid types include: OS, CDROM, DATABLOCK, KERNEL, RAMDISK, and CONTEXT.</p> </dd> <dt>snapshot_id</dt>
<dd>
<p>The ID of the snapshot to export. If not set, the current image state will be used.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_disk_save my-vm disk_id=1 image_name=my-new-image
salt-cloud -a vm_disk_save my-vm disk_id=1 image_name=my-new-image image_type=CONTEXT snapshot_id=10</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_disk_snapshot_create"> salt.cloud.clouds.opennebula.vm_disk_snapshot_create(name, kwargs=None, call=None)</h3> <dd>
<p>Takes a new snapshot of the disk image.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM of which to take the snapshot.</p> </dd> <dt>disk_id</dt>
<dd>
<p>The ID of the disk to save.</p> </dd> <dt>description</dt>
<dd>
<p>The description for the snapshot.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_disk_snapshot_create my-vm disk_id=0 description="My Snapshot Description"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_disk_snapshot_delete"> salt.cloud.clouds.opennebula.vm_disk_snapshot_delete(name, kwargs=None, call=None)</h3> <dd>
<p>Deletes a disk snapshot based on the given VM and the disk_id.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM containing the snapshot to delete.</p> </dd> <dt>disk_id</dt>
<dd>
<p>The ID of the disk to save.</p> </dd> <dt>snapshot_id</dt>
<dd>
<p>The ID of the snapshot to be deleted.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_disk_snapshot_delete my-vm disk_id=0 snapshot_id=6</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_disk_snapshot_revert"> salt.cloud.clouds.opennebula.vm_disk_snapshot_revert(name, kwargs=None, call=None)</h3> <dd>
<p>Reverts a disk state to a previously taken snapshot.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM containing the snapshot.</p> </dd> <dt>disk_id</dt>
<dd>
<p>The ID of the disk to revert its state.</p> </dd> <dt>snapshot_id</dt>
<dd>
<p>The ID of the snapshot to which the snapshot should be reverted.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_disk_snapshot_revert my-vm disk_id=0 snapshot_id=6</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_info"> salt.cloud.clouds.opennebula.vm_info(name, call=None)</h3> <dd>
<p>Retrieves information for a given virtual machine. A VM name must be supplied.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM for which to gather information.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_info my-vm</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_migrate"> salt.cloud.clouds.opennebula.vm_migrate(name, kwargs=None, call=None)</h3> <dd>
<p>Migrates the specified virtual machine to the specified target host.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM to migrate.</p> </dd> <dt>host_id</dt>
<dd>
<p>The ID of the host to which the VM will be migrated. Can be used instead of <code class="docutils literal notranslate"><span class="pre">host_name</span></code>.</p> </dd> <dt>host_name</dt>
<dd>
<p>The name of the host to which the VM will be migrated. Can be used instead of <code class="docutils literal notranslate"><span class="pre">host_id</span></code>.</p> </dd> <dt>live_migration</dt>
<dd>
<p>If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, a live-migration will be performed. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p> </dd> <dt>capacity_maintained</dt>
<dd>
<p>True to enforce the Host capacity is not over-committed. This parameter is only acknowledged for users in the <code class="docutils literal notranslate"><span class="pre">oneadmin</span></code> group. Host capacity will be always enforced for regular users.</p> </dd> <dt>datastore_id</dt>
<dd>
<p>The target system data-store ID where the VM will be migrated. Can be used instead of <code class="docutils literal notranslate"><span class="pre">datastore_name</span></code>.</p> </dd> <dt>datastore_name</dt>
<dd>
<p>The name of the data-store target system where the VM will be migrated. Can be used instead of <code class="docutils literal notranslate"><span class="pre">datastore_id</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_migrate my-vm host_id=0 datastore_id=1
salt-cloud -a vm_migrate my-vm host_id=0 datastore_id=1 live_migration=True
salt-cloud -a vm_migrate my-vm host_name=host01 datastore_name=default</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_monitoring"> salt.cloud.clouds.opennebula.vm_monitoring(name, call=None)</h3> <dd>
<p>Returns the monitoring records for a given virtual machine. A VM name must be supplied.</p> <p>The monitoring information returned is a list of VM elements. Each VM element contains the complete dictionary of the VM with the updated information returned by the poll action.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM for which to gather monitoring records.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_monitoring my-vm</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_resize"> salt.cloud.clouds.opennebula.vm_resize(name, kwargs=None, call=None)</h3> <dd>
<p>Changes the capacity of the virtual machine.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM to resize.</p> </dd> <dt>path</dt>
<dd>
<p>The path to a file containing new capacity elements CPU, VCPU, MEMORY. If one of them is not present, or its value is 0, the VM will not be re-sized. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>Contains the new capacity elements CPU, VCPU, and MEMORY. If one of them is not present, or its value is 0, the VM will not be re-sized. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> <dt>capacity_maintained</dt>
<dd>
<p>True to enforce the Host capacity is not over-committed. This parameter is only acknowledged for users in the <code class="docutils literal notranslate"><span class="pre">oneadmin</span></code> group. Host capacity will be always enforced for regular users.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_resize my-vm path=/path/to/capacity_template.txt
salt-cloud -a vm_resize my-vm path=/path/to/capacity_template.txt capacity_maintained=False
salt-cloud -a vm_resize my-vm data="CPU=1 VCPU=1 MEMORY=1024"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_snapshot_create"> salt.cloud.clouds.opennebula.vm_snapshot_create(vm_name, kwargs=None, call=None)</h3> <dd>
<p>Creates a new virtual machine snapshot from the provided VM.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>vm_name</dt>
<dd>
<p>The name of the VM from which to create the snapshot.</p> </dd> <dt>snapshot_name</dt>
<dd>
<p>The name of the snapshot to be created.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_snapshot_create my-vm snapshot_name=my-new-snapshot</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_snapshot_delete"> salt.cloud.clouds.opennebula.vm_snapshot_delete(vm_name, kwargs=None, call=None)</h3> <dd>
<p>Deletes a virtual machine snapshot from the provided VM.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>vm_name</dt>
<dd>
<p>The name of the VM from which to delete the snapshot.</p> </dd> <dt>snapshot_id</dt>
<dd>
<p>The ID of the snapshot to be deleted.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_snapshot_delete my-vm snapshot_id=8</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_snapshot_revert"> salt.cloud.clouds.opennebula.vm_snapshot_revert(vm_name, kwargs=None, call=None)</h3> <dd>
<p>Reverts a virtual machine to a snapshot</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>vm_name</dt>
<dd>
<p>The name of the VM to revert.</p> </dd> <dt>snapshot_id</dt>
<dd>
<p>The snapshot ID.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_snapshot_revert my-vm snapshot_id=42</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vm_update"> salt.cloud.clouds.opennebula.vm_update(name, kwargs=None, call=None)</h3> <dd>
<p>Replaces the user template contents.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the VM to update.</p> </dd> <dt>path</dt>
<dd>
<p>The path to a file containing new user template contents. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>Contains the new user template contents. Syntax can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> <dt>update_type</dt>
<dd>
<p>There are two ways to update a VM: <code class="docutils literal notranslate"><span class="pre">replace</span></code> the whole template or <code class="docutils literal notranslate"><span class="pre">merge</span></code> the new template with the existing one.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -a vm_update my-vm path=/path/to/user_template_file.txt update_type='replace'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vn_add_ar"> salt.cloud.clouds.opennebula.vn_add_ar(call=None, kwargs=None)</h3> <dd>
<p>Adds address ranges to a given virtual network.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>vn_id</dt>
<dd>
<p>The ID of the virtual network to add the address range. Can be used instead of <code class="docutils literal notranslate"><span class="pre">vn_name</span></code>.</p> </dd> <dt>vn_name</dt>
<dd>
<p>The name of the virtual network to add the address range. Can be used instead of <code class="docutils literal notranslate"><span class="pre">vn_id</span></code>.</p> </dd> <dt>path</dt>
<dd>
<p>The path to a file containing the template of the address range to add. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>Contains the template of the address range to add. Syntax can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f vn_add_ar opennebula vn_id=3 path=/path/to/address_range.txt
salt-cloud -f vn_add_ar opennebula vn_name=my-vn \
    data="AR=[TYPE=IP4, IP=192.168.0.5, SIZE=10]"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vn_allocate"> salt.cloud.clouds.opennebula.vn_allocate(call=None, kwargs=None)</h3> <dd>
<p>Allocates a new virtual network in OpenNebula.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>path</dt>
<dd>
<p>The path to a file containing the template of the virtual network to allocate. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>Contains the template of the virtual network to allocate. Syntax can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> <dt>cluster_id</dt>
<dd>
<p>The ID of the cluster for which to add the new virtual network. Can be used instead of <code class="docutils literal notranslate"><span class="pre">cluster_name</span></code>. If neither <code class="docutils literal notranslate"><span class="pre">cluster_id</span></code> nor <code class="docutils literal notranslate"><span class="pre">cluster_name</span></code> are provided, the virtual network won’t be added to any cluster.</p> </dd> <dt>cluster_name</dt>
<dd>
<p>The name of the cluster for which to add the new virtual network. Can be used instead of <code class="docutils literal notranslate"><span class="pre">cluster_id</span></code>. If neither <code class="docutils literal notranslate"><span class="pre">cluster_name</span></code> nor <code class="docutils literal notranslate"><span class="pre">cluster_id</span></code> are provided, the virtual network won't be added to any cluster.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f vn_allocate opennebula path=/path/to/vn_file.txt</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vn_delete"> salt.cloud.clouds.opennebula.vn_delete(call=None, kwargs=None)</h3> <dd>
<p>Deletes the given virtual network from OpenNebula. Either a name or a vn_id must be supplied.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the virtual network to delete. Can be used instead of <code class="docutils literal notranslate"><span class="pre">vn_id</span></code>.</p> </dd> <dt>vn_id</dt>
<dd>
<p>The ID of the virtual network to delete. Can be used instead of <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f vn_delete opennebula name=my-virtual-network
salt-cloud --function vn_delete opennebula vn_id=3</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vn_free_ar"> salt.cloud.clouds.opennebula.vn_free_ar(call=None, kwargs=None)</h3> <dd>
<p>Frees a reserved address range from a virtual network.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>vn_id</dt>
<dd>
<p>The ID of the virtual network from which to free an address range. Can be used instead of <code class="docutils literal notranslate"><span class="pre">vn_name</span></code>.</p> </dd> <dt>vn_name</dt>
<dd>
<p>The name of the virtual network from which to free an address range. Can be used instead of <code class="docutils literal notranslate"><span class="pre">vn_id</span></code>.</p> </dd> <dt>ar_id</dt>
<dd>
<p>The ID of the address range to free.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f vn_free_ar opennebula vn_id=3 ar_id=1
salt-cloud -f vn_free_ar opennebula vn_name=my-vn ar_id=1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vn_hold"> salt.cloud.clouds.opennebula.vn_hold(call=None, kwargs=None)</h3> <dd>
<p>Holds a virtual network lease as used.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>vn_id</dt>
<dd>
<p>The ID of the virtual network from which to hold the lease. Can be used instead of <code class="docutils literal notranslate"><span class="pre">vn_name</span></code>.</p> </dd> <dt>vn_name</dt>
<dd>
<p>The name of the virtual network from which to hold the lease. Can be used instead of <code class="docutils literal notranslate"><span class="pre">vn_id</span></code>.</p> </dd> <dt>path</dt>
<dd>
<p>The path to a file defining the template of the lease to hold. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>Contains the template of the lease to hold. Syntax can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f vn_hold opennebula vn_id=3 path=/path/to/vn_hold_file.txt
salt-cloud -f vn_hold opennebula vn_name=my-vn data="LEASES=[IP=192.168.0.5]"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vn_info"> salt.cloud.clouds.opennebula.vn_info(call=None, kwargs=None)</h3> <dd>
<p>Retrieves information for the virtual network.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the virtual network for which to gather information. Can be used instead of <code class="docutils literal notranslate"><span class="pre">vn_id</span></code>.</p> </dd> <dt>vn_id</dt>
<dd>
<p>The ID of the virtual network for which to gather information. Can be used instead of <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f vn_info opennebula vn_id=3
salt-cloud --function vn_info opennebula name=public</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vn_release"> salt.cloud.clouds.opennebula.vn_release(call=None, kwargs=None)</h3> <dd>
<p>Releases a virtual network lease that was previously on hold.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>vn_id</dt>
<dd>
<p>The ID of the virtual network from which to release the lease. Can be used instead of <code class="docutils literal notranslate"><span class="pre">vn_name</span></code>.</p> </dd> <dt>vn_name</dt>
<dd>
<p>The name of the virtual network from which to release the lease. Can be used instead of <code class="docutils literal notranslate"><span class="pre">vn_id</span></code>.</p> </dd> <dt>path</dt>
<dd>
<p>The path to a file defining the template of the lease to release. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>Contains the template defining the lease to release. Syntax can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f vn_release opennebula vn_id=3 path=/path/to/vn_release_file.txt
salt-cloud =f vn_release opennebula vn_name=my-vn data="LEASES=[IP=192.168.0.5]"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.cloud.clouds.opennebula.vn_reserve"> salt.cloud.clouds.opennebula.vn_reserve(call=None, kwargs=None)</h3> <dd>
<p>Reserve network addresses.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="simple"> <dt>vn_id</dt>
<dd>
<p>The ID of the virtual network from which to reserve addresses. Can be used instead of vn_name.</p> </dd> <dt>vn_name</dt>
<dd>
<p>The name of the virtual network from which to reserve addresses. Can be used instead of vn_id.</p> </dd> <dt>path</dt>
<dd>
<p>The path to a file defining the template of the address reservation. Syntax within the file can be the usual attribute=value or XML. Can be used instead of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p> </dd> <dt>data</dt>
<dd>
<p>Contains the template defining the address reservation. Syntax can be the usual attribute=value or XML. Data provided must be wrapped in double quotes. Can be used instead of <code class="docutils literal notranslate"><span class="pre">path</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-cloud -f vn_reserve opennebula vn_id=3 path=/path/to/vn_reserve_file.txt
salt-cloud -f vn_reserve opennebula vn_name=my-vn data="SIZE=10 AR_ID=8 NETWORK_ID=1"</pre> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/clouds/all/salt.cloud.clouds.opennebula.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/clouds/all/salt.cloud.clouds.opennebula.html</a>
  </p>
</div>
