<h1>salt.fileserver.gitfs</h1> <p>Git Fileserver Backend</p> <p>With this backend, branches and tags in a remote git repository are exposed to salt as different environments.</p> <p>To enable, add <code class="docutils literal notranslate"><span class="pre">gitfs</span></code> to the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/configuration/master.html#std-conf_master-fileserver_backend"><code class="xref std std-conf_master docutils literal notranslate"><span class="pre">fileserver_backend</span></code></a> option in the Master config file.</p> <pre class="highlight-yaml notranslate" data-language="yaml">fileserver_backend:
  - gitfs</pre> <div class="admonition note"> <p class="admonition-title">Note</p> <p><code class="docutils literal notranslate"><span class="pre">git</span></code> also works here. Prior to the 2018.3.0 release, <em>only</em> <code class="docutils literal notranslate"><span class="pre">git</span></code> would work.</p> </div> <p>The Git fileserver backend supports both <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> and <a class="reference external" href="https://github.com/gitpython-developers/GitPython">GitPython</a>, to provide the Python interface to git. If both are present, the order of preference for which one will be chosen is the same as the order in which they were listed: pygit2, then GitPython.</p> <p>An optional master config parameter (<a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/configuration/master.html#std-conf_master-gitfs_provider"><code class="xref std std-conf_master docutils literal notranslate"><span class="pre">gitfs_provider</span></code></a>) can be used to specify which provider should be used, in the event that compatible versions of both <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> and <a class="reference external" href="https://github.com/gitpython-developers/GitPython">GitPython</a> are installed.</p> <p>More detailed information on how to use GitFS can be found in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/topics/tutorials/gitfs.html#tutorial-gitfs"><span class="std std-ref">GitFS Walkthrough</span></a>.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Minimum requirements</p> <p>To use <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> for GitFS requires a minimum <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> version of 0.20.3. <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> 0.20.3 requires <a class="reference external" href="https://libgit2.github.com/">libgit2</a> 0.20.0. <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> and <a class="reference external" href="https://libgit2.github.com/">libgit2</a> are developed alongside one another, so it is recommended to keep them both at the same major release to avoid unexpected behavior. For example, <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> 0.21.x requires <a class="reference external" href="https://libgit2.github.com/">libgit2</a> 0.21.x, <a class="reference external" href="https://github.com/libgit2/pygit2">pygit2</a> 0.22.x will require <a class="reference external" href="https://libgit2.github.com/">libgit2</a> 0.22.x, etc.</p> <p>To use <a class="reference external" href="https://github.com/gitpython-developers/GitPython">GitPython</a> for GitFS requires a minimum GitPython version of 0.3.0, as well as the git CLI utility. Instructions for installing GitPython can be found <a class="reference internal" href="https://docs.saltproject.io/en/latest/topics/tutorials/gitfs.html#gitfs-dependencies"><span class="std std-ref">here</span></a>.</p> <p>To clear stale refs the git CLI utility must also be installed.</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/file_server/all/salt.fileserver.gitfs.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/file_server/all/salt.fileserver.gitfs.html</a>
  </p>
</div>
