<h1>salt.fileserver.azurefs</h1> <p>The backend for serving files from the Azure blob storage service.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.0.</span></p> </div> <p>To enable, add <code class="docutils literal notranslate"><span class="pre">azurefs</span></code> to the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/configuration/master.html#std-conf_master-fileserver_backend"><code class="xref std std-conf_master docutils literal notranslate"><span class="pre">fileserver_backend</span></code></a> option in the Master config file.</p> <pre class="highlight-yaml notranslate" data-language="yaml">fileserver_backend:
  - azurefs</pre> <p>Starting in Salt 2018.3.0, this fileserver requires the standalone Azure Storage SDK for Python. Theoretically any version &gt;= v0.20.0 should work, but it was developed against the v0.33.0 version.</p> <p>Each storage container will be mapped to an environment. By default, containers will be mapped to the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment. You can override this behavior with the <code class="docutils literal notranslate"><span class="pre">saltenv</span></code> configuration option. You can have an unlimited number of storage containers, and can have a storage container serve multiple environments, or have multiple storage containers mapped to the same environment. Normal first-found rules apply, and storage containers are searched in the order they are defined.</p> <p>You must have either an account_key or a sas_token defined for each container, if it is private. If you use a sas_token, it must have READ and LIST permissions.</p> <pre class="highlight-yaml notranslate" data-language="yaml">azurefs:
  - account_name: my_storage
    account_key: 'fNH9cRp0+qVIVYZ+5rnZAhHc9ycOUcJnHtzpfOr0W0sxrtL2KVLuMe1xDfLwmfed+JJInZaEdWVCPHD4d/oqeA=='
    container_name: my_container
  - account_name: my_storage
    sas_token: 'ss=b&amp;sp=&amp;sv=2015-07-08&amp;sig=cohxXabx8FQdXsSEHyUXMjsSfNH2tZ2OB97Ou44pkRE%3D&amp;srt=co&amp;se=2017-04-18T21%3A38%3A01Z'
    container_name: my_dev_container
    saltenv: dev
  - account_name: my_storage
    container_name: my_public_container</pre> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Do not include the leading ? for sas_token if generated from the web</p> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/file_server/all/salt.fileserver.azurefs.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/file_server/all/salt.fileserver.azurefs.html</a>
  </p>
</div>
