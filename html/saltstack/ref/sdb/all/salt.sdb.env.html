<h1>salt.sdb.env</h1> <p>Environment sdb Module</p> <dl class="field-list simple"> <dt class="field-odd">maintainer</dt> <dd class="field-odd">
<p>SaltStack</p> </dd> <dt class="field-even">maturity</dt> <dd class="field-even">
<p>New</p> </dd> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>None</p> </dd> <dt class="field-even">platform</dt> <dd class="field-even">
<p>all</p> </dd> </dl> <p>This module allows access to environment variables using an <code class="docutils literal notranslate"><span class="pre">sdb://</span></code> URI.</p> <p>Example configuration for this module:</p> <pre class="highlight-yaml notranslate" data-language="yaml">osenv:
  driver: env</pre> <div class="section" id="warning"> <h2>WARNING:</h2> <p>OS environment variables will be available to read via SDB. Please make sure you don't have any sensitive data in your environment variables!!</p> <p>Example usage of sdb env module:</p> <pre class="highlight-jinja notranslate" data-language="jinja">set some env var:
  cmd.run:
    - name: echo {{ salt['sdb.set']('sdb://osenv/foo', 'bar') }}
    - order: 1

{% if salt['sdb.get']('sdb://osenv/foo') == 'bar' %}
always-changes-and-succeeds:
  test.succeed_with_changes:
    - name: foo
{% else %}
always-changes-and-fails:
  test.fail_with_changes:
    - name: foo
{% endif  %}</pre> <p>The above example will return success.</p> <p>The <code class="docutils literal notranslate"><span class="pre">env</span></code> sdb module can also be used with salt cloud. Assuming you have exported the environment variable named <code class="docutils literal notranslate"><span class="pre">compute</span></code> (and have <code class="docutils literal notranslate"><span class="pre">osenv</span></code> defined). The example below will look for the salt cloud config key <code class="docutils literal notranslate"><span class="pre">compute_name</span></code> in the environment:</p> <pre class="highlight-yaml notranslate" data-language="yaml">my-openstack-config:
  compute_name: sdb://osenv/compute
  ..snip</pre> <dl class="py function"> <h3 id="salt.sdb.env.get"> salt.sdb.env.get(key, profile=None)</h3> <dd>
<p>Get a value</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.sdb.env.set_"> salt.sdb.env.set_(key, value, profile=None)</h3> <dd>
<p>Set a key/value pair</p> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/sdb/all/salt.sdb.env.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/sdb/all/salt.sdb.env.html</a>
  </p>
</div>
