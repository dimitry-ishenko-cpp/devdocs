<h1>salt.sdb.confidant</h1> <p>An SDB module for getting credentials from confidant.</p> <div class="section" id="configuring-the-confidant-module"> <h2>Configuring the Confidant module</h2> <p>The module can be configured via sdb in the minion config:</p> <pre class="highlight-yaml notranslate" data-language="yaml">confidant:
  driver: confidant
  # The URL of the confidant web service
  url: 'https://confidant-production.example.com'
  # The context to use for KMS authentication
  auth_context:
    from: example-production-iad
    to: confidant-production-iad
    user_type: service
  # The KMS master key to use for authentication
  auth_key: "alias/authnz"
  # Cache file for KMS auth token
  token_cache_file: /run/confidant/confidant_token
  # The duration of the validity of a token, in minutes
  token_duration: 60
  # key, keyid and region can be defined in the profile, but it's generally
  # best to use IAM roles or environment variables for AWS auth.
  keyid: 98nh9h9h908h09kjjk
  key: jhf908gyeghehe0he0g8h9u0j0n0n09hj09h0
  region: us-east-1</pre> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>confidant-common, confidant-client</p> </dd> </dl> </div> <div class="section" id="module-documentation"> <h2>Module Documentation</h2> <dl class="py function"> <h3 id="salt.sdb.confidant.get"> salt.sdb.confidant.get(key, profile=None)</h3> <dd>
<p>Read pillar data from Confidant via its API.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion sdb.get 'sdb://confidant/credentials'</pre> <p>Valid keys are: credentials, credentials_metadata, result. credentials returns a dict of joined credential_pairs, credentials_metadata returns a dict of metadata relevant to the credentials mapped to the confidant service, and result returns a bool that can be used to determine if the sdb call succeeded or failed to fetch credentials from confidant (or from local cache). If result is false, the data in credentials or credentials_metadata can't be trusted.</p> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/sdb/all/salt.sdb.confidant.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/sdb/all/salt.sdb.confidant.html</a>
  </p>
</div>
