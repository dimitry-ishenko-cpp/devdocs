<h1>salt.cache.consul</h1> <p>Minion data cache plugin for Consul key/value data store.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.2.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>python-consul &gt;= 0.2.0</p> </dd> </dl> <p>It is up to the system administrator to set up and configure the Consul infrastructure. All is needed for this plugin is a working Consul agent with a read-write access to the key-value store.</p> <p>The related documentation can be found in the <a class="reference external" href="https://www.consul.io/docs/index.html">Consul documentation</a>.</p> <p>To enable this cache plugin, the master will need the python client for Consul installed. This can be easily installed with pip:</p> <pre class="highlight-bash notranslate" data-language="bash">pip install python-consul</pre> <p>Optionally, depending on the Consul agent configuration, the following values could be set in the master config. These are the defaults:</p> <pre class="highlight-yaml notranslate" data-language="yaml">consul.host: 127.0.0.1
consul.port: 8500
consul.token: None
consul.scheme: http
consul.consistency: default
consul.dc: dc1
consul.verify: True</pre> <p>Related docs could be found in the <a class="reference external" href="https://python-consul.readthedocs.io/en/latest/#consul">python-consul documentation</a>.</p> <p>To use the consul as a minion data cache backend, set the master <code class="docutils literal notranslate"><span class="pre">cache</span></code> config value to <code class="docutils literal notranslate"><span class="pre">consul</span></code>:</p> <pre class="highlight-yaml notranslate" data-language="yaml">cache: consul</pre> <dl class="py function"> <h3 id="salt.cache.consul.contains"> salt.cache.consul.contains(bank, key)</h3> <dd>
<p>Checks if the specified bank contains the specified key.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cache.consul.fetch"> salt.cache.consul.fetch(bank, key)</h3> <dd>
<p>Fetch a key value.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cache.consul.flush"> salt.cache.consul.flush(bank, key=None)</h3> <dd>
<p>Remove the key from the cache bank with all the key content.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cache.consul.list_"> salt.cache.consul.list_(bank)</h3> <dd>
<p>Return an iterable object containing all entries stored in the specified bank.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.cache.consul.store"> salt.cache.consul.store(bank, key, data)</h3> <dd>
<p>Store a key value.</p> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/cache/all/salt.cache.consul.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/cache/all/salt.cache.consul.html</a>
  </p>
</div>
