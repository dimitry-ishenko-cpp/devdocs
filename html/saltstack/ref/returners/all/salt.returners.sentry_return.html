<h1>salt.returners.sentry_return</h1> <p>Salt returner that reports execution results back to sentry. The returner will inspect the payload to identify errors and flag them as such.</p> <p>Pillar needs something like:</p> <pre class="highlight-yaml notranslate" data-language="yaml">raven:
  servers:
    - http://192.168.1.1
    - https://sentry.example.com
  public_key: deadbeefdeadbeefdeadbeefdeadbeef
  secret_key: beefdeadbeefdeadbeefdeadbeefdead
  project: 1
  tags:
    - os
    - master
    - saltversion
    - cpuarch</pre> <p>or using a dsn:</p> <pre class="highlight-yaml notranslate" data-language="yaml">raven:
  dsn: https://aaaa:bbbb@app.getsentry.com/12345
  tags:
    - os
    - master
    - saltversion
    - cpuarch</pre> <p><a class="reference external" href="https://pypi.python.org/pypi/raven">https://pypi.python.org/pypi/raven</a> must be installed.</p> <p>The pillar can be hidden on sentry return by setting hide_pillar: true.</p> <p>The tags list (optional) specifies grains items that will be used as sentry tags, allowing tagging of events in the sentry ui.</p> <p>To report only errors to sentry, set report_errors_only: true.</p> <dl class="py function"> <h3 id="salt.returners.sentry_return.prep_jid"> salt.returners.sentry_return.prep_jid(nocache=False, passed_jid=None)</h3> <dd>
<p>Do any work necessary to prepare a JID, including sending a custom id</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.returners.sentry_return.returner"> salt.returners.sentry_return.returner(ret)</h3> <dd>
<p>Log outcome to sentry. The returner tries to identify errors and report them as such. All other messages will be reported at info level. Failed states will be appended as separate list for convenience.</p> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/returners/all/salt.returners.sentry_return.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/returners/all/salt.returners.sentry_return.html</a>
  </p>
</div>
