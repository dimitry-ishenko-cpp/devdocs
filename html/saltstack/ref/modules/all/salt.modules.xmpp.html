<h1>salt.modules.xmpp</h1> <p>Module for Sending Messages via XMPP (a.k.a. Jabber)</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.1.0.</span></p> </div> <dl class="field-list"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<ul class="simple"> <li><p>sleekxmpp&gt;=1.3.1</p></li> <li><p>pyasn1</p></li> <li><p>pyasn1-modules</p></li> <li><p>dnspython</p></li> </ul> </dd> <dt class="field-even">configuration</dt> <dd class="field-even">
<p>This module can be used by either passing a jid and password directly to send_message, or by specifying the name of a configuration profile in the minion config, minion pillar, or master config.</p> <p>For example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">my-xmpp-login:
    xmpp.jid: myuser@jabber.example.org/resourcename
    xmpp.password: verybadpass</pre> <p>The resourcename refers to the resource that is using this account. It is user-definable, and optional. The following configurations are both valid:</p> <pre class="highlight-yaml notranslate" data-language="yaml">my-xmpp-login:
    xmpp.jid: myuser@jabber.example.org/salt
    xmpp.password: verybadpass

my-xmpp-login:
    xmpp.jid: myuser@jabber.example.org
    xmpp.password: verybadpass</pre> </dd> </dl> <dl class="py class"> <dt id="salt.modules.xmpp.SendMsgBot"> <em class="property">class </em><code class="sig-prename descclassname">salt.modules.xmpp.</code><code class="sig-name descname">SendMsgBot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jid</span></em>, <em class="sig-param"><span class="n">password</span></em>, <em class="sig-param"><span class="n">recipient</span></em>, <em class="sig-param"><span class="n">msg</span></em><span class="sig-paren">)</span>
</dt> <dd>
<dl class="py method"> <dt id="salt.modules.xmpp.SendMsgBot.create_multi"> <em class="property">classmethod </em><code class="sig-name descname">create_multi</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">jid</span></em>, <em class="sig-param"><span class="n">password</span></em>, <em class="sig-param"><span class="n">msg</span></em>, <em class="sig-param"><span class="n">recipients</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rooms</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nick</span><span class="o">=</span><span class="default_value">'SaltStack Bot'</span></em><span class="sig-paren">)</span>
</dt> <dd>
<p>Alternate constructor that accept multiple recipients and rooms</p> </dd>
</dl> <dl class="py method"> <dt id="salt.modules.xmpp.SendMsgBot.start"> <code class="sig-name descname">start</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span>
</dt> 
</dl> </dd>
</dl> <dl class="py class"> <dt id="salt.modules.xmpp.SleekXMPPMUC"> <em class="property">class </em><code class="sig-prename descclassname">salt.modules.xmpp.</code><code class="sig-name descname">SleekXMPPMUC</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span>
</dt> <dd>
<dl class="py method"> <dt id="salt.modules.xmpp.SleekXMPPMUC.filter"> <code class="sig-name descname">filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">record</span></em><span class="sig-paren">)</span>
</dt> <dd>
<p>Determine if the specified record is to be logged.</p> <p>Is the specified record to be logged? Returns 0 for no, nonzero for yes. If deemed appropriate, the record may be modified in-place.</p> </dd>
</dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.xmpp.send_msg"> salt.modules.xmpp.send_msg(recipient, message, jid=None, password=None, profile=None)</h3> <dd>
<p>Send a message to an XMPP recipient. Designed for use in states.</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">xmpp.send_msg 'admins@xmpp.example.com' 'This is a salt module test'             profile='my-xmpp-account'
xmpp.send_msg 'admins@xmpp.example.com' 'This is a salt module test'             jid='myuser@xmpp.example.com/salt' password='verybadpass'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.xmpp.send_msg_multi"> salt.modules.xmpp.send_msg_multi(message, recipients=None, rooms=None, jid=None, password=None, nick='SaltStack Bot', profile=None)</h3> <dd>
<p>Send a message to an XMPP recipient, support send message to multiple recipients or chat room.</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">xmpp.send_msg recipients=['admins@xmpp.example.com']             rooms=['secret@conference.xmpp.example.com']             'This is a salt module test'             profile='my-xmpp-account'
xmpp.send_msg recipients=['admins@xmpp.example.com']             rooms=['secret@conference.xmpp.example.com']            'This is a salt module test'             jid='myuser@xmpp.example.com/salt' password='verybadpass'</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.xmpp.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.xmpp.html</a>
  </p>
</div>
