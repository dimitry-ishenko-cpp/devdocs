<h1>salt.modules.saltutil</h1> <p>The Saltutil module is used to manage the state of the salt minion itself. It is used to manage minion modules as well as automate updates to the salt minion.</p> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<ul class="simple"> <li><p>esky Python module for update functionality</p></li> </ul> </dd> </dl> <dl class="py function"> <h3 id="salt.modules.saltutil.clear_cache"> salt.modules.saltutil.clear_cache()</h3> <dd>
<p>Forcibly removes all caches on a minion.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.7.0.</span></p> </div> <p>WARNING: The safest way to clear a minion cache is by first stopping the minion and then deleting the cache files before restarting it.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.clear_cache</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.clear_job_cache"> salt.modules.saltutil.clear_job_cache(hours=24)</h3> <dd>
<p>Forcibly removes job cache folders and files on a minion.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.0.</span></p> </div> <p>WARNING: The safest way to clear a minion cache is by first stopping the minion and then deleting the cache files before restarting it.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.clear_job_cache hours=12</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.cmd"> salt.modules.saltutil.cmd(tgt, fun, arg=(), timeout=None, tgt_type='glob', ret='', kwarg=None, ssh=False, **kwargs)</h3> <dd>
<div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2017.7.0: </span>The <code class="docutils literal notranslate"><span class="pre">expr_form</span></code> argument has been renamed to <code class="docutils literal notranslate"><span class="pre">tgt_type</span></code>, earlier releases must use <code class="docutils literal notranslate"><span class="pre">expr_form</span></code>.</p> </div> <p>Assuming this minion is a master, execute a salt command</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.cmd</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.cmd_iter"> salt.modules.saltutil.cmd_iter(tgt, fun, arg=(), timeout=None, tgt_type='glob', ret='', kwarg=None, ssh=False, **kwargs)</h3> <dd>
<div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2017.7.0: </span>The <code class="docutils literal notranslate"><span class="pre">expr_form</span></code> argument has been renamed to <code class="docutils literal notranslate"><span class="pre">tgt_type</span></code>, earlier releases must use <code class="docutils literal notranslate"><span class="pre">expr_form</span></code>.</p> </div> <p>Assuming this minion is a master, execute a salt command</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.cmd_iter</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.find_cached_job"> salt.modules.saltutil.find_cached_job(jid)</h3> <dd>
<p>Return the data for a specific cached job id. Note this only works if cache_jobs has previously been set to True on the minion.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.find_cached_job &lt;job id&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.find_job"> salt.modules.saltutil.find_job(jid)</h3> <dd>
<p>Return the data for a specific job id that is currently running.</p> <dl class="simple"> <dt>jid</dt>
<dd>
<p>The job id to search for and return data.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.find_job &lt;job id&gt;</pre> <p>Note that the find_job function only returns job information when the job is still running. If the job is currently running, the output looks something like this:</p> <pre class="highlight-bash notranslate" data-language="bash"># salt my-minion saltutil.find_job 20160503150049487736
my-minion:
    ----------
    arg:
        - 30
    fun:
        test.sleep
    jid:
        20160503150049487736
    pid:
        9601
    ret:
    tgt:
        my-minion
    tgt_type:
        glob
    user:
        root</pre> <p>If the job has already completed, the job cannot be found and therefore the function returns an empty dictionary, which looks like this on the CLI:</p> <pre class="highlight-bash notranslate" data-language="bash"># salt my-minion saltutil.find_job 20160503150049487736
my-minion:
    ----------</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.is_running"> salt.modules.saltutil.is_running(fun)</h3> <dd>
<p>If the named function is running return the data associated with it/them. The argument can be a glob</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.is_running state.highstate</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.kill_all_jobs"> salt.modules.saltutil.kill_all_jobs()</h3> <dd>
<p>Sends a kill signal (SIGKILL 9) to all currently running jobs</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.kill_all_jobs</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.kill_job"> salt.modules.saltutil.kill_job(jid)</h3> <dd>
<p>Sends a kill signal (SIGKILL 9) to the named salt job's process</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.kill_job &lt;job id&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.list_extmods"> salt.modules.saltutil.list_extmods()</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2017.7.0.</span></p> </div> <p>List Salt modules which have been synced externally</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.list_extmods</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.mmodule"> salt.modules.saltutil.mmodule(saltenv, fun, *args, **kwargs)</h3> <dd>
<p>Loads minion modules from an environment so that they can be used in pillars for that environment</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.mmodule base test.ping</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.refresh_beacons"> salt.modules.saltutil.refresh_beacons()</h3> <dd>
<p>Signal the minion to refresh the beacons.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.refresh_beacons</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.refresh_grains"> salt.modules.saltutil.refresh_grains(**kwargs)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.6,2016.11.4,2017.7.0.</span></p> </div> <p>Refresh the minion's grains without syncing custom grains modules from <code class="docutils literal notranslate"><span class="pre">salt://_grains</span></code>.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The available execution modules will be reloaded as part of this proceess, as grains can affect which modules are available.</p> </div> <dl class="simple"> <dt>refresh_pillar<span class="classifier">True</span>
</dt>
<dd>
<p>Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to keep pillar data from being refreshed.</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.refresh_grains</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.refresh_matchers"> salt.modules.saltutil.refresh_matchers()</h3> <dd>
<p>Signal the minion to refresh its matchers.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.refresh_matchers</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.refresh_modules"> salt.modules.saltutil.refresh_modules(**kwargs)</h3> <dd>
<p>Signal the minion to refresh the module and grain data</p> <p>The default is to refresh module asynchronously. To block until the module refresh is complete, set the 'async' flag to False.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.refresh_modules</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.refresh_pillar"> salt.modules.saltutil.refresh_pillar(wait=False, timeout=30)</h3> <dd>
<p>Signal the minion to refresh the in-memory pillar data. See <a class="reference internal" href="https://docs.saltproject.io/en/latest/topics/pillar/index.html#pillar-in-memory"><span class="std std-ref">In-Memory Pillar Data vs. On-Demand Pillar Data</span></a>.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>wait</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) -- Wait for pillar refresh to complete, defaults to False.</p></li> <li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><em>optional</em>) -- How long to wait in seconds, only used when wait is True, defaults to 30.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>Boolean status, True when the pillar_refresh event was fired successfully.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.refresh_pillar
salt '*' saltutil.refresh_pillar wait=True timeout=60</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.regen_keys"> salt.modules.saltutil.regen_keys()</h3> <dd>
<p>Used to regenerate the minion keys.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.regen_keys</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.revoke_auth"> salt.modules.saltutil.revoke_auth(preserve_minion_cache=False)</h3> <dd>
<p>The minion sends a request to the master to revoke its own key. Note that the minion session will be revoked and the minion may not be able to return the result of this command back to the master.</p> <p>If the 'preserve_minion_cache' flag is set to True, the master cache for this minion will not be removed.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.revoke_auth</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.runner"> salt.modules.saltutil.runner(name, arg=None, kwarg=None, full_return=False, saltenv='base', jid=None, **kwargs)</h3> <dd>
<p>Execute a runner function. This function must be run on the master, either by targeting a minion running on a master or by using salt-call on a master.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.7.0.</span></p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the function to run</p> </dd> <dt>kwargs</dt>
<dd>
<p>Any keyword arguments to pass to the runner function</p> </dd> </dl> <p>CLI Example:</p> <p>In this example, assume that <cite>master_minion</cite> is a minion running on a master.</p> <pre class="highlight-bash notranslate" data-language="bash">salt master_minion saltutil.runner jobs.list_jobs
salt master_minion saltutil.runner test.arg arg="['baz']" kwarg="{'foo': 'bar'}"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.running"> salt.modules.saltutil.running()</h3> <dd>
<p>Return the data on all running salt processes on the minion</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.running</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.signal_job"> salt.modules.saltutil.signal_job(jid, sig)</h3> <dd>
<p>Sends a signal to the named salt job's process</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.signal_job &lt;job id&gt; 15</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_all"> salt.modules.saltutil.sync_all(saltenv=None, refresh=True, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2015.8.11,2016.3.2: </span>On masterless minions, pillar modules are now synced, and refreshed when <code class="docutils literal notranslate"><span class="pre">refresh</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p> </div> <p>Sync down all of the dynamic modules from the file server for a specific environment. This function synchronizes custom modules, states, beacons, grains, returners, output modules, renderers, and utils.</p> <dl class="simple"> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>Also refresh the execution modules and recompile pillar data available to the minion. This refresh will be performed even if no new dynamic modules are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> </dl> <div class="admonition important"> <p class="admonition-title">Important</p> <p>If this function is executed using a <a class="reference internal" href="../../states/all/salt.states.module.html#salt.states.module.run" title="salt.states.module.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">module.run</span></code></a> state, the SLS file will not have access to newly synced execution modules unless a <code class="docutils literal notranslate"><span class="pre">refresh</span></code> argument is added to the state, like so:</p> <pre class="highlight-yaml notranslate" data-language="yaml">load_my_custom_module:
  module.run:
    - name: saltutil.sync_all
    - refresh: True</pre> <p>See <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/index.html#reloading-modules"><span class="std std-ref">here</span></a> for a more detailed explanation of why this is necessary.</p> </div> <dl class="simple"> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>dictionary of modules to sync based on type</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>dictionary of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_all
salt '*' saltutil.sync_all saltenv=dev
salt '*' saltutil.sync_all saltenv=base,dev
salt '*' saltutil.sync_all extmod_whitelist={'modules': ['custom_module']}</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_beacons"> salt.modules.saltutil.sync_beacons(saltenv=None, refresh=True, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2015.5.1.</span></p> </div> <p>Sync beacons from <code class="docutils literal notranslate"><span class="pre">salt://_beacons</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for beacons to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available beacons on the minion. This refresh will be performed even if no new beacons are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_beacons
salt '*' saltutil.sync_beacons saltenv=dev
salt '*' saltutil.sync_beacons saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_clouds"> salt.modules.saltutil.sync_clouds(saltenv=None, refresh=True, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2017.7.0.</span></p> </div> <p>Sync cloud modules from <code class="docutils literal notranslate"><span class="pre">salt://_cloud</span></code> to the minion</p> <dl class="simple"> <dt>saltenv<span class="classifier">base</span>
</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available execution modules on the minion. This refresh will be performed even if no new utility modules are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_clouds
salt '*' saltutil.sync_clouds saltenv=dev
salt '*' saltutil.sync_clouds saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_engines"> salt.modules.saltutil.sync_engines(saltenv=None, refresh=False, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>Sync engine modules from <code class="docutils literal notranslate"><span class="pre">salt://_engines</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for engines to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available execution modules on the minion. This refresh will be performed even if no new engine modules are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_engines
salt '*' saltutil.sync_engines saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_executors"> salt.modules.saltutil.sync_executors(saltenv=None, refresh=True, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 3000.</span></p> </div> <p>Sync executors from <code class="docutils literal notranslate"><span class="pre">salt://_executors</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for log handlers to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available execution modules on the minion. This refresh will be performed even if no new log handlers are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-seperated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-seperated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_executors
salt '*' saltutil.sync_executors saltenv=dev
salt '*' saltutil.sync_executors saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_grains"> salt.modules.saltutil.sync_grains(saltenv=None, refresh=True, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.0.</span></p> </div> <p>Sync grains modules from <code class="docutils literal notranslate"><span class="pre">salt://_grains</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for grains modules to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available execution modules and recompile pillar data for the minion. This refresh will be performed even if no new grains modules are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_grains
salt '*' saltutil.sync_grains saltenv=dev
salt '*' saltutil.sync_grains saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_log_handlers"> salt.modules.saltutil.sync_log_handlers(saltenv=None, refresh=True, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.0.</span></p> </div> <p>Sync log handlers from <code class="docutils literal notranslate"><span class="pre">salt://_log_handlers</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for log handlers to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available execution modules on the minion. This refresh will be performed even if no new log handlers are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_log_handlers
salt '*' saltutil.sync_log_handlers saltenv=dev
salt '*' saltutil.sync_log_handlers saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_matchers"> salt.modules.saltutil.sync_matchers(saltenv=None, refresh=False, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2019.2.0.</span></p> </div> <p>Sync engine modules from <code class="docutils literal notranslate"><span class="pre">salt://_matchers</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for engines to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available execution modules on the minion. This refresh will be performed even if no new matcher modules are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_matchers
salt '*' saltutil.sync_matchers saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_modules"> salt.modules.saltutil.sync_modules(saltenv=None, refresh=True, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.0.</span></p> </div> <p>Sync execution modules from <code class="docutils literal notranslate"><span class="pre">salt://_modules</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for execution modules to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available execution modules on the minion. This refresh will be performed even if no new execution modules are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> </dl> <div class="admonition important"> <p class="admonition-title">Important</p> <p>If this function is executed using a <a class="reference internal" href="../../states/all/salt.states.module.html#salt.states.module.run" title="salt.states.module.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">module.run</span></code></a> state, the SLS file will not have access to newly synced execution modules unless a <code class="docutils literal notranslate"><span class="pre">refresh</span></code> argument is added to the state, like so:</p> <pre class="highlight-yaml notranslate" data-language="yaml">load_my_custom_module:
  module.run:
    - name: saltutil.sync_modules
    - refresh: True</pre> <p>See <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/index.html#reloading-modules"><span class="std std-ref">here</span></a> for a more detailed explanation of why this is necessary.</p> </div> <dl class="simple"> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_modules
salt '*' saltutil.sync_modules saltenv=dev
salt '*' saltutil.sync_modules saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_output"> salt.modules.saltutil.sync_output(saltenv=None, refresh=True, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<p>Sync outputters from <code class="docutils literal notranslate"><span class="pre">salt://_output</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for outputters to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available execution modules on the minion. This refresh will be performed even if no new outputters are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_output
salt '*' saltutil.sync_output saltenv=dev
salt '*' saltutil.sync_output saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_outputters"> salt.modules.saltutil.sync_outputters(saltenv=None, refresh=True, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<p>This function is an alias of <code class="docutils literal notranslate"><span class="pre">sync_output</span></code>.</p> <blockquote> <div>
<p>Sync outputters from <code class="docutils literal notranslate"><span class="pre">salt://_output</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for outputters to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available execution modules on the minion. This refresh will be performed even if no new outputters are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_output
salt '*' saltutil.sync_output saltenv=dev
salt '*' saltutil.sync_output saltenv=base,dev</pre> </div>
</blockquote> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_pillar"> salt.modules.saltutil.sync_pillar(saltenv=None, refresh=True, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.11,2016.3.2.</span></p> </div> <p>Sync pillar modules from the <code class="docutils literal notranslate"><span class="pre">salt://_pillar</span></code> directory on the Salt fileserver. This function is environment-aware, pass the desired environment to grab the contents of the <code class="docutils literal notranslate"><span class="pre">_pillar</span></code> directory from that environment. The default environment, if none is specified, is <code class="docutils literal notranslate"><span class="pre">base</span></code>.</p> <dl class="simple"> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>Also refresh the execution modules available to the minion, and refresh pillar data.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This function will raise an error if executed on a traditional (i.e. not masterless) minion</p> </div> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_pillar
salt '*' saltutil.sync_pillar saltenv=dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_proxymodules"> salt.modules.saltutil.sync_proxymodules(saltenv=None, refresh=False, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.2.</span></p> </div> <p>Sync proxy modules from <code class="docutils literal notranslate"><span class="pre">salt://_proxy</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for proxy modules to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available execution modules on the minion. This refresh will be performed even if no new proxy modules are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_proxymodules
salt '*' saltutil.sync_proxymodules saltenv=dev
salt '*' saltutil.sync_proxymodules saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_renderers"> salt.modules.saltutil.sync_renderers(saltenv=None, refresh=True, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.0.</span></p> </div> <p>Sync renderers from <code class="docutils literal notranslate"><span class="pre">salt://_renderers</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for renderers to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available execution modules on the minion. This refresh will be performed even if no new renderers are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_renderers
salt '*' saltutil.sync_renderers saltenv=dev
salt '*' saltutil.sync_renderers saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_returners"> salt.modules.saltutil.sync_returners(saltenv=None, refresh=True, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.0.</span></p> </div> <p>Sync returners from <code class="docutils literal notranslate"><span class="pre">salt://_returners</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for returners to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available execution modules on the minion. This refresh will be performed even if no new returners are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_returners
salt '*' saltutil.sync_returners saltenv=dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_sdb"> salt.modules.saltutil.sync_sdb(saltenv=None, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2015.5.8,2015.8.3.</span></p> </div> <p>Sync sdb modules from <code class="docutils literal notranslate"><span class="pre">salt://_sdb</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for sdb modules to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">False</span>
</dt>
<dd>
<p>This argument has no affect and is included for consistency with the other sync functions.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_sdb
salt '*' saltutil.sync_sdb saltenv=dev
salt '*' saltutil.sync_sdb saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_serializers"> salt.modules.saltutil.sync_serializers(saltenv=None, refresh=True, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2019.2.0.</span></p> </div> <p>Sync serializers from <code class="docutils literal notranslate"><span class="pre">salt://_serializers</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for serializer modules to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available execution modules on the minion. This refresh will be performed even if no new serializer modules are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-seperated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-seperated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_serializers
salt '*' saltutil.sync_serializers saltenv=dev
salt '*' saltutil.sync_serializers saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_states"> salt.modules.saltutil.sync_states(saltenv=None, refresh=True, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 0.10.0.</span></p> </div> <p>Sync state modules from <code class="docutils literal notranslate"><span class="pre">salt://_states</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for state modules to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available states on the minion. This refresh will be performed even if no new state modules are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_states
salt '*' saltutil.sync_states saltenv=dev
salt '*' saltutil.sync_states saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_thorium"> salt.modules.saltutil.sync_thorium(saltenv=None, refresh=False, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.0.</span></p> </div> <p>Sync Thorium modules from <code class="docutils literal notranslate"><span class="pre">salt://_thorium</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for engines to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available execution modules on the minion. This refresh will be performed even if no new Thorium modules are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_thorium
salt '*' saltutil.sync_thorium saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.sync_utils"> salt.modules.saltutil.sync_utils(saltenv=None, refresh=True, extmod_whitelist=None, extmod_blacklist=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2014.7.0.</span></p> </div> <p>Sync utility modules from <code class="docutils literal notranslate"><span class="pre">salt://_utils</span></code> to the minion</p> <dl> <dt>saltenv</dt>
<dd>
<p>The fileserver environment from which to sync. To sync from more than one environment, pass a comma-separated list.</p> <p>If not passed, then all environments configured in the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/states/top.html#states-top"><span class="std std-ref">top files</span></a> will be checked for utility modules to sync. If no top files are found, then the <code class="docutils literal notranslate"><span class="pre">base</span></code> environment will be synced.</p> </dd> <dt>refresh<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, refresh the available execution modules on the minion. This refresh will be performed even if no new utility modules are synced. Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to prevent this refresh.</p> </dd> <dt>extmod_whitelist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to sync</p> </dd> <dt>extmod_blacklist<span class="classifier">None</span>
</dt>
<dd>
<p>comma-separated list of modules to blacklist based on type</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.sync_utils
salt '*' saltutil.sync_utils saltenv=dev
salt '*' saltutil.sync_utils saltenv=base,dev</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.term_all_jobs"> salt.modules.saltutil.term_all_jobs()</h3> <dd>
<p>Sends a termination signal (SIGTERM 15) to all currently running jobs</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.term_all_jobs</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.term_job"> salt.modules.saltutil.term_job(jid)</h3> <dd>
<p>Sends a termination signal (SIGTERM 15) to the named salt job's process</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.term_job &lt;job id&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.update"> salt.modules.saltutil.update(version=None)</h3> <dd>
<p>Update the salt minion from the URL defined in opts['update_url'] SaltStack, Inc provides the latest builds here: update_url: <a class="reference external" href="https://repo.saltstack.com/windows/">https://repo.saltstack.com/windows/</a></p> <p>Be aware that as of 2014-8-11 there's a bug in esky such that only the latest version available in the update_url can be downloaded and installed.</p> <p>This feature requires the minion to be running a bdist_esky build.</p> <p>The version number is optional and will default to the most recent version available at opts['update_url'].</p> <p>Returns details about the transaction upon completion.</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' saltutil.update
salt '*' saltutil.update 0.10.3</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.saltutil.wheel"> salt.modules.saltutil.wheel(name, *args, **kwargs)</h3> <dd>
<p>Execute a wheel module and function. This function must be run against a minion that is local to the master.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.7.0.</span></p> </div> <dl> <dt>name</dt>
<dd>
<p>The name of the function to run</p> </dd> <dt>args</dt>
<dd>
<p>Any positional arguments to pass to the wheel function. A common example of this would be the <code class="docutils literal notranslate"><span class="pre">match</span></code> arg needed for key functions.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.11.</span></p> </div> </dd> <dt>kwargs</dt>
<dd>
<p>Any keyword arguments to pass to the wheel function</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt my-local-minion saltutil.wheel key.accept jerry
salt my-local-minion saltutil.wheel minions.connected</pre> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Since this function must be run against a minion that is running locally on the master in order to get accurate returns, if this function is run against minions that are not local to the master, "empty" returns are expected. The remote minion does not have access to wheel functions and their return data.</p> </div> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.saltutil.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.saltutil.html</a>
  </p>
</div>
