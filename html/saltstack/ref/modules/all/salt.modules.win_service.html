<h1>salt.modules.win_service</h1> <p>Windows Service module.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2016.11.0: </span>Rewritten to use PyWin32</p> </div> <dl class="py function"> <h3 id="salt.modules.win_service.available"> salt.modules.win_service.available(name)</h3> <dd>
<p>Check if a service is available on the system.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the service to check</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the service is available, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.available &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.create"> salt.modules.win_service.create(name, bin_path, exe_args=None, display_name=None, description=None, service_type='own', start_type='manual', start_delayed=False, error_control='normal', load_order_group=None, dependencies=None, account_name='.\\LocalSystem', account_password=None, run_interactive=False, **kwargs)</h3> <dd>
<p>Create the named service.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.0.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Specifies the service name. This is not the display_name</p></li> <li><p><strong>bin_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Specifies the path to the service binary file. Backslashes must be escaped, eg: <code class="docutils literal notranslate"><span class="pre">C:\path\to\binary.exe</span></code></p></li> <li><p><strong>exe_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Any additional arguments required by the service binary.</p></li> <li><p><strong>display_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name to be displayed in the service manager. If not passed, the <code class="docutils literal notranslate"><span class="pre">name</span></code> will be used</p></li> <li><p><strong>description</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- A description of the service</p></li> <li>
<p><strong>service_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>Specifies the service type. Default is <code class="docutils literal notranslate"><span class="pre">own</span></code>. Valid options are as follows:</p> <ul> <li><p>kernel: Driver service</p></li> <li><p>filesystem: File system driver service</p></li> <li><p>adapter: Adapter driver service (reserved)</p></li> <li><p>recognizer: Recognizer driver service (reserved)</p></li> <li><p>own (default): Service runs in its own process</p></li> <li><p>share: Service shares a process with one or more other services</p></li> </ul> </li> <li>
<p><strong>start_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>Specifies the service start type. Valid options are as follows:</p> <ul> <li><p>boot: Device driver that is loaded by the boot loader</p></li> <li><p>system: Device driver that is started during kernel initialization</p></li> <li><p>auto: Service that automatically starts</p></li> <li><p>manual (default): Service must be started manually</p></li> <li><p>disabled: Service cannot be started</p></li> </ul> </li> <li><p><strong>start_delayed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Set the service to Auto(Delayed Start). Only valid if the start_type is set to <code class="docutils literal notranslate"><span class="pre">Auto</span></code>. If service_type is not passed, but the service is already set to <code class="docutils literal notranslate"><span class="pre">Auto</span></code>, then the flag will be set. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li> <li>
<p><strong>error_control</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>The severity of the error, and action taken, if this service fails to start. Valid options are as follows:</p> <ul> <li><p>normal (normal): Error is logged and a message box is displayed</p></li> <li><p>severe: Error is logged and computer attempts a restart with the last known good configuration</p></li> <li><p>critical: Error is logged, computer attempts to restart with the last known good configuration, system halts on failure</p></li> <li><p>ignore: Error is logged and startup continues, no notification is given to the user</p></li> </ul> </li> <li><p><strong>load_order_group</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the load order group to which this service belongs</p></li> <li><p><strong>dependencies</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) -- A list of services or load ordering groups that must start before this service</p></li> <li>
<p><strong>account_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>The name of the account under which the service should run. For <code class="docutils literal notranslate"><span class="pre">own</span></code> type services this should be in the <code class="docutils literal notranslate"><span class="pre">domain\username</span></code> format. The following are examples of valid built-in service accounts:</p> <ul> <li><p>NT AuthorityLocalService</p></li> <li><p>NT AuthorityNetworkService</p></li> <li><p>NT AuthorityLocalSystem</p></li> <li><p>.LocalSystem</p></li> </ul> </li> <li><p><strong>account_password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The password for the account name specified in <code class="docutils literal notranslate"><span class="pre">account_name</span></code>. For the above built-in accounts, this can be None. Otherwise a password must be specified.</p></li> <li><p><strong>run_interactive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- If this setting is True, the service will be allowed to interact with the user. Not recommended for services that run with elevated privileges.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>A dictionary containing information about the new service</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.create &lt;service name&gt; &lt;path to exe&gt; display_name='&lt;display name&gt;'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.create_win_salt_restart_task"> salt.modules.win_service.create_win_salt_restart_task()</h3> <dd>
<p>Create a task in Windows task scheduler to enable restarting the salt-minion</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code></p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.create_win_salt_restart_task()</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.delete"> salt.modules.win_service.delete(name, timeout=90)</h3> <dd>
<p>Delete the named service</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the service to delete</p></li> <li>
<p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- </p>
<p>The time in seconds to wait for the service to be deleted before returning. This is necessary because a service must be stopped before it can be deleted. Default is 90 seconds</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2017.7.9,2018.3.4.</span></p> </div> </li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">

<dl class="simple"> <dt>
<code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>. Also returns <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>if the service is not present</p> </dd> </dl> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.delete &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.disable"> salt.modules.win_service.disable(name, **kwargs)</h3> <dd>
<p>Disable the named service to start at boot</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the service to disable</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p><code class="docutils literal notranslate"><span class="pre">True</span></code> if disabled, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.disable &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.disabled"> salt.modules.win_service.disabled(name)</h3> <dd>
<p>Check to see if the named service is disabled to start on boot</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the service to check</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if the service is disabled</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.disabled &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.enable"> salt.modules.win_service.enable(name, start_type='auto', start_delayed=False, **kwargs)</h3> <dd>
<p>Enable the named service to start at boot</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the service to enable.</p></li> <li>
<p><strong>start_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>Specifies the service start type. Valid options are as follows:</p> <ul> <li><p>boot: Device driver that is loaded by the boot loader</p></li> <li><p>system: Device driver that is started during kernel initialization</p></li> <li><p>auto: Service that automatically starts</p></li> <li><p>manual: Service must be started manually</p></li> <li><p>disabled: Service cannot be started</p></li> </ul> </li> <li><p><strong>start_delayed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Set the service to Auto(Delayed Start). Only valid if the start_type is set to <code class="docutils literal notranslate"><span class="pre">Auto</span></code>. If service_type is not passed, but the service is already set to <code class="docutils literal notranslate"><span class="pre">Auto</span></code>, then the flag will be set.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.enable &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.enabled"> salt.modules.win_service.enabled(name, **kwargs)</h3> <dd>
<p>Check to see if the named service is enabled to start on boot</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the service to check</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if the service is set to start</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.enabled &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.execute_salt_restart_task"> salt.modules.win_service.execute_salt_restart_task()</h3> <dd>
<p>Run the Windows Salt restart task</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code></p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.execute_salt_restart_task()</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.get_all"> salt.modules.win_service.get_all()</h3> <dd>
<p>Return all installed services</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Returns a list of all services on the system.</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.get_all</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.get_disabled"> salt.modules.win_service.get_disabled()</h3> <dd>
<p>Return a list of disabled services. Disabled is defined as a service that is marked 'Disabled' or 'Manual'.</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>A list of disabled services.</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.get_disabled</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.get_enabled"> salt.modules.win_service.get_enabled()</h3> <dd>
<p>Return a list of enabled services. Enabled is defined as a service that is marked to Auto Start.</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>A list of enabled services</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.get_enabled</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.get_service_name"> salt.modules.win_service.get_service_name(*args)</h3> <dd>
<p>The Display Name is what is displayed in Windows when services.msc is executed. Each Display Name has an associated Service Name which is the actual name of the service. This function allows you to discover the Service Name by returning a dictionary of Display Names and Service Names, or filter by adding arguments of Display Names.</p> <p>If no args are passed, return a dict of all services where the keys are the service Display Names and the values are the Service Names.</p> <p>If arguments are passed, create a dict of Display Names and Service Names</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>A dictionary of display names and service names</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.get_service_name
salt '*' service.get_service_name 'Google Update Service (gupdate)' 'DHCP Client'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.getsid"> salt.modules.win_service.getsid(name)</h3> <dd>
<p>Return the SID for this windows service</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the service for which to return the SID</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>A string representing the SID for the service</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.getsid &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.info"> salt.modules.win_service.info(name)</h3> <dd>
<p>Get information about a service on the system</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the service. This is not the display name. Use <code class="docutils literal notranslate"><span class="pre">get_service_name</span></code> to find the service name.</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>A dictionary containing information about the service.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.info spooler</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.missing"> salt.modules.win_service.missing(name)</h3> <dd>
<p>The inverse of service.available.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the service to check</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the service is missing, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.missing &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.modify"> salt.modules.win_service.modify(name, bin_path=None, exe_args=None, display_name=None, description=None, service_type=None, start_type=None, start_delayed=None, error_control=None, load_order_group=None, dependencies=None, account_name=None, account_password=None, run_interactive=None)</h3> <dd>
<p>Modify a service's parameters. Changes will not be made for parameters that are not passed.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the service. Can be found using the <code class="docutils literal notranslate"><span class="pre">service.get_service_name</span></code> function</p></li> <li><p><strong>bin_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The path to the service executable. Backslashes must be escaped, eg: <code class="docutils literal notranslate"><span class="pre">C:\path\to\binary.exe</span></code></p></li> <li><p><strong>exe_args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Any arguments required by the service executable</p></li> <li><p><strong>display_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name to display in the service manager</p></li> <li><p><strong>description</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The description to display for the service</p></li> <li>
<p><strong>service_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>Specifies the service type. Default is <code class="docutils literal notranslate"><span class="pre">own</span></code>. Valid options are as follows:</p> <ul> <li><p>kernel: Driver service</p></li> <li><p>filesystem: File system driver service</p></li> <li><p>adapter: Adapter driver service (reserved)</p></li> <li><p>recognizer: Recognizer driver service (reserved)</p></li> <li><p>own (default): Service runs in its own process</p></li> <li><p>share: Service shares a process with one or more other services</p></li> </ul> </li> <li>
<p><strong>start_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>Specifies the service start type. Valid options are as follows:</p> <ul> <li><p>boot: Device driver that is loaded by the boot loader</p></li> <li><p>system: Device driver that is started during kernel initialization</p></li> <li><p>auto: Service that automatically starts</p></li> <li><p>manual: Service must be started manually</p></li> <li><p>disabled: Service cannot be started</p></li> </ul> </li> <li><p><strong>start_delayed</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Set the service to Auto(Delayed Start). Only valid if the start_type is set to <code class="docutils literal notranslate"><span class="pre">Auto</span></code>. If service_type is not passed, but the service is already set to <code class="docutils literal notranslate"><span class="pre">Auto</span></code>, then the flag will be set.</p></li> <li>
<p><strong>error_control</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>The severity of the error, and action taken, if this service fails to start. Valid options are as follows:</p> <ul> <li><p>normal: Error is logged and a message box is displayed</p></li> <li><p>severe: Error is logged and computer attempts a restart with the last known good configuration</p></li> <li><p>critical: Error is logged, computer attempts to restart with the last known good configuration, system halts on failure</p></li> <li><p>ignore: Error is logged and startup continues, no notification is given to the user</p></li> </ul> </li> <li><p><strong>load_order_group</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the load order group to which this service belongs</p></li> <li><p><strong>dependencies</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) -- A list of services or load ordering groups that must start before this service</p></li> <li>
<p><strong>account_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>The name of the account under which the service should run. For <code class="docutils literal notranslate"><span class="pre">own</span></code> type services this should be in the <code class="docutils literal notranslate"><span class="pre">domain\username</span></code> format. The following are examples of valid built-in service accounts:</p> <ul> <li><p>NT AuthorityLocalService</p></li> <li><p>NT AuthorityNetworkService</p></li> <li><p>NT AuthorityLocalSystem</p></li> <li><p>.LocalSystem</p></li> </ul> </li> <li><p><strong>account_password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The password for the account name specified in <code class="docutils literal notranslate"><span class="pre">account_name</span></code>. For the above built-in accounts, this can be None. Otherwise a password must be specified.</p></li> <li><p><strong>run_interactive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- If this setting is True, the service will be allowed to interact with the user. Not recommended for services that run with elevated privileges.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>a dictionary of changes made</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.modify spooler start_type=disabled</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.restart"> salt.modules.win_service.restart(name, timeout=90)</h3> <dd>
<p>Restart the named service. This issues a stop command followed by a start.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li>
<p><strong>name</strong> -- </p>
<p>The name of the service to restart.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>If the name passed is <code class="docutils literal notranslate"><span class="pre">salt-minion</span></code> a scheduled task is created and executed to restart the salt-minion service.</p> </div> </li> <li>
<p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- </p>
<p>The time in seconds to wait for the service to stop and start before returning. Default is 90 seconds</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The timeout is cumulative meaning it is applied to the stop and then to the start command. A timeout of 90 could take up to 180 seconds if the service is long in stopping and starting</p> </div> <div class="versionadded"> <p><span class="versionmodified added">New in version 2017.7.9,2018.3.4.</span></p> </div> </li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code></p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.restart &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.start"> salt.modules.win_service.start(name, timeout=90)</h3> <dd>
<p>Start the specified service.</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>You cannot start a disabled service in Windows. If the service is disabled, it will be changed to <code class="docutils literal notranslate"><span class="pre">Manual</span></code> start.</p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the service to start</p></li> <li>
<p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- </p>
<p>The time in seconds to wait for the service to start before returning. Default is 90 seconds</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2017.7.9,2018.3.4.</span></p> </div> </li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">

<dl class="simple"> <dt>
<code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>. Also returns <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>if the service is already started</p> </dd> </dl> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.start &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.status"> salt.modules.win_service.status(name, *args, **kwargs)</h3> <dd>
<p>Return the status for a service. If the name contains globbing, a dict mapping service name to True/False values is returned.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2018.3.0: </span>The service name can now be a glob (e.g. <code class="docutils literal notranslate"><span class="pre">salt*</span></code>)</p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the service to check</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if running, False otherwise dict: Maps service name to True if running, False otherwise</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.status &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_service.stop"> salt.modules.win_service.stop(name, timeout=90)</h3> <dd>
<p>Stop the specified service</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the service to stop</p></li> <li>
<p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- </p>
<p>The time in seconds to wait for the service to stop before returning. Default is 90 seconds</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2017.7.9,2018.3.4.</span></p> </div> </li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">

<dl class="simple"> <dt>
<code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code>. Also returns <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>if the service is already stopped</p> </dd> </dl> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.stop &lt;service name&gt;</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.win_service.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.win_service.html</a>
  </p>
</div>
