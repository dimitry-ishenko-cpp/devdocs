<h1>salt.modules.keystore</h1> <p>Module to interact with keystores</p> <dl class="py function"> <h3 id="salt.modules.keystore.add"> salt.modules.keystore.add(name, keystore, passphrase, certificate, private_key=None)</h3> <dd>
<p>Adds certificates to an existing keystore or creates a new one if necesssary.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> -- alias for the certificate</p></li> <li><p><strong>keystore</strong> -- The path to the keystore file to query</p></li> <li><p><strong>passphrase</strong> -- The passphrase to use to decode the keystore</p></li> <li><p><strong>certificate</strong> -- The PEM public certificate to add to keystore. Can be a string for file.</p></li> <li><p><strong>private_key</strong> -- (Optional for TrustedCert) The PEM private key to add to the keystore</p></li> </ul> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' keystore.add aliasname /tmp/test.store changeit /tmp/testcert.crt
salt '*' keystore.add aliasname /tmp/test.store changeit certificate="-----BEGIN CERTIFICATE-----SIb...BM=-----END CERTIFICATE-----"
salt '*' keystore.add keyname /tmp/test.store changeit /tmp/512.cert private_key=/tmp/512.key</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.keystore.list"> salt.modules.keystore.list(keystore, passphrase, alias=None, return_cert=False)</h3> <dd>
<p>Lists certificates in a keytool managed keystore.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>keystore</strong> -- The path to the keystore file to query</p></li> <li><p><strong>passphrase</strong> -- The passphrase to use to decode the keystore</p></li> <li><p><strong>alias</strong> -- (Optional) If found, displays details on only this key</p></li> <li><p><strong>return_certs</strong> -- (Optional) Also return certificate PEM.</p></li> </ul> </dd> </dl> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>There are security implications for using return_cert to return decrypted certificates.</p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' keystore.list /usr/lib/jvm/java-8/jre/lib/security/cacerts changeit
salt '*' keystore.list /usr/lib/jvm/java-8/jre/lib/security/cacerts changeit debian:verisign_-_g5.pem</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.keystore.remove"> salt.modules.keystore.remove(name, keystore, passphrase)</h3> <dd>
<p>Removes a certificate from an existing keystore. Returns True if remove was successful, otherwise False</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> -- alias for the certificate</p></li> <li><p><strong>keystore</strong> -- The path to the keystore file to query</p></li> <li><p><strong>passphrase</strong> -- The passphrase to use to decode the keystore</p></li> </ul> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' keystore.remove aliasname /tmp/test.store changeit</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.keystore.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.keystore.html</a>
  </p>
</div>
