<h1>salt.modules.boto_asg</h1> <p>Connection module for Amazon Autoscale Groups</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.7.0.</span></p> </div> <dl class="field-list"> <dt class="field-odd">configuration</dt> <dd class="field-odd">
<p>This module accepts explicit autoscale credentials but can also utilize IAM roles assigned to the instance through Instance Profiles. Dynamic credentials are then automatically obtained from AWS API and no further configuration is necessary. More Information available at:</p> <pre class="highlight-text notranslate" data-language="text">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html</pre> <p>If IAM roles are not used you need to specify them either in a pillar or in the minion's config file:</p> <pre class="highlight-yaml notranslate" data-language="yaml">asg.keyid: GKTADJGHEIQSXMKKRBJ08H
asg.key: askdjghsdfjkghWupUjasdflkdfklgjsdfjajkghs</pre> <p>A region may also be specified in the configuration:</p> <pre class="highlight-yaml notranslate" data-language="yaml">asg.region: us-east-1</pre> <p>If a region is not specified, the default is us-east-1.</p> <p>It's also possible to specify key, keyid and region via a profile, either as a passed in dict, or as a string to pull from pillars or minion config:</p> <pre class="highlight-yaml notranslate" data-language="yaml">myprofile:
    keyid: GKTADJGHEIQSXMKKRBJ08H
    key: askdjghsdfjkghWupUjasdflkdfklgjsdfjajkghs
    region: us-east-1</pre> </dd> <dt class="field-even">depends</dt> <dd class="field-even">
<p>boto</p> </dd> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>boto3</p> </dd> </dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.create"> salt.modules.boto_asg.create(name, launch_config_name, availability_zones, min_size, max_size, desired_capacity=None, load_balancers=None, default_cooldown=None, health_check_type=None, health_check_period=None, placement_group=None, vpc_zone_identifier=None, tags=None, termination_policies=None, suspended_processes=None, scaling_policies=None, scheduled_actions=None, region=None, notification_arn=None, notification_types=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Create an autoscale group.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_asg.create myasg mylc '["us-east-1a", "us-east-1e"]' 1 10 load_balancers='["myelb", "myelb2"]' tags='[{"key": "Name", value="myasg", "propagate_at_launch": True}]'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.create_launch_configuration"> salt.modules.boto_asg.create_launch_configuration(name, image_id, key_name=None, vpc_id=None, vpc_name=None, security_groups=None, user_data=None, instance_type='m1.small', kernel_id=None, ramdisk_id=None, block_device_mappings=None, instance_monitoring=False, spot_price=None, instance_profile_name=None, ebs_optimized=False, associate_public_ip_address=None, volume_type=None, delete_on_termination=True, iops=None, use_block_device_types=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Create a launch configuration.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_asg.create_launch_configuration mylc image_id=ami-0b9c9f62 key_name='mykey' security_groups='["mygroup"]' instance_type='c3.2xlarge'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.delete"> salt.modules.boto_asg.delete(name, force=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Delete an autoscale group.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_asg.delete myasg region=us-east-1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.delete_launch_configuration"> salt.modules.boto_asg.delete_launch_configuration(name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Delete a launch configuration.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_asg.delete_launch_configuration mylc</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.describe_launch_configuration"> salt.modules.boto_asg.describe_launch_configuration(name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Dump details of a given launch configuration.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_asg.describe_launch_configuration mylc</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.enter_standby"> salt.modules.boto_asg.enter_standby(name, instance_ids, should_decrement_desired_capacity=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Switch desired instances to StandBy mode</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_asg.enter_standby my_autoscale_group_name '["i-xxxxxx"]'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.exists"> salt.modules.boto_asg.exists(name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Check to see if an autoscale group exists.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_asg.exists myasg region=us-east-1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.exit_standby"> salt.modules.boto_asg.exit_standby(name, instance_ids, should_decrement_desired_capacity=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Exit desired instances from StandBy mode</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_asg.exit_standby my_autoscale_group_name '["i-xxxxxx"]'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.get_all_groups"> salt.modules.boto_asg.get_all_groups(region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Return all AutoScale Groups visible in the account (as a list of boto.ec2.autoscale.group.AutoScalingGroup).</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_asg.get_all_groups region=us-east-1 --output yaml</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.get_all_launch_configurations"> salt.modules.boto_asg.get_all_launch_configurations(region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Fetch and return all Launch Configuration with details.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_asg.get_all_launch_configurations</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.get_cloud_init_mime"> salt.modules.boto_asg.get_cloud_init_mime(cloud_init)</h3> <dd>
<p>Get a mime multipart encoded string from a cloud-init dict. Currently supports boothooks, scripts and cloud-config.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto.get_cloud_init_mime &lt;cloud init&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.get_config"> salt.modules.boto_asg.get_config(name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Get the configuration for an autoscale group.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_asg.get_config myasg region=us-east-1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.get_instances"> salt.modules.boto_asg.get_instances(name, lifecycle_state='InService', health_status='Healthy', attribute='private_ip_address', attributes=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>return attribute of all instances in the named autoscale group.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_asg.get_instances my_autoscale_group_name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.get_scaling_policy_arn"> salt.modules.boto_asg.get_scaling_policy_arn(as_group, scaling_policy_name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Return the arn for a scaling policy in a specific autoscale group or None if not found. Mainly used as a helper method for boto_cloudwatch_alarm, for linking alarms to scaling policies.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' boto_asg.get_scaling_policy_arn mygroup mypolicy</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.launch_configuration_exists"> salt.modules.boto_asg.launch_configuration_exists(name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Check for a launch configuration's existence.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_asg.launch_configuration_exists mylc</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.list_groups"> salt.modules.boto_asg.list_groups(region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Return all AutoScale Groups visible in the account (as a list of names).</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_asg.list_groups region=us-east-1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.list_launch_configurations"> salt.modules.boto_asg.list_launch_configurations(region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>List all Launch Configurations.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_asg.list_launch_configurations</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_asg.update"> salt.modules.boto_asg.update(name, launch_config_name, availability_zones, min_size, max_size, desired_capacity=None, load_balancers=None, default_cooldown=None, health_check_type=None, health_check_period=None, placement_group=None, vpc_zone_identifier=None, tags=None, termination_policies=None, suspended_processes=None, scaling_policies=None, scheduled_actions=None, notification_arn=None, notification_types=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Update an autoscale group.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_asg.update myasg mylc '["us-east-1a", "us-east-1e"]' 1 10 load_balancers='["myelb", "myelb2"]' tags='[{"key": "Name", value="myasg", "propagate_at_launch": True}]'</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.boto_asg.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.boto_asg.html</a>
  </p>
</div>
