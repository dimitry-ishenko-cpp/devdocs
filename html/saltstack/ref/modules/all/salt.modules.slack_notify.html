<h1>salt.modules.slack_notify</h1> <p>Module for sending messages to Slack</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.5.0.</span></p> </div> <dl class="field-list"> <dt class="field-odd">configuration</dt> <dd class="field-odd">
<p>This module can be used by either passing an api key and version directly or by specifying both in a configuration profile in the salt master/minion config.</p> <p>For example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">slack:
  api_key: peWcBiMOS9HrZG15peWcBiMOS9HrZG15</pre> </dd> </dl> <dl class="py function"> <h3 id="salt.modules.slack_notify.call_hook"> salt.modules.slack_notify.call_hook(message, attachment=None, color='good', short=False, identifier=None, channel=None, username=None, icon_emoji=None)</h3> <dd>
<p>Send message to Slack incoming webhook.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>message</strong> -- The topic of message.</p></li> <li><p><strong>attachment</strong> -- The message to send to the Slack WebHook.</p></li> <li><p><strong>color</strong> -- The color of border of left side</p></li> <li><p><strong>short</strong> -- An optional flag indicating whether the value is short enough to be displayed side-by-side with other values.</p></li> <li><p><strong>identifier</strong> -- The identifier of WebHook.</p></li> <li><p><strong>channel</strong> -- The channel to use instead of the WebHook default.</p></li> <li><p><strong>username</strong> -- Username to use instead of WebHook default.</p></li> <li><p><strong>icon_emoji</strong> -- Icon to use instead of WebHook default.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>Boolean if message was sent successfully.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' slack.call_hook message='Hello, from SaltStack'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.slack_notify.find_room"> salt.modules.slack_notify.find_room(name, api_key=None)</h3> <dd>
<p>Find a room by name and return it.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> -- The room name.</p></li> <li><p><strong>api_key</strong> -- The Slack admin api key.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The room object.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' slack.find_room name="random"

salt '*' slack.find_room name="random" api_key=peWcBiMOS9HrZG15peWcBiMOS9HrZG15</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.slack_notify.find_user"> salt.modules.slack_notify.find_user(name, api_key=None)</h3> <dd>
<p>Find a user by name and return it.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> -- The user name.</p></li> <li><p><strong>api_key</strong> -- The Slack admin api key.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The user object.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' slack.find_user name="ThomasHatch"

salt '*' slack.find_user name="ThomasHatch" api_key=peWcBiMOS9HrZG15peWcBiMOS9HrZG15</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.slack_notify.list_rooms"> salt.modules.slack_notify.list_rooms(api_key=None)</h3> <dd>
<p>List all Slack rooms.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>api_key</strong> -- The Slack admin api key.</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The room list.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' slack.list_rooms

salt '*' slack.list_rooms api_key=peWcBiMOS9HrZG15peWcBiMOS9HrZG15</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.slack_notify.list_users"> salt.modules.slack_notify.list_users(api_key=None)</h3> <dd>
<p>List all Slack users.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>api_key</strong> -- The Slack admin api key.</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The user list.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' slack.list_users

salt '*' slack.list_users api_key=peWcBiMOS9HrZG15peWcBiMOS9HrZG15</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.slack_notify.post_message"> salt.modules.slack_notify.post_message(channel, message, from_name, api_key=None, icon=None, attachments=None, blocks=None)</h3> <dd>
<p>Send a message to a Slack channel.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 3003: </span>Added <cite>attachments</cite> and <cite>blocks</cite> kwargs</p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>channel</strong> -- The channel name, either will work.</p></li> <li><p><strong>message</strong> -- The message to send to the Slack channel.</p></li> <li><p><strong>from_name</strong> -- Specify who the message is from.</p></li> <li><p><strong>api_key</strong> -- The Slack api key, if not specified in the configuration.</p></li> <li><p><strong>icon</strong> -- URL to an image to use as the icon for this message</p></li> <li><p><strong>attachments</strong> -- Any attachments to be sent with the message.</p></li> <li><p><strong>blocks</strong> -- Any blocks to be sent with the message.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>Boolean if message was sent successfully.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' slack.post_message channel="Development Room" message="Build is done" from_name="Build Server"</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.slack_notify.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.slack_notify.html</a>
  </p>
</div>
