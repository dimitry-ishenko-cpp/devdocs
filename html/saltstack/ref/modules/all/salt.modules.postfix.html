<h1>salt.modules.postfix</h1> <p>Support for Postfix</p> <p>This module is currently little more than a config file viewer and editor. It is able to read the master.cf file (which is one style) and files in the style of main.cf (which is a different style, that is used in multiple postfix configuration files).</p> <p>The design of this module is such that when files are edited, a minimum of changes are made to them. Each file should look as if it has been edited by hand; order, comments and whitespace are all preserved.</p> <dl class="py function"> <h3 id="salt.modules.postfix.delete"> salt.modules.postfix.delete(queue_id)</h3> <dd>
<p>Delete message(s) from the mail queue</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' postfix.delete 5C33CA0DEA

salt '*' postfix.delete ALL</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.postfix.hold"> salt.modules.postfix.hold(queue_id)</h3> <dd>
<p>Put message(s) on hold from the mail queue</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' postfix.hold 5C33CA0DEA

salt '*' postfix.hold ALL</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.postfix.requeue"> salt.modules.postfix.requeue(queue_id)</h3> <dd>
<p>Requeue message(s) in the mail queue</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' postfix.requeue 5C33CA0DEA

salt '*' postfix.requeue ALL</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.postfix.set_main"> salt.modules.postfix.set_main(key, value, path='/etc/postfix/main.cf')</h3> <dd>
<p>Set a single config value in the main.cf file. If the value does not already exist, it will be appended to the end.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt &lt;minion&gt; postfix.set_main mailq_path /usr/bin/mailq</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.postfix.set_master"> salt.modules.postfix.set_master(service, conn_type, private='y', unpriv='y', chroot='y', wakeup='n', maxproc='100', command='', write_conf=True, path='/etc/postfix/master.cf')</h3> <dd>
<p>Set a single config value in the master.cf file. If the value does not already exist, it will be appended to the end.</p> <p>Because of shell parsing issues, '-' cannot be set as a value, as is normal in the master.cf file; either 'y', 'n' or a number should be used when calling this function from the command line. If the value used matches the default, it will internally be converted to a '-'. Calling this function from the Python API is not affected by this limitation</p> <p>The settings and their default values, in order, are: service (required), conn_type (required), private (y), unpriv (y), chroot (y), wakeup (n), maxproc (100), command (required).</p> <p>By default, this function will write out the changes to the master.cf file, and then returns the full contents of the file. By setting the <code class="docutils literal notranslate"><span class="pre">write_conf</span></code> option to <code class="docutils literal notranslate"><span class="pre">False</span></code>, it will skip writing the file.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt &lt;minion&gt; postfix.set_master smtp inet n y n n 100 smtpd</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.postfix.show_main"> salt.modules.postfix.show_main(path='/etc/postfix/main.cf')</h3> <dd>
<p>Return a dict of active config values. This does not include comments, spacing or order. Bear in mind that order is functionally important in the main.cf file, since keys can be referred to as variables. This means that the data returned from this function should not be used for direct modification of the main.cf file; other functions are available for that.</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt &lt;minion&gt; postfix.show_main
salt &lt;minion&gt; postfix.show_main path=/path/to/main.cf</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.postfix.show_master"> salt.modules.postfix.show_master(path='/etc/postfix/master.cf')</h3> <dd>
<p>Return a dict of active config values. This does not include comments, spacing or order.</p> <p>The data returned from this function should not be used for direct modification of the main.cf file; other functions are available for that.</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt &lt;minion&gt; postfix.show_master
salt &lt;minion&gt; postfix.show_master path=/path/to/master.cf</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.postfix.show_queue"> salt.modules.postfix.show_queue()</h3> <dd>
<p>Show contents of the mail queue</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' postfix.show_queue</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.postfix.unhold"> salt.modules.postfix.unhold(queue_id)</h3> <dd>
<p>Set held message(s) in the mail queue to unheld</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' postfix.unhold 5C33CA0DEA

salt '*' postfix.unhold ALL</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.postfix.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.postfix.html</a>
  </p>
</div>
