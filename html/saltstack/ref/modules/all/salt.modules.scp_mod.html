<h1>salt.modules.scp</h1> <div class="section" id="scp-module"> <h2>SCP Module</h2> <div class="versionadded"> <p><span class="versionmodified added">New in version 2019.2.0.</span></p> </div> <p>Module to copy files via <a class="reference external" href="https://man.openbsd.org/scp">SCP</a></p> <dl class="py function"> <h3 id="salt.modules.scp_mod.get"> salt.modules.scp_mod.get(remote_path, local_path='', recursive=False, preserve_times=False, **kwargs)</h3> <dd>
<p>Transfer files and directories from remote host to the localhost of the Minion.</p> <dl class="simple"> <dt>remote_path</dt>
<dd>
<p>Path to retrieve from remote host. Since this is evaluated by scp on the remote host, shell wildcards and environment variables may be used.</p> </dd> <dt>recursive: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt>
<dd>
<p>Transfer files and directories recursively.</p> </dd> <dt>preserve_times: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt>
<dd>
<p>Preserve <code class="docutils literal notranslate"><span class="pre">mtime</span></code> and <code class="docutils literal notranslate"><span class="pre">atime</span></code> of transferred files and directories.</p> </dd> <dt>hostname</dt>
<dd>
<p>The hostname of the remote device.</p> </dd> <dt>port: <code class="docutils literal notranslate"><span class="pre">22</span></code>
</dt>
<dd>
<p>The port of the remote device.</p> </dd> <dt>username</dt>
<dd>
<p>The username required for SSH authentication on the device.</p> </dd> <dt>password</dt>
<dd>
<p>Used for password authentication. It is also used for private key decryption if <code class="docutils literal notranslate"><span class="pre">passphrase</span></code> is not given.</p> </dd> <dt>passphrase</dt>
<dd>
<p>Used for decrypting private keys.</p> </dd> <dt>pkey</dt>
<dd>
<p>An optional private key to use for authentication.</p> </dd> <dt>key_filename</dt>
<dd>
<p>The filename, or list of filenames, of optional private key(s) and/or certificates to try for authentication.</p> </dd> <dt>timeout</dt>
<dd>
<p>An optional timeout (in seconds) for the TCP connect.</p> </dd> <dt>socket_timeout: <code class="docutils literal notranslate"><span class="pre">10</span></code>
</dt>
<dd>
<p>The channel socket timeout in seconds.</p> </dd> <dt>buff_size: <code class="docutils literal notranslate"><span class="pre">16384</span></code>
</dt>
<dd>
<p>The size of the SCP send buffer.</p> </dd> <dt>allow_agent: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to disable connecting to the SSH agent.</p> </dd> <dt>look_for_keys: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to disable searching for discoverable private key files in <code class="docutils literal notranslate"><span class="pre">~/.ssh/</span></code></p> </dd> <dt>banner_timeout</dt>
<dd>
<p>An optional timeout (in seconds) to wait for the SSH banner to be presented.</p> </dd> <dt>auth_timeout</dt>
<dd>
<p>An optional timeout (in seconds) to wait for an authentication response.</p> </dd> <dt>auto_add_policy: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt>
<dd>
<p>Automatically add the host to the <code class="docutils literal notranslate"><span class="pre">known_hosts</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' scp.get /var/tmp/file /tmp/file hostname=10.10.10.1 auto_add_policy=True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.scp_mod.put"> salt.modules.scp_mod.put(files, remote_path=None, recursive=False, preserve_times=False, saltenv='base', **kwargs)</h3> <dd>
<p>Transfer files and directories to remote host.</p> <dl class="simple"> <dt>files</dt>
<dd>
<p>A single path or a list of paths to be transferred.</p> </dd> <dt>remote_path</dt>
<dd>
<p>The path on the remote device where to store the files.</p> </dd> <dt>recursive: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>Transfer files and directories recursively.</p> </dd> <dt>preserve_times: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt>
<dd>
<p>Preserve <code class="docutils literal notranslate"><span class="pre">mtime</span></code> and <code class="docutils literal notranslate"><span class="pre">atime</span></code> of transferred files and directories.</p> </dd> <dt>hostname</dt>
<dd>
<p>The hostname of the remote device.</p> </dd> <dt>port: <code class="docutils literal notranslate"><span class="pre">22</span></code>
</dt>
<dd>
<p>The port of the remote device.</p> </dd> <dt>username</dt>
<dd>
<p>The username required for SSH authentication on the device.</p> </dd> <dt>password</dt>
<dd>
<p>Used for password authentication. It is also used for private key decryption if <code class="docutils literal notranslate"><span class="pre">passphrase</span></code> is not given.</p> </dd> <dt>passphrase</dt>
<dd>
<p>Used for decrypting private keys.</p> </dd> <dt>pkey</dt>
<dd>
<p>An optional private key to use for authentication.</p> </dd> <dt>key_filename</dt>
<dd>
<p>The filename, or list of filenames, of optional private key(s) and/or certificates to try for authentication.</p> </dd> <dt>timeout</dt>
<dd>
<p>An optional timeout (in seconds) for the TCP connect.</p> </dd> <dt>socket_timeout: <code class="docutils literal notranslate"><span class="pre">10</span></code>
</dt>
<dd>
<p>The channel socket timeout in seconds.</p> </dd> <dt>buff_size: <code class="docutils literal notranslate"><span class="pre">16384</span></code>
</dt>
<dd>
<p>The size of the SCP send buffer.</p> </dd> <dt>allow_agent: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to disable connecting to the SSH agent.</p> </dd> <dt>look_for_keys: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>Set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to disable searching for discoverable private key files in <code class="docutils literal notranslate"><span class="pre">~/.ssh/</span></code></p> </dd> <dt>banner_timeout</dt>
<dd>
<p>An optional timeout (in seconds) to wait for the SSH banner to be presented.</p> </dd> <dt>auth_timeout</dt>
<dd>
<p>An optional timeout (in seconds) to wait for an authentication response.</p> </dd> <dt>auto_add_policy: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt>
<dd>
<p>Automatically add the host to the <code class="docutils literal notranslate"><span class="pre">known_hosts</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' scp.put /path/to/file /var/tmp/file hostname=server1 auto_add_policy=True</pre> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.scp_mod.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.scp_mod.html</a>
  </p>
</div>
