<h1>salt.modules.kapacitor</h1> <p>Kapacitor execution module.</p> <dl class="field-list"> <dt class="field-odd">configuration</dt> <dd class="field-odd">
<p>This module accepts connection configuration details either as parameters or as configuration settings in /etc/salt/minion on the relevant minions:</p> <pre class="highlight-default notranslate" data-language="default">kapacitor.host: 'localhost'
kapacitor.port: 9092</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <p>Also protocol and SSL settings could be configured:</p> <pre class="highlight-default notranslate" data-language="default">kapacitor.unsafe_ssl: 'false'
kapacitor.protocol: 'http'</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2019.2.0.</span></p> </div> <p>This data can also be passed into pillar. Options passed into opts will overwrite options passed into pillar.</p> </dd> </dl> <dl class="py function"> <h3 id="salt.modules.kapacitor.define_task"> salt.modules.kapacitor.define_task(name, tick_script, task_type='stream', database=None, retention_policy='default', dbrps=None)</h3> <dd>
<p>Define a task. Serves as both create/update.</p> <dl> <dt>name</dt>
<dd>
<p>Name of the task.</p> </dd> <dt>tick_script</dt>
<dd>
<p>Path to the TICK script for the task. Can be a salt:// source.</p> </dd> <dt>task_type</dt>
<dd>
<p>Task type. Defaults to 'stream'</p> </dd> <dt>dbrps</dt>
<dd>
<p>A list of databases and retention policies in "dbname"."rpname" format to fetch data from. For backward compatibility, the value of 'database' and 'retention_policy' will be merged as part of dbrps.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2019.2.0.</span></p> </div> </dd> <dt>database</dt>
<dd>
<p>Which database to fetch data from.</p> </dd> <dt>retention_policy</dt>
<dd>
<p>Which retention policy to fetch data from. Defaults to 'default'.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' kapacitor.define_task cpu salt://kapacitor/cpu.tick database=telegraf</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.kapacitor.delete_task"> salt.modules.kapacitor.delete_task(name)</h3> <dd>
<p>Delete a kapacitor task.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>Name of the task to delete.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' kapacitor.delete_task cpu</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.kapacitor.disable_task"> salt.modules.kapacitor.disable_task(name)</h3> <dd>
<p>Disable a kapacitor task.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>Name of the task to disable.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' kapacitor.disable_task cpu</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.kapacitor.enable_task"> salt.modules.kapacitor.enable_task(name)</h3> <dd>
<p>Enable a kapacitor task.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>Name of the task to enable.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' kapacitor.enable_task cpu</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.kapacitor.get_task"> salt.modules.kapacitor.get_task(name)</h3> <dd>
<p>Get a dict of data on a task.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>Name of the task to get information about.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' kapacitor.get_task cpu</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.kapacitor.version"> salt.modules.kapacitor.version()</h3> <dd>
<p>Get the kapacitor version.</p> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.kapacitor.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.kapacitor.html</a>
  </p>
</div>
