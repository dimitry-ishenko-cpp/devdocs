<h1>salt.modules.reg</h1> <p>Manage the Windows registry</p> <div class="section" id="hives"> <h2>Hives</h2> <p>Hives are the main sections of the registry and all begin with the word HKEY.</p> <ul class="simple"> <li><p>HKEY_LOCAL_MACHINE</p></li> <li><p>HKEY_CURRENT_USER</p></li> <li><p>HKEY_USER</p></li> </ul> </div> <div class="section" id="keys"> <h2>Keys</h2> <p>Keys are the folders in the registry. Keys can have many nested subkeys. Keys can have a value assigned to them under the (Default)</p> <p>When passing a key on the CLI it must be quoted correctly depending on the backslashes being used (<code class="docutils literal notranslate"><span class="pre">\</span></code> vs <code class="docutils literal notranslate"><span class="pre">\\</span></code>). The following are valid methods of passing the key on the CLI:</p> <dl class="simple"> <dt>Using single backslashes:</dt>
<dd>
<p><code class="docutils literal notranslate"><span class="pre">"SOFTWARE\Python"</span></code> <code class="docutils literal notranslate"><span class="pre">'SOFTWARE\Python'</span></code> (will not work on a Windows Master)</p> </dd> <dt>Using double backslashes:</dt>
<dd>
<p><code class="docutils literal notranslate"><span class="pre">SOFTWARE\\Python</span></code></p> </dd> </dl> <div class="section" id="values-or-entries"> <h3>Values or Entries</h3> <p>Values or Entries are the name/data pairs beneath the keys and subkeys. All keys have a default name/data pair. The name is <code class="docutils literal notranslate"><span class="pre">(Default)</span></code> with a displayed value of <code class="docutils literal notranslate"><span class="pre">(value</span> <span class="pre">not</span> <span class="pre">set)</span></code>. The actual value is Null.</p> <p class="rubric">Example</p> <p>The following example is an export from the Windows startup portion of the registry:</p> <pre class="highlight-bash notranslate" data-language="bash">[HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Run]
"RTHDVCPL"="\"C:\\Program Files\\Realtek\\Audio\\HDA\\RtkNGUI64.exe\" -s"
"NvBackend"="\"C:\\Program Files (x86)\\NVIDIA Corporation\\Update Core\\NvBackend.exe\""
"BTMTrayAgent"="rundll32.exe \"C:\\Program Files (x86)\\Intel\\Bluetooth\\btmshellex.dll\",TrayApp"</pre> <p>In this example these are the values for each:</p> <dl class="simple"> <dt>Hive:</dt>
<dd>
<p><code class="docutils literal notranslate"><span class="pre">HKEY_LOCAL_MACHINE</span></code></p> </dd> <dt>Key and subkeys:</dt>
<dd>
<p><code class="docutils literal notranslate"><span class="pre">SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run</span></code></p> </dd> <dt>Value:</dt>
<dd>
<ul class="simple"> <li>
<dl class="simple"> <dt>There are 3 value names:</dt>
<dd>
<ul> <li><p><cite>RTHDVCPL</cite></p></li> <li><p><cite>NvBackend</cite></p></li> <li><p><cite>BTMTrayAgent</cite></p></li> </ul> </dd> </dl> </li> <li><p>Each value name has a corresponding value</p></li> </ul> </dd> </dl> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<ul class="simple"> <li><p>salt.utils.win_reg</p></li> </ul> </dd> </dl> <dl class="py function"> <h3 id="salt.modules.reg.broadcast_change"> salt.modules.reg.broadcast_change()</h3> <dd>
<p>Refresh the windows environment.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This will only effect new processes and windows. Services will not see the change until the system restarts.</p> </div> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>True if successful, otherwise False</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <blockquote> <div>
<pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.broadcast_change</pre> </div>
</blockquote> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.reg.delete_key_recursive"> salt.modules.reg.delete_key_recursive(hive, key, use_32bit_registry=False)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2015.5.4.</span></p> </div> <p>Delete a registry key to include all subkeys and value/data pairs.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>hive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>The name of the hive. Can be one of the following</p> <blockquote> <div>
<ul class="simple"> <li><p>HKEY_LOCAL_MACHINE or HKLM</p></li> <li><p>HKEY_CURRENT_USER or HKCU</p></li> <li><p>HKEY_USER or HKU</p></li> <li><p>HKEY_CLASSES_ROOT or HKCR</p></li> <li><p>HKEY_CURRENT_CONFIG or HKCC</p></li> </ul> </div>
</blockquote> <dl class="simple"> <dt>key (str):</dt>
<dd>
<p>The key to remove (looks like a path)</p> </dd> <dt>use_32bit_registry (bool):</dt>
<dd>
<p>Deletes the 32bit portion of the registry on 64bit installations. On 32bit machines this is ignored.</p> </dd> </dl> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">

<dl class="simple"> <dt>A dictionary listing the keys that deleted successfully as well as</dt>
<dd>
<p>those that failed to delete.</p> </dd> </dl> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> </dl> <p>CLI Example:</p> <blockquote> <div>
<p>The following example will remove <code class="docutils literal notranslate"><span class="pre">delete_me</span></code> and all its subkeys from the <code class="docutils literal notranslate"><span class="pre">SOFTWARE</span></code> key in <code class="docutils literal notranslate"><span class="pre">HKEY_LOCAL_MACHINE</span></code>:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.delete_key_recursive HKLM SOFTWARE\\delete_me</pre> </div>
</blockquote> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.reg.delete_value"> salt.modules.reg.delete_value(hive, key, vname=None, use_32bit_registry=False)</h3> <dd>
<p>Delete a registry value entry or the default value for a key.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li>
<p><strong>hive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>The name of the hive. Can be one of the following</p> <blockquote> <div>
<ul> <li><p>HKEY_LOCAL_MACHINE or HKLM</p></li> <li><p>HKEY_CURRENT_USER or HKCU</p></li> <li><p>HKEY_USER or HKU</p></li> <li><p>HKEY_CLASSES_ROOT or HKCR</p></li> <li><p>HKEY_CURRENT_CONFIG or HKCC</p></li> </ul> </div>
</blockquote> </li> <li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The key (looks like a path) to the value name.</p></li> <li><p><strong>vname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The value name. These are the individual name/data pairs under the key. If not passed, the key (Default) value will be deleted.</p></li> <li><p><strong>use_32bit_registry</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Deletes the 32bit portion of the registry on 64bit installations. On 32bit machines this is ignored.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <blockquote> <div>
<pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.delete_value HKEY_CURRENT_USER 'SOFTWARE\\Salt' 'version'</pre> </div>
</blockquote> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.reg.import_file"> salt.modules.reg.import_file(source, use_32bit_registry=False)</h3> <dd>
<p>Import registry settings from a Windows <code class="docutils literal notranslate"><span class="pre">REG</span></code> file by invoking <code class="docutils literal notranslate"><span class="pre">REG.EXE</span></code>.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.0.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>source</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The full path of the <code class="docutils literal notranslate"><span class="pre">REG</span></code> file. This can be either a local file path or a URL type supported by salt (e.g. <code class="docutils literal notranslate"><span class="pre">salt://salt_master_path</span></code>)</p></li> <li><p><strong>use_32bit_registry</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- If the value of this parameter is <code class="docutils literal notranslate"><span class="pre">True</span></code> then the <code class="docutils literal notranslate"><span class="pre">REG</span></code> file will be imported into the Windows 32 bit registry. Otherwise the Windows 64 bit registry will be used.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise an error is raised</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> <dt class="field-even">Raises</dt> <dd class="field-even">
<ul class="simple"> <li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.9)"><strong>ValueError</strong></a> -- If the value of <code class="docutils literal notranslate"><span class="pre">source</span></code> is an invalid path or otherwise causes <code class="docutils literal notranslate"><span class="pre">cp.cache_file</span></code> to return <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li> <li><p><a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/internals/salt.exceptions.html#salt.exceptions.CommandExecutionError" title="salt.exceptions.CommandExecutionError"><strong>CommandExecutionError</strong></a> -- If <code class="docutils literal notranslate"><span class="pre">reg.exe</span></code> exits with a non-0 exit code</p></li> </ul> </dd> </dl> <p>CLI Example:</p> <blockquote> <div>
<pre class="highlight-bash notranslate" data-language="bash">salt machine1 reg.import_file salt://win/printer_config/110_Canon/postinstall_config.reg</pre> </div>
</blockquote> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.reg.key_exists"> salt.modules.reg.key_exists(hive, key, use_32bit_registry=False)</h3> <dd>
<p>Check that the key is found in the registry. This refers to keys and not value/data pairs.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>hive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The hive to connect to</p></li> <li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The key to check</p></li> <li><p><strong>use_32bit_registry</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Look in the 32bit portion of the registry</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if exists, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <blockquote> <div>
<pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.key_exists HKLM SOFTWARE\Microsoft</pre> </div>
</blockquote> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.reg.list_keys"> salt.modules.reg.list_keys(hive, key=None, use_32bit_registry=False)</h3> <dd>
<p>Enumerates the subkeys in a registry key or hive.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li>
<p><strong>hive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>The name of the hive. Can be one of the following:</p> <blockquote> <div>
<ul> <li><p>HKEY_LOCAL_MACHINE or HKLM</p></li> <li><p>HKEY_CURRENT_USER or HKCU</p></li> <li><p>HKEY_USER or HKU</p></li> <li><p>HKEY_CLASSES_ROOT or HKCR</p></li> <li><p>HKEY_CURRENT_CONFIG or HKCC</p></li> </ul> </div>
</blockquote> </li> <li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The key (looks like a path) to the value name. If a key is not passed, the keys under the hive will be returned.</p></li> <li><p><strong>use_32bit_registry</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Accesses the 32bit portion of the registry on 64 bit installations. On 32bit machines this is ignored.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>A list of keys/subkeys under the hive or key.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p> </dd> </dl> <p>CLI Example:</p> <blockquote> <div>
<pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.list_keys HKLM 'SOFTWARE'</pre> </div>
</blockquote> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.reg.list_values"> salt.modules.reg.list_values(hive, key=None, use_32bit_registry=False)</h3> <dd>
<p>Enumerates the values in a registry key or hive.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The <code class="docutils literal notranslate"><span class="pre">(Default)</span></code> value will only be returned if it is set, otherwise it will not be returned in the list of values.</p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li>
<p><strong>hive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>The name of the hive. Can be one of the following:</p> <blockquote> <div>
<ul> <li><p>HKEY_LOCAL_MACHINE or HKLM</p></li> <li><p>HKEY_CURRENT_USER or HKCU</p></li> <li><p>HKEY_USER or HKU</p></li> <li><p>HKEY_CLASSES_ROOT or HKCR</p></li> <li><p>HKEY_CURRENT_CONFIG or HKCC</p></li> </ul> </div>
</blockquote> </li> <li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The key (looks like a path) to the value name. If a key is not passed, the values under the hive will be returned.</p></li> <li><p><strong>use_32bit_registry</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Accesses the 32bit portion of the registry on 64 bit installations. On 32bit machines this is ignored.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>A list of values under the hive or key.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p> </dd> </dl> <p>CLI Example:</p> <blockquote> <div>
<pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.list_values HKLM 'SYSTEM\\CurrentControlSet\\Services\\Tcpip'</pre> </div>
</blockquote> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.reg.read_value"> salt.modules.reg.read_value(hive, key, vname=None, use_32bit_registry=False)</h3> <dd>
<p>Reads a registry value entry or the default value for a key. To read the default value, don't pass <code class="docutils literal notranslate"><span class="pre">vname</span></code></p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li>
<p><strong>hive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>The name of the hive. Can be one of the following:</p> <ul> <li><p>HKEY_LOCAL_MACHINE or HKLM</p></li> <li><p>HKEY_CURRENT_USER or HKCU</p></li> <li><p>HKEY_USER or HKU</p></li> <li><p>HKEY_CLASSES_ROOT or HKCR</p></li> <li><p>HKEY_CURRENT_CONFIG or HKCC</p></li> </ul> </li> <li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The key (looks like a path) to the value name.</p></li> <li><p><strong>vname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The value name. These are the individual name/data pairs under the key. If not passed, the key (Default) value will be returned.</p></li> <li><p><strong>use_32bit_registry</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Accesses the 32bit portion of the registry on 64bit installations. On 32bit machines this is ignored.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">

<p>A dictionary containing the passed settings as well as the value_data if successful. If unsuccessful, sets success to False.</p> <p>bool: Returns False if the key is not found</p> <p>If vname is not passed:</p> <blockquote> <div>
<ul class="simple"> <li><p>Returns the first unnamed value (Default) as a string.</p></li> <li><p>Returns none if first unnamed value is empty.</p></li> </ul> </div>
</blockquote> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> </dl> <p>CLI Example:</p> <blockquote> <div>
<p>The following will get the value of the <code class="docutils literal notranslate"><span class="pre">version</span></code> value name in the <code class="docutils literal notranslate"><span class="pre">HKEY_LOCAL_MACHINE\\SOFTWARE\\Salt</span></code> key</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.read_value HKEY_LOCAL_MACHINE 'SOFTWARE\Salt' 'version'</pre> </div>
</blockquote> <p>CLI Example:</p> <blockquote> <div>
<p>The following will get the default value of the <code class="docutils literal notranslate"><span class="pre">HKEY_LOCAL_MACHINE\\SOFTWARE\\Salt</span></code> key</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.read_value HKEY_LOCAL_MACHINE 'SOFTWARE\Salt'</pre> </div>
</blockquote> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.reg.set_value"> salt.modules.reg.set_value(hive, key, vname=None, vdata=None, vtype='REG_SZ', use_32bit_registry=False, volatile=False)</h3> <dd>
<p>Sets a value in the registry. If <code class="docutils literal notranslate"><span class="pre">vname</span></code> is passed, it will be the value for that value name, otherwise it will be the default value for the specified key</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li>
<p><strong>hive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>The name of the hive. Can be one of the following</p> <blockquote> <div>
<ul> <li><p>HKEY_LOCAL_MACHINE or HKLM</p></li> <li><p>HKEY_CURRENT_USER or HKCU</p></li> <li><p>HKEY_USER or HKU</p></li> <li><p>HKEY_CLASSES_ROOT or HKCR</p></li> <li><p>HKEY_CURRENT_CONFIG or HKCC</p></li> </ul> </div>
</blockquote> </li> <li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The key (looks like a path) to the value name.</p></li> <li><p><strong>vname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The value name. These are the individual name/data pairs under the key. If not passed, the key (Default) value will be set.</p></li> <li>
<p><strong>vdata</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.9)"><em>bytes</em></a>) -- </p>
<p>The value you'd like to set. If a value name (vname) is passed, this will be the data for that value name. If not, this will be the (Default) value for the key.</p> <p>The type of data this parameter expects is determined by the value type specified in <code class="docutils literal notranslate"><span class="pre">vtype</span></code>. The correspondence is as follows:</p> <blockquote> <div>
<ul> <li><p>REG_BINARY: Binary data (str in Py2, bytes in Py3)</p></li> <li><p>REG_DWORD: int</p></li> <li><p>REG_EXPAND_SZ: str</p></li> <li><p>REG_MULTI_SZ: list of str</p></li> <li><p>REG_QWORD: int</p></li> <li><p>REG_SZ: str</p></li> </ul> <div class="admonition note"> <p class="admonition-title">Note</p> <p>When setting REG_BINARY, string data will be converted to binary.</p> </div> </div>
</blockquote> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The type for the (Default) value is always REG_SZ and cannot be changed.</p> </div> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This parameter is optional. If <code class="docutils literal notranslate"><span class="pre">vdata</span></code> is not passed, the Key will be created with no associated item/value pairs.</p> </div> </li> <li><p><strong>vtype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The value type. The possible values of the vtype parameter are indicated above in the description of the vdata parameter.</p></li> <li><p><strong>use_32bit_registry</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Sets the 32bit portion of the registry on 64bit installations. On 32bit machines this is ignored.</p></li> <li><p><strong>volatile</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- When this parameter has a value of True, the registry key will be made volatile (i.e. it will not persist beyond a system reset or shutdown). This parameter only has an effect when a key is being created and at no other time.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <blockquote> <div>
<p>This will set the version value to 2015.5.2 in the SOFTWARESalt key in the HKEY_LOCAL_MACHINE hive</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.set_value HKEY_LOCAL_MACHINE 'SOFTWARE\Salt' 'version' '2015.5.2'</pre> </div>
</blockquote> <p>CLI Example:</p> <blockquote> <div>
<p>This function is strict about the type of vdata. For instance this example will fail because vtype has a value of REG_SZ and vdata has a type of int (as opposed to str as expected).</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.set_value HKEY_LOCAL_MACHINE 'SOFTWARE\Salt' 'str_data' 1.2</pre> </div>
</blockquote> <p>CLI Example:</p> <blockquote> <div>
<p>In this next example vdata is properly quoted and should succeed.</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.set_value HKEY_LOCAL_MACHINE 'SOFTWARE\Salt' 'str_data' vtype=REG_SZ vdata="'1.2'"</pre> </div>
</blockquote> <p>CLI Example:</p> <blockquote> <div>
<p>This is an example of using vtype REG_BINARY.</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.set_value HKEY_LOCAL_MACHINE 'SOFTWARE\Salt' 'bin_data' vtype=REG_BINARY vdata='Salty Data'</pre> </div>
</blockquote> <p>CLI Example:</p> <blockquote> <div>
<p>An example of using vtype REG_MULTI_SZ is as follows:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.set_value HKEY_LOCAL_MACHINE 'SOFTWARE\Salt' 'list_data' vtype=REG_MULTI_SZ vdata='["Salt", "is", "great"]'</pre> </div>
</blockquote> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.reg.value_exists"> salt.modules.reg.value_exists(hive, key, vname, use_32bit_registry=False)</h3> <dd>
<p>Check that the value/data pair is found in the registry.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 3000.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>hive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The hive to connect to</p></li> <li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The key to check in</p></li> <li><p><strong>vname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the value/data pair you're checking</p></li> <li><p><strong>use_32bit_registry</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Look in the 32bit portion of the registry</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if exists, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <blockquote> <div>
<pre class="highlight-bash notranslate" data-language="bash">salt '*' reg.value_exists HKLM SOFTWARE\Microsoft\Windows\CurrentVersion CommonFilesDir</pre> </div>
</blockquote> </dd>
</dl> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.reg.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.reg.html</a>
  </p>
</div>
