<h1>salt.modules.cassandra_cql</h1> <p>Cassandra Database Module</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.5.0.</span></p> </div> <p>This module works with Cassandra v2 and v3 and hence generates queries based on the internal schema of said version.</p> <dl class="field-list"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>DataStax Python Driver for Apache Cassandra <a class="reference external" href="https://github.com/datastax/python-driver">https://github.com/datastax/python-driver</a> pip install cassandra-driver</p> </dd> <dt class="field-even">referenced by</dt> <dd class="field-even">
<p>Salt's cassandra_cql returner</p> </dd> <dt class="field-odd">configuration</dt> <dd class="field-odd">
<p>The Cassandra cluster members and connection port can either be specified in the master or minion config, the minion's pillar or be passed to the module.</p> <p>Example configuration in the config for a single node:</p> <pre class="highlight-yaml notranslate" data-language="yaml">cassandra:
  cluster: 192.168.50.10
  port: 9000</pre> <p>Example configuration in the config for a cluster:</p> <pre class="highlight-yaml notranslate" data-language="yaml">cassandra:
  cluster:
    - 192.168.50.10
    - 192.168.50.11
    - 192.168.50.12
  port: 9000
  username: cas_admin</pre> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2016.11.0.</span></p> </div> <p>Added support for <code class="docutils literal notranslate"><span class="pre">ssl_options</span></code> and <code class="docutils literal notranslate"><span class="pre">protocol_version</span></code>.</p> <p>Example configuration with <a class="reference external" href="http://datastax.github.io/python-driver/api/cassandra/cluster.html#cassandra.cluster.Cluster.ssl_options">ssl options</a>:</p> <p>If <code class="docutils literal notranslate"><span class="pre">ssl_options</span></code> are present in cassandra config the cassandra_cql returner will use SSL. SSL isn't used if <code class="docutils literal notranslate"><span class="pre">ssl_options</span></code> isn't specified.</p> <pre class="highlight-yaml notranslate" data-language="yaml">cassandra:
  cluster:
    - 192.168.50.10
    - 192.168.50.11
    - 192.168.50.12
  port: 9000
  username: cas_admin

  ssl_options:
    ca_certs: /etc/ssl/certs/ca-bundle.trust.crt

    # SSL version should be one from the ssl module
    # This is an optional parameter
    ssl_version: PROTOCOL_TLSv1</pre> <p>Additionally you can also specify the <code class="docutils literal notranslate"><span class="pre">protocol_version</span></code> to <a class="reference external" href="http://datastax.github.io/python-driver/api/cassandra/cluster.html#cassandra.cluster.Cluster.ssl_options">use</a>.</p> <pre class="highlight-yaml notranslate" data-language="yaml">cassandra:
  cluster:
    - 192.168.50.10
    - 192.168.50.11
    - 192.168.50.12
  port: 9000
  username: cas_admin

  # defaults to 4, if not set
  protocol_version: 3</pre> </dd> </dl> <dl class="py function"> <h3 id="salt.modules.cassandra_cql.cql_query"> salt.modules.cassandra_cql.cql_query(query, contact_points=None, port=None, cql_user=None, cql_pass=None)</h3> <dd>
<p>Run a query on a Cassandra cluster and return a dictionary.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>query</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The query to execute.</p></li> <li><p><strong>contact_points</strong> (<em>str | list</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The Cassandra cluster addresses, can either be a string or a list of IPs.</p></li> <li><p><strong>cql_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user if authentication is turned on.</p></li> <li><p><strong>cql_pass</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user password if authentication is turned on.</p></li> <li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The Cassandra cluster port, defaults to None.</p></li> <li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The parameters for the query, optional.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>A dictionary from the return values of the query</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a>]</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'cassandra-server' cassandra_cql.cql_query "SELECT * FROM users_by_name WHERE first_name = 'jane'"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cassandra_cql.cql_query_with_prepare"> salt.modules.cassandra_cql.cql_query_with_prepare(query, statement_name, statement_arguments, asynchronous=False, callback_errors=None, contact_points=None, port=None, cql_user=None, cql_pass=None, **kwargs)</h3> <dd>
<p>Run a query on a Cassandra cluster and return a dictionary.</p> <p>This function should not be used asynchronously for SELECTs -- it will not return anything and we don't currently have a mechanism for handling a future that will return results.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>query</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The query to execute.</p></li> <li><p><strong>statement_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Name to assign the prepared statement in the __context__ dictionary</p></li> <li><p><strong>statement_arguments</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- Bind parameters for the SQL statement</p></li> <li><p><strong>asynchronous</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Run this query in asynchronous mode</p></li> <li><p><strong>async</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Run this query in asynchronous mode (an alias to 'asynchronous') NOTE: currently it overrides 'asynchronous' and it will be dropped in version 3001!</p></li> <li><p><strong>callback_errors</strong> (<em>Function callable</em>) -- Function to call after query runs if there is an error</p></li> <li><p><strong>contact_points</strong> (<em>str | list</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The Cassandra cluster addresses, can either be a string or a list of IPs.</p></li> <li><p><strong>cql_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user if authentication is turned on.</p></li> <li><p><strong>cql_pass</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user password if authentication is turned on.</p></li> <li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The Cassandra cluster port, defaults to None.</p></li> <li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The parameters for the query, optional.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>A dictionary from the return values of the query</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a>]</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash"># Insert data asynchronously
salt this-node cassandra_cql.cql_query_with_prepare "name_insert" "INSERT INTO USERS (first_name, last_name) VALUES (?, ?)"             statement_arguments=['John','Doe'], asynchronous=True

# Select data, should not be asynchronous because there is not currently a facility to return data from a future
salt this-node cassandra_cql.cql_query_with_prepare "name_select" "SELECT * FROM USERS WHERE first_name=?"             statement_arguments=['John']</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cassandra_cql.create_keyspace"> salt.modules.cassandra_cql.create_keyspace(keyspace, replication_strategy='SimpleStrategy', replication_factor=1, replication_datacenters=None, contact_points=None, port=None, cql_user=None, cql_pass=None)</h3> <dd>
<p>Create a new keyspace in Cassandra.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>keyspace</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The keyspace name</p></li> <li><p><strong>replication_strategy</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- either <cite>SimpleStrategy</cite> or <cite>NetworkTopologyStrategy</cite></p></li> <li><p><strong>replication_factor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- number of replicas of data on multiple nodes. not used if using NetworkTopologyStrategy</p></li> <li><p><strong>replication_datacenters</strong> (<em>str | dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a><em>]</em>) -- string or dict of datacenter names to replication factors, required if using NetworkTopologyStrategy (will be a dict if coming from state file).</p></li> <li><p><strong>contact_points</strong> (<em>str | list</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The Cassandra cluster addresses, can either be a string or a list of IPs.</p></li> <li><p><strong>cql_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user if authentication is turned on.</p></li> <li><p><strong>cql_pass</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user password if authentication is turned on.</p></li> <li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The Cassandra cluster port, defaults to None.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The info for the keyspace or False if it does not exist.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash"># CLI Example:
salt 'minion1' cassandra_cql.create_keyspace keyspace=newkeyspace

salt 'minion1' cassandra_cql.create_keyspace keyspace=newkeyspace replication_strategy=NetworkTopologyStrategy         replication_datacenters='{"datacenter_1": 3, "datacenter_2": 2}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cassandra_cql.create_user"> salt.modules.cassandra_cql.create_user(username, password, superuser=False, contact_points=None, port=None, cql_user=None, cql_pass=None)</h3> <dd>
<p>Create a new cassandra user with credentials and superuser status.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>username</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the new user.</p></li> <li><p><strong>password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The password of the new user.</p></li> <li><p><strong>superuser</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Is the new user going to be a superuser? default: False</p></li> <li><p><strong>contact_points</strong> (<em>str | list</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The Cassandra cluster addresses, can either be a string or a list of IPs.</p></li> <li><p><strong>cql_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user if authentication is turned on.</p></li> <li><p><strong>cql_pass</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user password if authentication is turned on.</p></li> <li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The Cassandra cluster port, defaults to None.</p></li> </ul> </dd> <dt class="field-even">Returns</dt>  <dt class="field-odd">Return type</dt>  </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'minion1' cassandra_cql.create_user username=joe password=secret

salt 'minion1' cassandra_cql.create_user username=joe password=secret superuser=True

salt 'minion1' cassandra_cql.create_user username=joe password=secret superuser=True contact_points=minion1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cassandra_cql.drop_keyspace"> salt.modules.cassandra_cql.drop_keyspace(keyspace, contact_points=None, port=None, cql_user=None, cql_pass=None)</h3> <dd>
<p>Drop a keyspace if it exists in a Cassandra cluster.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>keyspace</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The keyspace to drop.</p></li> <li><p><strong>contact_points</strong> (<em>str | list</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The Cassandra cluster addresses, can either be a string or a list of IPs.</p></li> <li><p><strong>cql_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user if authentication is turned on.</p></li> <li><p><strong>cql_pass</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user password if authentication is turned on.</p></li> <li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The Cassandra cluster port, defaults to None.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The info for the keyspace or False if it does not exist.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'minion1' cassandra_cql.drop_keyspace keyspace=test

salt 'minion1' cassandra_cql.drop_keyspace keyspace=test contact_points=minion1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cassandra_cql.grant_permission"> salt.modules.cassandra_cql.grant_permission(username, resource=None, resource_type='keyspace', permission=None, contact_points=None, port=None, cql_user=None, cql_pass=None)</h3> <dd>
<p>Grant permissions to a user.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>username</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the user to grant permissions to.</p></li> <li><p><strong>resource</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The resource (keyspace or table), if None, permissions for all resources are granted.</p></li> <li><p><strong>resource_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The resource_type (keyspace or table), defaults to 'keyspace'.</p></li> <li><p><strong>permission</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- A permission name (e.g. select), if None, all permissions are granted.</p></li> <li><p><strong>contact_points</strong> (<em>str | list</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The Cassandra cluster addresses, can either be a string or a list of IPs.</p></li> <li><p><strong>cql_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user if authentication is turned on.</p></li> <li><p><strong>cql_pass</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user password if authentication is turned on.</p></li> <li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The Cassandra cluster port, defaults to None.</p></li> </ul> </dd> <dt class="field-even">Returns</dt>  <dt class="field-odd">Return type</dt>  </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'minion1' cassandra_cql.grant_permission

salt 'minion1' cassandra_cql.grant_permission username=joe resource=test_keyspace permission=select

salt 'minion1' cassandra_cql.grant_permission username=joe resource=test_table resource_type=table         permission=select contact_points=minion1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cassandra_cql.info"> salt.modules.cassandra_cql.info(contact_points=None, port=None, cql_user=None, cql_pass=None)</h3> <dd>
<p>Show the Cassandra information for this cluster.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>contact_points</strong> (<em>str | list</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The Cassandra cluster addresses, can either be a string or a list of IPs.</p></li> <li><p><strong>cql_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user if authentication is turned on.</p></li> <li><p><strong>cql_pass</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user password if authentication is turned on.</p></li> <li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The Cassandra cluster port, defaults to None.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The information for this Cassandra cluster.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'minion1' cassandra_cql.info

salt 'minion1' cassandra_cql.info contact_points=minion1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cassandra_cql.keyspace_exists"> salt.modules.cassandra_cql.keyspace_exists(keyspace, contact_points=None, port=None, cql_user=None, cql_pass=None)</h3> <dd>
<p>Check if a keyspace exists in a Cassandra cluster.</p> <p>:param keyspace The keyspace name to check for. :type keyspace: str :param contact_points: The Cassandra cluster addresses, can either be a string or a list of IPs. :type contact_points: str | list[str] :param cql_user: The Cassandra user if authentication is turned on. :type cql_user: str :param cql_pass: The Cassandra user password if authentication is turned on. :type cql_pass: str :param port: The Cassandra cluster port, defaults to None. :type port: int :return: The info for the keyspace or False if it does not exist. :rtype: dict</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'minion1' cassandra_cql.keyspace_exists keyspace=system</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cassandra_cql.list_column_families"> salt.modules.cassandra_cql.list_column_families(keyspace=None, contact_points=None, port=None, cql_user=None, cql_pass=None)</h3> <dd>
<p>List column families in a Cassandra cluster for all keyspaces or just the provided one.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>keyspace</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The keyspace to provide the column families for, optional.</p></li> <li><p><strong>contact_points</strong> (<em>str | list</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The Cassandra cluster addresses, can either be a string or a list of IPs.</p></li> <li><p><strong>cql_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user if authentication is turned on.</p></li> <li><p><strong>cql_pass</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user password if authentication is turned on.</p></li> <li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The Cassandra cluster port, defaults to None.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The column families in this Cassandra cluster.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a>]</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'minion1' cassandra_cql.list_column_families

salt 'minion1' cassandra_cql.list_column_families contact_points=minion1

salt 'minion1' cassandra_cql.list_column_families keyspace=system</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cassandra_cql.list_keyspaces"> salt.modules.cassandra_cql.list_keyspaces(contact_points=None, port=None, cql_user=None, cql_pass=None)</h3> <dd>
<p>List keyspaces in a Cassandra cluster.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>contact_points</strong> (<em>str | list</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The Cassandra cluster addresses, can either be a string or a list of IPs.</p></li> <li><p><strong>cql_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user if authentication is turned on.</p></li> <li><p><strong>cql_pass</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user password if authentication is turned on.</p></li> <li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The Cassandra cluster port, defaults to None.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The keyspaces in this Cassandra cluster.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a>]</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'minion1' cassandra_cql.list_keyspaces

salt 'minion1' cassandra_cql.list_keyspaces contact_points=minion1 port=9000</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cassandra_cql.list_permissions"> salt.modules.cassandra_cql.list_permissions(username=None, resource=None, resource_type='keyspace', permission=None, contact_points=None, port=None, cql_user=None, cql_pass=None)</h3> <dd>
<p>List permissions.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>username</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the user to list permissions for.</p></li> <li><p><strong>resource</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The resource (keyspace or table), if None, permissions for all resources are listed.</p></li> <li><p><strong>resource_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The resource_type (keyspace or table), defaults to 'keyspace'.</p></li> <li><p><strong>permission</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- A permission name (e.g. select), if None, all permissions are listed.</p></li> <li><p><strong>contact_points</strong> (<em>str | list</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The Cassandra cluster addresses, can either be a string or a list of IPs.</p></li> <li><p><strong>cql_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user if authentication is turned on.</p></li> <li><p><strong>cql_pass</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user password if authentication is turned on.</p></li> <li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The Cassandra cluster port, defaults to None.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>Dictionary of permissions.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'minion1' cassandra_cql.list_permissions

salt 'minion1' cassandra_cql.list_permissions username=joe resource=test_keyspace permission=select

salt 'minion1' cassandra_cql.list_permissions username=joe resource=test_table resource_type=table           permission=select contact_points=minion1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cassandra_cql.list_users"> salt.modules.cassandra_cql.list_users(contact_points=None, port=None, cql_user=None, cql_pass=None)</h3> <dd>
<p>List existing users in this Cassandra cluster.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>contact_points</strong> (<em>str | list</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The Cassandra cluster addresses, can either be a string or a list of IPs.</p></li> <li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The Cassandra cluster port, defaults to None.</p></li> <li><p><strong>cql_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user if authentication is turned on.</p></li> <li><p><strong>cql_pass</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user password if authentication is turned on.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The list of existing users.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'minion1' cassandra_cql.list_users

salt 'minion1' cassandra_cql.list_users contact_points=minion1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cassandra_cql.version"> salt.modules.cassandra_cql.version(contact_points=None, port=None, cql_user=None, cql_pass=None)</h3> <dd>
<p>Show the Cassandra version.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>contact_points</strong> (<em>str | list</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>]</em>) -- The Cassandra cluster addresses, can either be a string or a list of IPs.</p></li> <li><p><strong>cql_user</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user if authentication is turned on.</p></li> <li><p><strong>cql_pass</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Cassandra user password if authentication is turned on.</p></li> <li><p><strong>port</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The Cassandra cluster port, defaults to None.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The version for this Cassandra cluster.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'minion1' cassandra_cql.version

salt 'minion1' cassandra_cql.version contact_points=minion1</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.cassandra_cql.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.cassandra_cql.html</a>
  </p>
</div>
