<h1>salt.modules.win_timezone</h1> <p>Module for managing timezone on Windows systems.</p> <dl class="py class"> <dt id="salt.modules.win_timezone.TzMapper"> <em class="property">class </em><code class="sig-prename descclassname">salt.modules.win_timezone.</code><code class="sig-name descname">TzMapper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">unix_to_win</span></em><span class="sig-paren">)</span>
</dt> <dd>
<dl class="py method"> <dt id="salt.modules.win_timezone.TzMapper.add"> <code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">k</span></em>, <em class="sig-param"><span class="n">v</span></em><span class="sig-paren">)</span>
</dt> 
</dl> <dl class="py method"> <dt id="salt.modules.win_timezone.TzMapper.get_unix"> <code class="sig-name descname">get_unix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span>
</dt> 
</dl> <dl class="py method"> <dt id="salt.modules.win_timezone.TzMapper.get_win"> <code class="sig-name descname">get_win</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">default</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span>
</dt> 
</dl> <dl class="py method"> <dt id="salt.modules.win_timezone.TzMapper.list_unix"> <code class="sig-name descname">list_unix</code><span class="sig-paren">(</span><span class="sig-paren">)</span>
</dt> 
</dl> <dl class="py method"> <dt id="salt.modules.win_timezone.TzMapper.list_win"> <code class="sig-name descname">list_win</code><span class="sig-paren">(</span><span class="sig-paren">)</span>
</dt> 
</dl> <dl class="py method"> <dt id="salt.modules.win_timezone.TzMapper.remove"> <code class="sig-name descname">remove</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">k</span></em><span class="sig-paren">)</span>
</dt> 
</dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_timezone.get_hwclock"> salt.modules.win_timezone.get_hwclock()</h3> <dd>
<p>Get current hardware clock setting (UTC or localtime)</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The hardware clock is always local time on Windows so this will always return "localtime"</p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' timezone.get_hwclock</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_timezone.get_offset"> salt.modules.win_timezone.get_offset()</h3> <dd>
<p>Get current numeric timezone offset from UTC (i.e. -0700)</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Offset from UTC</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' timezone.get_offset</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_timezone.get_zone"> salt.modules.win_timezone.get_zone()</h3> <dd>
<p>Get current timezone (i.e. America/Denver)</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Timezone in unix format</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> <dt class="field-odd">Raises</dt> <dd class="field-odd">
<p><a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/internals/salt.exceptions.html#salt.exceptions.CommandExecutionError" title="salt.exceptions.CommandExecutionError"><strong>CommandExecutionError</strong></a> -- If timezone could not be gathered</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' timezone.get_zone</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_timezone.get_zonecode"> salt.modules.win_timezone.get_zonecode()</h3> <dd>
<p>Get current timezone (i.e. PST, MDT, etc)</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>An abbreviated timezone code</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' timezone.get_zonecode</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_timezone.list"> salt.modules.win_timezone.list(unix_style=True)</h3> <dd>
<p>Return a list of Timezones that this module supports. These can be in either Unix or Windows format.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.3.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>unix_style</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- <code class="docutils literal notranslate"><span class="pre">True</span></code> returns Unix-style timezones. <code class="docutils literal notranslate"><span class="pre">False</span></code> returns Windows-style timezones. Default is <code class="docutils literal notranslate"><span class="pre">True</span></code></p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>A list of supported timezones</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash"># Unix-style timezones
salt '*' timezone.list

# Windows-style timezones
salt '*' timezone.list unix_style=False</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_timezone.set_hwclock"> salt.modules.win_timezone.set_hwclock(clock)</h3> <dd>
<p>Sets the hardware clock to be either UTC or localtime</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The hardware clock is always local time on Windows so this will always return <code class="docutils literal notranslate"><span class="pre">False</span></code></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' timezone.set_hwclock UTC</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_timezone.set_zone"> salt.modules.win_timezone.set_zone(timezone)</h3> <dd>
<p>Sets the timezone using the tzutil.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>timezone</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- A valid timezone</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p><code class="docutils literal notranslate"><span class="pre">True</span></code> if successful, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code></p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> <dt class="field-even">Raises</dt> <dd class="field-even">
<p><a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/internals/salt.exceptions.html#salt.exceptions.CommandExecutionError" title="salt.exceptions.CommandExecutionError"><strong>CommandExecutionError</strong></a> -- If invalid timezone is passed</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' timezone.set_zone 'America/Denver'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_timezone.zone_compare"> salt.modules.win_timezone.zone_compare(timezone)</h3> <dd>
<p>Compares the given timezone with the machine timezone. Mostly useful for running state checks.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>timezone</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The timezone to compare. This can be in Windows or Unix format. Can be any of the values returned by the <code class="docutils literal notranslate"><span class="pre">timezone.list</span></code> function</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p><code class="docutils literal notranslate"><span class="pre">True</span></code> if they match, otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code></p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' timezone.zone_compare 'America/Denver'</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.win_timezone.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.win_timezone.html</a>
  </p>
</div>
