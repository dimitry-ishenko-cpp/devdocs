<h1>salt.modules.boto_cloudtrail</h1> <p>Connection module for Amazon CloudTrail</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<ul class="simple"> <li><p>boto</p></li> <li><p>boto3</p></li> </ul> </dd> </dl> <p>The dependencies listed above can be installed via package or pip.</p> <dl class="field-list"> <dt class="field-odd">configuration</dt> <dd class="field-odd">
<p>This module accepts explicit Lambda credentials but can also utilize IAM roles assigned to the instance through Instance Profiles. Dynamic credentials are then automatically obtained from AWS API and no further configuration is necessary. More Information available at:</p> <pre class="highlight-text notranslate" data-language="text">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html</pre> <p>If IAM roles are not used you need to specify them either in a pillar or in the minion's config file:</p> <pre class="highlight-yaml notranslate" data-language="yaml">cloudtrail.keyid: GKTADJGHEIQSXMKKRBJ08H
cloudtrail.key: askdjghsdfjkghWupUjasdflkdfklgjsdfjajkghs</pre> <p>A region may also be specified in the configuration:</p> <pre class="highlight-yaml notranslate" data-language="yaml">cloudtrail.region: us-east-1</pre> <p>If a region is not specified, the default is us-east-1.</p> <p>It's also possible to specify key, keyid and region via a profile, either as a passed in dict, or as a string to pull from pillars or minion config:</p> <pre class="highlight-yaml notranslate" data-language="yaml">myprofile:
    keyid: GKTADJGHEIQSXMKKRBJ08H
    key: askdjghsdfjkghWupUjasdflkdfklgjsdfjajkghs
    region: us-east-1</pre> </dd> </dl> <dl class="py function"> <h3 id="salt.modules.boto_cloudtrail.add_tags"> salt.modules.boto_cloudtrail.add_tags(Name, region=None, key=None, keyid=None, profile=None, **kwargs)</h3> <dd>
<p>Add tags to a trail</p> <p>Returns {tagged: true} if the trail was tagged and returns {tagged: False} if the trail was not tagged.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_cloudtrail.add_tags my_trail tag_a=tag_value tag_b=tag_value</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_cloudtrail.create"> salt.modules.boto_cloudtrail.create(Name, S3BucketName, S3KeyPrefix=None, SnsTopicName=None, IncludeGlobalServiceEvents=None, IsMultiRegionTrail=None, EnableLogFileValidation=None, CloudWatchLogsLogGroupArn=None, CloudWatchLogsRoleArn=None, KmsKeyId=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a valid config, create a trail.</p> <p>Returns {created: true} if the trail was created and returns {created: False} if the trail was not created.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_cloudtrail.create my_trail my_bucket</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_cloudtrail.delete"> salt.modules.boto_cloudtrail.delete(Name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a trail name, delete it.</p> <p>Returns {deleted: true} if the trail was deleted and returns {deleted: false} if the trail was not deleted.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_cloudtrail.delete mytrail</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_cloudtrail.describe"> salt.modules.boto_cloudtrail.describe(Name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a trail name describe its properties.</p> <p>Returns a dictionary of interesting properties.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_cloudtrail.describe mytrail</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_cloudtrail.exists"> salt.modules.boto_cloudtrail.exists(Name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a trail name, check to see if the given trail exists.</p> <p>Returns True if the given trail exists and returns False if the given trail does not exist.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_cloudtrail.exists mytrail</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_cloudtrail.list"> salt.modules.boto_cloudtrail.list(region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>List all trails</p> <p>Returns list of trails</p> <p>CLI Example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">policies:
  - {...}
  - {...}</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_cloudtrail.list_tags"> salt.modules.boto_cloudtrail.list_tags(Name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>List tags of a trail</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">

<ul class="simple"> <li><p>{...}</p></li> <li><p>{...}</p></li> </ul> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p>tags</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_cloudtrail.list_tags my_trail</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_cloudtrail.remove_tags"> salt.modules.boto_cloudtrail.remove_tags(Name, region=None, key=None, keyid=None, profile=None, **kwargs)</h3> <dd>
<p>Remove tags from a trail</p> <p>Returns {tagged: true} if the trail was tagged and returns {tagged: False} if the trail was not tagged.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_cloudtrail.remove_tags my_trail tag_a=tag_value tag_b=tag_value</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_cloudtrail.start_logging"> salt.modules.boto_cloudtrail.start_logging(Name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Start logging for a trail</p> <p>Returns {started: true} if the trail was started and returns {started: False} if the trail was not started.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_cloudtrail.start_logging my_trail</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_cloudtrail.status"> salt.modules.boto_cloudtrail.status(Name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a trail name describe its properties.</p> <p>Returns a dictionary of interesting properties.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_cloudtrail.describe mytrail</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_cloudtrail.stop_logging"> salt.modules.boto_cloudtrail.stop_logging(Name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Stop logging for a trail</p> <p>Returns {stopped: true} if the trail was stopped and returns {stopped: False} if the trail was not stopped.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_cloudtrail.stop_logging my_trail</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_cloudtrail.update"> salt.modules.boto_cloudtrail.update(Name, S3BucketName, S3KeyPrefix=None, SnsTopicName=None, IncludeGlobalServiceEvents=None, IsMultiRegionTrail=None, EnableLogFileValidation=None, CloudWatchLogsLogGroupArn=None, CloudWatchLogsRoleArn=None, KmsKeyId=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a valid config, update a trail.</p> <p>Returns {created: true} if the trail was created and returns {created: False} if the trail was not created.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_cloudtrail.update my_trail my_bucket</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.boto_cloudtrail.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.boto_cloudtrail.html</a>
  </p>
</div>
