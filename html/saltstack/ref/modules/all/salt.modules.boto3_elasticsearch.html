<h1>salt.modules.boto3_elasticsearch</h1> <p>Connection module for Amazon Elasticsearch Service</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> <dl class="field-list"> <dt class="field-odd">configuration</dt> <dd class="field-odd">
<p>This module accepts explicit IAM credentials but can also utilize IAM roles assigned to the instance trough Instance Profiles. Dynamic credentials are then automatically obtained from AWS API and no further configuration is necessary. More Information available at:</p> <pre class="highlight-text notranslate" data-language="text">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html</pre> <p>If IAM roles are not used you need to specify them either in a pillar or in the minion's config file:</p> <pre class="highlight-yaml notranslate" data-language="yaml">es.keyid: GKTADJGHEIQSXMKKRBJ08H
es.key: askdjghsdfjkghWupUjasdflkdfklgjsdfjajkghs</pre> <p>A region may also be specified in the configuration:</p> <pre class="highlight-yaml notranslate" data-language="yaml">es.region: us-east-1</pre> <p>If a region is not specified, the default is us-east-1.</p> <p>It's also possible to specify key, keyid and region via a profile, either as a passed in dict, or as a string to pull from pillars or minion config:</p> <pre class="highlight-yaml notranslate" data-language="yaml">myprofile:
    keyid: GKTADJGHEIQSXMKKRBJ08H
    key: askdjghsdfjkghWupUjasdflkdfklgjsdfjajkghs
    region: us-east-1</pre> <dl class="simple"> <dt>All methods return a dict with:</dt>
<dd>
<p>'result' key containing a boolean indicating success or failure, 'error' key containing the errormessage returned by boto on error, 'response' key containing the data of the response returned by boto on success.</p> </dd> </dl> </dd> <dt class="field-even">codeauthor</dt> <dd class="field-even">
<p>Herbert Buurman &lt;<a class="reference external" href="mailto:herbert.buurman%40ogd.nl.html">herbert<span>.</span>buurman<span>@</span>ogd<span>.</span>nl</a>&gt;</p> </dd> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>boto3</p> </dd> </dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.add_tags"> salt.modules.boto3_elasticsearch.add_tags(domain_name=None, arn=None, tags=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Attaches tags to an existing Elasticsearch domain. Tags are a set of case-sensitive key value pairs. An Elasticsearch domain may have up to 10 tags.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the Elasticsearch domain you want to add tags to.</p></li> <li><p><strong>arn</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The ARN of the Elasticsearch domain you want to add tags to. Specifying this overrides <code class="docutils literal notranslate"><span class="pre">domain_name</span></code>.</p></li> <li><p><strong>tags</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- The dict of tags to add to the Elasticsearch domain.</p></li> </ul> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto3_elasticsearch.add_tags domain_name=mydomain tags='{"foo": "bar", "baz": "qux"}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.cancel_elasticsearch_service_software_update"> salt.modules.boto3_elasticsearch.cancel_elasticsearch_service_software_update(domain_name, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Cancels a scheduled service software update for an Amazon ES domain. You can only perform this operation before the AutomatedUpdateDate and when the UpdateStatus is in the PENDING_UPDATE state.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the domain that you want to stop the latest service software update on.</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with the current service software options. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.check_upgrade_eligibility"> salt.modules.boto3_elasticsearch.check_upgrade_eligibility(domain_name, elasticsearch_version, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Helper function to determine in one call if an Elasticsearch domain can be upgraded to the specified Elasticsearch version.</p> <p>This assumes that the Elasticsearch domain is at rest at the moment this function is called. I.e. The domain is not in the process of :</p> <ul class="simple"> <li><p>being created.</p></li> <li><p>being updated.</p></li> <li><p>another upgrade running, or a check thereof.</p></li> <li><p>being deleted.</p></li> </ul> <p>Behind the scenes, this does 3 things:</p> <ul class="simple"> <li><p>Check if <code class="docutils literal notranslate"><span class="pre">elasticsearch_version</span></code> is among the compatible elasticsearch versions.</p></li> <li><p>Perform a check if the Elasticsearch domain is eligible for the upgrade.</p></li> <li><p>Check the result of the check and return the result as a boolean.</p></li> </ul> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Elasticsearch domain name to check.</p></li> <li><p><strong>elasticsearch_version</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The Elasticsearch version to upgrade to.</p></li> </ul> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with boolean result of the check. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto3_elasticsearch.check_upgrade_eligibility mydomain '6.7'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.create_elasticsearch_domain"> salt.modules.boto3_elasticsearch.create_elasticsearch_domain(domain_name, elasticsearch_version=None, elasticsearch_cluster_config=None, ebs_options=None, access_policies=None, snapshot_options=None, vpc_options=None, cognito_options=None, encryption_at_rest_options=None, node_to_node_encryption_options=None, advanced_options=None, log_publishing_options=None, blocking=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a valid config, create a domain.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the Elasticsearch domain that you are creating. Domain names are unique across the domains owned by an account within an AWS region. Domain names must start with a letter or number and can contain the following characters: a-z (lowercase), 0-9, and - (hyphen).</p></li> <li><p><strong>elasticsearch_version</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- String of format X.Y to specify version for the Elasticsearch domain eg. "1.5" or "2.3".</p></li> <li>
<p><strong>elasticsearch_cluster_config</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- </p>
<p>Dictionary specifying the configuration options for an Elasticsearch domain. Keys (case sensitive) in here are:</p> <ul> <li><p>InstanceType (str): The instance type for an Elasticsearch cluster.</p></li> <li><p>InstanceCount (int): The instance type for an Elasticsearch cluster.</p></li> <li><p>DedicatedMasterEnabled (bool): Indicate whether a dedicated master node is enabled.</p></li> <li><p>ZoneAwarenessEnabled (bool): Indicate whether zone awareness is enabled. If this is not enabled, the Elasticsearch domain will only be in one availability zone.</p></li> <li>
<p>ZoneAwarenessConfig (dict): Specifies the zone awareness configuration for a domain when zone awareness is enabled. Keys (case sensitive) in here are:</p> <ul> <li><p>AvailabilityZoneCount (int): An integer value to indicate the number of availability zones for a domain when zone awareness is enabled. This should be equal to number of subnets if VPC endpoints is enabled. Allowed values: 2, 3</p></li> </ul> </li> <li><p>DedicatedMasterType (str): The instance type for a dedicated master node.</p></li> <li><p>DedicatedMasterCount (int): Total number of dedicated master nodes, active and on standby, for the cluster.</p></li> </ul> </li> <li>
<p><strong>ebs_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- </p>
<p>Dict specifying the options to enable or disable and specifying the type and size of EBS storage volumes. Keys (case sensitive) in here are:</p> <ul> <li><p>EBSEnabled (bool): Specifies whether EBS-based storage is enabled.</p></li> <li><p>VolumeType (str): Specifies the volume type for EBS-based storage.</p></li> <li><p>VolumeSize (int): Integer to specify the size of an EBS volume.</p></li> <li><p>Iops (int): Specifies the IOPD for a Provisioned IOPS EBS volume (SSD).</p></li> </ul> </li> <li><p><strong>access_policies</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- Dict or JSON string with the IAM access policy.</p></li> <li>
<p><strong>snapshot_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- </p>
<p>Dict specifying the snapshot options. Keys (case sensitive) in here are:</p> <ul> <li><p>AutomatedSnapshotStartHour (int): Specifies the time, in UTC format, when the service takes a daily automated snapshot of the specified Elasticsearch domain. Default value is 0 hours.</p></li> </ul> </li> <li>
<p><strong>vpc_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- </p>
<p>Dict with the options to specify the subnets and security groups for the VPC endpoint. Keys (case sensitive) in here are:</p> <ul> <li><p>SubnetIds (list): The list of subnets for the VPC endpoint.</p></li> <li><p>SecurityGroupIds (list): The list of security groups for the VPC endpoint.</p></li> </ul> </li> <li>
<p><strong>cognito_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- </p>
<p>Dict with options to specify the cognito user and identity pools for Kibana authentication. Keys (case sensitive) in here are:</p> <ul> <li><p>Enabled (bool): Specifies the option to enable Cognito for Kibana authentication.</p></li> <li><p>UserPoolId (str): Specifies the Cognito user pool ID for Kibana authentication.</p></li> <li><p>IdentityPoolId (str): Specifies the Cognito identity pool ID for Kibana authentication.</p></li> <li><p>RoleArn (str): Specifies the role ARN that provides Elasticsearch permissions for accessing Cognito resources.</p></li> </ul> </li> <li>
<p><strong>encryption_at_rest_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- </p>
<p>Dict specifying the encryption at rest options. Keys (case sensitive) in here are:</p> <ul> <li><p>Enabled (bool): Specifies the option to enable Encryption At Rest.</p></li> <li><p>KmsKeyId (str): Specifies the KMS Key ID for Encryption At Rest options.</p></li> </ul> </li> <li>
<p><strong>node_to_node_encryption_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- </p>
<p>Dict specifying the node to node encryption options. Keys (case sensitive) in here are:</p> <ul> <li><p>Enabled (bool): Specify True to enable node-to-node encryption.</p></li> </ul> </li> <li><p><strong>advanced_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- Dict with option to allow references to indices in an HTTP request body. Must be False when configuring access to individual sub-resources. By default, the value is True. See <a class="reference external" href="http://docs.aws.amazon.com/elasticsearch-service/latest/developerguide">http://docs.aws.amazon.com/elasticsearch-service/latest/developerguide</a> /es-createupdatedomains.html#es-createdomain-configure-advanced-options for more information.</p></li> <li>
<p><strong>log_publishing_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- </p>
<p>Dict with options for various type of logs. The keys denote the type of log file and can be one of the following:</p> <ul> <li><p>INDEX_SLOW_LOGS</p></li> <li><p>SEARCH_SLOW_LOGS</p></li> <li><p>ES_APPLICATION_LOGS</p></li> </ul> <p>The value assigned to each key is a dict with the following case sensitive keys:</p> <ul> <li><p>CloudWatchLogsLogGroupArn (str): The ARN of the Cloudwatch log group to which the log needs to be published.</p></li> <li><p>Enabled (bool): Specifies whether given log publishing option is enabled or not.</p></li> </ul> </li> <li><p><strong>blocking</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Whether or not to wait (block) until the Elasticsearch domain has been created.</p></li> </ul> </dd> </dl> <p>Note: Not all instance types allow enabling encryption at rest. See <a class="reference external" href="https://docs.aws.amazon.com">https://docs.aws.amazon.com</a> /elasticsearch-service/latest/developerguide/aes-supported-instance-types.html</p> <dl class="field-list simple"> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with the domain status configuration. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto3_elasticsearch.create_elasticsearch_domain mydomain \
elasticsearch_cluster_config='{ \
  "InstanceType": "t2.micro.elasticsearch", \
  "InstanceCount": 1, \
  "DedicatedMasterEnabled": False, \
  "ZoneAwarenessEnabled": False}' \
ebs_options='{ \
  "EBSEnabled": True, \
  "VolumeType": "gp2", \
  "VolumeSize": 10, \
  "Iops": 0}' \
access_policies='{ \
  "Version": "2012-10-17", \
  "Statement": [ \
    {"Effect": "Allow", \
     "Principal": {"AWS": "*"}, \
     "Action": "es:*", \
     "Resource": "arn:aws:es:us-east-1:111111111111:domain/mydomain/*", \
     "Condition": {"IpAddress": {"aws:SourceIp": ["127.0.0.1"]}}}]}' \
snapshot_options='{"AutomatedSnapshotStartHour": 0}' \
advanced_options='{"rest.action.multi.allow_explicit_index": "true"}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.delete_elasticsearch_domain"> salt.modules.boto3_elasticsearch.delete_elasticsearch_domain(domain_name, blocking=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Permanently deletes the specified Elasticsearch domain and all of its data. Once a domain is deleted, it cannot be recovered.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the domain to delete.</p></li> <li><p><strong>blocking</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Whether or not to wait (block) until the Elasticsearch domain has been deleted.</p></li> </ul> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.delete_elasticsearch_service_role"> salt.modules.boto3_elasticsearch.delete_elasticsearch_service_role(region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Deletes the service-linked role that Elasticsearch Service uses to manage and maintain VPC domains. Role deletion will fail if any existing VPC domains use the role. You must delete any such Elasticsearch domains before deleting the role.</p> <dl class="field-list simple"> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.describe_elasticsearch_domain"> salt.modules.boto3_elasticsearch.describe_elasticsearch_domain(domain_name, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Given a domain name gets its status description.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the domain to get the status of.</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary ith key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with the domain status information. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.describe_elasticsearch_domain_config"> salt.modules.boto3_elasticsearch.describe_elasticsearch_domain_config(domain_name, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Provides cluster configuration information about the specified Elasticsearch domain, such as the state, creation date, update version, and update date for cluster options.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the domain to describe.</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with the current configuration information. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.describe_elasticsearch_domains"> salt.modules.boto3_elasticsearch.describe_elasticsearch_domains(domain_names, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Returns domain configuration information about the specified Elasticsearch domains, including the domain ID, domain endpoint, and domain ARN.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>domain_names</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) -- List of domain names to get information for.</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with the list of domain status information. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto3_elasticsearch.describe_elasticsearch_domains '["domain_a", "domain_b"]'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.describe_elasticsearch_instance_type_limits"> salt.modules.boto3_elasticsearch.describe_elasticsearch_instance_type_limits(instance_type, elasticsearch_version, domain_name=None, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Describe Elasticsearch Limits for a given InstanceType and ElasticsearchVersion. When modifying existing Domain, specify the `` DomainName `` to know what Limits are supported for modifying.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>instance_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The instance type for an Elasticsearch cluster for which Elasticsearch <code class="docutils literal notranslate"><span class="pre">Limits</span></code> are needed.</p></li> <li><p><strong>elasticsearch_version</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Version of Elasticsearch for which <code class="docutils literal notranslate"><span class="pre">Limits</span></code> are needed.</p></li> <li><p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Represents the name of the Domain that we are trying to modify. This should be present only if we are querying for Elasticsearch <code class="docutils literal notranslate"><span class="pre">Limits</span></code> for existing domain.</p></li> </ul> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with the limits information. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto3_elasticsearch.describe_elasticsearch_instance_type_limits \
  instance_type=r3.8xlarge.elasticsearch \
  elasticsearch_version='6.2'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.describe_reserved_elasticsearch_instance_offerings"> salt.modules.boto3_elasticsearch.describe_reserved_elasticsearch_instance_offerings(reserved_elasticsearch_instance_offering_id=None, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Lists available reserved Elasticsearch instance offerings.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>reserved_elasticsearch_instance_offering_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The offering identifier filter value. Use this parameter to show only the available offering that matches the specified reservation identifier.</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with the list of offerings information. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.describe_reserved_elasticsearch_instances"> salt.modules.boto3_elasticsearch.describe_reserved_elasticsearch_instances(reserved_elasticsearch_instance_id=None, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Returns information about reserved Elasticsearch instances for this account.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>reserved_elasticsearch_instance_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The reserved instance identifier filter value. Use this parameter to show only the reservation that matches the specified reserved Elasticsearch instance ID.</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with a list of information on reserved instances. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> <dt class="field-even">Note</dt> <dd class="field-even">
<p>Version 1.9.174 of boto3 has a bug in that reserved_elasticsearch_instance_id is considered a required argument, even though the documentation says otherwise.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.exists"> salt.modules.boto3_elasticsearch.exists(domain_name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a domain name, check to see if the given domain exists.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the domain to check.</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.get_compatible_elasticsearch_versions"> salt.modules.boto3_elasticsearch.get_compatible_elasticsearch_versions(domain_name=None, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Returns a list of upgrade compatible Elastisearch versions. You can optionally pass a <code class="docutils literal notranslate"><span class="pre">domain_name</span></code> to get all upgrade compatible Elasticsearch versions for that specific domain.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of an Elasticsearch domain.</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with a list of compatible versions. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.get_upgrade_history"> salt.modules.boto3_elasticsearch.get_upgrade_history(domain_name, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Retrieves the complete history of the last 10 upgrades that were performed on the domain.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of an Elasticsearch domain. Domain names are unique across the domains owned by an account within an AWS region. Domain names start with a letter or number and can contain the following characters: a-z (lowercase), 0-9, and - (hyphen).</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with a list of upgrade histories. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.get_upgrade_status"> salt.modules.boto3_elasticsearch.get_upgrade_status(domain_name, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Retrieves the latest status of the last upgrade or upgrade eligibility check that was performed on the domain.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of an Elasticsearch domain. Domain names are unique across the domains owned by an account within an AWS region. Domain names start with a letter or number and can contain the following characters: a-z (lowercase), 0-9, and - (hyphen).</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with upgrade status information. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.list_domain_names"> salt.modules.boto3_elasticsearch.list_domain_names(region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Returns the name of all Elasticsearch domains owned by the current user's account.</p> <dl class="field-list simple"> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with a list of domain names. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.list_elasticsearch_instance_types"> salt.modules.boto3_elasticsearch.list_elasticsearch_instance_types(elasticsearch_version, domain_name=None, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>List all Elasticsearch instance types that are supported for given ElasticsearchVersion.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>elasticsearch_version</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Version of Elasticsearch for which list of supported elasticsearch instance types are needed.</p></li> <li><p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- DomainName represents the name of the Domain that we are trying to modify. This should be present only if we are querying for list of available Elasticsearch instance types when modifying existing domain.</p></li> </ul> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with a list of Elasticsearch instance types. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.list_elasticsearch_versions"> salt.modules.boto3_elasticsearch.list_elasticsearch_versions(region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>List all supported Elasticsearch versions.</p> <dl class="field-list simple"> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with a list of Elasticsearch versions. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.list_tags"> salt.modules.boto3_elasticsearch.list_tags(domain_name=None, arn=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Returns all tags for the given Elasticsearch domain.</p> <dl class="field-list simple"> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with a dict of tags. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.purchase_reserved_elasticsearch_instance_offering"> salt.modules.boto3_elasticsearch.purchase_reserved_elasticsearch_instance_offering(reserved_elasticsearch_instance_offering_id, reservation_name, instance_count=None, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Allows you to purchase reserved Elasticsearch instances.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>reserved_elasticsearch_instance_offering_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The ID of the reserved Elasticsearch instance offering to purchase.</p></li> <li><p><strong>reservation_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- A customer-specified identifier to track this reservation.</p></li> <li><p><strong>instance_count</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The number of Elasticsearch instances to reserve.</p></li> </ul> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with purchase information. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.remove_tags"> salt.modules.boto3_elasticsearch.remove_tags(tag_keys, domain_name=None, arn=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Removes the specified set of tags from the specified Elasticsearch domain.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>tag_keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) -- List with tag keys you want to remove from the Elasticsearch domain.</p></li> <li><p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the Elasticsearch domain you want to remove tags from.</p></li> <li><p><strong>arn</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The ARN of the Elasticsearch domain you want to remove tags from. Specifying this overrides <code class="docutils literal notranslate"><span class="pre">domain_name</span></code>.</p></li> </ul> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto3_elasticsearch.remove_tags '["foo", "bar"]' domain_name=my_domain</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.start_elasticsearch_service_software_update"> salt.modules.boto3_elasticsearch.start_elasticsearch_service_software_update(domain_name, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Schedules a service software update for an Amazon ES domain.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the domain that you want to update to the latest service software.</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with service software information. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.update_elasticsearch_domain_config"> salt.modules.boto3_elasticsearch.update_elasticsearch_domain_config(domain_name, elasticsearch_cluster_config=None, ebs_options=None, vpc_options=None, access_policies=None, snapshot_options=None, cognito_options=None, advanced_options=None, log_publishing_options=None, blocking=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Modifies the cluster configuration of the specified Elasticsearch domain, for example setting the instance type and the number of instances.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the Elasticsearch domain that you are creating. Domain names are unique across the domains owned by an account within an AWS region. Domain names must start with a letter or number and can contain the following characters: a-z (lowercase), 0-9, and - (hyphen).</p></li> <li>
<p><strong>elasticsearch_cluster_config</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- </p>
<p>Dictionary specifying the configuration options for an Elasticsearch domain. Keys (case sensitive) in here are:</p> <ul> <li><p>InstanceType (str): The instance type for an Elasticsearch cluster.</p></li> <li><p>InstanceCount (int): The instance type for an Elasticsearch cluster.</p></li> <li><p>DedicatedMasterEnabled (bool): Indicate whether a dedicated master node is enabled.</p></li> <li><p>ZoneAwarenessEnabled (bool): Indicate whether zone awareness is enabled.</p></li> <li>
<p>ZoneAwarenessConfig (dict): Specifies the zone awareness configuration for a domain when zone awareness is enabled. Keys (case sensitive) in here are:</p> <ul> <li><p>AvailabilityZoneCount (int): An integer value to indicate the number of availability zones for a domain when zone awareness is enabled. This should be equal to number of subnets if VPC endpoints is enabled.</p></li> </ul> </li> <li><p>DedicatedMasterType (str): The instance type for a dedicated master node.</p></li> <li><p>DedicatedMasterCount (int): Total number of dedicated master nodes, active and on standby, for the cluster.</p></li> </ul> </li> <li>
<p><strong>ebs_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- </p>
<p>Dict specifying the options to enable or disable and specifying the type and size of EBS storage volumes. Keys (case sensitive) in here are:</p> <ul> <li><p>EBSEnabled (bool): Specifies whether EBS-based storage is enabled.</p></li> <li><p>VolumeType (str): Specifies the volume type for EBS-based storage.</p></li> <li><p>VolumeSize (int): Integer to specify the size of an EBS volume.</p></li> <li><p>Iops (int): Specifies the IOPD for a Provisioned IOPS EBS volume (SSD).</p></li> </ul> </li> <li>
<p><strong>snapshot_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- </p>
<p>Dict specifying the snapshot options. Keys (case sensitive) in here are:</p> <ul> <li><p>AutomatedSnapshotStartHour (int): Specifies the time, in UTC format, when the service takes a daily automated snapshot of the specified Elasticsearch domain. Default value is 0 hours.</p></li> </ul> </li> <li>
<p><strong>vpc_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- </p>
<p>Dict with the options to specify the subnets and security groups for the VPC endpoint. Keys (case sensitive) in here are:</p> <ul> <li><p>SubnetIds (list): The list of subnets for the VPC endpoint.</p></li> <li><p>SecurityGroupIds (list): The list of security groups for the VPC endpoint.</p></li> </ul> </li> <li>
<p><strong>cognito_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- </p>
<p>Dict with options to specify the cognito user and identity pools for Kibana authentication. Keys (case sensitive) in here are:</p> <ul> <li><p>Enabled (bool): Specifies the option to enable Cognito for Kibana authentication.</p></li> <li><p>UserPoolId (str): Specifies the Cognito user pool ID for Kibana authentication.</p></li> <li><p>IdentityPoolId (str): Specifies the Cognito identity pool ID for Kibana authentication.</p></li> <li><p>RoleArn (str): Specifies the role ARN that provides Elasticsearch permissions for accessing Cognito resources.</p></li> </ul> </li> <li><p><strong>advanced_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- Dict with option to allow references to indices in an HTTP request body. Must be False when configuring access to individual sub-resources. By default, the value is True. See <a class="reference external" href="http://docs.aws.amazon.com/elasticsearch-service/latest/developerguide">http://docs.aws.amazon.com/elasticsearch-service/latest/developerguide</a> /es-createupdatedomains.html#es-createdomain-configure-advanced-options for more information.</p></li> <li><p><strong>access_policies</strong> (<em>str/dict</em>) -- Dict or JSON string with the IAM access policy.</p></li> <li>
<p><strong>log_publishing_options</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)"><em>dict</em></a>) -- </p>
<p>Dict with options for various type of logs. The keys denote the type of log file and can be one of the following:</p> <blockquote> <div>
<p>INDEX_SLOW_LOGS, SEARCH_SLOW_LOGS, ES_APPLICATION_LOGS.</p> </div>
</blockquote> <p>The value assigned to each key is a dict with the following case sensitive keys:</p> <ul> <li><p>CloudWatchLogsLogGroupArn (str): The ARN of the Cloudwatch log group to which the log needs to be published.</p></li> <li><p>Enabled (bool): Specifies whether given log publishing option is enabled or not.</p></li> </ul> </li> <li><p><strong>blocking</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Whether or not to wait (block) until the Elasticsearch domain has been updated.</p></li> </ul> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with the domain configuration. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto3_elasticsearch.update_elasticsearch_domain_config mydomain \
  elasticsearch_cluster_config='{\
    "InstanceType": "t2.micro.elasticsearch", \
    "InstanceCount": 1, \
    "DedicatedMasterEnabled": false,
    "ZoneAwarenessEnabled": false}' \
  ebs_options='{\
    "EBSEnabled": true, \
    "VolumeType": "gp2", \
    "VolumeSize": 10, \
    "Iops": 0}' \
  access_policies='{"Version": "2012-10-17", "Statement": [{\
    "Effect": "Allow", "Principal": {"AWS": "*"}, "Action": "es:*", \
    "Resource": "arn:aws:es:us-east-1:111111111111:domain/mydomain/*", \
    "Condition": {"IpAddress": {"aws:SourceIp": ["127.0.0.1"]}}}]}' \
  snapshot_options='{"AutomatedSnapshotStartHour": 0}' \
  advanced_options='{"rest.action.multi.allow_explicit_index": "true"}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.upgrade_elasticsearch_domain"> salt.modules.boto3_elasticsearch.upgrade_elasticsearch_domain(domain_name, target_version, perform_check_only=None, blocking=False, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Allows you to either upgrade your domain or perform an Upgrade eligibility check to a compatible Elasticsearch version.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>domain_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of an Elasticsearch domain. Domain names are unique across the domains owned by an account within an AWS region. Domain names start with a letter or number and can contain the following characters: a-z (lowercase), 0-9, and - (hyphen).</p></li> <li><p><strong>target_version</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The version of Elasticsearch that you intend to upgrade the domain to.</p></li> <li><p><strong>perform_check_only</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- This flag, when set to True, indicates that an Upgrade Eligibility Check needs to be performed. This will not actually perform the Upgrade.</p></li> <li><p><strong>blocking</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Whether or not to wait (block) until the Elasticsearch domain has been upgraded.</p></li> </ul> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon success, also contains a key 'reponse' with the domain configuration. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto3_elasticsearch.upgrade_elasticsearch_domain mydomain \
target_version='6.7' \
perform_check_only=True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto3_elasticsearch.wait_for_upgrade"> salt.modules.boto3_elasticsearch.wait_for_upgrade(domain_name, region=None, keyid=None, key=None, profile=None)</h3> <dd>
<p>Block until an upgrade-in-progress for domain <code class="docutils literal notranslate"><span class="pre">name</span></code> is finished.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the domain to wait for.</p> </dd> <dt class="field-even">Rtype dict</dt>  <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>Dictionary with key 'result' and as value a boolean denoting success or failure. Upon failure, also contains a key 'error' with the error message as value.</p> </dd> </dl> <div class="versionadded"> <p><span class="versionmodified added">New in version 3001.</span></p> </div> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.boto3_elasticsearch.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.boto3_elasticsearch.html</a>
  </p>
</div>
