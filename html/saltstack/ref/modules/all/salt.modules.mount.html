<h1>salt.modules.mount</h1> <p>Salt module to manage Unix mounts and the fstab file</p> <dl class="py function"> <h3 id="salt.modules.mount.active"> salt.modules.mount.active(extended=False)</h3> <dd>
<p>List the active mounts.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.active</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.automaster"> salt.modules.mount.automaster(config='/etc/auto_salt')</h3> <dd>
<p>List the contents of the auto master</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.automaster</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.delete_mount_cache"> salt.modules.mount.delete_mount_cache(real_name)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.0.</span></p> </div> <p>Provide information if the path is mounted</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.delete_mount_cache /mnt/share</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.filesystems"> salt.modules.mount.filesystems(config='/etc/filesystems')</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.3.</span></p> </div> <p>List the contents of the filesystems</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.filesystems</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.fstab"> salt.modules.mount.fstab(config='/etc/fstab')</h3> <dd>
<div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2016.3.2.</span></p> </div> <p>List the contents of the fstab</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.fstab</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.is_fuse_exec"> salt.modules.mount.is_fuse_exec(cmd)</h3> <dd>
<p>Returns true if the command passed is a fuse mountable application.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.is_fuse_exec sshfs</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.is_mounted"> salt.modules.mount.is_mounted(name)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2014.7.0.</span></p> </div> <p>Provide information if the path is mounted</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.is_mounted /mnt/share</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.mount"> salt.modules.mount.mount(name, device=False, mkmnt=False, fstype='', opts='defaults', user=None, util='mount')</h3> <dd>
<p>Mount a device</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.mount /mnt/foo /dev/sdz1 True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.read_mount_cache"> salt.modules.mount.read_mount_cache(name)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.0.</span></p> </div> <p>Provide information if the path is mounted</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.read_mount_cache /mnt/share</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.remount"> salt.modules.mount.remount(name, device, mkmnt=False, fstype='', opts='defaults', user=None)</h3> <dd>
<p>Attempt to remount a device, if the device is not already mounted, mount is called</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.remount /mnt/foo /dev/sdz1 True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.rm_automaster"> salt.modules.mount.rm_automaster(name, device, config='/etc/auto_salt')</h3> <dd>
<p>Remove the mount point from the auto_master</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.rm_automaster /mnt/foo /dev/sdg</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.rm_filesystems"> salt.modules.mount.rm_filesystems(name, device, config='/etc/filesystems')</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.3.</span></p> </div> <p>Remove the mount point from the filesystems</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.rm_filesystems /mnt/foo /dev/sdg</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.rm_fstab"> salt.modules.mount.rm_fstab(name, device, config='/etc/fstab')</h3> <dd>
<div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2016.3.2.</span></p> </div> <p>Remove the mount point from the fstab</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.rm_fstab /mnt/foo /dev/sdg</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.rm_vfstab"> salt.modules.mount.rm_vfstab(name, device, config='/etc/vfstab')</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.2.</span></p> </div> <p>Remove the mount point from the vfstab</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.rm_vfstab /mnt/foo /device/c0t0d0p0</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.set_automaster"> salt.modules.mount.set_automaster(name, device, fstype, opts='', config='/etc/auto_salt', test=False, not_change=False, **kwargs)</h3> <dd>
<p>Verify that this mount is represented in the auto_salt, change the mount to match the data passed, or add the mount if it is not present.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.set_automaster /mnt/foo /dev/sdz1 ext4</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.set_filesystems"> salt.modules.mount.set_filesystems(name, device, vfstype, opts='-', mount='true', config='/etc/filesystems', test=False, match_on='auto', not_change=False, **kwargs)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.3.</span></p> </div> <p>Verify that this mount is represented in the filesystems, change the mount to match the data passed, or add the mount if it is not present on AIX</p> <p>If the entry is found via <cite>match_on</cite> and <cite>not_change</cite> is True, the current line will be preserved.</p> <blockquote> <div>
<p>Provide information if the path is mounted</p> </div>
</blockquote> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> -- The name of the mount point where the device is mounted.</p></li> <li><p><strong>device</strong> -- The device that is being mounted.</p></li> <li><p><strong>vfstype</strong> -- The file system that is used (AIX has two fstypes, fstype and vfstype - similar to Linux fstype)</p></li> <li><p><strong>opts</strong> -- Additional options used when mounting the device.</p></li> <li><p><strong>mount</strong> -- Mount if not mounted, default True.</p></li> <li><p><strong>config</strong> -- Configuration file, default /etc/filesystems.</p></li> <li><p><strong>match</strong> -- File systems type to match on, default auto</p></li> </ul> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.set_filesystems /mnt/foo /dev/sdz1 jfs2</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.set_fstab"> salt.modules.mount.set_fstab(name, device, fstype, opts='defaults', dump=0, pass_num=0, config='/etc/fstab', test=False, match_on='auto', not_change=False, **kwargs)</h3> <dd>
<p>Verify that this mount is represented in the fstab, change the mount to match the data passed, or add the mount if it is not present.</p> <p>If the entry is found via <cite>match_on</cite> and <cite>not_change</cite> is True, the current line will be preserved.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.set_fstab /mnt/foo /dev/sdz1 ext4</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.set_vfstab"> salt.modules.mount.set_vfstab(name, device, fstype, opts='-', device_fsck='-', pass_fsck='-', mount_at_boot='yes', config='/etc/vfstab', test=False, match_on='auto', not_change=False, **kwargs)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.2.</span></p> </div> <p>Verify that this mount is represented in the fstab, change the mount to match the data passed, or add the mount if it is not present.</p> <p>If the entry is found via <cite>match_on</cite> and <cite>not_change</cite> is True, the current line will be preserved.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.set_vfstab /mnt/foo /device/c0t0d0p0 ufs</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.swapoff"> salt.modules.mount.swapoff(name)</h3> <dd>
<p>Deactivate a named swap mount</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2016.3.2.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.swapoff /root/swapfile</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.swapon"> salt.modules.mount.swapon(name, priority=None)</h3> <dd>
<p>Activate a swap disk</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2016.3.2.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.swapon /root/swapfile</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.swaps"> salt.modules.mount.swaps()</h3> <dd>
<p>Return a dict containing information on active swap</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2016.3.2.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.swaps</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.umount"> salt.modules.mount.umount(name, device=None, user=None, util='mount')</h3> <dd>
<p>Attempt to unmount a device by specifying the directory it is mounted on</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.umount /mnt/foo</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.5.0.</span></p> </div> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.umount /mnt/foo /dev/xvdc1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.vfstab"> salt.modules.mount.vfstab(config='/etc/vfstab')</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.2.</span></p> </div> <p>List the contents of the vfstab</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.vfstab</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mount.write_mount_cache"> salt.modules.mount.write_mount_cache(real_name, device, mkmnt, fstype, mount_opts)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.0.</span></p> </div> <p>Provide information if the path is mounted</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>real_name</strong> -- The real name of the mount point where the device is mounted.</p></li> <li><p><strong>device</strong> -- The device that is being mounted.</p></li> <li><p><strong>mkmnt</strong> -- Whether or not the mount point should be created.</p></li> <li><p><strong>fstype</strong> -- The file system that is used.</p></li> <li><p><strong>mount_opts</strong> -- Additional options used when mounting the device.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>Boolean if message was sent successfully.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mount.write_mount_cache /mnt/share /dev/sda1 False ext4 defaults,nosuid</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.mount.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.mount.html</a>
  </p>
</div>
