<h1>salt.modules.boto_iot</h1> <p>Connection module for Amazon IoT</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<ul class="simple"> <li><p>boto</p></li> <li><p>boto3</p></li> </ul> </dd> </dl> <p>The dependencies listed above can be installed via package or pip.</p> <dl class="field-list"> <dt class="field-odd">configuration</dt> <dd class="field-odd">
<p>This module accepts explicit Lambda credentials but can also utilize IAM roles assigned to the instance through Instance Profiles. Dynamic credentials are then automatically obtained from AWS API and no further configuration is necessary. More Information available at:</p> <pre class="highlight-text notranslate" data-language="text">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html</pre> <p>If IAM roles are not used you need to specify them either in a pillar or in the minion's config file:</p> <pre class="highlight-yaml notranslate" data-language="yaml">iot.keyid: GKTADJGHEIQSXMKKRBJ08H
iot.key: askdjghsdfjkghWupUjasdflkdfklgjsdfjajkghs</pre> <p>A region may also be specified in the configuration:</p> <pre class="highlight-yaml notranslate" data-language="yaml">iot.region: us-east-1</pre> <p>If a region is not specified, the default is us-east-1.</p> <p>It's also possible to specify key, keyid and region via a profile, either as a passed in dict, or as a string to pull from pillars or minion config:</p> <pre class="highlight-yaml notranslate" data-language="yaml">myprofile:
  keyid: GKTADJGHEIQSXMKKRBJ08H
  key: askdjghsdfjkghWupUjasdflkdfklgjsdfjajkghs
  region: us-east-1</pre> </dd> </dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.attach_principal_policy"> salt.modules.boto_iot.attach_principal_policy(policyName, principal, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Attach the specified policy to the specified principal (certificate or other credential.)</p> <p>Returns {attached: true} if the policy was attached {attached: False} if the policy was not attached.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.attach_principal_policy mypolicy mycognitoID</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.create_policy"> salt.modules.boto_iot.create_policy(policyName, policyDocument, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a valid config, create a policy.</p> <p>Returns {created: true} if the policy was created and returns {created: False} if the policy was not created.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.create_policy my_policy \
      '{"Version":"2015-12-12",\
      "Statement":[{"Effect":"Allow",\
                    "Action":["iot:Publish"],\
                    "Resource":["arn:::::topic/foo/bar"]}]}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.create_policy_version"> salt.modules.boto_iot.create_policy_version(policyName, policyDocument, setAsDefault=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a valid config, create a new version of a policy.</p> <p>Returns {created: true} if the policy version was created and returns {created: False} if the policy version was not created.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.create_policy_version my_policy \
       '{"Statement":[{"Effect":"Allow","Action":["iot:Publish"],"Resource":["arn:::::topic/foo/bar"]}]}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.create_thing_type"> salt.modules.boto_iot.create_thing_type(thingTypeName, thingTypeDescription, searchableAttributesList, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a valid config, create a thing type.</p> <p>Returns {created: true} if the thing type was created and returns {created: False} if the thing type was not created.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.create_thing_type mythingtype \
      thingtype_description_string '["searchable_attr_1", "searchable_attr_2"]'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.create_topic_rule"> salt.modules.boto_iot.create_topic_rule(ruleName, sql, actions, description, ruleDisabled=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a valid config, create a topic rule.</p> <p>Returns {created: true} if the rule was created and returns {created: False} if the rule was not created.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.create_topic_rule my_rule "SELECT * FROM 'some/thing'" \
    '[{"lambda":{"functionArn":"arn:::::something"}},{"sns":{\
    "targetArn":"arn:::::something","roleArn":"arn:::::something"}}]'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.delete_policy"> salt.modules.boto_iot.delete_policy(policyName, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a policy name, delete it.</p> <p>Returns {deleted: true} if the policy was deleted and returns {deleted: false} if the policy was not deleted.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.delete_policy mypolicy</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.delete_policy_version"> salt.modules.boto_iot.delete_policy_version(policyName, policyVersionId, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a policy name and version, delete it.</p> <p>Returns {deleted: true} if the policy version was deleted and returns {deleted: false} if the policy version was not deleted.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.delete_policy_version mypolicy version</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.delete_thing_type"> salt.modules.boto_iot.delete_thing_type(thingTypeName, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a thing type name, delete it.</p> <p>Returns {deleted: true} if the thing type was deleted and returns {deleted: false} if the thing type was not deleted.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.delete_thing_type mythingtype</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.delete_topic_rule"> salt.modules.boto_iot.delete_topic_rule(ruleName, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a rule name, delete it.</p> <p>Returns {deleted: true} if the rule was deleted and returns {deleted: false} if the rule was not deleted.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.delete_rule myrule</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.deprecate_thing_type"> salt.modules.boto_iot.deprecate_thing_type(thingTypeName, undoDeprecate=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a thing type name, deprecate it when undoDeprecate is False and undeprecate it when undoDeprecate is True.</p> <p>Returns {deprecated: true} if the thing type was deprecated and returns {deprecated: false} if the thing type was not deprecated.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.deprecate_thing_type mythingtype</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.describe_policy"> salt.modules.boto_iot.describe_policy(policyName, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a policy name describe its properties.</p> <p>Returns a dictionary of interesting properties.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.describe_policy mypolicy</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.describe_policy_version"> salt.modules.boto_iot.describe_policy_version(policyName, policyVersionId, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a policy name and version describe its properties.</p> <p>Returns a dictionary of interesting properties.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.describe_policy_version mypolicy version</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.describe_thing_type"> salt.modules.boto_iot.describe_thing_type(thingTypeName, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a thing type name describe its properties.</p> <p>Returns a dictionary of interesting properties.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.describe_thing_type mythingtype</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.describe_topic_rule"> salt.modules.boto_iot.describe_topic_rule(ruleName, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a topic rule name describe its properties.</p> <p>Returns a dictionary of interesting properties.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.describe_topic_rule myrule</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.detach_principal_policy"> salt.modules.boto_iot.detach_principal_policy(policyName, principal, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Detach the specified policy from the specified principal (certificate or other credential.)</p> <p>Returns {detached: true} if the policy was detached {detached: False} if the policy was not detached.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.detach_principal_policy mypolicy mycognitoID</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.list_policies"> salt.modules.boto_iot.list_policies(region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>List all policies</p> <p>Returns list of policies</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.list_policies</pre> <p>Example Return:</p> <pre class="highlight-yaml notranslate" data-language="yaml">policies:
  - {...}
  - {...}</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.list_policy_versions"> salt.modules.boto_iot.list_policy_versions(policyName, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>List the versions available for the given policy.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.list_policy_versions mypolicy</pre> <p>Example Return:</p> <pre class="highlight-yaml notranslate" data-language="yaml">policyVersions:
  - {...}
  - {...}</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.list_principal_policies"> salt.modules.boto_iot.list_principal_policies(principal, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>List the policies attached to the given principal.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.list_principal_policies myprincipal</pre> <p>Example Return:</p> <pre class="highlight-yaml notranslate" data-language="yaml">policies:
  - {...}
  - {...}</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.list_topic_rules"> salt.modules.boto_iot.list_topic_rules(topic=None, ruleDisabled=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>List all rules (for a given topic, if specified)</p> <p>Returns list of rules</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.list_topic_rules</pre> <p>Example Return:</p> <pre class="highlight-yaml notranslate" data-language="yaml">rules:
  - {...}
  - {...}</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.policy_exists"> salt.modules.boto_iot.policy_exists(policyName, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a policy name, check to see if the given policy exists.</p> <p>Returns True if the given policy exists and returns False if the given policy does not exist.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.policy_exists mypolicy</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.policy_version_exists"> salt.modules.boto_iot.policy_version_exists(policyName, policyVersionId, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a policy name and version ID, check to see if the given policy version exists.</p> <p>Returns True if the given policy version exists and returns False if the given policy version does not exist.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.policy_version_exists mypolicy versionid</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.replace_topic_rule"> salt.modules.boto_iot.replace_topic_rule(ruleName, sql, actions, description, ruleDisabled=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a valid config, replace a topic rule with the new values.</p> <p>Returns {created: true} if the rule was created and returns {created: False} if the rule was not created.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.replace_topic_rule my_rule 'SELECT * FROM some.thing' \
    '[{"lambda":{"functionArn":"arn:::::something"}},{"sns":{\
    "targetArn":"arn:::::something","roleArn":"arn:::::something"}}]'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.set_default_policy_version"> salt.modules.boto_iot.set_default_policy_version(policyName, policyVersionId, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Sets the specified version of the specified policy as the policy's default (operative) version. This action affects all certificates that the policy is attached to.</p> <p>Returns {changed: true} if the policy version was set {changed: False} if the policy version was not set.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.set_default_policy_version mypolicy versionid</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.thing_type_exists"> salt.modules.boto_iot.thing_type_exists(thingTypeName, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a thing type name, check to see if the given thing type exists</p> <p>Returns True if the given thing type exists and returns False if the given thing type does not exist.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.thing_type_exists mythingtype</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_iot.topic_rule_exists"> salt.modules.boto_iot.topic_rule_exists(ruleName, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Given a rule name, check to see if the given rule exists.</p> <p>Returns True if the given rule exists and returns False if the given rule does not exist.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_iot.topic_rule_exists myrule</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.boto_iot.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.boto_iot.html</a>
  </p>
</div>
