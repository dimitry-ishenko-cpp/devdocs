<h1>salt.modules.namecheap_domains_dns</h1> <p>Namecheap DNS Management</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2017.7.0.</span></p> </div> <div class="section" id="prerequisites"> <h2>Prerequisites</h2> <p>This module uses the <code class="docutils literal notranslate"><span class="pre">requests</span></code> Python module to communicate to the namecheap API.</p> </div> <div class="section" id="configuration"> <h2>Configuration</h2> <p>The Namecheap username, API key and URL should be set in the minion configuration file, or in the Pillar data.</p> <pre class="highlight-yaml notranslate" data-language="yaml">namecheap.name: companyname
namecheap.key: a1b2c3d4e5f67a8b9c0d1e2f3
namecheap.client_ip: 162.155.30.172
#Real url
namecheap.url: https://api.namecheap.com/xml.response
#Sandbox url
#namecheap.url: https://api.sandbox.namecheap.xml.response</pre> <dl class="py function"> <h3 id="salt.modules.namecheap_domains_dns.get_hosts"> salt.modules.namecheap_domains_dns.get_hosts(sld, tld)</h3> <dd>
<p>Retrieves DNS host record settings for the requested domain.</p> <p>returns a dictionary of information about the requested domain</p> <dl class="simple"> <dt>sld</dt>
<dd>
<p>SLD of the domain name</p> </dd> <dt>tld</dt>
<dd>
<p>TLD of the domain name</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'my-minion' namecheap_domains_dns.get_hosts sld tld</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.namecheap_domains_dns.get_list"> salt.modules.namecheap_domains_dns.get_list(sld, tld)</h3> <dd>
<p>Gets a list of DNS servers associated with the requested domain.</p> <p>returns a dictionary of information about requested domain</p> <dl class="simple"> <dt>sld</dt>
<dd>
<p>SLD of the domain name</p> </dd> <dt>tld</dt>
<dd>
<p>TLD of the domain name</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'my-minion' namecheap_domains_dns.get_list sld tld</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.namecheap_domains_dns.set_custom"> salt.modules.namecheap_domains_dns.set_custom(sld, tld, nameservers)</h3> <dd>
<p>Sets domain to use custom DNS servers.</p> <p>returns True if the custom nameservers were set successfully</p> <dl class="simple"> <dt>sld</dt>
<dd>
<p>SLD of the domain name</p> </dd> <dt>tld</dt>
<dd>
<p>TLD of the domain name</p> </dd> <dt>nameservers</dt>
<dd>
<p>array of strings List of nameservers to be associated with this domain</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'my-minion' namecheap_domains_dns.set_custom sld tld nameserver</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.namecheap_domains_dns.set_default"> salt.modules.namecheap_domains_dns.set_default(sld, tld)</h3> <dd>
<p>Sets domain to use namecheap default DNS servers. Required for free services like Host record management, URL forwarding, email forwarding, dynamic DNS and other value added services.</p> <dl class="simple"> <dt>sld</dt>
<dd>
<p>SLD of the domain name</p> </dd> <dt>tld</dt>
<dd>
<p>TLD of the domain name</p> </dd> </dl> <p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the domain was successfully pointed at the default DNS servers.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'my-minion' namecheap_domains_dns.set_default sld tld</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.namecheap_domains_dns.set_hosts"> salt.modules.namecheap_domains_dns.set_hosts(sld, tld, hosts)</h3> <dd>
<p>Sets DNS host records settings for the requested domain.</p> <p>returns True if the host records were set successfully</p> <dl> <dt>sld</dt>
<dd>
<p>SLD of the domain name</p> </dd> <dt>tld</dt>
<dd>
<p>TLD of the domain name</p> </dd> <dt>hosts</dt>
<dd>
<p>Must be passed as a list of Python dictionaries, with each dictionary containing the following keys:</p> <ul class="simple"> <li><p><strong>hostname</strong></p></li> <li><p><strong>recordtype</strong> - One of <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">AAAA</span></code>, <code class="docutils literal notranslate"><span class="pre">CNAME</span></code>, <code class="docutils literal notranslate"><span class="pre">MX</span></code>, <code class="docutils literal notranslate"><span class="pre">MXE</span></code>, <code class="docutils literal notranslate"><span class="pre">TXT</span></code>, <code class="docutils literal notranslate"><span class="pre">URL</span></code>, <code class="docutils literal notranslate"><span class="pre">URL301</span></code>, or <code class="docutils literal notranslate"><span class="pre">FRAME</span></code></p></li> <li><p><strong>address</strong> - URL or IP address</p></li> <li><p><strong>ttl</strong> - An integer between 60 and 60000 (default: <code class="docutils literal notranslate"><span class="pre">1800</span></code>)</p></li> </ul> <p>Additionally, the <code class="docutils literal notranslate"><span class="pre">mxpref</span></code> key can be present, but must be accompanied by an <code class="docutils literal notranslate"><span class="pre">emailtype</span></code> key.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt 'my-minion' namecheap_domains_dns.set_hosts sld tld hosts</pre> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.namecheap_domains_dns.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.namecheap_domains_dns.html</a>
  </p>
</div>
