<h1>salt.modules.win_useradd</h1> <p>Module for managing Windows Users</p> <div class="admonition important"> <p class="admonition-title">Important</p> <p>If you feel that Salt should be using this module to manage users on a minion, and it is using a different module (or gives an error similar to <em>'user.info' is not available</em>), see <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/modules/index.html#module-provider-override"><span class="std std-ref">here</span></a>.</p> </div> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<ul class="simple"> <li><p>pywintypes</p></li> <li><p>win32api</p></li> <li><p>win32con</p></li> <li><p>win32net</p></li> <li><p>win32netcon</p></li> <li><p>win32profile</p></li> <li><p>win32security</p></li> <li><p>win32ts</p></li> <li><p>wmi</p></li> </ul> </dd> </dl> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This currently only works with local user accounts, not domain accounts</p> </div> <dl class="py function"> <h3 id="salt.modules.win_useradd.add"> salt.modules.win_useradd.add(name, password=None, fullname=None, description=None, groups=None, home=None, homedrive=None, profile=None, logonscript=None)</h3> <dd>
<p>Add a user to the minion.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- User name</p></li> <li><p><strong>password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) -- User's password in plain text.</p></li> <li><p><strong>fullname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) -- The user's full name.</p></li> <li><p><strong>description</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) -- A brief description of the user account.</p></li> <li><p><strong>groups</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) -- A list of groups to add the user to. (see chgroups)</p></li> <li><p><strong>home</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) -- The path to the user's home directory.</p></li> <li><p><strong>homedrive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) -- The drive letter to assign to the home directory. Must be the Drive Letter followed by a colon. ie: U:</p></li> <li><p><strong>profile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) -- An explicit path to a profile. Can be a UNC or a folder on the system. If left blank, windows uses its default profile directory.</p></li> <li><p><strong>logonscript</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) -- Path to a login script to run when the user logs on.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful. False is unsuccessful.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.add name password</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.addgroup"> salt.modules.win_useradd.addgroup(name, group)</h3> <dd>
<p>Add user to a group</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The user name to add to the group</p></li> <li><p><strong>group</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the group to which to add the user</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.addgroup jsnuffy 'Power Users'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.chfullname"> salt.modules.win_useradd.chfullname(name, fullname)</h3> <dd>
<p>Change the full name of the user</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The user name for which to change the full name</p></li> <li><p><strong>fullname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The new value for the full name</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chfullname user 'First Last'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.chgroups"> salt.modules.win_useradd.chgroups(name, groups, append=True)</h3> <dd>
<p>Change the groups this user belongs to, add append=False to make the user a member of only the specified groups</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The user name for which to change groups</p></li> <li><p><strong>groups</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)"><em>list</em></a>) -- A single group or a list of groups to assign to the user. For multiple groups this can be a comma delimited string or a list.</p></li> <li><p><strong>append</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) -- True adds the passed groups to the user's current groups. False sets the user's groups to the passed groups only. Default is True.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chgroups jsnuffy Administrators,Users True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.chhome"> salt.modules.win_useradd.chhome(name, home, **kwargs)</h3> <dd>
<p>Change the home directory of the user, pass True for persist to move files to the new home directory if the old home directory exist.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the user whose home directory you wish to change</p></li> <li><p><strong>home</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The new location of the home directory</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chhome foo \\fileserver\home\foo True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.chprofile"> salt.modules.win_useradd.chprofile(name, profile)</h3> <dd>
<p>Change the profile directory of the user</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the user whose profile you wish to change</p></li> <li><p><strong>profile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The new location of the profile</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chprofile foo \\fileserver\profiles\foo</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.current"> salt.modules.win_useradd.current(sam=False)</h3> <dd>
<p>Get the username that salt-minion is running under. If salt-minion is running as a service it should return the Local System account. If salt is running from a command prompt it should return the username that started the command prompt.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.5.6.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>sam</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) -- False returns just the username without any domain notation. True returns the domain with the username in the SAM format. Ie: <code class="docutils literal notranslate"><span class="pre">domain\username</span></code></p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>Returns username</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.current</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.delete"> salt.modules.win_useradd.delete(name, purge=False, force=False)</h3> <dd>
<p>Remove a user from the minion</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the user to delete</p></li> <li><p><strong>purge</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) -- Boolean value indicating that the user profile should also be removed when the user account is deleted. If set to True the profile will be removed. Default is False.</p></li> <li><p><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) -- Boolean value indicating that the user account should be deleted even if the user is logged in. True will log the user out and delete user.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.delete name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.getUserSid"> salt.modules.win_useradd.getUserSid(username)</h3> <dd>
<p>Get the Security ID for the user</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>username</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The user name for which to look up the SID</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The user SID</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.getUserSid jsnuffy</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.getent"> salt.modules.win_useradd.getent(refresh=False)</h3> <dd>
<p>Return the list of all info for all users</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>refresh</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) -- Refresh the cached user information. Useful when used from within a state function. Default is False.</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>A dictionary containing information about all users on the system</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.getent</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.info"> salt.modules.win_useradd.info(name)</h3> <dd>
<p>Return user information</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Username for which to display information</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">

<dl class="simple"> <dt>A dictionary containing user information</dt>
<dd>
<ul class="simple"> <li><p>fullname</p></li> <li><p>username</p></li> <li><p>SID</p></li> <li><p>passwd (will always return None)</p></li> <li><p>comment (same as description, left here for backwards compatibility)</p></li> <li><p>description</p></li> <li><p>active</p></li> <li><p>logonscript</p></li> <li><p>profile</p></li> <li><p>home</p></li> <li><p>homedrive</p></li> <li><p>groups</p></li> <li><p>password_changed</p></li> <li><p>successful_logon_attempts</p></li> <li><p>failed_logon_attempts</p></li> <li><p>last_logon</p></li> <li><p>account_disabled</p></li> <li><p>account_locked</p></li> <li><p>password_never_expires</p></li> <li><p>disallow_change_password</p></li> <li><p>gid</p></li> </ul> </dd> </dl> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.info jsnuffy</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.list_groups"> salt.modules.win_useradd.list_groups(name)</h3> <dd>
<p>Return a list of groups the named user belongs to</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The user name for which to list groups</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>A list of groups to which the user belongs</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.list_groups foo</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.list_users"> salt.modules.win_useradd.list_users()</h3> <dd>
<p>Return a list of all users on Windows</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>A list of all users on the system</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.list_users</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.removegroup"> salt.modules.win_useradd.removegroup(name, group)</h3> <dd>
<p>Remove user from a group</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The user name to remove from the group</p></li> <li><p><strong>group</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the group from which to remove the user</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.removegroup jsnuffy 'Power Users'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.rename"> salt.modules.win_useradd.rename(name, new_name)</h3> <dd>
<p>Change the username for a named user</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The user name to change</p></li> <li><p><strong>new_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The new name for the current user</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.rename jsnuffy jshmoe</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.setpassword"> salt.modules.win_useradd.setpassword(name, password)</h3> <dd>
<p>Set the user's password</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The user name for which to set the password</p></li> <li><p><strong>password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The new password</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.setpassword jsnuffy sup3rs3cr3t</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.win_useradd.update"> salt.modules.win_useradd.update(name, password=None, fullname=None, description=None, home=None, homedrive=None, logonscript=None, profile=None, expiration_date=None, expired=None, account_disabled=None, unlock_account=None, password_never_expires=None, disallow_change_password=None)</h3> <dd>
<p>Updates settings for the windows user. Name is the only required parameter. Settings will only be changed if the parameter is passed a value.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.0.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The user name to update.</p></li> <li><p><strong>password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) -- New user password in plain text.</p></li> <li><p><strong>fullname</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) -- The user's full name.</p></li> <li><p><strong>description</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) -- A brief description of the user account.</p></li> <li><p><strong>home</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) -- The path to the user's home directory.</p></li> <li><p><strong>homedrive</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) -- The drive letter to assign to the home directory. Must be the Drive Letter followed by a colon. ie: U:</p></li> <li><p><strong>logonscript</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) -- The path to the logon script.</p></li> <li><p><strong>profile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a><em>, </em><em>optional</em>) -- The path to the user's profile directory.</p></li> <li><p><strong>expiration_date</strong> (<em>date</em><em>, </em><em>optional</em>) -- The date and time when the account expires. Can be a valid date/time string. To set to never expire pass the string 'Never'.</p></li> <li><p><strong>expired</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) -- Pass <cite>True</cite> to expire the account. The user will be prompted to change their password at the next logon. Pass <cite>False</cite> to mark the account as 'not expired'. You can't use this to negate the expiration if the expiration was caused by the account expiring. You'll have to change the <cite>expiration_date</cite> as well.</p></li> <li><p><strong>account_disabled</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) -- True disables the account. False enables the account.</p></li> <li><p><strong>unlock_account</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) -- True unlocks a locked user account. False is ignored.</p></li> <li><p><strong>password_never_expires</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) -- True sets the password to never expire. False allows the password to expire.</p></li> <li><p><strong>disallow_change_password</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a><em>, </em><em>optional</em>) -- True blocks the user from changing the password. False allows the user to change the password.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful. False is unsuccessful.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.update bob password=secret profile=C:\Users\Bob
         home=\server\homeshareob homedrive=U:</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.win_useradd.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.win_useradd.html</a>
  </p>
</div>
