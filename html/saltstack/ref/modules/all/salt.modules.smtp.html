<h1>salt.modules.smtp</h1> <p>Module for Sending Messages via SMTP</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.7.0.</span></p> </div> <dl class="field-list"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<ul class="simple"> <li><p>smtplib python module</p></li> </ul> </dd> <dt class="field-even">configuration</dt> <dd class="field-even">
<p>This module can be used by either passing a jid and password directly to send_message, or by specifying the name of a configuration profile in the minion config, minion pillar, or master config.</p> <p>For example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">my-smtp-login:
    smtp.server: smtp.domain.com
    smtp.tls: True
    smtp.sender: admin@domain.com
    smtp.username: myuser
    smtp.password: verybadpass</pre> <p>The resourcename refers to the resource that is using this account. It is user-definable, and optional. The following configurations are both valid:</p> <pre class="highlight-yaml notranslate" data-language="yaml">my-smtp-login:
    smtp.server: smtp.domain.com
    smtp.tls: True
    smtp.sender: admin@domain.com
    smtp.username: myuser
    smtp.password: verybadpass

another-smtp-login:
    smtp.server: smtp.domain.com
    smtp.tls: True
    smtp.sender: admin@domain.com
    smtp.username: myuser
    smtp.password: verybadpass</pre> </dd> </dl> <dl class="py function"> <h3 id="salt.modules.smtp.send_msg"> salt.modules.smtp.send_msg(recipient, message, subject='Message from Salt', sender=None, server=None, use_ssl='True', username=None, password=None, profile=None, attachments=None)</h3> <dd>
<p>Send a message to an SMTP recipient. To send a message to multiple recipients, the recipients should be in a comma-seperated Python string. Designed for use in states.</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' smtp.send_msg 'admin@example.com' 'This is a salt module test' profile='my-smtp-account'
salt '*' smtp.send_msg 'admin@example.com,admin2@example.com' 'This is a salt module test for multiple recipients' profile='my-smtp-account'
salt '*' smtp.send_msg 'admin@example.com' 'This is a salt module test' username='myuser' password='verybadpass' sender='admin@example.com' server='smtp.domain.com'
salt '*' smtp.send_msg 'admin@example.com' 'This is a salt module test' username='myuser' password='verybadpass' sender='admin@example.com' server='smtp.domain.com' attachments="['/var/log/messages']"</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.smtp.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.smtp.html</a>
  </p>
</div>
