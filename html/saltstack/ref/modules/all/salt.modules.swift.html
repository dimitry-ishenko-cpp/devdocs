<h1>salt.modules.swift</h1> <p>Module for handling OpenStack Swift calls Author: Anthony Stanton &lt;<a class="reference external" href="mailto:anthony.stanton%40gmail.com.html">anthony<span>.</span>stanton<span>@</span>gmail<span>.</span>com</a>&gt;</p> <p>Inspired by the S3 and Nova modules</p> <dl class="field-list"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<ul class="simple"> <li><p>swiftclient Python module</p></li> </ul> </dd> <dt class="field-even">configuration</dt> <dd class="field-even">
<p>This module is not usable until the user, tenant, auth URL, and password or auth_key are specified either in a pillar or in the minion's config file. For example:</p> <pre class="highlight-default notranslate" data-language="default">keystone.user: admin
keystone.tenant: admin
keystone.auth_url: 'http://127.0.0.1:5000/v2.0/'
keystone.password: verybadpass
# or
keystone.auth_key: 203802934809284k2j34lkj2l3kj43k</pre> <p>If configuration for multiple OpenStack accounts is required, they can be set up as different configuration profiles: For example:</p> <pre class="highlight-default notranslate" data-language="default">openstack1:
  keystone.user: admin
  keystone.tenant: admin
  keystone.auth_url: 'http://127.0.0.1:5000/v2.0/'
  keystone.password: verybadpass
  # or
  keystone.auth_key: 203802934809284k2j34lkj2l3kj43k

openstack2:
  keystone.user: admin
  keystone.tenant: admin
  keystone.auth_url: 'http://127.0.0.2:5000/v2.0/'
  keystone.password: verybadpass
  # or
  keystone.auth_key: 303802934809284k2j34lkj2l3kj43k</pre> <p>With this configuration in place, any of the swift functions can make use of a configuration profile by declaring it explicitly. For example:</p> <pre class="highlight-default notranslate" data-language="default">salt '*' swift.get mycontainer myfile /tmp/file profile=openstack1</pre> <p>NOTE: For Rackspace cloud files setting keystone.auth_version = 1 is recommended.</p> </dd> </dl> <dl class="py function"> <h3 id="salt.modules.swift.delete"> salt.modules.swift.delete(cont, path=None, profile=None)</h3> <dd>
<p>Delete a container, or delete an object from a container.</p> <p>CLI Example to delete a container:</p> <pre class="highlight-default notranslate" data-language="default">salt myminion swift.delete mycontainer</pre> <p>CLI Example to delete an object from a container:</p> <pre class="highlight-default notranslate" data-language="default">salt myminion swift.delete mycontainer remoteobject</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.swift.get"> salt.modules.swift.get(cont=None, path=None, local_file=None, return_bin=False, profile=None)</h3> <dd>
<p>List the contents of a container, or return an object from a container. Set return_bin to True in order to retrieve an object wholesale. Otherwise, Salt will attempt to parse an XML response.</p> <p>CLI Example to list containers:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion swift.get</pre> <p>CLI Example to list the contents of a container:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion swift.get mycontainer</pre> <p>CLI Example to return the binary contents of an object:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion swift.get mycontainer myfile.png return_bin=True</pre> <p>CLI Example to save the binary contents of an object to a local file:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion swift.get mycontainer myfile.png local_file=/tmp/myfile.png</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.swift.head"> salt.modules.swift.head()</h3> 
</dl> <dl class="py function"> <h3 id="salt.modules.swift.put"> salt.modules.swift.put(cont, path=None, local_file=None, profile=None)</h3> <dd>
<p>Create a new container, or upload an object to a container.</p> <p>CLI Example to create a container:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion swift.put mycontainer</pre> <p>CLI Example to upload an object to a container:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion swift.put mycontainer remotepath local_file=/path/to/file</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.swift.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.swift.html</a>
  </p>
</div>
