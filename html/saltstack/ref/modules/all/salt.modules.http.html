<h1>salt.modules.http</h1> <p>Module for making various web calls. Primarily designed for webhooks and the like, but also useful for basic http testing.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.5.0.</span></p> </div> <dl class="py function"> <h3 id="salt.modules.http.query"> salt.modules.http.query(url, **kwargs)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2015.5.0.</span></p> </div> <p>Query a resource, and decode the return data</p> <p>Passes through all the parameters described in the <a class="reference internal" href="#salt.utils.http.query" title="salt.utils.http.query"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.http.query</span> <span class="pre">function</span></code></a>:</p> <dl class="py function"> <h3 id="salt.utils.http.query"> salt.utils.http.query(url, method='GET', params=None, data=None, data_file=None, header_dict=None, header_list=None, header_file=None, username=None, password=None, auth=None, decode=False, decode_type='auto', status=False, headers=False, text=False, cookies=None, cookie_jar=None, cookie_format='lwp', persist_session=False, session_cookie_jar=None, data_render=False, data_renderer=None, header_render=False, header_renderer=None, template_dict=None, test=False, test_url=None, node='minion', port=80, opts=None, backend=None, ca_bundle=None, verify_ssl=None, cert=None, text_out=None, headers_out=None, decode_out=None, stream=False, streaming_callback=None, header_callback=None, handle=False, agent='Salt/3003', hide_fields=None, raise_error=True, formdata=False, formdata_fieldname=None, formdata_filename=None, decode_body=True, **kwargs)</h3> <dd>
<p>Query a resource, and decode the return data</p> </dd>
</dl> <dl class="simple"> <dt>raise_error<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">False</span></code>, and if a connection cannot be made, the error will be suppressed and the body of the return will simply be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' http.query http://somelink.com/
salt '*' http.query http://somelink.com/ method=POST             params='key1=val1&amp;key2=val2'
salt '*' http.query http://somelink.com/ method=POST             data='&lt;xml&gt;somecontent&lt;/xml&gt;'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.http.update_ca_bundle"> salt.modules.http.update_ca_bundle(target=None, source=None, merge_files=None)</h3> <dd>
<p>Update the local CA bundle file from a URL</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.5.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' http.update_ca_bundle
salt '*' http.update_ca_bundle target=/path/to/cacerts.pem
salt '*' http.update_ca_bundle source=https://example.com/cacerts.pem</pre> <p>If the <code class="docutils literal notranslate"><span class="pre">target</span></code> is not specified, it will be pulled from the <code class="docutils literal notranslate"><span class="pre">ca_cert</span></code> configuration variable available to the minion. If it cannot be found there, it will be placed at <code class="docutils literal notranslate"><span class="pre">&lt;&lt;FILE_ROOTS&gt;&gt;/cacerts.pem</span></code>.</p> <p>If the <code class="docutils literal notranslate"><span class="pre">source</span></code> is not specified, it will be pulled from the <code class="docutils literal notranslate"><span class="pre">ca_cert_url</span></code> configuration variable available to the minion. If it cannot be found, it will be downloaded from the cURL website, using an http (not https) URL. USING THE DEFAULT URL SHOULD BE AVOIDED!</p> <p><code class="docutils literal notranslate"><span class="pre">merge_files</span></code> may also be specified, which includes a string or list of strings representing a file or files to be appended to the end of the CA bundle, once it is downloaded.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' http.update_ca_bundle merge_files=/path/to/mycert.pem</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.http.wait_for_successful_query"> salt.modules.http.wait_for_successful_query(url, wait_for=300, **kwargs)</h3> <dd>
<p>Query a resource until a successful response, and decode the return data</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' http.wait_for_successful_query http://somelink.com/ wait_for=160 request_interval=1</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.http.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.http.html</a>
  </p>
</div>
