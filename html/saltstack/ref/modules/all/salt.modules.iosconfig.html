<h1>salt.modules.iosconfig</h1> <p>Cisco IOS configuration manipulation helpers</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2019.2.0.</span></p> </div> <p>This module provides a collection of helper functions for Cisco IOS style configuration manipulation. This module does not have external dependencies and can be used from any Proxy or regular Minion.</p> <dl class="py function"> <h3 id="salt.modules.iosconfig.clean"> salt.modules.iosconfig.clean(config=None, path=None, saltenv='base')</h3> <dd>
<p>Return a clean version of the config, without any special signs (such as <code class="docutils literal notranslate"><span class="pre">!</span></code> as an individual line) or empty lines, but just lines with significant value in the configuration of the network device.</p> <dl class="simple"> <dt>config</dt>
<dd>
<p>The configuration sent as text. This argument is ignored when <code class="docutils literal notranslate"><span class="pre">path</span></code> is configured.</p> </dd> <dt>path</dt>
<dd>
<p>Absolute or remote path from where to load the configuration text. This argument allows any URI supported by <a class="reference internal" href="salt.modules.cp.html#salt.modules.cp.get_url" title="salt.modules.cp.get_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">cp.get_url</span></code></a>), e.g., <code class="docutils literal notranslate"><span class="pre">salt://</span></code>, <code class="docutils literal notranslate"><span class="pre">https://</span></code>, <code class="docutils literal notranslate"><span class="pre">s3://</span></code>, <code class="docutils literal notranslate"><span class="pre">ftp:/</span></code>, etc.</p> </dd> <dt>saltenv: <code class="docutils literal notranslate"><span class="pre">base</span></code>
</dt>
<dd>
<p>Salt fileserver environment from which to retrieve the file. Ignored if <code class="docutils literal notranslate"><span class="pre">path</span></code> is not a <code class="docutils literal notranslate"><span class="pre">salt://</span></code> URL.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' iosconfig.clean path=salt://path/to/my/config.txt
salt '*' iosconfig.clean path=https://bit.ly/2mAdq7z</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.iosconfig.diff_text"> salt.modules.iosconfig.diff_text(candidate_config=None, candidate_path=None, running_config=None, running_path=None, saltenv='base')</h3> <dd>
<p>Return the diff, as text, between the candidate and the running config.</p> <dl class="simple"> <dt>candidate_config</dt>
<dd>
<p>The candidate configuration sent as text. This argument is ignored when <code class="docutils literal notranslate"><span class="pre">candidate_path</span></code> is set.</p> </dd> <dt>candidate_path</dt>
<dd>
<p>Absolute or remote path from where to load the candidate configuration text. This argument allows any URI supported by <a class="reference internal" href="salt.modules.cp.html#salt.modules.cp.get_url" title="salt.modules.cp.get_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">cp.get_url</span></code></a>), e.g., <code class="docutils literal notranslate"><span class="pre">salt://</span></code>, <code class="docutils literal notranslate"><span class="pre">https://</span></code>, <code class="docutils literal notranslate"><span class="pre">s3://</span></code>, <code class="docutils literal notranslate"><span class="pre">ftp:/</span></code>, etc.</p> </dd> <dt>running_config</dt>
<dd>
<p>The running configuration sent as text. This argument is ignored when <code class="docutils literal notranslate"><span class="pre">running_path</span></code> is set.</p> </dd> <dt>running_path</dt>
<dd>
<p>Absolute or remote path from where to load the running configuration text. This argument allows any URI supported by <a class="reference internal" href="salt.modules.cp.html#salt.modules.cp.get_url" title="salt.modules.cp.get_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">cp.get_url</span></code></a>), e.g., <code class="docutils literal notranslate"><span class="pre">salt://</span></code>, <code class="docutils literal notranslate"><span class="pre">https://</span></code>, <code class="docutils literal notranslate"><span class="pre">s3://</span></code>, <code class="docutils literal notranslate"><span class="pre">ftp:/</span></code>, etc.</p> </dd> <dt>saltenv: <code class="docutils literal notranslate"><span class="pre">base</span></code>
</dt>
<dd>
<p>Salt fileserver environment from which to retrieve the file. Ignored if <code class="docutils literal notranslate"><span class="pre">candidate_path</span></code> or <code class="docutils literal notranslate"><span class="pre">running_path</span></code> is not a <code class="docutils literal notranslate"><span class="pre">salt://</span></code> URL.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' iosconfig.diff_text candidate_path=salt://path/to/candidate.cfg running_path=salt://path/to/running.cfg</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.iosconfig.diff_tree"> salt.modules.iosconfig.diff_tree(candidate_config=None, candidate_path=None, running_config=None, running_path=None, saltenv='base')</h3> <dd>
<p>Return the diff, as Python dictionary, between the candidate and the running configuration.</p> <dl class="simple"> <dt>candidate_config</dt>
<dd>
<p>The candidate configuration sent as text. This argument is ignored when <code class="docutils literal notranslate"><span class="pre">candidate_path</span></code> is set.</p> </dd> <dt>candidate_path</dt>
<dd>
<p>Absolute or remote path from where to load the candidate configuration text. This argument allows any URI supported by <a class="reference internal" href="salt.modules.cp.html#salt.modules.cp.get_url" title="salt.modules.cp.get_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">cp.get_url</span></code></a>), e.g., <code class="docutils literal notranslate"><span class="pre">salt://</span></code>, <code class="docutils literal notranslate"><span class="pre">https://</span></code>, <code class="docutils literal notranslate"><span class="pre">s3://</span></code>, <code class="docutils literal notranslate"><span class="pre">ftp:/</span></code>, etc.</p> </dd> <dt>running_config</dt>
<dd>
<p>The running configuration sent as text. This argument is ignored when <code class="docutils literal notranslate"><span class="pre">running_path</span></code> is set.</p> </dd> <dt>running_path</dt>
<dd>
<p>Absolute or remote path from where to load the running configuration text. This argument allows any URI supported by <a class="reference internal" href="salt.modules.cp.html#salt.modules.cp.get_url" title="salt.modules.cp.get_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">cp.get_url</span></code></a>), e.g., <code class="docutils literal notranslate"><span class="pre">salt://</span></code>, <code class="docutils literal notranslate"><span class="pre">https://</span></code>, <code class="docutils literal notranslate"><span class="pre">s3://</span></code>, <code class="docutils literal notranslate"><span class="pre">ftp:/</span></code>, etc.</p> </dd> <dt>saltenv: <code class="docutils literal notranslate"><span class="pre">base</span></code>
</dt>
<dd>
<p>Salt fileserver environment from which to retrieve the file. Ignored if <code class="docutils literal notranslate"><span class="pre">candidate_path</span></code> or <code class="docutils literal notranslate"><span class="pre">running_path</span></code> is not a <code class="docutils literal notranslate"><span class="pre">salt://</span></code> URL.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' iosconfig.diff_tree candidate_path=salt://path/to/candidate.cfg running_path=salt://path/to/running.cfg</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.iosconfig.merge_diff"> salt.modules.iosconfig.merge_diff(initial_config=None, initial_path=None, merge_config=None, merge_path=None, saltenv='base')</h3> <dd>
<p>Return the merge diff, as text, after merging the merge config into the initial config.</p> <dl class="simple"> <dt>initial_config</dt>
<dd>
<p>The initial configuration sent as text. This argument is ignored when <code class="docutils literal notranslate"><span class="pre">initial_path</span></code> is set.</p> </dd> <dt>initial_path</dt>
<dd>
<p>Absolute or remote path from where to load the initial configuration text. This argument allows any URI supported by <a class="reference internal" href="salt.modules.cp.html#salt.modules.cp.get_url" title="salt.modules.cp.get_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">cp.get_url</span></code></a>), e.g., <code class="docutils literal notranslate"><span class="pre">salt://</span></code>, <code class="docutils literal notranslate"><span class="pre">https://</span></code>, <code class="docutils literal notranslate"><span class="pre">s3://</span></code>, <code class="docutils literal notranslate"><span class="pre">ftp:/</span></code>, etc.</p> </dd> <dt>merge_config</dt>
<dd>
<p>The config to be merged into the initial config, sent as text. This argument is ignored when <code class="docutils literal notranslate"><span class="pre">merge_path</span></code> is set.</p> </dd> <dt>merge_path</dt>
<dd>
<p>Absolute or remote path from where to load the merge configuration text. This argument allows any URI supported by <a class="reference internal" href="salt.modules.cp.html#salt.modules.cp.get_url" title="salt.modules.cp.get_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">cp.get_url</span></code></a>), e.g., <code class="docutils literal notranslate"><span class="pre">salt://</span></code>, <code class="docutils literal notranslate"><span class="pre">https://</span></code>, <code class="docutils literal notranslate"><span class="pre">s3://</span></code>, <code class="docutils literal notranslate"><span class="pre">ftp:/</span></code>, etc.</p> </dd> <dt>saltenv: <code class="docutils literal notranslate"><span class="pre">base</span></code>
</dt>
<dd>
<p>Salt fileserver environment from which to retrieve the file. Ignored if <code class="docutils literal notranslate"><span class="pre">initial_path</span></code> or <code class="docutils literal notranslate"><span class="pre">merge_path</span></code> is not a <code class="docutils literal notranslate"><span class="pre">salt://</span></code> URL.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' iosconfig.merge_diff initial_path=salt://path/to/running.cfg merge_path=salt://path/to/merge.cfg</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.iosconfig.merge_text"> salt.modules.iosconfig.merge_text(initial_config=None, initial_path=None, merge_config=None, merge_path=None, saltenv='base')</h3> <dd>
<p>Return the merge result of the <code class="docutils literal notranslate"><span class="pre">initial_config</span></code> with the <code class="docutils literal notranslate"><span class="pre">merge_config</span></code>, as plain text.</p> <dl class="simple"> <dt>initial_config</dt>
<dd>
<p>The initial configuration sent as text. This argument is ignored when <code class="docutils literal notranslate"><span class="pre">initial_path</span></code> is set.</p> </dd> <dt>initial_path</dt>
<dd>
<p>Absolute or remote path from where to load the initial configuration text. This argument allows any URI supported by <a class="reference internal" href="salt.modules.cp.html#salt.modules.cp.get_url" title="salt.modules.cp.get_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">cp.get_url</span></code></a>), e.g., <code class="docutils literal notranslate"><span class="pre">salt://</span></code>, <code class="docutils literal notranslate"><span class="pre">https://</span></code>, <code class="docutils literal notranslate"><span class="pre">s3://</span></code>, <code class="docutils literal notranslate"><span class="pre">ftp:/</span></code>, etc.</p> </dd> <dt>merge_config</dt>
<dd>
<p>The config to be merged into the initial config, sent as text. This argument is ignored when <code class="docutils literal notranslate"><span class="pre">merge_path</span></code> is set.</p> </dd> <dt>merge_path</dt>
<dd>
<p>Absolute or remote path from where to load the merge configuration text. This argument allows any URI supported by <a class="reference internal" href="salt.modules.cp.html#salt.modules.cp.get_url" title="salt.modules.cp.get_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">cp.get_url</span></code></a>), e.g., <code class="docutils literal notranslate"><span class="pre">salt://</span></code>, <code class="docutils literal notranslate"><span class="pre">https://</span></code>, <code class="docutils literal notranslate"><span class="pre">s3://</span></code>, <code class="docutils literal notranslate"><span class="pre">ftp:/</span></code>, etc.</p> </dd> <dt>saltenv: <code class="docutils literal notranslate"><span class="pre">base</span></code>
</dt>
<dd>
<p>Salt fileserver environment from which to retrieve the file. Ignored if <code class="docutils literal notranslate"><span class="pre">initial_path</span></code> or <code class="docutils literal notranslate"><span class="pre">merge_path</span></code> is not a <code class="docutils literal notranslate"><span class="pre">salt://</span></code> URL.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' iosconfig.merge_text initial_path=salt://path/to/running.cfg merge_path=salt://path/to/merge.cfg</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.iosconfig.merge_tree"> salt.modules.iosconfig.merge_tree(initial_config=None, initial_path=None, merge_config=None, merge_path=None, saltenv='base')</h3> <dd>
<p>Return the merge tree of the <code class="docutils literal notranslate"><span class="pre">initial_config</span></code> with the <code class="docutils literal notranslate"><span class="pre">merge_config</span></code>, as a Python dictionary.</p> <dl class="simple"> <dt>initial_config</dt>
<dd>
<p>The initial configuration sent as text. This argument is ignored when <code class="docutils literal notranslate"><span class="pre">initial_path</span></code> is set.</p> </dd> <dt>initial_path</dt>
<dd>
<p>Absolute or remote path from where to load the initial configuration text. This argument allows any URI supported by <a class="reference internal" href="salt.modules.cp.html#salt.modules.cp.get_url" title="salt.modules.cp.get_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">cp.get_url</span></code></a>), e.g., <code class="docutils literal notranslate"><span class="pre">salt://</span></code>, <code class="docutils literal notranslate"><span class="pre">https://</span></code>, <code class="docutils literal notranslate"><span class="pre">s3://</span></code>, <code class="docutils literal notranslate"><span class="pre">ftp:/</span></code>, etc.</p> </dd> <dt>merge_config</dt>
<dd>
<p>The config to be merged into the initial config, sent as text. This argument is ignored when <code class="docutils literal notranslate"><span class="pre">merge_path</span></code> is set.</p> </dd> <dt>merge_path</dt>
<dd>
<p>Absolute or remote path from where to load the merge configuration text. This argument allows any URI supported by <a class="reference internal" href="salt.modules.cp.html#salt.modules.cp.get_url" title="salt.modules.cp.get_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">cp.get_url</span></code></a>), e.g., <code class="docutils literal notranslate"><span class="pre">salt://</span></code>, <code class="docutils literal notranslate"><span class="pre">https://</span></code>, <code class="docutils literal notranslate"><span class="pre">s3://</span></code>, <code class="docutils literal notranslate"><span class="pre">ftp:/</span></code>, etc.</p> </dd> <dt>saltenv: <code class="docutils literal notranslate"><span class="pre">base</span></code>
</dt>
<dd>
<p>Salt fileserver environment from which to retrieve the file. Ignored if <code class="docutils literal notranslate"><span class="pre">initial_path</span></code> or <code class="docutils literal notranslate"><span class="pre">merge_path</span></code> is not a <code class="docutils literal notranslate"><span class="pre">salt://</span></code> URL.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' iosconfig.merge_tree initial_path=salt://path/to/running.cfg merge_path=salt://path/to/merge.cfg</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.iosconfig.tree"> salt.modules.iosconfig.tree(config=None, path=None, with_tags=False, saltenv='base')</h3> <dd>
<p>Transform Cisco IOS style configuration to structured Python dictionary. Depending on the value of the <code class="docutils literal notranslate"><span class="pre">with_tags</span></code> argument, this function may provide different views, valuable in different situations.</p> <dl class="simple"> <dt>config</dt>
<dd>
<p>The configuration sent as text. This argument is ignored when <code class="docutils literal notranslate"><span class="pre">path</span></code> is configured.</p> </dd> <dt>path</dt>
<dd>
<p>Absolute or remote path from where to load the configuration text. This argument allows any URI supported by <a class="reference internal" href="salt.modules.cp.html#salt.modules.cp.get_url" title="salt.modules.cp.get_url"><code class="xref py py-func docutils literal notranslate"><span class="pre">cp.get_url</span></code></a>), e.g., <code class="docutils literal notranslate"><span class="pre">salt://</span></code>, <code class="docutils literal notranslate"><span class="pre">https://</span></code>, <code class="docutils literal notranslate"><span class="pre">s3://</span></code>, <code class="docutils literal notranslate"><span class="pre">ftp:/</span></code>, etc.</p> </dd> <dt>with_tags: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt>
<dd>
<p>Whether this function should return a detailed view, with tags.</p> </dd> <dt>saltenv: <code class="docutils literal notranslate"><span class="pre">base</span></code>
</dt>
<dd>
<p>Salt fileserver environment from which to retrieve the file. Ignored if <code class="docutils literal notranslate"><span class="pre">path</span></code> is not a <code class="docutils literal notranslate"><span class="pre">salt://</span></code> URL.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' iosconfig.tree path=salt://path/to/my/config.txt
salt '*' iosconfig.tree path=https://bit.ly/2mAdq7z</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.iosconfig.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.iosconfig.html</a>
  </p>
</div>
