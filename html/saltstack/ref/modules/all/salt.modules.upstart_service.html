<h1>salt.modules.upstart_service</h1> <p>Module for the management of upstart systems. The Upstart system only supports service starting, stopping and restarting.</p> <div class="admonition important"> <p class="admonition-title">Important</p> <p>If you feel that Salt should be using this module to manage services on a minion, and it is using a different module (or gives an error similar to <em>'service.start' is not available</em>), see <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/modules/index.html#module-provider-override"><span class="std std-ref">here</span></a>.</p> </div> <p>Currently (as of Ubuntu 12.04) there is no tool available to disable Upstart services (like update-rc.d). This[1] is the recommended way to disable an Upstart service. So we assume that all Upstart services that have not been disabled in this manner are enabled.</p> <p>But this is broken because we do not check to see that the dependent services are enabled. Otherwise we would have to do something like parse the output of "initctl show-config" to determine if all service dependencies are enabled to start on boot. For example, see the "start on" condition for the lightdm service below[2]. And this would be too hard. So we wait until the upstart developers have solved this problem. :) This is to say that an Upstart service that is enabled may not really be enabled.</p> <p>Also, when an Upstart service is enabled, should the dependent services be enabled too? Probably not. But there should be a notice about this, at least.</p> <p>[1] <a class="reference external" href="http://upstart.ubuntu.com/cookbook/#disabling-a-job-from-automatically-starting">http://upstart.ubuntu.com/cookbook/#disabling-a-job-from-automatically-starting</a></p> <p>[2] example upstart configuration file:</p> <pre class="highlight-default notranslate" data-language="default">lightdm
emits login-session-start
emits desktop-session-start
emits desktop-shutdown
start on ((((filesystem and runlevel [!06]) and started dbus) and (drm-device-added card0 PRIMARY_DEVICE_FOR_DISPLAY=1 or stopped udev-fallback-graphics)) or runlevel PREVLEVEL=S)
stop on runlevel [016]</pre> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>This module should not be used on Red Hat systems. For these, the <a class="reference internal" href="salt.modules.rh_service.html#module-salt.modules.rh_service" title="salt.modules.rh_service"><code class="xref py py-mod docutils literal notranslate"><span class="pre">rh_service</span></code></a> module should be used, as it supports the hybrid upstart/sysvinit system used in RHEL/CentOS 6.</p> </div> <dl class="py function"> <h3 id="salt.modules.upstart_service.available"> salt.modules.upstart_service.available(name)</h3> <dd>
<p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the specified service is available, otherwise returns <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.available sshd</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.upstart_service.disable"> salt.modules.upstart_service.disable(name, **kwargs)</h3> <dd>
<p>Disable the named service from starting on boot</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.disable &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.upstart_service.disabled"> salt.modules.upstart_service.disabled(name)</h3> <dd>
<p>Check to see if the named service is disabled to start on boot</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.disabled &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.upstart_service.enable"> salt.modules.upstart_service.enable(name, **kwargs)</h3> <dd>
<p>Enable the named service to start at boot</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.enable &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.upstart_service.enabled"> salt.modules.upstart_service.enabled(name, **kwargs)</h3> <dd>
<p>Check to see if the named service is enabled to start on boot</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.enabled &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.upstart_service.force_reload"> salt.modules.upstart_service.force_reload(name)</h3> <dd>
<p>Force-reload the named service</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.force_reload &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.upstart_service.full_restart"> salt.modules.upstart_service.full_restart(name)</h3> <dd>
<p>Do a full restart (stop/start) of the named service</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.full_restart &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.upstart_service.get_all"> salt.modules.upstart_service.get_all()</h3> <dd>
<p>Return all installed services</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.get_all</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.upstart_service.get_disabled"> salt.modules.upstart_service.get_disabled()</h3> <dd>
<p>Return the disabled services</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.get_disabled</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.upstart_service.get_enabled"> salt.modules.upstart_service.get_enabled()</h3> <dd>
<p>Return the enabled services</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.get_enabled</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.upstart_service.missing"> salt.modules.upstart_service.missing(name)</h3> <dd>
<p>The inverse of service.available. Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the specified service is not available, otherwise returns <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.missing sshd</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.upstart_service.reload_"> salt.modules.upstart_service.reload_(name)</h3> <dd>
<p>Reload the named service</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.reload &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.upstart_service.restart"> salt.modules.upstart_service.restart(name)</h3> <dd>
<p>Restart the named service</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.restart &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.upstart_service.start"> salt.modules.upstart_service.start(name)</h3> <dd>
<p>Start the specified service</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.start &lt;service name&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.upstart_service.status"> salt.modules.upstart_service.status(name, sig=None)</h3> <dd>
<p>Return the status for a service. If the name contains globbing, a dict mapping service name to True/False values is returned.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2018.3.0: </span>The service name can now be a glob (e.g. <code class="docutils literal notranslate"><span class="pre">salt*</span></code>)</p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the service to check</p></li> <li><p><strong>sig</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- Signature to use to find the service via ps</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if running, False otherwise dict: Maps service name to True if running, False otherwise</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.status &lt;service name&gt; [service signature]</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.upstart_service.stop"> salt.modules.upstart_service.stop(name)</h3> <dd>
<p>Stop the specified service</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' service.stop &lt;service name&gt;</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.upstart_service.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.upstart_service.html</a>
  </p>
</div>
