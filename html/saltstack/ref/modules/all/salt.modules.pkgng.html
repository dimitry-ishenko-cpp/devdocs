<h1>salt.modules.pkgng</h1> <p>Support for <code class="docutils literal notranslate"><span class="pre">pkgng</span></code>, the new package manager for FreeBSD</p> <div class="admonition important"> <p class="admonition-title">Important</p> <p>If you feel that Salt should be using this module to manage packages on a minion, and it is using a different module (or gives an error similar to <em>'pkg.install' is not available</em>), see <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/modules/index.html#module-provider-override"><span class="std std-ref">here</span></a>.</p> </div> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>This module has been completely rewritten. Up to and including version 0.17.x, it was available as the <code class="docutils literal notranslate"><span class="pre">pkgng</span></code> module, (<code class="docutils literal notranslate"><span class="pre">pkgng.install</span></code>, <code class="docutils literal notranslate"><span class="pre">pkgng.delete</span></code>, etc.), but moving forward this module will no longer be available as <code class="docutils literal notranslate"><span class="pre">pkgng</span></code>, as it will behave like a normal Salt <code class="docutils literal notranslate"><span class="pre">pkg</span></code> provider. The documentation below should not be considered to apply to this module in versions &lt;= 0.17.x. If your minion is running a 0.17.x release or older, then the documentation for this module can be viewed using the <code class="xref py py-mod docutils literal notranslate"><span class="pre">sys.doc</span></code> function:</p> <pre class="highlight-bash notranslate" data-language="bash">salt bsdminion sys.doc pkgng</pre> </div> <p>This module provides an interface to <code class="docutils literal notranslate"><span class="pre">pkg(8)</span></code>. It acts as the default package provider for FreeBSD 10 and newer. For FreeBSD hosts which have been upgraded to use pkgng, you will need to override the <code class="docutils literal notranslate"><span class="pre">pkg</span></code> provider by setting the <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/configuration/minion.html#std-conf_minion-providers"><code class="xref std std-conf_minion docutils literal notranslate"><span class="pre">providers</span></code></a> parameter in your Minion config file, in order to use this module to manage packages, like so:</p> <pre class="highlight-yaml notranslate" data-language="yaml">providers:
  pkg: pkgng</pre> <dl class="py function"> <h3 id="salt.modules.pkgng.audit"> salt.modules.pkgng.audit(jail=None, chroot=None, root=None)</h3> <dd>
<p>Audits installed packages against known vulnerabilities</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.audit</pre> <dl> <dt>jail</dt>
<dd>
<p>Audit packages within the specified jail</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.audit jail=&lt;jail name or id&gt;</pre> </dd> <dt>chroot</dt>
<dd>
<p>Audit packages within the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>root</dt>
<dd>
<p>Audit packages within the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.audit chroot=/path/to/chroot</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.autoremove"> salt.modules.pkgng.autoremove(jail=None, chroot=None, root=None, dryrun=False)</h3> <dd>
<p>Delete packages which were automatically installed as dependencies and are not required anymore.</p> <dl class="simple"> <dt>dryrun</dt>
<dd>
<p>Dry-run mode. The list of changes to packages is always printed, but no changes are actually made.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.autoremove
salt '*' pkg.autoremove jail=&lt;jail name or id&gt;
salt '*' pkg.autoremove dryrun=True
salt '*' pkg.autoremove jail=&lt;jail name or id&gt; dryrun=True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.backup"> salt.modules.pkgng.backup(file_name, jail=None, chroot=None, root=None)</h3> <dd>
<p>Export installed packages into yaml+mtree file</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.backup /tmp/pkg</pre> <dl> <dt>jail</dt>
<dd>
<p>Backup packages from the specified jail. Note that this will run the command within the jail, and so the path to the backup file will be relative to the root of the jail</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.backup /tmp/pkg jail=&lt;jail name or id&gt;</pre> </dd> <dt>chroot</dt>
<dd>
<p>Backup packages from the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified). Note that this will run the command within the chroot, and so the path to the backup file will be relative to the root of the chroot.</p> </dd> <dt>root</dt>
<dd>
<p>Backup packages from the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified). Note that this will run the command within the root, and so the path to the backup file will be relative to the root of the root.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.backup /tmp/pkg chroot=/path/to/chroot</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.check"> salt.modules.pkgng.check(jail=None, chroot=None, root=None, depends=False, recompute=False, checksum=False, checklibs=False)</h3> <dd>
<p>Sanity checks installed packages</p> <dl> <dt>jail</dt>
<dd>
<p>Perform the sanity check in the specified jail</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.check jail=&lt;jail name or id&gt;</pre> </dd> <dt>chroot</dt>
<dd>
<p>Perform the sanity check in the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>root</dt>
<dd>
<p>Perform the sanity check in the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.check chroot=/path/to/chroot</pre> </dd> </dl> <p>Of the below, at least one must be set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p> <dl> <dt>depends</dt>
<dd>
<p>Check for and install missing dependencies.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.check depends=True</pre> </dd> <dt>recompute</dt>
<dd>
<p>Recompute sizes and checksums of installed packages.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.check recompute=True</pre> </dd> <dt>checksum</dt>
<dd>
<p>Find invalid checksums for installed packages.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.check checksum=True</pre> </dd> <dt>checklibs</dt>
<dd>
<p>Regenerates the library dependency metadata for a package.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.check checklibs=True</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.clean"> salt.modules.pkgng.clean(jail=None, chroot=None, root=None, clean_all=False, dryrun=False)</h3> <dd>
<p>Cleans the local cache of fetched remote packages</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.clean</pre> <dl> <dt>jail</dt>
<dd>
<p>Cleans the package cache in the specified jail</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.clean jail=&lt;jail name or id&gt;</pre> </dd> <dt>chroot</dt>
<dd>
<p>Cleans the package cache in the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>root</dt>
<dd>
<p>Cleans the package cache in the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.clean chroot=/path/to/chroot</pre> </dd> <dt>clean_all</dt>
<dd>
<p>Clean all packages from the local cache (not just those that have been superseded by newer versions).</p> <p>CLI Example:</p>  <p>salt '*' pkg.clean clean_all=True</p> </dd> <dt>dryrun</dt>
<dd>
<p>Dry-run mode. This list of changes to the local cache is always printed, but no changes are actually made.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.clean dryrun=True</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.fetch"> salt.modules.pkgng.fetch(name, jail=None, chroot=None, root=None, fetch_all=False, quiet=False, fromrepo=None, glob=True, regex=False, pcre=False, local=False, depends=False)</h3> <dd>
<p>Fetches remote packages</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.fetch &lt;package name&gt;</pre> <dl> <dt>jail</dt>
<dd>
<p>Fetch package in the specified jail</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.fetch &lt;package name&gt; jail=&lt;jail name or id&gt;</pre> </dd> <dt>chroot</dt>
<dd>
<p>Fetch package in the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>root</dt>
<dd>
<p>Fetch package in the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.fetch &lt;package name&gt; chroot=/path/to/chroot</pre> </dd> <dt>fetch_all</dt>
<dd>
<p>Fetch all packages.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.fetch &lt;package name&gt; fetch_all=True</pre> </dd> <dt>quiet</dt>
<dd>
<p>Quiet mode. Show less output.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.fetch &lt;package name&gt; quiet=True</pre> </dd> <dt>fromrepo</dt>
<dd>
<p>Fetches packages from the given repo if multiple repo support is enabled. See <code class="docutils literal notranslate"><span class="pre">pkg.conf(5)</span></code>.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.fetch &lt;package name&gt; fromrepo=repo</pre> </dd> <dt>glob</dt>
<dd>
<p>Treat pkg_name as a shell glob pattern.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.fetch &lt;package name&gt; glob=True</pre> </dd> <dt>regex</dt>
<dd>
<p>Treat pkg_name as a regular expression.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.fetch &lt;regular expression&gt; regex=True</pre> </dd> <dt>pcre</dt>
<dd>
<p>Treat pkg_name is an extended regular expression.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.fetch &lt;extended regular expression&gt; pcre=True</pre> </dd> <dt>local</dt>
<dd>
<p>Skip updating the repository catalogs with pkg-update(8). Use the local cache only.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.fetch &lt;package name&gt; local=True</pre> </dd> <dt>depends</dt>
<dd>
<p>Fetch the package and its dependencies as well.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.fetch &lt;package name&gt; depends=True</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.hold"> salt.modules.pkgng.hold(name=None, pkgs=None, **kwargs)</h3> <dd>
<p>Version-lock packages</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This function is provided primarily for compatibility with some parts of <a class="reference internal" href="../../states/all/salt.states.pkg.html#module-salt.states.pkg" title="salt.states.pkg"><code class="xref py py-mod docutils literal notranslate"><span class="pre">states.pkg</span></code></a>. Consider using Consider using <a class="reference internal" href="#salt.modules.pkgng.lock" title="salt.modules.pkgng.lock"><code class="xref py py-func docutils literal notranslate"><span class="pre">pkg.lock</span></code></a> instead. instead.</p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the package to be held.</p> </dd> </dl> <p>Multiple Package Options:</p> <dl class="simple"> <dt>pkgs</dt>
<dd>
<p>A list of packages to hold. Must be passed as a python list. The <code class="docutils literal notranslate"><span class="pre">name</span></code> parameter will be ignored if this option is passed.</p> </dd> </dl> <p>Returns a dict containing the changes.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.hold &lt;package name&gt;
salt '*' pkg.hold pkgs='["foo", "bar"]'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.install"> salt.modules.pkgng.install(name=None, fromrepo=None, pkgs=None, sources=None, jail=None, chroot=None, root=None, orphan=False, force=False, glob=False, local=False, dryrun=False, quiet=False, reinstall_requires=False, regex=False, pcre=False, batch=False, **kwargs)</h3> <dd>
<p>Install package(s) from a repository</p> <dl> <dt>name</dt>
<dd>
<p>The name of the package to install</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.install &lt;package name&gt;</pre> </dd> <dt>jail</dt>
<dd>
<p>Install the package into the specified jail</p> </dd> <dt>chroot</dt>
<dd>
<p>Install the package into the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>root</dt>
<dd>
<p>Install the package into the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>orphan</dt>
<dd>
<p>Mark the installed package as orphan. Will be automatically removed if no other packages depend on them. For more information please refer to <code class="docutils literal notranslate"><span class="pre">pkg-autoremove(8)</span></code>.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.install &lt;package name&gt; orphan=True</pre> </dd> <dt>force</dt>
<dd>
<p>Force the reinstallation of the package if already installed.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.install &lt;package name&gt; force=True</pre> </dd> <dt>glob</dt>
<dd>
<p>Treat the package names as shell glob patterns.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.install &lt;package name&gt; glob=True</pre> </dd> <dt>local</dt>
<dd>
<p>Do not update the repository catalogs with <code class="docutils literal notranslate"><span class="pre">pkg-update(8)</span></code>. A value of <code class="docutils literal notranslate"><span class="pre">True</span></code> here is equivalent to using the <code class="docutils literal notranslate"><span class="pre">-U</span></code> flag with <code class="docutils literal notranslate"><span class="pre">pkg</span> <span class="pre">install</span></code>.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.install &lt;package name&gt; local=True</pre> </dd> <dt>dryrun</dt>
<dd>
<p>Dru-run mode. The list of changes to packages is always printed, but no changes are actually made.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.install &lt;package name&gt; dryrun=True</pre> </dd> <dt>quiet</dt>
<dd>
<p>Force quiet output, except when dryrun is used, where pkg install will always show packages to be installed, upgraded or deleted.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.install &lt;package name&gt; quiet=True</pre> </dd> <dt>reinstall_requires</dt>
<dd>
<p>When used with force, reinstalls any packages that require the given package.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.install &lt;package name&gt; reinstall_requires=True force=True</pre> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 2014.7.0: </span><code class="docutils literal notranslate"><span class="pre">require</span></code> kwarg renamed to <code class="docutils literal notranslate"><span class="pre">reinstall_requires</span></code></p> </div> </dd> <dt>fromrepo</dt>
<dd>
<p>In multi-repo mode, override the pkg.conf ordering and only attempt to download packages from the named repository.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.install &lt;package name&gt; fromrepo=repo</pre> </dd> <dt>regex</dt>
<dd>
<p>Treat the package names as a regular expression</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.install &lt;regular expression&gt; regex=True</pre> </dd> <dt>pcre</dt>
<dd>
<p>Treat the package names as extended regular expressions.</p> <p>CLI Example:</p>  </dd> <dt>batch</dt>
<dd>
<p>Use BATCH=true for pkg install, skipping all questions. Be careful when using in production.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.install &lt;package name&gt; batch=True</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.latest_version"> salt.modules.pkgng.latest_version(*names, **kwargs)</h3> <dd>
<p>Return the latest version of the named package available for upgrade or installation. If more than one package name is specified, a dict of name/version pairs is returned.</p> <p>If the latest version of a given package is already installed, an empty string will be returned for that package.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.latest_version &lt;package name&gt;
salt '*' pkg.latest_version &lt;package name&gt; jail=&lt;jail name or id&gt;
salt '*' pkg.latest_version &lt;package name&gt; chroot=/path/to/chroot</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.list_locked"> salt.modules.pkgng.list_locked(**kwargs)</h3> <dd>
<p>Query the package database those packages which are locked against reinstallation, modification or deletion.</p> <p>Returns returns a list of package names with version strings</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.list_locked</pre> <dl> <dt>jail</dt>
<dd>
<p>List locked packages within the specified jail</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.list_locked jail=&lt;jail name or id&gt;</pre> </dd> <dt>chroot</dt>
<dd>
<p>List locked packages within the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.list_locked chroot=/path/to/chroot</pre> </dd> <dt>root</dt>
<dd>
<p>List locked packages within the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.list_locked root=/path/to/chroot</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.list_pkgs"> salt.modules.pkgng.list_pkgs(versions_as_list=False, jail=None, chroot=None, root=None, with_origin=False, **kwargs)</h3> <dd>
<p>List the packages currently installed as a dict:</p> <pre class="highlight-default notranslate" data-language="default">{'&lt;package_name&gt;': '&lt;version&gt;'}</pre> <dl> <dt>jail</dt>
<dd>
<p>List the packages in the specified jail</p> </dd> <dt>chroot</dt>
<dd>
<p>List the packages in the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>root</dt>
<dd>
<p>List the packages in the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>with_origin<span class="classifier">False</span>
</dt>
<dd>
<p>Return a nested dictionary containing both the origin name and version for each installed package.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.1.0.</span></p> </div> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.list_pkgs
salt '*' pkg.list_pkgs jail=&lt;jail name or id&gt;
salt '*' pkg.list_pkgs chroot=/path/to/chroot</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.list_upgrades"> salt.modules.pkgng.list_upgrades(refresh=True, **kwargs)</h3> <dd>
<p>List those packages for which an upgrade is available</p> <p>The <code class="docutils literal notranslate"><span class="pre">fromrepo</span></code> argument is also supported, as used in pkg states.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.list_upgrades</pre> <dl> <dt>jail</dt>
<dd>
<p>List upgrades within the specified jail</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.list_upgrades jail=&lt;jail name or id&gt;</pre> </dd> <dt>chroot</dt>
<dd>
<p>List upgrades within the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.list_upgrades chroot=/path/to/chroot</pre> </dd> <dt>root</dt>
<dd>
<p>List upgrades within the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.list_upgrades root=/path/to/chroot</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.lock"> salt.modules.pkgng.lock(name, **kwargs)</h3> <dd>
<p>Lock the named package against reinstallation, modification or deletion.</p> <p>Returns True if the named package was successfully locked.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.lock &lt;package name&gt;</pre> <dl> <dt>jail</dt>
<dd>
<p>Lock packages within the specified jail</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.lock &lt;package name&gt; jail=&lt;jail name or id&gt;</pre> </dd> <dt>chroot</dt>
<dd>
<p>Lock packages within the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.lock &lt;package name&gt; chroot=/path/to/chroot</pre> </dd> <dt>root</dt>
<dd>
<p>Lock packages within the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.lock &lt;package name&gt; root=/path/to/chroot</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.locked"> salt.modules.pkgng.locked(name, **kwargs)</h3> <dd>
<p>Query the package database to determine if the named package is locked against reinstallation, modification or deletion.</p> <p>Returns True if the named package is locked, False otherwise.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.locked &lt;package name&gt;</pre> <dl> <dt>jail</dt>
<dd>
<p>Test if a package is locked within the specified jail</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.locked &lt;package name&gt; jail=&lt;jail name or id&gt;</pre> </dd> <dt>chroot</dt>
<dd>
<p>Test if a package is locked within the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.locked &lt;package name&gt; chroot=/path/to/chroot</pre> </dd> <dt>root</dt>
<dd>
<p>Test if a package is locked within the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.locked &lt;package name&gt; root=/path/to/chroot</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.parse_config"> salt.modules.pkgng.parse_config(file_name='/usr/local/etc/pkg.conf')</h3> <dd>
<p>Return dict of uncommented global variables.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.parse_config</pre> <p><code class="docutils literal notranslate"><span class="pre">NOTE:</span></code> not working properly right now</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.refresh_db"> salt.modules.pkgng.refresh_db(jail=None, chroot=None, root=None, force=False, **kwargs)</h3> <dd>
<p>Refresh PACKAGESITE contents</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This function can accessed using <code class="docutils literal notranslate"><span class="pre">pkg.update</span></code> in addition to <code class="docutils literal notranslate"><span class="pre">pkg.refresh_db</span></code>, to more closely match the CLI usage of <code class="docutils literal notranslate"><span class="pre">pkg(8)</span></code>.</p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.refresh_db</pre> <dl> <dt>jail</dt>
<dd>
<p>Refresh the pkg database within the specified jail</p> </dd> <dt>chroot</dt>
<dd>
<p>Refresh the pkg database within the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>root</dt>
<dd>
<p>Refresh the pkg database within the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>force</dt>
<dd>
<p>Force a full download of the repository catalog without regard to the respective ages of the local and remote copies of the catalog.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.refresh_db force=True</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.remove"> salt.modules.pkgng.remove(name=None, pkgs=None, jail=None, chroot=None, root=None, all_installed=False, force=False, glob=False, dryrun=False, recurse=False, regex=False, pcre=False, **kwargs)</h3> <dd>
<p>Remove a package from the database and system</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This function can accessed using <code class="docutils literal notranslate"><span class="pre">pkg.delete</span></code> in addition to <code class="docutils literal notranslate"><span class="pre">pkg.remove</span></code>, to more closely match the CLI usage of <code class="docutils literal notranslate"><span class="pre">pkg(8)</span></code>.</p> </div> <dl> <dt>name</dt>
<dd>
<p>The package to remove</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.remove &lt;package name&gt;</pre> </dd> <dt>jail</dt>
<dd>
<p>Delete the package from the specified jail</p> </dd> <dt>chroot</dt>
<dd>
<p>Delete the package from the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>root</dt>
<dd>
<p>Delete the package from the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>all_installed</dt>
<dd>
<p>Deletes all installed packages from the system and empties the database. USE WITH CAUTION!</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.remove all all_installed=True force=True</pre> </dd> <dt>force</dt>
<dd>
<p>Forces packages to be removed despite leaving unresolved dependencies.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.remove &lt;package name&gt; force=True</pre> </dd> <dt>glob</dt>
<dd>
<p>Treat the package names as shell glob patterns.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.remove &lt;package name&gt; glob=True</pre> </dd> <dt>dryrun</dt>
<dd>
<p>Dry run mode. The list of packages to delete is always printed, but no packages are actually deleted.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.remove &lt;package name&gt; dryrun=True</pre> </dd> <dt>recurse</dt>
<dd>
<p>Delete all packages that require the listed package as well.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.remove &lt;package name&gt; recurse=True</pre> </dd> <dt>regex</dt>
<dd>
<p>Treat the package names as regular expressions.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.remove &lt;regular expression&gt; regex=True</pre> </dd> <dt>pcre</dt>
<dd>
<p>Treat the package names as extended regular expressions.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.remove &lt;extended regular expression&gt; pcre=True</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.restore"> salt.modules.pkgng.restore(file_name, jail=None, chroot=None, root=None)</h3> <dd>
<p>Reads archive created by pkg backup -d and recreates the database.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.restore /tmp/pkg</pre> <dl> <dt>jail</dt>
<dd>
<p>Restore database to the specified jail. Note that this will run the command within the jail, and so the path to the file from which the pkg database will be restored is relative to the root of the jail.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.restore /tmp/pkg jail=&lt;jail name or id&gt;</pre> </dd> <dt>chroot</dt>
<dd>
<p>Restore database to the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified). Note that this will run the command within the chroot, and so the path to the file from which the pkg database will be restored is relative to the root of the chroot.</p> </dd> <dt>root</dt>
<dd>
<p>Restore database to the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified). Note that this will run the command within the root, and so the path to the file from which the pkg database will be restored is relative to the root of the root.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.restore /tmp/pkg chroot=/path/to/chroot</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.search"> salt.modules.pkgng.search(name, jail=None, chroot=None, root=None, exact=False, glob=False, regex=False, pcre=False, comment=False, desc=False, full=False, depends=False, size=False, quiet=False, origin=False, prefix=False)</h3> <dd>
<p>Searches in remote package repositories</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.search pattern</pre> <dl> <dt>jail</dt>
<dd>
<p>Perform the search using the <code class="docutils literal notranslate"><span class="pre">pkg.conf(5)</span></code> from the specified jail</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.search pattern jail=&lt;jail name or id&gt;</pre> </dd> <dt>chroot</dt>
<dd>
<p>Perform the search using the <code class="docutils literal notranslate"><span class="pre">pkg.conf(5)</span></code> from the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>root</dt>
<dd>
<p>Perform the search using the <code class="docutils literal notranslate"><span class="pre">pkg.conf(5)</span></code> from the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.search pattern chroot=/path/to/chroot</pre> </dd> <dt>exact</dt>
<dd>
<p>Treat pattern as exact pattern.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.search pattern exact=True</pre> </dd> <dt>glob</dt>
<dd>
<p>Treat pattern as a shell glob pattern.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.search pattern glob=True</pre> </dd> <dt>regex</dt>
<dd>
<p>Treat pattern as a regular expression.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.search pattern regex=True</pre> </dd> <dt>pcre</dt>
<dd>
<p>Treat pattern as an extended regular expression.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.search pattern pcre=True</pre> </dd> <dt>comment</dt>
<dd>
<p>Search for pattern in the package comment one-line description.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.search pattern comment=True</pre> </dd> <dt>desc</dt>
<dd>
<p>Search for pattern in the package description.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.search pattern desc=True</pre> </dd> <dt>full</dt>
<dd>
<p>Displays full information about the matching packages.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.search pattern full=True</pre> </dd> <dt>depends</dt>
<dd>
<p>Displays the dependencies of pattern.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.search pattern depends=True</pre> </dd> <dt>size</dt>
<dd>
<p>Displays the size of the package</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.search pattern size=True</pre> </dd> <dt>quiet</dt>
<dd>
<p>Be quiet. Prints only the requested information without displaying many hints.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.search pattern quiet=True</pre> </dd> <dt>origin</dt>
<dd>
<p>Displays pattern origin.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.search pattern origin=True</pre> </dd> <dt>prefix</dt>
<dd>
<p>Displays the installation prefix for each package matching pattern.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.search pattern prefix=True</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.stats"> salt.modules.pkgng.stats(local=False, remote=False, jail=None, chroot=None, root=None, bytes=False)</h3> <dd>
<p>Return pkgng stats.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.stats</pre> <dl> <dt>local</dt>
<dd>
<p>Display stats only for the local package database.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.stats local=True</pre> </dd> <dt>remote</dt>
<dd>
<p>Display stats only for the remote package database(s).</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.stats remote=True</pre> </dd> <dt>bytes</dt>
<dd>
<p>Display disk space usage in bytes only.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.stats bytes=True</pre> </dd> <dt>jail</dt>
<dd>
<p>Retrieve stats from the specified jail.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.stats jail=&lt;jail name or id&gt;
salt '*' pkg.stats jail=&lt;jail name or id&gt; local=True
salt '*' pkg.stats jail=&lt;jail name or id&gt; remote=True</pre> </dd> <dt>chroot</dt>
<dd>
<p>Retrieve stats from the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified).</p> </dd> <dt>root</dt>
<dd>
<p>Retrieve stats from the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified).</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.stats chroot=/path/to/chroot
salt '*' pkg.stats chroot=/path/to/chroot local=True
salt '*' pkg.stats chroot=/path/to/chroot remote=True</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.unhold"> salt.modules.pkgng.unhold(name=None, pkgs=None, **kwargs)</h3> <dd>
<p>Remove version locks</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This function is provided primarily for compatibility with some parts of <a class="reference internal" href="../../states/all/salt.states.pkg.html#module-salt.states.pkg" title="salt.states.pkg"><code class="xref py py-mod docutils literal notranslate"><span class="pre">states.pkg</span></code></a>. Consider using <a class="reference internal" href="#salt.modules.pkgng.unlock" title="salt.modules.pkgng.unlock"><code class="xref py py-func docutils literal notranslate"><span class="pre">pkg.unlock</span></code></a> instead.</p> </div> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the package to be unheld</p> </dd> </dl> <p>Multiple Package Options:</p> <dl class="simple"> <dt>pkgs</dt>
<dd>
<p>A list of packages to unhold. Must be passed as a python list. The <code class="docutils literal notranslate"><span class="pre">name</span></code> parameter will be ignored if this option is passed.</p> </dd> </dl> <p>Returns a dict containing the changes.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.unhold &lt;package name&gt;
salt '*' pkg.unhold pkgs='["foo", "bar"]'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.unlock"> salt.modules.pkgng.unlock(name, **kwargs)</h3> <dd>
<p>Unlock the named package against reinstallation, modification or deletion.</p> <p>Returns True if the named package was successfully unlocked.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.unlock &lt;package name&gt;</pre> <dl> <dt>jail</dt>
<dd>
<p>Unlock packages within the specified jail</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.unlock &lt;package name&gt; jail=&lt;jail name or id&gt;</pre> </dd> <dt>chroot</dt>
<dd>
<p>Unlock packages within the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.unlock &lt;package name&gt; chroot=/path/to/chroot</pre> </dd> <dt>root</dt>
<dd>
<p>Unlock packages within the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.unlock &lt;package name&gt; root=/path/to/chroot</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.update_package_site"> salt.modules.pkgng.update_package_site(new_url)</h3> <dd>
<p>Updates remote package repo URL, PACKAGESITE var to be exact.</p> <p>Must use <code class="docutils literal notranslate"><span class="pre">http://</span></code>, <code class="docutils literal notranslate"><span class="pre">ftp://</span></code>, or <code class="docutils literal notranslate"><span class="pre">https://</span></code> protocol</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.update_package_site http://127.0.0.1/</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.updating"> salt.modules.pkgng.updating(name, jail=None, chroot=None, root=None, filedate=None, filename=None)</h3> <dd>
<p>' Displays UPDATING entries of software packages</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.updating foo</pre> <dl> <dt>jail</dt>
<dd>
<p>Perform the action in the specified jail</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.updating foo jail=&lt;jail name or id&gt;</pre> </dd> <dt>chroot</dt>
<dd>
<p>Perform the action in the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>root</dt>
<dd>
<p>Perform the action in the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.updating foo chroot=/path/to/chroot</pre> </dd> <dt>filedate</dt>
<dd>
<p>Only entries newer than date are shown. Use a YYYYMMDD date format.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.updating foo filedate=20130101</pre> </dd> <dt>filename</dt>
<dd>
<p>Defines an alternative location of the UPDATING file.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.updating foo filename=/tmp/UPDATING</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.upgrade"> salt.modules.pkgng.upgrade(*names, **kwargs)</h3> <dd>
<p>Upgrade named or all packages (run a <code class="docutils literal notranslate"><span class="pre">pkg</span> <span class="pre">upgrade</span></code>). If &lt;package name&gt; is omitted, the operation is executed on all packages.</p> <p>Returns a dictionary containing the changes:</p> <pre class="highlight-python notranslate" data-language="python">{'&lt;package&gt;':  {'old': '&lt;old-version&gt;',
                'new': '&lt;new-version&gt;'}}</pre> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.upgrade &lt;package name&gt;</pre> <dl> <dt>jail</dt>
<dd>
<p>Audit packages within the specified jail</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.upgrade &lt;package name&gt; jail=&lt;jail name or id&gt;</pre> </dd> <dt>chroot</dt>
<dd>
<p>Audit packages within the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>root</dt>
<dd>
<p>Audit packages within the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.upgrade &lt;package name&gt; chroot=/path/to/chroot</pre> </dd> </dl> <p>Any of the below options can also be used with <code class="docutils literal notranslate"><span class="pre">jail</span></code> or <code class="docutils literal notranslate"><span class="pre">chroot</span></code>.</p> <dl> <dt>force</dt>
<dd>
<p>Force reinstalling/upgrading the whole set of packages.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.upgrade &lt;package name&gt; force=True</pre> </dd> <dt>local</dt>
<dd>
<p>Do not update the repository catalogs with <code class="docutils literal notranslate"><span class="pre">pkg-update(8)</span></code>. A value of <code class="docutils literal notranslate"><span class="pre">True</span></code> here is equivalent to using the <code class="docutils literal notranslate"><span class="pre">-U</span></code> flag with <code class="docutils literal notranslate"><span class="pre">pkg</span>
<span class="pre">upgrade</span></code>.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.upgrade &lt;package name&gt; local=True</pre> </dd> <dt>dryrun</dt>
<dd>
<p>Dry-run mode: show what packages have updates available, but do not perform any upgrades. Repository catalogs will be updated as usual unless the local option is also given.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.upgrade &lt;package name&gt; dryrun=True</pre> </dd> <dt>fromrepo</dt>
<dd>
<p>In multi-repo mode, override the pkg.conf ordering and only attempt to upgrade packages from the named repository.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.upgrade &lt;package name&gt; fromrepo=repo</pre> </dd> <dt>fetchonly</dt>
<dd>
<p>Do not perform installation of packages, merely fetch packages that should be upgraded and detect possible conflicts.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.upgrade &lt;package name&gt; fetchonly=True</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.version"> salt.modules.pkgng.version(*names, **kwargs)</h3> <dd>
<p>Returns a string representing the package version or an empty string if not installed. If more than one package name is specified, a dict of name/version pairs is returned.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This function can accessed using <code class="docutils literal notranslate"><span class="pre">pkg.info</span></code> in addition to <code class="docutils literal notranslate"><span class="pre">pkg.version</span></code>, to more closely match the CLI usage of <code class="docutils literal notranslate"><span class="pre">pkg(8)</span></code>.</p> </div> <dl> <dt>jail</dt>
<dd>
<p>Get package version information for the specified jail</p> </dd> <dt>chroot</dt>
<dd>
<p>Get package version information for the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>root</dt>
<dd>
<p>Get package version information for the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>with_origin<span class="classifier">False</span>
</dt>
<dd>
<p>Return a nested dictionary containing both the origin name and version for each specified package.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.1.0.</span></p> </div> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.version &lt;package name&gt;
salt '*' pkg.version &lt;package name&gt; jail=&lt;jail name or id&gt;
salt '*' pkg.version &lt;package1&gt; &lt;package2&gt; &lt;package3&gt; ...</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.version_cmp"> salt.modules.pkgng.version_cmp(pkg1, pkg2, ignore_epoch=False, **kwargs)</h3> <dd>
<p>Do a cmp-style comparison on two packages. Return -1 if pkg1 &lt; pkg2, 0 if pkg1 == pkg2, and 1 if pkg1 &gt; pkg2. Return None if there was a problem making the comparison.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.version_cmp '2.1.11' '2.1.12'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pkgng.which"> salt.modules.pkgng.which(path, jail=None, chroot=None, root=None, origin=False, quiet=False)</h3> <dd>
<p>Displays which package installed a specific file</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.which &lt;file name&gt;</pre> <dl> <dt>jail</dt>
<dd>
<p>Perform the check in the specified jail</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.which &lt;file name&gt; jail=&lt;jail name or id&gt;</pre> </dd> <dt>chroot</dt>
<dd>
<p>Perform the check in the specified chroot (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> </dd> <dt>root</dt>
<dd>
<p>Perform the check in the specified root (ignored if <code class="docutils literal notranslate"><span class="pre">jail</span></code> is specified)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.which &lt;file name&gt; chroot=/path/to/chroot</pre> </dd> <dt>origin</dt>
<dd>
<p>Shows the origin of the package instead of name-version.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.which &lt;file name&gt; origin=True</pre> </dd> <dt>quiet</dt>
<dd>
<p>Quiet output.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' pkg.which &lt;file name&gt; quiet=True</pre> </dd> </dl> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.pkgng.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.pkgng.html</a>
  </p>
</div>
