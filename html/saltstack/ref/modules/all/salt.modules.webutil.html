<h1>salt.modules.webutil</h1> <p>Support for htpasswd command. Requires the apache2-utils package for Debian-based distros.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.1.0.</span></p> </div> <p>The functions here will load inside the webutil module. This allows other functions that don't use htpasswd to use the webutil module name.</p> <dl class="py function"> <h3 id="salt.modules.webutil.useradd"> salt.modules.webutil.useradd(pwfile, user, password, opts='', runas=None)</h3> <dd>
<p>Add a user to htpasswd file using the htpasswd command. If the htpasswd file does not exist, it will be created.</p> <dl> <dt>pwfile</dt>
<dd>
<p>Path to htpasswd file</p> </dd> <dt>user</dt>
<dd>
<p>User name</p> </dd> <dt>password</dt>
<dd>
<p>User password</p> </dd> <dt>opts</dt>
<dd>
<p>Valid options that can be passed are:</p> <blockquote> <div>
<ul class="simple"> <li><p><cite>n</cite> Don't update file; display results on stdout.</p></li> <li><p><cite>m</cite> Force MD5 encryption of the password (default).</p></li> <li><p><cite>d</cite> Force CRYPT encryption of the password.</p></li> <li><p><cite>p</cite> Do not encrypt the password (plaintext).</p></li> <li><p><cite>s</cite> Force SHA encryption of the password.</p></li> </ul> </div>
</blockquote> </dd> <dt>runas</dt>
<dd>
<p>The system user to run htpasswd command with</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' webutil.useradd /etc/httpd/htpasswd larry badpassword
salt '*' webutil.useradd /etc/httpd/htpasswd larry badpass opts=ns</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.webutil.userdel"> salt.modules.webutil.userdel(pwfile, user, runas=None, all_results=False)</h3> <dd>
<p>Delete a user from the specified htpasswd file.</p> <dl class="simple"> <dt>pwfile</dt>
<dd>
<p>Path to htpasswd file</p> </dd> <dt>user</dt>
<dd>
<p>User name</p> </dd> <dt>runas</dt>
<dd>
<p>The system user to run htpasswd command with</p> </dd> <dt>all_results</dt>
<dd>
<p>Return stdout, stderr, and retcode, not just stdout</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' webutil.userdel /etc/httpd/htpasswd larry</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.webutil.verify"> salt.modules.webutil.verify(pwfile, user, password, opts='', runas=None)</h3> <dd>
<p>Return True if the htpasswd file exists, the user has an entry, and their password matches.</p> <dl> <dt>pwfile</dt>
<dd>
<p>Fully qualified path to htpasswd file</p> </dd> <dt>user</dt>
<dd>
<p>User name</p> </dd> <dt>password</dt>
<dd>
<p>User password</p> </dd> <dt>opts</dt>
<dd>
<p>Valid options that can be passed are:</p> <blockquote> <div>
<ul class="simple"> <li><p><cite>m</cite> Force MD5 encryption of the password (default).</p></li> <li><p><cite>d</cite> Force CRYPT encryption of the password.</p></li> <li><p><cite>p</cite> Do not encrypt the password (plaintext).</p></li> <li><p><cite>s</cite> Force SHA encryption of the password.</p></li> </ul> </div>
</blockquote> </dd> <dt>runas</dt>
<dd>
<p>The system user to run htpasswd command with</p> </dd> </dl> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' webutil.verify /etc/httpd/htpasswd larry maybepassword
salt '*' webutil.verify /etc/httpd/htpasswd larry maybepassword opts=ns</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.webutil.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.webutil.html</a>
  </p>
</div>
