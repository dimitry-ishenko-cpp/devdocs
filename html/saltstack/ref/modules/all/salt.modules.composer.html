<h1>salt.modules.composer</h1> <p>Use composer to install PHP dependencies for a directory</p> <dl class="py function"> <h3 id="salt.modules.composer.did_composer_install"> salt.modules.composer.did_composer_install(dir)</h3> <dd>
<p>Test to see if the vendor directory exists in this directory</p> <dl class="simple"> <dt>dir</dt>
<dd>
<p>Directory location of the composer.json file</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' composer.did_composer_install /var/www/application</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.composer.install"> salt.modules.composer.install(directory, composer=None, php=None, runas=None, prefer_source=None, prefer_dist=None, no_scripts=None, no_plugins=None, optimize=None, no_dev=None, quiet=False, composer_home='/root', env=None)</h3> <dd>
<p>Install composer dependencies for a directory.</p> <p>If composer has not been installed globally making it available in the system PATH &amp; making it executable, the <code class="docutils literal notranslate"><span class="pre">composer</span></code> and <code class="docutils literal notranslate"><span class="pre">php</span></code> parameters will need to be set to the location of the executables.</p> <dl class="simple"> <dt>directory</dt>
<dd>
<p>Directory location of the composer.json file.</p> </dd> <dt>composer</dt>
<dd>
<p>Location of the composer.phar file. If not set composer will just execute "composer" as if it is installed globally. (i.e. /path/to/composer.phar)</p> </dd> <dt>php</dt>
<dd>
<p>Location of the php executable to use with composer. (i.e. /usr/bin/php)</p> </dd> <dt>runas</dt>
<dd>
<p>Which system user to run composer as.</p> </dd> <dt>prefer_source</dt>
<dd>
<p>--prefer-source option of composer.</p> </dd> <dt>prefer_dist</dt>
<dd>
<p>--prefer-dist option of composer.</p> </dd> <dt>no_scripts</dt>
<dd>
<p>--no-scripts option of composer.</p> </dd> <dt>no_plugins</dt>
<dd>
<p>--no-plugins option of composer.</p> </dd> <dt>optimize</dt>
<dd>
<p>--optimize-autoloader option of composer. Recommended for production.</p> </dd> <dt>no_dev</dt>
<dd>
<p>--no-dev option for composer. Recommended for production.</p> </dd> <dt>quiet</dt>
<dd>
<p>--quiet option for composer. Whether or not to return output from composer.</p> </dd> <dt>composer_home</dt>
<dd>
<p>$COMPOSER_HOME environment variable</p> </dd> <dt>env</dt>
<dd>
<p>A list of environment variables to be set prior to execution.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' composer.install /var/www/application

salt '*' composer.install /var/www/application             no_dev=True optimize=True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.composer.selfupdate"> salt.modules.composer.selfupdate(composer=None, php=None, runas=None, quiet=False, composer_home='/root')</h3> <dd>
<p>Update composer itself.</p> <p>If composer has not been installed globally making it available in the system PATH &amp; making it executable, the <code class="docutils literal notranslate"><span class="pre">composer</span></code> and <code class="docutils literal notranslate"><span class="pre">php</span></code> parameters will need to be set to the location of the executables.</p> <dl class="simple"> <dt>composer</dt>
<dd>
<p>Location of the composer.phar file. If not set composer will just execute "composer" as if it is installed globally. (i.e. /path/to/composer.phar)</p> </dd> <dt>php</dt>
<dd>
<p>Location of the php executable to use with composer. (i.e. /usr/bin/php)</p> </dd> <dt>runas</dt>
<dd>
<p>Which system user to run composer as.</p> </dd> <dt>quiet</dt>
<dd>
<p>--quiet option for composer. Whether or not to return output from composer.</p> </dd> <dt>composer_home</dt>
<dd>
<p>$COMPOSER_HOME environment variable</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' composer.selfupdate</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.composer.update"> salt.modules.composer.update(directory, composer=None, php=None, runas=None, prefer_source=None, prefer_dist=None, no_scripts=None, no_plugins=None, optimize=None, no_dev=None, quiet=False, composer_home='/root', env=None)</h3> <dd>
<p>Update composer dependencies for a directory.</p> <p>If <cite>composer install</cite> has not yet been run, this runs <cite>composer install</cite> instead.</p> <p>If composer has not been installed globally making it available in the system PATH &amp; making it executable, the <code class="docutils literal notranslate"><span class="pre">composer</span></code> and <code class="docutils literal notranslate"><span class="pre">php</span></code> parameters will need to be set to the location of the executables.</p> <dl class="simple"> <dt>directory</dt>
<dd>
<p>Directory location of the composer.json file.</p> </dd> <dt>composer</dt>
<dd>
<p>Location of the composer.phar file. If not set composer will just execute "composer" as if it is installed globally. (i.e. /path/to/composer.phar)</p> </dd> <dt>php</dt>
<dd>
<p>Location of the php executable to use with composer. (i.e. /usr/bin/php)</p> </dd> <dt>runas</dt>
<dd>
<p>Which system user to run composer as.</p> </dd> <dt>prefer_source</dt>
<dd>
<p>--prefer-source option of composer.</p> </dd> <dt>prefer_dist</dt>
<dd>
<p>--prefer-dist option of composer.</p> </dd> <dt>no_scripts</dt>
<dd>
<p>--no-scripts option of composer.</p> </dd> <dt>no_plugins</dt>
<dd>
<p>--no-plugins option of composer.</p> </dd> <dt>optimize</dt>
<dd>
<p>--optimize-autoloader option of composer. Recommended for production.</p> </dd> <dt>no_dev</dt>
<dd>
<p>--no-dev option for composer. Recommended for production.</p> </dd> <dt>quiet</dt>
<dd>
<p>--quiet option for composer. Whether or not to return output from composer.</p> </dd> <dt>composer_home</dt>
<dd>
<p>$COMPOSER_HOME environment variable</p> </dd> <dt>env</dt>
<dd>
<p>A list of environment variables to be set prior to execution.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' composer.update /var/www/application

salt '*' composer.update /var/www/application             no_dev=True optimize=True</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.composer.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.composer.html</a>
  </p>
</div>
