<h1>salt.modules.mac_system</h1> <p>System module for sleeping, restarting, and shutting down the system on Mac OS X</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>Using this module will enable <code class="docutils literal notranslate"><span class="pre">atrun</span></code> on the system if it is disabled.</p> </div> <dl class="py function"> <h3 id="salt.modules.mac_system.get_boot_arch"> salt.modules.mac_system.get_boot_arch()</h3> <dd>
<p>Get the kernel architecture setting from <code class="docutils literal notranslate"><span class="pre">com.apple.Boot.plist</span></code></p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>A string value representing the boot architecture setting</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.get_boot_arch</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.get_computer_name"> salt.modules.mac_system.get_computer_name()</h3> <dd>
<p>Gets the computer name</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>The computer name</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.get_computer_name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.get_disable_keyboard_on_lock"> salt.modules.mac_system.get_disable_keyboard_on_lock()</h3> <dd>
<p>Get whether or not the keyboard should be disabled when the X Serve enclosure lock is engaged.</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>True if disable keyboard on lock is on, False if off</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.get_disable_keyboard_on_lock</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.get_remote_events"> salt.modules.mac_system.get_remote_events()</h3> <dd>
<p>Displays whether remote apple events are on or off.</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>True if remote apple events are on, False if off</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.get_remote_events</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.get_remote_login"> salt.modules.mac_system.get_remote_login()</h3> <dd>
<p>Displays whether remote login (SSH) is on or off.</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>True if remote login is on, False if off</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.get_remote_login</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.get_restart_delay"> salt.modules.mac_system.get_restart_delay()</h3> <dd>
<p>Get the number of seconds after which the computer will start up after a power failure.</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>A string value representing the number of seconds the system will delay restart after power loss</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.get_restart_delay</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.get_startup_disk"> salt.modules.mac_system.get_startup_disk()</h3> <dd>
<p>Displays the current startup disk</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>The current startup disk</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.get_startup_disk</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.get_subnet_name"> salt.modules.mac_system.get_subnet_name()</h3> <dd>
<p>Gets the local subnet name</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>The local subnet name</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.get_subnet_name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.halt"> salt.modules.mac_system.halt(at_time=None)</h3> <dd>
<p>Halt a running system</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>at_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>Any valid <cite>at</cite> expression. For example, some valid at expressions could be:</p> <ul class="simple"> <li><p>noon</p></li> <li><p>midnight</p></li> <li><p>fri</p></li> <li><p>9:00 AM</p></li> <li><p>2:30 PM tomorrow</p></li> <li><p>now + 10 minutes</p></li> </ul> </dd> </dl> <div class="admonition note"> <p class="admonition-title">Note</p> <p>If you pass a time only, with no 'AM/PM' designation, you have to double quote the parameter on the command line. For example: '"14:00"'</p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.halt
salt '*' system.halt 'now + 10 minutes'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.list_startup_disks"> salt.modules.mac_system.list_startup_disks()</h3> <dd>
<p>List all valid startup disks on the system.</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>A list of valid startup disks</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.list_startup_disks</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.restart"> salt.modules.mac_system.restart(at_time=None)</h3> <dd>
<p>Restart the system</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>at_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>Any valid <cite>at</cite> expression. For example, some valid at expressions could be:</p> <ul class="simple"> <li><p>noon</p></li> <li><p>midnight</p></li> <li><p>fri</p></li> <li><p>9:00 AM</p></li> <li><p>2:30 PM tomorrow</p></li> <li><p>now + 10 minutes</p></li> </ul> </dd> </dl> <div class="admonition note"> <p class="admonition-title">Note</p> <p>If you pass a time only, with no 'AM/PM' designation, you have to double quote the parameter on the command line. For example: '"14:00"'</p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.restart
salt '*' system.restart '12:00 PM fri'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.set_boot_arch"> salt.modules.mac_system.set_boot_arch(arch='default')</h3> <dd>
<p>Set the kernel to boot in 32 or 64 bit mode on next boot.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>When this function fails with the error <code class="docutils literal notranslate"><span class="pre">changes</span> <span class="pre">to</span> <span class="pre">kernel</span>
<span class="pre">architecture</span> <span class="pre">failed</span> <span class="pre">to</span> <span class="pre">save!</span></code>, then the boot arch is not updated. This is either an Apple bug, not available on the test system, or a result of system files being locked down in macOS (SIP Protection).</p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>arch</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>A string representing the desired architecture. If no value is passed, default is assumed. Valid values include:</p> <ul class="simple"> <li><p>i386</p></li> <li><p>x86_64</p></li> <li><p>default</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, False if not</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.set_boot_arch i386</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.set_computer_name"> salt.modules.mac_system.set_computer_name(name)</h3> <dd>
<p>Set the computer name</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The new computer name</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, False if not</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.set_computer_name "Mike's Mac"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.set_disable_keyboard_on_lock"> salt.modules.mac_system.set_disable_keyboard_on_lock(enable)</h3> <dd>
<p>Get whether or not the keyboard should be disabled when the X Serve enclosure lock is engaged.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>enable</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- True to enable, False to disable. "On" and "Off" are also acceptable values. Additionally you can pass 1 and 0 to represent True and False respectively</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, False if not</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.set_disable_keyboard_on_lock False</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.set_remote_events"> salt.modules.mac_system.set_remote_events(enable)</h3> <dd>
<p>Set whether the server responds to events sent by other computers (such as AppleScripts)</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>enable</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- True to enable, False to disable. "On" and "Off" are also acceptable values. Additionally you can pass 1 and 0 to represent True and False respectively</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, False if not</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.set_remote_events On</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.set_remote_login"> salt.modules.mac_system.set_remote_login(enable)</h3> <dd>
<p>Set the remote login (SSH) to either on or off.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>enable</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- True to enable, False to disable. "On" and "Off" are also acceptable values. Additionally you can pass 1 and 0 to represent True and False respectively</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, False if not</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.set_remote_login True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.set_restart_delay"> salt.modules.mac_system.set_restart_delay(seconds)</h3> <dd>
<p>Set the number of seconds after which the computer will start up after a power failure.</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>This command fails with the following error:</p> <p><code class="docutils literal notranslate"><span class="pre">Error,</span> <span class="pre">IOServiceOpen</span> <span class="pre">returned</span> <span class="pre">0x10000003</span></code></p> <p>The setting is not updated. This is an apple bug. It seems like it may only work on certain versions of Mac Server X. This article explains the issue in more detail, though it is quite old.</p> <p><a class="reference external" href="http://lists.apple.com/archives/macos-x-server/2006/Jul/msg00967.html">http://lists.apple.com/archives/macos-x-server/2006/Jul/msg00967.html</a></p> </div> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>seconds</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The number of seconds. Must be a multiple of 30</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, False if not</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.set_restart_delay 180</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.set_startup_disk"> salt.modules.mac_system.set_startup_disk(path)</h3> <dd>
<p>Set the current startup disk to the indicated path. Use <code class="docutils literal notranslate"><span class="pre">system.list_startup_disks</span></code> to find valid startup disks on the system.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The valid startup disk path</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, False if not</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.set_startup_disk /System/Library/CoreServices</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.set_subnet_name"> salt.modules.mac_system.set_subnet_name(name)</h3> <dd>
<p>Set the local subnet name</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The new local subnet name</p> </dd> </dl> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Spaces are changed to dashes. Other special characters are removed.</p> </div> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>True if successful, False if not</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">The following will be set as 'Mikes-Mac'
salt '*' system.set_subnet_name "Mike's Mac"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.shutdown"> salt.modules.mac_system.shutdown(at_time=None)</h3> <dd>
<p>Shutdown the system</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>at_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>Any valid <cite>at</cite> expression. For example, some valid at expressions could be:</p> <ul class="simple"> <li><p>noon</p></li> <li><p>midnight</p></li> <li><p>fri</p></li> <li><p>9:00 AM</p></li> <li><p>2:30 PM tomorrow</p></li> <li><p>now + 10 minutes</p></li> </ul> </dd> </dl> <div class="admonition note"> <p class="admonition-title">Note</p> <p>If you pass a time only, with no 'AM/PM' designation, you have to double quote the parameter on the command line. For example: '"14:00"'</p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.shutdown
salt '*' system.shutdown 'now + 1 hour'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_system.sleep"> salt.modules.mac_system.sleep(at_time=None)</h3> <dd>
<p>Sleep the system. If a user is active on the system it will likely fail to sleep.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>at_time</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- </p>
<p>Any valid <cite>at</cite> expression. For example, some valid at expressions could be:</p> <ul class="simple"> <li><p>noon</p></li> <li><p>midnight</p></li> <li><p>fri</p></li> <li><p>9:00 AM</p></li> <li><p>2:30 PM tomorrow</p></li> <li><p>now + 10 minutes</p></li> </ul> </dd> </dl> <div class="admonition note"> <p class="admonition-title">Note</p> <p>If you pass a time only, with no 'AM/PM' designation, you have to double quote the parameter on the command line. For example: '"14:00"'</p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' system.sleep
salt '*' system.sleep '10:00 PM'</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.mac_system.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.mac_system.html</a>
  </p>
</div>
