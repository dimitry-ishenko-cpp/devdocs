<h1>salt.modules.lvs</h1> <p>Support for LVS (Linux Virtual Server)</p> <dl class="py function"> <h3 id="salt.modules.lvs.add_server"> salt.modules.lvs.add_server(protocol=None, service_address=None, server_address=None, packet_forward_method='dr', weight=1, **kwargs)</h3> <dd>
<p>Add a real server to a virtual service.</p> <dl class="simple"> <dt>protocol</dt>
<dd>
<p>The service protocol(only support <code class="docutils literal notranslate"><span class="pre">tcp</span></code>, <code class="docutils literal notranslate"><span class="pre">udp</span></code> and <code class="docutils literal notranslate"><span class="pre">fwmark</span></code> service).</p> </dd> <dt>service_address</dt>
<dd>
<p>The LVS service address.</p> </dd> <dt>server_address</dt>
<dd>
<p>The real server address.</p> </dd> <dt>packet_forward_method</dt>
<dd>
<p>The LVS packet forwarding method(<code class="docutils literal notranslate"><span class="pre">dr</span></code> for direct routing, <code class="docutils literal notranslate"><span class="pre">tunnel</span></code> for tunneling, <code class="docutils literal notranslate"><span class="pre">nat</span></code> for network access translation).</p> </dd> <dt>weight</dt>
<dd>
<p>The capacity of a server relative to the others in the pool.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' lvs.add_server tcp 1.1.1.1:80 192.168.0.11:8080 nat 1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.lvs.add_service"> salt.modules.lvs.add_service(protocol=None, service_address=None, scheduler='wlc')</h3> <dd>
<p>Add a virtual service.</p> <dl class="simple"> <dt>protocol</dt>
<dd>
<p>The service protocol(only support tcp, udp and fwmark service).</p> </dd> <dt>service_address</dt>
<dd>
<p>The LVS service address.</p> </dd> <dt>scheduler</dt>
<dd>
<p>Algorithm for allocating TCP connections and UDP datagrams to real servers.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' lvs.add_service tcp 1.1.1.1:80 rr</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.lvs.check_server"> salt.modules.lvs.check_server(protocol=None, service_address=None, server_address=None, **kwargs)</h3> <dd>
<p>Check the real server exists in the specified service.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' lvs.check_server tcp 1.1.1.1:80 192.168.0.11:8080</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.lvs.check_service"> salt.modules.lvs.check_service(protocol=None, service_address=None, **kwargs)</h3> <dd>
<p>Check the virtual service exists.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' lvs.check_service tcp 1.1.1.1:80</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.lvs.clear"> salt.modules.lvs.clear()</h3> <dd>
<p>Clear the virtual server table</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' lvs.clear</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.lvs.delete_server"> salt.modules.lvs.delete_server(protocol=None, service_address=None, server_address=None)</h3> <dd>
<p>Delete the realserver from the virtual service.</p> <dl class="simple"> <dt>protocol</dt>
<dd>
<p>The service protocol(only support <code class="docutils literal notranslate"><span class="pre">tcp</span></code>, <code class="docutils literal notranslate"><span class="pre">udp</span></code> and <code class="docutils literal notranslate"><span class="pre">fwmark</span></code> service).</p> </dd> <dt>service_address</dt>
<dd>
<p>The LVS service address.</p> </dd> <dt>server_address</dt>
<dd>
<p>The real server address.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' lvs.delete_server tcp 1.1.1.1:80 192.168.0.11:8080</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.lvs.delete_service"> salt.modules.lvs.delete_service(protocol=None, service_address=None)</h3> <dd>
<p>Delete the virtual service.</p> <dl class="simple"> <dt>protocol</dt>
<dd>
<p>The service protocol(only support tcp, udp and fwmark service).</p> </dd> <dt>service_address</dt>
<dd>
<p>The LVS service address.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' lvs.delete_service tcp 1.1.1.1:80</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.lvs.edit_server"> salt.modules.lvs.edit_server(protocol=None, service_address=None, server_address=None, packet_forward_method=None, weight=None, **kwargs)</h3> <dd>
<p>Edit a real server to a virtual service.</p> <dl class="simple"> <dt>protocol</dt>
<dd>
<p>The service protocol(only support <code class="docutils literal notranslate"><span class="pre">tcp</span></code>, <code class="docutils literal notranslate"><span class="pre">udp</span></code> and <code class="docutils literal notranslate"><span class="pre">fwmark</span></code> service).</p> </dd> <dt>service_address</dt>
<dd>
<p>The LVS service address.</p> </dd> <dt>server_address</dt>
<dd>
<p>The real server address.</p> </dd> <dt>packet_forward_method</dt>
<dd>
<p>The LVS packet forwarding method(<code class="docutils literal notranslate"><span class="pre">dr</span></code> for direct routing, <code class="docutils literal notranslate"><span class="pre">tunnel</span></code> for tunneling, <code class="docutils literal notranslate"><span class="pre">nat</span></code> for network access translation).</p> </dd> <dt>weight</dt>
<dd>
<p>The capacity of a server relative to the others in the pool.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' lvs.edit_server tcp 1.1.1.1:80 192.168.0.11:8080 nat 1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.lvs.edit_service"> salt.modules.lvs.edit_service(protocol=None, service_address=None, scheduler=None)</h3> <dd>
<p>Edit the virtual service.</p> <dl class="simple"> <dt>protocol</dt>
<dd>
<p>The service protocol(only support tcp, udp and fwmark service).</p> </dd> <dt>service_address</dt>
<dd>
<p>The LVS service address.</p> </dd> <dt>scheduler</dt>
<dd>
<p>Algorithm for allocating TCP connections and UDP datagrams to real servers.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' lvs.edit_service tcp 1.1.1.1:80 rr</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.lvs.get_rules"> salt.modules.lvs.get_rules()</h3> <dd>
<p>Get the virtual server rules</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' lvs.get_rules</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.lvs.list_"> salt.modules.lvs.list_(protocol=None, service_address=None)</h3> <dd>
<p>List the virtual server table if service_address is not specified. If a service_address is selected, list this service only.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' lvs.list</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.lvs.zero"> salt.modules.lvs.zero(protocol=None, service_address=None)</h3> <dd>
<p>Zero the packet, byte and rate counters in a service or all services.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' lvs.zero</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.lvs.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.lvs.html</a>
  </p>
</div>
