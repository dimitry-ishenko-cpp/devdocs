<h1>salt.modules.neutronng</h1> <p>Neutron module for interacting with OpenStack Neutron</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.0.</span></p> </div> <p>:depends:shade</p> <p>Example configuration</p> <pre class="highlight-yaml notranslate" data-language="yaml">neutron:
  cloud: default</pre> <pre class="highlight-yaml notranslate" data-language="yaml">neutron:
  auth:
    username: admin
    password: password123
    user_domain_name: mydomain
    project_name: myproject
    project_domain_name: myproject
    auth_url: https://example.org:5000/v3
  identity_api_version: 3</pre> <dl class="py function"> <h3 id="salt.modules.neutronng.compare_changes"> salt.modules.neutronng.compare_changes(obj, **kwargs)</h3> <dd>
<p>Compare two dicts returning only keys that exist in the first dict and are different in the second one</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.get_openstack_cloud"> salt.modules.neutronng.get_openstack_cloud(auth=None)</h3> <dd>
<p>Return an openstack_cloud</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.get_operator_cloud"> salt.modules.neutronng.get_operator_cloud(auth=None)</h3> <dd>
<p>Return an operator_cloud</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.list_networks"> salt.modules.neutronng.list_networks(auth=None, **kwargs)</h3> <dd>
<p>List networks</p> <dl class="simple"> <dt>filters</dt>
<dd>
<p>A Python dictionary of filter conditions to push down</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' neutronng.list_networks
salt '*' neutronng.list_networks           filters='{"tenant_id": "1dcac318a83b4610b7a7f7ba01465548"}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.list_subnets"> salt.modules.neutronng.list_subnets(auth=None, **kwargs)</h3> <dd>
<p>List subnets</p> <dl class="simple"> <dt>filters</dt>
<dd>
<p>A Python dictionary of filter conditions to push down</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' neutronng.list_subnets
salt '*' neutronng.list_subnets           filters='{"tenant_id": "1dcac318a83b4610b7a7f7ba01465548"}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.network_create"> salt.modules.neutronng.network_create(auth=None, **kwargs)</h3> <dd>
<p>Create a network</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>Name of the network being created</p> </dd> <dt>shared<span class="classifier">False</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, set the network as shared</p> </dd> <dt>admin_state_up<span class="classifier">True</span>
</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, Set the network administrative state to "up"</p> </dd> <dt>external<span class="classifier">False</span>
</dt>
<dd>
<p>Control whether or not this network is externally accessible</p> </dd> <dt>provider</dt>
<dd>
<p>An optional Python dictionary of network provider options</p> </dd> <dt>project_id</dt>
<dd>
<p>The project ID on which this network will be created</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' neutronng.network_create name=network2           shared=True admin_state_up=True external=True

salt '*' neutronng.network_create name=network3           provider='{"network_type": "vlan",                     "segmentation_id": "4010",                     "physical_network": "provider"}'           project_id=1dcac318a83b4610b7a7f7ba01465548</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.network_delete"> salt.modules.neutronng.network_delete(auth=None, **kwargs)</h3> <dd>
<p>Delete a network</p> <dl class="simple"> <dt>name_or_id</dt>
<dd>
<p>Name or ID of the network being deleted</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' neutronng.network_delete name_or_id=network1
salt '*' neutronng.network_delete name_or_id=1dcac318a83b4610b7a7f7ba01465548</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.network_get"> salt.modules.neutronng.network_get(auth=None, **kwargs)</h3> <dd>
<p>Get a single network</p> <dl class="simple"> <dt>filters</dt>
<dd>
<p>A Python dictionary of filter conditions to push down</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' neutronng.network_get name=XLB4</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.security_group_create"> salt.modules.neutronng.security_group_create(auth=None, **kwargs)</h3> <dd>
<p>Create a security group. Use security_group_get to create default.</p> <dl class="simple"> <dt>project_id</dt>
<dd>
<p>The project ID on which this security group will be created</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' neutronng.security_group_create name=secgroup1           description="Very secure security group"
salt '*' neutronng.security_group_create name=secgroup1           description="Very secure security group"           project_id=1dcac318a83b4610b7a7f7ba01465548</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.security_group_delete"> salt.modules.neutronng.security_group_delete(auth=None, **kwargs)</h3> <dd>
<p>Delete a security group</p> <dl class="simple"> <dt>name_or_id</dt>
<dd>
<p>The name or unique ID of the security group</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' neutronng.security_group_delete name_or_id=secgroup1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.security_group_get"> salt.modules.neutronng.security_group_get(auth=None, **kwargs)</h3> <dd>
<p>Get a single security group. This will create a default security group if one does not exist yet for a particular project id.</p> <dl class="simple"> <dt>filters</dt>
<dd>
<p>A Python dictionary of filter conditions to push down</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' neutronng.security_group_get           name=1dcac318a83b4610b7a7f7ba01465548

salt '*' neutronng.security_group_get           name=default          filters='{"tenant_id":"2e778bb64ca64a199eb526b5958d8710"}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.security_group_rule_create"> salt.modules.neutronng.security_group_rule_create(auth=None, **kwargs)</h3> <dd>
<p>Create a rule in a security group</p> <dl class="simple"> <dt>secgroup_name_or_id</dt>
<dd>
<p>The security group name or ID to associate with this security group rule. If a non-unique group name is given, an exception is raised.</p> </dd> <dt>port_range_min</dt>
<dd>
<p>The minimum port number in the range that is matched by the security group rule. If the protocol is TCP or UDP, this value must be less than or equal to the port_range_max attribute value. If nova is used by the cloud provider for security groups, then a value of None will be transformed to -1.</p> </dd> <dt>port_range_max</dt>
<dd>
<p>The maximum port number in the range that is matched by the security group rule. The port_range_min attribute constrains the port_range_max attribute. If nova is used by the cloud provider for security groups, then a value of None will be transformed to -1.</p> </dd> <dt>protocol</dt>
<dd>
<p>The protocol that is matched by the security group rule. Valid values are <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">tcp</span></code>, <code class="docutils literal notranslate"><span class="pre">udp</span></code>, and <code class="docutils literal notranslate"><span class="pre">icmp</span></code>.</p> </dd> <dt>remote_ip_prefix</dt>
<dd>
<p>The remote IP prefix to be associated with this security group rule. This attribute matches the specified IP prefix as the source IP address of the IP packet.</p> </dd> <dt>remote_group_id</dt>
<dd>
<p>The remote group ID to be associated with this security group rule</p> </dd> <dt>direction</dt>
<dd>
<p>Either <code class="docutils literal notranslate"><span class="pre">ingress</span></code> or <code class="docutils literal notranslate"><span class="pre">egress</span></code>; the direction in which the security group rule is applied. For a compute instance, an ingress security group rule is applied to incoming (ingress) traffic for that instance. An egress rule is applied to traffic leaving the instance</p> </dd> <dt>ethertype</dt>
<dd>
<p>Must be IPv4 or IPv6, and addresses represented in CIDR must match the ingress or egress rules</p> </dd> <dt>project_id</dt>
<dd>
<p>Specify the project ID this security group will be created on (admin-only)</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' neutronng.security_group_rule_create          secgroup_name_or_id=secgroup1

salt '*' neutronng.security_group_rule_create          secgroup_name_or_id=secgroup2 port_range_min=8080          port_range_max=8080 direction='egress'

salt '*' neutronng.security_group_rule_create          secgroup_name_or_id=c0e1d1ce-7296-405e-919d-1c08217be529          protocol=icmp project_id=1dcac318a83b4610b7a7f7ba01465548</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.security_group_rule_delete"> salt.modules.neutronng.security_group_rule_delete(auth=None, **kwargs)</h3> <dd>
<p>Delete a security group</p> <dl class="simple"> <dt>name_or_id</dt>
<dd>
<p>The unique ID of the security group rule</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' neutronng.security_group_rule_delete name_or_id=1dcac318a83b4610b7a7f7ba01465548</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.security_group_update"> salt.modules.neutronng.security_group_update(secgroup=None, auth=None, **kwargs)</h3> <dd>
<p>Update a security group</p> <dl class="simple"> <dt>secgroup</dt>
<dd>
<p>Name, ID or Raw Object of the security group to update</p> </dd> <dt>name</dt>
<dd>
<p>New name for the security group</p> </dd> <dt>description</dt>
<dd>
<p>New description for the security group</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' neutronng.security_group_update secgroup=secgroup1           description="Very secure security group"
salt '*' neutronng.security_group_update secgroup=secgroup1           description="Very secure security group"           project_id=1dcac318a83b4610b7a7f7ba01465548</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.setup_clouds"> salt.modules.neutronng.setup_clouds(auth=None)</h3> <dd>
<p>Call functions to create Shade cloud objects in __context__ to take advantage of Shade's in-memory caching across several states</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.subnet_create"> salt.modules.neutronng.subnet_create(auth=None, **kwargs)</h3> <dd>
<p>Create a subnet</p> <dl class="simple"> <dt>network_name_or_id</dt>
<dd>
<p>The unique name or ID of the attached network. If a non-unique name is supplied, an exception is raised.</p> </dd> <dt>cidr</dt>
<dd>
<p>The CIDR</p> </dd> <dt>ip_version</dt>
<dd>
<p>The IP version, which is 4 or 6.</p> </dd> <dt>enable_dhcp<span class="classifier">False</span>
</dt>
<dd>
<p>Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if DHCP is enabled and <code class="docutils literal notranslate"><span class="pre">False</span></code> if disabled</p> </dd> <dt>subnet_name</dt>
<dd>
<p>The name of the subnet</p> </dd> <dt>tenant_id</dt>
<dd>
<p>The ID of the tenant who owns the network. Only administrative users can specify a tenant ID other than their own.</p> </dd> <dt>allocation_pools</dt>
<dd>
<p>A list of dictionaries of the start and end addresses for the allocation pools.</p> </dd> <dt>gateway_ip</dt>
<dd>
<p>The gateway IP address. When you specify both <code class="docutils literal notranslate"><span class="pre">allocation_pools</span></code> and <code class="docutils literal notranslate"><span class="pre">gateway_ip</span></code>, you must ensure that the gateway IP does not overlap with the specified allocation pools.</p> </dd> <dt>disable_gateway_ip<span class="classifier">False</span>
</dt>
<dd>
<p>Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if gateway IP address is disabled and <code class="docutils literal notranslate"><span class="pre">False</span></code> if enabled. It is not allowed with <code class="docutils literal notranslate"><span class="pre">gateway_ip</span></code>.</p> </dd> <dt>dns_nameservers</dt>
<dd>
<p>A list of DNS name servers for the subnet</p> </dd> <dt>host_routes</dt>
<dd>
<p>A list of host route dictionaries for the subnet</p> </dd> <dt>ipv6_ra_mode</dt>
<dd>
<p>IPv6 Router Advertisement mode. Valid values are <code class="docutils literal notranslate"><span class="pre">dhcpv6-stateful</span></code>, <code class="docutils literal notranslate"><span class="pre">dhcpv6-stateless</span></code>, or <code class="docutils literal notranslate"><span class="pre">slaac</span></code>.</p> </dd> <dt>ipv6_address_mode</dt>
<dd>
<p>IPv6 address mode. Valid values are <code class="docutils literal notranslate"><span class="pre">dhcpv6-stateful</span></code>, <code class="docutils literal notranslate"><span class="pre">dhcpv6-stateless</span></code>, or <code class="docutils literal notranslate"><span class="pre">slaac</span></code>.</p> </dd> <dt>use_default_subnetpool</dt>
<dd>
<p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, use the default subnetpool for <code class="docutils literal notranslate"><span class="pre">ip_version</span></code> to obtain a CIDR. It is required to pass <code class="docutils literal notranslate"><span class="pre">None</span></code> to the <code class="docutils literal notranslate"><span class="pre">cidr</span></code> argument when enabling this option.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' neutronng.subnet_create network_name_or_id=network1
  subnet_name=subnet1

salt '*' neutronng.subnet_create subnet_name=subnet2          network_name_or_id=network2 enable_dhcp=True           allocation_pools='[{"start": "192.168.199.2",                              "end": "192.168.199.254"}]'          gateway_ip='192.168.199.1' cidr=192.168.199.0/24

salt '*' neutronng.subnet_create network_name_or_id=network1           subnet_name=subnet1 dns_nameservers='["8.8.8.8", "8.8.8.7"]'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.subnet_delete"> salt.modules.neutronng.subnet_delete(auth=None, **kwargs)</h3> <dd>
<p>Delete a subnet</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>Name or ID of the subnet to update</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' neutronng.subnet_delete name=subnet1
salt '*' neutronng.subnet_delete           name=1dcac318a83b4610b7a7f7ba01465548</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.subnet_get"> salt.modules.neutronng.subnet_get(auth=None, **kwargs)</h3> <dd>
<p>Get a single subnet</p> <dl class="simple"> <dt>filters</dt>
<dd>
<p>A Python dictionary of filter conditions to push down</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' neutronng.subnet_get name=subnet1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.neutronng.subnet_update"> salt.modules.neutronng.subnet_update(auth=None, **kwargs)</h3> <dd>
<p>Update a subnet</p> <dl class="simple"> <dt>name_or_id</dt>
<dd>
<p>Name or ID of the subnet to update</p> </dd> <dt>subnet_name</dt>
<dd>
<p>The new name of the subnet</p> </dd> <dt>enable_dhcp</dt>
<dd>
<p>Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if DHCP is enabled and <code class="docutils literal notranslate"><span class="pre">False</span></code> if disabled</p> </dd> <dt>gateway_ip</dt>
<dd>
<p>The gateway IP address. When you specify both allocation_pools and gateway_ip, you must ensure that the gateway IP does not overlap with the specified allocation pools.</p> </dd> <dt>disable_gateway_ip<span class="classifier">False</span>
</dt>
<dd>
<p>Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if gateway IP address is disabled and False if enabled. It is not allowed with <code class="docutils literal notranslate"><span class="pre">gateway_ip</span></code>.</p> </dd> <dt>allocation_pools</dt>
<dd>
<p>A list of dictionaries of the start and end addresses for the allocation pools.</p> </dd> <dt>dns_nameservers</dt>
<dd>
<p>A list of DNS name servers for the subnet</p> </dd> <dt>host_routes</dt>
<dd>
<p>A list of host route dictionaries for the subnet</p> </dd> </dl> <pre class="highlight-bash notranslate" data-language="bash">salt '*' neutronng.subnet_update name=subnet1 subnet_name=subnet2
salt '*' neutronng.subnet_update name=subnet1 dns_nameservers='["8.8.8.8", "8.8.8.7"]'</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.neutronng.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.neutronng.html</a>
  </p>
</div>
