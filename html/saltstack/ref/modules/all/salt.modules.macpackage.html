<h1>salt.modules.macpackage</h1> <p>Install pkg, dmg and .app applications on macOS minions.</p> <dl class="py function"> <h3 id="salt.modules.macpackage.get_mpkg_ids"> salt.modules.macpackage.get_mpkg_ids(mpkg)</h3> <dd>
<p>Attempt to get the package IDs from a mounted .mpkg file</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>mpkg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The location of the mounted mpkg file</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>List of package IDs</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' macpackage.get_mpkg_ids /dev/disk2</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.macpackage.get_pkg_id"> salt.modules.macpackage.get_pkg_id(pkg)</h3> <dd>
<p>Attempt to get the package ID from a .pkg file</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>pkg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The location of the pkg file</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>List of all of the package IDs</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' macpackage.get_pkg_id /tmp/test.pkg</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.macpackage.install"> salt.modules.macpackage.install(pkg, target='LocalSystem', store=False, allow_untrusted=False)</h3> <dd>
<p>Install a pkg file</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>pkg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The package to install</p></li> <li><p><strong>target</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The target in which to install the package to</p></li> <li><p><strong>store</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Should the package be installed as if it was from the store?</p></li> <li><p><strong>allow_untrusted</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><em>bool</em></a>) -- Allow the installation of untrusted packages?</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>A dictionary containing the results of the installation</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' macpackage.install test.pkg</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.macpackage.install_app"> salt.modules.macpackage.install_app(app, target='/Applications/')</h3> <dd>
<p>Install an app file by moving it into the specified Applications directory</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>app</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The location of the .app file</p></li> <li><p><strong>target</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The target in which to install the package to Default is ''/Applications/''</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The results of the rsync command</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' macpackage.install_app /tmp/tmp.app /Applications/</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.macpackage.installed_pkgs"> salt.modules.macpackage.installed_pkgs()</h3> <dd>
<p>Return the list of installed packages on the machine</p> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>List of installed packages</p> </dd> <dt class="field-even">Return type</dt> <dd class="field-even">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.9)">list</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' macpackage.installed_pkgs</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.macpackage.mount"> salt.modules.macpackage.mount(dmg)</h3> <dd>
<p>Attempt to mount a dmg file to a temporary location and return the location of the pkg file inside</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>dmg</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The location of the dmg file to mount</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">

<dl class="simple"> <dt>Tuple containing the results of the command along with the mount</dt>
<dd>
<p>point</p> </dd> </dl> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.9)">tuple</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' macpackage.mount /tmp/software.dmg</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.macpackage.uninstall_app"> salt.modules.macpackage.uninstall_app(app)</h3> <dd>
<p>Uninstall an app file by removing it from the Applications directory</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>app</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The location of the .app file</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' macpackage.uninstall_app /Applications/app.app</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.macpackage.unmount"> salt.modules.macpackage.unmount(mountpoint)</h3> <dd>
<p>Attempt to unmount a dmg file from a temporary location</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>mountpoint</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The location of the mount point</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The results of the hdutil detach command</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' macpackage.unmount /dev/disk2</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.macpackage.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.macpackage.html</a>
  </p>
</div>
