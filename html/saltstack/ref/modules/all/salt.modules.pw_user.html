<h1>salt.modules.pw_user</h1> <p>Manage users with the pw command</p> <div class="admonition important"> <p class="admonition-title">Important</p> <p>If you feel that Salt should be using this module to manage users on a minion, and it is using a different module (or gives an error similar to <em>'user.info' is not available</em>), see <a class="reference internal" href="https://docs.saltproject.io/en/latest/ref/modules/index.html#module-provider-override"><span class="std std-ref">here</span></a>.</p> </div> <dl class="py function"> <h3 id="salt.modules.pw_user.add"> salt.modules.pw_user.add(name, uid=None, gid=None, groups=None, home=None, shell=None, unique=True, fullname='', roomnumber='', workphone='', homephone='', createhome=True, loginclass=None, **kwargs)</h3> <dd>
<p>Add a user to the minion</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.add name &lt;uid&gt; &lt;gid&gt; &lt;groups&gt; &lt;home&gt; &lt;shell&gt;</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.chfullname"> salt.modules.pw_user.chfullname(name, fullname)</h3> <dd>
<p>Change the user's Full Name</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chfullname foo "Foo Bar"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.chgid"> salt.modules.pw_user.chgid(name, gid)</h3> <dd>
<p>Change the default group of the user</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chgid foo 4376</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.chgroups"> salt.modules.pw_user.chgroups(name, groups, append=False)</h3> <dd>
<p>Change the groups to which a user belongs</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>Username to modify</p> </dd> <dt>groups</dt>
<dd>
<p>List of groups to set for the user. Can be passed as a comma-separated list or a Python list.</p> </dd> <dt>append<span class="classifier">False</span>
</dt>
<dd>
<p>Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to append these groups to the user's existing list of groups. Otherwise, the specified groups will replace any existing groups for the user.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chgroups foo wheel,root True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.chhome"> salt.modules.pw_user.chhome(name, home, persist=False)</h3> <dd>
<p>Set a new home directory for an existing user</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>Username to modify</p> </dd> <dt>home</dt>
<dd>
<p>New home directory to set</p> </dd> <dt>persist<span class="classifier">False</span>
</dt>
<dd>
<p>Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to prevent configuration files in the new home directory from being overwritten by the files from the skeleton directory.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chhome foo /home/users/foo True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.chhomephone"> salt.modules.pw_user.chhomephone(name, homephone)</h3> <dd>
<p>Change the user's Home Phone</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chhomephone foo "7735551234"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.chloginclass"> salt.modules.pw_user.chloginclass(name, loginclass, root=None)</h3> <dd>
<p>Change the default login class of the user</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.5.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chloginclass foo staff</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.chroomnumber"> salt.modules.pw_user.chroomnumber(name, roomnumber)</h3> <dd>
<p>Change the user's Room Number</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chroomnumber foo 123</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.chshell"> salt.modules.pw_user.chshell(name, shell)</h3> <dd>
<p>Change the default shell of the user</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chshell foo /bin/zsh</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.chuid"> salt.modules.pw_user.chuid(name, uid)</h3> <dd>
<p>Change the uid for a named user</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chuid foo 4376</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.chworkphone"> salt.modules.pw_user.chworkphone(name, workphone)</h3> <dd>
<p>Change the user's Work Phone</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.chworkphone foo "7735550123"</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.delete"> salt.modules.pw_user.delete(name, remove=False, force=False)</h3> <dd>
<p>Remove a user from the minion</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.delete name remove=True force=True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.get_loginclass"> salt.modules.pw_user.get_loginclass(name)</h3> <dd>
<p>Get the login class of the user</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.get_loginclass foo</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.getent"> salt.modules.pw_user.getent(refresh=False)</h3> <dd>
<p>Return the list of all info for all users</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.getent</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.info"> salt.modules.pw_user.info(name)</h3> <dd>
<p>Return user information</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.info root</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.list_groups"> salt.modules.pw_user.list_groups(name)</h3> <dd>
<p>Return a list of groups the named user belongs to</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.list_groups foo</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.list_users"> salt.modules.pw_user.list_users()</h3> <dd>
<p>Return a list of all users</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.list_users</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.pw_user.rename"> salt.modules.pw_user.rename(name, new_name)</h3> <dd>
<p>Change the username for a named user</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' user.rename name new_name</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.pw_user.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.pw_user.html</a>
  </p>
</div>
