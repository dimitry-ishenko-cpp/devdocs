<h1>salt.modules.opsgenie</h1> <p>Module for sending data to OpsGenie</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.0.</span></p> </div> <dl class="field-list"> <dt class="field-odd">configuration</dt> <dd class="field-odd">
<p>This module can be used in Reactor System for posting data to OpsGenie as a remote-execution function.</p> <p>For example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">opsgenie_event_poster:
  local.opsgenie.post_data:
    - tgt: 'salt-minion'
    - kwarg:
        name: event.reactor
        api_key: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
        reason: {{ data['data']['reason'] }}
        action_type: Create</pre> </dd> </dl> <dl class="py function"> <h3 id="salt.modules.opsgenie.post_data"> salt.modules.opsgenie.post_data(api_key=None, name='OpsGenie Execution Module', reason=None, action_type=None)</h3> <dd>
<p>Post data to OpsGenie. It's designed for Salt's Event Reactor.</p> <p>After configuring the sls reaction file as shown above, you can trigger the module with your designated tag (og-tag in this case).</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call event.send 'og-tag' '{"reason" : "Overheating CPU!"}'</pre> <p>Required parameters:</p> <dl class="simple"> <dt>api_key</dt>
<dd>
<p>It's the API Key you've copied while adding integration in OpsGenie.</p> </dd> <dt>reason</dt>
<dd>
<p>It will be used as alert's default message in OpsGenie.</p> </dd> <dt>action_type</dt>
<dd>
<p>OpsGenie supports the default values Create/Close for action_type. You can customize this field with OpsGenie's custom actions for other purposes like adding notes or acknowledging alerts.</p> </dd> </dl> <p>Optional parameters:</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>It will be used as alert's alias. If you want to use the close functionality you must provide name field for both states like in this case.</p> </dd> </dl> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.opsgenie.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.opsgenie.html</a>
  </p>
</div>
