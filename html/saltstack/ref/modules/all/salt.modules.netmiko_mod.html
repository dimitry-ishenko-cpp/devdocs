<h1>salt.modules.netmiko_mod</h1> <div class="section" id="netmiko-execution-module"> <h2>Netmiko Execution Module</h2> <div class="versionadded"> <p><span class="versionmodified added">New in version 2019.2.0.</span></p> </div> <p>Execution module to interface the connection with a remote network device. It is flexible enough to execute the commands both when running under a Netmiko Proxy Minion, as well as running under a Regular Minion by specifying the connection arguments, i.e., <code class="docutils literal notranslate"><span class="pre">device_type</span></code>, <code class="docutils literal notranslate"><span class="pre">ip</span></code>, <code class="docutils literal notranslate"><span class="pre">username</span></code>, <code class="docutils literal notranslate"><span class="pre">password</span></code> etc.</p> <dl class="field-list simple"> <dt class="field-odd">codeauthor</dt> <dd class="field-odd">
<p>Mircea Ulinic &lt;<a class="reference external" href="mailto:ping%40mirceaulinic.net.html">ping<span>@</span>mirceaulinic<span>.</span>net</a>&gt; &amp; Kirk Byers &lt;<a class="reference external" href="mailto:ktbyers%40twb-tech.com.html">ktbyers<span>@</span>twb-tech<span>.</span>com</a>&gt;</p> </dd> <dt class="field-even">maturity</dt> <dd class="field-even">
<p>new</p> </dd> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>netmiko</p> </dd> <dt class="field-even">platform</dt> <dd class="field-even">
<p>unix</p> </dd> </dl> <div class="section" id="dependencies"> <h3>Dependencies</h3> <p>The <code class="docutils literal notranslate"><span class="pre">netmiko</span></code> proxy modules requires Netmiko to be installed: <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">netmiko</span></code>.</p> </div> <div class="section" id="usage"> <h3>Usage</h3> <p>This module can equally be used via the <a class="reference internal" href="../../proxy/all/salt.proxy.netmiko_px.html#module-salt.proxy.netmiko_px" title="salt.proxy.netmiko_px"><code class="xref py py-mod docutils literal notranslate"><span class="pre">netmiko</span></code></a> Proxy module (check documentation), or directly from an arbitrary (Proxy) Minion that is running on a server (computer) having access to the network device, and has the <code class="docutils literal notranslate"><span class="pre">netmiko</span></code> library installed.</p> <p>When running outside of the <a class="reference internal" href="../../proxy/all/salt.proxy.netmiko_px.html#module-salt.proxy.netmiko_px" title="salt.proxy.netmiko_px"><code class="xref py py-mod docutils literal notranslate"><span class="pre">netmiko</span> <span class="pre">Proxy</span></code></a> (i.e., from another Proxy Minion type, or regular Minion), the netmiko connection arguments can be either specified from the CLI when executing the command, or in a configuration block under the <code class="docutils literal notranslate"><span class="pre">netmiko</span></code> key in the configuration opts (i.e., (Proxy) Minion configuration file), or Pillar. The module supports these simultaneously. These fields are the exact same supported by the <code class="docutils literal notranslate"><span class="pre">netmiko</span></code> Proxy Module:</p> <ul class="simple"> <li>
<p><code class="docutils literal notranslate"><span class="pre">device_type</span></code> - Class selection based on device type. Supported options:</p> <ul> <li><p><code class="docutils literal notranslate"><span class="pre">a10</span></code>: A10 Networks</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">accedian</span></code>: Accedian Networks</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">alcatel_aos</span></code>: Alcatel AOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">alcatel_sros</span></code>: Alcatel SROS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">apresia_aeos</span></code>: Apresia AEOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">arista_eos</span></code>: Arista EOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">aruba_os</span></code>: Aruba</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">avaya_ers</span></code>: Avaya ERS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">avaya_vsp</span></code>: Avaya VSP</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">brocade_fastiron</span></code>: Brocade Fastiron</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">brocade_netiron</span></code>: Brocade Netiron</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">brocade_nos</span></code>: Brocade NOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">brocade_vdx</span></code>: Brocade NOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">brocade_vyos</span></code>: VyOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">checkpoint_gaia</span></code>: Check Point GAiA</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">calix_b6</span></code>: Calix B6</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ciena_saos</span></code>: Ciena SAOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_asa</span></code>: Cisco SA</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_ios</span></code>: Cisco IOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_nxos</span></code>: Cisco NX-oS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_s300</span></code>: Cisco S300</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_tp</span></code>: Cisco TpTcCe</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_wlc</span></code>: Cisco WLC</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_xe</span></code>: Cisco IOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_xr</span></code>: Cisco XR</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">coriant</span></code>: Coriant</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">dell_force10</span></code>: Dell Force10</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">dell_os10</span></code>: Dell OS10</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">dell_powerconnect</span></code>: Dell PowerConnect</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">eltex</span></code>: Eltex</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">enterasys</span></code>: Enterasys</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">extreme</span></code>: Extreme</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">extreme_wing</span></code>: Extreme Wing</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">f5_ltm</span></code>: F5 LTM</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">fortinet</span></code>: Fortinet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">generic_termserver</span></code>: TerminalServer</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">hp_comware</span></code>: HP Comware</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">hp_procurve</span></code>: HP Procurve</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">huawei</span></code>: Huawei</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">huawei_vrpv8</span></code>: Huawei VRPV8</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">juniper</span></code>: Juniper Junos</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">juniper_junos</span></code>: Juniper Junos</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">linux</span></code>: Linux</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">mellanox</span></code>: Mellanox</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">mrv_optiswitch</span></code>: MrvOptiswitch</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">netapp_cdot</span></code>: NetAppcDot</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">netscaler</span></code>: Netscaler</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ovs_linux</span></code>: OvsLinux</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">paloalto_panos</span></code>: PaloAlto Panos</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">pluribus</span></code>: Pluribus</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">quanta_mesh</span></code>: Quanta Mesh</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ruckus_fastiron</span></code>: Ruckus Fastiron</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ubiquiti_edge</span></code>: Ubiquiti Edge</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ubiquiti_edgeswitch</span></code>: Ubiquiti Edge</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">vyatta_vyos</span></code>: VyOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">vyos</span></code>: VyOS</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">brocade_fastiron_telnet</span></code>: Brocade Fastiron over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">brocade_netiron_telnet</span></code>: Brocade Netiron over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_ios_telnet</span></code>: Cisco IOS over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">apresia_aeos_telnet</span></code>: Apresia AEOS over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">arista_eos_telnet</span></code>: Arista EOS over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">hp_procurve_telnet</span></code>: HP Procurve over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">hp_comware_telnet</span></code>: HP Comware over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">juniper_junos_telnet</span></code>: Juniper Junos over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">calix_b6_telnet</span></code>: Calix B6 over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">dell_powerconnect_telnet</span></code>: Dell PowerConnect over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">generic_termserver_telnet</span></code>: TerminalServer over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">extreme_telnet</span></code>: Extreme Networks over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ruckus_fastiron_telnet</span></code>: Ruckus Fastiron over Telnet</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">cisco_ios_serial</span></code>: Cisco IOS over serial port</p></li> </ul> </li> <li><p><code class="docutils literal notranslate"><span class="pre">ip</span></code> - IP address of target device (not required if <code class="docutils literal notranslate"><span class="pre">host</span></code> is provided)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">host</span></code> - Hostname of target device (not required if <code class="docutils literal notranslate"><span class="pre">ip</span></code> is provided)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">username</span></code> - Username to authenticate against target device, if required</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">password</span></code> - Password to authenticate against target device, if required</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">secret</span></code> - The enable password if target device requires one</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">port</span></code> - The destination port used to connect to the target device</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">global_delay_factor</span></code> - Multiplication factor affecting Netmiko delays (default: <code class="docutils literal notranslate"><span class="pre">1</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">use_keys</span></code> - Connect to target device using SSH keys (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">key_file</span></code> - Filename path of the SSH key file to use</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">allow_agent</span></code> - Enable use of SSH key-agent</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ssh_strict</span></code> - Automatically reject unknown SSH host keys (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>, which means unknown SSH host keys will be accepted)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">system_host_keys</span></code> - Load host keys from the user's "known_hosts" file (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">alt_host_keys</span></code> - If <code class="docutils literal notranslate"><span class="pre">True</span></code>, host keys will be loaded from the file specified in <code class="docutils literal notranslate"><span class="pre">alt_key_file</span></code> (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">alt_key_file</span></code> - SSH host key file to use (if <code class="docutils literal notranslate"><span class="pre">alt_host_keys=True</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ssh_config_file</span></code> - File name of OpenSSH configuration file</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">timeout</span></code> - Connection timeout, in seconds (default: <code class="docutils literal notranslate"><span class="pre">90</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">session_timeout</span></code> - Set a timeout for parallel requests, in seconds (default: <code class="docutils literal notranslate"><span class="pre">60</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">keepalive</span></code> - Send SSH keepalive packets at a specific interval, in seconds. Currently defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code>, for backwards compatibility (it will not attempt to keep the connection alive using the KEEPALIVE packets).</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">default_enter</span></code> - Character(s) to send to correspond to enter key (default: <code class="docutils literal notranslate"><span class="pre">\n</span></code>)</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">response_return</span></code> - Character(s) to use in normalized return data to represent enter key (default: <code class="docutils literal notranslate"><span class="pre">\n</span></code>)</p></li> </ul> <p>Example (when not running in a <code class="docutils literal notranslate"><span class="pre">netmiko</span></code> Proxy Minion):</p> <pre class="highlight-yaml notranslate" data-language="yaml">netmiko:
  username: test
  password: test</pre> <p>In case the <code class="docutils literal notranslate"><span class="pre">username</span></code> and <code class="docutils literal notranslate"><span class="pre">password</span></code> are the same on any device you are targeting, the block above (besides other parameters specific to your environment you might need) should suffice to be able to execute commands from outside a <code class="docutils literal notranslate"><span class="pre">netmiko</span></code> Proxy, e.g.:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' netmiko.send_command 'show version' host=router1.example.com device_type=juniper
salt '*' netmiko.send_config https://bit.ly/2sgljCB host=sw2.example.com device_type=cisco_ios</pre> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Remember that the above applies only when not running in a <code class="docutils literal notranslate"><span class="pre">netmiko</span></code> Proxy Minion. If you want to use the <code class="xref py py-mod docutils literal notranslate"><span class="pre">&lt;salt.proxy.netmiko_px&gt;</span></code>, please follow the documentation notes for a proper setup.</p> </div> <dl class="py function"> <h3 id="salt.modules.netmiko_mod.call"> salt.modules.netmiko_mod.call(method, *args, **kwargs)</h3> <dd>
<p>Invoke an arbitrary Netmiko method.</p> <dl class="simple"> <dt>method</dt>
<dd>
<p>The name of the Netmiko method to invoke.</p> </dd> <dt>args</dt>
<dd>
<p>A list of arguments to send to the method invoked.</p> </dd> <dt>kwargs</dt>
<dd>
<p>Key-value dictionary to send to the method invoked.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.netmiko_mod.commit"> salt.modules.netmiko_mod.commit(**kwargs)</h3> <dd>
<p>Commit the configuration changes.</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>This function is supported only on the platforms that support the <code class="docutils literal notranslate"><span class="pre">commit</span></code> operation.</p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' netmiko.commit</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.netmiko_mod.enter_config_mode"> salt.modules.netmiko_mod.enter_config_mode(**kwargs)</h3> <dd>
<p>Enter into config mode.</p> <dl class="simple"> <dt>config_command</dt>
<dd>
<p>Configuration command to send to the device.</p> </dd> <dt>pattern</dt>
<dd>
<p>Pattern to terminate reading of channel.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' netmiko.enter_config_mode
salt '*' netmiko.enter_config_mode device_type='juniper_junos' ip='192.168.0.1' username='example'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.netmiko_mod.exit_config_mode"> salt.modules.netmiko_mod.exit_config_mode(**kwargs)</h3> <dd>
<p>Exit from configuration mode.</p> <dl class="simple"> <dt>exit_config</dt>
<dd>
<p>Command to exit configuration mode.</p> </dd> <dt>pattern</dt>
<dd>
<p>Pattern to terminate reading of channel.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' netmiko.exit_config_mode
salt '*' netmiko.exit_config_mode device_type='juniper' ip='192.168.0.1' username='example'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.netmiko_mod.get_connection"> salt.modules.netmiko_mod.get_connection(**kwargs)</h3> <dd>
<p>Return the Netmiko connection object.</p> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>This function returns an unserializable object, hence it is not meant to be used on the CLI. This should mainly be used when invoked from other modules for the low level connection with the network device.</p> </div> <dl class="simple"> <dt>kwargs</dt>
<dd>
<p>Key-value dictionary with the authentication details.</p> </dd> </dl> <p>USAGE Example:</p> <pre class="highlight-python notranslate" data-language="python">conn = __salt__['netmiko.get_connection'](host='router1.example.com',
                                          username='example',
                                          password='example')
show_if = conn.send_command('show interfaces')
conn.disconnect()</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.netmiko_mod.multi_call"> salt.modules.netmiko_mod.multi_call(*methods, **kwargs)</h3> <dd>
<p>Invoke multiple Netmiko methods at once, and return their output, as list.</p> <dl class="simple"> <dt>methods</dt>
<dd>
<p>A list of dictionaries with the following keys:</p> <ul class="simple"> <li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: the name of the Netmiko method to be executed.</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">args</span></code>: list of arguments to be sent to the Netmiko method.</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">kwargs</span></code>: dictionary of arguments to be sent to the Netmiko method.</p></li> </ul> </dd> <dt>kwargs</dt>
<dd>
<p>Key-value dictionary with the connection details (when not running under a Proxy Minion).</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.netmiko_mod.send_command"> salt.modules.netmiko_mod.send_command(command_string, **kwargs)</h3> <dd>
<p>Execute command_string on the SSH channel using a pattern-based mechanism. Generally used for show commands. By default this method will keep waiting to receive data until the network device prompt is detected. The current network device prompt will be determined automatically.</p> <dl class="simple"> <dt>command_string</dt>
<dd>
<p>The command to be executed on the remote device.</p> </dd> <dt>expect_string</dt>
<dd>
<p>Regular expression pattern to use for determining end of output. If left blank will default to being based on router prompt.</p> </dd> <dt>delay_factor: <code class="docutils literal notranslate"><span class="pre">1</span></code>
</dt>
<dd>
<p>Multiplying factor used to adjust delays (default: <code class="docutils literal notranslate"><span class="pre">1</span></code>).</p> </dd> <dt>max_loops: <code class="docutils literal notranslate"><span class="pre">500</span></code>
</dt>
<dd>
<p>Controls wait time in conjunction with delay_factor. Will default to be based upon self.timeout.</p> </dd> <dt>auto_find_prompt: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>Whether it should try to auto-detect the prompt (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p> </dd> <dt>strip_prompt: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>Remove the trailing router prompt from the output (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p> </dd> <dt>strip_command: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>Remove the echo of the command from the output (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p> </dd> <dt>normalize: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>Ensure the proper enter is sent at end of command (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p> </dd> <dt>use_textfsm: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt>
<dd>
<p>Process command output through TextFSM template (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>).</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' netmiko.send_command 'show version'
salt '*' netmiko.send_command 'show_version' host='router1.example.com' username='example' device_type='cisco_ios'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.netmiko_mod.send_command_timing"> salt.modules.netmiko_mod.send_command_timing(command_string, **kwargs)</h3> <dd>
<p>Execute command_string on the SSH channel using a delay-based mechanism. Generally used for show commands.</p> <dl class="simple"> <dt>command_string</dt>
<dd>
<p>The command to be executed on the remote device.</p> </dd> <dt>delay_factor: <code class="docutils literal notranslate"><span class="pre">1</span></code>
</dt>
<dd>
<p>Multiplying factor used to adjust delays (default: <code class="docutils literal notranslate"><span class="pre">1</span></code>).</p> </dd> <dt>max_loops: <code class="docutils literal notranslate"><span class="pre">500</span></code>
</dt>
<dd>
<p>Controls wait time in conjunction with delay_factor. Will default to be based upon self.timeout.</p> </dd> <dt>strip_prompt: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>Remove the trailing router prompt from the output (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p> </dd> <dt>strip_command: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>Remove the echo of the command from the output (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p> </dd> <dt>normalize: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>Ensure the proper enter is sent at end of command (default: <code class="docutils literal notranslate"><span class="pre">True</span></code>).</p> </dd> <dt>use_textfsm: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt>
<dd>
<p>Process command output through TextFSM template (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>).</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' netmiko.send_command_timing 'show version'
salt '*' netmiko.send_command_timing 'show version' host='router1.example.com' username='example' device_type='arista_eos'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.netmiko_mod.send_config"> salt.modules.netmiko_mod.send_config(config_file=None, config_commands=None, template_engine='jinja', commit=False, context=None, defaults=None, saltenv='base', **kwargs)</h3> <dd>
<p>Send configuration commands down the SSH channel. Return the configuration lines sent to the device.</p> <p>The function is flexible to send the configuration from a local or remote file, or simply the commands as list.</p> <dl> <dt>config_file</dt>
<dd>
<p>The source file with the configuration commands to be sent to the device.</p> <p>The file can also be a template that can be rendered using the template engine of choice.</p> <p>This can be specified using the absolute path to the file, or using one of the following URL schemes:</p> <ul class="simple"> <li><p><code class="docutils literal notranslate"><span class="pre">salt://</span></code>, to fetch the file from the Salt fileserver.</p></li> <li><p><code class="docutils literal notranslate"><span class="pre">http://</span></code> or <code class="docutils literal notranslate"><span class="pre">https://</span></code></p></li> <li><p><code class="docutils literal notranslate"><span class="pre">ftp://</span></code></p></li> <li><p><code class="docutils literal notranslate"><span class="pre">s3://</span></code></p></li> <li><p><code class="docutils literal notranslate"><span class="pre">swift://</span></code></p></li> </ul> </dd> <dt>config_commands</dt>
<dd>
<p>Multiple configuration commands to be sent to the device.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>This argument is ignored when <code class="docutils literal notranslate"><span class="pre">config_file</span></code> is specified.</p> </div> </dd> <dt>template_engine: <code class="docutils literal notranslate"><span class="pre">jinja</span></code>
</dt>
<dd>
<p>The template engine to use when rendering the source file. Default: <code class="docutils literal notranslate"><span class="pre">jinja</span></code>. To simply fetch the file without attempting to render, set this argument to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p> </dd> <dt>commit: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt>
<dd>
<p>Commit the configuration changes before exiting the config mode. This option is by default disabled, as many platforms don't have this capability natively.</p> </dd> <dt>context</dt>
<dd>
<p>Variables to add to the template context.</p> </dd> <dt>defaults</dt>
<dd>
<p>Default values of the context_dict.</p> </dd> <dt>exit_config_mode: <code class="docutils literal notranslate"><span class="pre">True</span></code>
</dt>
<dd>
<p>Determines whether or not to exit config mode after complete.</p> </dd> <dt>delay_factor: <code class="docutils literal notranslate"><span class="pre">1</span></code>
</dt>
<dd>
<p>Factor to adjust delays.</p> </dd> <dt>max_loops: <code class="docutils literal notranslate"><span class="pre">150</span></code>
</dt>
<dd>
<p>Controls wait time in conjunction with delay_factor (default: <code class="docutils literal notranslate"><span class="pre">150</span></code>).</p> </dd> <dt>strip_prompt: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt>
<dd>
<p>Determines whether or not to strip the prompt (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>).</p> </dd> <dt>strip_command: <code class="docutils literal notranslate"><span class="pre">False</span></code>
</dt>
<dd>
<p>Determines whether or not to strip the command (default: <code class="docutils literal notranslate"><span class="pre">False</span></code>).</p> </dd> <dt>config_mode_command</dt>
<dd>
<p>The command to enter into config mode.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' netmiko.send_config config_commands="['interface GigabitEthernet3', 'no ip address']"
salt '*' netmiko.send_config config_commands="['snmp-server location {{ grains.location }}']"
salt '*' netmiko.send_config config_file=salt://config.txt
salt '*' netmiko.send_config config_file=https://bit.ly/2sgljCB device_type='cisco_ios' ip='1.2.3.4' username='example'</pre> </dd>
</dl> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.netmiko_mod.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.netmiko_mod.html</a>
  </p>
</div>
