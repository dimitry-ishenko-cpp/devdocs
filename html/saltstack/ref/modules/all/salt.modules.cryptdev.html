<h1>salt.modules.cryptdev</h1> <p>Salt module to manage Unix cryptsetup jobs and the crypttab file</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.0.</span></p> </div> <dl class="py function"> <h3 id="salt.modules.cryptdev.active"> salt.modules.cryptdev.active()</h3> <dd>
<p>List existing device-mapper device details.</p> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cryptdev.close"> salt.modules.cryptdev.close(name)</h3> <dd>
<p>Close a crypt device using <code class="docutils literal notranslate"><span class="pre">cryptsetup</span></code>.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' cryptdev.close foo</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cryptdev.crypttab"> salt.modules.cryptdev.crypttab(config='/etc/crypttab')</h3> <dd>
<p>List the contents of the crypttab</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' cryptdev.crypttab</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cryptdev.open"> salt.modules.cryptdev.open(name, device, keyfile)</h3> <dd>
<p>Open a crypt device using <code class="docutils literal notranslate"><span class="pre">cryptsetup</span></code>. The <code class="docutils literal notranslate"><span class="pre">keyfile</span></code> must not be <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">'none'</span></code>, because <code class="docutils literal notranslate"><span class="pre">cryptsetup</span></code> will otherwise ask for the password interactively.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' cryptdev.open foo /dev/sdz1 /path/to/keyfile</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cryptdev.rm_crypttab"> salt.modules.cryptdev.rm_crypttab(name, config='/etc/crypttab')</h3> <dd>
<p>Remove the named mapping from the crypttab. If the described entry does not exist, nothing is changed, but the command succeeds by returning <code class="docutils literal notranslate"><span class="pre">'absent'</span></code>. If a line is removed, it returns <code class="docutils literal notranslate"><span class="pre">'change'</span></code>.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' cryptdev.rm_crypttab foo</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.cryptdev.set_crypttab"> salt.modules.cryptdev.set_crypttab(name, device, password='none', options='', config='/etc/crypttab', test=False, match_on='name')</h3> <dd>
<p>Verify that this device is represented in the crypttab, change the device to match the name passed, or add the name if it is not present.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' cryptdev.set_crypttab foo /dev/sdz1 mypassword swap,size=256</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.cryptdev.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.cryptdev.html</a>
  </p>
</div>
