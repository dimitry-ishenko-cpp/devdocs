<h1>salt.modules.zcbuildout</h1> <p>Management of zc.buildout</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2014.1.0.</span></p> </div> <p>This module is inspired by <a class="reference external" href="https://github.com/minitage/minitage/blob/master/src/minitage/core/makers/buildout.py">minitage's buildout maker</a></p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>The zc.buildout integration is still in beta; the API is subject to change</p> </div> <div class="section" id="general-notes"> <h2>General notes</h2> <p>You have those following methods:</p> <ul class="simple"> <li><p>upgrade_bootstrap</p></li> <li><p>bootstrap</p></li> <li><p>run_buildout</p></li> <li><p>buildout</p></li> </ul> <dl class="py function"> <h3 id="salt.modules.zcbuildout.bootstrap"> salt.modules.zcbuildout.bootstrap(*a, **kw)</h3> <dd>
<p>Run the buildout bootstrap dance (python bootstrap.py).</p> <dl class="simple"> <dt>directory</dt>
<dd>
<p>directory to execute in</p> </dd> <dt>config</dt>
<dd>
<p>alternative buildout configuration file to use</p> </dd> <dt>runas</dt>
<dd>
<p>User used to run buildout as</p> </dd> <dt>env</dt>
<dd>
<p>environment variables to set when running</p> </dd> <dt>buildout_ver</dt>
<dd>
<p>force a specific buildout version (1 | 2)</p> </dd> <dt>test_release</dt>
<dd>
<p>buildout accept test release</p> </dd> <dt>offline</dt>
<dd>
<p>are we executing buildout in offline mode</p> </dd> <dt>distribute</dt>
<dd>
<p>Forcing use of distribute</p> </dd> <dt>new_st</dt>
<dd>
<p>Forcing use of setuptools &gt;= 0.7</p> </dd> <dt>python</dt>
<dd>
<p>path to a python executable to use in place of default (salt one)</p> </dd> <dt>onlyif</dt>
<dd>
<p>Only execute cmd if statement on the host return 0</p> </dd> <dt>unless</dt>
<dd>
<p>Do not execute cmd if statement on the host return 0</p> </dd> <dt>use_vt</dt>
<dd>
<p>Use the new salt VT to stream output [experimental]</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' buildout.bootstrap /srv/mybuildout</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.zcbuildout.buildout"> salt.modules.zcbuildout.buildout(*a, **kw)</h3> <dd>
<p>Run buildout in a directory.</p> <dl class="simple"> <dt>directory</dt>
<dd>
<p>directory to execute in</p> </dd> <dt>config</dt>
<dd>
<p>buildout config to use</p> </dd> <dt>parts</dt>
<dd>
<p>specific buildout parts to run</p> </dd> <dt>runas</dt>
<dd>
<p>user used to run buildout as</p> </dd> <dt>env</dt>
<dd>
<p>environment variables to set when running</p> </dd> <dt>buildout_ver</dt>
<dd>
<p>force a specific buildout version (1 | 2)</p> </dd> <dt>test_release</dt>
<dd>
<p>buildout accept test release</p> </dd> <dt>new_st</dt>
<dd>
<p>Forcing use of setuptools &gt;= 0.7</p> </dd> <dt>distribute</dt>
<dd>
<p>use distribute over setuptools if possible</p> </dd> <dt>offline</dt>
<dd>
<p>does buildout run offline</p> </dd> <dt>python</dt>
<dd>
<p>python to use</p> </dd> <dt>debug</dt>
<dd>
<p>run buildout with -D debug flag</p> </dd> <dt>onlyif</dt>
<dd>
<p>Only execute cmd if statement on the host return 0</p> </dd> <dt>unless</dt>
<dd>
<p>Do not execute cmd if statement on the host return 0</p> </dd> <dt>newest</dt>
<dd>
<p>run buildout in newest mode</p> </dd> <dt>verbose</dt>
<dd>
<p>run buildout in verbose mode (-vvvvv)</p> </dd> <dt>use_vt</dt>
<dd>
<p>Use the new salt VT to stream output [experimental]</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' buildout.buildout /srv/mybuildout</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.zcbuildout.run_buildout"> salt.modules.zcbuildout.run_buildout(*a, **kw)</h3> <dd>
<p>Run a buildout in a directory.</p> <dl class="simple"> <dt>directory</dt>
<dd>
<p>directory to execute in</p> </dd> <dt>config</dt>
<dd>
<p>alternative buildout configuration file to use</p> </dd> <dt>offline</dt>
<dd>
<p>are we executing buildout in offline mode</p> </dd> <dt>runas</dt>
<dd>
<p>user used to run buildout as</p> </dd> <dt>env</dt>
<dd>
<p>environment variables to set when running</p> </dd> <dt>onlyif</dt>
<dd>
<p>Only execute cmd if statement on the host return 0</p> </dd> <dt>unless</dt>
<dd>
<p>Do not execute cmd if statement on the host return 0</p> </dd> <dt>newest</dt>
<dd>
<p>run buildout in newest mode</p> </dd> <dt>force</dt>
<dd>
<p>run buildout unconditionally</p> </dd> <dt>verbose</dt>
<dd>
<p>run buildout in verbose mode (-vvvvv)</p> </dd> <dt>use_vt</dt>
<dd>
<p>Use the new salt VT to stream output [experimental]</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' buildout.run_buildout /srv/mybuildout</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.zcbuildout.upgrade_bootstrap"> salt.modules.zcbuildout.upgrade_bootstrap(*a, **kw)</h3> <dd>
<p>Upgrade current bootstrap.py with the last released one.</p> <p>Indeed, when we first run a buildout, a common source of problem is to have a locally stale bootstrap, we just try to grab a new copy</p> <dl class="simple"> <dt>directory</dt>
<dd>
<p>directory to execute in</p> </dd> <dt>offline</dt>
<dd>
<p>are we executing buildout in offline mode</p> </dd> <dt>buildout_ver</dt>
<dd>
<p>forcing to use a specific buildout version (1 | 2)</p> </dd> <dt>onlyif</dt>
<dd>
<p>Only execute cmd if statement on the host return 0</p> </dd> <dt>unless</dt>
<dd>
<p>Do not execute cmd if statement on the host return 0</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' buildout.upgrade_bootstrap /srv/mybuildout</pre> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.zcbuildout.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.zcbuildout.html</a>
  </p>
</div>
