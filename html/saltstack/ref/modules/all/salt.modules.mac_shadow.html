<h1>salt.modules.mac_shadow</h1> <p>Manage macOS local directory passwords and policies</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>Note that it is usually better to apply password policies through the creation of a configuration profile.</p> <dl class="py function"> <h3 id="salt.modules.mac_shadow.del_password"> salt.modules.mac_shadow.del_password(name)</h3> <dd>
<p>Deletes the account password</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The user name of the account</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> <dt class="field-even">Raises</dt> <dd class="field-even">
<p>CommandExecutionError on user not found or any other unknown error</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' shadow.del_password username</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_shadow.get_account_created"> salt.modules.mac_shadow.get_account_created(name)</h3> <dd>
<p>Get the date/time the account was created</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The username of the account</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The date/time the account was created (yyyy-mm-dd hh:mm:ss)</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> <dt class="field-even">Raises</dt> <dd class="field-even">
<p>CommandExecutionError on user not found or any other unknown error</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' shadow.get_account_created admin</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_shadow.get_change"> salt.modules.mac_shadow.get_change(name)</h3> <dd>
<p>Gets the date on which the password expires</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the user account</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The date the password will expire</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> <dt class="field-even">Raises</dt> <dd class="field-even">
<p>CommandExecutionError on user not found or any other unknown error</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' shadow.get_change username</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_shadow.get_expire"> salt.modules.mac_shadow.get_expire(name)</h3> <dd>
<p>Gets the date on which the account expires</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the user account</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The date the account expires</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> <dt class="field-even">Raises</dt> <dd class="field-even">
<p>CommandExecutionError on user not found or any other unknown error</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' shadow.get_expire username</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_shadow.get_last_change"> salt.modules.mac_shadow.get_last_change(name)</h3> <dd>
<p>Get the date/time the account was changed</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The username of the account</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The date/time the account was modified (yyyy-mm-dd hh:mm:ss)</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> <dt class="field-even">Raises</dt> <dd class="field-even">
<p>CommandExecutionError on user not found or any other unknown error</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' shadow.get_last_change admin</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_shadow.get_login_failed_count"> salt.modules.mac_shadow.get_login_failed_count(name)</h3> <dd>
<p>Get the number of failed login attempts</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The username of the account</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The number of failed login attempts</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p> </dd> <dt class="field-even">Raises</dt> <dd class="field-even">
<p>CommandExecutionError on user not found or any other unknown error</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' shadow.get_login_failed_count admin</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_shadow.get_login_failed_last"> salt.modules.mac_shadow.get_login_failed_last(name)</h3> <dd>
<p>Get the date/time of the last failed login attempt</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The username of the account</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The date/time of the last failed login attempt on this account (yyyy-mm-dd hh:mm:ss)</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)">str</a></p> </dd> <dt class="field-even">Raises</dt> <dd class="field-even">
<p>CommandExecutionError on user not found or any other unknown error</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' shadow.get_login_failed_last admin</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_shadow.get_maxdays"> salt.modules.mac_shadow.get_maxdays(name)</h3> <dd>
<p>Get the maximum age of the password</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The username of the account</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>The maximum age of the password in days</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)">int</a></p> </dd> <dt class="field-even">Raises</dt> <dd class="field-even">
<p>CommandExecutionError on user not found or any other unknown error</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' shadow.get_maxdays admin 90</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_shadow.info"> salt.modules.mac_shadow.info(name)</h3> <dd>
<p>Return information for the specified user</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The username</p> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>A dictionary containing the user's shadow information</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.9)">dict</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' shadow.info admin</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_shadow.set_change"> salt.modules.mac_shadow.set_change(name, date)</h3> <dd>
<p>Sets the date on which the password expires. The user will be required to change their password. Format is mm/dd/yyyy</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the user account</p></li> <li><p><strong>date</strong> (<em>date</em>) -- The date the password will expire. Must be in mm/dd/yyyy format.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> <dt class="field-even">Raises</dt> <dd class="field-even">
<p>CommandExecutionError on user not found or any other unknown error</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' shadow.set_change username 09/21/2016</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_shadow.set_expire"> salt.modules.mac_shadow.set_expire(name, date)</h3> <dd>
<p>Sets the date on which the account expires. The user will not be able to login after this date. Date format is mm/dd/yyyy</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the user account</p></li> <li><p><strong>date</strong> (<em>datetime</em>) -- The date the account will expire. Format must be mm/dd/yyyy.</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, False if not</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> <dt class="field-even">Raises</dt> <dd class="field-even">
<p>CommandExecutionError on user not found or any other unknown error</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' shadow.set_expire username 07/23/2015</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_shadow.set_inactdays"> salt.modules.mac_shadow.set_inactdays(name, days)</h3> <dd>
<p>Set the number if inactive days before the account is locked. Not available in macOS</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The user name</p></li> <li><p><strong>days</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The number of days</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>Will always return False until macOS supports this feature.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' shadow.set_inactdays admin 90</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_shadow.set_maxdays"> salt.modules.mac_shadow.set_maxdays(name, days)</h3> <dd>
<p>Set the maximum age of the password in days</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The username of the account</p></li> <li><p><strong>days</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The maximum age of the account in days</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, False if not</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> <dt class="field-even">Raises</dt> <dd class="field-even">
<p>CommandExecutionError on user not found or any other unknown error</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' shadow.set_maxdays admin 90</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_shadow.set_mindays"> salt.modules.mac_shadow.set_mindays(name, days)</h3> <dd>
<p>Set the minimum password age in days. Not available in macOS.</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The user name</p></li> <li><p><strong>days</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The number of days</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>Will always return False until macOS supports this feature.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' shadow.set_mindays admin 90</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_shadow.set_password"> salt.modules.mac_shadow.set_password(name, password)</h3> <dd>
<p>Set the password for a named user (insecure, the password will be in the process list while the command is running)</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The name of the local user, which is assumed to be in the local directory service</p></li> <li><p><strong>password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The plaintext password to set</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>True if successful, otherwise False</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> <dt class="field-even">Raises</dt> <dd class="field-even">
<p>CommandExecutionError on user not found or any other unknown error</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' mac_shadow.set_password macuser macpassword</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_shadow.set_warndays"> salt.modules.mac_shadow.set_warndays(name, days)</h3> <dd>
<p>Set the number of days before the password expires that the user will start to see a warning. Not available in macOS</p> <dl class="field-list simple"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<ul class="simple"> <li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) -- The user name</p></li> <li><p><strong>days</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) -- The number of days</p></li> </ul> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<p>Will always return False until macOS supports this feature.</p> </dd> <dt class="field-odd">Return type</dt> <dd class="field-odd">
<p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)">bool</a></p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' shadow.set_warndays admin 90</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.mac_shadow.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.mac_shadow.html</a>
  </p>
</div>
