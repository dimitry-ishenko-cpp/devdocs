<h1>salt.modules.sdb</h1> <div class="section" id="module-for-manipulating-data-via-the-salt-db-api"> <h2>Module for Manipulating Data via the Salt DB API</h2> <dl class="py function"> <h3 id="salt.modules.sdb.delete"> salt.modules.sdb.delete(uri)</h3> <dd>
<p>Delete a value from a db, using a uri in the form of <code class="docutils literal notranslate"><span class="pre">sdb://&lt;profile&gt;/&lt;key&gt;</span></code>. If the uri provided does not start with <code class="docutils literal notranslate"><span class="pre">sdb://</span></code> or the value is not successfully deleted, return <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' sdb.delete sdb://mymemcached/foo</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.sdb.get"> salt.modules.sdb.get(uri, strict=False)</h3> <dd>
<p>Get a value from a db, using a uri in the form of <code class="docutils literal notranslate"><span class="pre">sdb://&lt;profile&gt;/&lt;key&gt;</span></code>. If the uri provided is not valid, then it will be returned as-is, unless <code class="docutils literal notranslate"><span class="pre">strict=True</span></code> was passed.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' sdb.get sdb://mymemcached/foo strict=True</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.sdb.get_or_set_hash"> salt.modules.sdb.get_or_set_hash(uri, length=8, chars='abcdefghijklmnopqrstuvwxyz0123456789!@#$%^&amp;*(-_=+)')</h3> <dd>
<p>Perform a one-time generation of a hash and write it to sdb. If that value has already been set return the value instead.</p> <p>This is useful for generating passwords or keys that are specific to multiple minions that need to be stored somewhere centrally.</p> <p>State Example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">some_mysql_user:
  mysql_user:
    - present
    - host: localhost
    - password: '{{ salt['sdb.get_or_set_hash']('some_mysql_user_pass') }}'</pre> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' sdb.get_or_set_hash 'SECRET_KEY' 50</pre> <div class="admonition warning"> <p class="admonition-title">Warning</p> <p>This function could return strings which may contain characters which are reserved as directives by the YAML parser, such as strings beginning with <code class="docutils literal notranslate"><span class="pre">%</span></code>. To avoid issues when using the output of this function in an SLS file containing YAML+Jinja, surround the call with single quotes.</p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.sdb.set_"> salt.modules.sdb.set_(uri, value)</h3> <dd>
<p>Set a value in a db, using a uri in the form of <code class="docutils literal notranslate"><span class="pre">sdb://&lt;profile&gt;/&lt;key&gt;</span></code>. If the uri provided does not start with <code class="docutils literal notranslate"><span class="pre">sdb://</span></code> or the value is not successfully set, return <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' sdb.set sdb://mymemcached/foo bar</pre> </dd>
</dl> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.sdb.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.sdb.html</a>
  </p>
</div>
