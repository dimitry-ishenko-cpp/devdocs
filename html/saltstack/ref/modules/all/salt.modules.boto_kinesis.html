<h1>salt.modules.boto_kinesis</h1> <p>Connection module for Amazon Kinesis</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2017.7.0.</span></p> </div> <dl class="field-list"> <dt class="field-odd">configuration</dt> <dd class="field-odd">
<p>This module accepts explicit Kinesis credentials but can also utilize IAM roles assigned to the instance trough Instance Profiles. Dynamic credentials are then automatically obtained from AWS API and no further configuration is necessary. More Information available at:</p> <pre class="highlight-text notranslate" data-language="text">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html</pre> <p>If IAM roles are not used you need to specify them either in a pillar or in the minion's config file:</p> <pre class="highlight-yaml notranslate" data-language="yaml">kinesis.keyid: GKTADJGHEIQSXMKKRBJ08H
kinesis.key: askdjghsdfjkghWupUjasdflkdfklgjsdfjajkghs</pre> <p>A region may also be specified in the configuration:</p> <pre class="highlight-yaml notranslate" data-language="yaml">kinesis.region: us-east-1</pre> <p>If a region is not specified, the default is us-east-1.</p> <p>It's also possible to specify key, keyid and region via a profile, either as a passed in dict, or as a string to pull from pillars or minion config:</p> <pre class="highlight-yaml notranslate" data-language="yaml">myprofile:
    keyid: GKTADJGHEIQSXMKKRBJ08H
    key: askdjghsdfjkghWupUjasdflkdfklgjsdfjajkghs
    region: us-east-1</pre> </dd> <dt class="field-even">depends</dt> <dd class="field-even">
<p>boto3</p> </dd> </dl> <dl class="py function"> <h3 id="salt.modules.boto_kinesis.create_stream"> salt.modules.boto_kinesis.create_stream(stream_name, num_shards, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Create a stream with name stream_name and initial number of shards num_shards.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_kinesis.create_stream my_stream N region=us-east-1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_kinesis.decrease_stream_retention_period"> salt.modules.boto_kinesis.decrease_stream_retention_period(stream_name, retention_hours, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Decrease stream retention period to retention_hours</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_kinesis.decrease_stream_retention_period my_stream N region=us-east-1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_kinesis.delete_stream"> salt.modules.boto_kinesis.delete_stream(stream_name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Delete the stream with name stream_name. This cannot be undone! All data will be lost!!</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_kinesis.delete_stream my_stream region=us-east-1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_kinesis.disable_enhanced_monitoring"> salt.modules.boto_kinesis.disable_enhanced_monitoring(stream_name, metrics, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Disable enhanced monitoring for the specified shard-level metrics on stream stream_name</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_kinesis.disable_enhanced_monitoring my_stream ["metrics", "to", "disable"] region=us-east-1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_kinesis.enable_enhanced_monitoring"> salt.modules.boto_kinesis.enable_enhanced_monitoring(stream_name, metrics, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Enable enhanced monitoring for the specified shard-level metrics on stream stream_name</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_kinesis.enable_enhanced_monitoring my_stream ["metrics", "to", "enable"] region=us-east-1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_kinesis.exists"> salt.modules.boto_kinesis.exists(stream_name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Check if the stream exists. Returns False and the error if it does not.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_kinesis.exists my_stream region=us-east-1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_kinesis.get_info_for_reshard"> salt.modules.boto_kinesis.get_info_for_reshard(stream_details)</h3> <dd>
<p>Collect some data: number of open shards, key range, etc. Modifies stream_details to add a sorted list of OpenShards. Returns (min_hash_key, max_hash_key, stream_details)</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_kinesis.get_info_for_reshard existing_stream_details</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_kinesis.get_stream_when_active"> salt.modules.boto_kinesis.get_stream_when_active(stream_name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Get complete stream info from AWS, returning only when the stream is in the ACTIVE state. Continues to retry when stream is updating or creating. If the stream is deleted during retries, the loop will catch the error and break.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_kinesis.get_stream_when_active my_stream region=us-east-1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_kinesis.increase_stream_retention_period"> salt.modules.boto_kinesis.increase_stream_retention_period(stream_name, retention_hours, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Increase stream retention period to retention_hours</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_kinesis.increase_stream_retention_period my_stream N region=us-east-1</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_kinesis.list_streams"> salt.modules.boto_kinesis.list_streams(region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Return a list of all streams visible to the current account</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_kinesis.list_streams</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_kinesis.long_int"> salt.modules.boto_kinesis.long_int(hash_key)</h3> <dd>
<p>The hash key is a 128-bit int, sent as a string. It's necessary to convert to int/long for comparison operations. This helper method handles python 2/3 incompatibility</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_kinesis.long_int some_MD5_hash_as_string</pre> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>long object if python 2.X, int object if python 3.X</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_kinesis.reshard"> salt.modules.boto_kinesis.reshard(stream_name, desired_size, force=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Reshard a kinesis stream. Each call to this function will wait until the stream is ACTIVE, then make a single split or merge operation. This function decides where to split or merge with the assumption that the ultimate goal is a balanced partition space.</p> <p>For safety, user must past in force=True; otherwise, the function will dry run.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_kinesis.reshard my_stream N True region=us-east-1</pre> <dl class="field-list simple"> <dt class="field-odd">Returns</dt> <dd class="field-odd">
<p>True if a split or merge was found/performed, False if nothing is needed</p> </dd> </dl> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.boto_kinesis.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.boto_kinesis.html</a>
  </p>
</div>
