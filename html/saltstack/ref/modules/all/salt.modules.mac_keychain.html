<h1>salt.modules.mac_keychain</h1> <p>Install certificates into the keychain on Mac OS</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <dl class="py function"> <h3 id="salt.modules.mac_keychain.get_default_keychain"> salt.modules.mac_keychain.get_default_keychain(user=None, domain='user')</h3> <dd>
<p>Get the default keychain</p> <dl class="simple"> <dt>user</dt>
<dd>
<p>The user to check the default keychain of</p> </dd> <dt>domain</dt>
<dd>
<p>The domain to use valid values are user|system|common|dynamic, the default is user</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' keychain.get_default_keychain</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_keychain.get_friendly_name"> salt.modules.mac_keychain.get_friendly_name(cert, password)</h3> <dd>
<p>Get the friendly name of the given certificate</p> <dl> <dt>cert</dt>
<dd>
<p>The certificate to install</p> </dd> <dt>password</dt>
<dd>
<p>The password for the certificate being installed formatted in the way described for openssl command in the PASS PHRASE ARGUMENTS section</p> <p>Note: The password given here will show up as plaintext in the returned job info.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' keychain.get_friendly_name /tmp/test.p12 test123</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_keychain.get_hash"> salt.modules.mac_keychain.get_hash(name, password=None)</h3> <dd>
<p>Returns the hash of a certificate in the keychain.</p> <dl class="simple"> <dt>name</dt>
<dd>
<p>The name of the certificate (which you can get from keychain.get_friendly_name) or the location of a p12 file.</p> </dd> <dt>password</dt>
<dd>
<p>The password that is used in the certificate. Only required if your passing a p12 file. Note: This will be outputted to logs</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' keychain.get_hash /tmp/test.p12 test123</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_keychain.install"> salt.modules.mac_keychain.install(cert, password, keychain='/Library/Keychains/System.keychain', allow_any=False, keychain_password=None)</h3> <dd>
<p>Install a certificate</p> <dl> <dt>cert</dt>
<dd>
<p>The certificate to install</p> </dd> <dt>password</dt>
<dd>
<p>The password for the certificate being installed formatted in the way described for openssl command in the PASS PHRASE ARGUMENTS section.</p> <p>Note: The password given here will show up as plaintext in the job returned info.</p> </dd> <dt>keychain</dt>
<dd>
<p>The keychain to install the certificate to, this defaults to /Library/Keychains/System.keychain</p> </dd> <dt>allow_any</dt>
<dd>
<p>Allow any application to access the imported certificate without warning</p> </dd> <dt>keychain_password</dt>
<dd>
<p>If your keychain is likely to be locked pass the password and it will be unlocked before running the import</p> <p>Note: The password given here will show up as plaintext in the returned job info.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' keychain.install test.p12 test123</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_keychain.list_certs"> salt.modules.mac_keychain.list_certs(keychain='/Library/Keychains/System.keychain')</h3> <dd>
<p>List all of the installed certificates</p> <dl class="simple"> <dt>keychain</dt>
<dd>
<p>The keychain to install the certificate to, this defaults to /Library/Keychains/System.keychain</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' keychain.list_certs</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_keychain.set_default_keychain"> salt.modules.mac_keychain.set_default_keychain(keychain, domain='user', user=None)</h3> <dd>
<p>Set the default keychain</p> <dl class="simple"> <dt>keychain</dt>
<dd>
<p>The location of the keychain to set as default</p> </dd> <dt>domain</dt>
<dd>
<p>The domain to use valid values are user|system|common|dynamic, the default is user</p> </dd> <dt>user</dt>
<dd>
<p>The user to set the default keychain as</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' keychain.set_keychain /Users/fred/Library/Keychains/login.keychain</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_keychain.uninstall"> salt.modules.mac_keychain.uninstall(cert_name, keychain='/Library/Keychains/System.keychain', keychain_password=None)</h3> <dd>
<p>Uninstall a certificate from a keychain</p> <dl> <dt>cert_name</dt>
<dd>
<p>The name of the certificate to remove</p> </dd> <dt>keychain</dt>
<dd>
<p>The keychain to install the certificate to, this defaults to /Library/Keychains/System.keychain</p> </dd> <dt>keychain_password</dt>
<dd>
<p>If your keychain is likely to be locked pass the password and it will be unlocked before running the import</p> <p>Note: The password given here will show up as plaintext in the returned job info.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' keychain.install test.p12 test123</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.mac_keychain.unlock_keychain"> salt.modules.mac_keychain.unlock_keychain(keychain, password)</h3> <dd>
<p>Unlock the given keychain with the password</p> <dl> <dt>keychain</dt>
<dd>
<p>The keychain to unlock</p> </dd> <dt>password</dt>
<dd>
<p>The password to use to unlock the keychain.</p> <p>Note: The password given here will show up as plaintext in the returned job info.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' keychain.unlock_keychain /tmp/test.p12 test123</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.mac_keychain.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.mac_keychain.html</a>
  </p>
</div>
