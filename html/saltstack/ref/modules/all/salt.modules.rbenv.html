<h1>salt.modules.rbenv</h1> <p>Manage ruby installations with rbenv. rbenv is supported on Linux and macOS. rbenv doesn't work on Windows (and isn't really necessary on Windows as there is no system Ruby on Windows). On Windows, the RubyInstaller and/or Pik are both good alternatives to work with multiple versions of Ruby on the same box.</p> <p><a class="reference external" href="http://misheska.com/blog/2013/06/15/using-rbenv-to-manage-multiple-versions-of-ruby/">http://misheska.com/blog/2013/06/15/using-rbenv-to-manage-multiple-versions-of-ruby/</a></p> <div class="versionadded"> <p><span class="versionmodified added">New in version 0.16.0.</span></p> </div> <dl class="py function"> <h3 id="salt.modules.rbenv.default"> salt.modules.rbenv.default(ruby=None, runas=None)</h3> <dd>
<p>Returns or sets the currently defined default ruby</p> <dl class="simple"> <dt>ruby</dt>
<dd>
<p>The version to set as the default. Should match one of the versions listed by <a class="reference internal" href="#salt.modules.rbenv.versions" title="salt.modules.rbenv.versions"><code class="xref py py-func docutils literal notranslate"><span class="pre">rbenv.versions</span></code></a>. Leave blank to return the current default.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' rbenv.default
salt '*' rbenv.default 2.0.0-p0</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.rbenv.do"> salt.modules.rbenv.do(cmdline, runas=None, env=None)</h3> <dd>
<p>Execute a ruby command with rbenv's shims from the user or the system</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' rbenv.do 'gem list bundler'
salt '*' rbenv.do 'gem list bundler' deploy</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.rbenv.do_with_ruby"> salt.modules.rbenv.do_with_ruby(ruby, cmdline, runas=None)</h3> <dd>
<p>Execute a ruby command with rbenv's shims using a specific ruby version</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' rbenv.do_with_ruby 2.0.0-p0 'gem list bundler'
salt '*' rbenv.do_with_ruby 2.0.0-p0 'gem list bundler' runas=deploy</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.rbenv.install"> salt.modules.rbenv.install(runas=None, path=None)</h3> <dd>
<p>Install rbenv systemwide</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' rbenv.install</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.rbenv.install_ruby"> salt.modules.rbenv.install_ruby(ruby, runas=None)</h3> <dd>
<p>Install a ruby implementation.</p> <dl class="simple"> <dt>ruby</dt>
<dd>
<p>The version of Ruby to install, should match one of the versions listed by <code class="xref py py-func docutils literal notranslate"><span class="pre">rbenv.list</span></code></p> </dd> <dt>runas</dt>
<dd>
<p>The user under which to run rbenv. If not specified, then rbenv will be run as the user under which Salt is running.</p> </dd> </dl> <p>Additional environment variables can be configured in pillar / grains / master:</p> <pre class="highlight-yaml notranslate" data-language="yaml">rbenv:
  build_env: 'CONFIGURE_OPTS="--no-tcmalloc" CFLAGS="-fno-tree-dce"'</pre> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' rbenv.install_ruby 2.0.0-p0</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.rbenv.is_installed"> salt.modules.rbenv.is_installed(runas=None)</h3> <dd>
<p>Check if rbenv is installed</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' rbenv.is_installed</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.rbenv.list_"> salt.modules.rbenv.list_(runas=None)</h3> <dd>
<p>List the installable versions of ruby</p> <dl class="simple"> <dt>runas</dt>
<dd>
<p>The user under which to run rbenv. If not specified, then rbenv will be run as the user under which Salt is running.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' rbenv.list</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.rbenv.rehash"> salt.modules.rbenv.rehash(runas=None)</h3> <dd>
<p>Run <code class="docutils literal notranslate"><span class="pre">rbenv</span> <span class="pre">rehash</span></code> to update the installed shims</p> <dl class="simple"> <dt>runas</dt>
<dd>
<p>The user under which to run rbenv. If not specified, then rbenv will be run as the user under which Salt is running.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' rbenv.rehash</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.rbenv.uninstall_ruby"> salt.modules.rbenv.uninstall_ruby(ruby, runas=None)</h3> <dd>
<p>Uninstall a ruby implementation.</p> <dl class="simple"> <dt>ruby</dt>
<dd>
<p>The version of ruby to uninstall. Should match one of the versions listed by <a class="reference internal" href="#salt.modules.rbenv.versions" title="salt.modules.rbenv.versions"><code class="xref py py-func docutils literal notranslate"><span class="pre">rbenv.versions</span></code></a>.</p> </dd> <dt>runas</dt>
<dd>
<p>The user under which to run rbenv. If not specified, then rbenv will be run as the user under which Salt is running.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' rbenv.uninstall_ruby 2.0.0-p0</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.rbenv.update"> salt.modules.rbenv.update(runas=None, path=None)</h3> <dd>
<p>Updates the current versions of rbenv and ruby-build</p> <dl class="simple"> <dt>runas</dt>
<dd>
<p>The user under which to run rbenv. If not specified, then rbenv will be run as the user under which Salt is running.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' rbenv.update</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.rbenv.versions"> salt.modules.rbenv.versions(runas=None)</h3> <dd>
<p>List the installed versions of ruby</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' rbenv.versions</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.rbenv.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.rbenv.html</a>
  </p>
</div>
