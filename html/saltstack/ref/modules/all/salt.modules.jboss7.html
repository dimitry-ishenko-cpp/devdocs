<h1>salt.modules.jboss7</h1> <p>Module for managing JBoss AS 7 through the CLI interface.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.5.0.</span></p> </div> <dl class="simple"> <dt>In order to run each function, jboss_config dictionary with the following properties must be passed:</dt>
<dd>
<ul class="simple"> <li><p>cli_path: the path to jboss-cli script, for example: '/opt/jboss/jboss-7.0/bin/jboss-cli.sh'</p></li> <li><p>controller: the IP address and port of controller, for example: 10.11.12.13:9999</p></li> <li><p>cli_user: username to connect to jboss administration console if necessary</p></li> <li><p>cli_password: password to connect to jboss administration console if necessary</p></li> </ul> </dd> </dl> <p>Example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">jboss_config:
   cli_path: '/opt/jboss/jboss-7.0/bin/jboss-cli.sh'
   controller: 10.11.12.13:9999
   cli_user: 'jbossadm'
   cli_password: 'jbossadm'</pre> <dl class="py function"> <h3 id="salt.modules.jboss7.create_datasource"> salt.modules.jboss7.create_datasource(jboss_config, name, datasource_properties, profile=None)</h3> <dd>
<p>Create datasource in running jboss instance</p> <dl class="simple"> <dt>jboss_config</dt>
<dd>
<p>Configuration dictionary with properties specified above.</p> </dd> <dt>name</dt>
<dd>
<p>Datasource name</p> </dd> <dt>datasource_properties</dt>
<dd>
<dl class="simple"> <dt>A dictionary of datasource properties to be created:</dt>
<dd>
<ul class="simple"> <li><p>driver-name: mysql</p></li> <li><p>connection-url: '<a class="reference external" href="jdbc:mysql://localhost:3306/sampleDatabase.html">jdbc:mysql://localhost:3306/sampleDatabase</a>'</p></li> <li><p>jndi-name: 'java:jboss/datasources/sampleDS'</p></li> <li><p>user-name: sampleuser</p></li> <li><p>password: secret</p></li> <li><p>min-pool-size: 3</p></li> <li><p>use-java-context: True</p></li> </ul> </dd> </dl> </dd> <dt>profile</dt>
<dd>
<p>The profile name (JBoss domain mode only)</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' jboss7.create_datasource '{"cli_path": "integration.modules.sysmod.SysModuleTest.test_valid_docs", "controller": "10.11.12.13:9999", "cli_user": "jbossadm", "cli_password": "jbossadm"}' 'my_datasource' '{"driver-name": "mysql", "connection-url": "jdbc:mysql://localhost:3306/sampleDatabase", "jndi-name": "java:jboss/datasources/sampleDS", "user-name": "sampleuser", "password": "secret", "min-pool-size": 3, "use-java-context": True}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.jboss7.create_simple_binding"> salt.modules.jboss7.create_simple_binding(jboss_config, binding_name, value, profile=None)</h3> <dd>
<p>Create a simple jndi binding in the running jboss instance</p> <dl class="simple"> <dt>jboss_config</dt>
<dd>
<p>Configuration dictionary with properties specified above.</p> </dd> <dt>binding_name</dt>
<dd>
<p>Binding name to be created</p> </dd> <dt>value</dt>
<dd>
<p>Binding value</p> </dd> <dt>profile</dt>
<dd>
<p>The profile name (JBoss domain mode only)</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' jboss7.create_simple_binding \
        '{"cli_path": "integration.modules.sysmod.SysModuleTest.test_valid_docs", \
        "controller": "10.11.12.13:9999", "cli_user": "jbossadm", "cli_password": "jbossadm"}' \
        my_binding_name my_binding_value</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.jboss7.deploy"> salt.modules.jboss7.deploy(jboss_config, source_file)</h3> <dd>
<p>Deploy the application on the jboss instance from the local file system where minion is running.</p> <dl class="simple"> <dt>jboss_config</dt>
<dd>
<p>Configuration dictionary with properties specified above.</p> </dd> <dt>source_file</dt>
<dd>
<p>Source file to deploy from</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' jboss7.deploy '{"cli_path": "integration.modules.sysmod.SysModuleTest.test_valid_docs", "controller": "10.11.12.13:9999", "cli_user": "jbossadm", "cli_password": "jbossadm"}' /opt/deploy_files/my_deploy</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.jboss7.list_deployments"> salt.modules.jboss7.list_deployments(jboss_config)</h3> <dd>
<p>List all deployments on the jboss instance</p> <dl> <dt>jboss_config</dt>
<dd>
<blockquote> <div>
<p>Configuration dictionary with properties specified above.</p> </div>
</blockquote> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' jboss7.list_deployments '{"cli_path": "integration.modules.sysmod.SysModuleTest.test_valid_docs", "controller": "10.11.12.13:9999", "cli_user": "jbossadm", "cli_password": "jbossadm"}'</pre> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.jboss7.read_datasource"> salt.modules.jboss7.read_datasource(jboss_config, name, profile=None)</h3> <dd>
<p>Read datasource properties in the running jboss instance.</p> <dl class="simple"> <dt>jboss_config</dt>
<dd>
<p>Configuration dictionary with properties specified above.</p> </dd> <dt>name</dt>
<dd>
<p>Datasource name</p> </dd> <dt>profile</dt>
<dd>
<p>Profile name (JBoss domain mode only)</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' jboss7.read_datasource '{"cli_path": "integration.modules.sysmod.SysModuleTest.test_valid_docs", "controller": "10.11.12.13:9999", "cli_user": "jbossadm", "cli_password": "jbossadm"}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.jboss7.read_simple_binding"> salt.modules.jboss7.read_simple_binding(jboss_config, binding_name, profile=None)</h3> <dd>
<p>Read jndi binding in the running jboss instance</p> <dl class="simple"> <dt>jboss_config</dt>
<dd>
<p>Configuration dictionary with properties specified above.</p> </dd> <dt>binding_name</dt>
<dd>
<p>Binding name to be created</p> </dd> <dt>profile</dt>
<dd>
<p>The profile name (JBoss domain mode only)</p> </dd> </dl> <p>CLI Example:</p> <blockquote> <div>
 <p>salt '*' jboss7.read_simple_binding '{"cli_path": "integration.modules.sysmod.SysModuleTest.test_valid_docs", "controller": "10.11.12.13:9999", "cli_user": "jbossadm", "cli_password": "jbossadm"}' my_binding_name</p> </div>
</blockquote> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.jboss7.reload_"> salt.modules.jboss7.reload_(jboss_config, host=None)</h3> <dd>
<p>Reload running jboss instance</p> <dl class="simple"> <dt>jboss_config</dt>
<dd>
<p>Configuration dictionary with properties specified above.</p> </dd> <dt>host</dt>
<dd>
<p>The name of the host. JBoss domain mode only - and required if running in domain mode. The host name is the "name" attribute of the "host" element in host.xml</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' jboss7.reload '{"cli_path": "integration.modules.sysmod.SysModuleTest.test_valid_docs", "controller": "10.11.12.13:9999", "cli_user": "jbossadm", "cli_password": "jbossadm"}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.jboss7.remove_datasource"> salt.modules.jboss7.remove_datasource(jboss_config, name, profile=None)</h3> <dd>
<p>Remove an existing datasource from the running jboss instance.</p> <dl class="simple"> <dt>jboss_config</dt>
<dd>
<p>Configuration dictionary with properties specified above.</p> </dd> <dt>name</dt>
<dd>
<p>Datasource name</p> </dd> <dt>profile</dt>
<dd>
<p>The profile (JBoss domain mode only)</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' jboss7.remove_datasource '{"cli_path": "integration.modules.sysmod.SysModuleTest.test_valid_docs", "controller": "10.11.12.13:9999", "cli_user": "jbossadm", "cli_password": "jbossadm"}' my_datasource_name</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.jboss7.status"> salt.modules.jboss7.status(jboss_config, host=None, server_config=None)</h3> <dd>
<p>Get status of running jboss instance.</p> <dl class="simple"> <dt>jboss_config</dt>
<dd>
<p>Configuration dictionary with properties specified above.</p> </dd> <dt>host</dt>
<dd>
<p>The name of the host. JBoss domain mode only - and required if running in domain mode. The host name is the "name" attribute of the "host" element in host.xml</p> </dd> <dt>server_config</dt>
<dd>
<p>The name of the Server Configuration. JBoss Domain mode only - and required if running in domain mode.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' jboss7.status '{"cli_path": "integration.modules.sysmod.SysModuleTest.test_valid_docs", "controller": "10.11.12.13:9999", "cli_user": "jbossadm", "cli_password": "jbossadm"}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.jboss7.stop_server"> salt.modules.jboss7.stop_server(jboss_config, host=None)</h3> <dd>
<p>Stop running jboss instance</p> <dl class="simple"> <dt>jboss_config</dt>
<dd>
<p>Configuration dictionary with properties specified above.</p> </dd> <dt>host</dt>
<dd>
<p>The name of the host. JBoss domain mode only - and required if running in domain mode. The host name is the "name" attribute of the "host" element in host.xml</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' jboss7.stop_server '{"cli_path": "integration.modules.sysmod.SysModuleTest.test_valid_docs", "controller": "10.11.12.13:9999", "cli_user": "jbossadm", "cli_password": "jbossadm"}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.jboss7.undeploy"> salt.modules.jboss7.undeploy(jboss_config, deployment)</h3> <dd>
<p>Undeploy the application from jboss instance</p> <dl class="simple"> <dt>jboss_config</dt>
<dd>
<p>Configuration dictionary with properties specified above.</p> </dd> <dt>deployment</dt>
<dd>
<p>Deployment name to undeploy</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' jboss7.undeploy '{"cli_path": "integration.modules.sysmod.SysModuleTest.test_valid_docs", "controller": "10.11.12.13:9999", "cli_user": "jbossadm", "cli_password": "jbossadm"}' my_deployment</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.jboss7.update_datasource"> salt.modules.jboss7.update_datasource(jboss_config, name, new_properties, profile=None)</h3> <dd>
<p>Update an existing datasource in running jboss instance. If the property doesn't exist if will be created, if it does, it will be updated with the new value</p> <dl class="simple"> <dt>jboss_config</dt>
<dd>
<p>Configuration dictionary with properties specified above.</p> </dd> <dt>name</dt>
<dd>
<p>Datasource name</p> </dd> <dt>new_properties</dt>
<dd>
<dl class="simple"> <dt>A dictionary of datasource properties to be updated. For example:</dt>
<dd>
<ul class="simple"> <li><p>driver-name: mysql</p></li> <li><p>connection-url: '<a class="reference external" href="jdbc:mysql://localhost:3306/sampleDatabase.html">jdbc:mysql://localhost:3306/sampleDatabase</a>'</p></li> <li><p>jndi-name: 'java:jboss/datasources/sampleDS'</p></li> <li><p>user-name: sampleuser</p></li> <li><p>password: secret</p></li> <li><p>min-pool-size: 3</p></li> <li><p>use-java-context: True</p></li> </ul> </dd> </dl> </dd> <dt>profile</dt>
<dd>
<p>The profile name (JBoss domain mode only)</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' jboss7.update_datasource '{"cli_path": "integration.modules.sysmod.SysModuleTest.test_valid_docs", "controller": "10.11.12.13:9999", "cli_user": "jbossadm", "cli_password": "jbossadm"}' 'my_datasource' '{"driver-name": "mysql", "connection-url": "jdbc:mysql://localhost:3306/sampleDatabase", "jndi-name": "java:jboss/datasources/sampleDS", "user-name": "sampleuser", "password": "secret", "min-pool-size": 3, "use-java-context": True}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.jboss7.update_simple_binding"> salt.modules.jboss7.update_simple_binding(jboss_config, binding_name, value, profile=None)</h3> <dd>
<p>Update the simple jndi binding in the running jboss instance</p> <dl class="simple"> <dt>jboss_config</dt>
<dd>
<p>Configuration dictionary with properties specified above.</p> </dd> <dt>binding_name</dt>
<dd>
<p>Binding name to be updated</p> </dd> <dt>value</dt>
<dd>
<p>New binding value</p> </dd> <dt>profile</dt>
<dd>
<p>The profile name (JBoss domain mode only)</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt '*' jboss7.update_simple_binding '{"cli_path": "integration.modules.sysmod.SysModuleTest.test_valid_docs", "controller": "10.11.12.13:9999", "cli_user": "jbossadm", "cli_password": "jbossadm"}' my_binding_name my_binding_value</pre> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.jboss7.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.jboss7.html</a>
  </p>
</div>
