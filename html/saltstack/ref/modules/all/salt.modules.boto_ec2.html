<h1>salt.modules.boto_ec2</h1> <p>Connection module for Amazon EC2</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2015.8.0.</span></p> </div> <dl class="field-list simple"> <dt class="field-odd">configuration</dt> <dd class="field-odd">
<p>This module accepts explicit EC2 credentials but can also utilize IAM roles assigned to the instance through Instance Profiles. Dynamic credentials are then automatically obtained from AWS API and no further configuration is necessary. More Information available <a class="reference external" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html">here</a>.</p> </dd> </dl> <p>If IAM roles are not used you need to specify them either in a pillar or in the minion's config file:</p> <pre class="highlight-yaml notranslate" data-language="yaml">ec2.keyid: GKTADJGHEIQSXMKKRBJ08H
ec2.key: askdjghsdfjkghWupUjasdflkdfklgjsdfjajkghs</pre> <p>A region may also be specified in the configuration:</p> <pre class="highlight-yaml notranslate" data-language="yaml">ec2.region: us-east-1</pre> <p>If a region is not specified, the default is us-east-1.</p> <p>It's also possible to specify key, keyid, and region via a profile, either as a passed in dict, or as a string to pull from pillars or minion config:</p> <pre class="highlight-yaml notranslate" data-language="yaml">myprofile:
  keyid: GKTADJGHEIQSXMKKRBJ08H
  key: askdjghsdfjkghWupUjasdflkdfklgjsdfjajkghs
  region: us-east-1</pre> <dl class="field-list simple"> <dt class="field-odd">depends</dt> <dd class="field-odd">
<p>boto</p> </dd> </dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.allocate_eip_address"> salt.modules.boto_ec2.allocate_eip_address(domain=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Allocate a new Elastic IP address and associate it with your account.</p> <dl class="simple"> <dt>domain</dt>
<dd>
<p>(string) Optional param - if set to exactly 'vpc', the address will be allocated to the VPC. The default simply maps the EIP to your account container.</p> </dd> <dt>returns</dt>
<dd>
<p>(dict) dict of 'interesting' information about the newly allocated EIP, with probably the most interesting keys being 'public_ip'; and 'allocation_id' iff 'domain=vpc' was passed.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_ec2.allocate_eip_address domain=vpc</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.assign_private_ip_addresses"> salt.modules.boto_ec2.assign_private_ip_addresses(network_interface_name=None, network_interface_id=None, private_ip_addresses=None, secondary_private_ip_address_count=None, allow_reassignment=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Assigns one or more secondary private IP addresses to a network interface.</p> <dl class="simple"> <dt>network_interface_id</dt>
<dd>
<p>(string) - ID of the network interface to associate the IP with (exclusive with 'network_interface_name')</p> </dd> <dt>network_interface_name</dt>
<dd>
<p>(string) - Name of the network interface to associate the IP with (exclusive with 'network_interface_id')</p> </dd> <dt>private_ip_addresses</dt>
<dd>
<p>(list) - Assigns the specified IP addresses as secondary IP addresses to the network interface (exclusive with 'secondary_private_ip_address_count')</p> </dd> <dt>secondary_private_ip_address_count</dt>
<dd>
<p>(int) - The number of secondary IP addresses to assign to the network interface. (exclusive with 'private_ip_addresses')</p> </dd> <dt>allow_reassociation</dt>
<dd>
<p>(bool) – Allow a currently associated EIP to be re-associated with the new instance or interface.</p> </dd> <dt>returns</dt>
<dd>
<p>(bool) - True on success, False on failure.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.assign_private_ip_addresses network_interface_name=my_eni private_ip_addresses=private_ip
salt myminion boto_ec2.assign_private_ip_addresses network_interface_name=my_eni secondary_private_ip_address_count=2</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2017.7.0.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.associate_eip_address"> salt.modules.boto_ec2.associate_eip_address(instance_id=None, instance_name=None, public_ip=None, allocation_id=None, network_interface_id=None, network_interface_name=None, private_ip_address=None, allow_reassociation=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Associate an Elastic IP address with a currently running instance or a network interface. This requires exactly one of either 'public_ip' or 'allocation_id', depending on whether you’re associating a VPC address or a plain EC2 address.</p> <dl class="simple"> <dt>instance_id</dt>
<dd>
<p>(string) – ID of the instance to associate with (exclusive with 'instance_name')</p> </dd> <dt>instance_name</dt>
<dd>
<p>(string) – Name tag of the instance to associate with (exclusive with 'instance_id')</p> </dd> <dt>public_ip</dt>
<dd>
<p>(string) – Public IP address, for standard EC2 based allocations.</p> </dd> <dt>allocation_id</dt>
<dd>
<p>(string) – Allocation ID for a VPC-based EIP.</p> </dd> <dt>network_interface_id</dt>
<dd>
<p>(string) - ID of the network interface to associate the EIP with</p> </dd> <dt>network_interface_name</dt>
<dd>
<p>(string) - Name of the network interface to associate the EIP with</p> </dd> <dt>private_ip_address</dt>
<dd>
<p>(string) – The primary or secondary private IP address to associate with the Elastic IP address.</p> </dd> <dt>allow_reassociation</dt>
<dd>
<p>(bool) – Allow a currently associated EIP to be re-associated with the new instance or interface.</p> </dd> <dt>returns</dt>
<dd>
<p>(bool) - True on success, False on failure.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.associate_eip_address instance_name=bubba.ho.tep allocation_id=eipalloc-ef382c8a</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.attach_network_interface"> salt.modules.boto_ec2.attach_network_interface(device_index, name=None, network_interface_id=None, instance_name=None, instance_id=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Attach an Elastic Network Interface.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.attach_network_interface my_eni instance_name=salt-master device_index=0</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.attach_volume"> salt.modules.boto_ec2.attach_volume(volume_id, instance_id, device, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Attach an EBS volume to an EC2 instance. ..</p> <dl class="simple"> <dt>volume_id</dt>
<dd>
<p>(string) – The ID of the EBS volume to be attached.</p> </dd> <dt>instance_id</dt>
<dd>
<p>(string) – The ID of the EC2 instance to attach the volume to.</p> </dd> <dt>device</dt>
<dd>
<p>(string) – The device on the instance through which the volume is exposed (e.g. /dev/sdh)</p> </dd> <dt>returns</dt>
<dd>
<p>(bool) - True on success, False on failure.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_ec2.attach_volume vol-12345678 i-87654321 /dev/sdh</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.create_image"> salt.modules.boto_ec2.create_image(ami_name, instance_id=None, instance_name=None, tags=None, region=None, key=None, keyid=None, profile=None, description=None, no_reboot=False, dry_run=False, filters=None)</h3> <dd>
<p>Given instance properties that define exactly one instance, create AMI and return AMI-id.</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.create_image ami_name instance_name=myinstance
salt myminion boto_ec2.create_image another_ami_name tags='{"mytag": "value"}' description='this is my ami'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.create_key"> salt.modules.boto_ec2.create_key(key_name, save_path, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Creates a key and saves it to a given path. Returns the private key.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.create_key mykey /root/</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.create_network_interface"> salt.modules.boto_ec2.create_network_interface(name, subnet_id=None, subnet_name=None, private_ip_address=None, description=None, groups=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Create an Elastic Network Interface.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.create_network_interface my_eni subnet-12345 description=my_eni groups=['my_group']</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.create_tags"> salt.modules.boto_ec2.create_tags(resource_ids, tags, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Create new metadata tags for the specified resource ids.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <dl class="simple"> <dt>resource_ids</dt>
<dd>
<p>(string) or (list) – List of resource IDs. A plain string will be converted to a list of one element.</p> </dd> <dt>tags</dt>
<dd>
<p>(dict) – Dictionary of name/value pairs. To create only a tag name, pass '' as the value.</p> </dd> <dt>returns</dt>
<dd>
<p>(bool) - True on success, False on failure.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_ec2.create_tags vol-12345678 '{"Name": "myVolume01"}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.create_volume"> salt.modules.boto_ec2.create_volume(zone_name, size=None, snapshot_id=None, volume_type=None, iops=None, encrypted=False, kms_key_id=None, wait_for_creation=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Create an EBS volume to an availability zone.</p> <dl class="simple"> <dt>zone_name</dt>
<dd>
<p>(string) – The Availability zone name of the EBS volume to be created.</p> </dd> <dt>size</dt>
<dd>
<dl class="simple"> <dt>(int) – The size of the new volume, in GiB. If you're creating the</dt>
<dd>
<p>volume from a snapshot and don't specify a volume size, the default is the snapshot size.</p> </dd> </dl> </dd> <dt>snapshot_id</dt>
<dd>
<p>(string) – The snapshot ID from which the new volume will be created.</p> </dd> <dt>volume_type</dt>
<dd>
<dl class="simple"> <dt>(string) - The type of the volume. Valid volume types for AWS can be found here:</dt>
<dd>
<p><a class="reference external" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSVolumeTypes.html</a></p> </dd> </dl> </dd> <dt>iops</dt>
<dd>
<p>(int) - The provisioned IOPS you want to associate with this volume.</p> </dd> <dt>encrypted</dt>
<dd>
<p>(bool) - Specifies whether the volume should be encrypted.</p> </dd> <dt>kms_key_id</dt>
<dd>
<dl class="simple"> <dt>(string) - If encrypted is True, this KMS Key ID may be specified to</dt>
<dd>
<p>encrypt volume with this key e.g.: arn:aws:kms:us-east-1:012345678910:key/abcd1234-a123-456a-a12b-a123b4cd56ef</p> </dd> </dl> </dd> <dt>wait_for_creation</dt>
<dd>
<p>(bool) - Whether or not to wait for volume creation to complete.</p> </dd> <dt>returns</dt>
<dd>
<p>(string) - created volume id on success, error message on failure.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_ec2.create_volume us-east-1a size=10
salt-call boto_ec2.create_volume us-east-1a snapshot_id=snap-0123abcd</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.delete_key"> salt.modules.boto_ec2.delete_key(key_name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Deletes a key. Always returns True</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.delete_key mykey</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.delete_network_interface"> salt.modules.boto_ec2.delete_network_interface(name=None, network_interface_id=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Create an Elastic Network Interface.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.create_network_interface my_eni subnet-12345 description=my_eni groups=['my_group']</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.delete_tags"> salt.modules.boto_ec2.delete_tags(resource_ids, tags, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Delete metadata tags for the specified resource ids.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <dl class="simple"> <dt>resource_ids</dt>
<dd>
<p>(string) or (list) – List of resource IDs. A plain string will be converted to a list of one element.</p> </dd> <dt>tags</dt>
<dd>
<dl class="simple"> <dt>(dict) or (list) – Either a dictionary containing name/value pairs or a list containing just tag names.</dt>
<dd>
<p>If you pass in a dictionary, the values must match the actual tag values or the tag will not be deleted. If you pass in a value of None for the tag value, all tags with that name will be deleted.</p> </dd> </dl> </dd> <dt>returns</dt>
<dd>
<p>(bool) - True on success, False on failure.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_ec2.delete_tags vol-12345678 '{"Name": "myVolume01"}'
salt-call boto_ec2.delete_tags vol-12345678 '["Name","MountPoint"]'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.delete_volume"> salt.modules.boto_ec2.delete_volume(volume_id, instance_id=None, device=None, force=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Detach an EBS volume from an EC2 instance.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <dl class="simple"> <dt>volume_id</dt>
<dd>
<p>(string) – The ID of the EBS volume to be deleted.</p> </dd> <dt>force</dt>
<dd>
<p>(bool) – Forces deletion even if the device has not yet been detached from its instance.</p> </dd> <dt>returns</dt>
<dd>
<p>(bool) - True on success, False on failure.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_ec2.delete_volume vol-12345678</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.detach_network_interface"> salt.modules.boto_ec2.detach_network_interface(name=None, network_interface_id=None, attachment_id=None, force=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Detach an Elastic Network Interface.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.detach_network_interface my_eni</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.detach_volume"> salt.modules.boto_ec2.detach_volume(volume_id, instance_id=None, device=None, force=False, wait_for_detachement=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Detach an EBS volume from an EC2 instance.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <dl class="simple"> <dt>volume_id</dt>
<dd>
<p>(string) – The ID of the EBS volume to be detached.</p> </dd> <dt>instance_id</dt>
<dd>
<p>(string) – The ID of the EC2 instance from which it will be detached.</p> </dd> <dt>device</dt>
<dd>
<p>(string) – The device on the instance through which the volume is exposted (e.g. /dev/sdh)</p> </dd> <dt>force</dt>
<dd>
<dl class="simple"> <dt>(bool) – Forces detachment if the previous detachment attempt did not occur cleanly.</dt>
<dd>
<p>This option can lead to data loss or a corrupted file system. Use this option only as a last resort to detach a volume from a failed instance. The instance will not have an opportunity to flush file system caches nor file system meta data. If you use this option, you must perform file system check and repair procedures.</p> </dd> </dl> </dd> <dt>wait_for_detachement</dt>
<dd>
<p>(bool) - Whether or not to wait for volume detachement to complete.</p> </dd> <dt>returns</dt>
<dd>
<p>(bool) - True on success, False on failure.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_ec2.detach_volume vol-12345678 i-87654321</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.disassociate_eip_address"> salt.modules.boto_ec2.disassociate_eip_address(public_ip=None, association_id=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Disassociate an Elastic IP address from a currently running instance. This requires exactly one of either 'association_id' or 'public_ip', depending on whether you’re dealing with a VPC or EC2 Classic address.</p> <dl class="simple"> <dt>public_ip</dt>
<dd>
<p>(string) – Public IP address, for EC2 Classic allocations.</p> </dd> <dt>association_id</dt>
<dd>
<p>(string) – Association ID for a VPC-bound EIP.</p> </dd> <dt>returns</dt>
<dd>
<p>(bool) - True on success, False on failure.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.disassociate_eip_address association_id=eipassoc-e3ba2d16</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.exists"> salt.modules.boto_ec2.exists(instance_id=None, name=None, tags=None, region=None, key=None, keyid=None, profile=None, in_states=None, filters=None)</h3> <dd>
<p>Given an instance id, check to see if the given instance id exists.</p> <p>Returns True if the given instance with the given id, name, or tags exists; otherwise, False is returned.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.exists myinstance</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.find_images"> salt.modules.boto_ec2.find_images(ami_name=None, executable_by=None, owners=None, image_ids=None, tags=None, region=None, key=None, keyid=None, profile=None, return_objs=False)</h3> <dd>
<p>Given image properties, find and return matching AMI ids</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.find_images tags='{"mytag": "value"}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.find_instances"> salt.modules.boto_ec2.find_instances(instance_id=None, name=None, tags=None, region=None, key=None, keyid=None, profile=None, return_objs=False, in_states=None, filters=None)</h3> <dd>
<p>Given instance properties, find and return matching instance ids</p> <p>CLI Examples:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.find_instances # Lists all instances
salt myminion boto_ec2.find_instances name=myinstance
salt myminion boto_ec2.find_instances tags='{"mytag": "value"}'
salt myminion boto_ec2.find_instances filters='{"vpc-id": "vpc-12345678"}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.get_all_eip_addresses"> salt.modules.boto_ec2.get_all_eip_addresses(addresses=None, allocation_ids=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Get public addresses of some, or all EIPs associated with the current account.</p> <dl class="simple"> <dt>addresses</dt>
<dd>
<p>(list) - Optional list of addresses. If provided, only the addresses associated with those in the list will be returned.</p> </dd> <dt>allocation_ids</dt>
<dd>
<p>(list) - Optional list of allocation IDs. If provided, only the addresses associated with the given allocation IDs will be returned.</p> </dd> <dt>returns</dt>
<dd>
<p>(list) - A list of the requested EIP addresses</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_ec2.get_all_eip_addresses</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.get_all_tags"> salt.modules.boto_ec2.get_all_tags(filters=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Describe all tags matching the filter criteria, or all tags in the account otherwise.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2018.3.0.</span></p> </div> <dl class="simple"> <dt>filters</dt>
<dd>
<p>(dict) - Additional constraints on which volumes to return. Note that valid filters vary extensively depending on the resource type. When in doubt, search first without a filter and then use the returned data to help fine-tune your search. You can generally garner the resource type from its ID (e.g. <cite>vol-XXXXX</cite> is a volume, <cite>i-XXXXX</cite> is an instance, etc.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_ec2.get_all_tags '{"tag:Name": myInstanceNameTag, resource-type: instance}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.get_all_volumes"> salt.modules.boto_ec2.get_all_volumes(volume_ids=None, filters=None, return_objs=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Get a list of all EBS volumes, optionally filtered by provided 'filters' param</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <dl class="simple"> <dt>volume_ids</dt>
<dd>
<p>(list) - Optional list of volume_ids. If provided, only the volumes associated with those in the list will be returned.</p> </dd> <dt>filters</dt>
<dd>
<p>(dict) - Additional constraints on which volumes to return. Valid filters are:</p> </dd> </dl> <ul class="simple"> <li><p>attachment.attach-time - The time stamp when the attachment initiated.</p></li> <li><p>attachment.delete-on-termination - Whether the volume is deleted on instance termination.</p></li> <li><p>attachment.device - The device name that is exposed to the instance (for example, /dev/sda1).</p></li> <li><p>attachment.instance-id - The ID of the instance the volume is attached to.</p></li> <li><p>attachment.status - The attachment state (attaching | attached | detaching | detached).</p></li> <li><p>availability-zone - The Availability Zone in which the volume was created.</p></li> <li><p>create-time - The time stamp when the volume was created.</p></li> <li><p>encrypted - The encryption status of the volume.</p></li> <li><p>size - The size of the volume, in GiB.</p></li> <li><p>snapshot-id - The snapshot from which the volume was created.</p></li> <li><p>status - The status of the volume (creating | available | in-use | deleting | deleted | error).</p></li> <li><p><a class="reference external" href="tag:key=value.html">tag:key=value</a> - The key/value combination of a tag assigned to the resource.</p></li> <li><p>volume-id - The volume ID.</p></li> <li><p>volume-type - The Amazon EBS volume type. This can be <code class="docutils literal notranslate"><span class="pre">gp2</span></code> for General Purpose SSD, <code class="docutils literal notranslate"><span class="pre">io1</span></code> for Provisioned IOPS SSD, <code class="docutils literal notranslate"><span class="pre">st1</span></code> for Throughput Optimized HDD, <code class="docutils literal notranslate"><span class="pre">sc1</span></code> for Cold HDD, or <code class="docutils literal notranslate"><span class="pre">standard</span></code> for Magnetic volumes.</p></li> </ul> <dl class="simple"> <dt>return_objs</dt>
<dd>
<p>(bool) - Changes the return type from list of volume IDs to list of boto.ec2.volume.Volume objects</p> </dd> <dt>returns</dt>
<dd>
<p>(list) - A list of the requested values: Either the volume IDs or, if return_objs is <code class="docutils literal notranslate"><span class="pre">True</span></code>, boto.ec2.volume.Volume objects.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_ec2.get_all_volumes filters='{"tag:Name": "myVolume01"}'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.get_attribute"> salt.modules.boto_ec2.get_attribute(attribute, instance_name=None, instance_id=None, region=None, key=None, keyid=None, profile=None, filters=None)</h3> <dd>
<p>Get an EC2 instance attribute.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.get_attribute sourceDestCheck instance_name=my_instance</pre> <dl class="simple"> <dt>Available attributes:</dt>
<dd>
<ul class="simple"> <li><p>instanceType</p></li> <li><p>kernel</p></li> <li><p>ramdisk</p></li> <li><p>userData</p></li> <li><p>disableApiTermination</p></li> <li><p>instanceInitiatedShutdownBehavior</p></li> <li><p>rootDeviceName</p></li> <li><p>blockDeviceMapping</p></li> <li><p>productCodes</p></li> <li><p>sourceDestCheck</p></li> <li><p>groupSet</p></li> <li><p>ebsOptimized</p></li> <li><p>sriovNetSupport</p></li> </ul> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.get_eip_address_info"> salt.modules.boto_ec2.get_eip_address_info(addresses=None, allocation_ids=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Get 'interesting' info about some, or all EIPs associated with the current account.</p> <dl class="simple"> <dt>addresses</dt>
<dd>
<p>(list) - Optional list of addresses. If provided, only the addresses associated with those in the list will be returned.</p> </dd> <dt>allocation_ids</dt>
<dd>
<p>(list) - Optional list of allocation IDs. If provided, only the addresses associated with the given allocation IDs will be returned.</p> </dd> <dt>returns</dt>
<dd>
<p>(list of dicts) - A list of dicts, each containing the info for one of the requested EIPs.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_ec2.get_eip_address_info addresses=52.4.2.15</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.get_id"> salt.modules.boto_ec2.get_id(name=None, tags=None, region=None, key=None, keyid=None, profile=None, in_states=None, filters=None)</h3> <dd>
<p>Given instance properties, return the instance id if it exists.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.get_id myinstance</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.get_key"> salt.modules.boto_ec2.get_key(key_name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Check to see if a key exists. Returns fingerprint and name if it does and False if it doesn't</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.get_key mykey</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.get_keys"> salt.modules.boto_ec2.get_keys(keynames=None, filters=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Gets all keys or filters them by name and returns a list. keynames (list):: A list of the names of keypairs to retrieve. If not provided, all key pairs will be returned. filters (dict) :: Optional filters that can be used to limit the results returned. Filters are provided in the form of a dictionary consisting of filter names as the key and filter values as the value. The set of allowable filter names/values is dependent on the request being performed. Check the EC2 API guide for details.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.get_keys</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.get_network_interface"> salt.modules.boto_ec2.get_network_interface(name=None, network_interface_id=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Get an Elastic Network Interface.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.get_network_interface name=my_eni</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.get_network_interface_id"> salt.modules.boto_ec2.get_network_interface_id(name, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Get an Elastic Network Interface id from its name tag.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.get_network_interface_id name=my_eni</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.get_tags"> salt.modules.boto_ec2.get_tags(instance_id=None, keyid=None, key=None, profile=None, region=None)</h3> <dd>
<p>Given an instance_id, return a list of tags associated with that instance.</p> <dl class="simple"> <dt>returns</dt>
<dd>
<p>(list) - list of tags as key/value pairs</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.get_tags instance_id</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.get_unassociated_eip_address"> salt.modules.boto_ec2.get_unassociated_eip_address(domain='standard', region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Return the first unassociated EIP</p> <dl class="simple"> <dt>domain</dt>
<dd>
<p>Indicates whether the address is an EC2 address or a VPC address (standard|vpc).</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt-call boto_ec2.get_unassociated_eip_address</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.get_zones"> salt.modules.boto_ec2.get_zones(region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Get a list of AZs for the configured region.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.get_zones</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.import_key"> salt.modules.boto_ec2.import_key(key_name, public_key_material, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Imports the public key from an RSA key pair that you created with a third-party tool. Supported formats: - OpenSSH public key format (e.g., the format in ~/.ssh/authorized_keys) - Base64 encoded DER format - SSH public key file format as specified in RFC4716 - DSA keys are not supported. Make sure your key generator is set up to create RSA keys. Supported lengths: 1024, 2048, and 4096.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.import mykey publickey</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.modify_network_interface_attribute"> salt.modules.boto_ec2.modify_network_interface_attribute(name=None, network_interface_id=None, attr=None, value=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Modify an attribute of an Elastic Network Interface.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.modify_network_interface_attribute my_eni attr=description value='example description'</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.release_eip_address"> salt.modules.boto_ec2.release_eip_address(public_ip=None, allocation_id=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Free an Elastic IP address. Pass either a public IP address to release an EC2 Classic EIP, or an AllocationId to release a VPC EIP.</p> <dl class="simple"> <dt>public_ip</dt>
<dd>
<p>(string) - The public IP address - for EC2 elastic IPs.</p> </dd> <dt>allocation_id</dt>
<dd>
<p>(string) - The Allocation ID - for VPC elastic IPs.</p> </dd> <dt>returns</dt>
<dd>
<p>(bool) - True on success, False on failure</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.release_eip_address allocation_id=eipalloc-ef382c8a</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2016.3.0.</span></p> </div> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.run"> salt.modules.boto_ec2.run(image_id, name=None, tags=None, key_name=None, security_groups=None, user_data=None, instance_type='m1.small', placement=None, kernel_id=None, ramdisk_id=None, monitoring_enabled=None, vpc_id=None, vpc_name=None, subnet_id=None, subnet_name=None, private_ip_address=None, block_device_map=None, disable_api_termination=None, instance_initiated_shutdown_behavior=None, placement_group=None, client_token=None, security_group_ids=None, security_group_names=None, additional_info=None, tenancy=None, instance_profile_arn=None, instance_profile_name=None, ebs_optimized=None, network_interface_id=None, network_interface_name=None, region=None, key=None, keyid=None, profile=None, network_interfaces=None)</h3> <dd>
<p>Create and start an EC2 instance.</p> <p>Returns True if the instance was created; otherwise False.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.run ami-b80c2b87 name=myinstance</pre> <dl> <dt>image_id</dt>
<dd>
<p>(string) – The ID of the image to run.</p> </dd> <dt>name</dt>
<dd>
<p>(string) - The name of the instance.</p> </dd> <dt>tags</dt>
<dd>
<p>(dict of key: value pairs) - tags to apply to the instance.</p> </dd> <dt>key_name</dt>
<dd>
<p>(string) – The name of the key pair with which to launch instances.</p> </dd> <dt>security_groups</dt>
<dd>
<p>(list of strings) – The names of the EC2 classic security groups with which to associate instances</p> </dd> <dt>user_data</dt>
<dd>
<p>(string) – The Base64-encoded MIME user data to be made available to the instance(s) in this reservation.</p> </dd> <dt>instance_type</dt>
<dd>
<p>(string) – The type of instance to run. Note that some image types (e.g. hvm) only run on some instance types.</p> </dd> <dt>placement</dt>
<dd>
<p>(string) – The Availability Zone to launch the instance into.</p> </dd> <dt>kernel_id</dt>
<dd>
<p>(string) – The ID of the kernel with which to launch the instances.</p> </dd> <dt>ramdisk_id</dt>
<dd>
<p>(string) – The ID of the RAM disk with which to launch the instances.</p> </dd> <dt>monitoring_enabled</dt>
<dd>
<p>(bool) – Enable detailed CloudWatch monitoring on the instance.</p> </dd> <dt>vpc_id</dt>
<dd>
<p>(string) - ID of a VPC to bind the instance to. Exclusive with vpc_name.</p> </dd> <dt>vpc_name</dt>
<dd>
<p>(string) - Name of a VPC to bind the instance to. Exclusive with vpc_id.</p> </dd> <dt>subnet_id</dt>
<dd>
<p>(string) – The subnet ID within which to launch the instances for VPC.</p> </dd> <dt>subnet_name</dt>
<dd>
<p>(string) – The name of a subnet within which to launch the instances for VPC.</p> </dd> <dt>private_ip_address</dt>
<dd>
<p>(string) – If you’re using VPC, you can optionally use this parameter to assign the instance a specific available IP address from the subnet (e.g. 10.0.0.25).</p> </dd> <dt>block_device_map</dt>
<dd>
<p>(boto.ec2.blockdevicemapping.BlockDeviceMapping) – A BlockDeviceMapping data structure describing the EBS volumes associated with the Image. (string) - A string representation of a BlockDeviceMapping structure (dict) - A dict describing a BlockDeviceMapping structure</p> <p>YAML example:</p> <pre class="highlight-yaml notranslate" data-language="yaml">device-maps:
    /dev/sdb:
        ephemeral_name: ephemeral0
    /dev/sdc:
        ephemeral_name: ephemeral1
    /dev/sdd:
        ephemeral_name: ephemeral2
    /dev/sde:
        ephemeral_name: ephemeral3
    /dev/sdf:
        size: 20
        volume_type: gp2</pre> </dd> <dt>disable_api_termination</dt>
<dd>
<p>(bool) – If True, the instances will be locked and will not be able to be terminated via the API.</p> </dd> <dt>instance_initiated_shutdown_behavior</dt>
<dd>
<p>(string) – Specifies whether the instance stops or terminates on instance-initiated shutdown. Valid values are: stop, terminate</p> </dd> <dt>placement_group</dt>
<dd>
<p>(string) – If specified, this is the name of the placement group in which the instance(s) will be launched.</p> </dd> <dt>client_token</dt>
<dd>
<p>(string) – Unique, case-sensitive identifier you provide to ensure idempotency of the request. Maximum 64 ASCII characters.</p> </dd> <dt>security_group_ids</dt>
<dd>
<p>(list of strings) – The ID(s) of the VPC security groups with which to associate instances.</p> </dd> <dt>security_group_names</dt>
<dd>
<p>(list of strings) – The name(s) of the VPC security groups with which to associate instances.</p> </dd> <dt>additional_info</dt>
<dd>
<p>(string) – Specifies additional information to make available to the instance(s).</p> </dd> <dt>tenancy</dt>
<dd>
<p>(string) – The tenancy of the instance you want to launch. An instance with a tenancy of ‘dedicated’ runs on single-tenant hardware and can only be launched into a VPC. Valid values are:”default” or “dedicated”. NOTE: To use dedicated tenancy you MUST specify a VPC subnet-ID as well.</p> </dd> <dt>instance_profile_arn</dt>
<dd>
<p>(string) – The Amazon resource name (ARN) of the IAM Instance Profile (IIP) to associate with the instances.</p> </dd> <dt>instance_profile_name</dt>
<dd>
<p>(string) – The name of the IAM Instance Profile (IIP) to associate with the instances.</p> </dd> <dt>ebs_optimized</dt>
<dd>
<p>(bool) – Whether the instance is optimized for EBS I/O. This optimization provides dedicated throughput to Amazon EBS and an optimized configuration stack to provide optimal EBS I/O performance. This optimization isn’t available with all instance types.</p> </dd> <dt>network_interfaces</dt>
<dd>
<p>(boto.ec2.networkinterface.NetworkInterfaceCollection) – A NetworkInterfaceCollection data structure containing the ENI specifications for the instance.</p> </dd> <dt>network_interface_id</dt>
<dd>
<p>(string) - ID of the network interface to attach to the instance</p> </dd> <dt>network_interface_name</dt>
<dd>
<p>(string) - Name of the network interface to attach to the instance</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.set_attribute"> salt.modules.boto_ec2.set_attribute(attribute, attribute_value, instance_name=None, instance_id=None, region=None, key=None, keyid=None, profile=None, filters=None)</h3> <dd>
<p>Set an EC2 instance attribute. Returns whether the operation succeeded or not.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.set_attribute sourceDestCheck False instance_name=my_instance</pre> <dl class="simple"> <dt>Available attributes:</dt>
<dd>
<ul class="simple"> <li><p>instanceType</p></li> <li><p>kernel</p></li> <li><p>ramdisk</p></li> <li><p>userData</p></li> <li><p>disableApiTermination</p></li> <li><p>instanceInitiatedShutdownBehavior</p></li> <li><p>rootDeviceName</p></li> <li><p>blockDeviceMapping</p></li> <li><p>productCodes</p></li> <li><p>sourceDestCheck</p></li> <li><p>groupSet</p></li> <li><p>ebsOptimized</p></li> <li><p>sriovNetSupport</p></li> </ul> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.set_volumes_tags"> salt.modules.boto_ec2.set_volumes_tags(tag_maps, authoritative=False, dry_run=False, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<div class="versionadded"> <p><span class="versionmodified added">New in version 2016.11.0.</span></p> </div> <dl class="simple"> <dt>tag_maps (list)</dt>
<dd>
<p>List of dicts of filters and tags, where 'filters' is a dict suitable for passing to the 'filters' argument of get_all_volumes() above, and 'tags' is a dict of tags to be set on volumes (via create_tags/delete_tags) as matched by the given filters. The filter syntax is extended to permit passing either a list of volume_ids or an instance_name (with instance_name being the Name tag of the instance to which the desired volumes are mapped). Each mapping in the list is applied separately, so multiple sets of volumes can be all tagged differently with one call to this function. If filtering by instance Name, You may additionally limit the instances matched by passing in a list of desired instance states. The default set of states is ('pending', 'rebooting', 'running', 'stopping', 'stopped').</p> </dd> </dl> <p>YAML example fragment:</p> <pre class="highlight-yaml notranslate" data-language="yaml">- filters:
    attachment.instance_id: i-abcdef12
  tags:
    Name: dev-int-abcdef12.aws-foo.com
- filters:
    attachment.device: /dev/sdf
  tags:
    ManagedSnapshots: true
    BillingGroup: bubba.hotep@aws-foo.com
  in_states:
  - stopped
  - terminated
- filters:
    instance_name: prd-foo-01.aws-foo.com
  tags:
    Name: prd-foo-01.aws-foo.com
    BillingGroup: infra-team@aws-foo.com
- filters:
    volume_ids: [ vol-12345689, vol-abcdef12 ]
  tags:
    BillingGroup: infra-team@aws-foo.com</pre> <dl class="simple"> <dt>authoritative (bool)</dt>
<dd>
<p>If true, any existing tags on the matched volumes, and not explicitly requested here, will be removed.</p> </dd> <dt>dry_run (bool)</dt>
<dd>
<p>If true, don't change anything, just return a dictionary describing any changes which would have been applied.</p> </dd> <dt>returns (dict)</dt>
<dd>
<p>A dict describing status and any changes.</p> </dd> </dl> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.terminate"> salt.modules.boto_ec2.terminate(instance_id=None, name=None, region=None, key=None, keyid=None, profile=None, filters=None)</h3> <dd>
<p>Terminate the instance described by instance_id or name.</p> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.terminate name=myinstance
salt myminion boto_ec2.terminate instance_id=i-a46b9f</pre> </dd>
</dl> <dl class="py function"> <h3 id="salt.modules.boto_ec2.unassign_private_ip_addresses"> salt.modules.boto_ec2.unassign_private_ip_addresses(network_interface_name=None, network_interface_id=None, private_ip_addresses=None, region=None, key=None, keyid=None, profile=None)</h3> <dd>
<p>Unassigns one or more secondary private IP addresses from a network interface</p> <dl class="simple"> <dt>network_interface_id</dt>
<dd>
<p>(string) - ID of the network interface to associate the IP with (exclusive with 'network_interface_name')</p> </dd> <dt>network_interface_name</dt>
<dd>
<p>(string) - Name of the network interface to associate the IP with (exclusive with 'network_interface_id')</p> </dd> <dt>private_ip_addresses</dt>
<dd>
<p>(list) - Assigns the specified IP addresses as secondary IP addresses to the network interface.</p> </dd> <dt>returns</dt>
<dd>
<p>(bool) - True on success, False on failure.</p> </dd> </dl> <p>CLI Example:</p> <pre class="highlight-bash notranslate" data-language="bash">salt myminion boto_ec2.unassign_private_ip_addresses network_interface_name=my_eni private_ip_addresses=private_ip</pre> <div class="versionadded"> <p><span class="versionmodified added">New in version 2017.7.0.</span></p> </div> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2021 SaltStack.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.boto_ec2.html" class="_attribution-link">https://docs.saltproject.io/en/latest/ref/modules/all/salt.modules.boto_ec2.html</a>
  </p>
</div>
