<h1>pandas.DataFrame.sample</h1> <dl class="py method"> <dt class="sig sig-object py" id="pandas.DataFrame.sample"> <span class="sig-prename descclassname"><span class="pre">DataFrame.</span></span><span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/pandas-dev/pandas/blob/v1.5.0/pandas/core/generic.py#L5631-L5784"><span class="viewcode-link"><span class="pre">[source]</span></span></a>
</dt> <dd>
<p>Return a random sample of items from an axis of object.</p> <p>You can use <cite>random_state</cite> for reproducibility.</p> <dl class="field-list"> <dt class="field-odd">Parameters</dt> <dd class="field-odd">
<dl> <dt>
<strong>n</strong><span class="classifier">:int, optional</span>
</dt>
<dd>
<p>Number of items from axis to return. Cannot be used with <cite>frac</cite>. Default = 1 if <cite>frac</cite> = None.</p> </dd> <dt>
<strong>frac</strong><span class="classifier">:float, optional</span>
</dt>
<dd>
<p>Fraction of axis items to return. Cannot be used with <cite>n</cite>.</p> </dd> <dt>
<strong>replace</strong><span class="classifier">:bool, default False</span>
</dt>
<dd>
<p>Allow or disallow sampling of the same row more than once.</p> </dd> <dt>
<strong>weights</strong><span class="classifier">:str or ndarray-like, optional</span>
</dt>
<dd>
<p>Default ‘None’ results in equal probability weighting. If passed a Series, will align with target object on index. Index values in weights not found in sampled object will be ignored and index values in sampled object not in weights will be assigned weights of zero. If called on a DataFrame, will accept the name of a column when axis = 0. Unless weights are a Series, weights must be same length as axis being sampled. If weights do not sum to 1, they will be normalized to sum to 1. Missing values in the weights column will be treated as zero. Infinite values not allowed.</p> </dd> <dt>
<strong>random_state</strong><span class="classifier">:int, array-like, BitGenerator, np.random.RandomState, np.random.Generator, optional</span>
</dt>
<dd>
<p>If int, array-like, or BitGenerator, seed for random number generator. If np.random.RandomState or np.random.Generator, use as given.</p> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.1.0: </span>array-like and BitGenerator object now passed to np.random.RandomState() as seed</p> </div> <div class="versionchanged"> <p><span class="versionmodified changed">Changed in version 1.4.0: </span>np.random.Generator objects now accepted</p> </div> </dd> <dt>
<strong>axis</strong><span class="classifier">:{0 or ‘index’, 1 or ‘columns’, None}, default None</span>
</dt>
<dd>
<p>Axis to sample. Accepts axis number or name. Default is stat axis for given data type. For <cite>Series</cite> this parameter is unused and defaults to <cite>None</cite>.</p> </dd> <dt>
<strong>ignore_index</strong><span class="classifier">:bool, default False</span>
</dt>
<dd>
<p>If True, the resulting index will be labeled 0, 1, …, n - 1.</p> <div class="versionadded"> <p><span class="versionmodified added">New in version 1.3.0.</span></p> </div> </dd> </dl> </dd> <dt class="field-even">Returns</dt> <dd class="field-even">
<dl class="simple"> <dt>Series or DataFrame</dt>
<dd>
<p>A new object of same type as caller containing <cite>n</cite> items randomly sampled from the caller object.</p> </dd> </dl> </dd> </dl> <div class="admonition seealso"> <p class="admonition-title">See also</p> <dl class="simple"> <dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataFrameGroupBy.sample</span></code></dt>
<dd>
<p>Generates random samples from each group of a DataFrame object.</p> </dd> <dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">SeriesGroupBy.sample</span></code></dt>
<dd>
<p>Generates random samples from each group of a Series object.</p> </dd> <dt><a class="reference external" href="https://numpy.org/doc/stable/reference/random/generated/numpy.random.choice.html#numpy.random.choice" title="(in NumPy v1.23)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.random.choice</span></code></a></dt>
<dd>
<p>Generates a random sample from a given 1-D numpy array.</p> </dd> </dl> </div> <p class="rubric">Notes</p> <p>If <cite>frac</cite> &gt; 1, <cite>replacement</cite> should be set to <cite>True</cite>.</p> <p class="rubric">Examples</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; df = pd.DataFrame({'num_legs': [2, 4, 8, 0],
...                    'num_wings': [2, 0, 0, 0],
...                    'num_specimen_seen': [10, 2, 1, 8]},
...                   index=['falcon', 'dog', 'spider', 'fish'])
&gt;&gt;&gt; df
        num_legs  num_wings  num_specimen_seen
falcon         2          2                 10
dog            4          0                  2
spider         8          0                  1
fish           0          0                  8
</pre></div> </div> <p>Extract 3 random elements from the <code class="docutils literal notranslate"><span class="pre">Series</span></code> <code class="docutils literal notranslate"><span class="pre">df['num_legs']</span></code>: Note that we use <cite>random_state</cite> to ensure the reproducibility of the examples.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; df['num_legs'].sample(n=3, random_state=1)
fish      0
spider    8
falcon    2
Name: num_legs, dtype: int64
</pre></div> </div> <p>A random 50% sample of the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> with replacement:</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; df.sample(frac=0.5, replace=True, random_state=1)
      num_legs  num_wings  num_specimen_seen
dog          4          0                  2
fish         0          0                  8
</pre></div> </div> <p>An upsample sample of the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> with replacement: Note that <cite>replace</cite> parameter has to be <cite>True</cite> for <cite>frac</cite> parameter &gt; 1.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; df.sample(frac=2, replace=True, random_state=1)
        num_legs  num_wings  num_specimen_seen
dog            4          0                  2
fish           0          0                  8
falcon         2          2                 10
falcon         2          2                 10
fish           0          0                  8
dog            4          0                  2
fish           0          0                  8
dog            4          0                  2
</pre></div> </div> <p>Using a DataFrame column as weights. Rows with larger value in the <cite>num_specimen_seen</cite> column are more likely to be sampled.</p> <div class="doctest highlight-default notranslate">
<div class="highlight"><pre data-language="python">&gt;&gt;&gt; df.sample(n=2, weights='num_specimen_seen', random_state=1)
        num_legs  num_wings  num_specimen_seen
falcon         2          2                 10
fish           0          0                  8
</pre></div> </div> </dd>
</dl><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2008&ndash;2022, AQR Capital Management, LLC, Lambda Foundry, Inc. and PyData Development Team<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://pandas.pydata.org/pandas-docs/version/1.5.0/reference/api/pandas.DataFrame.sample.html" class="_attribution-link">https://pandas.pydata.org/pandas-docs/version/1.5.0/reference/api/pandas.DataFrame.sample.html</a>
  </p>
</div>
