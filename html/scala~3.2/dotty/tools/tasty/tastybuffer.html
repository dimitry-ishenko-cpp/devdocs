<h1>Class TastyBuffer.TastyBuffer</h1>
<div class="links">
<a href="tastybuffer%24.html">Companion object</a> â€¢ <a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L41">Source code</a>
</div>
<h2 id="signature">
<div class="signature">
class <a href="tastybuffer.html">TastyBuffer</a>(initialSize: <a href="../../../scala/int.html">Int</a>)
</div>
</h2>
<p>A byte array buffer that can be filled with bytes or natural numbers in TASTY format, and that supports reading and patching addresses represented as natural numbers. </p>
<table class="attributes"><tr>
<th>Supertypes</th>
<td><div class="related-types">
<div class="member">class <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a>
</div>
<div class="member">trait <a href="../../../scala/matchable.html">Matchable</a>
</div>
<div class="member">class <a href="../../../scala/any.html">Any</a>
</div>
</div></td>
</tr></table>
<h2>Concrete methods</h2>
<h3 id="assemble-94c">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L195" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#assemble-94c">assemble</a>(): <a href="../../../scala/unit.html">Unit</a>
</div>
</h3>



<p>Hook to be overridden in subclasses. Perform all actions necessary to assemble the final byte array. After <code>assemble</code> no more output actions to this buffer are permitted. </p>



<h3 id="currentAddr-0">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L173" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#currentAddr-0">currentAddr</a>: <a href="tastybuffer%24%24addr.html">Addr</a>
</div>
</h3>



<p>The address referring to the end of data written so far</p>



<h3 id="fillAddr-d2c">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L183" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#fillAddr-d2c">fillAddr</a>(at: <a href="tastybuffer%24%24addr.html">Addr</a>, target: <a href="tastybuffer%24%24addr.html">Addr</a>): <a href="../../../scala/unit.html">Unit</a>
</div>
</h3>



<p>Fill reserved space at address <code>at</code> with address <code>target</code></p>



<h3 id="getAddr-fffffbe0">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L160" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#getAddr-fffffbe0">getAddr</a>(at: <a href="tastybuffer%24%24addr.html">Addr</a>): <a href="tastybuffer%24%24addr.html">Addr</a>
</div>
</h3>



<p>The address (represented as a natural number) at address <code>at</code></p>



<h3 id="getByte-fffffbe0">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L139" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#getByte-fffffbe0">getByte</a>(at: <a href="tastybuffer%24%24addr.html">Addr</a>): <a href="../../../scala/int.html">Int</a>
</div>
</h3>



<p>The byte at given address</p>



<h3 id="getLongNat-fffff0ab">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L145" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#getLongNat-fffff0ab">getLongNat</a>(at: <a href="tastybuffer%24%24addr.html">Addr</a>): <a href="../../../scala/long.html">Long</a>
</div>
</h3>



<p>The long natural number at address <code>at</code></p>



<h3 id="getNat-fffffbe0">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L142" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#getNat-fffffbe0">getNat</a>(at: <a href="tastybuffer%24%24addr.html">Addr</a>): <a href="../../../scala/int.html">Int</a>
</div>
</h3>



<p>The natural number at address <code>at</code></p>



<h3 id="putNat-fffffbd3">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L123" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#putNat-fffffbd3">putNat</a>(at: <a href="tastybuffer%24%24addr.html">Addr</a>, x: <a href="../../../scala/int.html">Int</a>, width: <a href="../../../scala/int.html">Int</a>): <a href="../../../scala/unit.html">Unit</a>
</div>
</h3>



<p>Write natural number <code>x</code> right-adjusted in a field of <code>width</code> bytes starting with address <code>at</code>. </p>



<h3 id="reserveAddr-ffffff27">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L176" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#reserveAddr-ffffff27">reserveAddr</a>(): <a href="tastybuffer%24%24addr.html">Addr</a>
</div>
</h3>



<p>Reserve <code>AddrWidth</code> bytes to write an address into</p>



<h3 id="skipNat-fffffbe0">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L167" class="source-link">Source</a><div class="signature">
final def <a href="tastybuffer.html#skipNat-fffffbe0">skipNat</a>(at: <a href="tastybuffer%24%24addr.html">Addr</a>): <a href="tastybuffer%24%24addr.html">Addr</a>
</div>
</h3>



<p>The address after the natural number found at address <code>at</code>.</p>



<h3 id="skipZeroes-fffffbe0">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L163" class="source-link">Source</a><div class="signature">
final def <a href="tastybuffer.html#skipZeroes-fffffbe0">skipZeroes</a>(at: <a href="tastybuffer%24%24addr.html">Addr</a>): <a href="tastybuffer%24%24addr.html">Addr</a>
</div>
</h3>



<p>The smallest address equal to or following <code>at</code> which points to a non-zero byte</p>



<h3 id="writeAddr-fffff3b3">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L187" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#writeAddr-fffff3b3">writeAddr</a>(addr: <a href="tastybuffer%24%24addr.html">Addr</a>): <a href="../../../scala/unit.html">Unit</a>
</div>
</h3>



<p>Write address without leading zeroes</p>



<h3 id="writeByte-fffff3b3">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L52" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#writeByte-fffff3b3">writeByte</a>(b: <a href="../../../scala/int.html">Int</a>): <a href="../../../scala/unit.html">Unit</a>
</div>
</h3>



<p>Write a byte of data.</p>



<h3 id="writeBytes-a41">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L60" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#writeBytes-a41">writeBytes</a>(data: <a href="../../../scala/array.html">Array</a>[<a href="../../../scala/byte.html">Byte</a>], n: <a href="../../../scala/int.html">Int</a>): <a href="../../../scala/unit.html">Unit</a>
</div>
</h3>



<p>Write the first <code>n</code> bytes of <code>data</code>.</p>



<h3 id="writeInt-fffff3b3">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L75" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#writeInt-fffff3b3">writeInt</a>(x: <a href="../../../scala/int.html">Int</a>): <a href="../../../scala/unit.html">Unit</a>
</div>
</h3>



<p>Write a natural number in 2's complement big endian format, base 128. All but the last digits have bit 0x80 set. </p>



<h3 id="writeLongInt-fffffa90">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L96" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#writeLongInt-fffffa90">writeLongInt</a>(x: <a href="../../../scala/long.html">Long</a>): <a href="../../../scala/unit.html">Unit</a>
</div>
</h3>



<p>Like writeInt, but for longs</p>



<h3 id="writeLongNat-fffffa90">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L84" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#writeLongNat-fffffa90">writeLongNat</a>(x: <a href="../../../scala/long.html">Long</a>): <a href="../../../scala/unit.html">Unit</a>
</div>
</h3>



<p>Like writeNat, but for longs. Note that the binary representation of LongNat is identical to Nat if the long value is in the range Int.MIN_VALUE to Int.MAX_VALUE. </p>



<h3 id="writeNat-fffff3b3">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L69" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#writeNat-fffff3b3">writeNat</a>(x: <a href="../../../scala/int.html">Int</a>): <a href="../../../scala/unit.html">Unit</a>
</div>
</h3>



<p>Write a natural number in big endian format, base 128. All but the last digits have bit 0x80 set. </p>



<h3 id="writeUncompressedLong-fffffa90">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L108" class="source-link">Source</a><div class="signature">
def <a href="tastybuffer.html#writeUncompressedLong-fffffa90">writeUncompressedLong</a>(x: <a href="../../../scala/long.html">Long</a>): <a href="../../../scala/unit.html">Unit</a>
</div>
</h3>



<p>Write an uncompressed Long stored in 8 bytes in big endian format</p>



<h2>Concrete fields</h2>
<h3 id="bytes-0">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L44" class="source-link">Source</a><div class="signature">
var <a href="tastybuffer.html#bytes-0">bytes</a>: <a href="../../../scala/array.html">Array</a>[<a href="../../../scala/byte.html">Byte</a>]
</div>
</h3>



<p>The current byte array, will be expanded as needed</p>



<h3 id="length-0">
<a href="https://github.com/lampepfl/dotty/blob/3.1.3/tasty/src/dotty/tools/tasty/TastyBuffer.scala#L47" class="source-link">Source</a><div class="signature">
var <a href="tastybuffer.html#length-0">length</a>: <a href="../../../scala/int.html">Int</a>
</div>
</h3>



<p>The number of bytes written</p>
<div class="_attribution">
  <p class="_attribution-p">
    &copy; 2002-2022 EPFL, with contributions from Lightbend.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://scala-lang.org/api/3.2.0/dotty/tools/tasty/TastyBuffer.html" class="_attribution-link">https://scala-lang.org/api/3.2.0/dotty/tools/tasty/TastyBuffer.html</a>
  </p>
</div>
