<h1 id="salt-masterless-provisioner">  Salt Masterless Provisioner </h1> <p>Type: <code>salt-masterless</code></p> <p>The <code>salt-masterless</code> Terraform provisioner provisions machines built by Terraform using <a href="http://saltstack.com/">Salt</a> states, without connecting to a Salt master. The <code>salt-masterless</code> provisioner supports <code>ssh</code> <a href="connection.html">connections</a>.</p> <h2 id="requirements">  Requirements </h2> <p>The <code>salt-masterless</code> provisioner has some prerequisites. <code>cURL</code> must be available on the remote host.</p> <h2 id="example-usage">  Example usage </h2> <p>The example below is fully functional.</p> <pre data-language="ruby">
provisioner "salt-masterless" {
    "local_state_tree" = "/srv/salt"
}
</pre>
<h2 id="argument-reference">  Argument Reference </h2> <p>The reference of available configuration options is listed below. The only required argument is the path to your local salt state tree.</p> <p>Optional:</p> <ul> <li>
<p><a href="#bootstrap_args"><code>bootstrap_args</code></a> (string) - Arguments to send to the bootstrap script. Usage is somewhat documented on <a href="https://github.com/saltstack/salt-bootstrap">github</a>, but the <a href="https://github.com/saltstack/salt-bootstrap/blob/develop/bootstrap-salt.sh">script itself</a> has more detailed usage instructions. By default, no arguments are sent to the script.</p> </li> <li>
<p><a href="#disable_sudo"><code>disable_sudo</code></a> (boolean) - By default, the bootstrap install command is prefixed with <code>sudo</code>. When using a Docker builder, you will likely want to pass <code>true</code> since <code>sudo</code> is often not pre-installed.</p> </li> <li>
<p><a href="#remote_pillar_roots"><code>remote_pillar_roots</code></a> (string) - The path to your remote <a href="http://docs.saltstack.com/ref/configuration/master.html#pillar-configuration">pillar roots</a>. default: <code>/srv/pillar</code>. This option cannot be used with <code>minion_config</code>.</p> </li> <li>
<p><a href="#remote_state_tree"><code>remote_state_tree</code></a> (string) - The path to your remote <a href="http://docs.saltstack.com/ref/states/highstate.html#the-salt-state-tree">state tree</a>. default: <code>/srv/salt</code>. This option cannot be used with <code>minion_config</code>.</p> </li> <li>
<p><a href="#local_pillar_roots"><code>local_pillar_roots</code></a> (string) - The path to your local <a href="http://docs.saltstack.com/ref/configuration/master.html#pillar-configuration">pillar roots</a>. This will be uploaded to the <code>remote_pillar_roots</code> on the remote.</p> </li> <li>
<p><a href="#local_state_tree"><code>local_state_tree</code></a> (string) - The path to your local <a href="http://docs.saltstack.com/ref/states/highstate.html#the-salt-state-tree">state tree</a>. This will be uploaded to the <code>remote_state_tree</code> on the remote.</p> </li> <li>
<p><a href="#custom_state"><code>custom_state</code></a> (string) - A state to be run instead of <code>state.highstate</code>. Defaults to <code>state.highstate</code> if unspecified.</p> </li> <li>
<p><a href="#minion_config_file"><code>minion_config_file</code></a> (string) - The path to your local <a href="http://docs.saltstack.com/ref/configuration/minion.html">minion config file</a>. This will be uploaded to the <code>/etc/salt</code> on the remote. This option overrides the <code>remote_state_tree</code> or <code>remote_pillar_roots</code> options.</p> </li> <li>
<p><a href="#skip_bootstrap"><code>skip_bootstrap</code></a> (boolean) - By default the salt provisioner runs <a href="https://github.com/saltstack/salt-bootstrap">salt bootstrap</a> to install salt. Set this to true to skip this step.</p> </li> <li>
<p><a href="#temp_config_dir"><code>temp_config_dir</code></a> (string) - Where your local state tree will be copied before moving to the <code>/srv/salt</code> directory. Default is <code>/tmp/salt</code>.</p> </li> <li>
<p><a href="#no_exit_on_failure"><code>no_exit_on_failure</code></a> (boolean) - Terraform will exit if the <code>salt-call</code> command fails. Set this option to true to ignore Salt failures.</p> </li> <li>
<p><a href="#log_level"><code>log_level</code></a> (string) - Set the logging level for the <code>salt-call</code> run.</p> </li> <li>
<p><a href="#salt_call_args"><code>salt_call_args</code></a> (string) - Additional arguments to pass directly to <code>salt-call</code>. See <a href="https://docs.saltstack.com/ref/cli/salt-call.html">salt-call</a> documentation for more information. By default no additional arguments (besides the ones Terraform generates) are passed to <code>salt-call</code>.</p> </li> <li>
<p><a href="#salt_bin_dir"><code>salt_bin_dir</code></a> (string) - Path to the <code>salt-call</code> executable. Useful if it is not on the PATH.</p> </li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018 HashiCorp</br>Licensed under the MPL 2.0 License.<br>
    <a href="https://www.terraform.io/docs/provisioners/salt-masterless.html" class="_attribution-link">https://www.terraform.io/docs/provisioners/salt-masterless.html</a>
  </p>
</div>
