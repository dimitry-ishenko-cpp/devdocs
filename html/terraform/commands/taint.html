<h1 id="command-taint">  Command: taint </h1> <p>The <code>terraform taint</code> command manually marks a Terraform-managed resource as tainted, forcing it to be destroyed and recreated on the next apply.</p> <p>This command <em>will not</em> modify infrastructure, but does modify the state file in order to mark a resource as tainted. Once a resource is marked as tainted, the next <a href="plan.html">plan</a> will show that the resource will be destroyed and recreated and the next <a href="apply.html">apply</a> will implement this change.</p> <p>Forcing the recreation of a resource is useful when you want a certain side effect of recreation that is not visible in the attributes of a resource. For example: re-running provisioners will cause the node to be different or rebooting the machine from a base image will cause new startup scripts to run.</p> <p>Note that tainting a resource for recreation may affect resources that depend on the newly tainted resource. For example, a DNS resource that uses the IP address of a server may need to be modified to reflect the potentially new IP address of a tainted server. The <a href="plan.html">plan command</a> will show this if this is the case.</p> <h2 id="usage">  Usage </h2> <p>Usage: <code>terraform taint [options] name</code></p> <p>The <code>name</code> argument is the name of the resource to mark as tainted. The format of this argument is <code>TYPE.NAME</code>, such as <code>aws_instance.foo</code>.</p> <p>The command-line flags are all optional. The list of available flags are:</p> <ul> <li>
<p><a href="#allow-missing"><code>-allow-missing</code></a> - If specified, the command will succeed (exit code 0) even if the resource is missing. The command can still error, but only in critically erroneous cases.</p> </li> <li>
<p><a href="#backup-path"><code>-backup=path</code></a> - Path to the backup file. Defaults to <code>-state-out</code> with the ".backup" extension. Disabled by setting to "-".</p> </li> <li>
<p><a href="#lock-true"><code>-lock=true</code></a> - Lock the state file when locking is supported.</p> </li> <li>
<p><a href="#lock-timeout-0s"><code>-lock-timeout=0s</code></a> - Duration to retry a state lock.</p> </li> <li>
<p><a href="#module-path"><code>-module=path</code></a> - The module path where the resource to taint exists. By default this is the root path. Other modules can be specified by a period-separated list. Example: "foo" would reference the module "foo" but "foo.bar" would reference the "bar" module in the "foo" module.</p> </li> <li>
<p><a href="#no-color"><code>-no-color</code></a> - Disables output with coloring</p> </li> <li>
<p><a href="#state-path"><code>-state=path</code></a> - Path to read and write the state file to. Defaults to "terraform.tfstate". Ignored when <a href="../state/remote.html">remote state</a> is used.</p> </li> <li>
<p><a href="#state-out-path"><code>-state-out=path</code></a> - Path to write updated state file. By default, the <code>-state</code> path will be used. Ignored when <a href="../state/remote.html">remote state</a> is used.</p> </li> </ul> <h2 id="example-tainting-a-single-resource">  Example: Tainting a Single Resource </h2> <p>This example will taint a single resource:</p> <pre>$ terraform taint aws_security_group.allow_all
The resource aws_security_group.allow_all in the module root has been marked as tainted!
</pre>
<h2 id="example-tainting-a-resource-within-a-module">  Example: Tainting a Resource within a Module </h2> <p>This example will only taint a resource within a module:</p> <pre>$ terraform taint -module=couchbase aws_instance.cb_node.9
The resource aws_instance.couchbase.11 in the module root.couchbase has been marked as tainted!
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018 HashiCorp</br>Licensed under the MPL 2.0 License.<br>
    <a href="https://www.terraform.io/docs/commands/taint.html" class="_attribution-link">https://www.terraform.io/docs/commands/taint.html</a>
  </p>
</div>
