<h1 id="import-usage">  Import Usage </h1> <p>The <code>terraform import</code> command is used to import existing infrastructure.</p> <p>The command currently can only import one resource at a time. This means you can't yet point Terraform import to an entire collection of resources such as an AWS VPC and import all of it. This workflow will be improved in a future version of Terraform.</p> <p>To import a resource, first write a resource block for it in your configuration, establishing the name by which it will be known to Terraform:</p> <pre>resource "aws_instance" "example" {
  # ...instance configuration...
}
</pre>
<p>The name "example" here is local to the module where it is declared and is chosen by the configuration author. This is distinct from any ID issued by the remote system, which may change over time while the resource name remains constant.</p> <p>If desired, you can leave the body of the resource block blank for now and return to fill it in once the instance is imported.</p> <p>Now <code>terraform import</code> can be run to attach an existing instance to this resource configuration:</p> <pre data-language="shell">$ terraform import aws_instance.example i-abcd1234
</pre>
<p>This command locates the AWS instance with ID <code>i-abcd1234</code> and attaches its existing settings, as described by the EC2 API, to the name <code>aws_instance.example</code> in the Terraform state.</p> <p>It is also possible to import to resources in child modules and to single instances of a resource with <code>count</code> set. See <a href="../internals/resource-addressing.html"><em>Resource Addressing</em></a> for more details on how to specify a target resource.</p> <p>The syntax of the given ID is dependent on the resource type being imported. For example, AWS instances use an opaque ID issued by the EC2 API, but AWS Route53 Zones use the domain name itself. Consult the documentation for each importable resource for details on what form of ID is required.</p> <p>As a result of the above command, the resource is recorded in the state file. You can now run <code>terraform plan</code> to see how the configuration compares to the imported resource, and make any adjustments to the configuration to align with the current (or desired) state of the imported object.</p> <h2 id="complex-imports">  Complex Imports </h2> <p>The above import is considered a "simple import": one resource is imported into the state file. An import may also result in a "complex import" where multiple resources are imported. For example, an AWS security group imports an <code>aws_security_group</code> but also one <code>aws_security_group_rule</code> for each rule.</p> <p>In this scenario, the secondary resources will not already exist in configuration, so it is necessary to consult the import output and create a <code>resource</code> block in configuration for each secondary resource. If this is not done, Terraform will plan to destroy the imported objects on the next run.</p> <p>If you want to rename or otherwise move the imported resources, the <a href="../commands/state/index.html">state management commands</a> can be used.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018 HashiCorp</br>Licensed under the MPL 2.0 License.<br>
    <a href="https://www.terraform.io/docs/import/usage.html" class="_attribution-link">https://www.terraform.io/docs/import/usage.html</a>
  </p>
</div>
