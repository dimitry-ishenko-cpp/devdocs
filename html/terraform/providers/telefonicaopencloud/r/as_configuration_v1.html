<h1 id="telefonicaopencloud_as_configuration_v1">  telefonicaopencloud_as_configuration_v1 </h1> <p>Manages a V1 AS Configuration resource within TelefonicaOpenCloud.</p> <h2 id="example-usage">  Example Usage </h2> <h3 id="basic-as-configuration">  Basic AS Configuration </h3> <pre data-language="ruby">resource "telefonicaopencloud_as_configuration_v1" "my_as_config" {
  scaling_configuration_name = "my_as_config"
  instance_config = {
    flavor = "${var.flavor}"
    image = "${var.image_id}"
    disk = [
      {size = 40
      volume_type = "SATA"
      disk_type = "SYS"}
    ]
    key_name = "${var.keyname}"
    user_data = "${file("userdata.txt")}"
  }
}
</pre>
<h3 id="as-configuration-with-user-data-and-metadata">  AS Configuration With User Data and Metadata </h3> <pre data-language="ruby">resource "telefonicaopencloud_as_configuration_v1" "my_as_config" {
  scaling_configuration_name = "my_as_config"
  instance_config = {
    flavor = "${var.flavor}"
    image = "${var.image_id}"
    disk = [
      {size = 40
      volume_type = "SATA"
      disk_type = "SYS"}
    ]
    key_name = "${var.keyname}"
    user_data = "${file("userdata.txt")}"
    metadata = {
      some_key = "some_value"
    }
  }
}
</pre>
<p><code>user_data</code> can come from a variety of sources: inline, read in from the <code>file</code> function, or the <code>template_cloudinit_config</code> resource.</p> <h3 id="as-configuration-uses-the-existing-instance-specifications-as-the-template">  AS Configuration uses the existing instance specifications as the template </h3> <pre data-language="ruby">resource "telefonicaopencloud_as_configuration_v1" "my_as_config" {
  scaling_configuration_name = "my_as_config"
  instance_config = {
    instance_id = "4579f2f5-cbe8-425a-8f32-53dcb9d9053a"
    key_name = "${var.keyname}"
  }
}
</pre>
<h2 id="argument-reference">  Argument Reference </h2> <p>The following arguments are supported:</p> <ul> <li>
<p><a href="#region"><code>region</code></a> - (Optional) The region in which to create the AS configuration. If omitted, the <code>region</code> argument of the provider is used. Changing this creates a new AS configuration.</p> </li> <li>
<p><a href="#scaling_configuration_name"><code>scaling_configuration_name</code></a> - (Required) The name of the AS configuration. The name can contain letters, digits, underscores(_), and hyphens(-), and cannot exceed 64 characters.</p> </li> <li>
<p><a href="#instance_config"><code>instance_config</code></a> - (Required) The information about instance configurations. The instance_config dictionary data structure is documented below.</p> </li> </ul> <p>The <code>instance_config</code> block supports:</p> <ul> <li>
<p><a href="#instance_id"><code>instance_id</code></a> - (Optional) When using the existing instance specifications as the template to create AS configurations, specify this argument. In this case, flavor, image, and disk arguments do not take effect. If the instance_id argument is not specified, flavor, image, and disk arguments are mandatory.</p> </li> <li>
<p><a href="#flavor"><code>flavor</code></a> - (Optional) The flavor ID.</p> </li> <li>
<p><a href="#image"><code>image</code></a> - (Optional) The image ID.</p> </li> <li>
<p><a href="#disk"><code>disk</code></a> - (Optional) The disk group information. System disks are mandatory and data disks are optional. The dick structure is described below.</p> </li> <li>
<p><a href="#key_name"><code>key_name</code></a> - (Required) The name of the SSH key pair used to log in to the instance.</p> </li> <li>
<p><a href="#user_data"><code>user_data</code></a> - (Optional) The user data to provide when launching the instance. The file content must be encoded with Base64.</p> </li> <li>
<p><a href="#personality"><code>personality</code></a> - (Optional) Customize the personality of an instance by defining one or more files and their contents. The personality structure is described below.</p> </li> <li>
<p><a href="#public_ip"><code>public_ip</code></a> - (Optional) The elastic IP address of the instance. The public_ip structure is described below.</p> </li> <li>
<p><a href="#metadata"><code>metadata</code></a> - (Optional) Metadata key/value pairs to make available from within the instance.</p> </li> </ul> <p>The <code>disk</code> block supports:</p> <ul> <li>
<p><a href="#size"><code>size</code></a> - (Required) The disk size. The unit is GB. The system disk size ranges from 40 to 32768, and the data disk size ranges from 10 to 32768.</p> </li> <li>
<p><a href="#volume_type"><code>volume_type</code></a> - (Required) The disk type, which must be the same as the disk type available in the system. The options include <code>SATA</code> (common I/O disk type) and <code>SSD</code> (ultra-high I/O disk type).</p> </li> <li>
<p><a href="#disk_type"><code>disk_type</code></a> - (Required) Whether the disk is a system disk or a data disk. Option <code>DATA</code> indicates a data disk. option <code>SYS</code> indicates a system disk.</p> </li> </ul> <p>The <code>personality</code> block supports:</p> <ul> <li>
<p><a href="#path"><code>path</code></a> - (Required) The absolute path of the destination file.</p> </li> <li>
<p><a href="#contents"><code>contents</code></a> - (Required) The content of the injected file, which must be encoded with base64.</p> </li> </ul> <p>The <code>public_ip</code> block supports:</p> <ul> <li>
<a href="#eip"><code>eip</code></a> - (Required) The configuration parameter for creating an elastic IP address that will be automatically assigned to the instance. The eip structure is described below. </li> </ul> <p>The <code>eip</code> block supports:</p> <ul> <li>
<p><a href="#ip_type"><code>ip_type</code></a> - (Required) The IP address type. The system only supports <code>5_bgp</code> (indicates dynamic BGP).</p> </li> <li>
<p><a href="#bandwidth"><code>bandwidth</code></a> - (Required) The bandwidth information. The structure is described below.</p> </li> </ul> <p>The <code>bandwidth</code> block supports:</p> <ul> <li>
<p><a href="#size-1"><code>size</code></a> - (Required) The bandwidth (Mbit/s). The value range is 1 to 300.</p> </li> <li>
<p><a href="#share_type"><code>share_type</code></a> - (Required) The bandwidth sharing type. The system only supports <code>PER</code> (indicates exclusive bandwidth).</p> </li> <li>
<p><a href="#charging_mode"><code>charging_mode</code></a> - (Required) The bandwidth charging mode. The system only supports <code>traffic</code>.</p> </li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018 HashiCorp</br>Licensed under the MPL 2.0 License.<br>
    <a href="https://www.terraform.io/docs/providers/telefonicaopencloud/r/as_configuration_v1.html" class="_attribution-link">https://www.terraform.io/docs/providers/telefonicaopencloud/r/as_configuration_v1.html</a>
  </p>
</div>
