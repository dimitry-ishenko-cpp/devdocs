<h1 id="telefonicaopencloud_elb_listener">  telefonicaopencloud_elb_listener </h1> <p>Manages an elastic loadbalancer listener resource within telefonica open cloud.</p> <h2 id="example-usage">  Example Usage </h2> <pre data-language="ruby">resource "telefonicaopencloud_elb_loadbalancer" "elb" {
  name = "elb"
  type = "External"
  description = "test elb"
  vpc_id = "e346dc4a-d9a6-46f4-90df-10153626076e"
  admin_state_up = 1
  bandwidth = 5
}

resource "telefonicaopencloud_elb_listener" "listener" {
  name = "test-elb-listener"
  description = "great listener"
  protocol = "TCP"
  backend_protocol = "TCP"
  port = 12345
  backend_port = 8080
  lb_algorithm = "roundrobin"
  loadbalancer_id = "${telefonicaopencloud_elb_loadbalancer.elb.id}"
  timeouts {
    create = "5m"
    update = "5m"
    delete = "5m"
  }
}
</pre>
<h2 id="argument-reference">  Argument Reference </h2> <p>The following arguments are supported:</p> <ul> <li>
<p><a href="#name"><code>name</code></a> - (Required) Specifies the load balancer name. The name is a string of 1 to 64 characters that consist of letters, digits, underscores (_), and hyphens (-).</p> </li> <li>
<p><a href="#description"><code>description</code></a> - (Optional) Provides supplementary information about the listener. The value is a string of 0 to 128 characters and cannot be &lt;&gt;.</p> </li> <li>
<p><a href="#loadbalancer_id"><code>loadbalancer_id</code></a> - (Required) Specifies the ID of the load balancer to which the listener belongs.</p> </li> <li>
<p><a href="#protocol"><code>protocol</code></a> - (Required) Specifies the listening protocol used for layer 4 or 7. The value can be HTTP, TCP, HTTPS, or UDP.</p> </li> <li>
<p><a href="#port"><code>port</code></a> - (Required) Specifies the listening port. The value ranges from 1 to 65535.</p> </li> <li>
<p><a href="#backend_protocol"><code>backend_protocol</code></a> - (Required) Specifies the backend protocol. If the value of protocol is UDP, the value of this parameter can only be UDP. The value can be HTTP, TCP, or UDP.</p> </li> <li>
<p><a href="#backend_port"><code>backend_port</code></a> - (Required) Specifies the backend port. The value ranges from 1 to 65535.</p> </li> <li>
<p><a href="#lb_algorithm"><code>lb_algorithm</code></a> - (Required) Specifies the load balancing algorithm for the listener. The value can be roundrobin, leastconn, or source.</p> </li> <li>
<p><a href="#session_sticky"><code>session_sticky</code></a> - (Optional) Specifies whether to enable sticky session. The value can be true or false. The Sticky session is enabled when the value is true, and is disabled when the value is false. If the value of protocol is HTTP, HTTPS, or TCP, and the value of lb_algorithm is not roundrobin, the value of this parameter can only be false.</p> </li> <li>
<p><a href="#sticky_session_type"><code>sticky_session_type</code></a> - (Optional) Specifies the cookie processing method. The value is insert. insert indicates that the cookie is inserted by the load balancer. This parameter is valid when protocol is set to HTTP, and session_sticky to true. The default value is insert. This parameter is invalid when protocol is set to TCP or UDP, which means the parameter is empty.</p> </li> <li>
<p><a href="#cookie_timeout"><code>cookie_timeout</code></a> - (Optional) Specifies the cookie timeout period (minutes). This parameter is valid when protocol is set to HTTP, session_sticky to true, and sticky_session_type to insert. This parameter is invalid when protocol is set to TCP or UDP. The value ranges from 1 to 1440.</p> </li> <li>
<p><a href="#tcp_timeout"><code>tcp_timeout</code></a> - (Optional) Specifies the TCP timeout period (minutes). This parameter is valid when protocol is set to TCP. The value ranges from 1 to 5.</p> </li> <li>
<p><a href="#tcp_draining"><code>tcp_draining</code></a> - (Optional) Specifies whether to maintain the TCP connection to the backend ECS after the ECS is deleted. This parameter is valid when protocol is set to TCP. The value can be true or false.</p> </li> <li>
<p><a href="#tcp_draining_timeout"><code>tcp_draining_timeout</code></a> - (Optional) Specifies the timeout duration (minutes) for the TCP connection to the backend ECS after the ECS is deleted. This parameter is valid when protocol is set to TCP, and tcp_draining to true. The value ranges from 0 to 60.</p> </li> <li>
<p><a href="#certificate_id"><code>certificate_id</code></a> - (Optional) Specifies the ID of the SSL certificate used for security authentication when HTTPS is used to make API calls. This parameter is mandatory if the value of protocol is HTTPS. The value can be obtained by viewing the details of the SSL certificate.</p> </li> <li>
<p><a href="#udp_timeout"><code>udp_timeout</code></a> - (Optional) Specifies the UDP timeout duration (minutes). This parameter is valid when protocol is set to UDP. The value ranges from 1 to 1440.</p> </li> <li>
<p><a href="#ssl_protocols"><code>ssl_protocols</code></a> - (Optional) Specifies the SSL protocol standard supported by a tracker, which is used for enabling specified encryption protocols. This parameter is valid only when the value of protocol is set to HTTPS. The value is TLSv1.2 or TLSv1.2 TLSv1.1 TLSv1. The default value is TLSv1.2.</p> </li> <li>
<p><a href="#ssl_ciphers"><code>ssl_ciphers</code></a> - (Optional) Specifies the cipher suite of an encryption protocol. This parameter is valid only when the value of protocol is set to HTTPS. The value is Default, Extended, or Strict. The default value is Default. The value can only be set to Extended if the value of ssl_protocols is set to TLSv1.2 TLSv1.1 TLSv1.</p> </li> </ul> <h2 id="attributes-reference">  Attributes Reference </h2> <p>The following attributes are exported:</p> <ul> <li>
<a href="#name-1"><code>name</code></a> - See Argument Reference above. </li> <li>
<a href="#description-1"><code>description</code></a> - See Argument Reference above. </li> <li>
<a href="#loadbalancer_id-1"><code>loadbalancer_id</code></a> - See Argument Reference above. </li> <li>
<a href="#protocol-1"><code>protocol</code></a> - See Argument Reference above. </li> <li>
<a href="#port-1"><code>port</code></a> - See Argument Reference above. </li> <li>
<a href="#backend_protocol-1"><code>backend_protocol</code></a> - See Argument Reference above. </li> <li>
<a href="#backend_port-1"><code>backend_port</code></a> - See Argument Reference above. </li> <li>
<a href="#lb_algorithm-1"><code>lb_algorithm</code></a> - See Argument Reference above. </li> <li>
<a href="#session_sticky-1"><code>session_sticky</code></a> - See Argument Reference above. </li> <li>
<a href="#sticky_session_type-1"><code>sticky_session_type</code></a> - See Argument Reference above. </li> <li>
<a href="#cookie_timeout-1"><code>cookie_timeout</code></a> - See Argument Reference above. </li> <li>
<a href="#tcp_timeout-1"><code>tcp_timeout</code></a> - See Argument Reference above. </li> <li>
<a href="#tcp_draining-1"><code>tcp_draining</code></a> - See Argument Reference above. </li> <li>
<a href="#tcp_draining_timeout-1"><code>tcp_draining_timeout</code></a> - See Argument Reference above. </li> <li>
<a href="#certificate_id-1"><code>certificate_id</code></a> - See Argument Reference above. </li> <li>
<a href="#udp_timeout-1"><code>udp_timeout</code></a> - See Argument Reference above. </li> <li>
<a href="#ssl_protocols-1"><code>ssl_protocols</code></a> - See Argument Reference above. </li> <li>
<a href="#ssl_ciphers-1"><code>ssl_ciphers</code></a> - See Argument Reference above. </li> <li>
<a href="#update_time"><code>update_time</code></a> - Specifies the time when information about the listener was updated. </li> <li>
<a href="#id"><code>id</code></a> - Specifies the listener ID. </li> <li>
<a href="#create_time"><code>create_time</code></a> - Specifies the time when the listener was created. </li> <li>
<a href="#status"><code>status</code></a> - Specifies the listener status. The value can be ACTIVE, PENDING_CREATE, or ERROR. </li> <li>
<a href="#admin_state_up"><code>admin_state_up</code></a> - Specifies the status of the load balancer. Value range: false: The load balancer is disabled. true: The load balancer runs properly. </li> <li>
<a href="#member_number"><code>member_number</code></a> - Specifies the number of backend members. </li> <li>
<a href="#healthcheck_id"><code>healthcheck_id</code></a> - Specifies the health check task ID. </li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018 HashiCorp</br>Licensed under the MPL 2.0 License.<br>
    <a href="https://www.terraform.io/docs/providers/telefonicaopencloud/r/elb_listener.html" class="_attribution-link">https://www.terraform.io/docs/providers/telefonicaopencloud/r/elb_listener.html</a>
  </p>
</div>
