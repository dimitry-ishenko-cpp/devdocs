<h1 id="clc_server">  clc_server </h1> <p>Manages a CLC server.</p> <p>Resources and Documentation:</p> <ul> <li>
<a href="https://www.ctl.io/data-centers/">Datacenter / Capability Map</a> </li> <li>
<a href="https://www.ctl.io/hyperscale/">Hyperscale</a> and <a href="https://www.ctl.io/bare-metal/">Bare Metal</a> Servers </li> <li>
<a href="https://www.ctl.io/api-docs/v2/#servers-create-server">REST API</a> </li> </ul> <h2 id="example-usage">  Example Usage </h2> <pre data-language="ruby"># Provision a server
resource "clc_server" "node" {
  name_template    = "trusty"
  source_server_id = "UBUNTU-14-64-TEMPLATE"
  group_id         = "${clc_group.frontends.id}"
  cpu              = 2
  memory_mb        = 2048
  password         = "Green123$"

  additional_disks {
    path    = "/var"
    size_gb = 100
    type    = "partitioned"
  }

  additional_disks {
    size_gb = 10
    type    = "raw"
  }
}

output "server_id" {
  value = "clc_server.node.id"
}
</pre>
<h2 id="argument-reference">  Argument Reference </h2> <p>The following arguments are supported:</p> <ul> <li>
<a href="#name_template"><code>name_template</code></a> - (Required, string) The basename of the server. A unique name will be generated by the platform. </li> <li>
<a href="#source_server_id"><code>source_server_id</code></a> - (Required, string) The name or ID of the base OS image. Examples: "ubuntu-14-64-template", "rhel-7-64-template", "win2012r2dtc-64" </li> <li>
<a href="#group_id"><code>group_id</code></a> - (Required, string) The name or ID of the server group to spawn server into. </li> <li>
<a href="#cpu"><code>cpu</code></a> - (Required, int) The number of virtual cores </li> <li>
<a href="#memory_mb"><code>memory_mb</code></a> - (Required, int) Provisioned RAM </li> <li>
<a href="#type"><code>type</code></a> - (Required, string) The virtualization type One of "standard", "hyperscale", "bareMetal" </li> <li>
<a href="#password"><code>password</code></a> - (Optional, string) The root/administrator password. Will be generated by platform if not provided. </li> <li>
<a href="#description"><code>description</code></a> - (Optional, string) Description for server (visible in control portal only) </li> <li>
<a href="#power_state"><code>power_state</code></a> - (Optional, string) See <a href="#power_states">PowerStates</a> below for details. If absent, defaults to <code>started</code>. </li> <li>
<a href="#private_ip_address"><code>private_ip_address</code></a> - (Optional, string) Set internal IP address. If absent, allocated and assigned from pool. </li> <li>
<a href="#network_id"><code>network_id</code></a> - (Optional, string) GUID of network to use. (Must be set up in advance from control portal.) When absent, the default network will be used. </li> <li>
<a href="#storage_type"><code>storage_type</code></a> - (Optional, string) Backup and replication strategy for disks. One of "standard", "premium" </li> <li>
<a href="#aa_policy_id"><code>aa_policy_id</code></a> - (Optional, string | hyperscale) Anti-Affinity policy ID </li> <li>
<a href="#configuration_id"><code>configuration_id</code></a> - (Optional, string | bareMetal) Hardware configuration ID </li> <li>
<a href="#os_type"><code>os_type</code></a> - (Optional, string | bareMetal) Operating system to install. </li> <li>
<a href="#additional_disks"><code>additional_disks</code></a> - (Optional) See <a href="#disks">Disks</a> below for details. </li> <li>
<a href="#custom_fields"><code>custom_fields</code></a> - (Optional) See <a href="#custom_fields">CustomFields</a> below for details. </li> <li>
<a href="#metadata"><code>metadata</code></a> - (Optional) Misc state storage for non-CLC metadata. </li> </ul>  <h2 id="server-types">  Server Types </h2> <h4 id="standard">  standard </h4> <p>Cloud servers <code>standard</code> offer basic, commodity level performance with mixed spindle/SSD storage profiles. Additional features storage backups, snapshot/clone/archive, and widespread availability.</p> <h4 id="hyperscale">  hyperscale </h4> <p>Hyperscale <code>hyperscale</code> servers offer significantly higher IOPS than standard servers for CPU and IO intensive servers. See the <a href="https://www.ctl.io/knowledge-base/servers/hyperscale-server-faq/">FAQ</a> for more details.</p> <p>Physical host redundancy can be managed via <a href="https://www.ctl.io/knowledge-base/servers/centurylink-cloud-anti-affinity-policies/">Anti-Affinity policies</a>.</p> <h4 id="baremetal">  bareMetal </h4> <p>Bare metal <code>bareMetal</code> offers optimal compute performance and is available in select datacenters in CLC for approved customers. For more info see the <a href="https://www.ctl.io/knowledge-base/servers/bare-metal-faq/">FAQ</a>.</p> <p>For <code>bareMetal</code>, the required fields <code>source_server_id</code>, <code>cpu</code>, and <code>memory_mb</code> are ignored and instead the following fields are required:</p> <ul> <li>configuration_id </li> <li>os_type </li> </ul> <p>Values for <code>configuration_id</code> and <code>os_type</code> are specific to each datacenter and are available via the API endpoints <a href="https://www.ctl.io/api-docs/v2/#data-centers-get-data-center-bare-metal-capabilities">here</a>.</p>  <h2 id="powerstates">  PowerStates </h2> <p><code>power_state</code> may be used to set initial power state or modify existing instances.</p> <ul> <li>
<a href="#on"><code>on</code></a> | <code>started</code> - machine powered on </li> <li>
<a href="#off"><code>off</code></a> | <code>stopped</code> - machine powered off forcefully </li> <li>
<a href="#paused"><code>paused</code></a> - freeze machine: memory, processes, billing, monitoring. </li> <li>
<a href="#shutdown"><code>shutdown</code></a> - shutdown gracefully </li> <li>
<a href="#reboot"><code>reboot</code></a> - restart gracefully </li> <li>
<a href="#reset"><code>reset</code></a> - restart forcefully </li> </ul>  <h2 id="disks">  Disks </h2> <p><code>additional_disks</code> is a block within the configuration that may be repeated to specify the attached disks on a server. Each <code>additional_disks</code> block supports the following:</p> <ul> <li>
<a href="#type-1"><code>type</code></a> - (Required, string) Either "raw" or "partitioned". </li> <li>
<a href="#size_gb"><code>size_gb</code></a> - (Required, int) Size of allocated disk. </li> <li>
<a href="#path"><code>path</code></a> - (Required, string, type:<code>partitioned</code>) The mountpoint for the disk. </li> </ul>  <h2 id="customfields">  CustomFields </h2> <p><code>custom_fields</code> is a block within the configuration that may be repeated to bind custom fields for a server. CustomFields need be set up in advance. Each <code>custom_fields</code> block supports the following:</p> <ul> <li>
<a href="#id"><code>id</code></a> - (Required, string) The ID of the custom field to set. </li> <li>
<a href="#value"><code>value</code></a> - (Required, string) The value for the specified field. </li> </ul>  <h2 id="packages">  Packages </h2> <p><code>packages</code> is a block within the configuration that may be repeated to specify packages and their associated parameters to be run at instantiation. Packages facilitate various tasks like ssh key installation, kernel upgrades, etc. Package ID as well as parameters are configured via this block.</p> <p>Example:</p> <pre data-language="ruby"># Configure the CLC Provider
provider "clc_server" "ubuntu" {
  # ...
  packages {
    id     = "77abb844-579d-478d-3955-c69ab4a7ba1a"
    SshKey = "ssh-rsa AAAAB3NzaC1yc2EAAAABIwAA..."
  }
}
</pre><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018 HashiCorp</br>Licensed under the MPL 2.0 License.<br>
    <a href="https://www.terraform.io/docs/providers/clc/r/server.html" class="_attribution-link">https://www.terraform.io/docs/providers/clc/r/server.html</a>
  </p>
</div>
