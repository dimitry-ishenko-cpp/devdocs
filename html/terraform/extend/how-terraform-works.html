<h1 id="how-terraform-works">  How Terraform Works </h1> <p>Terraform is a tool for building, changing, and versioning infrastructure safely and efficiently. Terraform is built on a plugin-based architecture, enabling developers to extend Terraform by writing new plugins or compiling modified versions of existing plugins.</p> <p>Terraform is logically split into two main parts: <strong>Terraform Core</strong> and <strong>Terraform Plugins</strong>. Terraform Core uses remote procedure calls (RPC) to communicate with Terraform Plugins, and offers multiple ways to discover and load plugins to use. Terraform Plugins expose an implementation for a specific service, such as AWS, or provisioner, such as bash.</p> <h2 id="terraform-core">  Terraform Core </h2> <p>Terraform Core is a <a href="https://en.wikipedia.org/wiki/Static_build#Static_building">statically-compiled binary</a> written in the <a href="https://golang.org/">Go programming language</a>. The compiled binary is the command line tool (CLI) <code>terraform</code>, the entrypoint for anyone using Terraform. The code is open source and hosted at github.com/hashicorp/terraform.</p> <h3 id="the-primary-responsibilities-of-terraform-core-are-">  The primary responsibilities of Terraform Core are: </h3> <ul> <li>Infrastructure as code: reading and interpolating configuration files and modules </li> <li>Resource state management </li> <li>Construction of the <a href="../internals/graph.html">Resource Graph</a> </li> <li>Plan execution </li> <li>Communication with plugins over RPC </li> </ul> <h2 id="terraform-plugins">  Terraform Plugins </h2> <p>Terraform Plugins are written in Go and are executable binaries invoked by Terraform Core over RPC. Each plugin exposes an implementation for a specific service, such as AWS, or provisioner, such as bash. All Providers and Provisioners used in Terraform configurations are plugins. They are executed as a separate process and communicate with the main Terraform binary over an RPC interface. Terraform has several Provisioners built-in, while Providers are discovered dynamically as needed (See <strong>Discovery</strong> below). Terraform Core provides a high-level framework that abstracts away the details of plugin discovery and RPC communication so developers do not need to manage either.</p> <p>Terraform Plugins are responsible for the domain specific implementation of their type.</p> <h3 id="the-primary-responsibilities-of-provider-plugins-are-">  The primary responsibilities of Provider Plugins are: </h3> <ul> <li>Initialization of any included libraries used to make API calls </li> <li>Authentication with the Infrastructure Provider </li> <li>Define Resources that map to specific Services </li> </ul> <h3 id="the-primary-responsibilities-of-provisioner-plugins-are-">  The primary responsibilities of Provisioner Plugins are: </h3> <ul> <li>Executing commands or scripts on the designated Resource after creation, or on destruction. </li> </ul> <h2 id="discovery">  Discovery </h2> <p>The <code>terraform</code> CLI tool includes several provisioner plugins for immediate use. It does not include any Providers, due to the large number of them and the various supported versions. Terraform reads configuration files and installs the needed Providers automatically from releases.hashicorp.com. At time of writing Terraform can only automatically install Providers distributed by HashiCorp, which are found on <a href="https://releases.hashicorp.com">releases.hashicorp.com</a>.</p> <p>Third-party providers can be manually installed by placing their plugin executables in one of the following locations depending on the host operating system:</p> <ul> <li>On Windows, in the sub-path terraform.d/plugins beneath your user's "Application Data" directory. </li> <li>On all other systems, in the sub-path .terraform.d/plugins in your user's home directory. </li> </ul> <p><a href="../commands/init.html"><code>terraform init</code></a> will search this directory for additional plugins during plugin initialization.</p> <p>The naming scheme for plugins is <code>terraform-&lt;type&gt;-NAME_vX.Y.Z</code>, where <code>type</code> is either <code>provider</code> or <code>provisioner</code>. Terraform uses the <code>NAME</code> to understand the name and version of a particular provider binary. Third-party plugins will often be distributed with an appropriate filename already set in the distribution archive so that it can be extracted directly into the plugin directory described above.</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2018 HashiCorp</br>Licensed under the MPL 2.0 License.<br>
    <a href="https://www.terraform.io/docs/extend/how-terraform-works.html" class="_attribution-link">https://www.terraform.io/docs/extend/how-terraform-works.html</a>
  </p>
</div>
