<h1>API Reference</h1> <p>This page details how to render Pug using the JavaScript API.</p>  <h2 id="options">Options </h2> <p>All API methods accept the following set of options:</p> <dl class="parameter-list">
<dt>filename<span class="type">: string</span>
</dt>
<dd class="description">The name of the file being compiled. Used in exceptions, and required for relative <code>include</code>\s and <code>extend</code>\s. Defaults to <code>'Pug'</code>.</dd>
<dt>basedir<span class="type">: string</span>
</dt>
<dd class="description">The root directory of all absolute inclusion.</dd>
<dt>doctype<span class="type">: string</span>
</dt>
<dd class="description">If the <code>doctype</code> is not specified as part of the template, you can specify it here. It is sometimes useful to get self-closing tags and remove mirroring of boolean attributes. See <a href="../language/doctype.html#doctype-option">doctype documentation</a> for more information.</dd>
<dt>pretty<span class="type">: boolean | string</span>
</dt>
<dd class="description">[Deprecated.] Adds whitespace to the resulting HTML to make it easier for a human to read using <code>'  '</code> as indentation. If a string is specified, that will be used as indentation instead (e.g. <code>'\t'</code>). We strongly recommend against using this option. Too often, it creates subtle bugs in your templates because of the way it alters the interpretation and rendering of whitespace, and so this feature is going to be removed. Defaults to <code>false</code>.</dd>
<dt>filters<span class="type">: object</span>
</dt>
<dd class="description">Hash table of <a href="../language/filters.html#custom-filters">custom filters</a>. Defaults to <code>undefined</code>.</dd>
<dt>self<span class="type">: boolean</span>
</dt>
<dd class="description">Use a <code>self</code> namespace to hold the locals. It will speed up the compilation, but instead of writing <code>variable</code> you will have to write <code>self.variable</code> to access a property of the locals object. Defaults to <code>false</code>.</dd>
<dt>debug<span class="type">: boolean</span>
</dt>
<dd class="description">If set to <code>true</code>, the tokens and function body are logged to stdout.</dd>
<dt>compileDebug<span class="type">: boolean</span>
</dt>
<dd class="description">If set to <code>true</code>, the function source will be included in the compiled template for better error messages (sometimes useful in development). It is enabled by default, unless used with <a href="https://expressjs.com/">Express</a> in production mode.</dd>
<dt>globals<span class="type">: Array&lt;string&gt;</span>
</dt>
<dd class="description">Add a list of global names to make accessible in templates.</dd>
<dt>cache<span class="type">: boolean</span>
</dt>
<dd class="description">If set to <code>true</code>, compiled functions are cached. <code>filename</code> must be set as the cache key. Only applies to <code>render</code> functions. Defaults to <code>false</code>.</dd>
<dt>inlineRuntimeFunctions<span class="type">: boolean</span>
</dt>
<dd class="description">Inline runtime functions instead of <code>require</code>-ing them from a shared version. For <code>compileClient</code> functions, the default is <code>true</code> (so that one does not have to include the runtime). For all other compilation or rendering types, the default is <code>false</code>.</dd>
<dt>name<span class="type">: string</span>
</dt>
<dd class="description">The name of the template function. Only applies to <code>compileClient</code> functions. Defaults to <code>'template'</code>.</dd>
</dl> <h2 id="methods">Methods </h2> <h3 id="pugcompilesource-options">pug.compile(source, ?options) </h3> <p>Compile a Pug template to a function, which can be rendered multiple times with different locals.</p> <dl class="parameter-list">
<dt>source<span class="type">: string</span>
</dt>
<dd class="description">The source Pug template to compile</dd>
<dt>options<span class="type">: ?options</span>
</dt>
<dd class="description">An options object</dd>
</dl> <dl class="parameter-list returns">
<dt>returns<span class="type">: function</span>
</dt>
<dd class="description">A function to generate the HTML from an object containing locals</dd>
</dl> <pre class="cm-s-default">var pug = require('pug');

// Compile a function
var fn = pug.compile('string of pug', options);

// Render the function
var html = fn(locals);
// =&gt; '&lt;string&gt;of pug&lt;/string&gt;'
</pre> <h3 id="pugcompilefilepath-options">pug.compileFile(path, ?options) </h3> <p>Compile a Pug template from a file to a function, which can be rendered multiple times with different locals.</p> <dl class="parameter-list">
<dt>path<span class="type">: string</span>
</dt>
<dd class="description">The path to a Pug file</dd>
<dt>options<span class="type">: ?options</span>
</dt>
<dd class="description">An options object</dd>
</dl> <dl class="parameter-list returns">
<dt>returns<span class="type">: function</span>
</dt>
<dd class="description">A function to generate the HTML from an object containing locals</dd>
</dl> <pre class="cm-s-default">var pug = require('pug');

// Compile a function
var fn = pug.compileFile('path to pug file', options);

// Render the function
var html = fn(locals);
// =&gt; '&lt;string&gt;of pug&lt;/string&gt;'
</pre> <h3 id="pugcompileclientsource-options">pug.compileClient(source, ?options) </h3> <p>Compile a Pug template to a string of JavaScript, which can be used client side.</p> <dl class="parameter-list">
<dt>source<span class="type">: string</span>
</dt>
<dd class="description">The Pug template to compile</dd>
<dt>options<span class="type">: ?options</span>
</dt>
<dd class="description">An options object</dd>
</dl> <dl class="parameter-list returns">
<dt>returns<span class="type">: string</span>
</dt>
<dd class="description">A string of JavaScript representing a function</dd>
</dl> <pre class="cm-s-default">var pug = require('pug');

// Compile a function
var fn = pug.compileClient('string of pug', options);

// Render the function
var html = fn(locals);
// =&gt; 'function template(locals) { return "&lt;string&gt;of pug&lt;/string&gt;"; }'
</pre> <h3 id="pugcompileclientwithdependenciestrackedsource-options">pug.compileClientWithDependenciesTracked(source, ?options) </h3> <p>Same as <code><a href="#pugcompilesource-options">compileClient</a></code>, except that this method returns an object of the form:</p> <pre class="cm-s-default">{
  'body': 'function (locals) {...}',
  'dependencies': ['filename.pug']
}
</pre> <p>You should only use this method if you need <code>dependencies</code> to implement something like watching for changes to the Pug files.</p> <h3 id="pugcompilefileclientpath-options">pug.compileFileClient(path, ?options) </h3> <p>Compile a Pug template file to a string of JavaScript that can be used client side.</p> <dl class="parameter-list">
<dt>path<span class="type">: string</span>
</dt>
<dd class="description">The path to a Pug file</dd>
<dt>options<span class="type">: ?options</span>
</dt>
<dd class="description">An options object</dd>
<dt>options.name<span class="type">: string</span>
</dt>
<dd class="description">If you pass a <code>.name</code> property on the options object, it will be used as the name of your client side template function.</dd>
</dl> <dl class="parameter-list returns">
<dt>returns<span class="type">: string</span>
</dt>
<dd class="description">A JavaScript function body.</dd>
</dl> <p>First, our template file.</p> <pre class="cm-s-default">h1 This is a Pug template
h2 By #{author}
</pre> <p>Then, we compile the Pug file into a function string.</p> <pre class="cm-s-default">var fs = require('fs');
var pug = require('pug');

// Compile the template to a function string
var jsFunctionString = pug.compileFileClient('/path/to/pugFile.pug', {name: "fancyTemplateFun"});

// Maybe you want to compile all of your templates to a templates.js file and serve it to the client
fs.writeFileSync("templates.js", jsFunctionString);
</pre> <p>Here’s what the output function string looks like (written to <code>templates.js</code>).</p> <pre class="cm-s-default">function fancyTemplateFun(locals) {
  var buf = [];
  var pug_mixins = {};
  var pug_interp;

  var locals_for_with = (locals || {});

  (function (author) {
    buf.push("&lt;h1&gt;This is a Pug template&lt;/h1&gt;&lt;h2&gt;By "
      + (pug.escape((pug_interp = author) == null ? '' : pug_interp))
      + "&lt;/h2&gt;");
  }.call(this, "author" in locals_for_with ?
    locals_for_with.author : typeof author !== "undefined" ?
      author : undefined)
  );

  return buf.join("");
}
</pre> <pre class="cm-s-default">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;script src="/templates.js"&gt;&lt;/script&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;h1&gt;This is one fancy template.&lt;/h1&gt;

    &lt;script type="text/javascript"&gt;
      var html = window.fancyTemplateFun({author: "enlore"});
      var div = document.createElement("div");
      div.innerHTML = html;
      document.body.appendChild(div);
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre> <h3 id="pugrendersource-options-callback">pug.render(source, ?options, ?callback) </h3> <dl class="parameter-list">
<dt>source<span class="type">: string</span>
</dt>
<dd class="description">The source Pug template to render</dd>
<dt>options<span class="type">: ?options</span>
</dt>
<dd class="description">An options object, also used as the locals object</dd>
<dt>callback<span class="type">: ?function</span>
</dt>
<dd class="description">Node.js-style callback receiving the rendered results. <strong>This callback is called synchronously.</strong>
</dd>
</dl> <dl class="parameter-list returns">
<dt>returns<span class="type">: string</span>
</dt>
<dd class="description">The resulting HTML string</dd>
</dl> <pre class="cm-s-default">var pug = require('pug');

var html = pug.render('string of pug', options);
// =&gt; '&lt;string&gt;of pug&lt;/string&gt;'
</pre> <h3 id="pugrenderfilepath-options-callback">pug.renderFile(path, ?options, ?callback) </h3> <dl class="parameter-list">
<dt>path<span class="type">: string</span>
</dt>
<dd class="description">The path to the Pug file to render</dd>
<dt>options<span class="type">: ?options</span>
</dt>
<dd class="description">An options object, also used as the locals object</dd>
<dt>callback<span class="type">: ?function</span>
</dt>
<dd class="description">Node.js-style callback receiving the rendered results. <strong>This callback is called synchronously.</strong>
</dd>
</dl> <dl class="parameter-list returns">
<dt>returns<span class="type">: string</span>
</dt>
<dd class="description">The resulting HTML string</dd>
</dl> <pre class="cm-s-default">var pug = require('pug');

var html = pug.renderFile('path/to/file.pug', options);
// ...
</pre> <h2 id="properties">Properties </h2> <h3 id="pugfilters">pug.filters </h3> <p>A hash table of <a href="../language/filters.html#custom-filters">custom filters</a>.</p> <p>This object has the same semantics as the <a href="#options"><code>filters</code> option</a>, but applies globally to all Pug compilation. When a filter is present in both <code>pug.filters</code> and <code>options.filters</code>, the <code>filters</code> option takes precedence.</p> <div class="alert alert-warning">
<h6> Deprecated</h6>
<p>This property has been deprecated in favor of the <a href="#options"><code>filters</code> option</a>.</p> </div> <div class="_attribution">
  <p class="_attribution-p">
    &copy; Pug authors<br>Licensed under the MIT license.<br>
    <a href="https://pugjs.org/api/reference.html" class="_attribution-link">https://pugjs.org/api/reference.html</a>
  </p>
</div>
