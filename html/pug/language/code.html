<h1>Code</h1> <p>Pug allows you to write inline JavaScript code in your templates. There are three types of code: Unbuffered, Buffered, and Unescaped Buffered.</p> <h2 id="unbuffered-code">Unbuffered Code </h2> <p>Unbuffered code starts with <code>-</code>. It does not directly add anything to the output.</p> <pre>- for (var x = 0; x &lt; 3; x++)
  li item</pre>
<pre>&lt;li&gt;item&lt;/li&gt;
&lt;li&gt;item&lt;/li&gt;
&lt;li&gt;item&lt;/li&gt;</pre> <p>Pug also supports block unbuffered code:</p> <pre>-
  var list = ["Uno", "Dos", "Tres",
          "Cuatro", "Cinco", "Seis"]
each item in list
  li= item</pre>
<pre>&lt;li&gt;Uno&lt;/li&gt;
&lt;li&gt;Dos&lt;/li&gt;
&lt;li&gt;Tres&lt;/li&gt;
&lt;li&gt;Cuatro&lt;/li&gt;
&lt;li&gt;Cinco&lt;/li&gt;
&lt;li&gt;Seis&lt;/li&gt;</pre> <h2 id="buffered-code">Buffered Code </h2> <p>Buffered code starts with <code>=</code>. It evaluates the JavaScript expression and outputs the result. For security, buffered code is first HTML escaped.</p> <pre>p
  = 'This code is &lt;escaped&gt;!'</pre>
<pre>&lt;p&gt;This code is &amp;lt;escaped&amp;gt;!&lt;/p&gt;</pre> <p>It can also be written inline (after any attributes), and supports the full range of JavaScript expressions:</p> <pre>p= 'This code is' + ' &lt;escaped&gt;!'
p(style="background: blue")= 'A message with a ' + 'blue' + ' background'</pre>
<pre>&lt;p&gt;This code is &amp;lt;escaped&amp;gt;!&lt;/p&gt;
&lt;p style="background: blue"&gt;A message with a blue background&lt;/p&gt;</pre> <h2 id="unescaped-buffered-code">Unescaped Buffered Code </h2> <p>Unescaped buffered code starts with <code>!=</code>. It evaluates the JavaScript expression and outputs the result. Unescaped buffered code does not perform any escaping, so is unsafe for user input:</p> <pre>p
  != 'This code is &lt;strong&gt;not&lt;/strong&gt; escaped!'</pre>
<pre>&lt;p&gt;This code is &lt;strong&gt;not&lt;/strong&gt; escaped!&lt;/p&gt;</pre> <p>Unescaped buffered code can also be written inline with attributes, and supports the full range of JavaScript expressions:</p> <pre>p!= 'This code is' + ' &lt;strong&gt;not&lt;/strong&gt; escaped!'</pre>
<pre>&lt;p&gt;This code is &lt;strong&gt;not&lt;/strong&gt; escaped!&lt;/p&gt;</pre> <div class="alert alert-danger">
<h6> Caution</h6>
<p><strong>Unescaped buffered code can be dangerous.</strong> You must be sure to sanitize any user inputs to avoid <a href="https://en.wikipedia.org/wiki/Cross-site_scripting">cross-site scripting</a> (XSS).</p> </div> <div class="_attribution">
  <p class="_attribution-p">
    &copy; Pug authors<br>Licensed under the MIT license.<br>
    <a href="https://pugjs.org/language/code.html" class="_attribution-link">https://pugjs.org/language/code.html</a>
  </p>
</div>
