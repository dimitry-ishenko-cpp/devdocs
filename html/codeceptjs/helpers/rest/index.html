<h1 id="rest"> REST</h1> <p><strong>Extends Helper</strong></p> <p>REST helper allows to send additional requests to the REST API during acceptance tests. <a href="https://github.com/axios/axios" target="_blank" rel="noopener noreferrer">Axios<span> <span class="sr-only">(opens new window)</span></span></a> library is used to perform requests.</p> <h2 id="configuration"> Configuration</h2> <ul>
<li>endpoint: API base URL</li> <li>timeout: timeout for requests in milliseconds. 10000ms by default</li> <li>defaultHeaders: a list of default headers</li> <li>onRequest: a async function which can update request object.</li> <li>maxUploadFileSize: set the max content file size in MB when performing api calls.</li>
</ul> <h2 id="example"> Example</h2> <div class="language-js extra-class"><pre class="language-js">{
  helpers: {
    REST: {
      endpoint: 'http://site.com/api',
      onRequest: (request) =&gt; {
      request.headers.auth = '123';
    }
  }
}
</pre></div>
<h2 id="access-from-helpers"> Access From Helpers</h2> <p>Send REST requests by accessing <code>_executeRequest</code> method:</p> <div class="language-js extra-class"><pre class="language-js">this.helpers['REST']._executeRequest({
   url,
   data,
});
</pre></div>
<h2 id="methods"> Methods</h2> <h3 id="parameters"> Parameters</h3> <ul><li><code>config</code></li></ul> <h3 id="executerequest"> _executeRequest</h3> <p>Executes axios request</p> <h4 id="parameters-2"> Parameters</h4> <ul><li>
<code>request</code> <strong>any</strong>
</li></ul> <h3 id="url"> _url</h3> <p>Generates url based on format sent (takes endpoint + url if latter lacks 'http')</p> <h4 id="parameters-3"> Parameters</h4> <ul><li>
<code>url</code> <strong>any</strong>
</li></ul> <h3 id="senddeleterequest"> sendDeleteRequest</h3> <p>Sends DELETE request to API.</p> <div class="language-js extra-class"><pre class="language-js">I.sendDeleteRequest('/api/users/1');
</pre></div>
<h4 id="parameters-4"> Parameters</h4> <ul>
<li>
<code>url</code> <strong>any</strong>
</li> <li>
<code>headers</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer">object<span> <span class="sr-only">(opens new window)</span></span></a></strong> the headers object to be sent. By default it is sent as an empty object</li>
</ul> <h3 id="sendgetrequest"> sendGetRequest</h3> <p>Send GET request to REST API</p> <div class="language-js extra-class"><pre class="language-js">I.sendGetRequest('/api/users.json');
</pre></div>
<h4 id="parameters-5"> Parameters</h4> <ul>
<li>
<code>url</code> <strong>any</strong>
</li> <li>
<code>headers</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer">object<span> <span class="sr-only">(opens new window)</span></span></a></strong> the headers object to be sent. By default it is sent as an empty object</li>
</ul> <h3 id="sendpatchrequest"> sendPatchRequest</h3> <p>Sends PATCH request to API.</p> <div class="language-js extra-class"><pre class="language-js">I.sendPatchRequest('/api/users.json', { "email": "user@user.com" });
</pre></div>
<h4 id="parameters-6"> Parameters</h4> <ul>
<li>
<code>url</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noopener noreferrer">string<span> <span class="sr-only">(opens new window)</span></span></a></strong>
</li> <li>
<code>payload</code> <strong>any</strong> the payload to be sent. By default it is sent as an empty object</li> <li>
<code>headers</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer">object<span> <span class="sr-only">(opens new window)</span></span></a></strong> the headers object to be sent. By default it is sent as an empty object</li>
</ul> <h3 id="sendpostrequest"> sendPostRequest</h3> <p>Sends POST request to API.</p> <div class="language-js extra-class"><pre class="language-js">I.sendPostRequest('/api/users.json', { "email": "user@user.com" });
</pre></div>
<h4 id="parameters-7"> Parameters</h4> <ul>
<li>
<code>url</code> <strong>any</strong>
</li> <li>
<code>payload</code> <strong>any</strong> the payload to be sent. By default it is sent as an empty object</li> <li>
<code>headers</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer">object<span> <span class="sr-only">(opens new window)</span></span></a></strong> the headers object to be sent. By default it is sent as an empty object</li>
</ul> <h3 id="sendputrequest"> sendPutRequest</h3> <p>Sends PUT request to API.</p> <div class="language-js extra-class"><pre class="language-js">I.sendPutRequest('/api/users.json', { "email": "user@user.com" });
</pre></div>
<h4 id="parameters-8"> Parameters</h4> <ul>
<li>
<code>url</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noopener noreferrer">string<span> <span class="sr-only">(opens new window)</span></span></a></strong>
</li> <li>
<code>payload</code> <strong>any</strong> the payload to be sent. By default it is sent as an empty object</li> <li>
<code>headers</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener noreferrer">object<span> <span class="sr-only">(opens new window)</span></span></a></strong> the headers object to be sent. By default it is sent as an empty object</li>
</ul> <h3 id="setrequesttimeout"> setRequestTimeout</h3> <p>Set timeout for the request</p> <div class="language-js extra-class"><pre class="language-js">I.setRequestTimeout(10000); // In milliseconds
</pre></div>
<h4 id="parameters-9"> Parameters</h4> <ul><li><code>newTimeout</code></li></ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2015 DavertMik &lt;davert@codegyre.com&gt; (http://codegyre.com)<br>Licensed under the MIT License.<br>
    <a href="https://codecept.io/helpers/REST/" class="_attribution-link">https://codecept.io/helpers/REST/</a>
  </p>
</div>
