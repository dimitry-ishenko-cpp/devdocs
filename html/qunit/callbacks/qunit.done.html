<header> <h1>QUnit.done()</h1> <p class="post-meta">Categories: <a class="category" href="https://qunitjs.com/api/callbacks/">Callback events</a>.</p> </header> <p class="version-details"> version added: <a href="https://github.com/qunitjs/qunit/releases/tag/1.0.0">1.0.0</a><span class="sep">.</span></p> <h2 id="description" class="screen-reader-text h-api-desc">Description</h2> <p><code class="language-plaintext highlighter-rouge">QUnit.done( callback )</code></p> <p>Register a callback to fire when the test run has ended. The callback may be an async function, or a function that return a Promise which will be waited for before the next callback is handled.</p> <table> <thead> <tr> <th>parameter</th> <th>description</th> </tr> </thead> <tbody> <tr> <td>
<code class="language-plaintext highlighter-rouge">callback</code> (function)</td> <td>Callback to execute, called with a <code class="language-plaintext highlighter-rouge">details</code> object:</td> </tr> </tbody> </table> <h3 id="details-object">Details object</h3> <table> <thead> <tr> <th>property</th> <th>description</th> </tr> </thead> <tbody> <tr> <td>
<code class="language-plaintext highlighter-rouge">failed</code> (number)</td> <td>Number of failed assertions</td> </tr> <tr> <td>
<code class="language-plaintext highlighter-rouge">passed</code> (number)</td> <td>Number of passed assertions</td> </tr> <tr> <td>
<code class="language-plaintext highlighter-rouge">total</code> (number)</td> <td>Total number of assertions</td> </tr> <tr> <td>
<code class="language-plaintext highlighter-rouge">runtime</code> (number)</td> <td>Duration of the test run in milliseconds</td> </tr> </tbody> </table> <div class="note note--warning"> <p>Use of <code class="language-plaintext highlighter-rouge">details</code> is <strong>discouraged</strong> and itâ€™s recommended to use <a href="qunit.on.html#the-runend-event"><code class="language-plaintext highlighter-rouge">QUnit.on('runEnd')</code></a> instead.</p> <p>Caveats:</p> <ul> <li> <p>This callback reports the <strong>internal assertion count</strong>.</p> </li> <li> <p>The default browser and CLI interfaces for QUnit and other popular test frameworks, and most CI integrations, report the number of tests. Reporting the number <em>assertions</em> may be confusing to developers.</p> </li> <li> <p>Failed assertions of a <a href="../qunit/test.todo.html"><code class="language-plaintext highlighter-rouge">test.todo()</code></a> test are reported exactly as such. While rare, this means that a test run and all tests within it may be reported as passing, while internally there were some failed assertions. Unfortunately, this internal detail is exposed for compatibility reasons.</p> </li> </ul> </div> <h2 id="changelog">Changelog</h2> <table> <tbody> <tr> <td><a href="https://github.com/qunitjs/qunit/releases/tag/2.2.0">QUnit 2.2</a></td> <td>Discourage <code class="language-plaintext highlighter-rouge">details</code> parameter in favour of <code class="language-plaintext highlighter-rouge">QUnit.on('runEnd')</code>.</td> </tr> </tbody> </table> <h2 id="examples">Examples</h2> <p>Register a callback that logs internal assertion counts.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight" data-language="javascript">QUnit.done(function (details) {
  console.log('Runtime: ' + details.runtime);
});
</pre></div></div><div class="_attribution">
  <p class="_attribution-p">
    &copy; OpenJS Foundation and contributors.<br>Licensed under the MIT license.<br>
    <a href="https://qunitjs.com/api/callbacks/QUnit.done" class="_attribution-link">https://qunitjs.com/api/callbacks/QUnit.done</a>
  </p>
</div>
