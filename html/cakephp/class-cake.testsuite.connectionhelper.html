<h1> Class ConnectionHelper  </h1> <div class="description"> <p>Helper for managing test connections</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.testsuite.html">Cake\TestSuite</a><br> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#addTestAliases()">addTestAliases()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Adds <code>test_&lt;connection name&gt;</code> aliases for all non-test connections.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#dropTables()">dropTables()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Drops all tables.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#enableQueryLogging()">enableQueryLogging()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Enables query logging for all database connections.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#runWithoutConstraints()">runWithoutConstraints()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Runs callback with constraints disabled correctly per-database</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#truncateTables()">truncateTables()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Truncates all tables.</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="addTestAliases()"> addTestAliases()   <span class="label">public</span> </h3> <pre data-language="php">addTestAliases(): void</pre> <div class="description detailed"> <p>Adds <code>test_&lt;connection name&gt;</code> aliases for all non-test connections.</p> <p>This forces all models to use the test connection instead. For example, if a model is confused to use connection <code>files</code> then it will be aliased to <code>test_files</code>.</p> <p>The <code>default</code> connection is aliased to <code>test</code>.</p> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="dropTables()"> dropTables()   <span class="label">public</span> </h3> <pre data-language="php">dropTables(string $connectionName, array&lt;string&gt;|null $tables = null): void</pre> <div class="description detailed"> <p>Drops all tables.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$connectionName</var> </dt> <dd><p>Connection name</p></dd> <dt> <code>array&lt;string&gt;|null</code> <var>$tables</var> <span class="label">optional</span> </dt> <dd><p>List of tables names or null for all.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="enableQueryLogging()"> enableQueryLogging()   <span class="label">public</span> </h3> <pre data-language="php">enableQueryLogging(array&lt;int, string&gt;|null $connections = null): void</pre> <div class="description detailed"> <p>Enables query logging for all database connections.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;int, string&gt;|null</code> <var>$connections</var> <span class="label">optional</span> </dt> <dd><p>Connection names or null for all.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="runWithoutConstraints()"> runWithoutConstraints()   <span class="label">public</span> </h3> <pre data-language="php">runWithoutConstraints(Cake\Database\Connection $connection, Closure $callback): void</pre> <div class="description detailed"> <p>Runs callback with constraints disabled correctly per-database</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Database\Connection</code> <var>$connection</var> </dt> <dd><p>Database connection</p></dd> <dt> <code>Closure</code> <var>$callback</var> </dt> <dd><p>callback</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="truncateTables()"> truncateTables()   <span class="label">public</span> </h3> <pre data-language="php">truncateTables(string $connectionName, array&lt;string&gt;|null $tables = null): void</pre> <div class="description detailed"> <p>Truncates all tables.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$connectionName</var> </dt> <dd><p>Connection name</p></dd> <dt> <code>array&lt;string&gt;|null</code> <var>$tables</var> <span class="label">optional</span> </dt> <dd><p>List of tables names or null for all.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.TestSuite.ConnectionHelper.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.TestSuite.ConnectionHelper.html</a>
  </p>
</div>
