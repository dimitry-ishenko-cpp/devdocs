<h1> Class RedisEngine  </h1> <div class="description"> <p>Redis storage engine for cache.</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.cache.engine.html">Cake\Cache\Engine</a><br> </div> <div class="section"> <h2>Constants</h2> <ul class="member-summary constants"> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>CHECK_KEY</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">'key'</pre> </div>  </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>CHECK_VALUE</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">'value'</pre> </div>  </li> </ul> </div> <div class="section"> <h2>Property Summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="#%24_Redis">$_Redis</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Redis</code></div> <div class="description"> <p>Redis wrapper.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_config">$_config</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>Runtime config</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_configInitialized">$_configInitialized</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>bool</code></div> <div class="description"> <p>Whether the config property has already been configured with defaults</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_defaultConfig">$_defaultConfig</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string, mixed&gt;</code></div> <div class="description"> <p>The default config used unless overridden by runtime configuration</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_groupPrefix">$_groupPrefix</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>Contains the compiled string with all group prefixes to be prepended to every key in this cache engine</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#__destruct()">__destruct()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Disconnects from the redis server</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configDelete()">_configDelete()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Deletes a single config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configRead()">_configRead()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Reads a config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_configWrite()">_configWrite()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Writes a config key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_connect()">_connect()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Connects to a Redis server</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_key()">_key()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Generates a key for cache backend usage.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#add()">add()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Write data for key into cache if it doesn't exist already. If it already exists, it fails and returns false.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#clear()">clear()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Delete all keys from the cache</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#clearBlocking()">clearBlocking()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Delete all keys from the cache by a blocking operation</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#clearGroup()">clearGroup()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Increments the group value to simulate deletion of all keys under a group old values will remain in storage until they expire.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#configShallow()">configShallow()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#decrement()">decrement()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Decrements the value of an integer cached key &amp; update the expiry time</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#delete()">delete()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Delete a key from the cache</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#deleteAsync()">deleteAsync()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Delete a key from the cache asynchronously</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#deleteMultiple()">deleteMultiple()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Deletes multiple cache items as a list</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#duration()">duration()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Convert the various expressions of a TTL value into duration in seconds</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#ensureValidKey()">ensureValidKey()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Ensure the validity of the given cache key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#ensureValidType()">ensureValidType()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Ensure the validity of the argument type and cache keys.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#get()">get()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Read a key from the cache</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getConfig()">getConfig()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the config.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getConfigOrFail()">getConfigOrFail()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the config for this specific key.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getMultiple()">getMultiple()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Obtains multiple cache items by their unique keys.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#groups()">groups()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the <code>group value</code> for each of the configured groups If the group initial value was not found, then it initializes the group accordingly.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#has()">has()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Determines whether an item is present in the cache.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#increment()">increment()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Increments the value of an integer cached key &amp; update the expiry time</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#init()">init()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Initialize the Cache Engine</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#serialize()">serialize()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Serialize value for saving to Redis.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#set()">set()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Write data for key into cache.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setConfig()">setConfig()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the config.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setMultiple()">setMultiple()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Persists a set of key =&gt; value pairs in the cache, with an optional TTL.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#unserialize()">unserialize()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Unserialize string value fetched from Redis.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#warning()">warning()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Cache Engines may trigger warnings if they encounter failures during operation, if option warnOnWriteFailures is set to true.</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="__destruct()"> __destruct()   <span class="label">public</span> </h3> <pre data-language="php">__destruct()</pre> <div class="description detailed"> <p>Disconnects from the redis server</p> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configDelete()"> _configDelete()   <span class="label">protected</span> </h3> <pre data-language="php">_configDelete(string $key): void</pre> <div class="description detailed"> <p>Deletes a single config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Key to delete.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configRead()"> _configRead()   <span class="label">protected</span> </h3> <pre data-language="php">_configRead(string|null $key): mixed</pre> <div class="description detailed"> <p>Reads a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> </dt> <dd><p>Key to read.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_configWrite()"> _configWrite()   <span class="label">protected</span> </h3> <pre data-language="php">_configWrite(array&lt;string, mixed&gt;|string $key, mixed $value, string|bool $merge = false): void</pre> <div class="description detailed"> <p>Writes a config key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>Key to write to.</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>Value to write.</p></dd> <dt> <code>string|bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>True to merge recursively, 'shallow' for simple merge, false to overwrite, defaults to false.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> if attempting to clobber existing config </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_connect()"> _connect()   <span class="label">protected</span> </h3> <pre data-language="php">_connect(): bool</pre> <div class="description detailed"> <p>Connects to a Redis server</p> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_key()"> _key()   <span class="label">protected</span> </h3> <pre data-language="php">_key(string $key): string</pre> <div class="description detailed"> <p>Generates a key for cache backend usage.</p> <p>If the requested key is valid, the group prefix value and engine prefix are applied. Whitespace in keys will be replaced.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>the key passed over</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Cache\InvalidArgumentException</code><br> If key's value is invalid. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="add()"> add()   <span class="label">public</span> </h3> <pre data-language="php">add(string $key, mixed $value): bool</pre> <div class="description detailed"> <p>Write data for key into cache if it doesn't exist already. If it already exists, it fails and returns false.</p> <p>Defaults to a non-atomic implementation. Subclasses should prefer atomic implementations.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Identifier for the data.</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>Data to be cached.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> <h4>Links</h4> <div class="list"> https://github.com/phpredis/phpredis#set<br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="clear()"> clear()   <span class="label">public</span> </h3> <pre data-language="php">clear(): bool</pre> <div class="description detailed"> <p>Delete all keys from the cache</p> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="clearBlocking()"> clearBlocking()   <span class="label">public</span> </h3> <pre data-language="php">clearBlocking(): bool</pre> <div class="description detailed"> <p>Delete all keys from the cache by a blocking operation</p> <p>Faster than clear() using unlink method.</p> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="clearGroup()"> clearGroup()   <span class="label">public</span> </h3> <pre data-language="php">clearGroup(string $group): bool</pre> <div class="description detailed"> <p>Increments the group value to simulate deletion of all keys under a group old values will remain in storage until they expire.</p> <p>Each implementation needs to decide whether actually delete the keys or just augment a group generation value to achieve the same result.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$group</var> </dt> <dd><p>name of the group to be cleared</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="configShallow()"> configShallow()   <span class="label">public</span> </h3> <pre data-language="php">configShallow(array&lt;string, mixed&gt;|string $key, mixed|null $value = null): $this</pre> <div class="description detailed"> <p>Merge provided config with existing config. Unlike <code>config()</code> which does a recursive merge for nested keys, this method does a simple merge.</p> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;configShallow('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;configShallow('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;configShallow(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="decrement()"> decrement()   <span class="label">public</span> </h3> <pre data-language="php">decrement(string $key, int $offset = 1): int|false</pre> <div class="description detailed"> <p>Decrements the value of an integer cached key &amp; update the expiry time</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Identifier for the data</p></dd> <dt> <code>int</code> <var>$offset</var> <span class="label">optional</span> </dt> <dd><p>How much to subtract</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>int|false</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="delete()"> delete()   <span class="label">public</span> </h3> <pre data-language="php">delete(string $key): bool</pre> <div class="description detailed"> <p>Delete a key from the cache</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Identifier for the data</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="deleteAsync()"> deleteAsync()   <span class="label">public</span> </h3> <pre data-language="php">deleteAsync(string $key): bool</pre> <div class="description detailed"> <p>Delete a key from the cache asynchronously</p> <p>Just unlink a key from the cache. The actual removal will happen later asynchronously.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Identifier for the data</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="deleteMultiple()"> deleteMultiple()   <span class="label">public</span> </h3> <pre data-language="php">deleteMultiple(iterable $keys): bool</pre> <div class="description detailed"> <p>Deletes multiple cache items as a list</p> <p>This is a best effort attempt. If deleting an item would create an error it will be ignored, and all items will be attempted.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>iterable</code> <var>$keys</var> </dt> <dd><p>A list of string-based keys to be deleted.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Cache\InvalidArgumentException</code><br> If $keys is neither an array nor a Traversable, or if any of the $keys are not a legal value. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="duration()"> duration()   <span class="label">protected</span> </h3> <pre data-language="php">duration(DateInterval|int|null $ttl): int</pre> <div class="description detailed"> <p>Convert the various expressions of a TTL value into duration in seconds</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>DateInterval|int|null</code> <var>$ttl</var> </dt> <dd><p>The TTL value of this item. If null is sent, the driver's default duration will be used.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>int</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="ensureValidKey()"> ensureValidKey()   <span class="label">protected</span> </h3> <pre data-language="php">ensureValidKey(string $key): void</pre> <div class="description detailed"> <p>Ensure the validity of the given cache key.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Key to check.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Cache\InvalidArgumentException</code><br> When the key is not valid. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="ensureValidType()"> ensureValidType()   <span class="label">protected</span> </h3> <pre data-language="php">ensureValidType(iterable $iterable, string $check = self::CHECK_VALUE): void</pre> <div class="description detailed"> <p>Ensure the validity of the argument type and cache keys.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>iterable</code> <var>$iterable</var> </dt> <dd><p>The iterable to check.</p></dd> <dt> <code>string</code> <var>$check</var> <span class="label">optional</span> </dt> <dd><p>Whether to check keys or values.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Cache\InvalidArgumentException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="get()"> get()   <span class="label">public</span> </h3> <pre data-language="php">get(string $key, mixed $default = null): mixed</pre> <div class="description detailed"> <p>Read a key from the cache</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Identifier for the data</p></dd> <dt> <code>mixed</code> <var>$default</var> <span class="label">optional</span> </dt> <dd><p>Default value to return if the key does not exist.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfig()"> getConfig()   <span class="label">public</span> </h3> <pre data-language="php">getConfig(string|null $key = null, mixed $default = null): mixed</pre> <div class="description detailed"> <p>Returns the config.</p> <h3>Usage</h3> <p>Reading the whole config:</p> <pre data-language="php">$this-&gt;getConfig();</pre> <p>Reading a specific value:</p> <pre data-language="php">$this-&gt;getConfig('key');</pre> <p>Reading a nested value:</p> <pre data-language="php">$this-&gt;getConfig('some.nested.key');</pre> <p>Reading with default value:</p> <pre data-language="php">$this-&gt;getConfig('some-key', 'default-value');</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$key</var> <span class="label">optional</span> </dt> <dd><p>The key to get or null for the whole config.</p></dd> <dt> <code>mixed</code> <var>$default</var> <span class="label">optional</span> </dt> <dd><p>The return value when the key does not exist.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConfigOrFail()"> getConfigOrFail()   <span class="label">public</span> </h3> <pre data-language="php">getConfigOrFail(string $key): mixed</pre> <div class="description detailed"> <p>Returns the config for this specific key.</p> <p>The config value for this key must exist, it can never be null.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>The key to get.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getMultiple()"> getMultiple()   <span class="label">public</span> </h3> <pre data-language="php">getMultiple(iterable $keys, mixed $default = null): iterable</pre> <div class="description detailed"> <p>Obtains multiple cache items by their unique keys.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>iterable</code> <var>$keys</var> </dt> <dd><p>A list of keys that can obtained in a single operation.</p></dd> <dt> <code>mixed</code> <var>$default</var> <span class="label">optional</span> </dt> <dd><p>Default value to return for keys that do not exist.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>iterable</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Cache\InvalidArgumentException</code><br> If $keys is neither an array nor a Traversable, or if any of the $keys are not a legal value. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="groups()"> groups()   <span class="label">public</span> </h3> <pre data-language="php">groups(): array&lt;string&gt;</pre> <div class="description detailed"> <p>Returns the <code>group value</code> for each of the configured groups If the group initial value was not found, then it initializes the group accordingly.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="has()"> has()   <span class="label">public</span> </h3> <pre data-language="php">has(string $key): bool</pre> <div class="description detailed"> <p>Determines whether an item is present in the cache.</p> <p>NOTE: It is recommended that has() is only to be used for cache warming type purposes and not to be used within your live applications operations for get/set, as this method is subject to a race condition where your has() will return true and immediately after, another script can remove it making the state of your app out of date.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>The cache item key.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Cache\InvalidArgumentException</code><br> If the $key string is not a legal value. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="increment()"> increment()   <span class="label">public</span> </h3> <pre data-language="php">increment(string $key, int $offset = 1): int|false</pre> <div class="description detailed"> <p>Increments the value of an integer cached key &amp; update the expiry time</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Identifier for the data</p></dd> <dt> <code>int</code> <var>$offset</var> <span class="label">optional</span> </dt> <dd><p>How much to increment</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>int|false</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="init()"> init()   <span class="label">public</span> </h3> <pre data-language="php">init(array&lt;string, mixed&gt; $config = []): bool</pre> <div class="description detailed"> <p>Initialize the Cache Engine</p> <p>Called automatically by the cache frontend</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;</code> <var>$config</var> <span class="label">optional</span> </dt> <dd><p>array of setting for the engine</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="serialize()"> serialize()   <span class="label">protected</span> </h3> <pre data-language="php">serialize(mixed $value): string</pre> <div class="description detailed"> <p>Serialize value for saving to Redis.</p> <p>This is needed instead of using Redis' in built serialization feature as it creates problems incrementing/decrementing intially set integer value.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>Value to serialize.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> <h4>Links</h4> <div class="list"> https://github.com/phpredis/phpredis/issues/81<br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="set()"> set()   <span class="label">public</span> </h3> <pre data-language="php">set(string $key, mixed $value, null|intDateInterval $ttl = null): bool</pre> <div class="description detailed"> <p>Write data for key into cache.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$key</var> </dt> <dd><p>Identifier for the data</p></dd> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>Data to be cached</p></dd> <dt> <code>null|intDateInterval</code> <var>$ttl</var> <span class="label">optional</span> </dt> <dd><p>Optional. The TTL value of this item. If no value is sent and the driver supports TTL then the library may set a default value for it or let the driver take care of that.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setConfig()"> setConfig()   <span class="label">public</span> </h3> <pre data-language="php">setConfig(array&lt;string, mixed&gt;|string $key, mixed|null $value = null, bool $merge = true): $this</pre> <div class="description detailed"> <p>Sets the config.</p> <h3>Usage</h3> <p>Setting a specific value:</p> <pre data-language="php">$this-&gt;setConfig('key', $value);</pre> <p>Setting a nested value:</p> <pre data-language="php">$this-&gt;setConfig('some.nested.key', $value);</pre> <p>Updating multiple config settings at the same time:</p> <pre data-language="php">$this-&gt;setConfig(['one' =&gt; 'value', 'another' =&gt; 'value']);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;|string</code> <var>$key</var> </dt> <dd><p>The key to set, or a complete array of configs.</p></dd> <dt> <code>mixed|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>The value to set.</p></dd> <dt> <code>bool</code> <var>$merge</var> <span class="label">optional</span> </dt> <dd><p>Whether to recursively merge or overwrite existing config, defaults to true.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\CakeException</code><br> When trying to set a key that is invalid. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setMultiple()"> setMultiple()   <span class="label">public</span> </h3> <pre data-language="php">setMultiple(iterable $values, null|intDateInterval $ttl = null): bool</pre> <div class="description detailed"> <p>Persists a set of key =&gt; value pairs in the cache, with an optional TTL.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>iterable</code> <var>$values</var> </dt> <dd><p>A list of key =&gt; value pairs for a multiple-set operation.</p></dd> <dt> <code>null|intDateInterval</code> <var>$ttl</var> <span class="label">optional</span> </dt> <dd><p>Optional. The TTL value of this item. If no value is sent and the driver supports TTL then the library may set a default value for it or let the driver take care of that.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Cache\InvalidArgumentException</code><br> If $values is neither an array nor a Traversable, or if any of the $values are not a legal value. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="unserialize()"> unserialize()   <span class="label">protected</span> </h3> <pre data-language="php">unserialize(string $value): mixed</pre> <div class="description detailed"> <p>Unserialize string value fetched from Redis.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$value</var> </dt> <dd><p>Value to unserialize.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="warning()"> warning()   <span class="label">protected</span> </h3> <pre data-language="php">warning(string $message): void</pre> <div class="description detailed"> <p>Cache Engines may trigger warnings if they encounter failures during operation, if option warnOnWriteFailures is set to true.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$message</var> </dt> <dd><p>The warning message.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_Redis"> <var>$_Redis</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Redis wrapper.</p> <h4>Type</h4> <div class="list"> <code>Redis</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_config"> <var>$_config</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Runtime config</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_configInitialized"> <var>$_configInitialized</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Whether the config property has already been configured with defaults</p> <h4>Type</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_defaultConfig"> <var>$_defaultConfig</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The default config used unless overridden by runtime configuration</p> <ul> <li>
<code>database</code> database number to use for connection.</li> <li>
<code>duration</code> Specify how long items in this cache configuration last.</li> <li>
<code>groups</code> List of groups or 'tags' associated to every key stored in this config. handy for deleting a complete group from cache.</li> <li>
<code>password</code> Redis server password.</li> <li>
<code>persistent</code> Connect to the Redis server with a persistent connection</li> <li>
<code>port</code> port number to the Redis server.</li> <li>
<code>prefix</code> Prefix appended to all entries. Good for when you need to share a keyspace with either another cache config or another application.</li> <li>
<code>scanCount</code> Number of keys to ask for each scan (default: 10)</li> <li>
<code>server</code> URL or IP to the Redis server host.</li> <li>
<code>timeout</code> timeout in seconds (float).</li> <li>
<code>unix_socket</code> Path to the unix socket file (default: false)</li> </ul> <h4>Type</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_groupPrefix"> <var>$_groupPrefix</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Contains the compiled string with all group prefixes to be prepended to every key in this cache engine</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.Cache.Engine.RedisEngine.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.Cache.Engine.RedisEngine.html</a>
  </p>
</div>
