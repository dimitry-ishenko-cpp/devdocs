<h1> Class Table  </h1> <div class="description"> <p>Represents a single database table.</p> <p>Exposes methods for retrieving data out of it, and manages the associations this table has to other tables. Multiple instances of this class can be created for the same database table with different aliases, this allows you to address your database structure in a richer and more expressive way.</p> <h3>Retrieving data</h3> <p>The primary way to retrieve data is using Table::find(). See that method for more information.</p> <h3>Dynamic finders</h3> <p>In addition to the standard find($type) finder methods, CakePHP provides dynamic finder methods. These methods allow you to easily set basic conditions up. For example to filter users by username you would call</p> <pre data-language="php">$query = $users-&gt;findByUsername('mark');</pre> <p>You can also combine conditions on multiple fields using either <code>Or</code> or <code>And</code>:</p> <pre data-language="php">$query = $users-&gt;findByUsernameOrEmail('mark', 'mark@example.org');</pre> <h3>Bulk updates/deletes</h3> <p>You can use Table::updateAll() and Table::deleteAll() to do bulk updates/deletes. You should be aware that events will <em>not</em> be fired for bulk updates/deletes.</p> <h3>Events</h3> <p>Table objects emit several events during as life-cycle hooks during find, delete and save operations. All events use the CakePHP event package:</p> <ul> <li> <p><code>Model.beforeFind</code> Fired before each find operation. By stopping the event and supplying a return value you can bypass the find operation entirely. Any changes done to the $query instance will be retained for the rest of the find. The <code>$primary</code> parameter indicates whether this is the root query, or an associated query.</p> </li> <li> <p><code>Model.buildValidator</code> Allows listeners to modify validation rules for the provided named validator.</p> </li> <li> <p><code>Model.buildRules</code> Allows listeners to modify the rules checker by adding more rules.</p> </li> <li> <p><code>Model.beforeRules</code> Fired before an entity is validated using the rules checker. By stopping this event, you can return the final value of the rules checking operation.</p> </li> <li> <p><code>Model.afterRules</code> Fired after the rules have been checked on the entity. By stopping this event, you can return the final value of the rules checking operation.</p> </li> <li> <p><code>Model.beforeSave</code> Fired before each entity is saved. Stopping this event will abort the save operation. When the event is stopped the result of the event will be returned.</p> </li> <li> <p><code>Model.afterSave</code> Fired after an entity is saved.</p> </li> <li> <p><code>Model.afterSaveCommit</code> Fired after the transaction in which the save operation is wrapped has been committed. Itâ€™s also triggered for non atomic saves where database operations are implicitly committed. The event is triggered only for the primary table on which save() is directly called. The event is not triggered if a transaction is started before calling save.</p> </li> <li> <p><code>Model.beforeDelete</code> Fired before an entity is deleted. By stopping this event you will abort the delete operation.</p> </li> <li> <p><code>Model.afterDelete</code> Fired after an entity has been deleted.</p> </li> </ul> <h3>Callbacks</h3> <p>You can subscribe to the events listed above in your table classes by implementing the lifecycle methods below:</p> <ul> <li><code>beforeFind(EventInterface $event, Query $query, ArrayObject $options, boolean $primary)</code></li> <li><code>beforeMarshal(EventInterface $event, ArrayObject $data, ArrayObject $options)</code></li> <li><code>afterMarshal(EventInterface $event, EntityInterface $entity, ArrayObject $options)</code></li> <li><code>buildValidator(EventInterface $event, Validator $validator, string $name)</code></li> <li><code>buildRules(RulesChecker $rules)</code></li> <li><code>beforeRules(EventInterface $event, EntityInterface $entity, ArrayObject $options, string $operation)</code></li> <li><code>afterRules(EventInterface $event, EntityInterface $entity, ArrayObject $options, bool $result, string $operation)</code></li> <li><code>beforeSave(EventInterface $event, EntityInterface $entity, ArrayObject $options)</code></li> <li><code>afterSave(EventInterface $event, EntityInterface $entity, ArrayObject $options)</code></li> <li><code>afterSaveCommit(EventInterface $event, EntityInterface $entity, ArrayObject $options)</code></li> <li><code>beforeDelete(EventInterface $event, EntityInterface $entity, ArrayObject $options)</code></li> <li><code>afterDelete(EventInterface $event, EntityInterface $entity, ArrayObject $options)</code></li> <li><code>afterDeleteCommit(EventInterface $event, EntityInterface $entity, ArrayObject $options)</code></li> </ul> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.orm.html">Cake\ORM</a><br> <b>See:</b> \Cake\Event\EventManager for reference on the events system.<br> <b>Link:</b> https://book.cakephp.org/4/en/orm/table-objects.html#event-list<br> </div> <div class="section"> <h2>Constants</h2> <ul class="member-summary constants"> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>BUILD_VALIDATOR_EVENT</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">'Model.buildValidator'</pre> </div> <div class="col-md-10 col-md-offset-2"> <p>The name of the event dispatched when a validator has been built.</p> </div> </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>DEFAULT_VALIDATOR</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">'default'</pre> </div> <div class="col-md-10 col-md-offset-2"> <p>Name of default validation set.</p> </div> </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>IS_UNIQUE_CLASS</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">IsUnique::class</pre> </div> <div class="col-md-10 col-md-offset-2"> <p>The IsUnique class name that is used.</p> </div> </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>RULES_CLASS</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">RulesChecker::class</pre> </div> <div class="col-md-10 col-md-offset-2"> <p>The rules class name that is used.</p> </div> </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>VALIDATOR_PROVIDER_NAME</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">'table'</pre> </div> <div class="col-md-10 col-md-offset-2"> <p>The alias this object is assigned to validators as.</p> </div> </li> </ul> </div> <div class="section"> <h2>Property Summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="#%24_alias">$_alias</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string|null</code></div> <div class="description"> <p>Human name giving to this particular instance. Multiple objects representing the same database table can exist by using different aliases.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_associations">$_associations</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\ORM\AssociationCollection</code></div> <div class="description"> <p>The associations container for this Table.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_behaviors">$_behaviors</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\ORM\BehaviorRegistry</code></div> <div class="description"> <p>BehaviorRegistry for this table</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_connection">$_connection</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Database\Connection|null</code></div> <div class="description"> <p>Connection instance</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_displayField">$_displayField</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;|string|null</code></div> <div class="description"> <p>The name of the field that represents a human-readable representation of a row</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_entityClass">$_entityClass</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>The name of the class that represent a single row for this table</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_eventClass">$_eventClass</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>Default class name for new event objects.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_eventManager">$_eventManager</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Event\EventManagerInterface|null</code></div> <div class="description"> <p>Instance of the Cake\Event\EventManager this object is using to dispatch inner events.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_primaryKey">$_primaryKey</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;|string|null</code></div> <div class="description"> <p>The name of the field that represents the primary key in the table</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_registryAlias">$_registryAlias</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string|null</code></div> <div class="description"> <p>Registry key used to create this table object</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_rulesChecker">$_rulesChecker</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Datasource\RulesChecker</code></div> <div class="description"> <p>The domain rules to be applied to entities saved by this table</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_schema">$_schema</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Database\Schema\TableSchemaInterface|null</code></div> <div class="description"> <p>The schema object containing a description of this table fields</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_table">$_table</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string|null</code></div> <div class="description"> <p>Name of the table as it can be found in the database</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_validatorClass">$_validatorClass</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>Validator class.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_validators">$_validators</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>arrayCake\Validation\Validator&gt;</code></div> <div class="description"> <p>A list of validation objects indexed by name</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#__call()">__call()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Handles behavior delegation + dynamic finders.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__construct()">__construct()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Initializes a new instance</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__debugInfo()">__debugInfo()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns an array that can be used to describe the internal state of this object.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__get()">__get()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the association named after the passed value if exists, otherwise throws an exception.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#__isset()">__isset()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns whether an association named after the passed value exists for this table.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_deleteMany()">_deleteMany()</a> <span class="label">protected</span> </h5>  </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_dynamicFinder()">_dynamicFinder()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Provides the dynamic findBy and findAllBy methods.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_executeTransaction()">_executeTransaction()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Handles the logic executing of a worker inside a transaction.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_getFindOrCreateQuery()">_getFindOrCreateQuery()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Gets the query object for findOrCreate().</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_initializeSchema()">_initializeSchema()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Override this function in order to alter the schema used by this table. This function is only called after fetching the schema out of the database. If you wish to provide your own schema to this table without touching the database, you can override schema() or inject the definitions though that method.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_insert()">_insert()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Auxiliary function to handle the insert of an entity's data in the table</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_newId()">_newId()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Generate a primary key value for a new record.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_onSaveSuccess()">_onSaveSuccess()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Handles the saving of children associations and executing the afterSave logic once the entity for this table has been saved successfully.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_processDelete()">_processDelete()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Perform the delete operation.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_processFindOrCreate()">_processFindOrCreate()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Performs the actual find and/or create of an entity based on the passed options.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_processSave()">_processSave()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Performs the actual saving of an entity based on the passed options.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_saveMany()">_saveMany()</a> <span class="label">protected</span> </h5>  </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_setFieldMatchers()">_setFieldMatchers()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Out of an options array, check if the keys described in <code>$keys</code> are arrays and change the values for closures that will concatenate the each of the properties in the value array when passed a row.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_transactionCommitted()">_transactionCommitted()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Checks if the caller would have executed a commit on a transaction.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_update()">_update()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Auxiliary function to handle the update of an entity's data in the table</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#addAssociations()">addAssociations()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Setup multiple associations.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#addBehavior()">addBehavior()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Add a behavior.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#addBehaviors()">addBehaviors()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Adds an array of behaviors to the table's behavior collection.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#aliasField()">aliasField()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Alias a field with the table's current alias.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#associations()">associations()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the associations collection for this table.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#behaviors()">behaviors()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the behavior registry for this table.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#belongsTo()">belongsTo()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Creates a new BelongsTo association between this table and a target table. A "belongs to" association is a N-1 relationship where this table is the N side, and where there is a single associated record in the target table for each one in this table.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#belongsToMany()">belongsToMany()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Creates a new BelongsToMany association between this table and a target table. A "belongs to many" association is a M-N relationship.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#buildRules()">buildRules()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns a RulesChecker object after modifying the one that was supplied.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#callFinder()">callFinder()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Calls a finder method and applies it to the passed query.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#checkAliasLengths()">checkAliasLengths()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Checks if all table name + column name combinations used for queries fit into the max length allowed by database driver.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#checkRules()">checkRules()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns whether the passed entity complies with all the rules stored in the rules checker.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#createValidator()">createValidator()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Creates a validator using a custom method inside your class.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#defaultConnectionName()">defaultConnectionName()</a> <span class="label">public</span> <span class="label">static</span> </h5> <div class="description detailed"> <p>Get the default connection name.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#delete()">delete()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Delete a single entity.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#deleteAll()">deleteAll()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Deletes all records matching the provided conditions.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#deleteMany()">deleteMany()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Deletes multiple entities of a table.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#deleteManyOrFail()">deleteManyOrFail()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Deletes multiple entities of a table.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#deleteOrFail()">deleteOrFail()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Try to delete an entity or throw a PersistenceFailedException if the entity is new, has no primary key value, application rules checks failed or the delete was aborted by a callback.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#dispatchEvent()">dispatchEvent()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Wrapper for creating and dispatching events.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#exists()">exists()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns true if there is any record in this repository matching the specified conditions.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#find()">find()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Creates a new Query for this repository and applies some defaults based on the type of search that was selected.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#findAll()">findAll()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the query as passed.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#findAssociation()">findAssociation()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Returns an association object configured for the specified alias if any.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#findList()">findList()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets up a query object so results appear as an indexed array, useful for any place where you would want a list such as for populating input select boxes.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#findOrCreate()">findOrCreate()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Finds an existing record or creates a new one.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#findThreaded()">findThreaded()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Results for this finder will be a nested array, and is appropriate if you want to use the parent_id field of your model data to build nested results.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#get()">get()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns a single record after finding it by its primary key, if no record is found this method throws an exception.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getAlias()">getAlias()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the table alias.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getAssociation()">getAssociation()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns an association object configured for the specified alias.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getBehavior()">getBehavior()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get a behavior from the registry.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getConnection()">getConnection()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the connection instance.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getDisplayField()">getDisplayField()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the display field.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getEntityClass()">getEntityClass()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the class used to hydrate rows for this table.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getEventManager()">getEventManager()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the Cake\Event\EventManager manager instance for this object.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getPrimaryKey()">getPrimaryKey()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the primary key field name.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getRegistryAlias()">getRegistryAlias()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the table registry key used to create this table instance.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getSaveOptionsBuilder()">getSaveOptionsBuilder()</a> <span class="label">public</span> <span class="label">deprecated</span> </h5> <div class="description detailed"> <p>Gets a SaveOptionsBuilder instance.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getSchema()">getSchema()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the schema table object describing this table's properties.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getTable()">getTable()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the database table name.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getValidator()">getValidator()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the validation rules tagged with $name. It is possible to have multiple different named validation sets, this is useful when you need to use varying rules when saving from different routines in your system.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#hasAssociation()">hasAssociation()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Checks whether a specific association exists on this Table instance.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#hasBehavior()">hasBehavior()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Check if a behavior with the given alias has been loaded.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#hasField()">hasField()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Test to see if a Table has a specific field/column.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#hasFinder()">hasFinder()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns true if the finder exists for the table</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#hasMany()">hasMany()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Creates a new HasMany association between this table and a target table. A "has many" association is a 1-N relationship.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#hasOne()">hasOne()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Creates a new HasOne association between this table and a target table. A "has one" association is a 1-1 relationship.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#hasValidator()">hasValidator()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Checks whether a validator has been set.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#implementedEvents()">implementedEvents()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the Model callbacks this table is interested in.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#initialize()">initialize()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Initialize a table instance. Called after the constructor.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#loadInto()">loadInto()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Loads the specified associations in the passed entity or list of entities by executing extra queries in the database and merging the results in the appropriate properties.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#marshaller()">marshaller()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the object used to marshal/convert array data into objects.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#newEmptyEntity()">newEmptyEntity()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>This creates a new entity object.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#newEntities()">newEntities()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Create a list of entities + associated entities from an array.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#newEntity()">newEntity()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Create a new entity + associated entities from an array.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#patchEntities()">patchEntities()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Merges each of the elements passed in <code>$data</code> into the entities found in <code>$entities</code> respecting the accessible fields configured on the entities. Merging is done by matching the primary key in each of the elements in <code>$data</code> and <code>$entities</code>.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#patchEntity()">patchEntity()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Merges the passed <code>$data</code> into <code>$entity</code> respecting the accessible fields configured on the entity. Returns the same entity after being altered.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#query()">query()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Creates a new Query instance for a table.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#removeBehavior()">removeBehavior()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Removes a behavior from this table's behavior registry.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#rulesChecker()">rulesChecker()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the RulesChecker for this instance.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#save()">save()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Persists an entity based on the fields that are marked as dirty and returns the same entity after a successful save or false in case of any error.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#saveMany()">saveMany()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Persists multiple entities of a table.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#saveManyOrFail()">saveManyOrFail()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Persists multiple entities of a table.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#saveOrFail()">saveOrFail()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Try to save an entity or throw a PersistenceFailedException if the application rules checks failed, the entity contains errors or the save was aborted by a callback.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setAlias()">setAlias()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the table alias.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setConnection()">setConnection()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the connection instance.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setDisplayField()">setDisplayField()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the display field.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setEntityClass()">setEntityClass()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the class used to hydrate rows for this table.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setEventManager()">setEventManager()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the Cake\Event\EventManagerInterface instance for this object.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setPrimaryKey()">setPrimaryKey()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the primary key field name.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setRegistryAlias()">setRegistryAlias()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the table registry key used to create this table instance.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setSchema()">setSchema()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the schema table object describing this table's properties.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setTable()">setTable()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Sets the database table name.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setValidator()">setValidator()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>This method stores a custom validator under the given name.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#subquery()">subquery()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Creates a new Query::subquery() instance for a table.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#updateAll()">updateAll()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Update all matching records.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#validateUnique()">validateUnique()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Validator method used to check the uniqueness of a value for a column. This is meant to be used with the validation API and not to be called directly.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#validationDefault()">validationDefault()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Returns the default validator object. Subclasses can override this function to add a default validation set to the validator object.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#validationMethodExists()">validationMethodExists()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Checks if validation method exists.</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="__call()"> __call()   <span class="label">public</span> </h3> <pre data-language="php">__call(string $method, array $args): mixed</pre> <div class="description detailed"> <p>Handles behavior delegation + dynamic finders.</p> <p>If your Table uses any behaviors you can call them as if they were on the table object.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$method</var> </dt> <dd><p>name of the method to be invoked</p></dd> <dt> <code>array</code> <var>$args</var> </dt> <dd><p>List of arguments passed to the function</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> <h4>Throws</h4> <div class="list"> <code>BadMethodCallException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__construct()"> __construct()   <span class="label">public</span> </h3> <pre data-language="php">__construct(array&lt;string, mixed&gt; $config = [])</pre> <div class="description detailed"> <p>Initializes a new instance</p> <p>The $config array understands the following keys:</p> <ul> <li>table: Name of the database table to represent</li> <li>alias: Alias to be assigned to this table (default to table name)</li> <li>connection: The connection instance to use</li> <li>entityClass: The fully namespaced class name of the entity class that will represent rows in this table.</li> <li>schema: A \Cake\Database\Schema\TableSchemaInterface object or an array that can be passed to it.</li> <li>eventManager: An instance of an event manager to use for internal events</li> <li>behaviors: A BehaviorRegistry. Generally not used outside of tests.</li> <li>associations: An AssociationCollection instance.</li> <li>validator: A Validator instance which is assigned as the "default" validation set, or an associative array, where key is the name of the validation set and value the Validator instance.</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;</code> <var>$config</var> <span class="label">optional</span> </dt> <dd><p>List of options for this table</p></dd> </dl> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__debugInfo()"> __debugInfo()   <span class="label">public</span> </h3> <pre data-language="php">__debugInfo(): array&lt;string, mixed&gt;</pre> <div class="description detailed"> <p>Returns an array that can be used to describe the internal state of this object.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__get()"> __get()   <span class="label">public</span> </h3> <pre data-language="php">__get(string $property): Cake\ORM\Association</pre> <div class="description detailed"> <p>Returns the association named after the passed value if exists, otherwise throws an exception.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$property</var> </dt> <dd><p>the association name</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Association</code><br> </div> <h4>Throws</h4> <div class="list"> <code>RuntimeException</code><br> if no association with such name exists </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="__isset()"> __isset()   <span class="label">public</span> </h3> <pre data-language="php">__isset(string $property): bool</pre> <div class="description detailed"> <p>Returns whether an association named after the passed value exists for this table.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$property</var> </dt> <dd><p>the association name</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_deleteMany()"> _deleteMany()   <span class="label">protected</span> </h3> <pre data-language="php">_deleteMany(iterableCake\Datasource\EntityInterface&gt; $entities, ArrayAccess|array $options = []): Cake\Datasource\EntityInterface|null</pre> <div class="description detailed"> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>iterableCake\Datasource\EntityInterface&gt;</code> <var>$entities</var> </dt> <dd><p>Entities to delete.</p></dd> <dt> <code>ArrayAccess|array</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Options used.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Datasource\EntityInterface|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_dynamicFinder()"> _dynamicFinder()   <span class="label">protected</span> </h3> <pre data-language="php">_dynamicFinder(string $method, array $args): Cake\ORM\Query</pre> <div class="description detailed"> <p>Provides the dynamic findBy and findAllBy methods.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$method</var> </dt> <dd><p>The method name that was fired.</p></dd> <dt> <code>array</code> <var>$args</var> </dt> <dd><p>List of arguments passed to the function.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Query</code><br> </div> <h4>Throws</h4> <div class="list"> <code>BadMethodCallException</code><br> when there are missing arguments, or when and &amp; or are combined. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_executeTransaction()"> _executeTransaction()   <span class="label">protected</span> </h3> <pre data-language="php">_executeTransaction(callable $worker, bool $atomic = true): mixed</pre> <div class="description detailed"> <p>Handles the logic executing of a worker inside a transaction.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>callable</code> <var>$worker</var> </dt> <dd><p>The worker that will run inside the transaction.</p></dd> <dt> <code>bool</code> <var>$atomic</var> <span class="label">optional</span> </dt> <dd><p>Whether to execute the worker inside a database transaction.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>mixed</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_getFindOrCreateQuery()"> _getFindOrCreateQuery()   <span class="label">protected</span> </h3> <pre data-language="php">_getFindOrCreateQuery(Cake\ORM\Query|callable|array $search): Cake\ORM\Query</pre> <div class="description detailed"> <p>Gets the query object for findOrCreate().</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\ORM\Query|callable|array</code> <var>$search</var> </dt> <dd><p>The criteria to find existing records by.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Query</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_initializeSchema()"> _initializeSchema()   <span class="label">protected</span> </h3> <pre data-language="php">_initializeSchema(Cake\Database\Schema\TableSchemaInterface $schema): Cake\Database\Schema\TableSchemaInterface</pre> <div class="description detailed"> <p>Override this function in order to alter the schema used by this table. This function is only called after fetching the schema out of the database. If you wish to provide your own schema to this table without touching the database, you can override schema() or inject the definitions though that method.</p> <h3>Example:</h3> <pre data-language="php">protected function _initializeSchema(\Cake\Database\Schema\TableSchemaInterface $schema) {
 $schema-&gt;setColumnType('preferences', 'json');
 return $schema;
}</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Database\Schema\TableSchemaInterface</code> <var>$schema</var> </dt> <dd><p>The table definition fetched from database.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Database\Schema\TableSchemaInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_insert()"> _insert()   <span class="label">protected</span> </h3> <pre data-language="php">_insert(Cake\Datasource\EntityInterface $entity, array $data): Cake\Datasource\EntityInterface|false</pre> <div class="description detailed"> <p>Auxiliary function to handle the insert of an entity's data in the table</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>the subject entity from were $data was extracted</p></dd> <dt> <code>array</code> <var>$data</var> </dt> <dd><p>The actual data that needs to be saved</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Datasource\EntityInterface|false</code><br> </div> <h4>Throws</h4> <div class="list"> <code>RuntimeException</code><br> if not all the primary keys where supplied or could be generated when the table has composite primary keys. Or when the table has no primary key. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_newId()"> _newId()   <span class="label">protected</span> </h3> <pre data-language="php">_newId(array&lt;string&gt; $primary): string|null</pre> <div class="description detailed"> <p>Generate a primary key value for a new record.</p> <p>By default, this uses the type system to generate a new primary key value if possible. You can override this method if you have specific requirements for id generation.</p> <p>Note: The ORM will not generate primary key values for composite primary keys. You can overwrite _newId() in your table class.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;</code> <var>$primary</var> </dt> <dd><p>The primary key columns to get a new ID for.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_onSaveSuccess()"> _onSaveSuccess()   <span class="label">protected</span> </h3> <pre data-language="php">_onSaveSuccess(Cake\Datasource\EntityInterface $entity, ArrayObject $options): bool</pre> <div class="description detailed"> <p>Handles the saving of children associations and executing the afterSave logic once the entity for this table has been saved successfully.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>the entity to be saved</p></dd> <dt> <code>ArrayObject</code> <var>$options</var> </dt> <dd><p>the options to use for the save operation</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\ORM\Exception\RolledbackTransactionException</code><br> If the transaction is aborted in the afterSave event. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_processDelete()"> _processDelete()   <span class="label">protected</span> </h3> <pre data-language="php">_processDelete(Cake\Datasource\EntityInterface $entity, ArrayObject $options): bool</pre> <div class="description detailed"> <p>Perform the delete operation.</p> <p>Will delete the entity provided. Will remove rows from any dependent associations, and clear out join tables for BelongsToMany associations.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>The entity to delete.</p></dd> <dt> <code>ArrayObject</code> <var>$options</var> </dt> <dd><p>The options for the delete.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> if there are no primary key values of the passed entity </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_processFindOrCreate()"> _processFindOrCreate()   <span class="label">protected</span> </h3> <pre data-language="php">_processFindOrCreate(Cake\ORM\Query|callable|array $search, callable|null $callback = null, array&lt;string, mixed&gt; $options = []): Cake\Datasource\EntityInterface|array</pre> <div class="description detailed"> <p>Performs the actual find and/or create of an entity based on the passed options.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\ORM\Query|callable|array</code> <var>$search</var> </dt> <dd><p>The criteria to find an existing record by, or a callable tha will customize the find query.</p></dd> <dt> <code>callable|null</code> <var>$callback</var> <span class="label">optional</span> </dt> <dd><p>A callback that will be invoked for newly created entities. This callback will be called <em>before</em> the entity is persisted.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>The options to use when saving.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Datasource\EntityInterface|array</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\ORM\Exception\PersistenceFailedException</code><br> When the entity couldn't be saved<br> <code>InvalidArgumentException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_processSave()"> _processSave()   <span class="label">protected</span> </h3> <pre data-language="php">_processSave(Cake\Datasource\EntityInterface $entity, ArrayObject $options): Cake\Datasource\EntityInterface|false</pre> <div class="description detailed"> <p>Performs the actual saving of an entity based on the passed options.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>the entity to be saved</p></dd> <dt> <code>ArrayObject</code> <var>$options</var> </dt> <dd><p>the options to use for the save operation</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Datasource\EntityInterface|false</code><br> </div> <h4>Throws</h4> <div class="list"> <code>RuntimeException</code><br> When an entity is missing some of the primary keys.<br> <code>Cake\ORM\Exception\RolledbackTransactionException</code><br> If the transaction is aborted in the afterSave event. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_saveMany()"> _saveMany()   <span class="label">protected</span> </h3> <pre data-language="php">_saveMany(iterableCake\Datasource\EntityInterface&gt; $entities, Cake\ORM\SaveOptionsBuilderArrayAccess|array $options = []): iterableCake\Datasource\EntityInterface&gt;</pre> <div class="description detailed"> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>iterableCake\Datasource\EntityInterface&gt;</code> <var>$entities</var> </dt> <dd><p>Entities to save.</p></dd> <dt> <code>Cake\ORM\SaveOptionsBuilderArrayAccess|array</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Options used when calling Table::save() for each entity.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>iterableCake\Datasource\EntityInterface&gt;</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\ORM\Exception\PersistenceFailedException</code><br> If an entity couldn't be saved.<br> <code>Exception</code><br> If an entity couldn't be saved. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_setFieldMatchers()"> _setFieldMatchers()   <span class="label">protected</span> </h3> <pre data-language="php">_setFieldMatchers(array&lt;string, mixed&gt; $options, array&lt;string&gt; $keys): array&lt;string, mixed&gt;</pre> <div class="description detailed"> <p>Out of an options array, check if the keys described in <code>$keys</code> are arrays and change the values for closures that will concatenate the each of the properties in the value array when passed a row.</p> <p>This is an auxiliary function used for result formatters that can accept composite keys when comparing values.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> </dt> <dd><p>the original options passed to a finder</p></dd> <dt> <code>array&lt;string&gt;</code> <var>$keys</var> </dt> <dd><p>the keys to check in $options to build matchers from the associated value</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_transactionCommitted()"> _transactionCommitted()   <span class="label">protected</span> </h3> <pre data-language="php">_transactionCommitted(bool $atomic, bool $primary): bool</pre> <div class="description detailed"> <p>Checks if the caller would have executed a commit on a transaction.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>bool</code> <var>$atomic</var> </dt> <dd><p>True if an atomic transaction was used.</p></dd> <dt> <code>bool</code> <var>$primary</var> </dt> <dd><p>True if a primary was used.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_update()"> _update()   <span class="label">protected</span> </h3> <pre data-language="php">_update(Cake\Datasource\EntityInterface $entity, array $data): Cake\Datasource\EntityInterface|false</pre> <div class="description detailed"> <p>Auxiliary function to handle the update of an entity's data in the table</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>the subject entity from were $data was extracted</p></dd> <dt> <code>array</code> <var>$data</var> </dt> <dd><p>The actual data that needs to be saved</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Datasource\EntityInterface|false</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> When primary key data is missing. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="addAssociations()"> addAssociations()   <span class="label">public</span> </h3> <pre data-language="php">addAssociations(array $params): $this</pre> <div class="description detailed"> <p>Setup multiple associations.</p> <p>It takes an array containing set of table names indexed by association type as argument:</p> <pre data-language="php">$this-&gt;Posts-&gt;addAssociations([
  'belongsTo' =&gt; [
    'Users' =&gt; ['className' =&gt; 'App\Model\Table\UsersTable']
  ],
  'hasMany' =&gt; ['Comments'],
  'belongsToMany' =&gt; ['Tags']
]);</pre> <p>Each association type accepts multiple associations where the keys are the aliases, and the values are association config data. If numeric keys are used the values will be treated as association aliases.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$params</var> </dt> <dd><p>Set of associations to bind (indexed by association type)</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\ORM\Table::belongsTo()<br> \Cake\ORM\Table::hasOne()<br> \Cake\ORM\Table::hasMany()<br> \Cake\ORM\Table::belongsToMany() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="addBehavior()"> addBehavior()   <span class="label">public</span> </h3> <pre data-language="php">addBehavior(string $name, array&lt;string, mixed&gt; $options = []): $this</pre> <div class="description detailed"> <p>Add a behavior.</p> <p>Adds a behavior to this table's behavior collection. Behaviors provide an easy way to create horizontally re-usable features that can provide trait like functionality, and allow for events to be listened to.</p> <p>Example:</p> <p>Load a behavior, with some settings.</p> <pre data-language="php">$this-&gt;addBehavior('Tree', ['parent' =&gt; 'parentId']);</pre> <p>Behaviors are generally loaded during Table::initialize().</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The name of the behavior. Can be a short class reference.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>The options for the behavior to use.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>RuntimeException</code><br> If a behavior is being reloaded. </div> <h4>See Also</h4> <div class="list"> \Cake\ORM\Behavior </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="addBehaviors()"> addBehaviors()   <span class="label">public</span> </h3> <pre data-language="php">addBehaviors(array $behaviors): $this</pre> <div class="description detailed"> <p>Adds an array of behaviors to the table's behavior collection.</p> <p>Example:</p> <pre data-language="php">$this-&gt;addBehaviors([
     'Timestamp',
     'Tree' =&gt; ['level' =&gt; 'level'],
]);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$behaviors</var> </dt> <dd><p>All the behaviors to load.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>RuntimeException</code><br> If a behavior is being reloaded. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="aliasField()"> aliasField()   <span class="label">public</span> </h3> <pre data-language="php">aliasField(string $field): string</pre> <div class="description detailed"> <p>Alias a field with the table's current alias.</p> <p>If field is already aliased it will result in no-op.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>The field to alias.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="associations()"> associations()   <span class="label">public</span> </h3> <pre data-language="php">associations(): Cake\ORM\AssociationCollection</pre> <div class="description detailed"> <p>Get the associations collection for this table.</p> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\AssociationCollection</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="behaviors()"> behaviors()   <span class="label">public</span> </h3> <pre data-language="php">behaviors(): Cake\ORM\BehaviorRegistry</pre> <div class="description detailed"> <p>Returns the behavior registry for this table.</p> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\BehaviorRegistry</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="belongsTo()"> belongsTo()   <span class="label">public</span> </h3> <pre data-language="php">belongsTo(string $associated, array&lt;string, mixed&gt; $options = []): Cake\ORM\Association\BelongsTo</pre> <div class="description detailed"> <p>Creates a new BelongsTo association between this table and a target table. A "belongs to" association is a N-1 relationship where this table is the N side, and where there is a single associated record in the target table for each one in this table.</p> <p>Target table can be inferred by its name, which is provided in the first argument, or you can either pass the to be instantiated or an instance of it directly.</p> <p>The options array accept the following keys:</p> <ul> <li>className: The class name of the target table object</li> <li>targetTable: An instance of a table object to be used as the target table</li> <li>foreignKey: The name of the field to use as foreign key, if false none will be used</li> <li>conditions: array with a list of conditions to filter the join with</li> <li>joinType: The type of join to be used (e.g. INNER)</li> <li>strategy: The loading strategy to use. 'join' and 'select' are supported.</li> <li>finder: The finder method to use when loading records from this association. Defaults to 'all'. When the strategy is 'join', only the fields, containments, and where conditions will be used from the finder.</li> </ul> <p>This method will return the association object that was built.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$associated</var> </dt> <dd><p>the alias for the target table. This is used to uniquely identify the association</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>list of options to configure the association definition</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Association\BelongsTo</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="belongsToMany()"> belongsToMany()   <span class="label">public</span> </h3> <pre data-language="php">belongsToMany(string $associated, array&lt;string, mixed&gt; $options = []): Cake\ORM\Association\BelongsToMany</pre> <div class="description detailed"> <p>Creates a new BelongsToMany association between this table and a target table. A "belongs to many" association is a M-N relationship.</p> <p>Target table can be inferred by its name, which is provided in the first argument, or you can either pass the class name to be instantiated or an instance of it directly.</p> <p>The options array accept the following keys:</p> <ul> <li>className: The class name of the target table object.</li> <li>targetTable: An instance of a table object to be used as the target table.</li> <li>foreignKey: The name of the field to use as foreign key.</li> <li>targetForeignKey: The name of the field to use as the target foreign key.</li> <li>joinTable: The name of the table representing the link between the two</li> <li>through: If you choose to use an already instantiated link table, set this key to a configured Table instance containing associations to both the source and target tables in this association.</li> <li>dependent: Set to false, if you do not want junction table records removed when an owning record is removed.</li> <li>cascadeCallbacks: Set to true if you want CakePHP to fire callbacks on cascaded deletes. If false the ORM will use deleteAll() to remove data. When true join/junction table records will be loaded and then deleted.</li> <li>conditions: array with a list of conditions to filter the join with.</li> <li>sort: The order in which results for this association should be returned.</li> <li>strategy: The strategy to be used for selecting results Either 'select' or 'subquery'. If subquery is selected the query used to return results in the source table will be used as conditions for getting rows in the target table.</li> <li>saveStrategy: Either 'append' or 'replace'. Indicates the mode to be used for saving associated entities. The former will only create new links between both side of the relation and the latter will do a wipe and replace to create the links between the passed entities when saving.</li> <li>strategy: The loading strategy to use. 'select' and 'subquery' are supported.</li> <li>finder: The finder method to use when loading records from this association. Defaults to 'all'.</li> </ul> <p>This method will return the association object that was built.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$associated</var> </dt> <dd><p>the alias for the target table. This is used to uniquely identify the association</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>list of options to configure the association definition</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Association\BelongsToMany</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="buildRules()"> buildRules()   <span class="label">public</span> </h3> <pre data-language="php">buildRules(Cake\Datasource\RulesChecker $rules): Cake\ORM\RulesChecker</pre> <div class="description detailed"> <p>Returns a RulesChecker object after modifying the one that was supplied.</p> <p>Subclasses should override this method in order to initialize the rules to be applied to entities saved by this instance.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Datasource\RulesChecker</code> <var>$rules</var> </dt> <dd><p>The rules object to be modified.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\RulesChecker</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="callFinder()"> callFinder()   <span class="label">public</span> </h3> <pre data-language="php">callFinder(string $type, Cake\ORM\Query $query, array&lt;string, mixed&gt; $options = []): Cake\ORM\Query</pre> <div class="description detailed"> <p>Calls a finder method and applies it to the passed query.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$type</var> </dt> <dd><p>Name of the finder to be called.</p></dd> <dt> <code>Cake\ORM\Query</code> <var>$query</var> </dt> <dd><p>The query object to apply the finder options to.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>List of options to pass to the finder.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Query</code><br> </div> <h4>Throws</h4> <div class="list"> <code>BadMethodCallException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="checkAliasLengths()"> checkAliasLengths()   <span class="label">protected</span> </h3> <pre data-language="php">checkAliasLengths(): void</pre> <div class="description detailed"> <p>Checks if all table name + column name combinations used for queries fit into the max length allowed by database driver.</p> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> <h4>Throws</h4> <div class="list"> <code>RuntimeException</code><br> When an alias combination is too long </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="checkRules()"> checkRules()   <span class="label">public</span> </h3> <pre data-language="php">checkRules(Cake\Datasource\EntityInterface $entity, string $operation = RulesChecker::CREATE, ArrayObject|array|null $options = null): bool</pre> <div class="description detailed"> <p>Returns whether the passed entity complies with all the rules stored in the rules checker.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>The entity to check for validity.</p></dd> <dt> <code>string</code> <var>$operation</var> <span class="label">optional</span> </dt> <dd><p>The operation being run. Either 'create', 'update' or 'delete'.</p></dd> <dt> <code>ArrayObject|array|null</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>The options To be passed to the rules.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="createValidator()"> createValidator()   <span class="label">protected</span> </h3> <pre data-language="php">createValidator(string $name): Cake\Validation\Validator</pre> <div class="description detailed"> <p>Creates a validator using a custom method inside your class.</p> <p>This method is used only to build a new validator and it does not store it in your object. If you want to build and reuse validators, use getValidator() method instead.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The name of the validation set to create.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Validation\Validator</code><br> </div> <h4>Throws</h4> <div class="list"> <code>RuntimeException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="defaultConnectionName()"> defaultConnectionName()   <span class="label">public</span> <span class="label">static</span> </h3> <pre data-language="php">defaultConnectionName(): string</pre> <div class="description detailed"> <p>Get the default connection name.</p> <p>This method is used to get the fallback connection name if an instance is created through the TableLocator without a connection.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\ORM\Locator\TableLocator::get() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="delete()"> delete()   <span class="label">public</span> </h3> <pre data-language="php">delete(Cake\Datasource\EntityInterface $entity, ArrayAccess|array $options = []): bool</pre> <div class="description detailed"> <p>Delete a single entity.</p> <p>For HasMany and HasOne associations records will be removed based on the dependent option. Join table records in BelongsToMany associations will always be removed. You can use the <code>cascadeCallbacks</code> option when defining associations to change how associated data is deleted.</p> <h3>Options</h3> <ul> <li>
<code>atomic</code> Defaults to true. When true the deletion happens within a transaction.</li> <li>
<code>checkRules</code> Defaults to true. Check deletion rules before deleting the record.</li> </ul> <h3>Events</h3> <ul> <li>
<code>Model.beforeDelete</code> Fired before the delete occurs. If stopped the delete will be aborted. Receives the event, entity, and options.</li> <li>
<code>Model.afterDelete</code> Fired after the delete has been successful. Receives the event, entity, and options.</li> <li>
<code>Model.afterDeleteCommit</code> Fired after the transaction is committed for an atomic delete. Receives the event, entity, and options.</li> </ul> <p>The options argument will be converted into an \ArrayObject instance for the duration of the callbacks, this allows listeners to modify the options used in the delete operation.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>The entity to remove.</p></dd> <dt> <code>ArrayAccess|array</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>The options for the delete.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="deleteAll()"> deleteAll()   <span class="label">public</span> </h3> <pre data-language="php">deleteAll(mixed $conditions): int</pre> <div class="description detailed"> <p>Deletes all records matching the provided conditions.</p> <p>This method will <em>not</em> trigger beforeDelete/afterDelete events. If you need those first load a collection of records and delete them.</p> <p>This method will <em>not</em> execute on associations' <code>cascade</code> attribute. You should use database foreign keys + ON CASCADE rules if you need cascading deletes combined with this method.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$conditions</var> </dt>  </dl> </div> <h4>Returns</h4> <div class="list"> <code>int</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="deleteMany()"> deleteMany()   <span class="label">public</span> </h3> <pre data-language="php">deleteMany(iterableCake\Datasource\EntityInterface&gt; $entities, ArrayAccess|array $options = []): iterableCake\Datasource\EntityInterface&gt;|false</pre> <div class="description detailed"> <p>Deletes multiple entities of a table.</p> <p>The records will be deleted in a transaction which will be rolled back if any one of the records fails to delete due to failed validation or database error.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>iterableCake\Datasource\EntityInterface&gt;</code> <var>$entities</var> </dt> <dd><p>Entities to delete.</p></dd> <dt> <code>ArrayAccess|array</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Options used when calling Table::save() for each entity.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>iterableCake\Datasource\EntityInterface&gt;|false</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\ORM\Table::delete() for options and events related to this method. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="deleteManyOrFail()"> deleteManyOrFail()   <span class="label">public</span> </h3> <pre data-language="php">deleteManyOrFail(iterableCake\Datasource\EntityInterface&gt; $entities, ArrayAccess|array $options = []): iterableCake\Datasource\EntityInterface&gt;</pre> <div class="description detailed"> <p>Deletes multiple entities of a table.</p> <p>The records will be deleted in a transaction which will be rolled back if any one of the records fails to delete due to failed validation or database error.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>iterableCake\Datasource\EntityInterface&gt;</code> <var>$entities</var> </dt> <dd><p>Entities to delete.</p></dd> <dt> <code>ArrayAccess|array</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Options used when calling Table::save() for each entity.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>iterableCake\Datasource\EntityInterface&gt;</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\ORM\Exception\PersistenceFailedException</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\ORM\Table::delete() for options and events related to this method. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="deleteOrFail()"> deleteOrFail()   <span class="label">public</span> </h3> <pre data-language="php">deleteOrFail(Cake\Datasource\EntityInterface $entity, ArrayAccess|array $options = []): true</pre> <div class="description detailed"> <p>Try to delete an entity or throw a PersistenceFailedException if the entity is new, has no primary key value, application rules checks failed or the delete was aborted by a callback.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>The entity to remove.</p></dd> <dt> <code>ArrayAccess|array</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>The options for the delete.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>true</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\ORM\Exception\PersistenceFailedException</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\ORM\Table::delete() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="dispatchEvent()"> dispatchEvent()   <span class="label">public</span> </h3> <pre data-language="php">dispatchEvent(string $name, array|null $data = null, object|null $subject = null): Cake\Event\EventInterface</pre> <div class="description detailed"> <p>Wrapper for creating and dispatching events.</p> <p>Returns a dispatched event.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>Name of the event.</p></dd> <dt> <code>array|null</code> <var>$data</var> <span class="label">optional</span> </dt> <dd><p>Any value you wish to be transported with this event to it can be read by listeners.</p></dd> <dt> <code>object|null</code> <var>$subject</var> <span class="label">optional</span> </dt> <dd><p>The object that this event applies to ($this by default).</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Event\EventInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="exists()"> exists()   <span class="label">public</span> </h3> <pre data-language="php">exists(array $conditions): bool</pre> <div class="description detailed"> <p>Returns true if there is any record in this repository matching the specified conditions.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$conditions</var> </dt>  </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="find()"> find()   <span class="label">public</span> </h3> <pre data-language="php">find(string $type = 'all', array&lt;string, mixed&gt; $options = []): Cake\ORM\Query</pre> <div class="description detailed"> <p>Creates a new Query for this repository and applies some defaults based on the type of search that was selected.</p> <h3>Model.beforeFind event</h3> <p>Each find() will trigger a <code>Model.beforeFind</code> event for all attached listeners. Any listener can set a valid result set using $query</p> <p>By default, <code>$options</code> will recognize the following keys:</p> <ul> <li>fields</li> <li>conditions</li> <li>order</li> <li>limit</li> <li>offset</li> <li>page</li> <li>group</li> <li>having</li> <li>contain</li> <li>join</li> </ul> <h3>Usage</h3> <p>Using the options array:</p> <pre data-language="php">$query = $articles-&gt;find('all', [
  'conditions' =&gt; ['published' =&gt; 1],
  'limit' =&gt; 10,
  'contain' =&gt; ['Users', 'Comments']
]);</pre> <p>Using the builder interface:</p> <pre data-language="php">$query = $articles-&gt;find()
  -&gt;where(['published' =&gt; 1])
  -&gt;limit(10)
  -&gt;contain(['Users', 'Comments']);</pre> <h3>Calling finders</h3> <p>The find() method is the entry point for custom finder methods. You can invoke a finder by specifying the type:</p> <pre data-language="php">$query = $articles-&gt;find('published');</pre> <p>Would invoke the <code>findPublished</code> method.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$type</var> <span class="label">optional</span> </dt> <dd><p>the type of query to perform</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>An array that will be passed to Query::applyOptions()</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Query</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="findAll()"> findAll()   <span class="label">public</span> </h3> <pre data-language="php">findAll(Cake\ORM\Query $query, array&lt;string, mixed&gt; $options): Cake\ORM\Query</pre> <div class="description detailed"> <p>Returns the query as passed.</p> <p>By default findAll() applies no conditions, you can override this method in subclasses to modify how <code>find('all')</code> works.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\ORM\Query</code> <var>$query</var> </dt> <dd><p>The query to find with</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> </dt> <dd><p>The options to use for the find</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Query</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="findAssociation()"> findAssociation()   <span class="label">protected</span> </h3> <pre data-language="php">findAssociation(string $name): Cake\ORM\Association|null</pre> <div class="description detailed"> <p>Returns an association object configured for the specified alias if any.</p> <p>The name argument also supports dot syntax to access deeper associations.</p> <pre data-language="php">$users = $this-&gt;getAssociation('Articles.Comments.Users');</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The alias used for the association.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Association|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="findList()"> findList()   <span class="label">public</span> </h3> <pre data-language="php">findList(Cake\ORM\Query $query, array&lt;string, mixed&gt; $options): Cake\ORM\Query</pre> <div class="description detailed"> <p>Sets up a query object so results appear as an indexed array, useful for any place where you would want a list such as for populating input select boxes.</p> <p>When calling this finder, the fields passed are used to determine what should be used as the array key, value and optionally what to group the results by. By default, the primary key for the model is used for the key, and the display field as value.</p> <p>The results of this finder will be in the following form:</p> <pre data-language="php">[
 1 =&gt; 'value for id 1',
 2 =&gt; 'value for id 2',
 4 =&gt; 'value for id 4'
]</pre> <p>You can specify which property will be used as the key and which as value by using the <code>$options</code> array, when not specified, it will use the results of calling <code>primaryKey</code> and <code>displayField</code> respectively in this table:</p> <pre data-language="php">$table-&gt;find('list', [
 'keyField' =&gt; 'name',
 'valueField' =&gt; 'age'
]);</pre> <p>The <code>valueField</code> can also be an array, in which case you can also specify the <code>valueSeparator</code> option to control how the values will be concatenated:</p> <pre data-language="php">$table-&gt;find('list', [
 'valueField' =&gt; ['first_name', 'last_name'],
 'valueSeparator' =&gt; ' | ',
]);</pre> <p>The results of this finder will be in the following form:</p> <pre data-language="php">[
 1 =&gt; 'John | Doe',
 2 =&gt; 'Steve | Smith'
]</pre> <p>Results can be put together in bigger groups when they share a property, you can customize the property to use for grouping by setting <code>groupField</code>:</p> <pre data-language="php">$table-&gt;find('list', [
 'groupField' =&gt; 'category_id',
]);</pre> <p>When using a <code>groupField</code> results will be returned in this format:</p> <pre data-language="php">[
 'group_1' =&gt; [
     1 =&gt; 'value for id 1',
     2 =&gt; 'value for id 2',
 ]
 'group_2' =&gt; [
     4 =&gt; 'value for id 4'
 ]
]</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\ORM\Query</code> <var>$query</var> </dt> <dd><p>The query to find with</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> </dt> <dd><p>The options for the find</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Query</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="findOrCreate()"> findOrCreate()   <span class="label">public</span> </h3> <pre data-language="php">findOrCreate(Cake\ORM\Query|callable|array $search, callable|null $callback = null, array&lt;string, mixed&gt; $options = []): Cake\Datasource\EntityInterface</pre> <div class="description detailed"> <p>Finds an existing record or creates a new one.</p> <p>A find() will be done to locate an existing record using the attributes defined in $search. If records matches the conditions, the first record will be returned.</p> <p>If no record can be found, a new entity will be created with the $search properties. If a callback is provided, it will be called allowing you to define additional default values. The new entity will be saved and returned.</p> <p>If your find conditions require custom order, associations or conditions, then the $search parameter can be a callable that takes the Query as the argument, or a \Cake\ORM\Query object passed as the $search parameter. Allowing you to customize the find results.</p> <h3>Options</h3> <p>The options array is passed to the save method with exception to the following keys:</p> <ul> <li>atomic: Whether to execute the methods for find, save and callbacks inside a database transaction (default: true)</li> <li>defaults: Whether to use the search criteria as default values for the new entity (default: true)</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\ORM\Query|callable|array</code> <var>$search</var> </dt> <dd><p>The criteria to find existing records by. Note that when you pass a query object you'll have to use the 2nd arg of the method to modify the entity data before saving.</p></dd> <dt> <code>callable|null</code> <var>$callback</var> <span class="label">optional</span> </dt> <dd><p>A callback that will be invoked for newly created entities. This callback will be called <em>before</em> the entity is persisted.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>The options to use when saving.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Datasource\EntityInterface</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\ORM\Exception\PersistenceFailedException</code><br> When the entity couldn't be saved </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="findThreaded()"> findThreaded()   <span class="label">public</span> </h3> <pre data-language="php">findThreaded(Cake\ORM\Query $query, array&lt;string, mixed&gt; $options): Cake\ORM\Query</pre> <div class="description detailed"> <p>Results for this finder will be a nested array, and is appropriate if you want to use the parent_id field of your model data to build nested results.</p> <p>Values belonging to a parent row based on their parent_id value will be recursively nested inside the parent row values using the <code>children</code> property</p> <p>You can customize what fields are used for nesting results, by default the primary key and the <code>parent_id</code> fields are used. If you wish to change these defaults you need to provide the keys <code>keyField</code>, <code>parentField</code> or <code>nestingKey</code> in <code>$options</code>:</p> <pre data-language="php">$table-&gt;find('threaded', [
 'keyField' =&gt; 'id',
 'parentField' =&gt; 'ancestor_id',
 'nestingKey' =&gt; 'children'
]);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\ORM\Query</code> <var>$query</var> </dt> <dd><p>The query to find with</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> </dt> <dd><p>The options to find with</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Query</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="get()"> get()   <span class="label">public</span> </h3> <pre data-language="php">get(mixed $primaryKey, array&lt;string, mixed&gt; $options = []): Cake\Datasource\EntityInterface</pre> <div class="description detailed"> <p>Returns a single record after finding it by its primary key, if no record is found this method throws an exception.</p> <h3>Usage</h3> <p>Get an article and some relationships:</p> <pre data-language="php">$article = $articles-&gt;get(1, ['contain' =&gt; ['Users', 'Comments']]);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$primaryKey</var> </dt> <dd><p>primary key value to find</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>options accepted by <code>Table::find()</code></p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Datasource\EntityInterface</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Datasource\Exception\RecordNotFoundException</code><br> if the record with such id could not be found<br> <code>Cake\Datasource\Exception\InvalidPrimaryKeyException</code><br> When $primaryKey has an incorrect number of elements. </div> <h4>See Also</h4> <div class="list"> \Cake\Datasource\RepositoryInterface::find() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getAlias()"> getAlias()   <span class="label">public</span> </h3> <pre data-language="php">getAlias(): string</pre> <div class="description detailed"> <p>Returns the table alias.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getAssociation()"> getAssociation()   <span class="label">public</span> </h3> <pre data-language="php">getAssociation(string $name): Cake\ORM\Association</pre> <div class="description detailed"> <p>Returns an association object configured for the specified alias.</p> <p>The name argument also supports dot syntax to access deeper associations.</p> <pre data-language="php">$users = $this-&gt;getAssociation('Articles.Comments.Users');</pre> <p>Note that this method requires the association to be present or otherwise throws an exception. If you are not sure, use hasAssociation() before calling this method.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The alias used for the association.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Association</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getBehavior()"> getBehavior()   <span class="label">public</span> </h3> <pre data-language="php">getBehavior(string $name): Cake\ORM\Behavior</pre> <div class="description detailed"> <p>Get a behavior from the registry.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The behavior alias to get from the registry.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Behavior</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> If the behavior does not exist. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getConnection()"> getConnection()   <span class="label">public</span> </h3> <pre data-language="php">getConnection(): Cake\Database\Connection</pre> <div class="description detailed"> <p>Returns the connection instance.</p> <h4>Returns</h4> <div class="list"> <code>Cake\Database\Connection</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getDisplayField()"> getDisplayField()   <span class="label">public</span> </h3> <pre data-language="php">getDisplayField(): array&lt;string&gt;|string|null</pre> <div class="description detailed"> <p>Returns the display field.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;|string|null</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getEntityClass()"> getEntityClass()   <span class="label">public</span> </h3> <pre data-language="php">getEntityClass(): string</pre> <div class="description detailed"> <p>Returns the class used to hydrate rows for this table.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getEventManager()"> getEventManager()   <span class="label">public</span> </h3> <pre data-language="php">getEventManager(): Cake\Event\EventManagerInterface</pre> <div class="description detailed"> <p>Returns the Cake\Event\EventManager manager instance for this object.</p> <p>You can use this instance to register any new listeners or callbacks to the object events, or create your own events and trigger them at will.</p> <h4>Returns</h4> <div class="list"> <code>Cake\Event\EventManagerInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getPrimaryKey()"> getPrimaryKey()   <span class="label">public</span> </h3> <pre data-language="php">getPrimaryKey(): array&lt;string&gt;|string</pre> <div class="description detailed"> <p>Returns the primary key field name.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;|string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getRegistryAlias()"> getRegistryAlias()   <span class="label">public</span> </h3> <pre data-language="php">getRegistryAlias(): string</pre> <div class="description detailed"> <p>Returns the table registry key used to create this table instance.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getSaveOptionsBuilder()"> getSaveOptionsBuilder()   <span class="label">public</span> </h3> <pre data-language="php">getSaveOptionsBuilder(array&lt;string, mixed&gt; $options = []): Cake\ORM\SaveOptionsBuilder</pre> <div class="description detailed"> <p>Gets a SaveOptionsBuilder instance.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Options to parse by the builder.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\SaveOptionsBuilder</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getSchema()"> getSchema()   <span class="label">public</span> </h3> <pre data-language="php">getSchema(): Cake\Database\Schema\TableSchemaInterface</pre> <div class="description detailed"> <p>Returns the schema table object describing this table's properties.</p> <h4>Returns</h4> <div class="list"> <code>Cake\Database\Schema\TableSchemaInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getTable()"> getTable()   <span class="label">public</span> </h3> <pre data-language="php">getTable(): string</pre> <div class="description detailed"> <p>Returns the database table name.</p> <p>This can include the database schema name if set using <code>setTable()</code>.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getValidator()"> getValidator()   <span class="label">public</span> </h3> <pre data-language="php">getValidator(string|null $name = null): Cake\Validation\Validator</pre> <div class="description detailed"> <p>Returns the validation rules tagged with $name. It is possible to have multiple different named validation sets, this is useful when you need to use varying rules when saving from different routines in your system.</p> <p>If a validator has not been set earlier, this method will build a valiator using a method inside your class.</p> <p>For example, if you wish to create a validation set called 'forSubscription', you will need to create a method in your Table subclass as follows:</p> <pre data-language="php">public function validationForSubscription($validator)
{
    return $validator
        -&gt;add('email', 'valid-email', ['rule' =&gt; 'email'])
        -&gt;add('password', 'valid', ['rule' =&gt; 'notBlank'])
        -&gt;requirePresence('username');
}

$validator = $this-&gt;getValidator('forSubscription');</pre> <p>You can implement the method in <code>validationDefault</code> in your Table subclass should you wish to have a validation set that applies in cases where no other set is specified.</p> <p>If a $name argument has not been provided, the default validator will be returned. You can configure your default validator name in a <code>DEFAULT_VALIDATOR</code> class constant.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$name</var> <span class="label">optional</span> </dt> <dd><p>The name of the validation set to return.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Validation\Validator</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="hasAssociation()"> hasAssociation()   <span class="label">public</span> </h3> <pre data-language="php">hasAssociation(string $name): bool</pre> <div class="description detailed"> <p>Checks whether a specific association exists on this Table instance.</p> <p>The name argument also supports dot syntax to access deeper associations.</p> <pre data-language="php">$hasUsers = $this-&gt;hasAssociation('Articles.Comments.Users');</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The alias used for the association.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="hasBehavior()"> hasBehavior()   <span class="label">public</span> </h3> <pre data-language="php">hasBehavior(string $name): bool</pre> <div class="description detailed"> <p>Check if a behavior with the given alias has been loaded.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The behavior alias to check.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="hasField()"> hasField()   <span class="label">public</span> </h3> <pre data-language="php">hasField(string $field): bool</pre> <div class="description detailed"> <p>Test to see if a Table has a specific field/column.</p> <p>Delegates to the schema object and checks for column presence using the Schema\Table instance.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$field</var> </dt> <dd><p>The field to check for.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="hasFinder()"> hasFinder()   <span class="label">public</span> </h3> <pre data-language="php">hasFinder(string $type): bool</pre> <div class="description detailed"> <p>Returns true if the finder exists for the table</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$type</var> </dt> <dd><p>name of finder to check</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="hasMany()"> hasMany()   <span class="label">public</span> </h3> <pre data-language="php">hasMany(string $associated, array&lt;string, mixed&gt; $options = []): Cake\ORM\Association\HasMany</pre> <div class="description detailed"> <p>Creates a new HasMany association between this table and a target table. A "has many" association is a 1-N relationship.</p> <p>Target table can be inferred by its name, which is provided in the first argument, or you can either pass the class name to be instantiated or an instance of it directly.</p> <p>The options array accept the following keys:</p> <ul> <li>className: The class name of the target table object</li> <li>targetTable: An instance of a table object to be used as the target table</li> <li>foreignKey: The name of the field to use as foreign key, if false none will be used</li> <li>dependent: Set to true if you want CakePHP to cascade deletes to the associated table when an entity is removed on this table. The delete operation on the associated table will not cascade further. To get recursive cascades enable <code>cascadeCallbacks</code> as well. Set to false if you don't want CakePHP to remove associated data, or when you are using database constraints.</li> <li>cascadeCallbacks: Set to true if you want CakePHP to fire callbacks on cascaded deletes. If false the ORM will use deleteAll() to remove data. When true records will be loaded and then deleted.</li> <li>conditions: array with a list of conditions to filter the join with</li> <li>sort: The order in which results for this association should be returned</li> <li>saveStrategy: Either 'append' or 'replace'. When 'append' the current records are appended to any records in the database. When 'replace' associated records not in the current set will be removed. If the foreign key is a null able column or if <code>dependent</code> is true records will be orphaned.</li> <li>strategy: The strategy to be used for selecting results Either 'select' or 'subquery'. If subquery is selected the query used to return results in the source table will be used as conditions for getting rows in the target table.</li> <li>finder: The finder method to use when loading records from this association. Defaults to 'all'.</li> </ul> <p>This method will return the association object that was built.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$associated</var> </dt> <dd><p>the alias for the target table. This is used to uniquely identify the association</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>list of options to configure the association definition</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Association\HasMany</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="hasOne()"> hasOne()   <span class="label">public</span> </h3> <pre data-language="php">hasOne(string $associated, array&lt;string, mixed&gt; $options = []): Cake\ORM\Association\HasOne</pre> <div class="description detailed"> <p>Creates a new HasOne association between this table and a target table. A "has one" association is a 1-1 relationship.</p> <p>Target table can be inferred by its name, which is provided in the first argument, or you can either pass the class name to be instantiated or an instance of it directly.</p> <p>The options array accept the following keys:</p> <ul> <li>className: The class name of the target table object</li> <li>targetTable: An instance of a table object to be used as the target table</li> <li>foreignKey: The name of the field to use as foreign key, if false none will be used</li> <li>dependent: Set to true if you want CakePHP to cascade deletes to the associated table when an entity is removed on this table. The delete operation on the associated table will not cascade further. To get recursive cascades enable <code>cascadeCallbacks</code> as well. Set to false if you don't want CakePHP to remove associated data, or when you are using database constraints.</li> <li>cascadeCallbacks: Set to true if you want CakePHP to fire callbacks on cascaded deletes. If false the ORM will use deleteAll() to remove data. When true records will be loaded and then deleted.</li> <li>conditions: array with a list of conditions to filter the join with</li> <li>joinType: The type of join to be used (e.g. LEFT)</li> <li>strategy: The loading strategy to use. 'join' and 'select' are supported.</li> <li>finder: The finder method to use when loading records from this association. Defaults to 'all'. When the strategy is 'join', only the fields, containments, and where conditions will be used from the finder.</li> </ul> <p>This method will return the association object that was built.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$associated</var> </dt> <dd><p>the alias for the target table. This is used to uniquely identify the association</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>list of options to configure the association definition</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Association\HasOne</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="hasValidator()"> hasValidator()   <span class="label">public</span> </h3> <pre data-language="php">hasValidator(string $name): bool</pre> <div class="description detailed"> <p>Checks whether a validator has been set.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The name of a validator.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="implementedEvents()"> implementedEvents()   <span class="label">public</span> </h3> <pre data-language="php">implementedEvents(): array&lt;string, mixed&gt;</pre> <div class="description detailed"> <p>Get the Model callbacks this table is interested in.</p> <p>By implementing the conventional methods a table class is assumed to be interested in the related event.</p> <p>Override this method if you need to add non-conventional event listeners. Or if you want you table to listen to non-standard events.</p> <p>The conventional method map is:</p> <ul> <li>Model.beforeMarshal =&gt; beforeMarshal</li> <li>Model.afterMarshal =&gt; afterMarshal</li> <li>Model.buildValidator =&gt; buildValidator</li> <li>Model.beforeFind =&gt; beforeFind</li> <li>Model.beforeSave =&gt; beforeSave</li> <li>Model.afterSave =&gt; afterSave</li> <li>Model.afterSaveCommit =&gt; afterSaveCommit</li> <li>Model.beforeDelete =&gt; beforeDelete</li> <li>Model.afterDelete =&gt; afterDelete</li> <li>Model.afterDeleteCommit =&gt; afterDeleteCommit</li> <li>Model.beforeRules =&gt; beforeRules</li> <li>Model.afterRules =&gt; afterRules</li> </ul> <h4>Returns</h4> <div class="list"> <code>array&lt;string, mixed&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="initialize()"> initialize()   <span class="label">public</span> </h3> <pre data-language="php">initialize(array&lt;string, mixed&gt; $config): void</pre> <div class="description detailed"> <p>Initialize a table instance. Called after the constructor.</p> <p>You can use this method to define associations, attach behaviors define validation and do any other initialization logic you need.</p> <pre data-language="php">public function initialize(array $config)
 {
     $this-&gt;belongsTo('Users');
     $this-&gt;belongsToMany('Tagging.Tags');
     $this-&gt;setPrimaryKey('something_else');
 }</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string, mixed&gt;</code> <var>$config</var> </dt> <dd><p>Configuration options passed to the constructor</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>void</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="loadInto()"> loadInto()   <span class="label">public</span> </h3> <pre data-language="php">loadInto(Cake\Datasource\EntityInterface|arrayCake\Datasource\EntityInterface&gt; $entities, array $contain): Cake\Datasource\EntityInterface|arrayCake\Datasource\EntityInterface&gt;</pre> <div class="description detailed"> <p>Loads the specified associations in the passed entity or list of entities by executing extra queries in the database and merging the results in the appropriate properties.</p> <h3>Example:</h3> <pre data-language="php">$user = $usersTable-&gt;get(1);
$user = $usersTable-&gt;loadInto($user, ['Articles.Tags', 'Articles.Comments']);
echo $user-&gt;articles[0]-&gt;title;</pre> <p>You can also load associations for multiple entities at once</p> <h3>Example:</h3> <pre data-language="php">$users = $usersTable-&gt;find()-&gt;where([...])-&gt;toList();
$users = $usersTable-&gt;loadInto($users, ['Articles.Tags', 'Articles.Comments']);
echo $user[1]-&gt;articles[0]-&gt;title;</pre> <p>The properties for the associations to be loaded will be overwritten on each entity.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Datasource\EntityInterface|arrayCake\Datasource\EntityInterface&gt;</code> <var>$entities</var> </dt> <dd><p>a single entity or list of entities</p></dd> <dt> <code>array</code> <var>$contain</var> </dt> <dd><p>A <code>contain()</code> compatible array.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Datasource\EntityInterface|arrayCake\Datasource\EntityInterface&gt;</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\ORM\Query::contain() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="marshaller()"> marshaller()   <span class="label">public</span> </h3> <pre data-language="php">marshaller(): Cake\ORM\Marshaller</pre> <div class="description detailed"> <p>Get the object used to marshal/convert array data into objects.</p> <p>Override this method if you want a table object to use custom marshalling logic.</p> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Marshaller</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\ORM\Marshaller </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="newEmptyEntity()"> newEmptyEntity()   <span class="label">public</span> </h3> <pre data-language="php">newEmptyEntity(): Cake\Datasource\EntityInterface</pre> <div class="description detailed"> <p>This creates a new entity object.</p> <p>Careful: This does not trigger any field validation. This entity can be persisted without validation error as empty record. Always patch in required fields before saving.</p> <h4>Returns</h4> <div class="list"> <code>Cake\Datasource\EntityInterface</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="newEntities()"> newEntities()   <span class="label">public</span> </h3> <pre data-language="php">newEntities(array $data, array&lt;string, mixed&gt; $options = []): arrayCake\Datasource\EntityInterface&gt;</pre> <div class="description detailed"> <p>Create a list of entities + associated entities from an array.</p> <p>By default all the associations on this table will be hydrated. You can limit which associations are built, or include deeper associations using the options parameter:</p> <pre data-language="php">$articles = $this-&gt;Articles-&gt;newEntities(
  $this-&gt;request-&gt;getData(),
  ['associated' =&gt; ['Tags', 'Comments.Users']]
);</pre> <p>You can limit fields that will be present in the constructed entities by passing the <code>fields</code> option, which is also accepted for associations:</p> <pre data-language="php">$articles = $this-&gt;Articles-&gt;newEntities($this-&gt;request-&gt;getData(), [
 'fields' =&gt; ['title', 'body', 'tags', 'comments'],
 'associated' =&gt; ['Tags', 'Comments.Users' =&gt; ['fields' =&gt; 'username']]
 ]
);</pre> <p>You can use the <code>Model.beforeMarshal</code> event to modify request data before it is converted into entities.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$data</var> </dt> <dd><p>The data to build an entity with.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>A list of options for the objects hydration.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>arrayCake\Datasource\EntityInterface&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="newEntity()"> newEntity()   <span class="label">public</span> </h3> <pre data-language="php">newEntity(array $data, array&lt;string, mixed&gt; $options = []): Cake\Datasource\EntityInterface</pre> <div class="description detailed"> <p>Create a new entity + associated entities from an array.</p> <p>By default all the associations on this table will be hydrated. You can limit which associations are built, or include deeper associations using the options parameter:</p> <pre data-language="php">$article = $this-&gt;Articles-&gt;newEntity(
  $this-&gt;request-&gt;getData(),
  ['associated' =&gt; ['Tags', 'Comments.Users']]
);</pre> <p>You can limit fields that will be present in the constructed entity by passing the <code>fields</code> option, which is also accepted for associations:</p> <pre data-language="php">$article = $this-&gt;Articles-&gt;newEntity($this-&gt;request-&gt;getData(), [
 'fields' =&gt; ['title', 'body', 'tags', 'comments'],
 'associated' =&gt; ['Tags', 'Comments.Users' =&gt; ['fields' =&gt; 'username']]
]
);</pre> <p>The <code>fields</code> option lets remove or restrict input data from ending up in the entity. If you'd like to relax the entity's default accessible fields, you can use the <code>accessibleFields</code> option:</p> <pre data-language="php">$article = $this-&gt;Articles-&gt;newEntity(
  $this-&gt;request-&gt;getData(),
  ['accessibleFields' =&gt; ['protected_field' =&gt; true]]
);</pre> <p>By default, the data is validated before being passed to the new entity. In the case of invalid fields, those will not be present in the resulting object. The <code>validate</code> option can be used to disable validation on the passed data:</p> <pre data-language="php">$article = $this-&gt;Articles-&gt;newEntity(
  $this-&gt;request-&gt;getData(),
  ['validate' =&gt; false]
);</pre> <p>You can also pass the name of the validator to use in the <code>validate</code> option. If <code>null</code> is passed to the first param of this function, no validation will be performed.</p> <p>You can use the <code>Model.beforeMarshal</code> event to modify request data before it is converted into entities.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array</code> <var>$data</var> </dt> <dd><p>The data to build an entity with.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>A list of options for the object hydration.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Datasource\EntityInterface</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\ORM\Marshaller::one() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="patchEntities()"> patchEntities()   <span class="label">public</span> </h3> <pre data-language="php">patchEntities(iterableCake\Datasource\EntityInterface&gt; $entities, array $data, array&lt;string, mixed&gt; $options = []): arrayCake\Datasource\EntityInterface&gt;</pre> <div class="description detailed"> <p>Merges each of the elements passed in <code>$data</code> into the entities found in <code>$entities</code> respecting the accessible fields configured on the entities. Merging is done by matching the primary key in each of the elements in <code>$data</code> and <code>$entities</code>.</p> <p>Those entries in <code>$entities</code> that cannot be matched to any record in <code>$data</code> will be discarded. Records in <code>$data</code> that could not be matched will be marshalled as a new entity.</p> <p>When merging HasMany or BelongsToMany associations, all the entities in the <code>$data</code> array will appear, those that can be matched by primary key will get the data merged, but those that cannot, will be discarded.</p> <p>You can limit fields that will be present in the merged entities by passing the <code>fields</code> option, which is also accepted for associations:</p> <pre data-language="php">$articles = $this-&gt;Articles-&gt;patchEntities($articles, $this-&gt;request-&gt;getData(), [
 'fields' =&gt; ['title', 'body', 'tags', 'comments'],
 'associated' =&gt; ['Tags', 'Comments.Users' =&gt; ['fields' =&gt; 'username']]
 ]
);</pre> <p>You can use the <code>Model.beforeMarshal</code> event to modify request data before it is converted into entities.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>iterableCake\Datasource\EntityInterface&gt;</code> <var>$entities</var> </dt> <dd><p>the entities that will get the data merged in</p></dd> <dt> <code>array</code> <var>$data</var> </dt> <dd><p>list of arrays to be merged into the entities</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>A list of options for the objects hydration.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>arrayCake\Datasource\EntityInterface&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="patchEntity()"> patchEntity()   <span class="label">public</span> </h3> <pre data-language="php">patchEntity(Cake\Datasource\EntityInterface $entity, array $data, array&lt;string, mixed&gt; $options = []): Cake\Datasource\EntityInterface</pre> <div class="description detailed"> <p>Merges the passed <code>$data</code> into <code>$entity</code> respecting the accessible fields configured on the entity. Returns the same entity after being altered.</p> <p>When merging HasMany or BelongsToMany associations, all the entities in the <code>$data</code> array will appear, those that can be matched by primary key will get the data merged, but those that cannot, will be discarded.</p> <p>You can limit fields that will be present in the merged entity by passing the <code>fields</code> option, which is also accepted for associations:</p> <pre data-language="php">$article = $this-&gt;Articles-&gt;patchEntity($article, $this-&gt;request-&gt;getData(), [
 'fields' =&gt; ['title', 'body', 'tags', 'comments'],
 'associated' =&gt; ['Tags', 'Comments.Users' =&gt; ['fields' =&gt; 'username']]
 ]
);</pre> <pre data-language="php">$article = $this-&gt;Articles-&gt;patchEntity($article, $this-&gt;request-&gt;getData(), [
  'associated' =&gt; [
    'Tags' =&gt; ['accessibleFields' =&gt; ['*' =&gt; true]]
  ]
]);</pre> <p>By default, the data is validated before being passed to the entity. In the case of invalid fields, those will not be assigned to the entity. The <code>validate</code> option can be used to disable validation on the passed data:</p> <pre data-language="php">$article = $this-&gt;patchEntity($article, $this-&gt;request-&gt;getData(),[
 'validate' =&gt; false
]);</pre> <p>You can use the <code>Model.beforeMarshal</code> event to modify request data before it is converted into entities.</p> <p>When patching scalar values (null/booleans/string/integer/float), if the property presently has an identical value, the setter will not be called, and the property will not be marked as dirty. This is an optimization to prevent unnecessary field updates when persisting entities.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>the entity that will get the data merged in</p></dd> <dt> <code>array</code> <var>$data</var> </dt> <dd><p>key value list of fields to be merged into the entity</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>A list of options for the object hydration.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Datasource\EntityInterface</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\ORM\Marshaller::merge() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="query()"> query()   <span class="label">public</span> </h3> <pre data-language="php">query(): Cake\ORM\Query</pre> <div class="description detailed"> <p>Creates a new Query instance for a table.</p> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Query</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="removeBehavior()"> removeBehavior()   <span class="label">public</span> </h3> <pre data-language="php">removeBehavior(string $name): $this</pre> <div class="description detailed"> <p>Removes a behavior from this table's behavior registry.</p> <p>Example:</p> <p>Remove a behavior from this table.</p> <pre data-language="php">$this-&gt;removeBehavior('Tree');</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The alias that the behavior was added with.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\ORM\Behavior </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="rulesChecker()"> rulesChecker()   <span class="label">public</span> </h3> <pre data-language="php">rulesChecker(): Cake\Datasource\RulesChecker</pre> <div class="description detailed"> <p>Returns the RulesChecker for this instance.</p> <p>A RulesChecker object is used to test an entity for validity on rules that may involve complex logic or data that needs to be fetched from relevant datasources.</p> <h4>Returns</h4> <div class="list"> <code>Cake\Datasource\RulesChecker</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Datasource\RulesChecker </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="save()"> save()   <span class="label">public</span> </h3> <pre data-language="php">save(Cake\Datasource\EntityInterface $entity, ArrayAccess|array $options = []): Cake\Datasource\EntityInterface|false</pre> <div class="description detailed"> <p>Persists an entity based on the fields that are marked as dirty and returns the same entity after a successful save or false in case of any error.</p> <h3>Options</h3> <p>The options array accepts the following keys:</p> <ul> <li>atomic: Whether to execute the save and callbacks inside a database transaction (default: true)</li> <li>checkRules: Whether to check the rules on entity before saving, if the checking fails, it will abort the save operation. (default:true)</li> <li>associated: If <code>true</code> it will save 1st level associated entities as they are found in the passed <code>$entity</code> whenever the property defined for the association is marked as dirty. If an array, it will be interpreted as the list of associations to be saved. It is possible to provide different options for saving on associated table objects using this key by making the custom options the array value. If <code>false</code> no associated records will be saved. (default: <code>true</code>)</li> <li>checkExisting: Whether to check if the entity already exists, assuming that the entity is marked as not new, and the primary key has been set.</li> </ul> <h3>Events</h3> <p>When saving, this method will trigger four events:</p> <ul> <li>Model.beforeRules: Will be triggered right before any rule checking is done for the passed entity if the <code>checkRules</code> key in $options is not set to false. Listeners will receive as arguments the entity, options array and the operation type. If the event is stopped the rules check result will be set to the result of the event itself.</li> <li>Model.afterRules: Will be triggered right after the <code>checkRules()</code> method is called for the entity. Listeners will receive as arguments the entity, options array, the result of checking the rules and the operation type. If the event is stopped the checking result will be set to the result of the event itself.</li> <li>Model.beforeSave: Will be triggered just before the list of fields to be persisted is calculated. It receives both the entity and the options as arguments. The options array is passed as an ArrayObject, so any changes in it will be reflected in every listener and remembered at the end of the event so it can be used for the rest of the save operation. Returning false in any of the listeners will abort the saving process. If the event is stopped using the event API, the event object's <code>result</code> property will be returned. This can be useful when having your own saving strategy implemented inside a listener.</li> <li>Model.afterSave: Will be triggered after a successful insert or save, listeners will receive the entity and the options array as arguments. The type of operation performed (insert or update) can be determined by checking the entity's method <code>isNew</code>, true meaning an insert and false an update.</li> <li>Model.afterSaveCommit: Will be triggered after the transaction is committed for atomic save, listeners will receive the entity and the options array as arguments.</li> </ul> <p>This method will determine whether the passed entity needs to be inserted or updated in the database. It does that by checking the <code>isNew</code> method on the entity. If the entity to be saved returns a non-empty value from its <code>errors()</code> method, it will not be saved.</p> <h3>Saving on associated tables</h3> <p>This method will by default persist entities belonging to associated tables, whenever a dirty property matching the name of the property name set for an association in this table. It is possible to control what associations will be saved and to pass additional option for saving them.</p> <pre data-language="php">// Only save the comments association
$articles-&gt;save($entity, ['associated' =&gt; ['Comments']]);

// Save the company, the employees and related addresses for each of them.
// For employees do not check the entity rules
$companies-&gt;save($entity, [
  'associated' =&gt; [
    'Employees' =&gt; [
      'associated' =&gt; ['Addresses'],
      'checkRules' =&gt; false
    ]
  ]
]);

// Save no associations
$articles-&gt;save($entity, ['associated' =&gt; false]);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>the entity to be saved</p></dd> <dt> <code>ArrayAccess|array</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>The options to use when saving.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Datasource\EntityInterface|false</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\ORM\Exception\RolledbackTransactionException</code><br> If the transaction is aborted in the afterSave event. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="saveMany()"> saveMany()   <span class="label">public</span> </h3> <pre data-language="php">saveMany(iterableCake\Datasource\EntityInterface&gt; $entities, Cake\ORM\SaveOptionsBuilderArrayAccess|array $options = []): iterableCake\Datasource\EntityInterface&gt;|false</pre> <div class="description detailed"> <p>Persists multiple entities of a table.</p> <p>The records will be saved in a transaction which will be rolled back if any one of the records fails to save due to failed validation or database error.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>iterableCake\Datasource\EntityInterface&gt;</code> <var>$entities</var> </dt> <dd><p>Entities to save.</p></dd> <dt> <code>Cake\ORM\SaveOptionsBuilderArrayAccess|array</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Options used when calling Table::save() for each entity.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>iterableCake\Datasource\EntityInterface&gt;|false</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Exception</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="saveManyOrFail()"> saveManyOrFail()   <span class="label">public</span> </h3> <pre data-language="php">saveManyOrFail(iterableCake\Datasource\EntityInterface&gt; $entities, ArrayAccess|array $options = []): iterableCake\Datasource\EntityInterface&gt;</pre> <div class="description detailed"> <p>Persists multiple entities of a table.</p> <p>The records will be saved in a transaction which will be rolled back if any one of the records fails to save due to failed validation or database error.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>iterableCake\Datasource\EntityInterface&gt;</code> <var>$entities</var> </dt> <dd><p>Entities to save.</p></dd> <dt> <code>ArrayAccess|array</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Options used when calling Table::save() for each entity.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>iterableCake\Datasource\EntityInterface&gt;</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Exception</code><br> <br> <code>Cake\ORM\Exception\PersistenceFailedException</code><br> If an entity couldn't be saved. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="saveOrFail()"> saveOrFail()   <span class="label">public</span> </h3> <pre data-language="php">saveOrFail(Cake\Datasource\EntityInterface $entity, ArrayAccess|array $options = []): Cake\Datasource\EntityInterface</pre> <div class="description detailed"> <p>Try to save an entity or throw a PersistenceFailedException if the application rules checks failed, the entity contains errors or the save was aborted by a callback.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Datasource\EntityInterface</code> <var>$entity</var> </dt> <dd><p>the entity to be saved</p></dd> <dt> <code>ArrayAccess|array</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>The options to use when saving.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Datasource\EntityInterface</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\ORM\Exception\PersistenceFailedException</code><br> When the entity couldn't be saved </div> <h4>See Also</h4> <div class="list"> \Cake\ORM\Table::save() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setAlias()"> setAlias()   <span class="label">public</span> </h3> <pre data-language="php">setAlias(string $alias): $this</pre> <div class="description detailed"> <p>Sets the table alias.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$alias</var> </dt> <dd><p>Table alias</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setConnection()"> setConnection()   <span class="label">public</span> </h3> <pre data-language="php">setConnection(Cake\Database\Connection $connection): $this</pre> <div class="description detailed"> <p>Sets the connection instance.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Database\Connection</code> <var>$connection</var> </dt> <dd><p>The connection instance</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setDisplayField()"> setDisplayField()   <span class="label">public</span> </h3> <pre data-language="php">setDisplayField(array&lt;string&gt;|string $field): $this</pre> <div class="description detailed"> <p>Sets the display field.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;|string</code> <var>$field</var> </dt> <dd><p>Name to be used as display field.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setEntityClass()"> setEntityClass()   <span class="label">public</span> </h3> <pre data-language="php">setEntityClass(string $name): $this</pre> <div class="description detailed"> <p>Sets the class used to hydrate rows for this table.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The name of the class to use</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\ORM\Exception\MissingEntityException</code><br> when the entity class cannot be found </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setEventManager()"> setEventManager()   <span class="label">public</span> </h3> <pre data-language="php">setEventManager(Cake\Event\EventManagerInterface $eventManager): $this</pre> <div class="description detailed"> <p>Returns the Cake\Event\EventManagerInterface instance for this object.</p> <p>You can use this instance to register any new listeners or callbacks to the object events, or create your own events and trigger them at will.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Event\EventManagerInterface</code> <var>$eventManager</var> </dt> <dd><p>the eventManager to set</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setPrimaryKey()"> setPrimaryKey()   <span class="label">public</span> </h3> <pre data-language="php">setPrimaryKey(array&lt;string&gt;|string $key): $this</pre> <div class="description detailed"> <p>Sets the primary key field name.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;|string</code> <var>$key</var> </dt> <dd><p>Sets a new name to be used as primary key</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setRegistryAlias()"> setRegistryAlias()   <span class="label">public</span> </h3> <pre data-language="php">setRegistryAlias(string $registryAlias): $this</pre> <div class="description detailed"> <p>Sets the table registry key used to create this table instance.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$registryAlias</var> </dt> <dd><p>The key used to access this object.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setSchema()"> setSchema()   <span class="label">public</span> </h3> <pre data-language="php">setSchema(Cake\Database\Schema\TableSchemaInterface|array $schema): $this</pre> <div class="description detailed"> <p>Sets the schema table object describing this table's properties.</p> <p>If an array is passed, a new TableSchemaInterface will be constructed out of it and used as the schema for this table.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Database\Schema\TableSchemaInterface|array</code> <var>$schema</var> </dt> <dd><p>Schema to be used for this table</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setTable()"> setTable()   <span class="label">public</span> </h3> <pre data-language="php">setTable(string $table): $this</pre> <div class="description detailed"> <p>Sets the database table name.</p> <p>This can include the database schema name in the form 'schema.table'. If the name must be quoted, enable automatic identifier quoting.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$table</var> </dt> <dd><p>Table name.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setValidator()"> setValidator()   <span class="label">public</span> </h3> <pre data-language="php">setValidator(string $name, Cake\Validation\Validator $validator): $this</pre> <div class="description detailed"> <p>This method stores a custom validator under the given name.</p> <p>You can build the object by yourself and store it in your object:</p> <pre data-language="php">$validator = new \Cake\Validation\Validator();
$validator
    -&gt;add('email', 'valid-email', ['rule' =&gt; 'email'])
    -&gt;add('password', 'valid', ['rule' =&gt; 'notBlank'])
    -&gt;allowEmpty('bio');
$this-&gt;setValidator('forSubscription', $validator);</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The name of a validator to be set.</p></dd> <dt> <code>Cake\Validation\Validator</code> <var>$validator</var> </dt> <dd><p>Validator object to be set.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="subquery()"> subquery()   <span class="label">public</span> </h3> <pre data-language="php">subquery(): Cake\ORM\Query</pre> <div class="description detailed"> <p>Creates a new Query::subquery() instance for a table.</p> <h4>Returns</h4> <div class="list"> <code>Cake\ORM\Query</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\ORM\Query::subquery() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="updateAll()"> updateAll()   <span class="label">public</span> </h3> <pre data-language="php">updateAll(Cake\Database\Expression\QueryExpressionClosure|array|string $fields, mixed $conditions): int</pre> <div class="description detailed"> <p>Update all matching records.</p> <p>Sets the $fields to the provided values based on $conditions. This method will <em>not</em> trigger beforeSave/afterSave events. If you need those first load a collection of records and update them.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Database\Expression\QueryExpressionClosure|array|string</code> <var>$fields</var> </dt>  <dt> <code>mixed</code> <var>$conditions</var> </dt>  </dl> </div> <h4>Returns</h4> <div class="list"> <code>int</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="validateUnique()"> validateUnique()   <span class="label">public</span> </h3> <pre data-language="php">validateUnique(mixed $value, array&lt;string, mixed&gt; $options, array|null $context = null): bool</pre> <div class="description detailed"> <p>Validator method used to check the uniqueness of a value for a column. This is meant to be used with the validation API and not to be called directly.</p> <h3>Example:</h3> <pre data-language="php">$validator-&gt;add('email', [
 'unique' =&gt; ['rule' =&gt; 'validateUnique', 'provider' =&gt; 'table']
])</pre> <p>Unique validation can be scoped to the value of another column:</p> <pre data-language="php">$validator-&gt;add('email', [
 'unique' =&gt; [
     'rule' =&gt; ['validateUnique', ['scope' =&gt; 'site_id']],
     'provider' =&gt; 'table'
 ]
]);</pre> <p>In the above example, the email uniqueness will be scoped to only rows having the same site_id. Scoping will only be used if the scoping field is present in the data to be validated.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>mixed</code> <var>$value</var> </dt> <dd><p>The value of column to be checked for uniqueness.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> </dt> <dd><p>The options array, optionally containing the 'scope' key. May also be the validation context, if there are no options.</p></dd> <dt> <code>array|null</code> <var>$context</var> <span class="label">optional</span> </dt> <dd><p>Either the validation context or null.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="validationDefault()"> validationDefault()   <span class="label">public</span> </h3> <pre data-language="php">validationDefault(Cake\Validation\Validator $validator): Cake\Validation\Validator</pre> <div class="description detailed"> <p>Returns the default validator object. Subclasses can override this function to add a default validation set to the validator object.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Validation\Validator</code> <var>$validator</var> </dt> <dd><p>The validator that can be modified to add some rules to it.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Validation\Validator</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="validationMethodExists()"> validationMethodExists()   <span class="label">protected</span> </h3> <pre data-language="php">validationMethodExists(string $name): bool</pre> <div class="description detailed"> <p>Checks if validation method exists.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt>  </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_alias"> <var>$_alias</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Human name giving to this particular instance. Multiple objects representing the same database table can exist by using different aliases.</p> <h4>Type</h4> <div class="list"> <code>string|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_associations"> <var>$_associations</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The associations container for this Table.</p> <h4>Type</h4> <div class="list"> <code>Cake\ORM\AssociationCollection</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_behaviors"> <var>$_behaviors</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>BehaviorRegistry for this table</p> <h4>Type</h4> <div class="list"> <code>Cake\ORM\BehaviorRegistry</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_connection"> <var>$_connection</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Connection instance</p> <h4>Type</h4> <div class="list"> <code>Cake\Database\Connection|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_displayField"> <var>$_displayField</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The name of the field that represents a human-readable representation of a row</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;|string|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_entityClass"> <var>$_entityClass</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The name of the class that represent a single row for this table</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_eventClass"> <var>$_eventClass</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Default class name for new event objects.</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_eventManager"> <var>$_eventManager</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Instance of the Cake\Event\EventManager this object is using to dispatch inner events.</p> <h4>Type</h4> <div class="list"> <code>Cake\Event\EventManagerInterface|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_primaryKey"> <var>$_primaryKey</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The name of the field that represents the primary key in the table</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;|string|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_registryAlias"> <var>$_registryAlias</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Registry key used to create this table object</p> <h4>Type</h4> <div class="list"> <code>string|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_rulesChecker"> <var>$_rulesChecker</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The domain rules to be applied to entities saved by this table</p> <h4>Type</h4> <div class="list"> <code>Cake\Datasource\RulesChecker</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_schema"> <var>$_schema</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The schema object containing a description of this table fields</p> <h4>Type</h4> <div class="list"> <code>Cake\Database\Schema\TableSchemaInterface|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_table"> <var>$_table</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Name of the table as it can be found in the database</p> <h4>Type</h4> <div class="list"> <code>string|null</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_validatorClass"> <var>$_validatorClass</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Validator class.</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_validators"> <var>$_validators</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>A list of validation objects indexed by name</p> <h4>Type</h4> <div class="list"> <code>arrayCake\Validation\Validator&gt;</code><br> </div> </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.ORM.Table.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.ORM.Table.html</a>
  </p>
</div>
