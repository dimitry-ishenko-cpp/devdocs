<h1> Class RouteBuilder  </h1> <div class="description"> <p>Provides features for building routes inside scopes.</p> <p>Gives an easy to use way to build routes and append them into a route collection.</p> </div> <div class="info"> <b>Namespace:</b> <a href="namespace-cake.routing.html">Cake\Routing</a><br> </div> <div class="section"> <h2>Constants</h2> <ul class="member-summary constants"> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>ID</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">'[0-9]+'</pre> </div> <div class="col-md-10 col-md-offset-2"> <p>Regular expression for auto increment IDs</p> </div> </li> <li class="clearfix">  <div class="attributes col-md-2 col-sm-2 p0"> <code>string</code> </div> <div class="name col-md-10 col-sm-10"> <b>UUID</b>   </div> <div class="col-md-10 col-md-offset-2"> <pre data-language="php">'[A-Fa-f0-9]{8}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{12}'</pre> </div> <div class="col-md-10 col-md-offset-2"> <p>Regular expression for UUIDs</p> </div> </li> </ul> </div> <div class="section"> <h2>Property Summary</h2> <ul class="member-summary properties"> <li class="clearfix"> <div class="name"> <a href="#%24_collection">$_collection</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>Cake\Routing\RouteCollection</code></div> <div class="description"> <p>The route collection routes should be added to.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_extensions">$_extensions</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;</code></div> <div class="description"> <p>The extensions that should be set into the routes connected.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_namePrefix">$_namePrefix</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>Name prefix for connected routes.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_params">$_params</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array</code></div> <div class="description"> <p>The scope parameters if there are any.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_path">$_path</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>The path prefix scope that this collection uses.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_resourceMap">$_resourceMap</a> <span class="attributes"> <span class="label">protected</span> <span class="label">static</span> </span> </div> <div class="property-type"><code>array&lt;string, array&gt;</code></div> <div class="description"> <p>Default HTTP request method =&gt; controller action map.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24_routeClass">$_routeClass</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>string</code></div> <div class="description"> <p>Default route class to use if none is provided in connect() options.</p> </div> </li> <li class="clearfix"> <div class="name"> <a href="#%24middleware">$middleware</a> <span class="attributes"> <span class="label">protected</span> </span> </div> <div class="property-type"><code>array&lt;string&gt;</code></div> <div class="description"> <p>The list of middleware that routes in this builder get added during construction.</p> </div> </li> </ul> </div> <div class="section"> <h2>Method Summary</h2> <ul class="member-summary"> <li class="clearfix"> <h5 class="function-name"> <a href="#__construct()">__construct()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Constructor</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_makeRoute()">_makeRoute()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Create a route object, or return the provided object.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#_methodRoute()">_methodRoute()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Helper to create routes that only respond to a single HTTP method.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#addExtensions()">addExtensions()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Add additional extensions to what is already in current scope</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#applyMiddleware()">applyMiddleware()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Apply a middleware to the current route scope.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#connect()">connect()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Connects a new Route.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#delete()">delete()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Create a route that only responds to DELETE requests.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#fallbacks()">fallbacks()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Connect the <code>/{controller}</code> and <code>/{controller}/{action}/*</code> fallback routes.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#get()">get()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Create a route that only responds to GET requests.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getExtensions()">getExtensions()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the extensions in this route builder's scope.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getMiddleware()">getMiddleware()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the middleware that this builder will apply to routes.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#getRouteClass()">getRouteClass()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get default route class.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#head()">head()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Create a route that only responds to HEAD requests.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#loadPlugin()">loadPlugin()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Load routes from a plugin.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#middlewareGroup()">middlewareGroup()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Apply a set of middleware to a group</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#nameExists()">nameExists()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Checks if there is already a route with a given name.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#namePrefix()">namePrefix()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get/set the name prefix for this scope.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#options()">options()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Create a route that only responds to OPTIONS requests.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#params()">params()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the parameter names/values for this scope.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#parseDefaults()">parseDefaults()</a> <span class="label">protected</span> </h5> <div class="description detailed"> <p>Parse the defaults if they're a string</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#patch()">patch()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Create a route that only responds to PATCH requests.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#path()">path()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Get the path this scope is for.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#plugin()">plugin()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Add plugin routes.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#post()">post()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Create a route that only responds to POST requests.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#prefix()">prefix()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Add prefixed routes.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#put()">put()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Create a route that only responds to PUT requests.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#redirect()">redirect()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Connects a new redirection Route in the router.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#registerMiddleware()">registerMiddleware()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Register a middleware with the RouteCollection.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#resources()">resources()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Generate REST resource routes for the given controller(s).</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#scope()">scope()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Create a new routing scope.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setExtensions()">setExtensions()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Set the extensions in this route builder's scope.</p> </div> </li> <li class="clearfix"> <h5 class="function-name"> <a href="#setRouteClass()">setRouteClass()</a> <span class="label">public</span> </h5> <div class="description detailed"> <p>Set default route class.</p> </div> </li> </ul> <div class="section"> <h2>Method Detail</h2> <div class="method-detail">  <h3 class="method-name" id="__construct()"> __construct()   <span class="label">public</span> </h3> <pre data-language="php">__construct(Cake\Routing\RouteCollection $collection, string $path, array $params = [], array&lt;string, mixed&gt; $options = [])</pre> <div class="description detailed"> <p>Constructor</p> <h3>Options</h3> <ul> <li>
<code>routeClass</code> - The default route class to use when adding routes.</li> <li>
<code>extensions</code> - The extensions to connect when adding routes.</li> <li>
<code>namePrefix</code> - The prefix to prepend to all route names.</li> <li>
<code>middleware</code> - The names of the middleware routes should have applied.</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Routing\RouteCollection</code> <var>$collection</var> </dt> <dd><p>The route collection to append routes into.</p></dd> <dt> <code>string</code> <var>$path</var> </dt> <dd><p>The path prefix the scope is for.</p></dd> <dt> <code>array</code> <var>$params</var> <span class="label">optional</span> </dt> <dd><p>The scope's routing parameters.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Options list.</p></dd> </dl> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_makeRoute()"> _makeRoute()   <span class="label">protected</span> </h3> <pre data-language="php">_makeRoute(Cake\Routing\Route\Route|string $route, array $defaults, array&lt;string, mixed&gt; $options): Cake\Routing\Route\Route</pre> <div class="description detailed"> <p>Create a route object, or return the provided object.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Routing\Route\Route|string</code> <var>$route</var> </dt> <dd><p>The route template or route object.</p></dd> <dt> <code>array</code> <var>$defaults</var> </dt> <dd><p>Default parameters.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> </dt> <dd><p>Additional options parameters.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Routing\Route\Route</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> when route class or route object is invalid.<br> <code>BadMethodCallException</code><br> when the route to make conflicts with the current scope </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="_methodRoute()"> _methodRoute()   <span class="label">protected</span> </h3> <pre data-language="php">_methodRoute(string $method, string $template, array|string $target, string|null $name): Cake\Routing\Route\Route</pre> <div class="description detailed"> <p>Helper to create routes that only respond to a single HTTP method.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$method</var> </dt> <dd><p>The HTTP method name to match.</p></dd> <dt> <code>string</code> <var>$template</var> </dt> <dd><p>The URL template to use.</p></dd> <dt> <code>array|string</code> <var>$target</var> </dt> <dd><p>An array describing the target route parameters. These parameters should indicate the plugin, prefix, controller, and action that this route points to.</p></dd> <dt> <code>string|null</code> <var>$name</var> </dt> <dd><p>The name of the route.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Routing\Route\Route</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="addExtensions()"> addExtensions()   <span class="label">public</span> </h3> <pre data-language="php">addExtensions(array&lt;string&gt;|string $extensions): $this</pre> <div class="description detailed"> <p>Add additional extensions to what is already in current scope</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;|string</code> <var>$extensions</var> </dt> <dd><p>One or more extensions to add</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="applyMiddleware()"> applyMiddleware()   <span class="label">public</span> </h3> <pre data-language="php">applyMiddleware(string ...$names): $this</pre> <div class="description detailed"> <p>Apply a middleware to the current route scope.</p> <p>Requires middleware to be registered via <code>registerMiddleware()</code></p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> ...<var>$names</var> </dt> <dd><p>The names of the middleware to apply to the current scope.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>RuntimeException</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Routing\RouteCollection::addMiddlewareToScope() </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="connect()"> connect()   <span class="label">public</span> </h3> <pre data-language="php">connect(Cake\Routing\Route\Route|string $route, array|string $defaults = [], array&lt;string, mixed&gt; $options = []): Cake\Routing\Route\Route</pre> <div class="description detailed"> <p>Connects a new Route.</p> <p>Routes are a way of connecting request URLs to objects in your application. At their core routes are a set or regular expressions that are used to match requests to destinations.</p> <p>Examples:</p> <pre data-language="php">$routes-&gt;connect('/{controller}/{action}/*');</pre> <p>The first parameter will be used as a controller name while the second is used as the action name. The '/*' syntax makes this route greedy in that it will match requests like <code>/posts/index</code> as well as requests like <code>/posts/edit/1/foo/bar</code>.</p> <pre data-language="php">$routes-&gt;connect('/home-page', ['controller' =&gt; 'Pages', 'action' =&gt; 'display', 'home']);</pre> <p>The above shows the use of route parameter defaults. And providing routing parameters for a static route.</p> <pre data-language="php">$routes-&gt;connect(
  '/{lang}/{controller}/{action}/{id}',
  [],
  ['id' =&gt; '[0-9]+', 'lang' =&gt; '[a-z]{3}']
);</pre> <p>Shows connecting a route with custom route parameters as well as providing patterns for those parameters. Patterns for routing parameters do not need capturing groups, as one will be added for each route params.</p> <p>$options offers several 'special' keys that have special meaning in the $options array.</p> <ul> <li>
<code>routeClass</code> is used to extend and change how individual routes parse requests and handle reverse routing, via a custom routing class. Ex. <code>'routeClass' =&gt; 'SlugRoute'</code>
</li> <li>
<code>pass</code> is used to define which of the routed parameters should be shifted into the pass array. Adding a parameter to pass will remove it from the regular route array. Ex. <code>'pass' =&gt; ['slug']</code>.</li> <li>
<code>persist</code> is used to define which route parameters should be automatically included when generating new URLs. You can override persistent parameters by redefining them in a URL or remove them by setting the parameter to <code>false</code>. Ex. <code>'persist' =&gt; ['lang']</code>
</li> <li>
<code>multibytePattern</code> Set to true to enable multibyte pattern support in route parameter patterns.</li> <li>
<code>_name</code> is used to define a specific name for routes. This can be used to optimize reverse routing lookups. If undefined a name will be generated for each connected route.</li> <li>
<code>_ext</code> is an array of filename extensions that will be parsed out of the url if present. See {@link \Cake\Routing\RouteCollection::setExtensions()}.</li> <li>
<code>_method</code> Only match requests with specific HTTP verbs.</li> <li>
<code>_host</code> - Define the host name pattern if you want this route to only match specific host names. You can use <code>.*</code> and to create wildcard subdomains/hosts e.g. <code>*.example.com</code> matches all subdomains on <code>example.com</code>.</li> <li>'_port` - Define the port if you want this route to only match specific port number.</li> </ul> <p>Example of using the <code>_method</code> condition:</p> <pre data-language="php">$routes-&gt;connect('/tasks', ['controller' =&gt; 'Tasks', 'action' =&gt; 'index', '_method' =&gt; 'GET']);</pre> <p>The above route will only be matched for GET requests. POST requests will fail to match this route.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>Cake\Routing\Route\Route|string</code> <var>$route</var> </dt> <dd><p>A string describing the template of the route</p></dd> <dt> <code>array|string</code> <var>$defaults</var> <span class="label">optional</span> </dt> <dd><p>An array describing the default route parameters. These parameters will be used by default and can supply routing parameters that are not dynamic. See above.</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>An array matching the named elements in the route to regular expressions which that element should match. Also contains additional parameters such as which routed parameters should be shifted into the passed arguments, supplying patterns for routing parameters and supplying the name of a custom routing class.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Routing\Route\Route</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> <br> <code>BadMethodCallException</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="delete()"> delete()   <span class="label">public</span> </h3> <pre data-language="php">delete(string $template, array|string $target, string|null $name = null): Cake\Routing\Route\Route</pre> <div class="description detailed"> <p>Create a route that only responds to DELETE requests.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$template</var> </dt> <dd><p>The URL template to use.</p></dd> <dt> <code>array|string</code> <var>$target</var> </dt> <dd><p>An array describing the target route parameters. These parameters should indicate the plugin, prefix, controller, and action that this route points to.</p></dd> <dt> <code>string|null</code> <var>$name</var> <span class="label">optional</span> </dt> <dd><p>The name of the route.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Routing\Route\Route</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="fallbacks()"> fallbacks()   <span class="label">public</span> </h3> <pre data-language="php">fallbacks(string|null $routeClass = null): $this</pre> <div class="description detailed"> <p>Connect the <code>/{controller}</code> and <code>/{controller}/{action}/*</code> fallback routes.</p> <p>This is a shortcut method for connecting fallback routes in a given scope.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$routeClass</var> <span class="label">optional</span> </dt> <dd><p>the route class to use, uses the default routeClass if not specified</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="get()"> get()   <span class="label">public</span> </h3> <pre data-language="php">get(string $template, array|string $target, string|null $name = null): Cake\Routing\Route\Route</pre> <div class="description detailed"> <p>Create a route that only responds to GET requests.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$template</var> </dt> <dd><p>The URL template to use.</p></dd> <dt> <code>array|string</code> <var>$target</var> </dt> <dd><p>An array describing the target route parameters. These parameters should indicate the plugin, prefix, controller, and action that this route points to.</p></dd> <dt> <code>string|null</code> <var>$name</var> <span class="label">optional</span> </dt> <dd><p>The name of the route.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Routing\Route\Route</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getExtensions()"> getExtensions()   <span class="label">public</span> </h3> <pre data-language="php">getExtensions(): array&lt;string&gt;</pre> <div class="description detailed"> <p>Get the extensions in this route builder's scope.</p> <h4>Returns</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getMiddleware()"> getMiddleware()   <span class="label">public</span> </h3> <pre data-language="php">getMiddleware(): array</pre> <div class="description detailed"> <p>Get the middleware that this builder will apply to routes.</p> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="getRouteClass()"> getRouteClass()   <span class="label">public</span> </h3> <pre data-language="php">getRouteClass(): string</pre> <div class="description detailed"> <p>Get default route class.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="head()"> head()   <span class="label">public</span> </h3> <pre data-language="php">head(string $template, array|string $target, string|null $name = null): Cake\Routing\Route\Route</pre> <div class="description detailed"> <p>Create a route that only responds to HEAD requests.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$template</var> </dt> <dd><p>The URL template to use.</p></dd> <dt> <code>array|string</code> <var>$target</var> </dt> <dd><p>An array describing the target route parameters. These parameters should indicate the plugin, prefix, controller, and action that this route points to.</p></dd> <dt> <code>string|null</code> <var>$name</var> <span class="label">optional</span> </dt> <dd><p>The name of the route.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Routing\Route\Route</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="loadPlugin()"> loadPlugin()   <span class="label">public</span> </h3> <pre data-language="php">loadPlugin(string $name): $this</pre> <div class="description detailed"> <p>Load routes from a plugin.</p> <p>The routes file will have a local variable named <code>$routes</code> made available which contains the current RouteBuilder instance.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The plugin name</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>Cake\Core\Exception\MissingPluginException</code><br> When the plugin has not been loaded.<br> <code>InvalidArgumentException</code><br> When the plugin does not have a routes file. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="middlewareGroup()"> middlewareGroup()   <span class="label">public</span> </h3> <pre data-language="php">middlewareGroup(string $name, array&lt;string&gt; $middlewareNames): $this</pre> <div class="description detailed"> <p>Apply a set of middleware to a group</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>Name of the middleware group</p></dd> <dt> <code>array&lt;string&gt;</code> <var>$middlewareNames</var> </dt> <dd><p>Names of the middleware</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="nameExists()"> nameExists()   <span class="label">public</span> </h3> <pre data-language="php">nameExists(string $name): bool</pre> <div class="description detailed"> <p>Checks if there is already a route with a given name.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>Name.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>bool</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="namePrefix()"> namePrefix()   <span class="label">public</span> </h3> <pre data-language="php">namePrefix(string|null $value = null): string</pre> <div class="description detailed"> <p>Get/set the name prefix for this scope.</p> <p>Modifying the name prefix will only change the prefix used for routes connected after the prefix is changed.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string|null</code> <var>$value</var> <span class="label">optional</span> </dt> <dd><p>Either the value to set or null.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="options()"> options()   <span class="label">public</span> </h3> <pre data-language="php">options(string $template, array|string $target, string|null $name = null): Cake\Routing\Route\Route</pre> <div class="description detailed"> <p>Create a route that only responds to OPTIONS requests.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$template</var> </dt> <dd><p>The URL template to use.</p></dd> <dt> <code>array|string</code> <var>$target</var> </dt> <dd><p>An array describing the target route parameters. These parameters should indicate the plugin, prefix, controller, and action that this route points to.</p></dd> <dt> <code>string|null</code> <var>$name</var> <span class="label">optional</span> </dt> <dd><p>The name of the route.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Routing\Route\Route</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="params()"> params()   <span class="label">public</span> </h3> <pre data-language="php">params(): array</pre> <div class="description detailed"> <p>Get the parameter names/values for this scope.</p> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="parseDefaults()"> parseDefaults()   <span class="label">protected</span> </h3> <pre data-language="php">parseDefaults(array|string $defaults): array</pre> <div class="description detailed"> <p>Parse the defaults if they're a string</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array|string</code> <var>$defaults</var> </dt> <dd><p>Defaults array from the connect() method.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="patch()"> patch()   <span class="label">public</span> </h3> <pre data-language="php">patch(string $template, array|string $target, string|null $name = null): Cake\Routing\Route\Route</pre> <div class="description detailed"> <p>Create a route that only responds to PATCH requests.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$template</var> </dt> <dd><p>The URL template to use.</p></dd> <dt> <code>array|string</code> <var>$target</var> </dt> <dd><p>An array describing the target route parameters. These parameters should indicate the plugin, prefix, controller, and action that this route points to.</p></dd> <dt> <code>string|null</code> <var>$name</var> <span class="label">optional</span> </dt> <dd><p>The name of the route.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Routing\Route\Route</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="path()"> path()   <span class="label">public</span> </h3> <pre data-language="php">path(): string</pre> <div class="description detailed"> <p>Get the path this scope is for.</p> <h4>Returns</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="plugin()"> plugin()   <span class="label">public</span> </h3> <pre data-language="php">plugin(string $name, callable|array $options = [], callable|null $callback = null): $this</pre> <div class="description detailed"> <p>Add plugin routes.</p> <p>This method creates a new scoped route collection that includes relevant plugin information.</p> <p>The plugin name will be inflected to the underscore version to create the routing path. If you want a custom path name, use the <code>path</code> option.</p> <p>Routes connected in the scoped collection will have the correct path segment prepended, and have a matching plugin routing key set.</p> <h3>Options</h3> <ul> <li>
<code>path</code> The path prefix to use. Defaults to <code>Inflector::dasherize($name)</code>.</li> <li>
<code>_namePrefix</code> Set a prefix used for named routes. The prefix is prepended to the name of any route created in a scope callback.</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The plugin name to build routes for</p></dd> <dt> <code>callable|array</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Either the options to use, or a callback to build routes.</p></dd> <dt> <code>callable|null</code> <var>$callback</var> <span class="label">optional</span> </dt> <dd><p>The callback to invoke that builds the plugin routes Only required when $options is defined.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="post()"> post()   <span class="label">public</span> </h3> <pre data-language="php">post(string $template, array|string $target, string|null $name = null): Cake\Routing\Route\Route</pre> <div class="description detailed"> <p>Create a route that only responds to POST requests.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$template</var> </dt> <dd><p>The URL template to use.</p></dd> <dt> <code>array|string</code> <var>$target</var> </dt> <dd><p>An array describing the target route parameters. These parameters should indicate the plugin, prefix, controller, and action that this route points to.</p></dd> <dt> <code>string|null</code> <var>$name</var> <span class="label">optional</span> </dt> <dd><p>The name of the route.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Routing\Route\Route</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="prefix()"> prefix()   <span class="label">public</span> </h3> <pre data-language="php">prefix(string $name, callable|array $params = [], callable|null $callback = null): $this</pre> <div class="description detailed"> <p>Add prefixed routes.</p> <p>This method creates a scoped route collection that includes relevant prefix information.</p> <p>The $name parameter is used to generate the routing parameter name. For example a path of <code>admin</code> would result in <code>'prefix' =&gt; 'admin'</code> being applied to all connected routes.</p> <p>You can re-open a prefix as many times as necessary, as well as nest prefixes. Nested prefixes will result in prefix values like <code>admin/api</code> which translates to the <code>Controller\Admin\Api\</code> namespace.</p> <p>If you need to have prefix with dots, eg: '/api/v1.0', use 'path' key for $params argument:</p> <pre data-language="php">$route-&gt;prefix('Api', function($route) {
    $route-&gt;prefix('V10', ['path' =&gt; '/v1.0'], function($route) {
        // Translates to `Controller\Api\V10\` namespace
    });
});</pre> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The prefix name to use.</p></dd> <dt> <code>callable|array</code> <var>$params</var> <span class="label">optional</span> </dt> <dd><p>An array of routing defaults to add to each connected route. If you have no parameters, this argument can be a callable.</p></dd> <dt> <code>callable|null</code> <var>$callback</var> <span class="label">optional</span> </dt> <dd><p>The callback to invoke that builds the prefixed routes.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> If a valid callback is not passed </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="put()"> put()   <span class="label">public</span> </h3> <pre data-language="php">put(string $template, array|string $target, string|null $name = null): Cake\Routing\Route\Route</pre> <div class="description detailed"> <p>Create a route that only responds to PUT requests.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$template</var> </dt> <dd><p>The URL template to use.</p></dd> <dt> <code>array|string</code> <var>$target</var> </dt> <dd><p>An array describing the target route parameters. These parameters should indicate the plugin, prefix, controller, and action that this route points to.</p></dd> <dt> <code>string|null</code> <var>$name</var> <span class="label">optional</span> </dt> <dd><p>The name of the route.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Routing\Route\Route</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="redirect()"> redirect()   <span class="label">public</span> </h3> <pre data-language="php">redirect(string $route, array|string $url, array&lt;string, mixed&gt; $options = []): Cake\Routing\Route\RouteCake\Routing\Route\RedirectRoute</pre> <div class="description detailed"> <p>Connects a new redirection Route in the router.</p> <p>Redirection routes are different from normal routes as they perform an actual header redirection if a match is found. The redirection can occur within your application or redirect to an outside location.</p> <p>Examples:</p> <pre data-language="php">$routes-&gt;redirect('/home/*', ['controller' =&gt; 'Posts', 'action' =&gt; 'view']);</pre> <p>Redirects /home/* to /posts/view and passes the parameters to /posts/view. Using an array as the redirect destination allows you to use other routes to define where a URL string should be redirected to.</p> <pre data-language="php">$routes-&gt;redirect('/posts/*', 'http://google.com', ['status' =&gt; 302]);</pre> <p>Redirects /posts/* to <a href="https://google.com">http://google.com</a> with a HTTP status of 302</p> <h3>Options:</h3> <ul> <li>
<code>status</code> Sets the HTTP status (default 301)</li> <li>
<code>persist</code> Passes the params to the redirected route, if it can. This is useful with greedy routes, routes that end in <code>*</code> are greedy. As you can remap URLs and not lose any passed args.</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$route</var> </dt> <dd><p>A string describing the template of the route</p></dd> <dt> <code>array|string</code> <var>$url</var> </dt> <dd><p>A URL to redirect to. Can be a string or a Cake array-based URL</p></dd> <dt> <code>array&lt;string, mixed&gt;</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>An array matching the named elements in the route to regular expressions which that element should match. Also contains additional parameters such as which routed parameters should be shifted into the passed arguments. As well as supplying patterns for routing parameters.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>Cake\Routing\Route\RouteCake\Routing\Route\RedirectRoute</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="registerMiddleware()"> registerMiddleware()   <span class="label">public</span> </h3> <pre data-language="php">registerMiddleware(string $name, Psr\Http\Server\MiddlewareInterfaceClosure|string $middleware): $this</pre> <div class="description detailed"> <p>Register a middleware with the RouteCollection.</p> <p>Once middleware has been registered, it can be applied to the current routing scope or any child scopes that share the same RouteCollection.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>The name of the middleware. Used when applying middleware to a scope.</p></dd> <dt> <code>Psr\Http\Server\MiddlewareInterfaceClosure|string</code> <var>$middleware</var> </dt> <dd><p>The middleware to register.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>See Also</h4> <div class="list"> \Cake\Routing\RouteCollection </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="resources()"> resources()   <span class="label">public</span> </h3> <pre data-language="php">resources(string $name, callable|array $options = [], callable|null $callback = null): $this</pre> <div class="description detailed"> <p>Generate REST resource routes for the given controller(s).</p> <p>A quick way to generate a default routes to a set of REST resources (controller(s)).</p> <h3>Usage</h3> <p>Connect resource routes for an app controller:</p> <pre data-language="php">$routes-&gt;resources('Posts');</pre> <p>Connect resource routes for the Comments controller in the Comments plugin:</p> <pre data-language="php">Router::plugin('Comments', function ($routes) {
  $routes-&gt;resources('Comments');
});</pre> <p>Plugins will create lowercase dasherized resource routes. e.g <code>/comments/comments</code></p> <p>Connect resource routes for the Articles controller in the Admin prefix:</p> <pre data-language="php">Router::prefix('Admin', function ($routes) {
  $routes-&gt;resources('Articles');
});</pre> <p>Prefixes will create lowercase dasherized resource routes. e.g <code>/admin/posts</code></p> <p>You can create nested resources by passing a callback in:</p> <pre data-language="php">$routes-&gt;resources('Articles', function ($routes) {
  $routes-&gt;resources('Comments');
});</pre> <p>The above would generate both resource routes for <code>/articles</code>, and <code>/articles/{article_id}/comments</code>. You can use the <code>map</code> option to connect additional resource methods:</p> <pre data-language="php">$routes-&gt;resources('Articles', [
  'map' =&gt; ['deleteAll' =&gt; ['action' =&gt; 'deleteAll', 'method' =&gt; 'DELETE']]
]);</pre> <p>In addition to the default routes, this would also connect a route for <code>/articles/delete_all</code>. By default, the path segment will match the key name. You can use the 'path' key inside the resource definition to customize the path name.</p> <p>You can use the <code>inflect</code> option to change how path segments are generated:</p> <pre data-language="php">$routes-&gt;resources('PaymentTypes', ['inflect' =&gt; 'underscore']);</pre> <p>Will generate routes like <code>/payment-types</code> instead of <code>/payment_types</code></p> <h3>Options:</h3> <ul> <li>'id' - The regular expression fragment to use when matching IDs. By default, matches integer values and UUIDs.</li> <li>'inflect' - Choose the inflection method used on the resource name. Defaults to 'dasherize'.</li> <li>'only' - Only connect the specific list of actions.</li> <li>'actions' - Override the method names used for connecting actions.</li> <li>'map' - Additional resource routes that should be connected. If you define 'only' and 'map', make sure that your mapped methods are also in the 'only' list.</li> <li>'prefix' - Define a routing prefix for the resource controller. If the current scope defines a prefix, this prefix will be appended to it.</li> <li>'connectOptions' - Custom options for connecting the routes.</li> <li>'path' - Change the path so it doesn't match the resource name. E.g ArticlesController is available at <code>/posts</code>
</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$name</var> </dt> <dd><p>A controller name to connect resource routes for.</p></dd> <dt> <code>callable|array</code> <var>$options</var> <span class="label">optional</span> </dt> <dd><p>Options to use when generating REST routes, or a callback.</p></dd> <dt> <code>callable|null</code> <var>$callback</var> <span class="label">optional</span> </dt> <dd><p>An optional callback to be executed in a nested scope. Nested scopes inherit the existing path and 'id' parameter.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="scope()"> scope()   <span class="label">public</span> </h3> <pre data-language="php">scope(string $path, callable|array $params, callable|null $callback = null): $this</pre> <div class="description detailed"> <p>Create a new routing scope.</p> <p>Scopes created with this method will inherit the properties of the scope they are added to. This means that both the current path and parameters will be appended to the supplied parameters.</p> <h3>Special Keys in $params</h3> <ul> <li>
<code>_namePrefix</code> Set a prefix used for named routes. The prefix is prepended to the name of any route created in a scope callback.</li> </ul> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$path</var> </dt> <dd><p>The path to create a scope for.</p></dd> <dt> <code>callable|array</code> <var>$params</var> </dt> <dd><p>Either the parameters to add to routes, or a callback.</p></dd> <dt> <code>callable|null</code> <var>$callback</var> <span class="label">optional</span> </dt> <dd><p>The callback to invoke that builds the plugin routes. Only required when $params is defined.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> <h4>Throws</h4> <div class="list"> <code>InvalidArgumentException</code><br> when there is no callable parameter. </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setExtensions()"> setExtensions()   <span class="label">public</span> </h3> <pre data-language="php">setExtensions(array&lt;string&gt;|string $extensions): $this</pre> <div class="description detailed"> <p>Set the extensions in this route builder's scope.</p> <p>Future routes connected in through this builder will have the connected extensions applied. However, setting extensions does not modify existing routes.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>array&lt;string&gt;|string</code> <var>$extensions</var> </dt> <dd><p>The extensions to set.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> <div class="method-detail">  <h3 class="method-name" id="setRouteClass()"> setRouteClass()   <span class="label">public</span> </h3> <pre data-language="php">setRouteClass(string $routeClass): $this</pre> <div class="description detailed"> <p>Set default route class.</p> <h4>Parameters</h4> <div class="parameter-list list"> <dl> <dt> <code>string</code> <var>$routeClass</var> </dt> <dd><p>Class name.</p></dd> </dl> </div> <h4>Returns</h4> <div class="list"> <code>$this</code><br> </div> </div> </div> </div> <div class="section"> <h2>Property Detail</h2> <div class="property-detail">  <h3 class="property-name" id="$_collection"> <var>$_collection</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The route collection routes should be added to.</p> <h4>Type</h4> <div class="list"> <code>Cake\Routing\RouteCollection</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_extensions"> <var>$_extensions</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The extensions that should be set into the routes connected.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_namePrefix"> <var>$_namePrefix</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Name prefix for connected routes.</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_params"> <var>$_params</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The scope parameters if there are any.</p> <h4>Type</h4> <div class="list"> <code>array</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_path"> <var>$_path</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The path prefix scope that this collection uses.</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_resourceMap"> <var>$_resourceMap</var>   <span class="label">protected</span> <span class="label">static</span> </h3> <div class="description detailed"> <p>Default HTTP request method =&gt; controller action map.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string, array&gt;</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$_routeClass"> <var>$_routeClass</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>Default route class to use if none is provided in connect() options.</p> <h4>Type</h4> <div class="list"> <code>string</code><br> </div> </div> </div> <div class="property-detail">  <h3 class="property-name" id="$middleware"> <var>$middleware</var>   <span class="label">protected</span> </h3> <div class="description detailed"> <p>The list of middleware that routes in this builder get added during construction.</p> <h4>Type</h4> <div class="list"> <code>array&lt;string&gt;</code><br> </div> </div> </div> </div> </div><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;present The Cake Software Foundation, Inc.<br>Licensed under the MIT License.<br>CakePHP is a registered trademark of Cake Software Foundation, Inc.<br>We are not endorsed by or affiliated with CakePHP.<br>
    <a href="https://api.cakephp.org/4.4/class-Cake.Routing.RouteBuilder.html" class="_attribution-link">https://api.cakephp.org/4.4/class-Cake.Routing.RouteBuilder.html</a>
  </p>
</div>
