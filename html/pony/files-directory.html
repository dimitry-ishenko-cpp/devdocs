<h1 id="directory">Directory</h1> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L15">[Source]</a></span></p> <p>Operations on a directory.</p> <p>The directory-relative functions (open, etc) use the *at interface on FreeBSD and Linux. This isn't available on OS X prior to 10.10, so it is not used. On FreeBSD, this allows the directory-relative functions to take advantage of Capsicum.</p> <pre data-language="pony">class ref Directory
</pre> <h2 id="constructors">Constructors</h2> <h3 id="create">create</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L37">[Source]</a></span></p> <p>This will raise an error if the path doesn't exist or it is not a directory, or if FileRead or FileStat permission isn't available.</p> <pre data-language="pony">new ref create(
  from: FilePath val)
: Directory ref^ ?
</pre> <h4 id="parameters">Parameters</h4> <ul> <li>from: <a href="files-filepath.html">FilePath</a> val</li> </ul> <h4 id="returns">Returns</h4> <ul> <li>
<a href="index.html">Directory</a> ref^ ?</li> </ul>  <h2 id="public-fields">Public fields</h2> <h3 id="let-path-filepath-val">let path: <a href="files-filepath.html">FilePath</a> val</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L24">[Source]</a></span></p> <p>This is the filesystem path locating this directory on the file system and an object capability granting access to operate on this directory.</p>  <h2 id="public-functions">Public Functions</h2> <h3 id="entries">entries</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L77">[Source]</a></span></p> <p>The entries will include everything in the directory, but it is not recursive. The path for the entry will be relative to the directory, so it will contain no directory separators. The entries will not include "." or "..".</p> <pre data-language="pony">fun box entries()
: Array[String val] iso^ ?
</pre> <h4 id="returns_1">Returns</h4> <ul> <li>
<a href="builtin-array.html">Array</a>[<a href="builtin-string.html">String</a> val] iso^ ?</li> </ul>  <h3 id="open">open</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L149">[Source]</a></span></p> <p>Open a directory relative to this one. Raises an error if the path is not within this directory hierarchy.</p> <pre data-language="pony">fun box open(
  target: String val)
: Directory iso^ ?
</pre> <h4 id="parameters_1">Parameters</h4> <ul> <li>target: <a href="builtin-string.html">String</a> val</li> </ul> <h4 id="returns_2">Returns</h4> <ul> <li>
<a href="index.html">Directory</a> iso^ ?</li> </ul>  <h3 id="mkdir">mkdir</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L171">[Source]</a></span></p> <p>Creates a directory relative to this one. Returns false if the path is not within this directory hierarchy or if FileMkdir permission is missing.</p> <pre data-language="pony">fun box mkdir(
  target: String val)
: Bool val
</pre> <h4 id="parameters_2">Parameters</h4> <ul> <li>target: <a href="builtin-string.html">String</a> val</li> </ul> <h4 id="returns_3">Returns</h4> <ul> <li>
<a href="builtin-bool.html">Bool</a> val</li> </ul>  <h3 id="create_file">create_file</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L210">[Source]</a></span></p> <p>Open for read/write, creating if it doesn't exist, preserving the contents if it does exist.</p> <pre data-language="pony">fun box create_file(
  target: String val)
: File iso^ ?
</pre> <h4 id="parameters_3">Parameters</h4> <ul> <li>target: <a href="builtin-string.html">String</a> val</li> </ul> <h4 id="returns_4">Returns</h4> <ul> <li>
<a href="files-file.html">File</a> iso^ ?</li> </ul>  <h3 id="open_file">open_file</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L238">[Source]</a></span></p> <p>Open for read only, failing if it doesn't exist.</p> <pre data-language="pony">fun box open_file(
  target: String val)
: File iso^ ?
</pre> <h4 id="parameters_4">Parameters</h4> <ul> <li>target: <a href="builtin-string.html">String</a> val</li> </ul> <h4 id="returns_5">Returns</h4> <ul> <li>
<a href="files-file.html">File</a> iso^ ?</li> </ul>  <h3 id="info">info</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L261">[Source]</a></span></p> <p>Return a FileInfo for this directory. Raise an error if the fd is invalid or if we don't have FileStat permission.</p> <pre data-language="pony">fun box info()
: FileInfo val ?
</pre> <h4 id="returns_6">Returns</h4> <ul> <li>
<a href="files-fileinfo.html">FileInfo</a> val ?</li> </ul>  <h3 id="chmod">chmod</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L268">[Source]</a></span></p> <p>Set the FileMode for this directory.</p> <pre data-language="pony">fun box chmod(
  mode: FileMode box)
: Bool val
</pre> <h4 id="parameters_5">Parameters</h4> <ul> <li>mode: <a href="files-filemode.html">FileMode</a> box</li> </ul> <h4 id="returns_7">Returns</h4> <ul> <li>
<a href="builtin-bool.html">Bool</a> val</li> </ul>  <h3 id="chown">chown</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L274">[Source]</a></span></p> <p>Set the owner and group for this directory. Does nothing on Windows.</p> <pre data-language="pony">fun box chown(
  uid: U32 val,
  gid: U32 val)
: Bool val
</pre> <h4 id="parameters_6">Parameters</h4> <ul> <li>uid: <a href="builtin-u32.html">U32</a> val</li> <li>gid: <a href="builtin-u32.html">U32</a> val</li> </ul> <h4 id="returns_8">Returns</h4> <ul> <li>
<a href="builtin-bool.html">Bool</a> val</li> </ul>  <h3 id="touch">touch</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L280">[Source]</a></span></p> <p>Set the last access and modification times of the directory to now.</p> <pre data-language="pony">fun box touch()
: Bool val
</pre> <h4 id="returns_9">Returns</h4> <ul> <li>
<a href="builtin-bool.html">Bool</a> val</li> </ul>  <h3 id="set_time">set_time</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L286">[Source]</a></span></p> <p>Set the last access and modification times of the directory to the given values.</p> <pre data-language="pony">fun box set_time(
  atime: (I64 val , I64 val),
  mtime: (I64 val , I64 val))
: Bool val
</pre> <h4 id="parameters_7">Parameters</h4> <ul> <li>atime: (<a href="builtin-i64.html">I64</a> val , <a href="builtin-i64.html">I64</a> val)</li> <li>mtime: (<a href="builtin-i64.html">I64</a> val , <a href="builtin-i64.html">I64</a> val)</li> </ul> <h4 id="returns_10">Returns</h4> <ul> <li>
<a href="builtin-bool.html">Bool</a> val</li> </ul>  <h3 id="infoat">infoat</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L293">[Source]</a></span></p> <p>Return a FileInfo for some path relative to this directory.</p> <pre data-language="pony">fun box infoat(
  target: String val)
: FileInfo val ?
</pre> <h4 id="parameters_8">Parameters</h4> <ul> <li>target: <a href="builtin-string.html">String</a> val</li> </ul> <h4 id="returns_11">Returns</h4> <ul> <li>
<a href="files-fileinfo.html">FileInfo</a> val ?</li> </ul>  <h3 id="chmodat">chmodat</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L313">[Source]</a></span></p> <p>Set the FileMode for some path relative to this directory.</p> <pre data-language="pony">fun box chmodat(
  target: String val,
  mode: FileMode box)
: Bool val
</pre> <h4 id="parameters_9">Parameters</h4> <ul> <li>target: <a href="builtin-string.html">String</a> val</li> <li>mode: <a href="files-filemode.html">FileMode</a> box</li> </ul> <h4 id="returns_12">Returns</h4> <ul> <li>
<a href="builtin-bool.html">Bool</a> val</li> </ul>  <h3 id="chownat">chownat</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L337">[Source]</a></span></p> <p>Set the FileMode for some path relative to this directory.</p> <pre data-language="pony">fun box chownat(
  target: String val,
  uid: U32 val,
  gid: U32 val)
: Bool val
</pre> <h4 id="parameters_10">Parameters</h4> <ul> <li>target: <a href="builtin-string.html">String</a> val</li> <li>uid: <a href="builtin-u32.html">U32</a> val</li> <li>gid: <a href="builtin-u32.html">U32</a> val</li> </ul> <h4 id="returns_13">Returns</h4> <ul> <li>
<a href="builtin-bool.html">Bool</a> val</li> </ul>  <h3 id="touchat">touchat</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L361">[Source]</a></span></p> <p>Set the last access and modification times of the directory to now.</p> <pre data-language="pony">fun box touchat(
  target: String val)
: Bool val
</pre> <h4 id="parameters_11">Parameters</h4> <ul> <li>target: <a href="builtin-string.html">String</a> val</li> </ul> <h4 id="returns_14">Returns</h4> <ul> <li>
<a href="builtin-bool.html">Bool</a> val</li> </ul>  <h3 id="set_time_at">set_time_at</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L367">[Source]</a></span></p> <p>Set the last access and modification times of the directory to the given values.</p> <pre data-language="pony">fun box set_time_at(
  target: String val,
  atime: (I64 val , I64 val),
  mtime: (I64 val , I64 val))
: Bool val
</pre> <h4 id="parameters_12">Parameters</h4> <ul> <li>target: <a href="builtin-string.html">String</a> val</li> <li>atime: (<a href="builtin-i64.html">I64</a> val , <a href="builtin-i64.html">I64</a> val)</li> <li>mtime: (<a href="builtin-i64.html">I64</a> val , <a href="builtin-i64.html">I64</a> val)</li> </ul> <h4 id="returns_15">Returns</h4> <ul> <li>
<a href="builtin-bool.html">Bool</a> val</li> </ul>  <h3 id="symlink">symlink</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L401">[Source]</a></span></p> <p>Link the source path to the link_name, where the link_name is relative to this directory.</p> <pre data-language="pony">fun box symlink(
  source: FilePath val,
  link_name: String val)
: Bool val
</pre> <h4 id="parameters_13">Parameters</h4> <ul> <li>source: <a href="files-filepath.html">FilePath</a> val</li> <li>link_name: <a href="builtin-string.html">String</a> val</li> </ul> <h4 id="returns_16">Returns</h4> <ul> <li>
<a href="builtin-bool.html">Bool</a> val</li> </ul>  <h3 id="remove">remove</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L428">[Source]</a></span></p> <p>Remove the file or directory. The directory contents will be removed as well, recursively. Symlinks will be removed but not traversed.</p> <pre data-language="pony">fun box remove(
  target: String val)
: Bool val
</pre> <h4 id="parameters_14">Parameters</h4> <ul> <li>target: <a href="builtin-string.html">String</a> val</li> </ul> <h4 id="returns_17">Returns</h4> <ul> <li>
<a href="builtin-bool.html">Bool</a> val</li> </ul>  <h3 id="rename">rename</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L467">[Source]</a></span></p> <p>Rename source (which is relative to this directory) to target (which is relative to the <code>to</code> directory).</p> <pre data-language="pony">fun box rename(
  source: String val,
  to: Directory box,
  target: String val)
: Bool val
</pre> <h4 id="parameters_15">Parameters</h4> <ul> <li>source: <a href="builtin-string.html">String</a> val</li> <li>to: <a href="index.html">Directory</a> box</li> <li>target: <a href="builtin-string.html">String</a> val</li> </ul> <h4 id="returns_18">Returns</h4> <ul> <li>
<a href="builtin-bool.html">Bool</a> val</li> </ul>  <h3 id="dispose">dispose</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/files/directory/#L496">[Source]</a></span></p> <p>Close the directory.</p> <pre data-language="pony">fun ref dispose()
: None val
</pre> <h4 id="returns_19">Returns</h4> <ul> <li>
<a href="builtin-none.html">None</a> val</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016-2020, The Pony Developers<br>&copy; 2014-2015, Causality Ltd.<br>Licensed under the BSD 2-Clause License.<br>
    <a href="https://stdlib.ponylang.io/files-Directory" class="_attribution-link">https://stdlib.ponylang.io/files-Directory</a>
  </p>
</div>
