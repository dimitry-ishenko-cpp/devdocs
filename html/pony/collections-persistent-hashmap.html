<h1 id="hashmapk-any-share-v-any-share-h-hashfunctionk-val">HashMap[K: <a href="builtin-any.html">Any</a> #share, V: <a href="builtin-any.html">Any</a> #share, H: <a href="collections-hashfunction.html">HashFunction</a>[K] val]</h1> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/collections-persistent/map/#L14">[Source]</a></span></p> <p>A persistent map based on the Compressed Hash Array Mapped Prefix-tree from 'Optimizing Hash-Array Mapped Tries for Fast and Lean Immutable JVM Collections' by Michael J. Steindorfer and Jurgen J. Vinju</p> <h2 id="usage">Usage</h2> <pre data-language="pony">use "collections/persistent"

actor Main
  new create(env: Env) =&gt;
    try
      let m1 = Map[String, U32] // {}
      // Update returns a new map with the provided key set
      // to the provided value. The old map is unchanged.
      let m2 = m1("a") = 5 // {a: 5}
      let m3 = m2("b") = 10 // {a: 5, b: 10}
      let m4 = m3.remove("a")? // {b: 10}
      // You can create a new map from key value pairs.
      let m5 = Map[String, U32].concat([("a", 2); ("b", 3)].values()) // {a: 2, b: 3}
    end
</pre> <pre data-language="pony">class val HashMap[K: Any #share, V: Any #share, H: HashFunction[K] val]
</pre> <h2 id="constructors">Constructors</h2> <h3 id="create">create</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/collections-persistent/map/#L41">[Source]</a></span></p> <pre data-language="pony">new val create()
: HashMap[K, V, H] val^
</pre> <h4 id="returns">Returns</h4> <ul> <li>
<a href="index.html">HashMap</a>[K, V, H] val^</li> </ul>  <h2 id="public-functions">Public Functions</h2> <h3 id="apply">apply</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/collections-persistent/map/#L49">[Source]</a></span></p> <p>Attempt to get the value corresponding to k.</p> <pre data-language="pony">fun val apply(
  k: K)
: val-&gt;V ?
</pre> <h4 id="parameters">Parameters</h4> <ul> <li>k: K</li> </ul> <h4 id="returns_1">Returns</h4> <ul> <li>val-&gt;V ?</li> </ul>  <h3 id="size">size</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/collections-persistent/map/#L55">[Source]</a></span></p> <p>Return the amount of key-value pairs in the Map.</p> <pre data-language="pony">fun val size()
: USize val
</pre> <h4 id="returns_2">Returns</h4> <ul> <li>
<a href="builtin-usize.html">USize</a> val</li> </ul>  <h3 id="update">update</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/collections-persistent/map/#L61">[Source]</a></span></p> <p>Update the value associated with the provided key.</p> <pre data-language="pony">fun val update(
  key: K,
  value: val-&gt;V)
: HashMap[K, V, H] val
</pre> <h4 id="parameters_1">Parameters</h4> <ul> <li>key: K</li> <li>value: val-&gt;V</li> </ul> <h4 id="returns_3">Returns</h4> <ul> <li>
<a href="index.html">HashMap</a>[K, V, H] val</li> </ul>  <h3 id="remove">remove</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/collections-persistent/map/#L74">[Source]</a></span></p> <p>Try to remove the provided key from the Map.</p> <pre data-language="pony">fun val remove(
  k: K)
: HashMap[K, V, H] val ?
</pre> <h4 id="parameters_2">Parameters</h4> <ul> <li>k: K</li> </ul> <h4 id="returns_4">Returns</h4> <ul> <li>
<a href="index.html">HashMap</a>[K, V, H] val ?</li> </ul>  <h3 id="get_or_else">get_or_else</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/collections-persistent/map/#L80">[Source]</a></span></p> <p>Get the value associated with provided key if present. Otherwise, return the provided alternate value.</p> <pre data-language="pony">fun val get_or_else(
  k: K,
  alt: val-&gt;V)
: val-&gt;V
</pre> <h4 id="parameters_3">Parameters</h4> <ul> <li>k: K</li> <li>alt: val-&gt;V</li> </ul> <h4 id="returns_5">Returns</h4> <ul> <li>val-&gt;V</li> </ul>  <h3 id="contains">contains</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/collections-persistent/map/#L94">[Source]</a></span></p> <p>Check whether the node contains the provided key.</p> <pre data-language="pony">fun val contains(
  k: K)
: Bool val
</pre> <h4 id="parameters_4">Parameters</h4> <ul> <li>k: K</li> </ul> <h4 id="returns_6">Returns</h4> <ul> <li>
<a href="builtin-bool.html">Bool</a> val</li> </ul>  <h3 id="concat">concat</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/collections-persistent/map/#L102">[Source]</a></span></p> <p>Add the K, V pairs from the given iterator to the map.</p> <pre data-language="pony">fun val concat(
  iter: Iterator[(val-&gt;K , val-&gt;V)] ref)
: HashMap[K, V, H] val
</pre> <h4 id="parameters_5">Parameters</h4> <ul> <li>iter: <a href="builtin-iterator.html">Iterator</a>[(val-&gt;K , val-&gt;V)] ref</li> </ul> <h4 id="returns_7">Returns</h4> <ul> <li>
<a href="index.html">HashMap</a>[K, V, H] val</li> </ul>  <h3 id="add">add</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/collections-persistent/map/#L112">[Source]</a></span></p> <p>Return this Map with the given (key, value) mapping.</p> <pre data-language="pony">fun val add(
  key: K,
  value: val-&gt;V)
: HashMap[K, V, H] val
</pre> <h4 id="parameters_6">Parameters</h4> <ul> <li>key: K</li> <li>value: val-&gt;V</li> </ul> <h4 id="returns_8">Returns</h4> <ul> <li>
<a href="index.html">HashMap</a>[K, V, H] val</li> </ul>  <h3 id="sub">sub</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/collections-persistent/map/#L118">[Source]</a></span></p> <p>Return this Map without the given key.</p> <pre data-language="pony">fun val sub(
  key: K)
: HashMap[K, V, H] val
</pre> <h4 id="parameters_7">Parameters</h4> <ul> <li>key: K</li> </ul> <h4 id="returns_9">Returns</h4> <ul> <li>
<a href="index.html">HashMap</a>[K, V, H] val</li> </ul>  <h3 id="keys">keys</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/collections-persistent/map/#L128">[Source]</a></span></p> <pre data-language="pony">fun val keys()
: MapKeys[K, V, H] ref
</pre> <h4 id="returns_10">Returns</h4> <ul> <li>
<a href="collections-persistent-mapkeys.html">MapKeys</a>[K, V, H] ref</li> </ul>  <h3 id="values">values</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/collections-persistent/map/#L130">[Source]</a></span></p> <pre data-language="pony">fun val values()
: MapValues[K, V, H] ref
</pre> <h4 id="returns_11">Returns</h4> <ul> <li>
<a href="collections-persistent-mapvalues.html">MapValues</a>[K, V, H] ref</li> </ul>  <h3 id="pairs">pairs</h3> <p><span class="source-link"><a href="https://stdlib.ponylang.io/src/collections-persistent/map/#L132">[Source]</a></span></p> <pre data-language="pony">fun val pairs()
: MapPairs[K, V, H] ref
</pre> <h4 id="returns_12">Returns</h4> <ul> <li>
<a href="collections-persistent-mappairs.html">MapPairs</a>[K, V, H] ref</li> </ul><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2016-2020, The Pony Developers<br>&copy; 2014-2015, Causality Ltd.<br>Licensed under the BSD 2-Clause License.<br>
    <a href="https://stdlib.ponylang.io/collections-persistent-HashMap" class="_attribution-link">https://stdlib.ponylang.io/collections-persistent-HashMap</a>
  </p>
</div>
