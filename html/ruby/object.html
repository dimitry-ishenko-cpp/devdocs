<h1 id="class-Object" class="anchor-link class"> class Object </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="basicobject.html">BasicObject</a></dd>
<dt>Included modules:</dt>
<dd class="meta-includes"><a class="include" href="kernel.html">Kernel</a></dd>
</dl> <section class="description"> <p><a href="object.html"><code>Object</code></a> is the default root of all Ruby objects. <a href="object.html"><code>Object</code></a> inherits from <a href="basicobject.html"><code>BasicObject</code></a> which allows creating alternate object hierarchies. Methods on <a href="object.html"><code>Object</code></a> are available to all classes unless explicitly overridden.</p> <p><a href="object.html"><code>Object</code></a> mixes in the <a href="kernel.html"><code>Kernel</code></a> module, making the built-in kernel functions globally accessible. Although the instance methods of <a href="object.html"><code>Object</code></a> are defined by the <a href="kernel.html"><code>Kernel</code></a> module, we have chosen to document them here for clarity.</p> <p>When referencing constants in classes inheriting from <a href="object.html"><code>Object</code></a> you do not need to use the full namespace. For example, referencing <a href="file.html"><code>File</code></a> inside <code>YourClass</code> will find the top-level <a href="file.html"><code>File</code></a> class.</p> <p>In the descriptions of Object’s methods, the parameter <em>symbol</em> refers to a symbol, which is either a quoted string or a <a href="symbol.html"><code>Symbol</code></a> (such as <code>:name</code>).</p> <h2 id="class-Object-label-What-27s+Here">What’s Here</h2> <p>First, what’s elsewhere. Class Object:</p> <ul>
<li> <p>Inherits from <a href="basicobject.html#class-BasicObject-label-What-27s+Here">class BasicObject</a>.</p> </li>
<li> <p>Includes <a href="kernel.html#module-Kernel-label-What-27s+Here">module Kernel</a>.</p> </li>
</ul> <p>Here, class Object provides methods for:</p> <ul>
<li> <p><a href="object.html#class-Object-label-Querying">Querying</a></p> </li>
<li> <p><a href="object.html#class-Object-label-Instance+Variables">Instance Variables</a></p> </li>
<li> <p><a href="object.html#class-Object-label-Other">Other</a></p> </li>
</ul> <h3 id="class-Object-label-Querying">Querying</h3> <ul>
<li> <p><a href="object.html#method-i-21~"><code>!~</code></a>: Returns <code>true</code> if <code>self</code> does not match the given object, otherwise <code>false</code>.</p> </li>
<li> <p><a href="object.html#method-i-3C-3D-3E"><code>&lt;=&gt;</code></a>: Returns 0 if <code>self</code> and the given object <code>object</code> are the same object, or if <code>self == object</code>; otherwise returns <code>nil</code>.</p> </li>
<li> <p><a href="object.html#method-i-3D-3D-3D"><code>===</code></a>: Implements case equality, effectively the same as calling <a href="basicobject.html#method-i-3D-3D"><code>==</code></a>.</p> </li>
<li> <p><a href="object.html#method-i-eql-3F"><code>eql?</code></a>: Implements hash equality, effectively the same as calling <a href="basicobject.html#method-i-3D-3D"><code>==</code></a>.</p> </li>
<li> <p><a href="object.html#method-i-kind_of-3F"><code>kind_of?</code></a> (aliased as <a href="object.html#method-i-is_a-3F"><code>is_a?</code></a>): Returns whether given argument is an ancestor of the singleton class of <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-instance_of-3F"><code>instance_of?</code></a>: Returns whether <code>self</code> is an instance of the given class.</p> </li>
<li> <p><a href="object.html#method-i-instance_variable_defined-3F"><code>instance_variable_defined?</code></a>: Returns whether the given instance variable is defined in <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-method"><code>method</code></a>: Returns the <a href="method.html"><code>Method</code></a> object for the given method in <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-methods"><code>methods</code></a>: Returns an array of symbol names of public and protected methods in <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-nil-3F"><code>nil?</code></a>: Returns <code>false</code>. (Only <code>nil</code> responds <code>true</code> to method <code>nil?</code>.)</p> </li>
<li> <p><a href="object.html#method-i-object_id"><code>object_id</code></a>: Returns an integer corresponding to <code>self</code> that is unique for the current process</p> </li>
<li> <p><a href="object.html#method-i-private_methods"><code>private_methods</code></a>: Returns an array of the symbol names of the private methods in <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-protected_methods"><code>protected_methods</code></a>: Returns an array of the symbol names of the protected methods in <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-public_method"><code>public_method</code></a>: Returns the <a href="method.html"><code>Method</code></a> object for the given public method in <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-public_methods"><code>public_methods</code></a>: Returns an array of the symbol names of the public methods in <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-respond_to-3F"><code>respond_to?</code></a>: Returns whether <code>self</code> responds to the given method.</p> </li>
<li> <p><a href="object.html#method-i-singleton_class"><code>singleton_class</code></a>: Returns the singleton class of <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-singleton_method"><code>singleton_method</code></a>: Returns the <a href="method.html"><code>Method</code></a> object for the given singleton method in <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-singleton_methods"><code>singleton_methods</code></a>: Returns an array of the symbol names of the singleton methods in <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-define_singleton_method"><code>define_singleton_method</code></a>: Defines a singleton method in <code>self</code> for the given symbol method-name and block or proc.</p> </li>
<li> <p><a href="object.html#method-i-extend"><code>extend</code></a>: Includes the given modules in the singleton class of <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-public_send"><code>public_send</code></a>: Calls the given public method in <code>self</code> with the given argument.</p> </li>
<li> <p><a href="object.html#method-i-send"><code>send</code></a>: Calls the given method in <code>self</code> with the given argument.</p> </li>
</ul> <h3 id="class-Object-label-Instance+Variables">Instance Variables</h3> <ul>
<li> <p><a href="object.html#method-i-instance_variable_get"><code>instance_variable_get</code></a>: Returns the value of the given instance variable in <code>self</code>, or <code>nil</code> if the instance variable is not set.</p> </li>
<li> <p><a href="object.html#method-i-instance_variable_set"><code>instance_variable_set</code></a>: Sets the value of the given instance variable in <code>self</code> to the given object.</p> </li>
<li> <p><a href="object.html#method-i-instance_variables"><code>instance_variables</code></a>: Returns an array of the symbol names of the instance variables in <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-remove_instance_variable"><code>remove_instance_variable</code></a>: Removes the named instance variable from <code>self</code>.</p> </li>
</ul> <h3 id="class-Object-label-Other">Other</h3> <ul>
<li> <p><a href="kernel.html#method-i-clone"><code>clone</code></a>: Returns a shallow copy of <code>self</code>, including singleton class and frozen state.</p> </li>
<li> <p><a href="object.html#method-i-define_singleton_method"><code>define_singleton_method</code></a>: Defines a singleton method in <code>self</code> for the given symbol method-name and block or proc.</p> </li>
<li> <p><a href="object.html#method-i-display"><code>display</code></a>: Prints <code>self</code> to the given <a href="io.html"><code>IO</code></a> stream or <code>$stdout</code>.</p> </li>
<li> <p><a href="object.html#method-i-dup"><code>dup</code></a>: Returns a shallow unfrozen copy of <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-enum_for"><code>enum_for</code></a> (aliased as <a href="object.html#method-i-to_enum"><code>to_enum</code></a>): Returns an <a href="enumerator.html"><code>Enumerator</code></a> for <code>self</code> using the using the given method, arguments, and block.</p> </li>
<li> <p><a href="object.html#method-i-extend"><code>extend</code></a>: Includes the given modules in the singleton class of <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-freeze"><code>freeze</code></a>: Prevents further modifications to <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-hash"><code>hash</code></a>: Returns the integer hash value for <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-inspect"><code>inspect</code></a>: Returns a human-readable string representation of <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-itself"><code>itself</code></a>: Returns <code>self</code>.</p> </li>
<li> <p><a href="basicobject.html#method-i-method_missing"><code>method_missing</code></a>: <a href="method.html"><code>Method</code></a> called when an undefined method is called on <code>self</code>.</p> </li>
<li> <p><a href="object.html#method-i-public_send"><code>public_send</code></a>: Calls the given public method in <code>self</code> with the given argument.</p> </li>
<li> <p><a href="object.html#method-i-send"><code>send</code></a>: Calls the given method in <code>self</code> with the given argument.</p> </li>
<li> <p><a href="object.html#method-i-to_s"><code>to_s</code></a>: Returns a string representation of <code>self</code>.</p> </li>
</ul> </section> <section id="5Buntitled-5D" class="documentation-section anchor-link"> <section class="constants-list"> <header> <h3>Constants</h3> </header> <dl> <dt id="ARGF">ARGF </dt>
<dd> <p><a href="argf.html"><code>ARGF</code></a> is a stream designed for use in scripts that process files given as command-line arguments or passed in via <a href="object.html#STDIN"><code>STDIN</code></a>.</p> <p>See <a href="argf.html"><code>ARGF</code></a> (the class) for more details.</p> </dd>
<dt id="ARGV">ARGV </dt>
<dd> <p><a href="object.html#ARGV"><code>ARGV</code></a> contains the command line arguments used to run ruby.</p> <p>A library like <a href="optionparser.html"><code>OptionParser</code></a> can be used to process command-line arguments.</p> </dd>
<dt id="CROSS_COMPILING">CROSS_COMPILING </dt>

<dt id="DATA">DATA </dt>
<dd> <p><a href="object.html#DATA"><code>DATA</code></a> is a <a href="file.html"><code>File</code></a> that contains the data section of the executed file. To create a data section use <code>__END__</code>:</p> <pre>$ cat t.rb
puts DATA.gets
__END__
hello world!

$ ruby t.rb
hello world!</pre> </dd>
<dt id="ENV">ENV </dt>
<dd> <p><a href="env.html"><code>ENV</code></a> is a Hash-like accessor for environment variables.</p> <p>See <a href="env.html"><code>ENV</code></a> (the class) for more details.</p> </dd>
<dt id="RUBY_COPYRIGHT">RUBY_COPYRIGHT </dt>
<dd> <p>The copyright string for ruby</p> </dd>
<dt id="RUBY_DESCRIPTION">RUBY_DESCRIPTION </dt>
<dd> <p>The full ruby version string, like <code>ruby -v</code> prints</p> </dd>
<dt id="RUBY_ENGINE">RUBY_ENGINE </dt>
<dd> <p>The engine or interpreter this ruby uses.</p> </dd>
<dt id="RUBY_ENGINE_VERSION">RUBY_ENGINE_VERSION </dt>
<dd> <p>The version of the engine or interpreter this ruby uses.</p> </dd>
<dt id="RUBY_PATCHLEVEL">RUBY_PATCHLEVEL </dt>
<dd> <p>The patchlevel for this ruby. If this is a development build of ruby the patchlevel will be -1</p> </dd>
<dt id="RUBY_PLATFORM">RUBY_PLATFORM </dt>
<dd> <p>The platform for this ruby</p> </dd>
<dt id="RUBY_RELEASE_DATE">RUBY_RELEASE_DATE </dt>
<dd> <p>The date this ruby was released</p> </dd>
<dt id="RUBY_REVISION">RUBY_REVISION </dt>
<dd> <p>The GIT commit hash for this ruby.</p> </dd>
<dt id="RUBY_VERSION">RUBY_VERSION </dt>
<dd> <p>The running version of ruby</p> </dd>
<dt id="Readline">Readline </dt>

<dt id="Ripper">Ripper </dt>
<dd> <p>This writes the prism ripper translation into the <a href="ripper.html"><code>Ripper</code></a> constant so that users can transparently use <a href="ripper.html"><code>Ripper</code></a> without any changes.</p> </dd>
<dt id="STDERR">STDERR </dt>
<dd> <p>Holds the original stderr</p> </dd>
<dt id="STDIN">STDIN </dt>
<dd> <p>Holds the original stdin</p> </dd>
<dt id="STDOUT">STDOUT </dt>
<dd> <p>Holds the original stdout</p> </dd>
<dt id="TOPLEVEL_BINDING">TOPLEVEL_BINDING </dt>
<dd> <p>The <a href="binding.html"><code>Binding</code></a> of the top level scope</p> </dd>
</dl> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section anchor-link"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-c-yaml_tag"> <a href="#method-c-yaml_tag" title="Link to this method"> <span class="method-name">yaml_tag</span> <span class="method-args">(url)</span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="yaml_tag-source"> <pre class="ruby" data-language="ruby"># File ext/psych/lib/psych/core_ext.rb, line 3
def self.yaml_tag url
  Psych.add_tag(url, self)
end</pre> </div>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section anchor-link"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-21~"> <a href="#method-i-21~" title="Link to this method"> <span class="method-callseq"> obj !~ other → true or false </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="21~-source"> <pre class="c" data-language="c">static VALUE
rb_obj_not_match(VALUE obj1, VALUE obj2)
{
    VALUE result = rb_funcall(obj1, id_match, 1, obj2);
    return rb_obj_not(result);
}</pre> </div>  <p>Returns true if two objects do not match (using the <em>=~</em> method), otherwise false.</p> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-3C-3D-3E"> <a href="#method-i-3C-3D-3E" title="Link to this method"> <span class="method-callseq"> obj &lt;=&gt; other → 0 or nil </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="3C-3D-3E-source"> <pre class="c" data-language="c">static VALUE
rb_obj_cmp(VALUE obj1, VALUE obj2)
{
    if (rb_equal(obj1, obj2))
        return INT2FIX(0);
    return Qnil;
}</pre> </div>  <p>Returns 0 if <code>obj</code> and <code>other</code> are the same object or <code>obj == other</code>, otherwise nil.</p> <p>The <a href="object.html#method-i-3C-3D-3E"><code>&lt;=&gt;</code></a> is used by various methods to compare objects, for example <a href="enumerable.html#method-i-sort"><code>Enumerable#sort</code></a>, <a href="enumerable.html#method-i-max"><code>Enumerable#max</code></a> etc.</p> <p>Your implementation of <a href="object.html#method-i-3C-3D-3E"><code>&lt;=&gt;</code></a> should return one of the following values: -1, 0, 1 or nil. -1 means self is smaller than other. 0 means self is equal to other. 1 means self is bigger than other. Nil means the two values could not be compared.</p> <p>When you define <a href="object.html#method-i-3C-3D-3E"><code>&lt;=&gt;</code></a>, you can include <a href="comparable.html"><code>Comparable</code></a> to gain the methods &lt;=, &lt;, <a href="basicobject.html#method-i-3D-3D"><code>==</code></a>, &gt;=, &gt; and between?.</p> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-3D-3D-3D"> <a href="#method-i-3D-3D-3D" title="Link to this method"> <span class="method-callseq"> true === other → true or false </span> </a> </div> <div class="method-heading"> <a href="#method-i-3D-3D-3D" title="Link to this method"> <span class="method-callseq"> false === other → true or false </span> </a> </div> <div class="method-heading"> <a href="#method-i-3D-3D-3D" title="Link to this method"> <span class="method-callseq"> nil === other → true or false </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="3D-3D-3D-source"> <pre class="c" data-language="c">#define case_equal rb_equal</pre> </div>  <p>Returns <code>true</code> or <code>false</code>.</p> <p>Like <a href="basicobject.html#method-i-3D-3D"><code>Object#==</code></a>, if <code>object</code> is an instance of <a href="object.html"><code>Object</code></a> (and not an instance of one of its many subclasses).</p> <p>This method is commonly overridden by those subclasses, to provide meaningful semantics in <code>case</code> statements.</p> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-DelegateClass"> <a href="#method-i-DelegateClass" title="Link to this method"> <span class="method-name">DelegateClass</span> <span class="method-args">(superclass, &amp;block)</span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="DelegateClass-source"> <pre class="ruby" data-language="ruby"># File lib/delegate.rb, line 394
def DelegateClass(superclass, &amp;block)
  klass = Class.new(Delegator)
  ignores = [*::Delegator.public_api, :to_s, :inspect, :=~, :!~, :===]
  protected_instance_methods = superclass.protected_instance_methods
  protected_instance_methods -= ignores
  public_instance_methods = superclass.public_instance_methods
  public_instance_methods -= ignores
  klass.module_eval do
    def __getobj__ # :nodoc:
      unless defined?(@delegate_dc_obj)
        return yield if block_given?
        __raise__ ::ArgumentError, "not delegated"
      end
      @delegate_dc_obj
    end
    def __setobj__(obj)  # :nodoc:
      __raise__ ::ArgumentError, "cannot delegate to self" if self.equal?(obj)
      @delegate_dc_obj = obj
    end
    protected_instance_methods.each do |method|
      define_method(method, Delegator.delegating_block(method))
      protected method
    end
    public_instance_methods.each do |method|
      define_method(method, Delegator.delegating_block(method))
    end
  end
  klass.define_singleton_method :public_instance_methods do |all=true|
    super(all) | superclass.public_instance_methods
  end
  klass.define_singleton_method :protected_instance_methods do |all=true|
    super(all) | superclass.protected_instance_methods
  end
  klass.define_singleton_method :instance_methods do |all=true|
    super(all) | superclass.instance_methods
  end
  klass.define_singleton_method :public_instance_method do |name|
    super(name)
  rescue NameError
    raise unless self.public_instance_methods.include?(name)
    superclass.public_instance_method(name)
  end
  klass.define_singleton_method :instance_method do |name|
    super(name)
  rescue NameError
    raise unless self.instance_methods.include?(name)
    superclass.instance_method(name)
  end
  klass.module_eval(&amp;block) if block
  return klass
end</pre> </div>  <p>The primary interface to this library. Use to setup delegation when defining your class.</p> <pre class="ruby" data-language="ruby">class MyClass &lt; DelegateClass(ClassToDelegateTo) # Step 1
  def initialize
    super(obj_of_ClassToDelegateTo)              # Step 2
  end
end
</pre> <p>or:</p> <pre class="ruby" data-language="ruby">MyClass = DelegateClass(ClassToDelegateTo) do    # Step 1
  def initialize
    super(obj_of_ClassToDelegateTo)              # Step 2
  end
end
</pre> <p>Here’s a sample of use from <a href="tempfile.html"><code>Tempfile</code></a> which is really a <a href="file.html"><code>File</code></a> object with a few special rules about storage location and when the <a href="file.html"><code>File</code></a> should be deleted. That makes for an almost textbook perfect example of how to use delegation.</p> <pre class="ruby" data-language="ruby">class Tempfile &lt; DelegateClass(File)
  # constant and class member data initialization...

  def initialize(basename, tmpdir=Dir::tmpdir)
    # build up file path/name in var tmpname...

    @tmpfile = File.open(tmpname, File::RDWR|File::CREAT|File::EXCL, 0600)

    # ...

    super(@tmpfile)

    # below this point, all methods of File are supported...
  end

  # ...
end
</pre> <div class="method-calls-super"> Calls superclass method </div> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-Digest"> <a href="#method-i-Digest" title="Link to this method"> <span class="method-callseq"> Digest(name) → digest_subclass </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="Digest-source"> <pre class="ruby" data-language="ruby"># File ext/digest/lib/digest.rb, line 110
def Digest(name)
  const = name.to_sym
  Digest::REQUIRE_MUTEX.synchronize {
    # Ignore autoload's because it is void when we have #const_missing
    Digest.const_missing(const)
  }
rescue LoadError
  # Constants do not necessarily rely on digest/*.
  if Digest.const_defined?(const)
    Digest.const_get(const)
  else
    raise
  end
end</pre> </div>  <p>Returns a <a href="digest.html"><code>Digest</code></a> subclass by <code>name</code> in a thread-safe manner even when on-demand loading is involved.</p> <pre class="ruby" data-language="ruby">require 'digest'

Digest("MD5")
# =&gt; Digest::MD5

Digest(:SHA256)
# =&gt; Digest::SHA256

Digest(:Foo)
# =&gt; LoadError: library not found for class Digest::Foo -- digest/foo
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-define_singleton_method"> <a href="#method-i-define_singleton_method" title="Link to this method"> <span class="method-callseq"> define_singleton_method(symbol, method) → symbol </span> </a> </div> <div class="method-heading"> <a href="#method-i-define_singleton_method" title="Link to this method"> <span class="method-callseq"> define_singleton_method(symbol) { block } → symbol </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="define_singleton_method-source"> <pre class="c" data-language="c">static VALUE
rb_obj_define_method(int argc, VALUE *argv, VALUE obj)
{
    VALUE klass = rb_singleton_class(obj);
    const rb_scope_visibility_t scope_visi = {METHOD_VISI_PUBLIC, FALSE};

    return rb_mod_define_method_with_visibility(argc, argv, klass, &amp;scope_visi);
}</pre> </div>  <p>Defines a public singleton method in the receiver. The <em>method</em> parameter can be a <a href="proc.html"><code>Proc</code></a>, a <a href="method.html"><code>Method</code></a> or an <a href="unboundmethod.html"><code>UnboundMethod</code></a> object. If a block is specified, it is used as the method body. If a block or a method has parameters, they’re used as method parameters.</p> <pre class="ruby" data-language="ruby">class A
  class &lt;&lt; self
    def class_name
      to_s
    end
  end
end
A.define_singleton_method(:who_am_i) do
  "I am: #{class_name}"
end
A.who_am_i   # ==&gt; "I am: A"

guy = "Bob"
guy.define_singleton_method(:hello) { "#{self}: Hello there!" }
guy.hello    #=&gt;  "Bob: Hello there!"

chris = "Chris"
chris.define_singleton_method(:greet) {|greeting| "#{greeting}, I'm Chris!" }
chris.greet("Hi") #=&gt; "Hi, I'm Chris!"
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-display"> <a href="#method-i-display" title="Link to this method"> <span class="method-callseq"> display(port = $&gt;) → nil </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="display-source"> <pre class="c" data-language="c">static VALUE
rb_obj_display(int argc, VALUE *argv, VALUE self)
{
    VALUE out;

    out = (!rb_check_arity(argc, 0, 1) ? rb_ractor_stdout() : argv[0]);
    rb_io_write(out, self);

    return Qnil;
}</pre> </div>  <p>Writes <code>self</code> on the given port:</p> <pre class="ruby" data-language="ruby">1.display
"cat".display
[ 4, 5, 6 ].display
puts
</pre> <p>Output:</p> <pre>1cat[4, 5, 6]</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-dup"> <a href="#method-i-dup" title="Link to this method"> <span class="method-callseq"> dup → an_object </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="dup-source"> <pre class="c" data-language="c">VALUE
rb_obj_dup(VALUE obj)
{
    VALUE dup;

    if (special_object_p(obj)) {
        return obj;
    }
    dup = rb_obj_alloc(rb_obj_class(obj));
    return rb_obj_dup_setup(obj, dup);
}</pre> </div>  <p>Produces a shallow copy of <em>obj</em>—the instance variables of <em>obj</em> are copied, but not the objects they reference.</p> <p>This method may have class-specific behavior. If so, that behavior will be documented under the #<code>initialize_copy</code> method of the class.</p> <h3 id="method-i-dup-label-on+dup+vs+clone">on dup vs clone</h3> <p>In general, <a href="kernel.html#method-i-clone"><code>clone</code></a> and <a href="object.html#method-i-dup"><code>dup</code></a> may have different semantics in descendant classes. While <a href="kernel.html#method-i-clone"><code>clone</code></a> is used to duplicate an object, including its internal state, <a href="object.html#method-i-dup"><code>dup</code></a> typically uses the class of the descendant object to create the new instance.</p> <p>When using <a href="object.html#method-i-dup"><code>dup</code></a>, any modules that the object has been extended with will not be copied.</p> <pre class="ruby" data-language="ruby">class Klass
  attr_accessor :str
end

module Foo
  def foo; 'foo'; end
end

s1 = Klass.new #=&gt; #&lt;Klass:0x401b3a38&gt;
s1.extend(Foo) #=&gt; #&lt;Klass:0x401b3a38&gt;
s1.foo #=&gt; "foo"

s2 = s1.clone #=&gt; #&lt;Klass:0x401be280&gt;
s2.foo #=&gt; "foo"

s3 = s1.dup #=&gt; #&lt;Klass:0x401c1084&gt;
s3.foo #=&gt; NoMethodError: undefined method `foo' for #&lt;Klass:0x401c1084&gt;
</pre> </div> </div> <div class="method-detail anchor-link method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-enum_for"> <a href="#method-i-enum_for" title="Link to this method"> <span class="method-callseq"> enum_for(method = :each, *args) → enum </span> </a> </div> <div class="method-heading"> <a href="#method-i-enum_for" title="Link to this method"> <span class="method-callseq"> enum_for(method = :each, *args){|*args| block} → enum </span> </a> </div> </div> <div class="method-description"> <p>Creates a new <a href="enumerator.html"><code>Enumerator</code></a> which will enumerate by calling <code>method</code> on <code>obj</code>, passing <code>args</code> if any. What was <em>yielded</em> by method becomes values of enumerator.</p> <p>If a block is given, it will be used to calculate the size of the enumerator without the need to iterate it (see <a href="enumerator.html#method-i-size"><code>Enumerator#size</code></a>).</p> <h3 id="method-i-enum_for-label-Examples">Examples</h3> <pre class="ruby" data-language="ruby">str = "xyz"

enum = str.enum_for(:each_byte)
enum.each { |b| puts b }
# =&gt; 120
# =&gt; 121
# =&gt; 122

# protect an array from being modified by some_method
a = [1, 2, 3]
some_method(a.to_enum)

# String#split in block form is more memory-effective:
very_large_string.split("|") { |chunk| return chunk if chunk.include?('DATE') }
# This could be rewritten more idiomatically with to_enum:
very_large_string.to_enum(:split, "|").lazy.grep(/DATE/).first
</pre> <p>It is typical to call <a href="object.html#method-i-to_enum"><code>to_enum</code></a> when defining methods for a generic <a href="enumerable.html"><code>Enumerable</code></a>, in case no block is passed.</p> <p>Here is such an example, with parameter passing and a sizing block:</p> <pre class="ruby" data-language="ruby">module Enumerable
  # a generic method to repeat the values of any enumerable
  def repeat(n)
    raise ArgumentError, "#{n} is negative!" if n &lt; 0
    unless block_given?
      return to_enum(__method__, n) do # __method__ is :repeat here
        sz = size     # Call size and multiply by n...
        sz * n if sz  # but return nil if size itself is nil
      end
    end
    each do |*val|
      n.times { yield *val }
    end
  end
end

%i[hello world].repeat(2) { |w| puts w }
  # =&gt; Prints 'hello', 'hello', 'world', 'world'
enum = (1..14).repeat(3)
  # =&gt; returns an Enumerator when called without a block
enum.first(4) # =&gt; [1, 1, 1, 2]
enum.size # =&gt; 42
</pre> </div> <div class="aliases"> Alias for: <a href="object.html#method-i-to_enum">to_enum</a> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-eql-3F"> <a href="#method-i-eql-3F" title="Link to this method"> <span class="method-callseq"> obj == other → true or false </span> </a> </div> <div class="method-heading"> <a href="#method-i-eql-3F" title="Link to this method"> <span class="method-callseq"> equal?(other) → true or false </span> </a> </div> <div class="method-heading"> <a href="#method-i-eql-3F" title="Link to this method"> <span class="method-callseq"> eql?(other) → true or false </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="eql-3F-source"> <pre class="c" data-language="c">VALUE
rb_obj_equal(VALUE obj1, VALUE obj2)
{
    return RBOOL(obj1 == obj2);
}</pre> </div>  <p>Equality — At the <a href="object.html"><code>Object</code></a> level, <a href="basicobject.html#method-i-3D-3D"><code>==</code></a> returns <code>true</code> only if <code>obj</code> and <code>other</code> are the same object. Typically, this method is overridden in descendant classes to provide class-specific meaning.</p> <p>Unlike <a href="basicobject.html#method-i-3D-3D"><code>==</code></a>, the <a href="basicobject.html#method-i-equal-3F"><code>equal?</code></a> method should never be overridden by subclasses as it is used to determine object identity (that is, <code>a.equal?(b)</code> if and only if <code>a</code> is the same object as <code>b</code>):</p> <pre class="ruby" data-language="ruby">obj = "a"
other = obj.dup

obj == other      #=&gt; true
obj.equal? other  #=&gt; false
obj.equal? obj    #=&gt; true
</pre> <p>The <a href="object.html#method-i-eql-3F"><code>eql?</code></a> method returns <code>true</code> if <code>obj</code> and <code>other</code> refer to the same hash key. This is used by <a href="hash.html"><code>Hash</code></a> to test members for equality. For any pair of objects where <a href="object.html#method-i-eql-3F"><code>eql?</code></a> returns <code>true</code>, the <a href="object.html#method-i-hash"><code>hash</code></a> value of both objects must be equal. So any subclass that overrides <a href="object.html#method-i-eql-3F"><code>eql?</code></a> should also override <a href="object.html#method-i-hash"><code>hash</code></a> appropriately.</p> <p>For objects of class <a href="object.html"><code>Object</code></a>, <a href="object.html#method-i-eql-3F"><code>eql?</code></a> is synonymous with <a href="basicobject.html#method-i-3D-3D"><code>==</code></a>. Subclasses normally continue this tradition by aliasing <a href="object.html#method-i-eql-3F"><code>eql?</code></a> to their overridden <a href="basicobject.html#method-i-3D-3D"><code>==</code></a> method, but there are exceptions. <a href="numeric.html"><code>Numeric</code></a> types, for example, perform type conversion across <a href="basicobject.html#method-i-3D-3D"><code>==</code></a>, but not across <a href="object.html#method-i-eql-3F"><code>eql?</code></a>, so:</p> <pre class="ruby" data-language="ruby">1 == 1.0     #=&gt; true
1.eql? 1.0   #=&gt; false
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-extend"> <a href="#method-i-extend" title="Link to this method"> <span class="method-callseq"> extend(module, ...) → obj </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="extend-source"> <pre class="c" data-language="c">static VALUE
rb_obj_extend(int argc, VALUE *argv, VALUE obj)
{
    int i;
    ID id_extend_object, id_extended;

    CONST_ID(id_extend_object, "extend_object");
    CONST_ID(id_extended, "extended");

    rb_check_arity(argc, 1, UNLIMITED_ARGUMENTS);
    for (i = 0; i &lt; argc; i++) {
        Check_Type(argv[i], T_MODULE);
        if (FL_TEST(argv[i], RMODULE_IS_REFINEMENT)) {
            rb_raise(rb_eTypeError, "Cannot extend object with refinement");
        }
    }
    while (argc--) {
        rb_funcall(argv[argc], id_extend_object, 1, obj);
        rb_funcall(argv[argc], id_extended, 1, obj);
    }
    return obj;
}</pre> </div>  <p>Adds to <em>obj</em> the instance methods from each module given as a parameter.</p> <pre class="ruby" data-language="ruby">module Mod
  def hello
    "Hello from Mod.\n"
  end
end

class Klass
  def hello
    "Hello from Klass.\n"
  end
end

k = Klass.new
k.hello         #=&gt; "Hello from Klass.\n"
k.extend(Mod)   #=&gt; #&lt;Klass:0x401b3bc8&gt;
k.hello         #=&gt; "Hello from Mod.\n"
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-freeze"> <a href="#method-i-freeze" title="Link to this method"> <span class="method-callseq"> freeze → obj </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="freeze-source"> <pre class="c" data-language="c">VALUE
rb_obj_freeze(VALUE obj)
{
    if (!OBJ_FROZEN(obj)) {
        OBJ_FREEZE(obj);
        if (SPECIAL_CONST_P(obj)) {
            rb_bug("special consts should be frozen.");
        }
    }
    return obj;
}</pre> </div>  <p>Prevents further modifications to <em>obj</em>. A <a href="frozenerror.html"><code>FrozenError</code></a> will be raised if modification is attempted. There is no way to unfreeze a frozen object. See also <a href="kernel.html#method-i-frozen-3F"><code>Object#frozen?</code></a>.</p> <p>This method returns self.</p> <pre class="ruby" data-language="ruby">a = [ "a", "b", "c" ]
a.freeze
a &lt;&lt; "z"
</pre> <p><em>produces:</em></p> <pre>prog.rb:3:in `&lt;&lt;': can't modify frozen Array (FrozenError)
 from prog.rb:3</pre> <p>Objects of the following classes are always frozen: <a href="integer.html"><code>Integer</code></a>, <a href="float.html"><code>Float</code></a>, <a href="symbol.html"><code>Symbol</code></a>.</p> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-hash"> <a href="#method-i-hash" title="Link to this method"> <span class="method-callseq"> hash → integer </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="hash-source"> <pre class="c" data-language="c">VALUE
rb_obj_hash(VALUE obj)
{
    long hnum = any_hash(obj, objid_hash);
    return ST2FIX(hnum);
}</pre> </div>  <p>Generates an <a href="integer.html"><code>Integer</code></a> hash value for this object. This function must have the property that <code>a.eql?(b)</code> implies <code>a.hash == b.hash</code>.</p> <p>The hash value is used along with <a href="object.html#method-i-eql-3F"><code>eql?</code></a> by the <a href="hash.html"><code>Hash</code></a> class to determine if two objects reference the same hash key. Any hash value that exceeds the capacity of an <a href="integer.html"><code>Integer</code></a> will be truncated before being used.</p> <p>The hash value for an object may not be identical across invocations or implementations of Ruby. If you need a stable identifier across Ruby invocations and implementations you will need to generate one with a custom method.</p> <p>Certain core classes such as <a href="integer.html"><code>Integer</code></a> use built-in hash calculations and do not call the <a href="object.html#method-i-hash"><code>hash</code></a> method when used as a hash key.</p> <p>When implementing your own <a href="object.html#method-i-hash"><code>hash</code></a> based on multiple values, the best practice is to combine the class and any values using the hash code of an array:</p> <p>For example:</p> <pre class="ruby" data-language="ruby">def hash
  [self.class, a, b, c].hash
end
</pre> <p>The reason for this is that the <a href="array.html#method-i-hash"><code>Array#hash</code></a> method already has logic for safely and efficiently combining multiple hash values.</p> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-inspect"> <a href="#method-i-inspect" title="Link to this method"> <span class="method-callseq"> inspect → string </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="inspect-source"> <pre class="c" data-language="c">static VALUE
rb_obj_inspect(VALUE obj)
{
    if (rb_ivar_count(obj) &gt; 0) {
        VALUE str;
        VALUE c = rb_class_name(CLASS_OF(obj));

        str = rb_sprintf("-&lt;%"PRIsVALUE":%p", c, (void*)obj);
        return rb_exec_recursive(inspect_obj, obj, str);
    }
    else {
        return rb_any_to_s(obj);
    }
}</pre> </div>  <p>Returns a string containing a human-readable representation of <em>obj</em>. The default <a href="object.html#method-i-inspect"><code>inspect</code></a> shows the object’s class name, an encoding of its memory address, and a list of the instance variables and their values (by calling <a href="object.html#method-i-inspect"><code>inspect</code></a> on each of them). User defined classes should override this method to provide a better representation of <em>obj</em>. When overriding this method, it should return a string whose encoding is compatible with the default external encoding.</p> <pre class="ruby" data-language="ruby">[ 1, 2, 3..4, 'five' ].inspect   #=&gt; "[1, 2, 3..4, \"five\"]"
Time.new.inspect                 #=&gt; "2008-03-08 19:43:39 +0900"

class Foo
end
Foo.new.inspect                  #=&gt; "#&lt;Foo:0x0300c868&gt;"

class Bar
  def initialize
    @bar = 1
  end
end
Bar.new.inspect                  #=&gt; "#&lt;Bar:0x0300c868 @bar=1&gt;"
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-instance_of-3F"> <a href="#method-i-instance_of-3F" title="Link to this method"> <span class="method-callseq"> instance_of?(class) → true or false </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="instance_of-3F-source"> <pre class="c" data-language="c">VALUE
rb_obj_is_instance_of(VALUE obj, VALUE c)
{
    c = class_or_module_required(c);
    return RBOOL(rb_obj_class(obj) == c);
}</pre> </div>  <p>Returns <code>true</code> if <em>obj</em> is an instance of the given class. See also <a href="object.html#method-i-kind_of-3F"><code>Object#kind_of?</code></a>.</p> <pre class="ruby" data-language="ruby">class A;     end
class B &lt; A; end
class C &lt; B; end

b = B.new
b.instance_of? A   #=&gt; false
b.instance_of? B   #=&gt; true
b.instance_of? C   #=&gt; false
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-instance_variable_defined-3F"> <a href="#method-i-instance_variable_defined-3F" title="Link to this method"> <span class="method-callseq"> instance_variable_defined?(symbol) → true or false </span> </a> </div> <div class="method-heading"> <a href="#method-i-instance_variable_defined-3F" title="Link to this method"> <span class="method-callseq"> instance_variable_defined?(string) → true or false </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="instance_variable_defined-3F-source"> <pre class="c" data-language="c">static VALUE
rb_obj_ivar_defined(VALUE obj, VALUE iv)
{
    ID id = id_for_var(obj, iv, instance);

    if (!id) {
        return Qfalse;
    }
    return rb_ivar_defined(obj, id);
}</pre> </div>  <p>Returns <code>true</code> if the given instance variable is defined in <em>obj</em>. <a href="string.html"><code>String</code></a> arguments are converted to symbols.</p> <pre class="ruby" data-language="ruby">class Fred
  def initialize(p1, p2)
    @a, @b = p1, p2
  end
end
fred = Fred.new('cat', 99)
fred.instance_variable_defined?(:@a)    #=&gt; true
fred.instance_variable_defined?("@b")   #=&gt; true
fred.instance_variable_defined?("@c")   #=&gt; false
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-instance_variable_get"> <a href="#method-i-instance_variable_get" title="Link to this method"> <span class="method-callseq"> instance_variable_get(symbol) → obj </span> </a> </div> <div class="method-heading"> <a href="#method-i-instance_variable_get" title="Link to this method"> <span class="method-callseq"> instance_variable_get(string) → obj </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="instance_variable_get-source"> <pre class="c" data-language="c">static VALUE
rb_obj_ivar_get(VALUE obj, VALUE iv)
{
    ID id = id_for_var(obj, iv, instance);

    if (!id) {
        return Qnil;
    }
    return rb_ivar_get(obj, id);
}</pre> </div>  <p>Returns the value of the given instance variable, or nil if the instance variable is not set. The <code>@</code> part of the variable name should be included for regular instance variables. Throws a <a href="nameerror.html"><code>NameError</code></a> exception if the supplied symbol is not valid as an instance variable name. <a href="string.html"><code>String</code></a> arguments are converted to symbols.</p> <pre class="ruby" data-language="ruby">class Fred
  def initialize(p1, p2)
    @a, @b = p1, p2
  end
end
fred = Fred.new('cat', 99)
fred.instance_variable_get(:@a)    #=&gt; "cat"
fred.instance_variable_get("@b")   #=&gt; 99
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-instance_variable_set"> <a href="#method-i-instance_variable_set" title="Link to this method"> <span class="method-callseq"> instance_variable_set(symbol, obj) → obj </span> </a> </div> <div class="method-heading"> <a href="#method-i-instance_variable_set" title="Link to this method"> <span class="method-callseq"> instance_variable_set(string, obj) → obj </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="instance_variable_set-source"> <pre class="c" data-language="c">static VALUE
rb_obj_ivar_set_m(VALUE obj, VALUE iv, VALUE val)
{
    ID id = id_for_var(obj, iv, instance);
    if (!id) id = rb_intern_str(iv);
    return rb_ivar_set(obj, id, val);
}</pre> </div>  <p>Sets the instance variable named by <em>symbol</em> to the given object. This may circumvent the encapsulation intended by the author of the class, so it should be used with care. The variable does not have to exist prior to this call. If the instance variable name is passed as a string, that string is converted to a symbol.</p> <pre class="ruby" data-language="ruby">class Fred
  def initialize(p1, p2)
    @a, @b = p1, p2
  end
end
fred = Fred.new('cat', 99)
fred.instance_variable_set(:@a, 'dog')   #=&gt; "dog"
fred.instance_variable_set(:@c, 'cat')   #=&gt; "cat"
fred.inspect                             #=&gt; "#&lt;Fred:0x401b3da8 @a=\"dog\", @b=99, @c=\"cat\"&gt;"
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-instance_variables"> <a href="#method-i-instance_variables" title="Link to this method"> <span class="method-callseq"> instance_variables → array </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="instance_variables-source"> <pre class="c" data-language="c">VALUE
rb_obj_instance_variables(VALUE obj)
{
    VALUE ary;

    ary = rb_ary_new();
    rb_ivar_foreach(obj, ivar_i, ary);
    return ary;
}</pre> </div>  <p>Returns an array of instance variable names for the receiver. Note that simply defining an accessor does not create the corresponding instance variable.</p> <pre class="ruby" data-language="ruby">class Fred
  attr_accessor :a1
  def initialize
    @iv = 3
  end
end
Fred.new.instance_variables   #=&gt; [:@iv]
</pre> </div> </div> <div class="method-detail anchor-link method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-is_a-3F"> <a href="#method-i-is_a-3F" title="Link to this method"> <span class="method-callseq"> is_a?(class) → true or false </span> </a> </div> </div> <div class="method-description"> <p>Returns <code>true</code> if <em>class</em> is the class of <em>obj</em>, or if <em>class</em> is one of the superclasses of <em>obj</em> or modules included in <em>obj</em>.</p> <pre class="ruby" data-language="ruby">module M;    end
class A
  include M
end
class B &lt; A; end
class C &lt; B; end

b = B.new
b.is_a? A          #=&gt; true
b.is_a? B          #=&gt; true
b.is_a? C          #=&gt; false
b.is_a? M          #=&gt; true

b.kind_of? A       #=&gt; true
b.kind_of? B       #=&gt; true
b.kind_of? C       #=&gt; false
b.kind_of? M       #=&gt; true
</pre> </div> <div class="aliases"> Alias for: <a href="object.html#method-i-kind_of-3F">kind_of?</a> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-itself"> <a href="#method-i-itself" title="Link to this method"> <span class="method-callseq"> itself → obj </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="itself-source"> <pre class="c" data-language="c">static VALUE
rb_obj_itself(VALUE obj)
{
    return obj;
}</pre> </div>  <p>Returns the receiver.</p> <pre class="ruby" data-language="ruby">string = "my string"
string.itself.object_id == string.object_id   #=&gt; true
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-kind_of-3F"> <a href="#method-i-kind_of-3F" title="Link to this method"> <span class="method-callseq"> kind_of?(class) → true or false </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="kind_of-3F-source"> <pre class="c" data-language="c">VALUE
rb_obj_is_kind_of(VALUE obj, VALUE c)
{
    VALUE cl = CLASS_OF(obj);

    RUBY_ASSERT(RB_TYPE_P(cl, T_CLASS));

    // Fastest path: If the object's class is an exact match we know `c` is a
    // class without checking type and can return immediately.
    if (cl == c) return Qtrue;

    // Note: YJIT needs this function to never allocate and never raise when
    // `c` is a class or a module.

    if (LIKELY(RB_TYPE_P(c, T_CLASS))) {
        // Fast path: Both are T_CLASS
        return class_search_class_ancestor(cl, c);
    }
    else if (RB_TYPE_P(c, T_ICLASS)) {
        // First check if we inherit the includer
        // If we do we can return true immediately
        VALUE includer = RCLASS_INCLUDER(c);
        if (cl == includer) return Qtrue;

        // Usually includer is a T_CLASS here, except when including into an
        // already included Module.
        // If it is a class, attempt the fast class-to-class check and return
        // true if there is a match.
        if (RB_TYPE_P(includer, T_CLASS) &amp;&amp; class_search_class_ancestor(cl, includer))
            return Qtrue;

        // We don't include the ICLASS directly, so must check if we inherit
        // the module via another include
        return RBOOL(class_search_ancestor(cl, RCLASS_ORIGIN(c)));
    }
    else if (RB_TYPE_P(c, T_MODULE)) {
        // Slow path: check each ancestor in the linked list and its method table
        return RBOOL(class_search_ancestor(cl, RCLASS_ORIGIN(c)));
    }
    else {
        rb_raise(rb_eTypeError, "class or module required");
        UNREACHABLE_RETURN(Qfalse);
    }
}</pre> </div>  <p>Returns <code>true</code> if <em>class</em> is the class of <em>obj</em>, or if <em>class</em> is one of the superclasses of <em>obj</em> or modules included in <em>obj</em>.</p> <pre class="ruby" data-language="ruby">module M;    end
class A
  include M
end
class B &lt; A; end
class C &lt; B; end

b = B.new
b.is_a? A          #=&gt; true
b.is_a? B          #=&gt; true
b.is_a? C          #=&gt; false
b.is_a? M          #=&gt; true

b.kind_of? A       #=&gt; true
b.kind_of? B       #=&gt; true
b.kind_of? C       #=&gt; false
b.kind_of? M       #=&gt; true
</pre> </div> <div class="aliases"> Also aliased as: <a href="object.html#method-i-is_a-3F">is_a?</a> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-method"> <a href="#method-i-method" title="Link to this method"> <span class="method-callseq"> method(sym) → method </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="method-source"> <pre class="c" data-language="c">VALUE
rb_obj_method(VALUE obj, VALUE vid)
{
    return obj_method(obj, vid, FALSE);
}</pre> </div>  <p>Looks up the named method as a receiver in <em>obj</em>, returning a <a href="method.html"><code>Method</code></a> object (or raising <a href="nameerror.html"><code>NameError</code></a>). The <a href="method.html"><code>Method</code></a> object acts as a closure in <em>obj</em>’s object instance, so instance variables and the value of <code>self</code> remain available.</p> <pre class="ruby" data-language="ruby">class Demo
  def initialize(n)
    @iv = n
  end
  def hello()
    "Hello, @iv = #{@iv}"
  end
end

k = Demo.new(99)
m = k.method(:hello)
m.call   #=&gt; "Hello, @iv = 99"

l = Demo.new('Fred')
m = l.method("hello")
m.call   #=&gt; "Hello, @iv = Fred"
</pre> <p>Note that <a href="method.html"><code>Method</code></a> implements <code>to_proc</code> method, which means it can be used with iterators.</p> <pre class="ruby" data-language="ruby">[ 1, 2, 3 ].each(&amp;method(:puts)) # =&gt; prints 3 lines to stdout

out = File.open('test.txt', 'w')
[ 1, 2, 3 ].each(&amp;out.method(:puts)) # =&gt; prints 3 lines to file

require 'date'
%w[2017-03-01 2017-03-02].collect(&amp;Date.method(:parse))
#=&gt; [#&lt;Date: 2017-03-01 ((2457814j,0s,0n),+0s,2299161j)&gt;, #&lt;Date: 2017-03-02 ((2457815j,0s,0n),+0s,2299161j)&gt;]
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-methods"> <a href="#method-i-methods" title="Link to this method"> <span class="method-callseq"> methods(regular=true) → array </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="methods-source"> <pre class="c" data-language="c">VALUE
rb_obj_methods(int argc, const VALUE *argv, VALUE obj)
{
    rb_check_arity(argc, 0, 1);
    if (argc &gt; 0 &amp;&amp; !RTEST(argv[0])) {
        return rb_obj_singleton_methods(argc, argv, obj);
    }
    return class_instance_method_list(argc, argv, CLASS_OF(obj), 1, ins_methods_i);
}</pre> </div>  <p>Returns a list of the names of public and protected methods of <em>obj</em>. This will include all the methods accessible in <em>obj</em>’s ancestors. If the optional parameter is <code>false</code>, it returns an array of <em>obj</em>’s public and protected singleton methods, the array will not include methods in modules included in <em>obj</em>.</p> <pre class="ruby" data-language="ruby">class Klass
  def klass_method()
  end
end
k = Klass.new
k.methods[0..9]    #=&gt; [:klass_method, :nil?, :===,
                   #    :==~, :!, :eql?
                   #    :hash, :&lt;=&gt;, :class, :singleton_class]
k.methods.length   #=&gt; 56

k.methods(false)   #=&gt; []
def k.singleton_method; end
k.methods(false)   #=&gt; [:singleton_method]

module M123; def m123; end end
k.extend M123
k.methods(false)   #=&gt; [:singleton_method]
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-nil-3F"> <a href="#method-i-nil-3F" title="Link to this method"> <span class="method-callseq"> nil? → true or false </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="nil-3F-source"> <pre class="c" data-language="c">VALUE
rb_false(VALUE obj)
{
    return Qfalse;
}</pre> </div>  <p>Only the object <em>nil</em> responds <code>true</code> to <code>nil?</code>.</p> <pre class="ruby" data-language="ruby">Object.new.nil?   #=&gt; false
nil.nil?          #=&gt; true
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-object_id"> <a href="#method-i-object_id" title="Link to this method"> <span class="method-callseq"> __id__ → integer </span> </a> </div> <div class="method-heading"> <a href="#method-i-object_id" title="Link to this method"> <span class="method-callseq"> object_id → integer </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="object_id-source"> <pre class="c" data-language="c">VALUE
rb_obj_id(VALUE obj)
{
    /* If obj is an immediate, the object ID is obj directly converted to a Numeric.
     * Otherwise, the object ID is a Numeric that is a non-zero multiple of
     * (RUBY_IMMEDIATE_MASK + 1) which guarantees that it does not collide with
     * any immediates. */
    return rb_find_object_id(rb_gc_get_objspace(), obj, rb_gc_impl_object_id);
}</pre> </div>  <p>Returns an integer identifier for <code>obj</code>.</p> <p>The same number will be returned on all calls to <a href="object.html#method-i-object_id"><code>object_id</code></a> for a given object, and no two active objects will share an id.</p> <p>Note: that some objects of builtin classes are reused for optimization. This is the case for immediate values and frozen string literals.</p> <p><a href="basicobject.html"><code>BasicObject</code></a> implements <code>__id__</code>, <a href="kernel.html"><code>Kernel</code></a> implements <a href="object.html#method-i-object_id"><code>object_id</code></a>.</p> <p>Immediate values are not passed by reference but are passed by value: <code>nil</code>, <code>true</code>, <code>false</code>, Fixnums, Symbols, and some Floats.</p> <pre class="ruby" data-language="ruby">Object.new.object_id  == Object.new.object_id  # =&gt; false
(21 * 2).object_id    == (21 * 2).object_id    # =&gt; true
"hello".object_id     == "hello".object_id     # =&gt; false
"hi".freeze.object_id == "hi".freeze.object_id # =&gt; true
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-private_methods"> <a href="#method-i-private_methods" title="Link to this method"> <span class="method-callseq"> private_methods(all=true) → array </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="private_methods-source"> <pre class="c" data-language="c">VALUE
rb_obj_private_methods(int argc, const VALUE *argv, VALUE obj)
{
    return class_instance_method_list(argc, argv, CLASS_OF(obj), 1, ins_methods_priv_i);
}</pre> </div>  <p>Returns the list of private methods accessible to <em>obj</em>. If the <em>all</em> parameter is set to <code>false</code>, only those methods in the receiver will be listed.</p> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-protected_methods"> <a href="#method-i-protected_methods" title="Link to this method"> <span class="method-callseq"> protected_methods(all=true) → array </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="protected_methods-source"> <pre class="c" data-language="c">VALUE
rb_obj_protected_methods(int argc, const VALUE *argv, VALUE obj)
{
    return class_instance_method_list(argc, argv, CLASS_OF(obj), 1, ins_methods_prot_i);
}</pre> </div>  <p>Returns the list of protected methods accessible to <em>obj</em>. If the <em>all</em> parameter is set to <code>false</code>, only those methods in the receiver will be listed.</p> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-public_method"> <a href="#method-i-public_method" title="Link to this method"> <span class="method-callseq"> public_method(sym) → method </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="public_method-source"> <pre class="c" data-language="c">VALUE
rb_obj_public_method(VALUE obj, VALUE vid)
{
    return obj_method(obj, vid, TRUE);
}</pre> </div>  <p>Similar to <em>method</em>, searches public method only.</p> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-public_methods"> <a href="#method-i-public_methods" title="Link to this method"> <span class="method-callseq"> public_methods(all=true) → array </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="public_methods-source"> <pre class="c" data-language="c">VALUE
rb_obj_public_methods(int argc, const VALUE *argv, VALUE obj)
{
    return class_instance_method_list(argc, argv, CLASS_OF(obj), 1, ins_methods_pub_i);
}</pre> </div>  <p>Returns the list of public methods accessible to <em>obj</em>. If the <em>all</em> parameter is set to <code>false</code>, only those methods in the receiver will be listed.</p> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-public_send"> <a href="#method-i-public_send" title="Link to this method"> <span class="method-callseq"> public_send(symbol [, args...]) → obj </span> </a> </div> <div class="method-heading"> <a href="#method-i-public_send" title="Link to this method"> <span class="method-callseq"> public_send(string [, args...]) → obj </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="public_send-source"> <pre class="c" data-language="c">static VALUE
rb_f_public_send(int argc, VALUE *argv, VALUE recv)
{
    return send_internal_kw(argc, argv, recv, CALL_PUBLIC);
}</pre> </div>  <p>Invokes the method identified by <em>symbol</em>, passing it any arguments specified. Unlike send, <a href="object.html#method-i-public_send"><code>public_send</code></a> calls public methods only. When the method is identified by a string, the string is converted to a symbol.</p> <pre class="ruby" data-language="ruby">1.public_send(:puts, "hello")  # causes NoMethodError
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-remove_instance_variable"> <a href="#method-i-remove_instance_variable" title="Link to this method"> <span class="method-callseq"> remove_instance_variable(symbol) → obj </span> </a> </div> <div class="method-heading"> <a href="#method-i-remove_instance_variable" title="Link to this method"> <span class="method-callseq"> remove_instance_variable(string) → obj </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="remove_instance_variable-source"> <pre class="c" data-language="c">VALUE
rb_obj_remove_instance_variable(VALUE obj, VALUE name)
{
    const ID id = id_for_var(obj, name, an, instance);

    // Frozen check comes here because it's expected that we raise a
    // NameError (from the id_for_var check) before we raise a FrozenError
    rb_check_frozen(obj);

    if (id) {
        VALUE val = rb_ivar_delete(obj, id, Qundef);

        if (!UNDEF_P(val)) return val;
    }

    rb_name_err_raise("instance variable %1$s not defined",
                      obj, name);
    UNREACHABLE_RETURN(Qnil);
}</pre> </div>  <p>Removes the named instance variable from <em>obj</em>, returning that variable’s value. The name can be passed as a symbol or as a string.</p> <pre class="ruby" data-language="ruby">class Dummy
  attr_reader :var
  def initialize
    @var = 99
  end
  def remove
    remove_instance_variable(:@var)
  end
end
d = Dummy.new
d.var      #=&gt; 99
d.remove   #=&gt; 99
d.var      #=&gt; nil
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-respond_to-3F"> <a href="#method-i-respond_to-3F" title="Link to this method"> <span class="method-callseq"> respond_to?(symbol, include_all=false) → true or false </span> </a> </div> <div class="method-heading"> <a href="#method-i-respond_to-3F" title="Link to this method"> <span class="method-callseq"> respond_to?(string, include_all=false) → true or false </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="respond_to-3F-source"> <pre class="c" data-language="c">static VALUE
obj_respond_to(int argc, VALUE *argv, VALUE obj)
{
    VALUE mid, priv;
    ID id;
    rb_execution_context_t *ec = GET_EC();

    rb_scan_args(argc, argv, "11", &amp;mid, &amp;priv);
    if (!(id = rb_check_id(&amp;mid))) {
        VALUE ret = basic_obj_respond_to_missing(ec, CLASS_OF(obj), obj,
                                                 rb_to_symbol(mid), priv);
        if (UNDEF_P(ret)) ret = Qfalse;
        return ret;
    }
    return  RBOOL(basic_obj_respond_to(ec, obj, id, !RTEST(priv)));
}</pre> </div>  <p>Returns <code>true</code> if <em>obj</em> responds to the given method. Private and protected methods are included in the search only if the optional second parameter evaluates to <code>true</code>.</p> <p>If the method is not implemented, as <a href="process.html#method-c-fork"><code>Process.fork</code></a> on Windows, <a href="file.html#method-c-lchmod"><code>File.lchmod</code></a> on GNU/Linux, etc., false is returned.</p> <p>If the method is not defined, <a href="object.html#method-i-respond_to_missing-3F"><code>respond_to_missing?</code></a> method is called and the result is returned.</p> <p>When the method name parameter is given as a string, the string is converted to a symbol.</p> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-respond_to_missing-3F"> <a href="#method-i-respond_to_missing-3F" title="Link to this method"> <span class="method-callseq"> respond_to_missing?(symbol, include_all) → true or false </span> </a> </div> <div class="method-heading"> <a href="#method-i-respond_to_missing-3F" title="Link to this method"> <span class="method-callseq"> respond_to_missing?(string, include_all) → true or false </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="respond_to_missing-3F-source"> <pre class="c" data-language="c">static VALUE
obj_respond_to_missing(VALUE obj, VALUE mid, VALUE priv)
{
    return Qfalse;
}</pre> </div>  <p>DO NOT USE THIS DIRECTLY.</p> <p>Hook method to return whether the <em>obj</em> can respond to <em>id</em> method or not.</p> <p>When the method name parameter is given as a string, the string is converted to a symbol.</p> <p>See <a href="object.html#method-i-respond_to-3F"><code>respond_to?</code></a>, and the example of <a href="basicobject.html"><code>BasicObject</code></a>.</p> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-send"> <a href="#method-i-send" title="Link to this method"> <span class="method-callseq"> send(symbol [, args...]) → obj </span> </a> </div> <div class="method-heading"> <a href="#method-i-send" title="Link to this method"> <span class="method-callseq"> __send__(symbol [, args...]) → obj </span> </a> </div> <div class="method-heading"> <a href="#method-i-send" title="Link to this method"> <span class="method-callseq"> send(string [, args...]) → obj </span> </a> </div> <div class="method-heading"> <a href="#method-i-send" title="Link to this method"> <span class="method-callseq"> __send__(string [, args...]) → obj </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="send-source"> <pre class="c" data-language="c">VALUE
rb_f_send(int argc, VALUE *argv, VALUE recv)
{
    return send_internal_kw(argc, argv, recv, CALL_FCALL);
}</pre> </div>  <p>Invokes the method identified by <em>symbol</em>, passing it any arguments specified. When the method is identified by a string, the string is converted to a symbol.</p> <p><a href="basicobject.html"><code>BasicObject</code></a> implements <code>__send__</code>, <a href="kernel.html"><code>Kernel</code></a> implements <code>send</code>. <code>__send__</code> is safer than <code>send</code> when <em>obj</em> has the same method name like <a href="socket.html"><code>Socket</code></a>. See also <a href="object.html#method-i-public_send"><code>public_send</code></a>.</p> <pre class="ruby" data-language="ruby">class Klass
  def hello(*args)
    "Hello " + args.join(' ')
  end
end
k = Klass.new
k.send :hello, "gentle", "readers"   #=&gt; "Hello gentle readers"
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-singleton_class"> <a href="#method-i-singleton_class" title="Link to this method"> <span class="method-callseq"> singleton_class → class </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="singleton_class-source"> <pre class="c" data-language="c">static VALUE
rb_obj_singleton_class(VALUE obj)
{
    return rb_singleton_class(obj);
}</pre> </div>  <p>Returns the singleton class of <em>obj</em>. This method creates a new singleton class if <em>obj</em> does not have one.</p> <p>If <em>obj</em> is <code>nil</code>, <code>true</code>, or <code>false</code>, it returns <a href="nilclass.html"><code>NilClass</code></a>, <a href="trueclass.html"><code>TrueClass</code></a>, or <a href="falseclass.html"><code>FalseClass</code></a>, respectively. If <em>obj</em> is an <a href="integer.html"><code>Integer</code></a>, a <a href="float.html"><code>Float</code></a> or a <a href="symbol.html"><code>Symbol</code></a>, it raises a <a href="typeerror.html"><code>TypeError</code></a>.</p> <pre class="ruby" data-language="ruby">Object.new.singleton_class  #=&gt; #&lt;Class:#&lt;Object:0xb7ce1e24&gt;&gt;
String.singleton_class      #=&gt; #&lt;Class:String&gt;
nil.singleton_class         #=&gt; NilClass
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-singleton_method"> <a href="#method-i-singleton_method" title="Link to this method"> <span class="method-callseq"> singleton_method(sym) → method </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="singleton_method-source"> <pre class="c" data-language="c">VALUE
rb_obj_singleton_method(VALUE obj, VALUE vid)
{
    VALUE sc = rb_singleton_class_get(obj);
    VALUE klass;
    ID id = rb_check_id(&amp;vid);

    if (NIL_P(sc) ||
        NIL_P(klass = RCLASS_ORIGIN(sc)) ||
        !NIL_P(rb_special_singleton_class(obj))) {
        /* goto undef; */
    }
    else if (! id) {
        VALUE m = mnew_missing_by_name(klass, obj, &amp;vid, FALSE, rb_cMethod);
        if (m) return m;
        /* else goto undef; */
    }
    else {
        VALUE args[2] = {obj, vid};
        VALUE ruby_method = rb_rescue(rb_obj_singleton_method_lookup, (VALUE)args, rb_obj_singleton_method_lookup_fail, Qfalse);
        if (ruby_method) {
            struct METHOD *method = (struct METHOD *)RTYPEDDATA_GET_DATA(ruby_method);
            VALUE lookup_class = RBASIC_CLASS(obj);
            VALUE stop_class = rb_class_superclass(sc);
            VALUE method_class = method-&gt;iclass;

            /* Determine if method is in singleton class, or module included in or prepended to it */
            do {
                if (lookup_class == method_class) {
                    return ruby_method;
                }
                lookup_class = RCLASS_SUPER(lookup_class);
            } while (lookup_class &amp;&amp; lookup_class != stop_class);
        }
    }

  /* undef: */
    vid = ID2SYM(id);
    rb_name_err_raise("undefined singleton method '%1$s' for '%2$s'",
                      obj, vid);
    UNREACHABLE_RETURN(Qundef);
}</pre> </div>  <p>Similar to <em>method</em>, searches singleton method only.</p> <pre class="ruby" data-language="ruby">class Demo
  def initialize(n)
    @iv = n
  end
  def hello()
    "Hello, @iv = #{@iv}"
  end
end

k = Demo.new(99)
def k.hi
  "Hi, @iv = #{@iv}"
end
m = k.singleton_method(:hi)
m.call   #=&gt; "Hi, @iv = 99"
m = k.singleton_method(:hello) #=&gt; NameError
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-singleton_methods"> <a href="#method-i-singleton_methods" title="Link to this method"> <span class="method-callseq"> singleton_methods(all=true) → array </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="singleton_methods-source"> <pre class="c" data-language="c">VALUE
rb_obj_singleton_methods(int argc, const VALUE *argv, VALUE obj)
{
    VALUE ary, klass, origin;
    struct method_entry_arg me_arg;
    struct rb_id_table *mtbl;
    int recur = TRUE;

    if (rb_check_arity(argc, 0, 1)) recur = RTEST(argv[0]);
    if (RCLASS_SINGLETON_P(obj)) {
        rb_singleton_class(obj);
    }
    klass = CLASS_OF(obj);
    origin = RCLASS_ORIGIN(klass);
    me_arg.list = st_init_numtable();
    me_arg.recur = recur;
    if (klass &amp;&amp; RCLASS_SINGLETON_P(klass)) {
        if ((mtbl = RCLASS_M_TBL(origin)) != 0) rb_id_table_foreach(mtbl, method_entry_i, &amp;me_arg);
        klass = RCLASS_SUPER(klass);
    }
    if (recur) {
        while (klass &amp;&amp; (RCLASS_SINGLETON_P(klass) || RB_TYPE_P(klass, T_ICLASS))) {
            if (klass != origin &amp;&amp; (mtbl = RCLASS_M_TBL(klass)) != 0) rb_id_table_foreach(mtbl, method_entry_i, &amp;me_arg);
            klass = RCLASS_SUPER(klass);
        }
    }
    ary = rb_ary_new2(me_arg.list-&gt;num_entries);
    st_foreach(me_arg.list, ins_methods_i, ary);
    st_free_table(me_arg.list);

    return ary;
}</pre> </div>  <p>Returns an array of the names of singleton methods for <em>obj</em>. If the optional <em>all</em> parameter is true, the list will include methods in modules included in <em>obj</em>. Only public and protected singleton methods are returned.</p> <pre class="ruby" data-language="ruby">module Other
  def three() end
end

class Single
  def Single.four() end
end

a = Single.new

def a.one()
end

class &lt;&lt; a
  include Other
  def two()
  end
end

Single.singleton_methods    #=&gt; [:four]
a.singleton_methods(false)  #=&gt; [:two, :one]
a.singleton_methods         #=&gt; [:two, :one, :three]
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-to_enum"> <a href="#method-i-to_enum" title="Link to this method"> <span class="method-callseq"> to_enum(method = :each, *args) → enum </span> </a> </div> <div class="method-heading"> <a href="#method-i-to_enum" title="Link to this method"> <span class="method-callseq"> to_enum(method = :each, *args) {|*args| block} → enum </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="to_enum-source"> <pre class="c" data-language="c">static VALUE
obj_to_enum(int argc, VALUE *argv, VALUE obj)
{
    VALUE enumerator, meth = sym_each;

    if (argc &gt; 0) {
        --argc;
        meth = *argv++;
    }
    enumerator = rb_enumeratorize_with_size(obj, meth, argc, argv, 0);
    if (rb_block_given_p()) {
        RB_OBJ_WRITE(enumerator, &amp;enumerator_ptr(enumerator)-&gt;size, rb_block_proc());
    }
    return enumerator;
}</pre> </div>  <p>Creates a new <a href="enumerator.html"><code>Enumerator</code></a> which will enumerate by calling <code>method</code> on <code>obj</code>, passing <code>args</code> if any. What was <em>yielded</em> by method becomes values of enumerator.</p> <p>If a block is given, it will be used to calculate the size of the enumerator without the need to iterate it (see <a href="enumerator.html#method-i-size"><code>Enumerator#size</code></a>).</p> <h3 id="method-i-to_enum-label-Examples">Examples</h3> <pre class="ruby" data-language="ruby">str = "xyz"

enum = str.enum_for(:each_byte)
enum.each { |b| puts b }
# =&gt; 120
# =&gt; 121
# =&gt; 122

# protect an array from being modified by some_method
a = [1, 2, 3]
some_method(a.to_enum)

# String#split in block form is more memory-effective:
very_large_string.split("|") { |chunk| return chunk if chunk.include?('DATE') }
# This could be rewritten more idiomatically with to_enum:
very_large_string.to_enum(:split, "|").lazy.grep(/DATE/).first
</pre> <p>It is typical to call <a href="object.html#method-i-to_enum"><code>to_enum</code></a> when defining methods for a generic <a href="enumerable.html"><code>Enumerable</code></a>, in case no block is passed.</p> <p>Here is such an example, with parameter passing and a sizing block:</p> <pre class="ruby" data-language="ruby">module Enumerable
  # a generic method to repeat the values of any enumerable
  def repeat(n)
    raise ArgumentError, "#{n} is negative!" if n &lt; 0
    unless block_given?
      return to_enum(__method__, n) do # __method__ is :repeat here
        sz = size     # Call size and multiply by n...
        sz * n if sz  # but return nil if size itself is nil
      end
    end
    each do |*val|
      n.times { yield *val }
    end
  end
end

%i[hello world].repeat(2) { |w| puts w }
  # =&gt; Prints 'hello', 'hello', 'world', 'world'
enum = (1..14).repeat(3)
  # =&gt; returns an Enumerator when called without a block
enum.first(4) # =&gt; [1, 1, 1, 2]
enum.size # =&gt; 42
</pre> </div> <div class="aliases"> Also aliased as: <a href="object.html#method-i-enum_for">enum_for</a> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-to_s"> <a href="#method-i-to_s" title="Link to this method"> <span class="method-callseq"> to_s → string </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="to_s-source"> <pre class="c" data-language="c">VALUE
rb_any_to_s(VALUE obj)
{
    VALUE str;
    VALUE cname = rb_class_name(CLASS_OF(obj));

    str = rb_sprintf("#&lt;%"PRIsVALUE":%p&gt;", cname, (void*)obj);

    return str;
}</pre> </div>  <p>Returns a string representing <em>obj</em>. The default <a href="object.html#method-i-to_s"><code>to_s</code></a> prints the object’s class and an encoding of the object id. As a special case, the top-level object that is the initial execution context of Ruby programs returns “main”.</p> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-to_yaml"> <a href="#method-i-to_yaml" title="Link to this method"> <span class="method-callseq"> to_yaml(options = {}) </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="to_yaml-source"> <pre class="ruby" data-language="ruby"># File ext/psych/lib/psych/core_ext.rb, line 12
def to_yaml options = {}
  Psych.dump self, options
end</pre> </div>  <p>Convert an object to <a href="yaml.html"><code>YAML</code></a>. See <a href="psych.html#method-c-dump"><code>Psych.dump</code></a> for more information on the available <code>options</code>.</p> </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    Ruby Core &copy; 1993&ndash;2024 Yukihiro Matsumoto<br>Licensed under the Ruby License.<br>Ruby Standard Library &copy; contributors<br>Licensed under their own licenses.<br>
    
  </p>
</div>
