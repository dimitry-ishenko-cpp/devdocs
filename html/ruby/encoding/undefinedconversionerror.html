<h1 id="class-Encoding::UndefinedConversionError" class="anchor-link class"> class Encoding::UndefinedConversionError </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="../encodingerror.html">EncodingError</a></dd>
</dl> <section class="description"> <p>Raised by <a href="../encoding.html"><code>Encoding</code></a> and <a href="../string.html"><code>String</code></a> methods when a transcoding operation fails.</p> </section> <section id="5Buntitled-5D" class="documentation-section anchor-link"> <section id="public-instance-5Buntitled-5D-method-details" class="method-section anchor-link"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-destination_encoding"> <a href="#method-i-destination_encoding" title="Link to this method"> <span class="method-callseq"> destination_encoding → string </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="destination_encoding-source"> <pre class="c" data-language="c">static VALUE
ecerr_destination_encoding(VALUE self)
{
    return rb_attr_get(self, id_destination_encoding);
}</pre> </div>  <p>Returns the destination encoding as an encoding object.</p> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-destination_encoding_name"> <a href="#method-i-destination_encoding_name" title="Link to this method"> <span class="method-callseq"> destination_encoding_name → string </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="destination_encoding_name-source"> <pre class="c" data-language="c">static VALUE
ecerr_destination_encoding_name(VALUE self)
{
    return rb_attr_get(self, id_destination_encoding_name);
}</pre> </div>  <p>Returns the destination encoding name as a string.</p> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-error_char"> <a href="#method-i-error_char" title="Link to this method"> <span class="method-callseq"> error_char → string </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="error_char-source"> <pre class="c" data-language="c">static VALUE
ecerr_error_char(VALUE self)
{
    return rb_attr_get(self, id_error_char);
}</pre> </div>  <p>Returns the one-character string which cause <a href="undefinedconversionerror.html"><code>Encoding::UndefinedConversionError</code></a>.</p> <pre class="ruby" data-language="ruby">ec = Encoding::Converter.new("ISO-8859-1", "EUC-JP")
begin
  ec.convert("\xa0")
rescue Encoding::UndefinedConversionError
  puts $!.error_char.dump   #=&gt; "\xC2\xA0"
  p $!.error_char.encoding  #=&gt; #&lt;Encoding:UTF-8&gt;
end
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-source_encoding"> <a href="#method-i-source_encoding" title="Link to this method"> <span class="method-callseq"> source_encoding → encoding </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="source_encoding-source"> <pre class="c" data-language="c">static VALUE
ecerr_source_encoding(VALUE self)
{
    return rb_attr_get(self, id_source_encoding);
}</pre> </div>  <p>Returns the source encoding as an encoding object.</p> <p>Note that the result may not be equal to the source encoding of the encoding converter if the conversion has multiple steps.</p> <pre class="ruby" data-language="ruby">ec = Encoding::Converter.new("ISO-8859-1", "EUC-JP") # ISO-8859-1 -&gt; UTF-8 -&gt; EUC-JP
begin
  ec.convert("\xa0") # NO-BREAK SPACE, which is available in UTF-8 but not in EUC-JP.
rescue Encoding::UndefinedConversionError
  p $!.source_encoding              #=&gt; #&lt;Encoding:UTF-8&gt;
  p $!.destination_encoding         #=&gt; #&lt;Encoding:EUC-JP&gt;
  p $!.source_encoding_name         #=&gt; "UTF-8"
  p $!.destination_encoding_name    #=&gt; "EUC-JP"
end
</pre> </div> </div> <div class="method-detail anchor-link "> <div class="method-header"> <div class="method-heading" id="method-i-source_encoding_name"> <a href="#method-i-source_encoding_name" title="Link to this method"> <span class="method-callseq"> source_encoding_name → string </span> </a> </div> </div> <div class="method-controls"> <details class="method-source-toggle"> <summary>Source</summary> </details> </div> <div class="method-description">
<div class="method-source-code" id="source_encoding_name-source"> <pre class="c" data-language="c">static VALUE
ecerr_source_encoding_name(VALUE self)
{
    return rb_attr_get(self, id_source_encoding_name);
}</pre> </div>  <p>Returns the source encoding name as a string.</p> </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    Ruby Core &copy; 1993&ndash;2024 Yukihiro Matsumoto<br>Licensed under the Ruby License.<br>Ruby Standard Library &copy; contributors<br>Licensed under their own licenses.<br>
    
  </p>
</div>
