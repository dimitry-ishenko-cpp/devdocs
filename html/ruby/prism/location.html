<h1 id="class-Prism::Location" class="class"> class Prism::Location </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="../object.html">Object</a></dd>
</dl> <section class="description"> <p>This represents a location in the source.</p> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="attribute-method-details"> <header> <h3>Attributes</h3> </header> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-comments"> <span class="method-name">comments</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>The list of comments attached to this location</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-length"> <span class="method-name">length</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>The length of this location in bytes.</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-start_offset"> <span class="method-name">start_offset</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>The byte offset from the beginning of the source where this location starts.</p> </div> </div> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">(source, start_offset, length)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 108
def initialize(source, start_offset, length)
  @source = source
  @start_offset = start_offset
  @length = length
  @comments = []
end</pre> </div> <p>Create a new location object with the given source, start byte offset, and byte length.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-c-null"> <span class="method-name">null</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="null-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 221
def self.null
  new(nil, 0, 0)
end</pre> </div> <p>Returns a null location that does not correspond to a source and points to the beginning of the file. Useful for when you want a location object but do not care where it points.</p>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-3D-3D"> <span class="method-name">==</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="3D-3D-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 202
def ==(other)
  other.is_a?(Location) &amp;&amp;
    other.start_offset == start_offset &amp;&amp;
    other.end_offset == end_offset
end</pre> </div> <p>Returns true if the given other location is equal to this location.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-copy"> <span class="method-name">copy</span><span class="method-args">(**options)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="copy-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 116
def copy(**options)
  Location.new(
    options.fetch(:source) { source },
    options.fetch(:start_offset) { start_offset },
    options.fetch(:length) { length }
  )
end</pre> </div> <p>Create a new location object with the given options.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-deconstruct_keys"> <span class="method-name">deconstruct_keys</span><span class="method-args">(keys)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="deconstruct_keys-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 192
def deconstruct_keys(keys)
  { start_offset: start_offset, end_offset: end_offset }
end</pre> </div> <p>Implement the hash pattern matching interface for <a href="location.html"><code>Location</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-end_character_column"> <span class="method-name">end_character_column</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="end_character_column-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 187
def end_character_column
  source.character_column(end_offset)
end</pre> </div> <p>The column number in characters where this location ends from the start of the line.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-end_character_offset"> <span class="method-name">end_character_offset</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="end_character_offset-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 147
def end_character_offset
  source.character_offset(end_offset)
end</pre> </div> <p>The character offset from the beginning of the source where this location ends.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-end_column"> <span class="method-name">end_column</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="end_column-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 181
def end_column
  source.column(end_offset)
end</pre> </div> <p>The column number in bytes where this location ends from the start of the line.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-end_line"> <span class="method-name">end_line</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="end_line-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 163
def end_line
  source.line(end_offset)
end</pre> </div> <p>The line number where this location ends.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-end_offset"> <span class="method-name">end_offset</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="end_offset-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 141
def end_offset
  start_offset + length
end</pre> </div> <p>The byte offset from the beginning of the source where this location ends.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-inspect"> <span class="method-name">inspect</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="inspect-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 125
def inspect
  "#&lt;Prism::Location @start_offset=#{@start_offset} @length=#{@length} start_line=#{start_line}&gt;"
end</pre> </div> <p>Returns a string representation of this location.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-join"> <span class="method-name">join</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="join-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 211
def join(other)
  raise "Incompatible sources" if source != other.source
  raise "Incompatible locations" if start_offset &gt; other.start_offset

  Location.new(source, start_offset, other.end_offset - start_offset)
end</pre> </div> <p>Returns a new location that stretches from this location to the given other location. Raises an error if this location is not before the other location or if they donâ€™t share the same source.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-pretty_print"> <span class="method-name">pretty_print</span><span class="method-args">(q)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="pretty_print-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 197
def pretty_print(q)
  q.text("(#{start_line},#{start_column})-(#{end_line},#{end_column})")
end</pre> </div> <p>Implement the pretty print interface for <a href="location.html"><code>Location</code></a>.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-slice"> <span class="method-name">slice</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="slice-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 130
def slice
  source.slice(start_offset, length)
end</pre> </div> <p>The source code that this location represents.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-start_character_column"> <span class="method-name">start_character_column</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="start_character_column-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 175
def start_character_column
  source.character_column(start_offset)
end</pre> </div> <p>The column number in characters where this location ends from the start of the line.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-start_character_offset"> <span class="method-name">start_character_offset</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="start_character_offset-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 136
def start_character_offset
  source.character_offset(start_offset)
end</pre> </div> <p>The character offset from the beginning of the source where this location starts.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-start_column"> <span class="method-name">start_column</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="start_column-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 169
def start_column
  source.column(start_offset)
end</pre> </div> <p>The column number in bytes where this location starts from the start of the line.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-start_line"> <span class="method-name">start_line</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="start_line-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 152
def start_line
  source.line(start_offset)
end</pre> </div> <p>The line number where this location starts.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-start_line_slice"> <span class="method-name">start_line_slice</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="start_line_slice-source"> <pre class="ruby" data-language="ruby"># File lib/prism/parse_result.rb, line 157
def start_line_slice
  offset = source.line_start(start_offset)
  source.slice(offset, start_offset - offset)
end</pre> </div> <p>The content of the line where this location starts before this location.</p>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    Ruby Core &copy; 1993&ndash;2022 Yukihiro Matsumoto<br>Licensed under the Ruby License.<br>Ruby Standard Library &copy; contributors<br>Licensed under their own licenses.<br>
    
  </p>
</div>
