<h1 id="class-Prism::ParametersNode" class="class"> class Prism::ParametersNode </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="node.html">Prism::Node</a></dd>
</dl> <section class="description"> <p>Represents the list of parameters on a method, block, or lambda definition.</p> <pre>def a(b, c, d)
      ^^^^^^^
end</pre> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="attribute-method-details"> <header> <h3>Attributes</h3> </header> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-block"> <span class="method-name">block</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader block: <a href="blockparameternode.html"><code>BlockParameterNode</code></a>?</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-keyword_rest"> <span class="method-name">keyword_rest</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader <a href="parametersnode.html#attribute-i-keyword_rest"><code>keyword_rest</code></a>: <a href="node.html"><code>Node</code></a>?</p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-keywords"> <span class="method-name">keywords</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader keywords: <span>Array</span></p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-optionals"> <span class="method-name">optionals</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader optionals: <span>Array</span></p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-posts"> <span class="method-name">posts</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader posts: <span>Array</span></p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-requireds"> <span class="method-name">requireds</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader requireds: <span>Array</span></p> </div> </div> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-rest"> <span class="method-name">rest</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>attr_reader rest: <a href="node.html"><code>Node</code></a>?</p> </div> </div> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">(requireds, optionals, rest, posts, keywords, keyword_rest, block, location)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 13187
def initialize(requireds, optionals, rest, posts, keywords, keyword_rest, block, location)
  @requireds = requireds
  @optionals = optionals
  @rest = rest
  @posts = posts
  @keywords = keywords
  @keyword_rest = keyword_rest
  @block = block
  @location = location
end</pre> </div> <p>def initialize: (requireds: <span>Array</span>, optionals: <span>Array</span>, rest: <a href="node.html"><code>Node</code></a>?, posts: <span>Array</span>, keywords: <span>Array</span>, <a href="parametersnode.html#attribute-i-keyword_rest"><code>keyword_rest</code></a>: <a href="node.html"><code>Node</code></a>?, block: <a href="blockparameternode.html"><code>BlockParameterNode</code></a>?, location: <a href="location.html"><code>Location</code></a>) -&gt; void</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-c-type"> <span class="method-name">type</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="type-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 13300
def self.type
  :parameters_node
end</pre> </div> <p>Similar to <a href="parametersnode.html#method-i-type"><code>type</code></a>, this method returns a symbol that you can use for splitting on the type of the node without having to do a long === chain. Note that like <a href="parametersnode.html#method-i-type"><code>type</code></a>, it will still be slower than using == for a single class, but should be faster in a case statement or an array comparison.</p> <p>def self.type: () -&gt; <a href="../symbol.html"><code>Symbol</code></a></p>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-accept"> <span class="method-name">accept</span><span class="method-args">(visitor)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="accept-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 13199
def accept(visitor)
  visitor.visit_parameters_node(self)
end</pre> </div> <p>def accept: (visitor: <a href="visitor.html"><code>Visitor</code></a>) -&gt; void</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-child_nodes"> <span class="method-name">child_nodes</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="child_nodes-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 13204
def child_nodes
  [*requireds, *optionals, rest, *posts, *keywords, keyword_rest, block]
end</pre> </div> <p>def <a href="parametersnode.html#method-i-child_nodes"><code>child_nodes</code></a>: () -&gt; Array[nil | Node]</p>  </div> <div class="aliases"> Also aliased as: <a href="parametersnode.html#method-i-deconstruct">deconstruct</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-comment_targets"> <span class="method-name">comment_targets</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="comment_targets-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 13222
def comment_targets
  [*requireds, *optionals, *rest, *posts, *keywords, *keyword_rest, *block]
end</pre> </div> <p>def <a href="parametersnode.html#method-i-comment_targets"><code>comment_targets</code></a>: () -&gt; Array[Node | Location]</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-compact_child_nodes"> <span class="method-name">compact_child_nodes</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="compact_child_nodes-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 13209
def compact_child_nodes
  compact = []
  compact.concat(requireds)
  compact.concat(optionals)
  compact &lt;&lt; rest if rest
  compact.concat(posts)
  compact.concat(keywords)
  compact &lt;&lt; keyword_rest if keyword_rest
  compact &lt;&lt; block if block
  compact
end</pre> </div> <p>def <a href="parametersnode.html#method-i-compact_child_nodes"><code>compact_child_nodes</code></a>: () -&gt; <span>Array</span></p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-copy"> <span class="method-name">copy</span><span class="method-args">(**params)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="copy-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 13227
def copy(**params)
  ParametersNode.new(
    params.fetch(:requireds) { requireds },
    params.fetch(:optionals) { optionals },
    params.fetch(:rest) { rest },
    params.fetch(:posts) { posts },
    params.fetch(:keywords) { keywords },
    params.fetch(:keyword_rest) { keyword_rest },
    params.fetch(:block) { block },
    params.fetch(:location) { location },
  )
end</pre> </div> <p>def copy: (**params) -&gt; <a href="parametersnode.html"><code>ParametersNode</code></a></p>  </div> </div> <div class="method-detail method-alias"> <div class="method-header"> <div class="method-heading" id="method-i-deconstruct"> <span class="method-name">deconstruct</span><span class="method-args">()</span> </div> </div> <div class="method-description"> <p>def deconstruct: () -&gt; Array[nil | Node]</p> </div> <div class="aliases"> Alias for: <a href="parametersnode.html#method-i-child_nodes">child_nodes</a> </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-deconstruct_keys"> <span class="method-name">deconstruct_keys</span><span class="method-args">(keys)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="deconstruct_keys-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 13244
def deconstruct_keys(keys)
  { requireds: requireds, optionals: optionals, rest: rest, posts: posts, keywords: keywords, keyword_rest: keyword_rest, block: block, location: location }
end</pre> </div> <p>def <a href="parametersnode.html#method-i-deconstruct_keys"><code>deconstruct_keys</code></a>: (keys: <span>Array</span>) -&gt; Hash[Symbol, nil | <a href="node.html"><code>Node</code></a> | <span>Array</span> | <a href="../string.html"><code>String</code></a> | <a href="token.html"><code>Token</code></a> | <span>Array</span> | Location]</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-inspect"> <span class="method-name">inspect</span><span class="method-args">(inspector = NodeInspector.new)</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="inspect-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 13249
def inspect(inspector = NodeInspector.new)
  inspector &lt;&lt; inspector.header(self)
  inspector &lt;&lt; "├── requireds: #{inspector.list("#{inspector.prefix}│   ", requireds)}"
  inspector &lt;&lt; "├── optionals: #{inspector.list("#{inspector.prefix}│   ", optionals)}"
  if (rest = self.rest).nil?
    inspector &lt;&lt; "├── rest: ∅\n"
  else
    inspector &lt;&lt; "├── rest:\n"
    inspector &lt;&lt; rest.inspect(inspector.child_inspector("│   ")).delete_prefix(inspector.prefix)
  end
  inspector &lt;&lt; "├── posts: #{inspector.list("#{inspector.prefix}│   ", posts)}"
  inspector &lt;&lt; "├── keywords: #{inspector.list("#{inspector.prefix}│   ", keywords)}"
  if (keyword_rest = self.keyword_rest).nil?
    inspector &lt;&lt; "├── keyword_rest: ∅\n"
  else
    inspector &lt;&lt; "├── keyword_rest:\n"
    inspector &lt;&lt; keyword_rest.inspect(inspector.child_inspector("│   ")).delete_prefix(inspector.prefix)
  end
  if (block = self.block).nil?
    inspector &lt;&lt; "└── block: ∅\n"
  else
    inspector &lt;&lt; "└── block:\n"
    inspector &lt;&lt; block.inspect(inspector.child_inspector("    ")).delete_prefix(inspector.prefix)
  end
  inspector.to_str
end</pre> </div> <p>def inspect(inspector: NodeInspector) -&gt; <a href="../string.html"><code>String</code></a></p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-signature"> <span class="method-name">signature</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="signature-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node_ext.rb, line 149
def signature
  names = []

  requireds.each do |param|
    names &lt;&lt; (param.is_a?(MultiTargetNode) ? [:req] : [:req, param.name])
  end

  optionals.each { |param| names &lt;&lt; [:opt, param.name] }
  names &lt;&lt; [:rest, rest.name || :*] if rest

  posts.each do |param|
    names &lt;&lt; (param.is_a?(MultiTargetNode) ? [:req] : [:req, param.name])
  end

  # Regardless of the order in which the keywords were defined, the required
  # keywords always come first followed by the optional keywords.
  keyopt = []
  keywords.each do |param|
    if param.is_a?(OptionalKeywordParameterNode)
      keyopt &lt;&lt; param
    else
      names &lt;&lt; [:keyreq, param.name]
    end
  end

  keyopt.each { |param| names &lt;&lt; [:key, param.name] }

  case keyword_rest
  when ForwardingParameterNode
    names.concat([[:rest, :*], [:keyrest, :**], [:block, :&amp;]])
  when KeywordRestParameterNode
    names &lt;&lt; [:keyrest, keyword_rest.name || :**]
  when NoKeywordsParameterNode
    names &lt;&lt; [:nokey]
  end

  names &lt;&lt; [:block, block.name || :&amp;] if block
  names
end</pre> </div> <p>Mirrors the <a href="../method.html#method-i-parameters"><code>Method#parameters</code></a> method.</p>  </div> </div> <div class="method-detail "> <div class="method-header"> <div class="method-heading" id="method-i-type"> <span class="method-name">type</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> </div> <div class="method-description">
<div class="method-source-code" id="type-source"> <pre class="ruby" data-language="ruby"># File lib/prism/node.rb, line 13290
def type
  :parameters_node
end</pre> </div> <p>Sometimes you want to check an instance of a node against a list of classes to see what kind of behavior to perform. Usually this is done by calling ‘[cls1, cls2].include?(node.class)` or putting the node into a case statement and doing `case node; when cls1; when cls2; end`. Both of these approaches are relatively slow because of the constant lookups, method calls, and/or array allocations.</p> <p>Instead, you can call <a href="parametersnode.html#method-i-type"><code>type</code></a>, which will return to you a symbol that you can use for comparison. This is faster than the other approaches because it uses a single integer comparison, but also because if you’re on CRuby you can take advantage of the fact that case statements with all symbol keys will use a jump table.</p> <p>def type: () -&gt; <a href="../symbol.html"><code>Symbol</code></a></p>  </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    Ruby Core &copy; 1993&ndash;2022 Yukihiro Matsumoto<br>Licensed under the Ruby License.<br>Ruby Standard Library &copy; contributors<br>Licensed under their own licenses.<br>
    
  </p>
</div>
