<h1>Encode::GSM0338</h1>   <h2><a id="toc">CONTENTS</a></h2> <ul> <li> <a class="text-decoration-none" href="#NAME">NAME</a> </li> <li> <a class="text-decoration-none" href="#SYNOPSIS">SYNOPSIS</a> </li> <li> <a class="text-decoration-none" href="#DESCRIPTION">DESCRIPTION</a> <ul> <li> <a class="text-decoration-none" href="#Septets">Septets</a> </li> </ul> </li> <li> <a class="text-decoration-none" href="#BUGS">BUGS</a> </li> <li> <a class="text-decoration-none" href="#SEE-ALSO">SEE ALSO</a> </li> </ul> <h2 id="NAME">NAME</h2> <p>Encode::GSM0338 -- ETSI GSM 03.38 Encoding</p> <h2 id="SYNOPSIS">SYNOPSIS</h2> <pre data-language="perl"><code>use Encode qw/encode decode/;
$gsm0338 = encode("gsm0338", $unicode); # loads Encode::GSM0338 implicitly
$unicode = decode("gsm0338", $gsm0338); # ditto</code></pre> <h2 id="DESCRIPTION">DESCRIPTION</h2> <p>GSM0338 is for GSM handsets. Though it shares alphanumerals with ASCII, control character ranges and other parts are mapped very differently, mainly to store Greek characters. There are also escape sequences (starting with 0x1B) to cover e.g. the Euro sign.</p> <p>This was once handled by <a href="Encode::Bytes.html">Encode::Bytes</a> but because of all those unusual specifications, Encode 2.20 has relocated the support to this module.</p> <p>This module implements only <i>GSM 7 bit Default Alphabet</i> and <i>GSM 7 bit default alphabet extension table</i> according to standard 3GPP TS 23.038 version 16. Therefore <i>National Language Single Shift</i> and <i>National Language Locking Shift</i> are not implemented nor supported.</p> <h3 id="Septets">Septets</h3> <p>This modules operates with octets (like any other Encode module) and not with packed septets (unlike other GSM standards). Therefore for processing binary SMS or parts of GSM TPDU payload (3GPP TS 23.040) it is needed to do conversion between octets and packed septets. For this purpose perl's <code>pack</code> and <code>unpack</code> functions may be useful:</p> <pre data-language="perl"><code>$bytes = substr(pack('(b*)*', unpack '(A7)*', unpack 'b*', $septets), 0, $num_of_septets);
$unicode = decode('GSM0338', $bytes);

$bytes = encode('GSM0338', $unicode);
$septets = pack 'b*', join '', map { substr $_, 0, 7 } unpack '(A8)*', unpack 'b*', $bytes;
$num_of_septets = length $bytes;</code></pre> <p>Please note that for correct decoding of packed septets it is required to know number of septets packed in binary buffer as binary buffer is always padded with zero bits and 7 zero bits represents character <code>@</code>. Number of septets is also stored in TPDU payload when dealing with 3GPP TS 23.040.</p> <h2 id="BUGS">BUGS</h2> <p>Encode::GSM0338 2.7 and older versions (part of Encode 3.06) incorrectly handled zero bytes (character <code>@</code>). This was fixed in Encode::GSM0338 version 2.8 (part of Encode 3.07).</p> <h2 id="SEE-ALSO">
SEE ALSO</h2> <p><a href="https://www.3gpp.org/dynareport/23038.htm">3GPP TS 23.038</a></p> <p><a href="https://www.etsi.org/deliver/etsi_ts/123000_123099/123038/16.00.00_60/ts_123038v160000p.pdf">ETSI TS 123 038 V16.0.0 (2020-07)</a></p> <p><a href="encode.html">Encode</a></p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993&ndash;2023 Larry Wall and others<br>Licensed under the GNU General Public License version 1 or later, or the Artistic License.<br>The Perl logo is a trademark of the Perl Foundation.<br>
    <a href="https://perldoc.perl.org/5.38.0/Encode::GSM0338" class="_attribution-link">https://perldoc.perl.org/5.38.0/Encode::GSM0338</a>
  </p>
</div>
