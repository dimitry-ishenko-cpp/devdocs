<h1>Test2::Event::V2</h1>   <h2><a id="toc">CONTENTS</a></h2> <ul> <li> <a class="text-decoration-none" href="#NAME">NAME</a> </li> <li> <a class="text-decoration-none" href="#DESCRIPTION">DESCRIPTION</a> </li> <li> <a class="text-decoration-none" href="#SYNOPSIS">SYNOPSIS</a> <ul> <li> <a class="text-decoration-none" href="#USING-A-CONTEXT">USING A CONTEXT</a> </li> <li> <a class="text-decoration-none" href="#USING-THE-CONSTRUCTOR">USING THE CONSTRUCTOR</a> </li> </ul> </li> <li> <a class="text-decoration-none" href="#METHODS">METHODS</a> <ul> <li> <a class="text-decoration-none" href="#MUTATION">MUTATION</a> </li> <li> <a class="text-decoration-none" href="#LEGACY-SUPPORT-METHODS">LEGACY SUPPORT METHODS</a> </li> </ul> </li> <li> <a class="text-decoration-none" href="#THIRD-PARTY-META-DATA">THIRD PARTY META-DATA</a> </li> <li> <a class="text-decoration-none" href="#SOURCE">SOURCE</a> </li> <li> <a class="text-decoration-none" href="#MAINTAINERS">MAINTAINERS</a> </li> <li> <a class="text-decoration-none" href="#AUTHORS">AUTHORS</a> </li> <li> <a class="text-decoration-none" href="#COPYRIGHT">COPYRIGHT</a> </li> </ul> <h2 id="NAME">NAME</h2> <p>Test2::Event::V2 - Second generation event.</p> <h2 id="DESCRIPTION">DESCRIPTION</h2> <p>This is the event type that should be used instead of <a href="Test2::Event.html">Test2::Event</a> or its legacy subclasses.</p> <h2 id="SYNOPSIS">SYNOPSIS</h2> <h3 id="USING-A-CONTEXT">
USING A CONTEXT</h3> <pre data-language="perl"><code>use Test2::API qw/context/;

sub my_tool {
    my $ctx = context();

    my $event = $ctx-&gt;send_ev2(info =&gt; [{tag =&gt; 'NOTE', details =&gt; "This is a note"}]);

    $ctx-&gt;release;

    return $event;
}</code></pre> <h3 id="USING-THE-CONSTRUCTOR">
USING THE CONSTRUCTOR</h3> <pre data-language="perl"><code>use Test2::Event::V2;

my $e = Test2::Event::V2-&gt;new(
    trace =&gt; {frame =&gt; [$PKG, $FILE, $LINE, $SUBNAME]},
    info  =&gt; [{tag =&gt; 'NOTE', details =&gt; "This is a note"}],
);</code></pre> <h2 id="METHODS">METHODS</h2> <p>This class inherits from <a href="Test2::Event.html">Test2::Event</a>.</p> <dl> <dt id="$fd-=-$e-&gt;facet_data()">
$fd = $e-&gt;facet_data()</dt> <dd> <p>This will return a hashref of facet data. Each facet hash will be a shallow copy of the original.</p> </dd> <dt id="$about-=-$e-&gt;about()">
$about = $e-&gt;about()</dt> <dd> <p>This will return the 'about' facet hashref.</p> <p><b>NOTE:</b> This will return the internal hashref, not a copy.</p> </dd> <dt id="$trace-=-$e-&gt;trace()">
$trace = $e-&gt;trace()</dt> <dd> <p>This will return the 'trace' facet, normally blessed (but this is not enforced when the trace is set using <code>set_trace()</code>.</p> <p><b>NOTE:</b> This will return the internal trace, not a copy.</p> </dd> </dl> <h3 id="MUTATION">MUTATION</h3> <dl> <dt id="$e-&gt;add_amnesty({...})">
$e-&gt;add_amnesty({...})</dt> <dd> <p>Inherited from <a href="Test2::Event.html">Test2::Event</a>. This can be used to add 'amnesty' facets to an existing event. Each new item is added to the <b>END</b> of the list.</p> <p><b>NOTE:</b> Items <b>ARE</b> blessed when added.</p> </dd> <dt id="$e-&gt;add_hub({...})">
$e-&gt;add_hub({...})</dt> <dd> <p>Inherited from <a href="Test2::Event.html">Test2::Event</a>. This is used by hubs to stamp events as they pass through. New items are added to the <b>START</b> of the list.</p> <p><b>NOTE:</b> Items <b>ARE NOT</b> blessed when added.</p> </dd> <dt id="$e-&gt;set_uuid($UUID)">
$e-&gt;set_uuid($UUID)</dt> <dd> <p>Inherited from <a href="Test2::Event.html">Test2::Event</a>, overridden to also vivify/mutate the 'about' facet.</p> </dd> <dt id="$e-&gt;set_trace($trace)">
$e-&gt;set_trace($trace)</dt> <dd> <p>Inherited from <a href="Test2::Event.html">Test2::Event</a> which allows you to change the trace.</p> <p><b>Note:</b> This method does not bless/clone the trace for you. Many things will expect the trace to be blessed, so you should probably do that.</p> </dd> </dl> <h3 id="LEGACY-SUPPORT-METHODS">
LEGACY SUPPORT METHODS</h3> <p>These are all imported from <a href="Test2::Util::Facets2Legacy.html">Test2::Util::Facets2Legacy</a>, see that module or <a href="Test2::Event.html">Test2::Event</a> for documentation on what they do.</p> <dl> <dt id="causes_fail">causes_fail</dt>  <dt id="diagnostics">diagnostics</dt>  <dt id="global">global</dt>  <dt id="increments_count">increments_count</dt>  <dt id="no_display">no_display</dt>  <dt id="sets_plan">sets_plan</dt>  <dt id="subtest_id">subtest_id</dt>  <dt id="summary">summary</dt>  <dt id="terminate">terminate</dt>  </dl> <h2 id="THIRD-PARTY-META-DATA">
THIRD PARTY META-DATA</h2> <p>This object consumes <a href="Test2::Util::ExternalMeta.html">Test2::Util::ExternalMeta</a> which provides a consistent way for you to attach meta-data to instances of this class. This is useful for tools, plugins, and other extensions.</p> <h2 id="SOURCE">SOURCE</h2> <p>The source code repository for Test2 can be found at <i>http://github.com/Test-More/test-more/</i>.</p> <h2 id="MAINTAINERS">MAINTAINERS</h2> <dl> <dt id="Chad-Granum">
Chad Granum &lt;exodist@cpan.org&gt;</dt>  </dl> <h2 id="AUTHORS">AUTHORS</h2> <dl> <dt id="Chad-Granum1">
Chad Granum &lt;exodist@cpan.org&gt;</dt>  </dl> <h2 id="COPYRIGHT">COPYRIGHT</h2> <p>Copyright 2020 Chad Granum &lt;exodist@cpan.org&gt;.</p> <p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p> <p>See <i>http://dev.perl.org/licenses/</i></p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 1993&ndash;2023 Larry Wall and others<br>Licensed under the GNU General Public License version 1 or later, or the Artistic License.<br>The Perl logo is a trademark of the Perl Foundation.<br>
    <a href="https://perldoc.perl.org/5.38.0/Test2::Event::V2" class="_attribution-link">https://perldoc.perl.org/5.38.0/Test2::Event::V2</a>
  </p>
</div>
