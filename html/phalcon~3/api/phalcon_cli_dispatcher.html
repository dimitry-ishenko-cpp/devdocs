<h1 id="class-phalcon-cli-dispatcher">Class <strong>Phalcon\Cli\Dispatcher</strong>
</h1> <p><em>extends</em> abstract class <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></p> <p><em>implements</em> <a class="reference internal" href="phalcon_events_eventsawareinterface.html"><em>Phalcon\Events\EventsAwareInterface</em></a>, <a class="reference internal" href="phalcon_di_injectionawareinterface.html"><em>Phalcon\Di\InjectionAwareInterface</em></a>, <a class="reference internal" href="phalcon_dispatcherinterface.html"><em>Phalcon\DispatcherInterface</em></a>, <a class="reference internal" href="phalcon_cli_dispatcherinterface.html"><em>Phalcon\Cli\DispatcherInterface</em></a></p> <p><span class="raw-html"><a href="https://github.com/phalcon/cphalcon/blob/master/phalcon/cli/dispatcher.zep" class="btn btn-default btn-sm">Source on GitHub</a></span></p> <p>Dispatching is the process of taking the command-line arguments, extracting the module name, task name, action name, and optional parameters contained in it, and then instantiating a task and calling an action on it.</p> <pre class="highlight-php" data-language="php">$di = new \Phalcon\Di();

$dispatcher = new \Phalcon\Cli\Dispatcher();

$dispatcher-&gt;setDi($di);

$dispatcher-&gt;setTaskName("posts");
$dispatcher-&gt;setActionName("index");
$dispatcher-&gt;setParams([]);

$handle = $dispatcher-&gt;dispatch();
</pre>  <h2 id="constants">Constants</h2> <h3 id="exception_no_di" class="method-signature">
<em>integer</em> <strong>EXCEPTION_NO_DI</strong>
</h3> <h3 id="exception_cyclic_routing" class="method-signature">
<em>integer</em> <strong>EXCEPTION_CYCLIC_ROUTING</strong>
</h3> <h3 id="exception_handler_not_found" class="method-signature">
<em>integer</em> <strong>EXCEPTION_HANDLER_NOT_FOUND</strong>
</h3> <h3 id="exception_invalid_handler" class="method-signature">
<em>integer</em> <strong>EXCEPTION_INVALID_HANDLER</strong>
</h3> <h3 id="exception_invalid_params" class="method-signature">
<em>integer</em> <strong>EXCEPTION_INVALID_PARAMS</strong>
</h3> <h3 id="exception_action_not_found" class="method-signature">
<em>integer</em> <strong>EXCEPTION_ACTION_NOT_FOUND</strong>
</h3>   <h2 id="methods">Methods</h2> <h3 id="settasksuffix" class="method-signature">public <strong>setTaskSuffix</strong> (<em>mixed</em> $taskSuffix)</h3> <p>Sets the default task suffix</p> <h3 id="setdefaulttask" class="method-signature">public <strong>setDefaultTask</strong> (<em>mixed</em> $taskName)</h3> <p>Sets the default task name</p> <h3 id="settaskname" class="method-signature">public <strong>setTaskName</strong> (<em>mixed</em> $taskName)</h3> <p>Sets the task name to be dispatched</p> <h3 id="gettaskname" class="method-signature">public <strong>getTaskName</strong> ()</h3> <p>Gets last dispatched task name</p> <h3 id="_throwdispatchexception" class="method-signature">protected <strong>_throwDispatchException</strong> (<em>mixed</em> $message, [<em>mixed</em> $exceptionCode])</h3> <p>Throws an internal exception</p> <h3 id="_handleexception" class="method-signature">protected <strong>_handleException</strong> (<a class="reference external" href="http://php.net/manual/en/class.exception.php">Exception</a> $exception)</h3> <p>Handles a user exception</p> <h3 id="getlasttask" class="method-signature">public <strong>getLastTask</strong> ()</h3> <p>Returns the latest dispatched controller</p> <h3 id="getactivetask" class="method-signature">public <strong>getActiveTask</strong> ()</h3> <p>Returns the active task in the dispatcher</p> <h3 id="setoptions" class="method-signature">public <strong>setOptions</strong> (<em>array</em> $options)</h3> <p>Set the options to be dispatched</p> <h3 id="getoptions" class="method-signature">public <strong>getOptions</strong> ()</h3> <p>Get dispatched options</p> <h3 id="callactionmethod" class="method-signature">public <strong>callActionMethod</strong> (<em>mixed</em> $handler, <em>mixed</em> $actionMethod, [<em>array</em> $params])</h3> <p>...</p> <h3 id="setdi" class="method-signature">public <strong>setDI</strong> (<a class="reference internal" href="phalcon_diinterface.html"><em>Phalcon\DiInterface</em></a> $dependencyInjector) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Sets the dependency injector</p> <h3 id="getdi" class="method-signature">public <strong>getDI</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Returns the internal dependency injector</p> <h3 id="seteventsmanager" class="method-signature">public <strong>setEventsManager</strong> (<a class="reference internal" href="phalcon_events_managerinterface.html"><em>Phalcon\Events\ManagerInterface</em></a> $eventsManager) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Sets the events manager</p> <h3 id="geteventsmanager" class="method-signature">public <strong>getEventsManager</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Returns the internal event manager</p> <h3 id="setactionsuffix" class="method-signature">public <strong>setActionSuffix</strong> (<em>mixed</em> $actionSuffix) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Sets the default action suffix</p> <h3 id="getactionsuffix" class="method-signature">public <strong>getActionSuffix</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Gets the default action suffix</p> <h3 id="setmodulename" class="method-signature">public <strong>setModuleName</strong> (<em>mixed</em> $moduleName) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Sets the module where the controller is (only informative)</p> <h3 id="getmodulename" class="method-signature">public <strong>getModuleName</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Gets the module where the controller class is</p> <h3 id="setnamespacename" class="method-signature">public <strong>setNamespaceName</strong> (<em>mixed</em> $namespaceName) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Sets the namespace where the controller class is</p> <h3 id="getnamespacename" class="method-signature">public <strong>getNamespaceName</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Gets a namespace to be prepended to the current handler name</p> <h3 id="setdefaultnamespace" class="method-signature">public <strong>setDefaultNamespace</strong> (<em>mixed</em> $namespaceName) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Sets the default namespace</p> <h3 id="getdefaultnamespace" class="method-signature">public <strong>getDefaultNamespace</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Returns the default namespace</p> <h3 id="setdefaultaction" class="method-signature">public <strong>setDefaultAction</strong> (<em>mixed</em> $actionName) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Sets the default action name</p> <h3 id="setactionname" class="method-signature">public <strong>setActionName</strong> (<em>mixed</em> $actionName) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Sets the action name to be dispatched</p> <h3 id="getactionname" class="method-signature">public <strong>getActionName</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Gets the latest dispatched action name</p> <h3 id="setparams" class="method-signature">public <strong>setParams</strong> (<em>array</em> $params) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Sets action params to be dispatched</p> <h3 id="getparams" class="method-signature">public <strong>getParams</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Gets action params</p> <h3 id="setparam" class="method-signature">public <strong>setParam</strong> (<em>mixed</em> $param, <em>mixed</em> $value) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Set a param by its name or numeric index</p> <h3 id="getparam" class="method-signature">public <em>mixed</em> <strong>getParam</strong> (<em>mixed</em> $param, [<em>string</em> | <em>array</em> $filters], [<em>mixed</em> $defaultValue]) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Gets a param by its name or numeric index</p> <h3 id="hasparam" class="method-signature">public <em>boolean</em> <strong>hasParam</strong> (<em>mixed</em> $param) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Check if a param exists</p> <h3 id="getactivemethod" class="method-signature">public <strong>getActiveMethod</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Returns the current method to be/executed in the dispatcher</p> <h3 id="isfinished" class="method-signature">public <strong>isFinished</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Checks if the dispatch loop is finished or has more pendent controllers/tasks to dispatch</p> <h3 id="setreturnedvalue" class="method-signature">public <strong>setReturnedValue</strong> (<em>mixed</em> $value) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Sets the latest returned value by an action manually</p> <h3 id="getreturnedvalue" class="method-signature">public <em>mixed</em> <strong>getReturnedValue</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Returns value returned by the latest dispatched action</p> <h3 id="setmodelbinding" class="method-signature">public <strong>setModelBinding</strong> (<em>mixed</em> $value, [<em>mixed</em> $cache]) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Enable/Disable model binding during dispatch</p> <pre class="highlight-php" data-language="php">$di-&gt;set('dispatcher', function() {
    $dispatcher = new Dispatcher();

    $dispatcher-&gt;setModelBinding(true, 'cache');
    return $dispatcher;
});
</pre> <h3 id="setmodelbinder" class="method-signature">public <strong>setModelBinder</strong> (<a class="reference internal" href="phalcon_mvc_model_binderinterface.html"><em>Phalcon\Mvc\Model\BinderInterface</em></a> $modelBinder, [<em>mixed</em> $cache]) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Enable model binding during dispatch</p> <pre class="highlight-php" data-language="php">$di-&gt;set('dispatcher', function() {
    $dispatcher = new Dispatcher();

    $dispatcher-&gt;setModelBinder(new Binder(), 'cache');
    return $dispatcher;
});
</pre> <h3 id="getmodelbinder" class="method-signature">public <strong>getModelBinder</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Gets model binder</p> <h3 id="dispatch" class="method-signature">public <em>object</em> <strong>dispatch</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Dispatches a handle action taking into account the routing parameters</p> <h3 id="_dispatch" class="method-signature">protected <em>object</em> <strong>_dispatch</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Dispatches a handle action taking into account the routing parameters</p> <h3 id="forward" class="method-signature">public <strong>forward</strong> (<em>array</em> $forward) <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Forwards the execution flow to another controller/action Dispatchers are unique per module. Forwarding between modules is not allowed</p> <pre class="highlight-php" data-language="php">$this-&gt;dispatcher-&gt;forward(
    [
        "controller" =&gt; "posts",
        "action"     =&gt; "index",
    ]
);
</pre> <h3 id="wasforwarded" class="method-signature">public <strong>wasForwarded</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Check if the current executed action was forwarded by another one</p> <h3 id="gethandlerclass" class="method-signature">public <strong>getHandlerClass</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Possible class name that will be located to dispatch the request</p> <h3 id="getboundmodels" class="method-signature">public <strong>getBoundModels</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Returns bound models from binder instance</p> <pre class="highlight-php" data-language="php">class UserController extends Controller
{
    public function showAction(User $user)
    {
        $boundModels = $this-&gt;dispatcher-&gt;getBoundModels(); // return array with $user
    }
}
</pre> <h3 id="_resolveemptyproperties" class="method-signature">protected <strong>_resolveEmptyProperties</strong> () <small>inherited from <a class="reference internal" href="phalcon_dispatcher.html"><em>Phalcon\Dispatcher</em></a></small>
</h3> <p>Set empty properties to their defaults (where defaults are available)</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2011&ndash;2017 Phalcon Framework Team<br>Licensed under the Creative Commons Attribution License 3.0.<br>
    <a href="https://docs.phalconphp.com/en/latest/api/Phalcon_Cli_Dispatcher.html" class="_attribution-link">https://docs.phalconphp.com/en/latest/api/Phalcon_Cli_Dispatcher.html</a>
  </p>
</div>
