<h1 id="class-phalcon-mvc-model-criteria">Class <strong>Phalcon\Mvc\Model\Criteria</strong>
</h1> <p><em>implements</em> <a class="reference internal" href="phalcon_mvc_model_criteriainterface.html"><em>Phalcon\Mvc\Model\CriteriaInterface</em></a>, <a class="reference internal" href="phalcon_di_injectionawareinterface.html"><em>Phalcon\Di\InjectionAwareInterface</em></a></p> <p><span class="raw-html"><a href="https://github.com/phalcon/cphalcon/blob/master/phalcon/mvc/model/criteria.zep" class="btn btn-default btn-sm">Source on GitHub</a></span></p> <p>This class is used to build the array parameter required by Phalcon\Mvc\Model::find() and Phalcon\Mvc\Model::findFirst() using an object-oriented interface.</p> <pre class="highlight-php" data-language="php">$robots = Robots::query()
    -&gt;where("type = :type:")
    -&gt;andWhere("year &lt; 2000")
    -&gt;bind(["type" =&gt; "mechanical"])
    -&gt;limit(5, 10)
    -&gt;orderBy("name")
    -&gt;execute();
</pre>  <h2 id="methods">Methods</h2> <h3 id="setdi" class="method-signature">public <strong>setDI</strong> (<a class="reference internal" href="phalcon_diinterface.html"><em>Phalcon\DiInterface</em></a> $dependencyInjector)</h3> <p>Sets the DependencyInjector container</p> <h3 id="getdi" class="method-signature">public <strong>getDI</strong> ()</h3> <p>Returns the DependencyInjector container</p> <h3 id="setmodelname" class="method-signature">public <strong>setModelName</strong> (<em>mixed</em> $modelName)</h3> <p>Set a model on which the query will be executed</p> <h3 id="getmodelname" class="method-signature">public <strong>getModelName</strong> ()</h3> <p>Returns an internal model name on which the criteria will be applied</p> <h3 id="bind" class="method-signature">public <strong>bind</strong> (<em>array</em> $bindParams, [<em>mixed</em> $merge])</h3> <p>Sets the bound parameters in the criteria This method replaces all previously set bound parameters</p> <h3 id="bindtypes" class="method-signature">public <strong>bindTypes</strong> (<em>array</em> $bindTypes)</h3> <p>Sets the bind types in the criteria This method replaces all previously set bound parameters</p> <h3 id="distinct" class="method-signature">public <strong>distinct</strong> (<em>mixed</em> $distinct)</h3> <p>Sets SELECT DISTINCT / SELECT ALL flag</p> <h3 id="columns" class="method-signature">public <a class="reference internal" href="phalcon_mvc_model_criteria.html"><em>Phalcon\Mvc\Model\Criteria</em></a> <strong>columns</strong> (<em>string</em> | <em>array</em> $columns)</h3> <p>Sets the columns to be queried</p> <pre class="highlight-php" data-language="php">$criteria-&gt;columns(
    [
        "id",
        "name",
    ]
);
</pre> <h3 id="join" class="method-signature">public <strong>join</strong> (<em>mixed</em> $model, [<em>mixed</em> $conditions], [<em>mixed</em> $alias], [<em>mixed</em> $type])</h3> <p>Adds an INNER join to the query</p> <pre class="highlight-php" data-language="php">$criteria-&gt;join("Robots");
$criteria-&gt;join("Robots", "r.id = RobotsParts.robots_id");
$criteria-&gt;join("Robots", "r.id = RobotsParts.robots_id", "r");
$criteria-&gt;join("Robots", "r.id = RobotsParts.robots_id", "r", "LEFT");
</pre> <h3 id="innerjoin" class="method-signature">public <strong>innerJoin</strong> (<em>mixed</em> $model, [<em>mixed</em> $conditions], [<em>mixed</em> $alias])</h3> <p>Adds an INNER join to the query</p> <pre class="highlight-php" data-language="php">$criteria-&gt;innerJoin("Robots");
$criteria-&gt;innerJoin("Robots", "r.id = RobotsParts.robots_id");
$criteria-&gt;innerJoin("Robots", "r.id = RobotsParts.robots_id", "r");
</pre> <h3 id="leftjoin" class="method-signature">public <strong>leftJoin</strong> (<em>mixed</em> $model, [<em>mixed</em> $conditions], [<em>mixed</em> $alias])</h3> <p>Adds a LEFT join to the query</p> <pre class="highlight-php" data-language="php">$criteria-&gt;leftJoin("Robots", "r.id = RobotsParts.robots_id", "r");
</pre> <h3 id="rightjoin" class="method-signature">public <strong>rightJoin</strong> (<em>mixed</em> $model, [<em>mixed</em> $conditions], [<em>mixed</em> $alias])</h3> <p>Adds a RIGHT join to the query</p> <pre class="highlight-php" data-language="php">$criteria-&gt;rightJoin("Robots", "r.id = RobotsParts.robots_id", "r");
</pre> <h3 id="where" class="method-signature">public <strong>where</strong> (<em>mixed</em> $conditions, [<em>mixed</em> $bindParams], [<em>mixed</em> $bindTypes])</h3> <p>Sets the conditions parameter in the criteria</p> <h3 id="addwhere" class="method-signature">public <strong>addWhere</strong> (<em>mixed</em> $conditions, [<em>mixed</em> $bindParams], [<em>mixed</em> $bindTypes])</h3> <p>Appends a condition to the current conditions using an AND operator (deprecated)</p> <h3 id="andwhere" class="method-signature">public <strong>andWhere</strong> (<em>mixed</em> $conditions, [<em>mixed</em> $bindParams], [<em>mixed</em> $bindTypes])</h3> <p>Appends a condition to the current conditions using an AND operator</p> <h3 id="orwhere" class="method-signature">public <strong>orWhere</strong> (<em>mixed</em> $conditions, [<em>mixed</em> $bindParams], [<em>mixed</em> $bindTypes])</h3> <p>Appends a condition to the current conditions using an OR operator</p> <h3 id="betweenwhere" class="method-signature">public <strong>betweenWhere</strong> (<em>mixed</em> $expr, <em>mixed</em> $minimum, <em>mixed</em> $maximum)</h3> <p>Appends a BETWEEN condition to the current conditions</p> <pre class="highlight-php" data-language="php">$criteria-&gt;betweenWhere("price", 100.25, 200.50);
</pre> <h3 id="notbetweenwhere" class="method-signature">public <strong>notBetweenWhere</strong> (<em>mixed</em> $expr, <em>mixed</em> $minimum, <em>mixed</em> $maximum)</h3> <p>Appends a NOT BETWEEN condition to the current conditions</p> <pre class="highlight-php" data-language="php">$criteria-&gt;notBetweenWhere("price", 100.25, 200.50);
</pre> <h3 id="inwhere" class="method-signature">public <strong>inWhere</strong> (<em>mixed</em> $expr, <em>array</em> $values)</h3> <p>Appends an IN condition to the current conditions</p> <pre class="highlight-php" data-language="php">$criteria-&gt;inWhere("id", [1, 2, 3]);
</pre> <h3 id="notinwhere" class="method-signature">public <strong>notInWhere</strong> (<em>mixed</em> $expr, <em>array</em> $values)</h3> <p>Appends a NOT IN condition to the current conditions</p> <pre class="highlight-php" data-language="php">$criteria-&gt;notInWhere("id", [1, 2, 3]);
</pre> <h3 id="conditions" class="method-signature">public <strong>conditions</strong> (<em>mixed</em> $conditions)</h3> <p>Adds the conditions parameter to the criteria</p> <h3 id="order" class="method-signature">public <strong>order</strong> (<em>mixed</em> $orderColumns)</h3> <p>Adds the order-by parameter to the criteria (deprecated)</p> <h3 id="orderby" class="method-signature">public <strong>orderBy</strong> (<em>mixed</em> $orderColumns)</h3> <p>Adds the order-by clause to the criteria</p> <h3 id="groupby" class="method-signature">public <strong>groupBy</strong> (<em>mixed</em> $group)</h3> <p>Adds the group-by clause to the criteria</p> <h3 id="having" class="method-signature">public <strong>having</strong> (<em>mixed</em> $having)</h3> <p>Adds the having clause to the criteria</p> <h3 id="limit" class="method-signature">public <strong>limit</strong> (<em>mixed</em> $limit, [<em>mixed</em> $offset])</h3> <p>Adds the limit parameter to the criteria.</p> <pre class="highlight-php" data-language="php">$criteria-&gt;limit(100);
$criteria-&gt;limit(100, 200);
$criteria-&gt;limit("100", "200");
</pre> <h3 id="forupdate" class="method-signature">public <strong>forUpdate</strong> ([<em>mixed</em> $forUpdate])</h3> <p>Adds the “for_update” parameter to the criteria</p> <h3 id="sharedlock" class="method-signature">public <strong>sharedLock</strong> ([<em>mixed</em> $sharedLock])</h3> <p>Adds the “shared_lock” parameter to the criteria</p> <h3 id="cache" class="method-signature">public <strong>cache</strong> (<em>array</em> $cache)</h3> <p>Sets the cache options in the criteria This method replaces all previously set cache options</p> <h3 id="getwhere" class="method-signature">public <strong>getWhere</strong> ()</h3> <p>Returns the conditions parameter in the criteria</p> <h3 id="getcolumns" class="method-signature">public <em>string</em> | <em>array</em> | <em>null</em> <strong>getColumns</strong> ()</h3> <p>Returns the columns to be queried</p> <h3 id="getconditions" class="method-signature">public <strong>getConditions</strong> ()</h3> <p>Returns the conditions parameter in the criteria</p> <h3 id="getlimit" class="method-signature">public <em>int</em> | <em>array</em> | <em>null</em> <strong>getLimit</strong> ()</h3> <p>Returns the limit parameter in the criteria, which will be an integer if limit was set without an offset, an array with ‘number’ and ‘offset’ keys if an offset was set with the limit, or null if limit has not been set.</p> <h3 id="getorderby" class="method-signature">public <strong>getOrderBy</strong> ()</h3> <p>Returns the order clause in the criteria</p> <h3 id="getgroupby" class="method-signature">public <strong>getGroupBy</strong> ()</h3> <p>Returns the group clause in the criteria</p> <h3 id="gethaving" class="method-signature">public <strong>getHaving</strong> ()</h3> <p>Returns the having clause in the criteria</p> <h3 id="getparams" class="method-signature">public <em>array</em> <strong>getParams</strong> ()</h3> <p>Returns all the parameters defined in the criteria</p> <h3 id="frominput" class="method-signature">public static <strong>fromInput</strong> (<a class="reference internal" href="phalcon_diinterface.html"><em>Phalcon\DiInterface</em></a> $dependencyInjector, <em>mixed</em> $modelName, <em>array</em> $data, [<em>mixed</em> $operator])</h3> <p>Builds a Phalcon\Mvc\Model\Criteria based on an input array like _POST</p> <h3 id="execute" class="method-signature">public <strong>execute</strong> ()</h3> <p>Executes a find using the parameters built with the criteria</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2011&ndash;2017 Phalcon Framework Team<br>Licensed under the Creative Commons Attribution License 3.0.<br>
    <a href="https://docs.phalconphp.com/en/latest/api/Phalcon_Mvc_Model_Criteria.html" class="_attribution-link">https://docs.phalconphp.com/en/latest/api/Phalcon_Mvc_Model_Criteria.html</a>
  </p>
</div>
