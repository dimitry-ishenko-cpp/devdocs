<h1 id="class-phalcon-db-profiler">Class <strong>Phalcon\Db\Profiler</strong>
</h1> <p><span class="raw-html"><a href="https://github.com/phalcon/cphalcon/blob/master/phalcon/db/profiler.zep" class="btn btn-default btn-sm">Source on GitHub</a></span></p> <p>Instances of Phalcon\Db can generate execution profiles on SQL statements sent to the relational database. Profiled information includes execution time in milliseconds. This helps you to identify bottlenecks in your applications.</p> <pre class="highlight-php" data-language="php">$profiler = new \Phalcon\Db\Profiler();

// Set the connection profiler
$connection-&gt;setProfiler($profiler);

$sql = "SELECT buyer_name, quantity, product_name
FROM buyers LEFT JOIN products ON
buyers.pid=products.id";

// Execute a SQL statement
$connection-&gt;query($sql);

// Get the last profile in the profiler
$profile = $profiler-&gt;getLastProfile();

echo "SQL Statement: ", $profile-&gt;getSQLStatement(), "\n";
echo "Start Time: ", $profile-&gt;getInitialTime(), "\n";
echo "Final Time: ", $profile-&gt;getFinalTime(), "\n";
echo "Total Elapsed Time: ", $profile-&gt;getTotalElapsedSeconds(), "\n";
</pre>  <h2 id="methods">Methods</h2> <h3 id="startprofile" class="method-signature">public <a class="reference internal" href="phalcon_db_profiler.html"><em>Phalcon\Db\Profiler</em></a> <strong>startProfile</strong> (<em>string</em> $sqlStatement, [<em>mixed</em> $sqlVariables], [<em>mixed</em> $sqlBindTypes])</h3> <p>Starts the profile of a SQL sentence</p> <h3 id="stopprofile" class="method-signature">public <strong>stopProfile</strong> ()</h3> <p>Stops the active profile</p> <h3 id="getnumbertotalstatements" class="method-signature">public <strong>getNumberTotalStatements</strong> ()</h3> <p>Returns the total number of SQL statements processed</p> <h3 id="gettotalelapsedseconds" class="method-signature">public <strong>getTotalElapsedSeconds</strong> ()</h3> <p>Returns the total time in seconds spent by the profiles</p> <h3 id="getprofiles" class="method-signature">public <strong>getProfiles</strong> ()</h3> <p>Returns all the processed profiles</p> <h3 id="reset" class="method-signature">public <strong>reset</strong> ()</h3> <p>Resets the profiler, cleaning up all the profiles</p> <h3 id="getlastprofile" class="method-signature">public <strong>getLastProfile</strong> ()</h3> <p>Returns the last profile executed in the profiler</p><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2011&ndash;2017 Phalcon Framework Team<br>Licensed under the Creative Commons Attribution License 3.0.<br>
    <a href="https://docs.phalconphp.com/en/latest/api/Phalcon_Db_Profiler.html" class="_attribution-link">https://docs.phalconphp.com/en/latest/api/Phalcon_Db_Profiler.html</a>
  </p>
</div>
